webpackJsonp__bridge_learn([1],[function(e,t,n){e.exports=n(2056)},,,function(e,t,n){"use strict";var r=n(2);r.dataModel=function(e){return e.propTypeValidator},r.model=function(e){return console.warn("Deprecated: use PropTypes.dataModel() instead of PropTypes.model()"),r.dataModel(e)},r.component=r.oneOfType([r.func,r.string]),e.exports=r},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.sniff=t.FileCard=t.ProgressBar=t.ConstrainFocus=t.Focus=t.ScreenReaderContent=t.AttachmentIcon=t.Button=t.Text=t.getNodeOffsets=t.constants=t.SelectableList=t.NotFound=t.Loader=t.List=t.KeyMapper=t.IESafeIframe=t.Icon=t.FocusDisabler=t.FixedMediaState=void 0;var s=n(1072);Object.defineProperty(t,"FixedMediaState",{enumerable:!0,get:function(){return a(s).default}});var i=n(1073);Object.defineProperty(t,"FocusDisabler",{enumerable:!0,get:function(){return a(i).default}});var o=n(528);Object.defineProperty(t,"Icon",{enumerable:!0,get:function(){return a(o).default}});var l=n(1074);Object.defineProperty(t,"IESafeIframe",{enumerable:!0,get:function(){return a(l).default}});var u=n(529);Object.defineProperty(t,"KeyMapper",{enumerable:!0,get:function(){return a(u).default}});var c=n(530);Object.defineProperty(t,"List",{enumerable:!0,get:function(){return a(c).default}});var d=n(1076);Object.defineProperty(t,"Loader",{enumerable:!0,get:function(){return a(d).default}});var p=n(1077);Object.defineProperty(t,"NotFound",{enumerable:!0,get:function(){return a(p).default}});var f=n(1083);Object.defineProperty(t,"SelectableList",{enumerable:!0,get:function(){return a(f).default}});var m=n(207);Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return a(m).default}});var h=n(1085);Object.defineProperty(t,"getNodeOffsets",{enumerable:!0,get:function(){return a(h).default}});var g=n(1084);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return a(g).default}});var v=n(1069);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return a(v).default}});var _=n(1067);Object.defineProperty(t,"AttachmentIcon",{enumerable:!0,get:function(){return a(_).default}});var y=n(1082);Object.defineProperty(t,"ScreenReaderContent",{enumerable:!0,get:function(){return a(y).default}});var b=n(527);Object.defineProperty(t,"Focus",{enumerable:!0,get:function(){return a(b).default}});var E=n(1070);Object.defineProperty(t,"ConstrainFocus",{enumerable:!0,get:function(){return a(E).default}});var C=n(1081);Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return a(C).default}});var I=n(1071);Object.defineProperty(t,"FileCard",{enumerable:!0,get:function(){return a(I).default}});var T=n(1086),N=r(T),S=n(1088),x=r(S);t.sniff=N,t.utils=x},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return new l(function(n,r){function a(){var t=e[s++];if(t)try{t.run.apply(t,i)}catch(e){r(e)}else n()}var s=0,i=void 0;i=t.concat(a),a()})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return u("object"===("undefined"==typeof e?"undefined":(0,o.default)(e)),'Do not call ajax() with a string for a URL, instead pass an object with a "url" property.'),u(!t||"object"===("undefined"==typeof t?"undefined":(0,o.default)(t)),"The second argument to #ajax() must be an object."),new l(function(r,s){var i=d(e),o=t&&t.yieldObject===!0;u(i.hasOwnProperty("jqXHR"),"Hey, $.ajax seems to not have yielded a 'jqXHR' property which we expect our ajax adapter to do. If you've been doing work on $.ajax you probably need to re-adjust utils/ajax.js as well.");var l=i.jqXHR;a(n,[e,l]).then(function(){i.then(function(e){r(o?e:e.payload)},s)})})}var i=n(46),o=r(i),l=n(25),u=n(41),c=n(178),d=(n(895),void 0);s.use=function(){function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,n,t)}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=c(t),t.forEach(function(t){u(t.run instanceof Function,"An ajax middleware must define a #run function."),t.exports&&Object.keys(t.exports).forEach(function(n){e[n]=t.exports[n].bind(t)})}),e.use=function(e){return s.use(t.concat(e))},e};var p=[];e.exports=s.use(p),e.exports.__setAdapter__=function(e){d=e}},function(e,t,n){"use strict";function r(e){function t(t){return e.parse?e.parse(i,t):i(t)}function n(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return r.apply(null,n).then(t)}var r=e.perform||a(e),i=s,o=void 0;return"*"!==e.skipNormalize&&null!==e.schema&&(i=c.of(e.schema,{excludeKeys:e.skipNormalize})),o=n,o.performWithoutParsing=r,o.parse=t,o}function a(e){u(e.hasOwnProperty("url"),"You must provide a URL for a DataRequest or your own #perform routine.");var t=(e.url.match(/%@/g)||[]).length;return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return u(r.length===t,"You have passed "+r.length+" arguments to generate the URL, "+("while "+t+" were expected.")),i({type:e.type||"GET",cache:e.cache!==!1,url:l(o,e.url).apply(null,r)})}}function s(){return null}var i=n(7),o=n(199),l=n(162),u=n(41),c=n(68);e.exports=r},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(686).PropTypes;i.shapeExtend=function(e,t){return i.shape((0,s.default)({},e.$meta.args,t))},t.default=i,e.exports=t.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.constants}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(30),u=r(l),c=n(67),d=r(c),p=o.default.createClass({displayName:"HybridLink",propTypes:{active:s.default.bool,children:s.default.node,className:s.default.string,dataCapybara:s.default.string,params:s.default.array,queryParams:s.default.object,title:s.default.string,ariaLabel:s.default.string,to:s.default.string},statics:{transitionTo:function(e){var t=Array.isArray(e)?e:Array.prototype.slice.call(arguments);return u.default.transitionToViaEmberRouter(t)},replaceWith:function(e){var t=Array.isArray(e)?e:Array.prototype.slice.call(arguments);return u.default.replaceWithViaEmberRouter(t)}},render:function(){var e=this.getPath(),t=this.props,n=t.className,r=t.ariaLabel,a=t.children,s=t.title,i=t.dataCapybara;return e?o.default.createElement(d.default,{href:e,className:n,title:s,ariaLabel:r,children:a,dataCapybara:i}):null},getPath:function(){try{return u.default._generatePathForHybridLink({to:this.props.to,params:this.props.params,query:this.props.queryParams})}catch(e){return console.error("Unable to generate path for HybridLink:",e&&e.stack||e),null}}});t.default=p,e.exports=t.default},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=r.Button,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(166);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.toaster}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.default.isEnabled(e)};var a=n(639),s=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e){return function(t){t&&t[e]&&t[e].call(d)}}function t(){[p,f.API,m,r].forEach(e("initialize"))}function n(){[r,m,f.API,p].forEach(e("clear"))}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{singleton:!0},l=!i||i.singleton!==!1,d={},p=o(),f=s(p.emitChange),m=a(p.emitChange,r);return u(d,p,f.API,r,{initialize:t,reset:function(){f.API.clear.call(d)},clear:l?c(t,n):n}),d.get||(d.get=function(){return console.warn("Deprecated: Store#get() is no longer automatically exposed. You must\n        manually define this API from now on if you need it.\n      "),m.get.apply(m,arguments)}),Object.defineProperty(d,"cache",{configurable:!1,enumerable:!0,writable:!1,value:m}),Object.defineProperty(d,"state",{configurable:!1,enumerable:!0,writable:!1,value:f.container}),l&&t(),d}function a(e,t){var n=t.storeOptions||{};return n.getDefaultCache?n.getDefaultCache(e):i(e,u({schema:t.schema,displayName:t.displayName},n.defaultCacheOptions))}var s=n(820),i=n(95),o=n(96),l=n(4),u=l.assign,c=l.flowRight;r.createClass=function(e){return function(t){var n=r(e,{singleton:!1}),a=function(){return"function"==typeof n.getDefaultProps?n.getDefaultProps():null};return n.props=Object.assign({},a(),t),n.initialize(),n}},e.exports=r},function(e,t,n){"use strict";e.exports=n(326).PropResolverDecorator},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=r.Text,e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=r.ScreenReaderContent,e.exports=t.default},,function(e,t,n){"use strict";var r=n(39),a=r.permitsAction,s=n(127);e.exports=s(function(e,t,n){return a(e,t,n)})},function(e,t,n){"use strict";var r=n(190);e.exports=r},function(e,t,n){"use strict";function r(e,t){function n(t){s(e.indexOf(t)>-1,'You are attempting to retrieve an invalid runtime configuration item "'+t+'". It either does not exist, or you may need to add it to the whitelist.\nSee core/Runtime.js for more info.')}var r={};return r.get=function(e,r){n(a(e));var s=o(t,e);return void 0===s?r:s},r.set=function(e,r){n(a(e)),l(t,e,r)},r.remove=function(e){n(e),t[e]=null},r}function a(e){return e.split(".")[0]}var s=n(41),i=n(4),o=i.get,l=i.set;e.exports=r(["DEPLOY_ENV","LOGIN_URL","TOKEN","FEATURES","ACCOUNT","DOMAIN","PANDA_PUSH_CONFIG","CURRENT_REVISION","LATEST_REVISION","YOUTUBE_API_KEY","GOOGLE_FONTS_API_KEY","PREVENT_PREMATURE_I18N_LOOKUPS","R2B_HOST","AUTHMONGER_URL","LEARN_URL","PERFORM_URL","CAREER_URL"],window),e.exports.constructor=r},,function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.instanceOf,o=r.shape,l=r.oneOfType;e.exports=o({id:a.isRequired,contentType:a,contextId:a,downloadUrl:a,fileModifiedAt:l([a,i(Date)]),learnerVisible:s,location:a,availability:a,media:n(843),name:a,notoriousId:a,userId:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t){return t&&t.links&&t.links.user?(e.state.session.assumeIdentity({user:t.links.user}),t):window.location.reload(!0)}}function s(e){return q.indexOf(e.targetName)===-1}var i=n(7),o=r(i),l=n(21),u=r(l),c=n(305),d=r(c),p=n(25),f=r(p),m=n(109),h=r(m),g=n(149),v=r(g),_=n(39),y=r(_),b=n(657),E=n(229),C=r(E),I=n(165),T=n(29),N=r(T),S=n(4),x=n(31),A=r(x),k=n(1060),w=n(20),R=r(w),O=n(30),P=r(O),L=n(99),M=n(136),D="/auth/sign_out",U="/auth/reissue",F="/login",q=["login","signed-out","error","forgot_password","terms-and-conditions","react.reset_password","react.user_setup","no_user"],B=["^/$","^/login$","^/signed-out$","^/error$","^/forgot-password$","^/terms-and-conditions$","^/reset-password/.+$","^/user-setup/.+$","^/no_user$"].map(function(e){return new RegExp(e)}),j=(0,u.default)({displayName:"AuthStore",schema:n(844),getLoginUrl:function(){return(0,R.default)("learn_authmonger_basic")&&A.default.get("DOMAIN.auth")===L.AUTH_TYPE_OAUTH?"/auth/oauth2/basic":"/auth/basic/callback"},getInitialState:function(){var e=this;return{session:(0,k.Session)({loginUrl:this.getLoginUrl(),reissueUrl:U,logoutUrl:D,onEmptyReissuingResponse:function(){return e._reloadPage()},referralRouteBlacklist:["/__index__","login","/login","logout","/logout","react.auth_visit","/auth/visit","react.reset_password","/reset-password/:token","auth_callback","/auth/:provider/callback","error","/error","not-found","/*path","download_failed","/download/failed","download_new","/download/new"]}),forgotPasswordLoginId:null}},initialize:function(){var e=this;this._selfSyncWithSession=this._syncWithSession.bind(this),this._selfSyncWithSession(),this._syncProfileStore=function(){var t=e.state.session.toJSON(),n=t.user;n&&v.default.syncCurrentUser(n)},this.state.session.addChangeListener(this._selfSyncWithSession),this.state.session.addChangeListener(this._syncProfileStore)},clear:function(){this.state.session.removeChangeListener(this._selfSyncWithSession),this.state.session.removeChangeListener(this._syncProfileStore),this.state.session.clear()},getBearerTokenUrl:function(){return U},getCurrentUserId:function(){var e=this.state.session.toJSON(),t=e.user;return t&&t.id||null},getCurrentUserProfileData:function(){var e=this.state.session.toJSON(),t=e.user;if(!t)return null;var n={id:t.id,name:t.name,email:t.email,tagline:t.tagline,avatarUrl:t.avatar_url};return(0,R.default)("global_nav")&&(0,S.assign)(n,{theme:t.theme,locale:t.locale,fullName:t.name,managerId:t.manager_id,isApprover:t.is_approver,isManager:t.is_manager,permissions:y.default.getPermissions()}),n},getCurrentSubAccountName:function(){var e=this.state.session.toJSON(),t=e.user;return t&&t.sub_account&&t.sub_account.name||null},getAfterAuthTransition:function(){var e=this.state.session.toJSON(),t=e.lastTransition,n=t,r=n&&(q.indexOf(n[0])>-1||!this.isPathnameProtected(n[0]));return!n||r?[this.getPostAuthRoute()]:n},getPostAuthRoute:function(){return(0,R.default)("global_nav")?this.getAdminRoute():I.Storage.getItem("sidebarAdmin")===!0?this.getAdminRoute():"learner.courses"},getAdminRoute:function(){return(0,N.default)("dashboard_view")?(0,M.productEnabled)("perform")?"perform":"admin.insights":(0,N.default)("sub_account_view")?"admin.sub-accounts":(0,N.default)("course_template_view")?"author.courses":(0,N.default)("user_view")?"author.users":(0,N.default)("account_view")?"support.accounts":(0,N.default)("tag_view")?"admin.tags":"learner.courses"},getPostLogoutRoute:function(){return"login"},getOauthRedirectUrl:function(){return this.state.session.toJSON().oauthRedirectUrl},getRoles:function(){var e=this.state.session.toJSON(),t=e.user;return t&&t.roles||null},isAuthenticated:function(){return this.state.session.toJSON().authenticated},getCustomMasqueradingMessage:function(){if(!this.isMasqueradingInRootAccount()&&this.isMasqueradingInSubAccount()){var e=this.state.session.toJSON(),t=e.user;return I18n.t("We just teleported you to %{subaccount}",{subaccount:t.sub_account.name})}},isMasquerading:function(){return this.isMasqueradingInRootAccount()||this.isMasqueradingInSubAccount()},isMasqueradingInRootAccount:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.is_masquerade||window!==window.parent)},isMasqueradingInSubAccount:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.is_sub_account||window!==window.parent)},isSingleSignOn:function(){return A.default.get("DOMAIN.auth")!==L.AUTH_TYPE_BASIC},shouldRedirectAfterLogout:function(){return[L.AUTH_TYPE_CAS,L.AUTH_TYPE_SAML,L.AUTH_TYPE_LDAP,L.AUTH_TYPE_OAUTH].indexOf(A.default.get("DOMAIN.auth"))>-1},isPublic:function(){return this.state.session.toJSON().untrusted},isRoot:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.is_root)},isSupport:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.is_support)},isSupportUser:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.is_support_user)},isApprover:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.is_approver)},hasAcceptedTAC:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.tac_accepted)},isBridgeRetainOnboardingPending:function(){var e=this.state.session.toJSON(),t=e.user;return!(!t||!t.bridge_retain_onboarding_pending)},updateBridgeRetainOnboardingPending:function(){var e=this;return this.isBridgeRetainOnboardingPending()?(0,o.default)({url:"/api/learner/profile",data:{bridge_retain_onboarding_pending:!1},dataType:"json",method:"PUT"}).then(function(){e._reflectRemoteChangesToUserData({bridge_retain_onboarding_pending:!1}),h.default.clear()}):f.default.resolve()},loginRequest:function(e,t){return this.state.session.login({email:e,password:t})},logout:function(){return this.state.session.clearLastTransitions(),this.shouldRedirectAfterLogout()?(this.state.session.discardIdentity(),this.changeLocation(D),f.default.resolve(!1)):this.state.session.logout().then(function(){return!0})},logoutLatest:function(){return(0,o.default)({url:"/auth/sign_out/latest",type:"POST"}).then(a(this))},reissue:function(){var e=this;return this.state.session.reissue().catch(function(t){return(0,S.get)(t,"responseJSON.session_expired")&&e.getSessionTimeoutRedirectUrl()?(e.changeLocation(e.getSessionTimeoutRedirectUrl()),f.default.reject(!1)):401===t.status?(P.default.transitionTo(F),f.default.reject(!1)):f.default.reject(t||{})})},setPublic:function(e){this.state.session.markUntrusted(e)},saveLastTransition:function(e){this.state.session.saveLastTransition(e)},storeIdentity:function(e,t,n){this.state.session.transition({token:e,user:t,oauthRedirectUrl:n})},getSessionTimeoutRedirectUrl:function(){return A.default.get("DOMAIN.config.session_timeout_redirect_url")},setForgotPasswordLoginId:function(e){this.setState({forgotPasswordLoginId:"string"==typeof e?e:null})},getForgotPasswordLoginId:function(){return this.state.forgotPasswordLoginId},clearForgotPasswordLoginId:function(){this.setState({forgotPasswordLoginId:null})},acceptTermsAndConditions:function(){(0,o.default)({url:"/auth/accept_tac",type:"POST",dataType:"json"}).then(a(this))},becomeUser:function(e){return(0,o.default)({url:"/auth/become/"+e,type:"POST"}).then(a(this))},stopMasquerading:function(){var e=this;I.Storage.clear(function(){return e.getCurrentUserId()});var t=this.logoutLatest();return this.isRoot()&&(t=t.then(function(){e.state.session.discardIdentity(),e.state.session.clearLastTransitions(),window.close()})),t},isTransitionAllowed:function(e){return!s(e)||this.isAuthenticated()},isPathnameProtected:function(e){return!B.some(function(t){return t.test(e)})},changeLocation:function(e){window.location=e},_syncWithSession:function(){var e=this.state.session.toJSON(),t=e.pandaPushConfig,n=e.user;if(d.default.setConfig(t||{}),(0,b.pendoId)(n||void 0),n&&n.sub_account){var r=n.sub_account,a=r.tac_type,s=r.tac_custom_body_markup,i=r.tac_updated_at;A.default.set("DOMAIN.tac_type",a),A.default.set("DOMAIN.tac_custom_body_markup",s),A.default.set("DOMAIN.tac_updated_at",i)}else A.default.set("DOMAIN.tac_type",null),A.default.set("DOMAIN.tac_custom_body_markup",null),A.default.set("DOMAIN.tac_updated_at",null);if(n){var o=A.default.get("ACCOUNT");C.default.setUser({account:o&&o.name,user:JSON.parse(JSON.stringify(n))})}else C.default.setUser(void 0);y.default.__connect__({user:n,modifyUser:this._reflectRemoteChangesToUserData.bind(this)}),this.emitChange()},_reloadPage:function(){window.location.reload(!0)},_reflectRemoteChangesToUserData:function(e){this.state.session.assumeIdentity({user:Object.assign({},this.state.session.toJSON().user,e)})}});e.exports=j},,,function(e,t,n){"use strict";var r=n(388),a=n(381),s=n(629),i=n(12),o=r.createFixedMediaListener,l=function(e){return{contextTypes:{mediaDeviceOverrides:a,mediaListener:s},getInitialState:function(){return this.context.mediaListener?this.mediaListener=this.context.mediaListener:this.context.mediaDeviceOverrides?this.mediaListener=o(e,this.context.mediaDeviceOverrides):this.mediaListener=r(e),{media:this.mediaListener.getState()}},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},this.mediaListener.listen(function(t){e.isMounted()&&e.setState({media:t})})},componentWillUnmount:function(){this.mediaListener.dispose(),this.mediaListener=null,this.isMounted=function(){return!1}}}};l.QUERY_PORTRAIT_MOBILE=i.MEDIA_QUERY_PORTRAIT_MOBILE,l.QUERY_MOBILE=i.MEDIA_QUERY_MOBILE,l.QUERY_DESKTOP=i.MEDIA_QUERY_DESKTOP,l.QUERY_SMALL=i.MEDIA_QUERY_SMALL,l.QUERY_WIDE_ENOUGH_TO_EDIT=i.MEDIA_QUERY_WIDE_ENOUGH_TO_EDIT,l.QUERY_LARGER_THAN_PHONES=i.MEDIA_QUERY_LARGER_THAN_PHONES,e.exports=l},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return!(!p||!p.roles)&&p.roles.some(function(t){return m[t]&&m[t].indexOf(e)>-1})}function s(e){return e&&e.type&&e.id&&"resourcePermissions."+e.type+"."+e.id||void 0}function i(e){if(p&&p.permissions_by_domain){var t=e?p.permissions_by_domain[String(e)]:(0,l.flatten)((0,l.values)(p.permissions_by_domain));return t||[]}return null}function o(){return p&&p.permissions?p.permissions:null}var l=n(4),u=n(96),c=r(u),d=(0,c.default)(),p=void 0,f=void 0;d.__connect__=function(e){var t=e.user,n=e.modifyUser;p=t,f=n,this.emitChange()},d.__getUserFromSession__=function(){return p},d.__nonMutatingUserMerge__=function(e,t){return Object.assign({},{resourcePermissions:(0,l.get)(e,"resourcePermissions")},t)},d.updateNameAndUID=function(e,t){f({name:e,uid:t})},d.updateTagline=function(e){f({tagline:e})},d.updateAvatarURL=function(e){f({avatar_url:e})},d.updateLocale=function(e){f({locale:e})},d.updateTheme=function(e){f({theme:e})},d.updateA11y=function(e){f({a11y:e})},d.getId=function(){return(0,l.get)(p,"id")},d.getName=function(){return(0,l.get)(p,"name")},d.getEmail=function(){return(0,l.get)(p,"email")},d.getAvatarUrl=function(){return(0,l.get)(p,"avatar_url")},d.getLocale=function(){return(0,l.get)(p,"locale")},d.getTagline=function(){return(0,l.get)(p,"tagline")},d.getTheme=function(){return(0,l.get)(p,"theme")},d.getA11y=function(){return(0,l.get)(p,"a11y")},d.getUID=function(){return(0,l.get)(p,"uid")},d.getTimezones=function(){return(0,l.get)(p,"timezones")},d.isSupport=function(){return a("support")},d.isAccountAdmin=function(){return a("account_admin")},d.isAdmin=function(){return a("admin")},d.isAuthor=function(){return a("author")},d.isManager=function(){return a("manager")},d.isItAdmin=function(){return a("it_admin")},d.isAdminOrAccountAdmin=function(){return d.isAdmin()||d.isAccountAdmin()},d.permitsAction=function(e,t,n){return!!p&&d.getPermissions(t,n).indexOf(e)>-1},d.getPermissions=function(e,t){var n=(0,l.get)(p,s(e));return n||i(t)||o()||[]},d.storePermittedActionsForResource=function(e,t){p&&f((0,l.setWith)(p,s(e),t,Object))},d.inheritsSupportPrivileges=function(){return!(!p||!p.is_support)},d.hasAcceptedTAC=function(){return!(!p||!p.tac_accepted_at)},d.getTACLastAcceptedAt=function(){return(0,l.get)(p,"tac_accepted_at")},e.exports=d;var m=Object.freeze({support:["support","account_admin","it_admin","admin","author","manager"],account_admin:["account_admin","it_admin","admin","author","manager"],it_admin:["it_admin","admin","author","manager"],admin:["admin","author","manager"],author:["author"],manager:["manager"]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return l(e)?e.map(function(e){return a(e,t)}):"object"===("undefined"==typeof e?"undefined":(0,i.default)(e))?u(e).reduce(function(n,r){var s=o(r,!0),u=e[r];return t&&t.indexOf(r)>-1?n[r]=u:l(u)||"object"===("undefined"==typeof u?"undefined":(0,i.default)(u))&&null!==u?n[s]=a(u,t):n[s]=u,n},{}):e}var s=n(46),i=r(s),o=n(200),l=Array.isArray,u=Object.keys;e.exports=a},function(e,t,n){"use strict";e.exports=n(49)},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.object,o=r.shape,l=r.arrayOf,u=n(174);e.exports=o({id:a,uid:a,name:a,firstName:a,lastName:a,email:a,avatarUrl:a,deletedAt:a,member:s,pendingMember:s,memberAnother:s,unsubscribed:s,links:i,roles:l(a),subAccount:u,meta:o({canMasquerade:s}),currentSession:o({location:a,startAt:a})})},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(){a=void 0}function n(n,r){var s=[n].concat(r);return t(),l.get(n,r).or(function(){return e.apply(null,s)}).then(function(e){return e&&e.meta&&e.meta.next?(a=e.meta.next,a&&l.fetch(a,r)):a=null,e})}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=void 0,i={},l=new s(e,r.prefetch);return i.findFirstPage=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(void 0,t)},i.hasMorePages=function(){return!!a},i.findNextPage=function(){(0,o.default)(!!a,"There are no more pages to fetch!");for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(a,t)},i.findAllPages=function(e){for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return t(),function t(){return n(a,s).then(function(n){return e&&e(n),a?t(s):n})}()},i.reset=t,i}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;this.perform=e,this.options=t,this.cache={},this.cacheKey=function(e,n){return t.ignoreInconsistentArgs?e:JSON.stringify([e].concat(n))},this.maybeCached=function(e){return{or:function(t){return e||t()}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(41),o=r(i),l={ignoreInconsistentArgs:!1};s.prototype.fetch=function(e,t){var n=[e].concat(t),r=this.cacheKey(e,t);this.cache[r]=this.perform.apply(null,n)},s.prototype.get=function(e,t){var n=this.cacheKey(e,t),r=this.cache[n];return r&&delete this.cache[n],this.maybeCached(r)},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(174),i=r(s),o=n(12),l=r(o),u=n(4),c=n(324),d=n(454),p=r(d),f=[l.default.COURSE_EXTERNAL_STATUS_INAPPLICABLE,l.default.COURSE_EXTERNAL_STATUS_PENDING,l.default.COURSE_EXTERNAL_STATUS_COMPLETED,l.default.COURSE_EXTERNAL_STATUS_FAILED,l.default.COURSE_EXTERNAL_STATUS_ATTACHED,l.default.COURSE_EXTERNAL_STATUS_PUBLISHPENDING];e.exports=(0,a.shape)({id:a.string,title:a.string,description:a.string,courseType:a.string,isArchived:a.bool,isPublished:a.bool,hasUnpublishedChanges:a.bool,externalStatus:(0,a.oneOf)(f),externalStatusMessage:a.string,thirdPartyCourseId:a.string,externalCourseId:a.string,defaultDaysUntilDue:a.number,defaultDueOnDate:a.string,dueDateType:a.string,nextSectionDue:a.string,passingThreshold:a.number,maxQuizAttempts:a.number,continuingEducationCredits:a.number,hasCertificate:a.bool,isLibraryItem:a.bool,openBook:a.bool,enrollmentsCount:a.number,incompleteEnrollmentsCount:a.number,hasSharedEnrollments:a.bool,estimatedTime:a.number,attachmentsCount:a.number,tags:(0,a.arrayOf)(a.string),matchingTags:(0,a.arrayOf)(a.string),expires:a.bool,defaultDaysUntilExpiration:a.number,quizzesCount:a.number,retain:a.bool,autoReEnroll:a.bool,openEnrollment:a.bool,enrollUrl:a.string,reEnrollmentPeriod:a.number,scorm:(0,a.shape)({registrationInstancingOption:(0,a.oneOf)((0,c.getScormRegistrationInstancingOptions)().map(function(e){return e.value})),scoLaunchType:(0,a.oneOf)((0,c.getScormScoLaunchTypes)().map(function(e){return e.value})),scoreRollupMode:(0,a.oneOf)((0,c.getScormScoreRollupModes)().map(function(e){return e.value}))}),subAccount:(0,a.shape)((0,u.assign)({},i.default.object,{sharedWithSubAccount:a.bool})),notVisibleToTarget:a.bool,outsideTargetDomain:a.bool,withinSubaccountScope:a.bool,enrollmentCounts:(0,a.shape)({all:a.number,overdue:a.number,notStarted:a.number,inProgress:a.number,required:a.number,optional:a.number,finished:a.number}),meta:(0,a.shape)({domainId:a.string,subAccountId:a.string,r2bJwt:a.string}),author:(0,a.shape)({id:a.string,uid:a.string,name:a.string,email:a.string,avatarUrl:a.string}),createdAt:a.string,updatedAt:a.string,archivedAt:a.string,showCorrectResponse:a.bool,hasCoverSlide:a.bool,directMessagingEnabled:a.bool,brandingOverride:p.default,maintainBrandingInSubAccount:a.bool})},,,function(e,t,n){"use strict";e.exports=n(1112)},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(6),l=n(5),u=l.Icon,c=n(388),d=n(30),p=n(200),f=n(4),m=f.omit,h=n(2),g=h.string,v=h.any,_=h.bool,y=h.func,b={mediaListener:null,instanceCount:0},E=function(){b.instanceCount++,1===b.instanceCount&&(b.mediaListener=c({mobile:"(max-width: 568px)"}))},C=function(){b.instanceCount--,0===b.instanceCount&&(b.mediaListener.dispose(),b.mediaListener=null)},I={propTypes:{mobileClassNames:g,forceStatic:_},getDefaultProps:function(){return{className:""}},getResponsiveClassName:function(e){var t=b.mediaListener.getState(),n=this.props.forceStatic;return[this.props.className,t.mobile&&!n?this.props.mobileClassNames:"",e||""].join(" ").trim()},getTag:function(e){var t=this.props.forceStatic,n=b.mediaListener.getState().mobile;return n&&!t?"div":e}};t.Table=i.createClass({displayName:"SortableTable",mixins:[I],propTypes:{children:v,forceStatic:_},componentWillMount:function(){E()},componentDidMount:function(){var e=this;b.mediaListener.listen(function(){e.forceUpdate()})},componentWillUnmount:function(){C()},render:function(){var e,t=this.props.forceStatic;return!t&&b.mediaListener.getState().mobile?(e=this.getResponsiveClassName(),i.createElement("div",{className:e},this.props.children)):(e=this.getResponsiveClassName("sortable-table"),i.createElement("table",{className:e},this.props.children))}}),t.Thead=i.createClass({displayName:"Thead",mixins:[I],propTypes:{children:v},render:function(){var e=this.getResponsiveClassName("sortable-table__thead"),t=this.getTag("thead");return i.createElement(t,{className:e},this.props.children)}}),t.Tbody=i.createClass({displayName:"Tbody",mixins:[I],propTypes:{children:v},render:function(){var e=this.getResponsiveClassName("sortable-table__tbody"),t=this.getTag("tbody");return i.createElement(t,{className:e},this.props.children)}}),t.Tr=i.createClass({displayName:"SortableTable.Tr",mixins:[I],propTypes:{children:v,dataCapybara:g,className:g,mobileClassNames:g,forceStatic:_},render:function(){var e=this.props,t=e.dataCapybara,n=e.children,r=this.getResponsiveClassName("sortable-table__tr"),a=this.getTag("tr"),o=m(this.props,["dataCapybara","children","className","mobileClassNames","forceStatic"]);return i.createElement(a,(0,s.default)({className:r,"data-capybara":t},o),n)}}),t.Th=i.createClass({displayName:"Th",mixins:[I],propTypes:{__activeSort:g,sortParam:g,sortable:_,className:g,children:v,onSort:y},getDefaultProps:function(){return{sortable:!0}},getClassname:function(e){var t={"sortable-table__th":!0,"sortable-table__th--sortable":this.props.sortable,"sortable-table__th--active":e.isActive,"sortable-table__th--no-content":!this.props.sortable&&!this.props.children};return t[this.props.className]=!0,this.getResponsiveClassName(o(t))},getSortData:function(){var e=this.props.__activeSort||d.getQueryItem("sort"),t=new RegExp("^-?"+p(this.props.sortParam)+"$"),n=e&&!!e.match(t),r=e&&"-"===e.charAt(0)?"desc":"asc";return{isActive:n,sort:r}},updateSortQueryParam:function(){var e=this.getSortData(),t={},n=p(this.props.sortParam);e.isActive?"asc"===e.sort?t.sort="-"+n:t.sort=n:"desc"===e.sort?t.sort="-"+n:t.sort=n,this.props.onSort?this.props.onSort(t.sort):d.updateQuery(t)},handleClick:function(){this.props.sortable&&this.updateSortQueryParam()},handleKeyPress:function(e){"Enter"!==e.key&&"Space"!==e.key||this.updateSortQueryParam()},renderIcon:function(e){return e.isActive?"asc"===e.sort?i.createElement(u,{className:"gs-half gs-arrow-up"}):i.createElement(u,{className:"gs-half gs-arrow-down"}):null},render:function(){var e=this.props.sortable?"button":"",t=this.props.sortable?"0":"",n=this.getSortData(),r=this.getTag("th");return i.createElement(r,{className:this.getClassname(n),onClick:this.handleClick,onKeyPress:this.handleKeyPress,tabIndex:t},i.createElement("span",{role:e,tabIndex:t,"data-capybara":"th-span"},this.props.children),this.renderIcon(n))}}),t.Td=i.createClass({displayName:"Td",mixins:[I],propTypes:{colSpan:g,className:g,children:v},render:function(){var e=this.getTag("td"),t=this.getResponsiveClassName("sortable-table__td"),n=m(this.props,["mobileClassNames","className","forceStatic"]);
return i.createElement(e,(0,s.default)({},n,{className:t}))}}),t.setupMediaListener=E,t.teardownMediaListener=C},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.number,o=r.oneOf,l=r.arrayOf,u=r.bool,c=n(12),d=c.SMART_GROUP_JOIN_TYPE_UNION,p=c.SMART_GROUP_JOIN_TYPE_INTERSECT;e.exports=a({id:s,domainId:s,name:s,type:s,usersCount:i,messageableCount:i,registeredCount:i,averageScore:i,courseCompletionCount:i,learnerCount:i,parentId:s,joinType:o([d,p]),archivedAt:s,rules:l(a({id:s,customFieldId:s,value:s,predicate:o(["is","is_not"])})),newSmartGroup:u,teamOwnerId:s,teamOwnerName:s,directMessagingEnabled:u,relevance:s})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(6),u=r(l),c=n(5),d=n(66),p=r(d),f=n(30),m=r(f),h=n(114),g=r(h),v=o.default.createClass({displayName:"SearchField",propTypes:{label:s.default.string,placeholderText:s.default.string,ariaLabelText:s.default.string,onChange:s.default.func,onCarriageReturn:s.default.func,urlDriven:s.default.bool,debounceRate:s.default.number,searchTerm:s.default.string,className:s.default.string},getDefaultProps:function(){return{searchTerm:"",onChange:Function.prototype,urlDriven:!0,debounceRate:g.default.isIE()?500:200}},getInitialState:function(){return{focused:!1,searchTerm:this.props.urlDriven&&m.default.getQueryItem("search")||this.props.searchTerm}},getPlaceholderText:function(){return this.state.focused?this.props.placeholderText||I18n.t("Type here to search"):""},getClassName:function(){var e=this.props.className;return(0,u.default)({"search-field":!0,"search-field--focused":this.state.focused,"search-field--no-label":this.shouldHideLabel()},e)},getInputClassName:function(){return(0,u.default)({"search-field__input":!0,"search-field__input--populated":this.isPopulated()})},getSpanClassName:function(){return(0,u.default)({"search-field__label--no-label":this.shouldHideLabel(),"search-field__label":!this.shouldHideLabel()})},isPopulated:function(){return""!==this.state.searchTerm},shouldHideLabel:function(){return this.state.focused||this.isPopulated()},handleKeyDown:function(e){"Escape"===e.key?(e.target.value="",this.handleInputChange(e)):"Enter"===e.key&&this.state.searchTerm&&""!==this.state.searchTerm.replace(/ /g,"")&&this.props.onCarriageReturn&&this.props.onCarriageReturn(this.state.searchTerm)},handleFocus:function(){this.setState({focused:!0})},handleBlur:function(){this.setState({focused:!1})},setSearchTerm:function(e){this.setState({searchTerm:e}),this.debouncedInputChange(e)},componentWillMount:function(){var e=this,t=this.props.debounceRate?p.default:function(e){return e};this.debouncedInputChange=t(function(t){e.props.urlDriven&&m.default.updateQuery({search:t||void 0}),e.props.onChange(t)},this.props.debounceRate),this.handleInputChange=function(t){e.setSearchTerm(t.target.value)}},clearSearchTerm:function(){this.setSearchTerm("")},renderClearButton:function(){return o.default.createElement("span",{onClick:this.clearSearchTerm,className:"search-field__clear"},o.default.createElement(c.Icon,{className:"gs-x margin-l-s gs-3-4"}))},render:function(){return o.default.createElement("label",{onFocus:this.handleFocus,onBlur:this.handleBlur,className:this.getClassName()},o.default.createElement(c.Icon,{className:"gs-search gs-1x padding-r-xs"})," ",o.default.createElement("span",{className:this.getSpanClassName()},this.props.label||I18n.t("Search")),o.default.createElement("input",{"data-capybara":"search-field-input",placeholder:this.getPlaceholderText(),onKeyDown:this.handleKeyDown,onChange:this.handleInputChange,className:this.getInputClassName(),value:this.state.searchTerm,"aria-label":this.props.ariaLabelText}),this.isPopulated()&&this.renderClearButton())}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){e.addEventListener("scroll",t)}function s(e,t){e.removeEventListener("scroll",t)}function i(e){var t=0,n=!1;return function(r){var a=this;t=r.target.scrollTop||window.scrollY||window.pageYOffset,n||requestAnimationFrame(function(){e.call(a,t),n=!1}),n=!0}}function o(e,t,n){var r=e.scrollHeight||document.body.scrollHeight,a=100*parseInt(r/1e4,10),s=r-Math.min((n||d)+a,1e3),i=e.clientHeight||document.body.clientHeight,o=i+t;return o>=s}function l(){var e=document.querySelector(".global-nav__content");return e&&e.parentNode?e.parentNode:window}var u=n(41),c=r(u),d=300,p=function(e){return(0,c.default)(e instanceof Function,"You must define a function that loads the next page of records for InfiniteScroll to work."),{componentDidMount:function(){this.scrollView=l(),a(this.scrollView,this.handleScroll)},componentWillUnmount:function(){s(this.scrollView,this.handleScroll)},componentDidUpdate:function(){a(this.scrollView,this.handleScroll)},handleScroll:i(function(t){o(this.scrollView,t)&&(s(this.scrollView,this.handleScroll),e(this.props,this.state,this))})}};e.exports=p,e.exports.throttleScroll=i,e.exports.shouldTrigger=o},function(e,t,n){"use strict";var r=n(2),a=n(1),s=a.createClass({displayName:"Block",propTypes:{name:r.string.isRequired},render:function(){return null}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(1164),d=r(c),p=n(1165),f=r(p),m=n(28),h=r(m),g=n(4),v=u.default.createClass({displayName:"ToggleSwitch",propTypes:{checked:o.default.bool,defaultChecked:o.default.bool,disabled:o.default.bool,onChange:o.default.func,name:o.default.string,value:o.default.string,id:o.default.string,"aria-labelledby":o.default.string,"aria-label":o.default.string,className:o.default.string,dataCapybara:o.default.string},getInitialState:function(){var e=!1;return"checked"in this.props?e=this.props.checked:"defaultChecked"in this.props&&(e=this.props.defaultChecked),{checked:!!e,hasFocus:!1}},componentWillReceiveProps:function(e){"checked"in e&&this.setState({checked:!!e.checked})},handleClick:function(e){if(this.props.disabled)return void e.preventDefault();var t=this.refs.input;e.target!==t&&(e.preventDefault(),t.focus(),t.checked=!t.checked,this.props.onChange({target:t})),this.setState({checked:t.checked})},handleFocus:function(){this.setState({hasFocus:!0})},handleBlur:function(){this.setState({hasFocus:!1})},render:function(){var e=(0,h.default)("react-toggle","toggle-switch",this.props.className,{"react-toggle--checked":this.state.checked,"toggle-switch--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled}),t=(0,g.assign)({ref:"input",onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"},(0,g.omit)(this.props,["className","checked","defaultChecked","dataCapybara"]));return u.default.createElement("div",{className:e,onClick:this.handleClick,"data-capybara":this.props.dataCapybara},u.default.createElement("div",{className:"react-toggle-track"},u.default.createElement("div",{className:"react-toggle-track-check"},u.default.createElement(d.default,null)),u.default.createElement("div",{className:"react-toggle-track-x"},u.default.createElement(f.default,null))),u.default.createElement("div",{className:"react-toggle-thumb toggle-switch__thumb"}),u.default.createElement("input",(0,s.default)({},t,{checked:this.props.checked||this.props.defaultChecked||!1})))}});e.exports=v},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(174),i=r(s),o=n(113),l=r(o);e.exports=(0,a.shape)({id:a.string,title:a.string,description:a.string,itemCount:a.number,items:(0,a.arrayOf)(l.default),unfinishedLearnersCount:a.number,isPublished:a.bool,isNonLinear:a.bool,isLibraryItem:a.bool,openEnrollment:a.bool,publishable:a.bool,hasUnpublishedChanges:a.bool,subAccount:i.default,estimatedTime:a.number,stepNotifications:a.bool,graphic:n(631),hasCertificate:a.bool,enrollmentCounts:(0,a.shape)({all:a.number,overdue:a.number,notFinished:a.number,finished:a.number}),uuid:a.string,enrollUrl:a.string,hasSharedEnrollments:a.bool,externalId:a.string,hasSharedContent:a.bool,isShared:a.bool,defaultDaysUntilDue:a.number,defaultDueOnDate:a.string,defaultDaysUntilExpiration:a.number,dueDateType:a.string,expires:a.bool,autoReEnroll:a.bool,reEnrollmentPeriod:a.number,directMessagingEnabled:a.bool})},function(e,t){"use strict";e.exports=function(e){return"undefined"==typeof e||null===e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(514);Object.defineProperty(t,"LtiResourceIframe",{enumerable:!0,get:function(){return r(a).default}});var s=n(1039);Object.defineProperty(t,"LtiContentItemView",{enumerable:!0,get:function(){return r(s).default}});var i=n(336);Object.defineProperty(t,"LtiConstants",{enumerable:!0,get:function(){return r(i).default}});var o=n(517);Object.defineProperty(t,"LtiResourceSchema",{enumerable:!0,get:function(){return o.LtiResourceSchema}}),Object.defineProperty(t,"normalizeLtiResource",{enumerable:!0,get:function(){return o.normalizeLtiResource}});var l=n(206);Object.defineProperty(t,"LtiContentItemSchema",{enumerable:!0,get:function(){return r(l).default}});var u=n(1040);Object.defineProperty(t,"LtiContentItemAdminLaunchListSchema",{enumerable:!0,get:function(){return r(u).default}});var c=n(516);Object.defineProperty(t,"LtiContentItemAttributesSchema",{enumerable:!0,get:function(){return r(c).default}});var d=n(515);Object.defineProperty(t,"ltiResourceStatus",{enumerable:!0,get:function(){return r(d).default}})},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(2),i=s.any,o=s.bool,l=s.func,u=s.string,c=s.number,d=r.createClass({displayName:"ComboBoxItem",propTypes:{onClick:l,onMouseEnter:l,index:c,value:u.isRequired,label:u,setFocused:l,setSelected:l,className:u,focused:o,dataCapybara:u,children:i},getDefaultProps:function(){return{dataCapybara:"combo-box-list-item"}},focusItem:function(){this.props.setFocused&&this.props.setFocused(this.props.index)},selectItem:function(e){e.preventDefault(),this.props.setSelected&&this.props.setSelected(this.props.value)},render:function(){var e={"combo-box__list-item":!0,"combo-box__list-item--selected":this.props.focused};return this.props.className&&(e[this.props.className]=!0),r.createElement("li",{className:a(e),role:"option",tabIndex:"-1",onClick:this.props.onClick||this.selectItem,onMouseEnter:this.focusItem,"data-capybara":this.props.dataCapybara},this.props.children||this.props.label)}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?"(^|\\s)":"()",r=(0,f.words)(e,/[^\s]+/g).filter(Boolean).map(function(e){return"("+(0,f.escapeRegExp)((0,p.default)(e))+")"}),a=new RegExp(n+("("+r.join("|")+")"),"ig");return r.length>0?a:null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),i=r(s),o=n(2),l=r(o),u=n(1),c=r(u),d=n(650),p=r(d),f=n(4),m=c.default.createClass({displayName:"HighlightedText",statics:{getHighlightRegExp:a},propTypes:{highlight:l.default.string,text:l.default.string,onlyHighlightWordsStart:l.default.bool},getDefaultProps:function(){return{text:"",highlight:"",onlyHighlightWordsStart:!0}},render:function(){var e=this.props,t=e.onlyHighlightWordsStart,n=e.highlight,r=e.text;if(!n.length||"string"!=typeof r)return c.default.createElement("span",null,r);var s=(0,p.default)(r),o=a(n,t),l=o?s.replace(o,'$1<span class="search-highlight">$2</span>'):s,u=(0,f.omit)(this.props,["highlight","text","onlyHighlightWordsStart"]);return c.default.createElement("span",(0,i.default)({dangerouslySetInnerHTML:{__html:l}},u))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(7),s=r(a),i=n(96),o=r(i),l=n(48),u=n(325),c=r(u),d=n(11),p=r(d),f=n(31),m=r(f),h=n(4),g=n(20),v=r(g),_="/api/admin/domains/self/config",y=new o.default,b=null,E=!1,C=!1,I=!1,T=!1,N=[{ratio:15,class:"brand-logo--double-wide"},{ratio:10,class:"brand-logo--logo-type-scaled"},{ratio:3.18,class:"brand-logo--logo-type"},{ratio:2.39,class:"brand-logo--middle"},{ratio:1.3,class:"brand-logo--horizontal-scaled"},{ratio:0,class:"brand-logo--horizontal"}],S=(0,h.assign)(y,{defaultColor:(0,c.default)(l.BLUE),defaultNavColor:(0,c.default)(l.INDIGO),getName:function(){return m.default.get("DOMAIN.name")},isColorEnabled:function(){var e=this.getBranding(),t=e.color_enabled;return t},isFontEnabled:function(){var e=this.getBranding(),t=e.font;return!!t},getUpdatedAt:function(){var e=this.getBranding(),t=e.updated_at;return t?(0,p.default)(t).format("LL"):null},getLogoUrl:function(e){var t=this.getBranding(),n=t.color_enabled,r=t.primary_logo_url,a=t.reverse_logo_url;return n&&r||e?r:a?a:null},getSigninLogoUrl:function(){var e=this.getBranding(),t=e.primary_logo_url,n=e.reverse_logo_url,r=e.signin;return r?"primary"===r.brand_logo&&t?t:"reverse"===r.brand_logo&&n?n:null:null},getSigninPhotoConfig:function(){var e=this.getBranding(),t=e.signin;return t?{signinPhotoUrl:t.brand_photo_url,signinPhotoOpacity:t.brand_photo_opacity,signinPhotoStyle:t.brand_photo_style}:{signindPhotoUrl:null,signinPhotoOpacity:null,signinPhotoStyle:null}},getSigninBrandLogoSetting:function(){var e=this.getBranding(),t=e.signin;return t&&t.brand_logo?t.brand_logo:null},hasReverseLogo:function(){return null!==this.getBranding().reverse_logo_url},getReverseLogoUrl:function(){return this.getBranding().reverse_logo_url},getHeaderLogoUrl:function(){var e=this.getBranding(),t=e.primary_logo_url,n=e.reverse_logo_url,r=e.header;return r?"primary"===r.brand_logo&&t?t:"reverse"===r.brand_logo&&n?n:null:null},getHeaderBrandLogoSetting:function(){var e=this.getBranding(),t=e.header;return t&&t.brand_logo?t.brand_logo:null},getHeaderCustomText:function(){var e=this.getBranding(),t=e.header;return t&&null!==t.custom_text?t.custom_text:null},getHeaderPhotoConfig:function(){var e=this.getBranding(),t=e.header;return t?{headerPhotoUrl:t.brand_photo_url,headerPhotoOpacity:t.brand_photo_opacity,headerPhotoStyle:t.brand_photo_style}:{headerPhotoUrl:null,headerPhotoOpacity:null,headerPhotoStyle:null}},getHeaderTitleContrast:function(){var e=this.getBranding(),t=e.header;return t?t.title_contrast:null},getColor:function(){var e=this.getBranding(),t=e.primary_color;return t},getNavColor:function(){var e=this.getBranding(),t=e.navigation_color;return t},hasUnpublishedChanges:function(){return!!this.getDraftBranding()||this.isDraftPublishing()},getBranding:function(e){var t=T&&this.getDraftBranding()||this.getPublishedBranding()||{};return t=(0,h.assign)({},t),e!==!1&&(t.primary_color=t.primary_color||"#"+this.defaultColor,t.navigation_color=t.navigation_color||"#"+this.defaultNavColor),t},getPublishedBranding:function(){return(0,v.default)("learn_maintain_course_branding_in_sub")?m.default.get("DOMAIN.config.override_branding")||m.default.get("DOMAIN.config.branding"):m.default.get("DOMAIN.config.branding")},getPublishedColor:function(){var e=this.isColorEnabled()&&this.getPublishedBranding()&&this.getPublishedBranding().primary_color;return(0,c.default)(e)||this.defaultColor},getDraftBranding:function(){return b||m.default.get("DOMAIN.config.draft_branding")},isDraftLoaded:function(){return E},isDraftSaving:function(){return C},isDraftPublishing:function(){return I},getLogoClass:function(e,t){void 0===e&&(e=this.getBranding().color_enabled);var n=t||this.getLogoAspectRatio(e);return n&&(0,h.find)(N,function(e){return n>=e.ratio}).class},getLogoAspectRatio:function(e){var t=this.getBranding(),n=t.primary_logo_width,r=t.primary_logo_height,a=t.reverse_logo_width,s=t.reverse_logo_height;return e&&n&&r?n/r:a&&s?a/s:null},handleLogoLoaded:function(e,t){if(t&&t.target&&t.target.width){var n=t.target,r=n.parentNode;if(r.classList.remove("brand-logo--placeholder"),!this.getLogoAspectRatio(e)){var a=this.getLogoClass(e,n.width/n.height);r.classList.add(a)}}},toggleDraft:function(e){T=e},fetch:function(){var e=this;return(0,s.default)({url:_}).then(function(t){b=t.config.draft_branding,m.default.set("DOMAIN.config.branding",t.config.branding),E=!0,e.emitChange()})},saveDraft:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function.prototype;C=!0,this.emitChange(),b=(0,h.assign)({},this.getBranding(),e),this._save().then(function(){C=!1,t.emitChange(),n()})},saveDraftAndFetch:function(e){this.saveDraft(e,this.fetch.bind(this))},publishDraft:function(){var e=this;I=!0,this.emitChange(),m.default.set("DOMAIN.config.branding",this.getDraftBranding()),m.default.set("DOMAIN.config.draft_branding",null),b=null,this._save().then(function(){I=!1,e.emitChange()})},_save:function(){return(0,s.default)({url:_,method:"PUT",data:JSON.stringify({config:{branding:m.default.get("DOMAIN",{}).config.branding,draft_branding:b}}),contentType:"application/json"})},resetAll:function(){b=null,E=!1,C=!1,I=!1,T=!1}});e.exports=S},,function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(6),i=n(60),o=n(18),l=n(5),u=l.Icon,c=n(12),d=c.KC_TAB,p=c.KC_RETURN,f=c.KC_ESCAPE,m=c.KC_UP,h=c.KC_DOWN,g=n(2),v=g.func,_=g.string,y=g.any,b=0,E=r.createClass({displayName:"ComboBox",propTypes:{onChange:v,onSelect:v,buttonLabel:_,selectedValue:_,className:_,id:_,dataCapybara:_,label:_,labelElement:y,children:y},getDefaultProps:function(){return{dataCapybara:"combo_box"}},getInitialState:function(){return{isOpen:!1,keepFocus:!1,focusedIndex:null}},componentWillMount:function(){this.uniqueElementId=b++},componentDidMount:function(){this.domChanged()},componentDidUpdate:function(){this.domChanged()},domChanged:function(){this.state.keepFocus&&(this.refs.box.focus(),this.setState({keepFocus:!1})),this.state.isOpen?document.body.addEventListener("click",this.maybeOuterClick):document.body.removeEventListener("click",this.maybeOuterClick)},componentWillUnmount:function(){document.body.removeEventListener("click",this.maybeOuterClick)},toggleOpen:function(){this.setState({isOpen:!this.state.isOpen,keepFocus:!0}),this.focusSelected()},maybeOuterClick:function(e){a.findDOMNode(this).contains(e.target)||this.close(!1)},close:function(e){e!==!1&&(e=!0),this.setState({isOpen:!1,keepFocus:e}),this.focusSelected()},focusSelected:function(){var e=this.getSelectedIndex();e<0&&(e=0),this.setFocused(e)},getIndexOf:function(e){for(var t=this.items(),n=0;n<t.length;n++)if(t[n].props.value===e)return n},getValueAt:function(e){if(!this.items()[e])throw new Error("Index "+e+" is out of range.");return this.items()[e].props.value},getSelectedIndex:function(){return"undefined"==typeof this.props.selectedValue?-1:this.getIndexOf(this.props.selectedValue)},getSelectedItem:function(){return this.items()[this.getSelectedIndex()]},getLabel:function(){var e=this.getSelectedItem(),t=this.state.isOpen,n=this.props.label;if(t){if(n)return n;if(e)return e.props.label}else{if(e)return e.props.label;if(n)return n}var r=this.items()[0];return r&&r.props.label},setSelected:function(e){var t=this;this.setState({isOpen:!1,keepFocus:!0},function(){return t.props.onChange(e)})},setFocused:function(e){this.setState({focusedIndex:e}),this.props.onSelect&&this.props.onSelect(this.getValueAt(e))},selectFocused:function(){this.setSelected(this.getValueAt(this.state.focusedIndex))},items:function e(){var e=[];return r.Children.forEach(this.props.children,function(t){t.type===i&&e.push(t)}),e},focusNext:function(){var e=this.items().length,t=(this.state.focusedIndex+1)%e;this.setFocused(t)},focusPrevious:function(){var e=this.items().length,t=(e+this.state.focusedIndex-1)%e;this.setFocused(t)},keyDown:function(e){switch([m,h,p].indexOf(e.keyCode)!==-1&&e.preventDefault(),e.keyCode){case m:this.state.isOpen&&this.focusPrevious();break;case h:this.state.isOpen&&this.focusNext();break;case p:this.state.isOpen?this.selectFocused():this.toggleOpen();break;case f:this.close();break;case d:this.close(!1)}},renderChildren:function(){var e=this;return r.Children.map(this.props.children,function(t,n){return t.type===i?r.cloneElement(t,{index:n,setSelected:e.setSelected,setFocused:e.setFocused,focused:n===e.state.focusedIndex,key:t.key}):t})},render:function(){var e=s(this.props.className,{"combo-box":!0,"combo-box--open":this.state.isOpen}),t=s({"combo-box__list":!0,unstyled:!0,hidden:!this.state.isOpen}),n=this.props.id||"combo-box-"+this.uniqueElementId,a=n+"-list",i=n+"-label";return r.createElement("div",{id:n,className:e,onClick:this.toggleOpen,onKeyDown:this.keyDown,"data-capybara":this.props.dataCapybara},r.createElement("div",{ref:"box",tabIndex:"0",role:"combobox",className:"combo-box__box","aria-autocomplete":"none","aria-labelledby":i,"aria-expanded":this.state.isOpen,"aria-owns":a,"data-capybara":this.getLabel()},this.props.labelElement||r.createElement("span",null,r.createElement("span",{id:i,className:"combo-box__label","aria-hidden":"true"},this.getLabel()),r.createElement(u,{className:"gs-arrow-down gs-half combo-box__icon"}))),r.createElement(o,{tabIndex:"-1",className:"screenreader-only","aria-controls":a},this.props.buttonLabel||I18n.t("Open Combobox")),r.createElement("ul",{role:"listbox",tabIndex:"-1",id:a,className:t,"data-capybara":this.props.dataCapybara+"-list"},this.renderChildren()))}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?"blank":"404";return e?"https://secure.gravatar.com/avatar/"+(0,p.default)(e)+".png?s="+t+"&d="+r+"&r=g":null}var s=n(1),i=r(s),o=n(319),l=r(o),u=n(267),c=r(u),d=n(536),p=r(d),f=n(28),m=r(f),h=n(4),g=n(2),v={large:100,medium:80,small:48,"user-header":200},_=32,y=new RegExp(Object.keys(v).join("|")),b=function(e,t,n,r){return e?e:a(t,n,r)},E=i.default.createClass({displayName:"UserAvatar",propTypes:{id:(0,g.oneOfType)([g.string,g.number]).isRequired,name:g.string,email:g.string,avatarUrl:g.string,className:g.string,children:g.node},getDefaultProps:function(){return{name:"",email:"",avatarUrl:"",className:""}},getInitialState:function(){return{hasUploadedImage:!1,hasGravatarImage:!1,firstLoad:!0}},componentWillUpdate:function(e){var t=this.props.avatarUrl!==e.avatarUrl;t&&this.setState({hasGravatarImage:!1,hasUploadedImage:e.avatarUrl&&e.avatarUrl.length>0,firstLoad:!0}),e.avatarUrl&&this.setState({hasUploadedImage:!0})},shouldComponentUpdate:function(e,t){var n=this.state.firstLoad!==t.firstLoad;return n||!(0,h.isEqual)(this.props,e)},renderAvatar:function(){var e=b(this.props.avatarUrl,this.props.email,this.gravatarUrlSize(),!1);return(e||"").length&&(this.state.hasUploadedImage||this.state.hasGravatarImage||this.state.firstLoad)?i.default.createElement("div",{className:"avatar__img-wrapper","aria-hidden":"true"},i.default.createElement("img",{className:"avatar__img",alt:I18n.t("Profile Picture"),src:e,onLoad:this.imageLoaded,onError:this.imageLoaded}),this.props.children):this.props.children},renderInitials:function(){return i.default.createElement("span",{className:"avatar__name",children:(0,l.default)(this.props.name)})},render:function(){var e=this.state.hasGravatarImage||this.state.hasUploadedImage,t=(0,m.default)("avatar--user "+this.props.className,{"avatar--has-image":e}),n=e?[this.renderAvatar()]:[this.renderInitials(),this.renderAvatar()];return i.default.createElement(c.default,{id:this.props.id,"aria-hidden":!0,className:t,classPool:e?[]:["nikki-sixx","dee-snider","david-lee-roth","axl-rose"],children:n})},gravatarUrlSize:function(){var e=this.props.className.match(y);return v[[].concat(e)[0]]||_},imageLoaded:function(e){this.state.hasUploadedImage||(this.state.firstLoad&&"error"!==e.type?this.setState({firstLoad:!1,hasGravatarImage:!0}):this.state.firstLoad&&this.setState({firstLoad:!1}))}});e.exports=E,e.exports.userUrl=b},function(e,t){"use strict";var n=[].slice;e.exports=function(e,t,r){var a={},s=function(){var s=n.call(arguments),i=r?JSON.stringify(s):"_";s.unshift(this===window?null:this);var o=e.bind.apply(e,s);clearTimeout(a[i]),a[i]=setTimeout(o,t||100)};return s.cancel=function(){Object.keys(a).forEach(function(e){a[e]=clearTimeout(a[e])})},s}},function(e,t,n){"use strict";var r=n(607);e.exports=r},function(e,t,n){"use strict";var r=n(150),a=n(249),s=n(653);t.of=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object({excludeKeys:Array(),skinny:Boolean()}),n=s(e);return function(e){return a(r(e,t.excludeKeys),n,t.skinny)}}},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(47),i=n(27),o=n(6),l=n(12),u=l.KC_RETURN,c=l.KC_ESCAPE,d=n(2),p=d.func,f=d.string,m=d.bool,h=d.object,g=d.any,v=d.oneOf,_=n(905),y=r.createClass({displayName:"EditableText",propTypes:{value:f,onChange:p.isRequired,readOnly:m,placeholder:f,className:f,inputClassName:f,defaultValue:f,fitToContent:m,fitToContentStrategy:v(["standard","jqAutosizeInput"]),maxLength:f,autoFocus:m,validEditRegex:h,growInPlace:m,children:g,centered:m,"data-capybara":f},getInitialState:function(){return{editing:!1}},getDefaultProps:function(){return{readOnly:!1,placeholder:"",value:"",inputClassName:"",defaultValue:"",fitToContent:!0,maxLength:null,autoFocus:!1,validEditRegex:/.*/,growInPlace:!1,centered:!1}},getValue:function(){return this.props.value===this.props.defaultValue?"":this.props.value},componentWillMount:function(){this.keymap=this.initKeymap()},componentDidMount:function(){this.props.fitToContent&&this.adjustSizeToFitContent(),this.props.autoFocus&&this.startEditing()},componentDidUpdate:function(e,t){this.props.fitToContent&&this.adjustSizeToFitContent(),this.state.editing&&e.value!==this.props.value&&e.value===this.refs.editingWidget.value&&(this.refs.editingWidget.value=this.props.value),t.editing===!1&&this.state.editing?this.refs.editingWidget.focus():t.editing&&this.state.editing===!1&&(this.props.fitToContent&&"jqAutosizeInput"===this.props.fitToContentStrategy&&this.removeAutosizeDOMCrap(),a.findDOMNode(this).focus())},initKeymap:function(){var e={};return e[u]=this.handleEnterKeyup,e[c]=this.handleEscapeKeyup,e},getKeyHandler:function(e){return e in this.keymap?this.keymap[e]:function(){}},render:function(){var e=this.state.editing?"-1":"0",t=this.state.editing?this.renderEditor:this.renderContent,n=o(this.props.className,{EditableText:!0,"EditableText--grow-in-place":this.props.growInPlace,pointer:!this.props.readOnly,"EditableText--disabled":this.props.readOnly});return r.createElement("div",{tabIndex:e,onKeyUp:this.handleControlKeys,onClick:this.startEditing,className:n,children:t(),"data-capybara":this.props["data-capybara"],style:{position:"relative"}})},renderContent:function(){return r.createElement("div",{className:"EditableText__Content","data-capybara":"editable-content"},this.props.children,r.createElement(i,{tagName:"button",children:this.getAudibleEditButtonLabel()}))},renderEditor:function(){var e=o({EditableText__Editor:!0,"EditableText__Editor--active":this.state.editing}),t=o(this.props.inputClassName,{EditableText__Input:!0,"EditableText__Input--grow-in-place":this.props.growInPlace,"EditableText__Input--centered":this.props.centered});return r.createElement("label",{className:e},r.createElement("input",{onBlur:this.handleInputBlur,className:t,defaultValue:this.getValue(),placeholder:this.props.placeholder,maxLength:this.props.maxLength,readOnly:this.props.readOnly,autoFocus:this.props.autoFocus,ref:"editingWidget"}))},handleControlKeys:function(e){this.getKeyHandler(e.keyCode).call(this,e)},startEditing:function(){this.props.readOnly||this.setState({editing:!0})},isValidEdit:function(e){return this.props.validEditRegex.test(e)},handleInputBlur:function(e){var t=e.target.value;this.isValidEdit(t)?this.saveAndStopEditing():(this.restoreOriginalValue(),this.stopEditing())},handleEnterKeyup:function(){if(this.state.editing){var e=this.refs.editingWidget.value;this.isValidEdit(e)?this.saveAndStopEditing():(this.restoreOriginalValue(),this.stopEditing())}else this.startEditing()},handleEscapeKeyup:function(){this.restoreOriginalValue(),this.stopEditing()},saveAndStopEditing:function(){var e=String(this.refs.editingWidget.value),t=e.match(/^\s*$/);t&&(e=this.props.defaultValue),e!==this.props.value&&this.props.onChange(e),this.stopEditing()},restoreOriginalValue:function(){this.state.editing&&(this.refs.editingWidget.value=this.props.value)},stopEditing:function(){this.setState({editing:!1})},getAudibleEditButtonLabel:function(){var e=this.props.placeholder;return e.length>0?I18n.t("Edit %{placeholder}",{placeholder:e}):I18n.t("Edit")},adjustSizeToFitContent:function(){var e=this.props.fitToContentStrategy;if("jqAutosizeInput"===e)this.removeAutosizeDOMCrap(),this.autoSizer=_(a.findDOMNode(this.refs.editingWidget),{space:10})[0];else{var t=s(a.findDOMNode(this));this.state.editing?t.css("min-width",t.outerWidth()):t.css("min-width","")}},consume:function(e){e.preventDefault()},removeAutosizeDOMCrap:function(){this.autoSizer&&(this.autoSizer.destroy(),this.autoSizer=null)}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(695),s=r(a),i=n(694),o=r(i);t.default=function(){function e(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var i,l=(0,o.default)(e);!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,s.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},,function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.shape,i=r.string,o=r.number,l=r.arrayOf;e.exports=s({id:i,active:a,createdAt:i,name:i,adminToken:i,visitUrl:i,accountType:i,cluster:i,supportAccount:a,tokens:l(s({id:i,key:i,roleId:i})),host:s({subdomain:i,vanityDomain:i,vanityDomainState:i}),config:n(1411),importProfile:s({csvDays:l(a),csvPassword:i,csvTime:i,csvUrl:i,csvUser:i,csvPublicKey:i,tryKeyBasedAuth:a}),importScormProfile:s({sftpDays:l(a),sftpPassword:i,sftpTime:i,sftpUrl:i,sftpUser:i,registrationInstancingOption:i,scoLaunchType:i,scoreRollupMode:i,publishOnUpload:a,addToLearnerLibrary:a,defaultDaysUntilDue:o,email:i,sftpPublicKey:i,tryKeyBasedAuth:a}),scorm:s({registrationInstancingOption:i,scoLaunchType:i,scoreRollupMode:i}),domain:s({tacType:i,tacCustomBody:i}),notificationProfile:s({notifications:a,chatNotifications:a,fromLabel:i,replyTo:i})})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return new f.EditorState(e.getImmutable().set("currentContent",t))}Object.defineProperty(t,"__esModule",{value:!0}),t.regenerateState=t.updateEntityData=t.removeAtomicBlock=t.insertAtomicBlock=t.forceAtomicSelection=t.getSelectionForBlock=t.PluginManager=t.KeyCodes=void 0;var i=n(1001);Object.defineProperty(t,"PluginManager",{enumerable:!0,get:function(){return a(i).default}});var o=n(333);Object.defineProperty(t,"getSelectionForBlock",{enumerable:!0,get:function(){return a(o).default}});var l=n(1004);Object.defineProperty(t,"forceAtomicSelection",{enumerable:!0,get:function(){return a(l).default}});var u=n(1005);Object.defineProperty(t,"insertAtomicBlock",{enumerable:!0,get:function(){return a(u).default}});var c=n(1006);Object.defineProperty(t,"removeAtomicBlock",{enumerable:!0,get:function(){return a(c).default}});var d=n(1007);Object.defineProperty(t,"updateEntityData",{enumerable:!0,get:function(){return a(d).default}});var p=n(506);Object.defineProperty(t,"regenerateState",{enumerable:!0,get:function(){return a(p).default}}),t.pushContentToState=s;var f=n(35),m=n(1003),h=r(m);t.KeyCodes=h},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(3),u=n(64),c=r(u),d=n(60),p=r(d),f=n(235),m=r(f),h=n(55),g=r(h),v=n(11),_=r(v),y=n(6),b=r(y),E=n(47),C=r(E),I=n(12),T=n(27),N=r(T),S=n(4),x=(0,
l.shape)({label:l.string,value:l.string}),A=24,k=10,w=300,R=30;e.exports=o.default.createClass({displayName:"exports",propTypes:{model:l.object.isRequired,field:l.string.isRequired,type:(0,l.oneOf)(["text","password","textarea","select","date","checkbox","toggle"]),className:l.string,onBlur:l.func,onChange:l.func,onFocus:l.func,label:l.node,placeholder:l.string,details:l.string,autoComplete:l.string,error:(0,l.oneOfType)([l.string,l.bool]),options:(0,l.arrayOf)((0,l.oneOfType)([l.string,x])),allowPast:l.bool,timezone:l.string,scrollable:l.bool,activeOnEmptyValue:l.bool,disabled:l.bool,maxLength:l.string,dateFormat:l.string,default:l.string,autosize:l.bool},getDefaultProps:function(){return{type:"text",onBlur:Function.prototype,onChange:Function.prototype,onFocus:Function.prototype,options:[],allowPast:!1,scrollable:!1,activeOnEmptyValue:!1}},getInitialState:function(){var e=this.props.model[this.props.field];return{value:e,active:!!e||this.props.activeOnEmptyValue,focused:!1,height:A+k}},componentDidMount:function(){this.resizeInputHeight(this.state.value)},componentWillReceiveProps:function(e){var t=e.model,n=e.field||this.props.field;t&&t[n]!==this.state.value&&this.setState({value:t[n],active:!!t[n]||this.props.activeOnEmptyValue})},onChange:function(e){this.isBinary()?this.onChangeValue(e.target.checked):this.onChangeValue(e.target.value)},onChangeValue:function(e){var t=this.props,n=t.model,r=t.field,a=t.activeOnEmptyValue;n[r]!==e&&(n[r]=e,this.setState({value:e,active:!!e||a}),this.props.onChange(e))},onFocus:function(e){this.setState({focused:!0}),this.props.onFocus(e)},onBlur:function(e){this.setState({focused:!1}),this.props.onBlur(e)},onDateBlur:function(e){var t=this.props,n=t.model,r=t.field;this.refs.datePicker.getCurrentValue()||(n[r]=null),this.onBlur(e)},onTextChange:function(e){var t=e.target.value,n=this.getInputHeight(t);n>w&&!this.props.scrollable&&(t=this.truncateTextValue(t)),this.onChangeValue(t),this.resizeInputHeight(t)},onTextKeyPress:function(e){var t=e.which===I.KC_RETURN?"\n":String.fromCharCode(e.which),n=(0,C.default)(this.refs.textarea).val()+t;t.length&&this.getInputHeight(n)>w&&!this.props.scrollable&&e.preventDefault()},elementId:function(){return this.props.field+"-input-field"},isBinary:function(){var e=this.props.type;return"checkbox"===e||"toggle"===e},truncateTextValue:function(e){for(var t="",n=0;this.getInputHeight(t)<w;)t=e.slice(0,n),n+=R;for(;this.getInputHeight(t)>w;)t=t.slice(0,-1);return t},getInputHeight:function(e){var t=(0,C.default)(this.refs.textarea),n=(0,C.default)('<div class="input-field--resize"></div>'),r=parseInt(t.css("line-height"),10)||A;n.css({"font-family":t.css("font-family"),"font-size":t.css("font-size"),"line-height":r+"px","overflow-wrap":t.css("overflow-wrap"),width:t.width()}),n.text(e+"\n"),n.html(n.html().replace(/\n/g,"<br>")),(0,C.default)("body").append(n);var a=Math.max(n.height(),r)+k;return n.remove(),a},hasScrollableClass:function(){var e=this.props,t=e.scrollable,n=e.type,r=this.state.height;return"textarea"===n&&t&&r>=w},resizeInputHeight:function(e){if("textarea"===this.props.type){var t=Math.min(this.getInputHeight(e),w);this.setState({height:t})}},render:function(){var e=this.props,t=e.className,n=e.error,r=e.placeholder,a=e.type,s=this.state,i=s.active,l=s.focused,u=(0,b.default)({"input-field":!0,"input-field--active":i,"input-field--placeholder":r||"select"===a,"input-field--checkbox":"checkbox"===a,"input-field--toggle":"toggle"===a,"input-field--scrollable":this.hasScrollableClass(),"input-field--focused":l,"input-field--error":!!n})+(" "+t);return o.default.createElement("span",{className:u},"checkbox"!==a&&this.renderLabel(),this.renderInput(),"checkbox"===a&&this.renderLabel(),this.renderErrorOrDetails())},renderLabel:function(){var e=this.props.label;return e?o.default.createElement("label",{htmlFor:this.elementId()},e):"date"===this.props.type?o.default.createElement("label",{htmlFor:this.elementId()},o.default.createElement(N.default,null,I18n.t("Date"))):o.default.createElement("label",{htmlFor:this.elementId()},"")},renderErrorOrDetails:function(){var e=this.props,t=e.error,n=e.details;return t&&"string"==typeof t?o.default.createElement("span",{className:"input-field__error"},t):n?o.default.createElement("span",{className:"input-field__details"},n):null},renderInput:function(){var e=this.props,t=e.type,n=e.maxLength,r={type:t,placeholder:this.props.placeholder,autoComplete:this.props.autoComplete,value:this.state.value||this.props.default,id:this.elementId(),onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:this.props.disabled};if("date"===t)return this.renderDate();if("select"===t)return this.renderSelect();if("textarea"===t){var a=Object.assign({},r,{ref:"textarea",onChange:this.onTextChange,onKeyPress:this.onTextKeyPress,style:{height:this.state.height+"px"},maxLength:n});return o.default.createElement("textarea",a)}if("checkbox"===t)return o.default.createElement("input",(0,s.default)({},r,{checked:this.state.value||!1,value:"1"}));if("toggle"===t)return this.renderToggle();var i=(0,S.omit)(r,["value"]),l=Object.assign({},i,{maxLength:n});return o.default.createElement("input",(0,s.default)({},l,{value:r.value||"","data-capybara":this.elementId()}))},renderToggle:function(){return o.default.createElement("div",{className:"input-field__toggle"},o.default.createElement(g.default,{checked:this.state.value||!1,id:this.elementId(),onChange:this.onChange,value:"1",disabled:this.props.disabled}))},renderDate:function(){var e=this.props,t=e.placeholder,n=e.allowPast,r=e.timezone,a=e.dateFormat,s=e.autosize,i=e.disabled,l=this.state.value,u=l&&(r?_.default.tz(l,r):(0,_.default)(l));return o.default.createElement(m.default,{ref:"datePicker",format:a||"LL",placeholder:t,className:"border-none input-field__datepicker",value:u,onFocus:this.onFocus,onBlur:this.onDateBlur,onChange:this.onChangeValue,emitChangeInitially:!1,alwaysBlur:!0,allowPast:n,autosize:s,id:this.elementId(),isEditable:!i})},renderSelect:function(){var e=this.props,t=e.placeholder,n=e.options,r=this.state.value;return o.default.createElement(c.default,{id:this.elementId(),onChange:this.onChangeValue,selectedValue:r,buttonLabel:t},t&&o.default.createElement(p.default,{className:"input-field__combo-box-placeholder",value:"",label:t}),n.map(this.renderSelectOption))},renderSelectOption:function(e){return"string"==typeof e?o.default.createElement(p.default,{key:"option-"+e,value:e,label:e}):o.default.createElement(p.default,{key:"option-"+e.value,value:e.value,label:e.label})}})},,,function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.number,i=r.shape,o=r.bool;e.exports=i({concludedAt:a,endAt:a,enrollUrl:a,hasWebConference:o,id:a,isPublished:o,liveCourseId:a,location:a,multiPart:o,notes:a,parentId:a,partsCount:s,presentCount:s,registeredCount:s,seats:s,startAt:a,timezone:a,title:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(3271),i=r(s),o=n(3276),l=r(o),u=n(3272),c=r(u),d=n(3277),p=r(d),f=n(3278),m=r(f),h=n(3274),g=r(h),v=n(125),_=n(12);e.exports=(0,a.shape)({id:a.string,enrollableId:a.string,enrollableType:(0,a.oneOf)([_.LEARNING_ITEM_COURSE_ENROLLMENT_TYPE,_.LEARNING_ITEM_LIVE_COURSE_ENROLLMENT_TYPE,_.LEARNING_ITEM_LTI_CONTENT_ITEM_ENROLLMENT_TYPE,_.LEARNING_ITEM_PROGRAM_ENROLLMENT_TYPE,_.LEARNING_ITEM_PROGRAM_SECTION_ENROLLMENT_TYPE,_.LEARNING_ITEM_SURVEY_ENROLLMENT_TYPE,_.LEARNING_ITEM_TASK_ENROLLMENT_TYPE]),learnableId:a.string,learnableType:(0,a.oneOf)([_.LEARNING_ITEM_COURSE_TYPE,_.LEARNING_ITEM_LIVE_COURSE_TYPE,_.LEARNING_ITEM_LTI_CONTENT_ITEM_TYPE,_.LEARNING_ITEM_PROGRAM_TYPE,_.LEARNING_ITEM_PROGRAM_SECTION_TYPE,_.LEARNING_ITEM_SURVEY_TYPE,_.LEARNING_ITEM_TASK_TYPE]),title:a.string,description:a.string,state:(0,a.oneOf)(v.possibleStates),createdAt:a.string,completedAt:a.string,data:(0,a.oneOfType)([i.default,c.default,l.default,p.default,m.default,g.default]),imageUrl:a.string,matchingTags:(0,a.arrayOf)(a.string),tags:(0,a.arrayOf)(a.string),tagNames:(0,a.arrayOf)(a.string),permanentlyFailed:a.bool,archivedAt:a.string})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(2),l=o.any,u=o.bool,c=o.object,d=o.string,p=n(18),f=n(215),m=n(5),h=m.Icon,g=n(27),v=n(4),_=v.omit,y=i.createClass({displayName:"IconButton",propTypes:{className:d.isRequired,icon:d.isRequired,iconClassName:d.isRequired,label:d.isRequired,"aria-label":d,link:u,buttonClassName:d,children:l,disableTooltip:u.isRequired,tooltipProps:c},getDefaultProps:function(){return{className:"",iconClassName:"",buttonClassName:"",disableTooltip:!1}},focus:function(){this.refs.tag.focus()},render:function(){return this.props.disableTooltip?this.renderButton():i.createElement("div",{className:"icon-button-container inline-block "+this.props.className},i.createElement(f,(0,s.default)({label:this.props.label,children:this.renderButton()},this.props.tooltipProps)))},renderButton:function(){var e=this.props.link?"a":p,t=_(this.props,["link","buttonClassName","iconClassName","disableTooltip","tooltipProps"]);return i.createElement(e,(0,s.default)({},t,{className:this.props.buttonClassName,ref:"tag"}),i.createElement(h,{className:"gs-"+this.props.icon+" "+this.props.iconClassName}),i.createElement(g,null,this.props["aria-label"]||this.props.label),this.props.children)}});e.exports=y},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.number,i=r.string,o=r.shape,l=r.object,u=r.arrayOf;e.exports=o({id:i,administrators:i,brandingEnabled:a,courseCount:s,contactEmail:i,contactName:i,contactPhone:i,createdAt:i,isActive:a,notifications:a,chatNotifications:a,fromLabel:i,replyTo:i,limitedAuthoring:a,limitedManagers:a,bridgeRetain:a,locale:i,name:i,lyndaOrgId:i,subdomain:i,timeZone:i,userCount:s,token:i,visitUrl:i,importPasswords:a,tacType:i,tacCustomBody:i,autoCsv:a,auth:l,createUserFromAuthHash:a,supportLevel:i,subAccountSupportLevel:i,showCustomSupportInfo:a,supportName:i,supportPhone:i,supportEmail:i,customerProvidedSupportHelpArticlesUrl:i,customerProvidedSupportChatUrl:i,useCustomSupport:a,customSupportChatUrl:i,customSupportTicketUrl:i,customSupportPhoneNumber:i,customSupportHelpArticlesUrl:i,customBackToMyLearningLabel:i,customBackToMyLearningHref:i,passwordResetAllowed:a,products:u(n(854)),importProfile:o({csvUrl:i,csvUser:i,csvDays:u(a),csvTime:i,tryKeyBasedAuth:a,csvPublicKey:i})})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,iconUrl:a,ltiToolId:a,text:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(174),s=r(a),i=n(42),o=r(i),l=n(104),u=r(l),c=n(33),d=r(c),p=n(10);e.exports=(0,p.shape)({id:p.string,title:p.string,instructions:p.string,description:p.string,serializedBody:p.string,structuredBody:p.object,subAccount:s.default,hasSharedEnrollments:p.bool,isPublished:p.bool,hasUnpublishedChanges:p.bool,enrollmentsCount:p.number,enrollmentCounts:(0,p.shape)({all:p.number,overdue:p.number,incomplete:p.number,finished:p.number,open:p.number,requested:p.number,rejected:p.number,approved:p.number}),hasCertificate:p.bool,requiresApproval:p.bool,updatedAt:p.string,author:o.default,defaultApproverId:p.string,defaultApproverType:l.ApproverType,defaultApprover:u.default,defaultDaysUntilDue:p.number,defaultDueOnDate:p.string,dueDateType:p.string,pendingApprovalCount:p.number,requiresEvidence:p.bool,attachmentsCount:p.number,instructionsAttachments:(0,p.arrayOf)(d.default),directMessagingEnabled:p.bool})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1089);Object.defineProperty(t,"ariaAlert",{enumerable:!0,get:function(){return r(a).default}});var s=n(531);Object.defineProperty(t,"stubbableFn",{enumerable:!0,get:function(){return r(s).default}});var i=n(1090);Object.defineProperty(t,"isValidURL",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";var r=n(165),a=r.Storage,s=n(30),i=n(34);a.SCOPE_USER=function(){return i.getCurrentUserId()},a.SCOPE_ROUTE=function(){var e=s.getCurrentRoute();return e&&"string"==typeof e?e+".":e?e.name+".":""},e.exports=a},function(e,t,n){"use strict";var r=n(19),a={mixin:{getInitialState:function(){return{wantsToRemove:!1}},confirmRemoval:function(){this.setState({wantsToRemove:!0})},isConfirmingRemoval:function(){return this.state.wantsToRemove},cancelRemoval:function(){this.setState({wantsToRemove:!1})},remove:function(){this.props.onRemove&&this.props.onRemove()}},doRemoveItemFromList:function(e,t,n,a){var s=t.indexOf(e);t.removeObject(e),n&&n.then(null,function(){var n=I18n.t("Oh Snap! We were unable to remove this %{object}. Please try again later.",{object:a});t.insertAt(Math.min(s,t.get("length")),e),r(n,{type:"error"})})}};e.exports=a},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(1),o=r(i),l=n(6),u=r(l),c=n(12),d=r(c),p=n(58),f=r(p),m=n(2),h=n(4),g=n(43),v=n(764),_=r(v),y=n(765),b=r(y),E=0,C=o.default.createClass({displayName:"Autocomplete",statics:{Option:b.default,ConfirmOption:_.default},propTypes:{autocomplete:(0,m.oneOf)(["both","inline","list"]),onBlur:m.func,onInput:m.func,onSelect:m.func,onClear:m.func,onCommit:m.func,onCancel:m.func,onEnter:m.func,id:m.string,value:m.any,className:m.string,inputClassName:m.string,listClassName:m.string,placeholder:m.string,children:m.node,autoFocus:m.bool,alwaysShowList:m.bool,resetInputValue:m.bool,handleBlur:m.func,inputRef:m.func},getDefaultProps:function(){return{autocomplete:"both",onBlur:function(){},onCommit:function(){},onEnter:function(){},onInput:function(){},onSelect:function(){},value:null,className:"",inputClassName:"",listClassName:"",alwaysShowList:!1,resetInputValue:!1,id:"autocomplete-"+ ++E}},getInitialState:function(){return{value:this.props.value,inputValue:this.findInputValue(this.props.children,this.props.value)||this.props.value,isOpen:!1,focusedIndex:null,matchedAutocompleteOption:null,usingKeyboard:!1,listId:"autocomplete__list-"+ ++E,preventClose:!1,menu:{children:[],activedescendant:null,isEmpty:!0},inputHasFocus:!1}},findInputValue:function(e,t){var n=this;e=e||[];var r=void 0;return o.default.Children.toArray(e).some(function(e){return e.props.value===t&&(r=n.getLabel(e),!0)}),r},inputKeyDownMap:{38:"focusPrevious",40:"focusNext",27:"hideOnEscape",13:"selectOnEnter"},optionKeyDownMap:{38:"focusPrevious",40:"focusNext",13:"selectOption",27:"hideOnEscape"},componentWillMount:function(){this.setState({menu:this.makeMenu(this.props.children,this.state.value)}),this.props.handleBlur&&this.props.handleBlur(this.handleInputBlur)},componentDidMount:function(){this.isMounted=function(){return!0},this.props.autoFocus&&this.focusInput(),this.props.inputRef&&this.refs.input&&this.props.inputRef(this.refs.input)},componentWillReceiveProps:function(e){this.setState({menu:this.makeMenu(e.children,this.state.value||e.value),value:e.value,inputValue:this.getUpdatedPropsLabel(e)})},componentWillUnmount:function(){this.isMounted=function(){return!1}},getUpdatedPropsLabel:function(e){var t=this.state,n=t.value,r=t.inputValue;if(n){var a=this.findInputValue(e.children,n);if(r&&a&&r!==a)return a}else if((0,h.isNil)(n)&&e.value)return this.findInputValue(e.children,e.value);return this.getDisplayValue(e.value)},makeMenu:function(e,t){var n,r=this,a=!0,s=o.default.Children.map(e,function(e,s){if(e.type!==b.default&&e.type!==_.default)return e;a=!1;var i={handleBlur:r.handleOptionBlur,handleFocus:r.handleOptionFocus,handleClick:r.selectOption.bind(r,e),handleKeyDown:r.handleOptionKeyDown.bind(r,e),handleMouseEnter:r.handleOptionMouseEnter.bind(r,s),preventMenuClose:r.preventClose};return t===e.props.value&&(i.id=e.props.id||"autocomplete--selected-"+ ++E,i.isSelected=!0,n=e.props.id),o.default.cloneElement(e,i)});return{children:s,activedescendant:n,isEmpty:a}},preventClose:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState({preventClose:e},t)},handleComponentBlur:function(){var e=this.props,t=e.onBlur,n=e.resetInputValue;t(),n&&this.clearSelectedState(this.props.value)},handleInputChange:function(e){var t=this,n=this.props.onInput,r=e.target.value;this.clearSelectedState(r,function(){n(r),t.shouldShowList(r)?t.showList():t.hideList()})},handleInputFocus:function(){var e=this.props.resetInputValue,t=this.state,n=t.inputValue,r=t.inputHasFocus,a=r||!e?n:"";this.setState({inputHasFocus:!0,inputValue:a}),this.shouldShowList(a)&&this.showList(),clearTimeout(this.componentBlurTimer)},handleInputBlur:function(){this.setState({inputHasFocus:!1}),this.props.onCommit&&this.props.onCommit(this.getCurrentValue()),null===this.state.focusedIndex&&(this.maybeSelectAutocompletedOption(),this.hideList(),this.componentBlurTimer=setTimeout(this.handleComponentBlur,0))},handleInputKeyDown:function(e){var t=this.inputKeyDownMap[e.keyCode];t&&(e.preventDefault(),this.setState({usingKeyboard:!0}),this[t].call(this))},handleInputKeyUp:function(e){!this.state.menu.isEmpty&&8!==e.keyCode&&this.props.autocomplete.match(/both|inline/)&&this.autocompleteInputValue()},clearSelectedState:function(e,t){this.setState({focusedIndex:null,inputValue:this.findInputValue(this.props.children,e)||e,value:e,matchedAutocompleteOption:null},t)},autocompleteInputValue:function(){if(this.props.autocomplete.match(/both|inline/)&&0!==this.props.children.length){var e=this.refs.input,t=this.state.inputValue,n=this.props.children.length?this.props.children[0]:this.props.children,r=this.getLabel(n),a=this.matchFragment(t,r);a&&(e.setSelectionRange(t.length,r.length),this.setState({inputValue:r,matchedAutocompleteOption:n}))}},handleOptionBlur:function(){this.blurTimer=setTimeout(this.hideList,0),this.componentBlurTimer=setTimeout(this.handleComponentBlur,0)},handleOptionFocus:function(){clearTimeout(this.blurTimer),clearTimeout(this.componentBlurTimer)},handleOptionKeyDown:function(e,t){var n=this.optionKeyDownMap[t.keyCode];return t.keyCode===d.default.KC_TAB||t.keyCode===d.default.KC_SHIFT?void this.setState({focusedIndex:null}):n?(t.preventDefault(),this.setState({usingKeyboard:!0}),void this[n].call(this,e)):void this.selectInput()},handleOptionMouseEnter:function(e){this.state.usingKeyboard?this.setState({usingKeyboard:!1}):this.focusOptionAtIndex(e)},matchFragment:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),""!==e&&e!==t&&t.indexOf(e)!==-1},getLabel:function(e){var t=!(0,f.default)(e.props.label),n="string"==typeof e.props.children,r=n?e.props.children:this.state.inputValue;return t?e.props.label:r},shouldShowList:function(e){return this.props.alwaysShowList||e&&""!==e},showList:function(){this.isMounted()&&this.props.autocomplete.match(/both|list/)&&this.setState({isOpen:!0})},hideList:function(){this.isMounted()&&!this.state.preventClose&&this.setState({isOpen:!1})},hideOnEscape:function(){!this.state.isOpen&&this.props.onCancel&&this.props.onCancel(),this.hideList(),this.focusInput()},selectOption:function(e){var t=this;this.setState({value:e.props.value,inputValue:this.getLabel(e),matchedAutocompleteOption:null},function(){t.props.onSelect(e.props.value,e),t.hideList()})},selectOnEnter:function(){this.maybeSelectAutocompletedOption();var e=this.getCurrentValue();this.props.onCommit(e),0!==e.length&&this.props.onEnter(e),this.refs.input.select()},maybeSelectAutocompletedOption:function(){this.state.matchedAutocompleteOption&&this.selectOption(this.state.matchedAutocompleteOption)},focusPrevious:function(){if(!this.state.menu.isEmpty){var e=this.props.children.length-1,t=null===this.state.focusedIndex?e:this.state.focusedIndex-1;this.focusOptionAtIndex(t)}},focusNext:function(){if(!this.state.menu.isEmpty){var e=null===this.state.focusedIndex?0:this.state.focusedIndex+1;this.focusOptionAtIndex(e)}},focusOptionAtIndex:function(e){if(!this.state.isOpen&&this.state.value)return this.focusSelectedOption();this.showList();var t=this.props.children.length;e===-1?e=t-1:e===t&&(e=0),this.setState({focusedIndex:e},this.focusOption)},focusSelectedOption:function(){var e,t=this;o.default.Children.forEach(this.props.children,function(n,r){n.props.value===t.state.value&&(e=r)}),this.showList(),this.setState({focusedIndex:e},this.focusOption)},focusOption:function(){var e=this.state.focusedIndex,t=this.refs.list.childNodes[e];t&&t.focus()},focusInput:function(){this.refs.input.focus()},selectInput:function(){this.refs.input.select()},reset:function(){this.setState({inputValue:null})},clear:function(){var e=this;this.props.onClear(),setTimeout(function(){return e.reset()})},getCurrentValue:function(){return this.state.inputValue},getDisplayValue:function(e){var t=this.state.inputValue;return t||""===t?t:e||""},render:function(){var e=this.props,t=e.id,n=e.inputClassName,r=e.placeholder,a=e.autocomplete,i=e.listClassName,l=e.value,c=(0,u.default)((0,s.default)({autocomplete:!0,"autocomplete--empty":this.state.menu.isEmpty,"autocomplete--open":this.state.isOpen,"autocomplete--input-has-focus":this.state.inputHasFocus},this.props.className,!0));return o.default.createElement("div",{className:c,"data-capybara":"autocomplete"},o.default.createElement("input",{id:t,ref:"input",className:(0,u.default)("autocomplete__input",n),value:this.getDisplayValue(l),placeholder:r,autoComplete:"off",onChange:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,role:"combobox","aria-activedescendant":this.state.menu.activedescendant,"aria-autocomplete":a,"aria-owns":this.state.listId}),this.props.onClear&&this.state.value&&o.default.createElement(g.Button,{className:"autocomplete__input__clear-button",onClick:this.clear,children:o.default.createElement(g.ClearIcon,null)}),o.default.createElement("div",{id:this.state.listId,ref:"list",className:"autocomplete__list "+i,"aria-expanded":this.state.isOpen+"",role:"listbox","data-capybara":"autocomplete-list-item"},this.state.menu.children))}});e.exports=C},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(2),i=s.string,o=s.number,l=s.bool,u=s.func,c=s.oneOfType,d=s.any,p=n(12),f=p.KC_SPACE,m=r.createClass({displayName:"Checkbox",propTypes:{className:i,color:i,checked:l,value:c([i,o]),onChange:u,disabled:l,checkboxClassName:i,labelClassName:i,dataCapybara:i,children:d},getInitialState:function(){return{focused:!1}},getDefaultProps:function(){return{checked:!1,disabled:!1,className:"",checkboxClassName:"left",labelClassName:"left",dataCapybara:"checkbox",onChange:Function.prototype}},render:function(){var e,t=this,n=a({checkbox:!0,"checkbox--checked":this.props.checked,"checkbox--disabled":this.props.disabled,"checkbox--focused":this.state.focused});this.props.className.length&&(n=this.props.className+" "+n),this.props.color&&(e={backgroundColor:this.props.color});var s=a({"checkbox__display-checkbox":!0,"checkbox__display-checkbox--checked":this.props.checked,"checkbox__display-checkbox--disabled":this.props.disabled})+(" "+this.props.checkboxClassName),i=a({"checkbox__label-wrapper":!0,"checkbox__label-wrapper--checked brand-color":this.props.checked})+(" "+this.props.labelClassName);return r.createElement("label",{onFocus:this.markFocused,onBlur:this.unmarkFocused,onKeyPress:this.maybeToggleCheckbox,role:"checkbox","aria-checked":this.props.checked,tabIndex:"0",className:a(n)},r.createElement("span",{className:s,style:e,"data-capybara":this.props.dataCapybara}),r.createElement("input",{type:"checkbox",ref:function(e){t.checkbox=e},checked:this.props.checked,onChange:this.props.onChange,value:this.props.value,disabled:this.props.disabled,tabIndex:"-1",className:"screenreader-only"}),r.createElement("span",{className:i},this.props.children))},maybeToggleCheckbox:function(e){e.which===f&&(this.checkbox.click(),e.preventDefault())},markFocused:function(){this.setState({focused:!0})},unmarkFocused:function(){this.setState({focused:!1})}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=a.string,o=a.bool,l=r.createClass({displayName:"FileInput",propTypes:{acceptedFileTypes:i,buttonClassName:i,label:i,onChange:s,multiple:o},getDefaultProps:function(){return{buttonClassName:"",onChange:Function.prototype}},getInitialState:function(){return{filePickerLaunched:!1}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},onFileChange:function(e){var t=this,n=e.target.files;this.props.onChange(n),this.setState({filePickerLaunched:!0},function(){t.isMounted()&&t.setState({filePickerLaunched:!1})})},render:function(){var e="file-input__button "+this.props.buttonClassName;return r.createElement("label",{className:"file-input"},!this.state.filePickerLaunched&&r.createElement("input",{type:"file",tabIndex:"-1",multiple:this.props.multiple,accept:this.props.acceptedFileTypes,ref:"inputWidget",onChange:this.onFileChange}),r.createElement("button",{type:"button",className:e,onClick:this.launchFilePicker},r.createElement("span",{className:"button-focus-flat__label"},this.props.label||I18n.t("browse and choose a file"))))},launchFilePicker:function(e){"file"!==e.target.type&&(e.preventDefault(),this.refs.inputWidget.click())}});e.exports=l},function(e,t,n){"use strict";var r=n(231);e.exports=r.RouteHandler},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(6),i=n(2),o=i.arrayOf,l=i.element,u=i.func,c=i.node,d=i.number,p=i.bool,f=i.string,m=r.createClass({displayName:"TooltipTrigger",propTypes:{children:c.isRequired,onTargetClicked:u},getDefaultProps:function(){return{onCalcWidth:Function.prototype,onTargetClicked:Function.prototype}},getWidth:function(){var e=this.refs.trigger;return e&&(e.offsetWidth||e.clientWidth)||0},render:function(){return r.createElement("div",{ref:"trigger",className:"tooltip__trigger",onClick:this.props.onTargetClicked},this.props.children)}}),h=r.createClass({displayName:"TooltipContent",propTypes:{children:c.isRequired,active:p,dark:p,rightAlign:p,getTriggerWidth:u,delayShow:d,delayHide:d,forceEdge:f},getDefaultProps:function(){return{active:!1,dark:!1,rightAlign:!1,getTriggerWidth:Function.prototype}},getInitialState:function(){return{}},allOffsetLeft:function(e){for(var t=e,n=0;t;)n+=t.offsetLeft,t=t.offsetParent;return n},calculatePosition:function(){if(this.props.rightAlign)return{};if(!this.refs.content)return{};var e=this.refs.content,t=e.offsetWidth,n=this.props.getTriggerWidth()||0,r=-t/2+n/2,a=this.allOffsetLeft(e.offsetParent),s="",i=a+r;return"right"===this.props.forceEdge||i+t>window.innerWidth?(r="calc(-"+t+"px + "+n/2+"px + 1.5rem)",s="right"):("left"===this.props.forceEdge||i<0)&&(r="calc("+n/2+"px - 1rem)",s="left"),{edge:s,style:{left:r+(s?"":"px")}}},render:function(){var e=this.calculatePosition(),t=e.edge,n=e.style,a=s({tooltip__content:!0,shadow:!0,"rounded-corners-default":!0,"left-edge":"left"===t,"right-edge":"right"===t,"tooltip__content--dark":this.props.dark,"tooltip__content--visible":this.props.active,"tooltip__content--right-align":this.props.rightAlign});return r.createElement("div",{ref:"content",className:a,style:n||{}},this.props.children)}}),g=r.createClass({displayName:"Tooltip",propTypes:{children:o(l),className:f,activateOnClick:p,isEnabled:p,delayShow:d,delayHide:d,onHide:u},getDefaultProps:function(){return{isEnabled:!0,activateOnClick:!1,delayShow:750,delayHide:150,onHide:function(){}}},getInitialState:function(){return{active:!1}},componentDidMount:function(){window.addEventListener("click",this.hideSelf,!1)},componentWillUnmount:function(){this.timeout&&(this.timeout=clearTimeout(this.timeout)),window.removeEventListener("click",this.hideSelf,!1)},renderChildren:function(){var e=this;return r.Children.map(this.props.children,function(t){var n={};return t.type===m?(n.onTargetClicked=e.handleClick,n.ref="trigger"):t.type===h&&(n.active=e.state.active,n.getTriggerWidth=function(){return e.refs.trigger&&e.refs.trigger.getWidth()},n.delayShow=e.props.delayShow,n.delayHide=e.props.delayHide),r.cloneElement(t,n)})},render:function(){var e=s("tooltip",this.props.className,{"tooltip--active":this.state.active});return r.createElement("div",{className:e,onMouseEnter:this.handleHover,onMouseLeave:this.handleHover},this.renderChildren())},handleHover:function(e){var t=this;this.props.activateOnClick||(this.hovered="mouseenter"===e.type,this.timeout=setTimeout(function(){t.setActive(t.hovered)},this.hovered?this.props.delayShow:this.props.delayHide))},handleClick:function(){this.props.activateOnClick&&this.setActive(!0)},hideSelf:function(e){a.findDOMNode(this).contains(e.target)||(this.setActive(!1),this.props.onHide())},setActive:function(e){this.props.isEnabled&&this.setState({active:e})}});e.exports=g,g.Trigger=m,g.Content=h},function(e,t,n){"use strict";function r(e){return e&&Array.isArray(e)?[].concat(e):e&&e.constructor===Object?Object.assign({},e):e}var a=n(911),s=n(910);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.onChange=e,t.freezeObject=r,t.thawObject=r,t.recordValidators||(t.recordValidators=[s]),a(t)}},function(e,t,n){"use strict";function r(e){return function(t){var n=void 0,r=void 0;try{n=t()}catch(e){r=e}finally{if(e(),r)throw r;return n}}}var a=n(41),s=n(66),i=n(4),o=i.assign,l=function(){function e(){return{batchDepth:0,signalMuffled:!1,throttledEmitChange:null,doEmitChange:t}}function t(){var e=this;return a.batchDepth>0?void(a.signalMuffled=!0):(n.forEach(function(t){return t(e)}),void r.forEach(function(t){return t(e)}))}var n=[],r=[],a=e(),s={addChangeListener:function(e){n.push(e)},addStaticChangeListener:function(e){r.push(e)},removeChangeListener:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},emitChange:function(){(a.throttledEmitChange||t)()},clear:function(){a.throttledEmitChange&&a.throttledEmitChange.cancel(),o(a,e()),n.splice(0)}};return Object.defineProperty(s,"__eventEmitterInstance",{writable:!1,enumerable:!0,configurable:!1,value:a}),s};l.throttle=function(e,t){var n=e.__eventEmitterInstance;a(!n.throttledEmitChange,"You are attempting to throttle an already throttled EventEmitter. Let us breathe, man!"),n.throttledEmitChange=s(n.doEmitChange,t)},l.throttleEmitter=function(e,t){return console.warn("Deprecated: EventEmitter.throttleEmitter() has been renamed to EventEmitter.throttle()."),l.throttle(e,t)},l.batch=function(e,t){var n=e.__eventEmitterInstance;return n.batchDepth+=1,r(function(){n.batchDepth-=1,n.signalMuffled&&0===n.batchDepth&&(n.signalMuffled=!1,e.emitChange())})(t)},l.BatchRoutine=function(e,t){return function(n){return l.batch(e,function(){return t(n)})}},e.exports=l},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(452),i=a.createClass({displayName:"LayoutList",mixins:[s],propTypes:{children:r.any,headerClassName:r.string},getDefaultProps:function(){return{headerClassName:"layout--list__header"}},render:function(){return a.createElement("header",{className:"layout--list"},a.createElement("div",{className:this.props.headerClassName},this.blockFor("layout--list__before-header"),a.createElement("h1",{className:"layout--list__header-text"},this.blockFor("layout--list__header-text")),this.blockFor("layout--list__after-header")),this.blockFor("layout--list__content--without-container"),a.createElement("div",{className:"layout--list__content"},this.props.children))}});e.exports=i},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.number,i=a.oneOf,o=a.string,l=n(48),u=["vertical","horizontal","topLeftToBottomRight","bottomLeftToTopRight"],c=r.createClass({displayName:"LinearGraphGradient",propTypes:{orientation:i(u),gradientUnits:o.isRequired,color1:o.isRequired,color2:o.isRequired,startPercent:s.isRequired,stopPercent:s.isRequired,id:o.isRequired},getDefaultProps:function(){return{orientation:"horizontal",gradientUnits:"objectBoundingBox",color1:l.GRAPH_GRADIENT_START,color2:l.GRAPH_GRADIENT_STOP,
startPercent:0,stopPercent:100}},render:function(){var e=0,t=e.x1,n=e.x2,a=e.y1,s=e.y2;switch(this.props.orientation){case"vertical":t="0%",a="0%",n="0%",s="100%";break;case"horizontal":t="0%",a="0%",n="100%",s="0%";break;case"topLeftToBottomRight":t="0%",a="0%",n="100%",s="100%";break;case"bottomLeftToTopRight":t="0%",a="100%",n="100%",s="0%"}return r.createElement("linearGradient",{id:this.props.id,x1:t,y1:a,x2:n,y2:s,gradientUnits:this.props.gradientUnits},r.createElement("stop",{offset:this.props.startPercent+"%",stopColor:this.props.color1}),r.createElement("stop",{offset:this.props.stopPercent+"%",stopColor:this.props.color2}))}});e.exports=c,e.exports.AxlRoseGradient=n(793),e.exports.DavidLeeRothGradient=n(794),e.exports.DeeSniderGradient=n(795),e.exports.NikkiSixxGradient=n(796),e.exports.ReverseRothGradient=n(797)},function(e,t){"use strict";function n(e){return e.subprovider||e.provider}function r(e){switch(e){case s:return I18n.t("Ping Identity");case a:return I18n.t("Custom SAML");case i:return I18n.t("Google Sign-In");case o:return I18n.t("Authmonger SAML");default:return I18n.t("%{authType}",{authType:e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAuthType=n,t.getAuthLabel=r;var a=(t.AUTH_TYPE_BASIC="Basic",t.AUTH_TYPE_CAS="CAS",t.AUTH_TYPE_SAML="SAML"),s=(t.AUTH_TYPE_OKTA="Okta",t.AUTH_TYPE_PING="Ping"),i=(t.AUTH_TYPE_ONELOGIN="OneLogin",t.AUTH_TYPE_OPENID="OpenID",t.AUTH_TYPE_LDAP="LDAP",t.AUTH_TYPE_OAUTH="OAuth2",t.AUTH_TYPE_GOOGLEOIDC="google-oidc"),o=t.AUTH_TYPE_AUTHMONGER_SAML="saml"},,function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.shape;e.exports=s({update:a,admin_create:a,token_create:a,token_destroy:a,lti_tool_create:a,lti_tool_destroy:a,webhook_create:a,webhook_destroy:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(6),o=r(i),l=n(2),u=n(452),c=r(u),d=n(5),p=n(20),f=r(p),m=s.default.createClass({displayName:"LayoutItemHeader",mixins:[c.default],propTypes:{type:l.string.isRequired,modifiers:l.string,hasIcon:l.bool,customClass:l.string,showBreadcrumbOnMobile:l.bool},getDefaultProps:function(){return{hasIcon:!0,modifiers:"",showBreadcrumbOnMobile:!1}},modifierClasses:function(){return 0===this.props.modifiers.length?"":this.props.modifiers.split(" ").map(function(e){return"layout--item-header--"+e}).join(" ")},render:function(){var e="layout--item-header__content";(0,f.default)("learn_learning_header_branding")&&["learning","library"].includes(this.props.type)&&(e+="--branded");var t=(0,o.default)({"layout--item-header__details--with-icon":this.props.hasIcon,"layout--item-header__details":!this.props.hasIcon}),n=(0,o.default)("border-b","layout--item-header__breadcrumb",{"layout--item-header__breadcrumb-no-mobile":!this.props.showBreadcrumbOnMobile}),r=this.blockFor("layout--item-header__breadcrumb"),a=this.blockFor("layout--item-header__expansion");return s.default.createElement("header",{className:this.props.type+"-header layout--item-header "+this.modifierClasses(),"data-capybara":this.props.type+"-header"},this.blockFor("layout--item-header__before-content"),s.default.createElement("div",{className:e},r&&s.default.createElement("div",{className:n},s.default.createElement(d.Icon,{className:"gs-arrow-left dark-grey gs-1x margin-r-xs"}),r),this.blockFor("layout--item-header__content-top"),s.default.createElement("div",{className:"layout--item-header__actions"},this.blockFor("layout--item-header__actions")),s.default.createElement("div",{className:this.props.customClass||t},this.blockFor("layout--item-header__details"))),this.blockFor("layout--item-header__after-content"),a&&s.default.createElement("div",{className:"layout--item-header__expansion"},a))}});e.exports=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=r.ProgressBar,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApproverType=void 0;var r=n(10),a=t.ApproverType=(0,r.oneOf)(["User","Group"]);t.default=(0,r.shape)({id:r.string,name:r.string,email:r.string,avatarUrl:r.string,deletedAt:r.string,usersCount:r.number,type:a,isAdminGroup:r.bool,isAccountAdminGroup:r.bool})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1416),s=n(174),i=r(s),o=n(10);t.default=(0,o.shape)({id:o.string,title:o.string,authorId:o.string,description:o.string,externalCourseId:o.string,meta:a.Meta,openEnrollment:o.bool,hasCertificate:o.bool,isLibraryItem:o.bool,uuid:o.string,enrollUrl:o.string,expires:o.bool,defaultDaysUntilExpiration:o.number,autoReEnroll:o.bool,reEnrollmentPeriod:o.number,sessionsCount:o.number,enrollmentCounts:(0,o.shape)({all:o.number,invited:o.number,notRegistered:o.number,registered:o.number,finished:o.number}),isPublished:o.bool,enrollmentsCount:o.number,subAccount:i.default,hasSharedEnrollments:o.bool,enrollments:(0,o.arrayOf)(a.LiveCourseEnrollment),concludedSessions:(0,o.arrayOf)(a.LiveCourseSession),futureSessions:(0,o.arrayOf)(a.LiveCourseSession),directMessagingEnabled:o.bool}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e?e+" - ":"";document.title=t+g}function s(e,t){var n,r;return r=n=function(n){function r(){return(0,o.default)(this,r),(0,d.default)(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return(0,f.default)(r,n),(0,u.default)(r,[{key:"componentDidMount",value:function(){a(t(this.props))}},{key:"componentWillReceiveProps",value:function(e){a(t(e))}},{key:"componentWillUnmount",value:function(){a(null)}},{key:"render",value:function(){return h.default.createElement(e,this.props)}}]),r}(h.default.PureComponent),n.propTypes=e.propTypes,r}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TITLE=void 0;var i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p);t.default=s;var m=n(1),h=r(m),g=t.DEFAULT_TITLE="Bridge"},function(e,t,n){"use strict";var r=n(4),a=r.cloneDeep,s=n(31),i={get:function(e){return this._initFromWindow(),this.domain[e]},getLocale:function(){return(this.get("config")||{}).locale},isAutoCsv:function(){return Boolean((this.get("config")||{}).auto_csv)},allowImportPasswords:function(){return Boolean((this.get("config")||{}).import_passwords)},customHelpMenuItems:function(){var e=this.get("config")||{};return{useCustomSupport:e.use_custom_support,customSupportChatUrl:e.custom_support_chat_url,customSupportTicketUrl:e.custom_support_ticket_url,customSupportPhoneNumber:e.custom_support_phone_number}},set:function(e,t){this._initFromWindow(),this.domain[e]=t},clear:function(){this.domain=void 0},_initFromWindow:function(){this.domain||(this.domain=a(s.get("DOMAIN",{})))}};e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(0,y.default)({url:"/locales/"+e+".js",dataType:"text"}).then(JSON.parse)}function s(e){v.default.setLocale(e),(0,T.default)("global_nav")&&(0,N.setLocale)(e)}var i=n(31),o=r(i),l=n(21),u=r(l),c=n(830),d=r(c),p=n(39),f=r(p),m=n(107),h=r(m),g=n(26),v=r(g),_=n(7),y=r(_),b=n(25),E=r(b),C=n(4),I=n(20),T=r(I),N=n(43),S=(0,u.default)({displayName:"LocaleStore",storeOptions:{getDefaultCache:function(){return null}},getInitialState:function(){return{initialLocale:v.default.currentLocale(),loaders:{},locales:{}}},clear:function(){Object.keys(this.state.loaders).forEach(function(e){delete v.default.translations[e]}),s(this.state.initialLocale)},fetchAll:function(){var e=this;return(0,d.default)().then(function(t){e.setState({locales:t})})},getAll:function(){var e=this.state.locales;return"edge"===window.DEPLOY_ENV&&v.default.translations.lol&&(e=(0,C.assign)({},e,{lol:v.default.translations.lol})),e},getCurrentLocale:function(){return[f.default.getLocale(),h.default.getLocale(),o.default.get("DOMAIN.config.locale"),"en"].filter(function(e){return!!e})[0]},getActiveLocale:function(){return v.default.currentLocale()},activateCurrentLocale:function(){var e=this,t=this.getCurrentLocale(),n=this.getActiveLocale();return t===n?E.default.resolve():this.hasTranslationsForLocale(t)?(s(t),this.emitChange(),E.default.resolve()):this.fetch(t).then(function(n){return e.setTranslationsForLocale(t,n),e.activateCurrentLocale()})},fetch:function(e){var t=this.state.loaders;return e?(t[e]||(t[e]=a(e).then(null,function(n){return delete t[e],n})),t[e]):E.default.reject("invalid locale!")},setTranslationsForLocale:function(e,t){v.default.translations[e]=t[e]},hasTranslationsForLocale:function(e){return Boolean(v.default.translations[e])}});e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=this,a={search:n,context_id:t,context_type:e};return"live_course_session"===e&&(a["includes[]"]="current_session"),this.searchCache.setCollection({type:e,id:t},[]),(0,h.default)({params:a}).then(function(n){r.searchCache.setCollection({type:e,id:t},n)})}function s(e,t){return this.searchCache.getCollection({type:e,id:t})}var i=n(70),o=r(i),l=n(21),u=r(l),c=n(95),d=r(c),p=n(7),f=r(p),m=n(625),h=r(m),g=n(44),v=r(g),_=(0,u.default)({displayName:"UserStore",schema:n(42),getInitialState:function(){return{paginator:(0,v.default)(function(e,t){return h.default.performWithoutParsing({url:e,params:t})})}},initialize:function(){this.searchCache=(0,d.default)(this.emitChange,{schema:n(42),displayName:"UserStore__search"})},clear:function(){this.searchCache.clear()},fetchAll:function(e){var t=this;return this.state.paginator.findFirstPage(e).then(function(n){t.cache.setCollection(e,h.default.parse(n))})},fetchNext:function(e){var t=this;this.state.paginator.hasMorePages()&&this.state.paginator.findNextPage(e).then(function(n){t.cache.addToCollection(e,h.default.parse(n))})},search:function(e){var t=this;(0,h.default)({params:{search:e}}).then(function(e){t.searchCache.setCollection({},e)})},searchInCourse:function(e,t){return a.call(this,"course",t,e)},searchInLiveCourse:function(e,t){return a.call(this,"live_course",t,e)},searchInLiveCourseSession:function(e,t){return a.call(this,"live_course_session",t,e)},searchInTask:function(e,t){return a.call(this,"task",t,e)},searchInProgram:function(e,t){return a.call(this,"program",t,e)},searchInGroup:function(e,t){return a.call(this,"group",t,e)},get:function(e){return this.cache.get(e)},getAll:function(e){return this.cache.getCollection(e)},getSearchResults:function(){return this.searchCache.getCollection({})},getFoundInCourse:function(e){return s.call(this,"course",e)},getFoundInLiveCourse:function(e){return s.call(this,"live_course",e)},getFoundInLiveCourseSession:function(e){return s.call(this,"live_course_session",e)},getFoundInTask:function(e){return s.call(this,"task",e)},getFoundInProgram:function(e){return s.call(this,"program",e)},getFoundInGroup:function(e){return s.call(this,"group",e)},createUser:function(e){var t=this,n=e.params,r=e.attributes;return(0,f.default)({url:"/api/admin/users",type:"POST",data:{users:[{uid:r.uid,email:r.email}]}}).then(function(e){var r=h.default.parse(e),a=(0,o.default)(r,1),s=a[0];return t.cache.add(s),t.cache.unshiftInCollection(n,s),s.id})},deleteUser:function(e){var t=this;this.cache.transaction(function(){return t.cache.remove(e.id),(0,f.default)({type:"DELETE",url:"/api/admin/users/"+e.id})})},hideUser:function(e){var t=this;this.cache.transaction(function(){return t.cache.remove(e.id),(0,f.default)({type:"POST",url:"/api/admin/users/"+e.id+"/hide"})})}});e.exports=_},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.oneOf,o=r.arrayOf,l=r.bool,u=r.number,c=r.object,d=n(128),p=d.QUESTION_TYPES;e.exports=a({id:s,courseTemplate:s,courseId:s,type:i(Object.keys(p).map(function(e){return p[e]})),body:s,forceTinymceImporterVersion:u,serializedBody:s,structuredBody:c,title:s,position:u,allowComments:l,attachmentUrl:s,attachmentAlign:s,attachmentAltText:s,staticOrder:l,answers:o(n(659)),attachments:o(n(33)),feedback:n(1500),coverSlideData:a({dark:l,heading:s,intro:s,backgroundColor:s,primaryColor:s,backgroundImageUrl:s,backgroundImageStyle:i(["fit","fill","stretch","tile","center"]),backgroundImageOpacity:u}),updatedAt:s})},function(e,t,n){"use strict";var r=n(12),a=n(1),s=n(23),i=n(47),o=n(483),l=n(4),u=l.omit,c=n(224),d=0,p=n(2),f=p.func,m=p.string,h=p.object,g=p.bool,v=p.oneOfType,_=p.node,y=p.element,b=a.createClass({displayName:"Popup",propTypes:{content:v([_,f]).isRequired,children:y,popupOptions:h,popupClassName:m,positioningAnchor:m,reactivePositioning:g,autoFocus:m,onPopupOpen:f,onPopupClose:f},statics:{AUTO_FOCUS_TIMEOUT:1,DEFAULTS:{overwrite:!1,prerender:!1,show:{event:"click",delay:0,effect:!1,solo:!1},hide:{event:"unfocus click",effect:!1,fixed:!0},style:{classes:"popup",def:!1,tip:{width:12,height:6}},position:{effect:!1,my:"right center",at:"left center",adjust:{x:0,y:0}}}},getInitialState:function(){return{container:null,content:null}},getDefaultProps:function(){return{children:a.createElement("button",null,"Show Popup"),popupOptions:{},positioningAnchor:".popup__anchor",reactivePositioning:!1}},getContentProps:function(e){return u(e,["content","popupOptions","positioningAnchor","children","ref","autoFocus","reactivePositioning"])},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},this.guid=++d,this._renderContent(this.props,function(t,n){e.setState({container:n,content:t})})},componentWillReceiveProps:function(e){var t=this;e.content!==this.props.content&&(this._removeContent(),this._renderContent(e,function(e,n){t.setState({container:n,content:e})}))},componentDidUpdate:function(){var e=this;if(this.state.content){var t=a.createElement(this.props.content,this.getContentProps(this.props));s.render(t,this.state.container,function(){e.isMounted()&&e.props.reactivePositioning&&e.reposition()})}},componentWillUnmount:function(){this._removeContent(),this.isMounted=function(){return!1}},render:function(){return this.props.children},open:function(){this.qTip&&!this.qTip.shown&&this.qTip.show()},reposition:function(){this.qTip&&this.qTip.shown&&this.qTip.reposition(null,!1)},close:function(){this.qTip&&this.qTip.shown&&(this.qTip.hide(),this.isMounted()&&this._getAnchor().focus())},isOpen:function(){return!(!this.qTip||!this.qTip.shown)},onKeyDown:function(e){r.KC_ESCAPE===e.keyCode&&this.close()},_renderContent:function(e,t){var n,r,l=i(s.findDOMNode(this)),u=this._getAnchor(e),c=i("<div class='popup__content' data-capybara='popup__content'/>");if(c.keydown(this.onKeyDown),!e.content)throw new Error("You must provide a 'content' component for a popup!");this.qTip=r=o(u,this._getQTipOptions(l,c)),n=a.createElement(e.content,this.getContentProps(e)),s.render(n,c[0],function(){t(this,c[0],r)})},_removeContent:function(){this.state.container&&s.unmountComponentAtNode(this.state.container),this.qTip&&(this.qTip.destroy(!0),this.qTip=null)},_getAnchor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=i(s.findDOMNode(this)),n=t.find(e.positioningAnchor);return n.length||(n=t),n},_getQTipOptions:function(e,t){var n=c({},b.DEFAULTS,this.props.popupOptions,{content:{text:t},events:{show:this._onQTipShow,visible:this._onQTipVisible,hide:this._onQTipHide}});return n.show.target||(n.show.target=e),n.hide.target||(n.hide.target=e),this.props.popupClassName&&(n.style.classes=(n.style.classes||"")+" "+this.props.popupClassName),n},_onQTipShow:function(e,t){t.shown=!0,this.props.autoFocus&&this._applyAutoFocus(s.findDOMNode(this.state.content)),this.props.onPopupOpen&&this.props.onPopupOpen(this.state.container,t),setTimeout(this.reposition,0)},_onQTipVisible:function(){this.isMounted()&&this.props.reactivePositioning&&this.reposition()},_onQTipHide:function(e,t){t.shown=!1,this.props.onPopupClose&&this.props.onPopupClose()},_applyAutoFocus:function(e){var t=this;if(this.isMounted()){var n=e||s.findDOMNode(this),r=this.props.autoFocus;r&&(n=i(n).find(r)[0]),n&&setTimeout(function(){t.isMounted()&&n.focus()},b.AUTO_FOCUS_TIMEOUT)}}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=n(33),i=r(s);t.default=(0,a.shape)({id:a.string,state:a.string,approverType:(0,a.oneOf)(["User","Group"]),approver:(0,a.shape)({id:a.string,name:a.string,avatarUrl:a.string,email:a.string}),learner:(0,a.shape)({id:a.string,name:a.string}),learnableType:a.string,learnable:(0,a.shape)({id:a.string,title:a.string,instructions:a.string,instructionsAttachments:(0,a.arrayOf)(i.default),structuredBody:a.object,state:a.string,requiresEvidence:a.bool,endAt:a.string})}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(174),s=r(a),i=n(10),o=i.shape,l=i.string,u=i.number,c=i.bool,d=i.object;e.exports=o({id:l,itemType:l,courseType:l,defaultDaysUntilDue:u,defaultDueOnDate:l,estimatedTime:u,editable:c,externalId:l,hasCertificate:c,isPublished:c,isArchived:c,passingThreshold:u,publishedAt:l,title:l,description:l,icon:o({"@id":l,width:u,height:u}),sessionsCount:u,maxQuizAttempts:u,continuingEducationCredits:u,requiresEvidence:c,requiresApproval:c,defaultApprover:d,subAccount:s.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=Object.keys(r.sniff).reduce(function(e,t){return e[t]=r.sniff[t],e},{}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(55),l=n(18),u=n(5),c=u.Icon,d=n(6),p=n(26),f=n(3),m=f.bool,h=f.oneOf,g=f.string,v=f.func,_=n(30),y=function(){var e=0;return function(){return"integration__checkbox"+ ++e}},b=y(),E=i.createClass({displayName:"Integration",propTypes:{default:m,description:g,disclaimer:g,logoFilename:g,logoSize:g,btnFilename:g,toast:h(["success","error"]),toastSuccess:g,toastError:g,title:g,toggleId:g,addServiceUrl:g,noOverlay:m,toggle:m,toggleOn:v,toggleOff:v,editLink:m,enableLink:m,popup:m,clearToast:v,detailsPath:g},componentWillReceiveProps:function(e){e.toast!==this.props.toast&&("success"===e.toast&&e.default?this.setState({active:!0,toast:e.toast}):this.setState({toast:e.toast}))},getDefaultProps:function(){return{logoSize:"medium",toggleId:b(),toggle:!0,toggleOn:Function.prototype,toggleOff:Function.prototype}},getInitialState:function(){return{active:this.props.default,enabled:this.props.default,toast:this.props.toast}},onToggle:function(){this.state.enabled?this.props.toggleOff():this.props.toggleOn(),this.setState({active:!1,enabled:!this.state.enabled})},disable:function(){this.setState({active:!1,enabled:!1})},closeToast:function(){this.setState({toast:null,enabled:this.state.active}),this.props.clearToast&&this.props.clearToast()},showToast:function(){return!!this.state.toast},triggerPopup:function(){var e=600,t=800,n=window.screen.height/2-2*t/3,r=window.screen.width/2-e/2,a="menubar=no,toolbar=no,status=no,height="+t+",width="+e+",top="+n+",left="+r,s=window.open(this.props.addServiceUrl,"_blank",a);return setTimeout(function(){return s.focus},0)},goToDetails:function(){this.state.enabled&&this.state.active&&this.props.detailsPath&&_.transitionTo(this.props.detailsPath)},stopPropagation:function(e){e.stopPropagation()},renderHeader:function(){var e=this.props,t=e.editLink,n=e.enableLink,r=e.toggle,a=e.toggleId,s=e.toggleOn;return i.createElement("header",{className:"integration__header pure-g"},i.createElement("div",{className:"pure-u-3-4"},i.createElement("h2",null,this.props.title)),i.createElement("div",{className:"pure-u-1-4 text-right"},i.createElement("label",{htmlFor:a,className:"screenreader-only"},p.t("Enable")),t&&this.state.enabled&&i.createElement("a",{className:"integration__editLink",onClick:s},p.t("Edit")),n&&!this.state.enabled&&i.createElement("a",{className:"integration__enableLink",onClick:s},p.t("Enable")),r&&i.createElement(o,{defaultChecked:this.state.enabled,checked:this.state.enabled,onChange:this.onToggle,id:a})))},renderToast:function(){var e,t=d({"integration__toast no-pointer":!0,"integration__toast--success":"success"===this.state.toast}),n=this.props,r=n.toastSuccess,a=n.toastError;return e="success"===this.state.toast?r||p.t("Sweet! We have successfully connected with your %{service} account.",{service:this.props.title}):a||p.t("Bummer. We are having issues connecting to your account. Please check your credentials."),i.createElement("div",{className:t,onClick:this.stopPropagation},i.createElement("p",null,e),i.createElement(l,{className:"integration__closeToastBtn",onClick:this.closeToast},i.createElement("span",{className:"screenreader-only"},p.t("Close")),i.createElement(c,{className:"gs-x gs-1x white"})))},renderAddServiceButton:function(){var e=p.t("Sign in to %{service}",{service:this.props.title}),t=this.props.popup?{onClick:this.triggerPopup}:{href:this.props.addServiceUrl};return this.props.btnFilename?i.createElement("a",(0,s.default)({},t,{className:"integration__brandedConfigureBtn"}),i.createElement("img",{src:"/images/"+this.props.btnFilename,alt:e,"data-capybara":"add_integration"})):i.createElement("a",(0,s.default)({},t,{className:"btn filled integration__configureBtn"}),e)},render:function(){var e=this.props,t=e.title,n=e.description,r=e.disclaimer,a=e.editLink,s=e.logoFilename,o=e.logoSize,u=e.noOverlay,f=d({integration__overlay:!0,"integration__overlay--active":this.state.enabled&&!this.state.active&&!this.showToast()&&!a&&!u}),m=d({"integration__description pure-g":!0,pointer:this.state.enabled&&this.state.active&&!!this.props.detailsPath}),h=o.split(" ").map(function(e){return"integration__logo--"+e}).join(" ");return i.createElement("div",{className:"integration"},this.renderHeader(),i.createElement("div",{className:m,onClick:this.goToDetails},i.createElement("div",{className:"integration__descriptionWrapper pure-u-3-5 padding-l"},i.createElement("p",null,n),r&&i.createElement("p",null,r)),i.createElement("div",{className:"integration__logoWrapper pure-u-2-5"},i.createElement("img",{className:"integration__logo "+h,src:"/images/"+s,alt:t})),i.createElement("div",{className:f},i.createElement(l,{className:"integration__closeBtnWrapper",onClick:this.onToggle},i.createElement("span",{className:"screenreader-only"},p.t("Close")),i.createElement(c,{className:"gs-x gs-1x dark-grey integration__closeBtn"})),this.renderAddServiceButton()),this.showToast()&&this.renderToast()))}});e.exports=E},function(e,t,n){"use strict";var r=n(1),a=n(147),s=n(358),i=n(18),o=n(375),l=r.createClass({displayName:"CountdownToast",getInitialState:function(){return{modalIsOpen:!1,isGettingBridge:!1}},componentWillMount:function(){s.addChangeListener("CountdownToast",this.update)},componentWillUnmount:function(){s.removeChangeListener("CountdownToast")},render:function(){return a.shouldShowCountdownToast()?r.createElement("div",{className:"free-trial-countdown-toast tom-keifer dark"},r.createElement("p",{className:"light",dangerouslySetInnerHTML:{__html:this.countdownText()}}),r.createElement(i,{className:"btn tertiary white dark",onClick:this.getBridge,disabled:this.state.isGettingBridge},this.state.isGettingBridge?I18n.t("Contacting rep..."):I18n.t("Get Bridge")),r.createElement(o,{isOpen:this.state.modalIsOpen,closeModal:this.closeGetBridgeModal})):null},countdownText:function(){var e=a.daysUntilTrialExpires();return 1===e?I18n.t("You have <strong>1 day</strong> left of your Bridge free trial"):I18n.t("You have <strong>%{days} days</strong> left of your Bridge free trial",{days:e})},getBridge:function(){var e=this;this.setState({isGettingBridge:!0}),s.sendGetBridgeEmail().then(function(){e.setState({modalIsOpen:!0}),e.setState({isGettingBridge:!1})})},closeGetBridgeModal:function(){this.setState({modalIsOpen:!1})},update:function(){this.forceUpdate()}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){throw(0,u.default)(I18n.t("Oh Snap! We were unable to upload your file. Please try again later."),{type:"error"}),e}function s(e,t){return new o.default(e,Object.assign({},f,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.uncaughtErrorHandler=t.createEvaporateObject=void 0,t.default=s;var i=n(666),o=r(i),l=n(19),u=r(l),c=n(7),d=r(c),p=n(12),f={adapter:d.default,policyUrl:"/api/author/file_upload_policies",multipartSignatureUrl:"/api/author/file_upload_policies/multipart_signature",largeUploadSize:p.MULTI_PART_UPLOAD_SIZE,fileTypes:p.S3_ACCEPTED_MIME_TYPES,uncaughtErrorHandler:a};t.createEvaporateObject=i.createEvaporateObject,t.uncaughtErrorHandler=a},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Function.prototype,t=[],n=!1;return{run:function(r,a,s){t.push(a),e(),a.then(function(){n=!1,t.splice(t.indexOf(a),1)},function(){n=0===a.status,t.splice(t.indexOf(a),1),e()}),s()},exports:{hasPendingRequests:function(){return t.length>0},hasConnectionError:function(){return n}}}}e.exports=n},function(e,t,n){"use strict";var r=n(47),a=n(478),s=function(e){var t=r.param(a(e));return t?"?"+t:""};e.exports=s},function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){if(!e)return"";t||(t="fromNow");var n;switch(t){case"fromNow":n=r(e).fromNow();break;case"fromNowShort":n=r(e).fromNow(!0);break;case"fromNowDate":n=r(e).isSame(new Date,"day")?I18n.t("today"):r(e).fromNow();break;case"time":n=r(e).format("LT");break;case"date":n=r(e).format("LL");break;default:n=r(e).format(t)}return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return c("string"==typeof e.contentType||"string"==typeof e.type,"Attachment-like object must contain a MIME type specifier!"),e.hasOwnProperty("contentType")?e.contentType:e.type}var s=n(4),i=n(20),o=r(i),l=t,u=n(5).constants,c=n(49),d=n(164),p=d.videoSupport,f=n(327),m=f.imageSupport,h=n(163),g=h.embedlySupport,v=n(330),_=v.MEDIA_BLOCK_UPLOADING,y=v.MEDIA_BLOCK_ABORTED,b=v.MEDIA_BLOCK_LOADING,E=v.MEDIA_BLOCK_ENCODING,C=v.MEDIA_BLOCK_ENCODED,I=v.MEDIA_BLOCK_BORKED,T={audio:!0,image:!0,video:!0};l.isAttachmentPending=function(e){if(!e)return!1;if(l.isImage(e))return!1;var t=e.media;return(!t||t.status!==u.NOTORIOUS_STATUS_FAILED)&&(!t||!t.sources||0===t.sources.length)},l.isAttachmentFailed=function(e){return e&&e.media&&e.media.status===u.NOTORIOUS_STATUS_FAILED},l.isAttachmentReady=function(e){return e&&(l.isInlineAttachment(e)||l.isImage(e)||e.media&&[u.NOTORIOUS_STATUS_PROCESSED,u.NOTORIOUS_STATUS_SUCCEEDED].indexOf(e.media.status)>-1)},l.isImage=function(e){return Boolean(a(e).match(u.REGEX_TYPE_IMAGE))},l.isAudio=function(e){return Boolean(a(e).match(u.REGEX_TYPE_AUDIO))},l.isVideo=function(e){return Boolean(a(e).match(u.REGEX_TYPE_VIDEO))},l.isInlineAttachment=function(e){if(!(0,o.default)("inline_attachments"))return!1;var t=a(e);return"inline"===t||!l.isImage(e)&&!l.isAudio(e)&&!l.isVideo(e)&&(0,s.includes)(u.S3_ACCEPTED_MIME_TYPES,t)},l.isExternalImage=function(e){return e&&"external-image"===e.type||"external"===e.type&&e.data&&"image"===e.data.externalMediaContentType},l.isExternalVideo=function(e){return e&&"external-video"===e.type||"external"===e.type&&e.data&&"video"===e.data.externalMediaContentType},l.isLti=function(e){return e&&"lti"===e.type},l.isEmbedly=function(e){return e&&"embedly"===e.type},l.isExternalMediaEntity=function(e){return l.isExternalImage(e)||l.isExternalVideo(e)||l.isEmbedly(e)||l.isLti(e)},l.isUploadedMediaEntity=function(e){return T[e.type]===!0},l.getExternalMediaData=function(e){return e?e.data&&e.data.externalMediaMetaData?e.data.externalMediaMetaData:e.data:null},l.isValidEmbedURL=function(e){return m.isImageUrl(e)||p.isSupportedVideo(e)||g.isEmbedlyUrl(e)},l.getEmbedContentType=function(e){return m.isImageUrl(e)?"image":p.isSupportedVideo(e)?"video":g.isEmbedlyUrl(e)?"embedly":null},l.findStaleAttachments=function(e){var t=e.slide,n=e.attachments;if(!(t&&t.structuredBody&&n&&n.length))return[];var r={audio:1,video:1},a=t.structuredBody.entityMap;return Object.keys(a).reduce(function(e,t){var s=a[t];return s.type in r?e.concat(n.filter(function(e){return e.id===s.data.attachmentId})):e},[]).filter(l.isAttachmentPending).map(function(e){return e.id})},l.getBlockStatus=function(e){return e.uploadId&&!e.upload?y:e.upload||e.attachment?l.isAttachmentReady(e.attachment)?C:l.isAttachmentFailed(e.attachment)?I:e.attachment&&!e.attachment.media?_:E:b},l.contentContainsEmbeddedImage=function(e){for(var t in e.entityMap)if(e.entityMap.hasOwnProperty(t)){var n=e.entityMap[t];if("image"===n.type&&"data:"===n.data.src.substring(0,5))return!0}return!1},l.isSelectable=function(e){return l.isImage(e)||l.isExternalImage(e)||l.isEmbedly(e)},l.selectionContainsImage=function(e){var t=l.getSelectedAtomicBlock(e);if(!t)return null;var n=t.entity,r=n.getType();return"image"===r||l.isExternalImage(n)},l.selectionContainsEmbedly=function(e){var t=l.getSelectedAtomicBlock(e);if(!t)return null;var n=t.entity;return l.isEmbedly(n)},l.getSelectedAtomicBlock=function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getFocusKey();if(r!==a)return!1;var s=n.getBlockForKey(r);if("atomic"!==s.getType())return!1;var i=s.getEntityAt(0);if(!i)return console.log("selected block not atomic!",s.toJS()),null;var o=n.getEntity(i);return{block:s,entityKey:i,entity:o}}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(173),o=r(i),l=n(269),u=r(l),c=n(5),d=n(363),p=r(d),f=n(602),m=r(f),h=n(4),g=n(198),v=r(g),_=n(3),y=s.default.createClass({displayName:"FilterPopdown",propTypes:{children:_.any,align:o.default.propTypes.align,filterSets:(0,_.arrayOf)((0,_.shape)({label:_.string,key:_.string,exclusive:_.bool,exclusiveOnlyForSet:_.bool,options:m.default.propTypes.filterOptions})),onChange:p.default.propTypes.onChange,activeFilters:_.object,className:_.string,popdownClassName:_.string},getDefaultProps:function(){return{align:"left",filterSets:[],activeFilters:{}}},clearFilters:function(e){e.stopPropagation();var t=(0,h.fromPairs)(this.props.filterSets.map(function(e){return[e.key,[]]}));this.props.onChange(t)},renderDefaultTrigger:function(){var e=this.props,t=e.activeFilters,n=e.filterSets,r=n.some(function(e){return!!t[e.key]});return r?s.default.createElement("span",{className:"popdown-selector__trigger--has-filters"},s.default.createElement(c.Icon,{className:"gs-filter gs-1x margin-r-xs"}),s.default.createElement("span",{className:"button-focus-flat__label"},I18n.t("Filtered")),s.default.createElement("span",{onClick:this.clearFilters},s.default.createElement(c.Icon,{className:"gs-x margin-l-s gs-3-4"}))):s.default.createElement("span",{className:"bold chart-grey"},s.default.createElement(c.Icon,{className:"gs-filter gs-1x margin-r-xs"}),s.default.createElement("span",{className:"button-focus-flat__label"},I18n.t("Filter by")),s.default.createElement(c.Icon,{className:"gs-arrow-down margin-l-s gs-3-4"}))},renderTrigger:function(){var e=(0,v.default)(this.props.children,o.default.Trigger);return e||s.default.createElement(o.default.Trigger,null,s.default.createElement(u.default,{className:"popdown-selector__trigger "+this.props.className},this.renderDefaultTrigger()))},render:function(){return s.default.createElement(o.default,{align:this.props.align},this.renderTrigger(),s.default.createElement(o.default.Content,{className:"popdown-selector "+this.props.popdownClassName,arrowUpDownNav:!0},s.default.createElement("h3",{className:"bold padding-s small filter-selector__header"},s.default.createElement(c.Icon,{className:"gs-filter gs-1x margin-r-xs"}),s.default.createElement("span",{className:"button-focus-flat__label"},I18n.t("Filter by"))),this.props.filterSets.map(this.renderFilterSet)))},renderFilterSet:function(e){var t=this,n=e.exclusive||e.exclusiveOnlyForSet?"activeFilter":"activeFilters",r={filterOptions:e.options,onChange:function(n){return t.props.onChange((0,h.zipObject)([e.key],[n]));
},exclusiveOnlyForSet:e.exclusiveOnlyForSet};return r[n]=this.props.activeFilters[e.key],s.default.createElement("div",{key:e.label||e.key},e.label&&s.default.createElement("div",{className:"bold small padding-tl-s"},e.label),e.exclusive||e.exclusiveOnlyForSet?s.default.createElement(m.default,r):s.default.createElement(p.default,r))}});e.exports=y,y.Trigger=o.default.Trigger,y.Content=o.default.Content},function(e,t,n){"use strict";var r=n(1),a=n(319),s=n(5),i=s.Icon,o=n(267),l=n(2),u=l.oneOf,c=l.oneOfType,d=l.string,p=l.number,f=l.bool,m=l.func,h=n(12),g=h.GROUP_TYPES,v=h.GROUP_TYPE_VALUES,_=r.createClass({displayName:"GroupAvatar",propTypes:{id:c([d,p]).isRequired,name:d,className:d,onClick:m,type:u(v),isSelected:f},getDefaultProps:function(){return{name:"",className:"",onClick:Function.prototype}},renderContents:function(){switch(this.props.type){case g.SMART:return this.renderEmblem();default:return this.renderInitials()}},renderEmblem:function(){return r.createElement("span",{className:"avatar__name"},r.createElement(i,{className:"gs-smart-group"}))},renderInitials:function(){return r.createElement("span",{className:"avatar__name"},a(this.props.name||""))},render:function(){return r.createElement(o,{id:this.props.id,"aria-hidden":!0,classPool:["jay-z","kanye","nas","dmx","dre","tupac","andre3000","big-boi","drake","kendrick-lamar","q-tip","notorious-big","black-thought","pusha-t","lil-wayne"],className:"avatar--group "+this.props.className,children:this.renderContents(),isSelected:this.props.isSelected,selectable:!0,onClick:this.props.onClick})}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return l(e)&&!(0,Z.default)("learn_program_due_date")?e.data.currentCourse:e.data}function s(e){return a(e).endAt}function i(e){return"LiveCourse"===e.learnableType}function o(e){return"Surveys::Survey"===e.learnableType}function l(e){return"Program"===e.learnableType}function u(e){return"Task"===e.learnableType}function c(e){return"CourseTemplate"===e.learnableType}function d(e){return"Lti::ContentItem"===e.learnableType}function p(e){return e.state===ee.STATUS_COMPLETE}function f(e){return e.state===ee.STATUS_LOCKED}function m(e){return e.state===ee.STATUS_ACTIVE}function h(e){return e.state===ee.STATUS_FAILED}function g(e){return e.permanentlyFailed}function v(e){return p(e)||h(e)||g(e)}function _(e){return p(e)||g(e)}function y(e){return c(e)&&ee.COURSE_EXTERNAL_TYPES.indexOf(e.data.courseType)>-1}function b(e){return!p(e)&&E(e)}function E(e){return o(e)||u(e)||i(e)||l(e)&&C(e)||c(e)&&e.data.required}function C(e){return e.data.pendingApprovalItemCount>0||e.data.currentCourse&&e.data.currentCourse.required}function I(e){return!E(e)&&!p(e)}function T(e){return e&&e.required&&e.endAt&&(0,$.default)(e.endAt)<(0,$.default)()}function N(e){return(0,Z.default)("learn_program_due_date")&&e&&l(e)&&e.data.endAt&&(0,$.default)(e.data.endAt)<(0,$.default)()}function S(e){return e&&e.data.required&&e.data.endAt&&(0,$.default)(e.data.endAt)<(0,$.default)().add(7,"days")}function x(e){var t=_(e);return!t&&(c(e)||l(e)||u(e))&&(N(e)||T(a(e)))}function A(e){return(0,Z.default)("learn_course_archive")&&!!e.archivedAt}function k(e){return i(e)&&!e.data.isRegistered}function w(e){return(0,Z.default)("web_conference")&&i(e)&&!p(e)&&e.data.isRegistered&&e.data.registeredSessionStartAt&&(0,$.default)(e.data.registeredSessionStartAt)<(0,$.default)().add(1,"hour")}function R(e){return(0,X.filter)(e,b)}function O(e){return(0,X.remove)(e,b)}function P(e){return(0,X.remove)(e,w)}function L(e){return(0,X.filter)(e,function(e){return o(e)||k(e)})}function M(e){return(0,X.remove)(e,function(e){return o(e)||k(e)})}function D(e){return(0,X.remove)(e,x)}function U(e){return(0,X.filter)(e,I)}function F(e){return(0,X.remove)(e,I)}function q(e){return(0,X.filter)(e,p)}function B(e){return(0,X.remove)(e,p)}function j(e){return(0,X.remove)(e,S)}function H(e){return(0,X.remove)(e,_)}function G(e){return!d(e)&&(!E(e)&&!p(e)&&!f(e))}function W(e){return!E(e)&&!p(e)&&!l(e)}function V(e){return(0,$.default)(e).fromNow()}function Y(e){return(0,$.default)(e).format("LL")}function z(e){var t=(0,$.default)();return i(e)&&e.data.sessions instanceof Array&&(0,X.sortBy)(e.data.sessions.filter(function(e){return K(e)>t}),function(e){return K(e)})}function K(e){return(0,Z.default)("web_conference")&&e.endAt?(0,$.default)(e.endAt):(0,$.default)(e.startAt)}var Q=n(11),$=r(Q),X=n(4),J=n(20),Z=r(J),ee=n(12),te=[ee.STATUS_CREATED,ee.STATUS_ACTIVE,ee.STATUS_FAILED,ee.STATUS_COMPLETE,ee.STATUS_LOCKED,ee.STATUS_REGISTERED,ee.STATUS_INVITED];e.exports={possibleStates:te,getActionItems:L,getDueDate:s,getRequiredItems:R,getOptionalItems:U,getCompletedItems:q,isLiveCourse:i,isSurvey:o,isTask:u,isProgram:l,isCourse:c,isLocked:f,isComplete:p,isRequired:E,isOptional:I,isOverdue:x,isArchived:A,isUpcoming:k,isAvailableSoon:w,isExternal:y,isFailed:h,isPermanentlyFailed:g,isStarted:m,isCompleteOrPermanentlyFailed:_,isCompletedOrFailed:v,takeAlertItems:P,takeActionItems:M,takeOverdueItems:D,takeOptionalItems:F,takeCompletedItems:B,takeRequiredItems:O,takeCompletedOrPermanentlyFailedItems:H,takeThisWeeksItems:j,shouldShowTitleOnly:W,canLearnerUnEnroll:G,formatTimeSince:V,formatTime:Y,availableSessions:z}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){c(!!e.url,"You must provide a starting URL!");var t=e.onProgress||Function.prototype,n=d(function(e,t){return o(u({},t,{url:e||t.url}))}),r={};return n.findAllPages(function(e){t(e),p(r,e,["meta"])},e).then(function(){return r})}var s=n(46),i=r(s),o=n(7),l=n(4),u=l.assign,c=n(41),d=n(44),p=function e(t,n,r){r=r||[];for(var a in n)n.hasOwnProperty(a)&&r.indexOf(a)===-1&&(t.hasOwnProperty(a)?t[a]instanceof Array?t[a]=t[a].concat(n[a]):"object"===(0,i.default)(t[a])?e(t[a],n[a]):t[a]=n[a]:t[a]=n[a])};e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.stubbableFn}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.constants}}),e.exports=t.default},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(3),l=o.bool,u=o.string,c=n(4),d=c.omit,p=n(6),f=i.createClass({displayName:"Grid",render:function(){return i.createElement("div",(0,s.default)({className:"course-meta-grid"},this.props))}}),m=i.createClass({displayName:"GridCell",propTypes:{className:u},render:function(){var e=p("course-meta-grid__cell",this.props.className);return i.createElement("div",(0,s.default)({className:e},d(this.props,"className")))}}),h=i.createClass({displayName:"GridLabel",propTypes:{className:u},render:function(){var e=p("course-meta-grid__cell--label",this.props.className);return i.createElement(m,(0,s.default)({className:e},d(this.props,"className")))}}),g=i.createClass({displayName:"GridField",propTypes:{className:u},render:function(){var e=p("course-meta-grid__cell--field",this.props.className);return i.createElement(m,(0,s.default)({className:e},d(this.props,"className")))}}),v=i.createClass({displayName:"GridCellAdditional",render:function(){var e=p({"course-meta-grid__cell":!0,"course-meta-grid__cell--span":!0,"course-meta-grid__cell--additional":!0});return i.createElement("div",(0,s.default)({className:e},this.props))}}),_=i.createClass({displayName:"GridColumn",render:function(){return i.createElement("div",(0,s.default)({className:"course-meta-grid__column"},this.props))}}),y=i.createClass({displayName:"IndentedGridCell",render:function(){return i.createElement("div",(0,s.default)({className:"course-meta-grid__cell course-meta-grid__cell--indented"},this.props))}}),b=i.createClass({displayName:"IndentedGridCellSpan",render:function(){return i.createElement("div",(0,s.default)({className:"course-meta-grid__cell course-meta-grid__cell--span course-meta-grid__cell--indented"},this.props))}}),E=i.createClass({displayName:"IndentedGridCells",propTypes:{open:l},render:function(){var e=p({"course-meta-grid__indented-cells":!0,"course-meta-grid__indented-cells--open":this.props.open});return i.createElement("div",(0,s.default)({className:e},this.props))}});e.exports=f,f.Cell=m,f.Label=h,f.Field=g,f.CellAdditional=v,f.Column=_,f.IndentedCell=y,f.IndentedCellSpan=b,f.IndentedCells=E},function(e,t,n){"use strict";var r=n(119),a=n(1),s=n(2),i=s.any,o=s.string,l=s.object,u=a.createClass({displayName:"DownloadLink",propTypes:{capybara:o,className:o,children:i,type:o.isRequired,info:l},getDownloadHref:function(){var e=this.props,t=e.type,n=e.info,a=r({type:t,info:n});return"/download/new"+a},render:function(){return a.createElement("a",{className:this.props.className,"data-capybara":this.props.capybara,href:this.getDownloadHref(),target:"_blank",children:this.props.children})}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(451),u=r(l),c=n(4),d=n(3),p=n(320),f=r(p);t.default=s.default.createClass({displayName:"IESafeSVG",propTypes:{startingHeight:d.number.isRequired,startingWidth:d.number.isRequired,children:d.node},svgProps:{},setSvgProps:function(e){this.svgProps=(0,c.cloneDeep)((0,c.omit)(e,["startingHeight","startingWidth","children"]))},componentWillMount:function(){this.setState({width:this.props.startingWidth,height:this.props.startingHeight,ratio:this.props.startingHeight/this.props.startingWidth,isIE11:(0,f.default)()}),this.setSvgProps(this.props)},componentWillReceiveProps:function(e){var t=o.default.findDOMNode(this).parentNode.getBoundingClientRect().width,n=e.startingHeight/e.startingWidth,r=t*n;this.setState({width:t,height:r,ratio:n}),this.setSvgProps(e)},componentDidMount:function(){this.state.isIE11&&(this.sizeComponent(),window.addEventListener("resize",this.sizeComponent),u.default.addChangeListener(this.sizeComponent))},componentWillUnmount:function(){this.state.isIE11&&(window.removeEventListener("resize",this.sizeComponent),u.default.removeChangeListener(this.sizeComponent))},sizeComponent:function(){var e=o.default.findDOMNode(this).parentNode.getBoundingClientRect().width,t=e*this.state.ratio;e!==this.state.width&&this.setState({width:e,height:t})},render:function(){return this.state.isIE11&&(this.svgProps.width=this.state.width,this.svgProps.height=this.state.height),s.default.createElement("svg",this.svgProps,this.props.children)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(819),o=r(i),l=n(6),u=r(l),c=n(4),d=n(2),p=s.default.createClass({displayName:"MediaUploader",propTypes:{maxSizeInBytes:d.number,fileTooLargeMessage:d.string,mimeType:(0,d.oneOfType)([d.string,(0,d.arrayOf)(d.string)]),allowedFileRegex:(0,d.instanceOf)(RegExp),allowedFileExtension:d.string,invalidFileMessage:d.string.isRequired,onChange:d.func.isRequired,multiple:d.bool,className:d.string,children:d.any},getDefaultProps:function(){return{maxSizeInBytes:10737418240,fileTooLargeMessage:I18n.t("The file is too large."),multiple:!1}},getInitialState:function(){return{canAcceptDrop:!1}},componentDidMount:function(){this.isMounted=function(){return!0},o.default.capture(this.props.mimeType)},componentWillUnmount:function(){o.default.release(this.props.mimeType),this.isMounted=function(){return!1}},render:function(){var e=(0,u.default)("media-uploader",this.props.className,{"media-uploader--active":this.state.canAcceptDrop});return s.default.createElement("div",{onDrop:this.acceptFromDrop,onDragOver:this.markWhetherWeAcceptDropping,onDragLeave:this.clearDropAcceptingMarker,"data-capybara":"media-uploader",className:e,children:this.props.children})},acceptFromFileList:function(e){var t=this;this.props.multiple?(0,c.range)(e.length).forEach(function(n){return t.checkFileListForFile(e,n)}):this.checkFileListForFile(e)},checkFileListForFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t];n&&this.accept(n)},markWhetherWeAcceptDropping:function(e){(0,c.includes)(e.dataTransfer.types,"Files")&&(this.shouldBeMarked=!0,this.state.canAcceptDrop||this.setState({canAcceptDrop:!0}))},clearDropAcceptingMarker:function(){var e=this;this.shouldBeMarked=!1,setTimeout(function(){e.isMounted()&&!e.shouldBeMarked&&e.setState({canAcceptDrop:!1})},10)},acceptFromDrop:function(e){e.preventDefault(),e.stopPropagation(),(0,c.includes)(e.dataTransfer.types,"Files")&&this.acceptFromFileList(e.dataTransfer.files),this.clearDropAcceptingMarker()},accept:function(e){var t=this.isValid(e);return t?this.props.onChange(e):this.isValidFileSize(e)?alert(this.props.invalidFileMessage):alert(this.props.fileTooLargeMessage),t},isValid:function(e){return this.isValidFileSize(e)&&this.isValidFileType(e)},isValidFileSize:function(e){try{return e.size<=this.props.maxSizeInBytes}catch(e){return!0}},isValidFileType:function(e){var t=this.props,n=t.mimeType,r=t.allowedFileRegex,a=t.allowedFileExtension,s=r||new RegExp(a+"$","i");return!!("string"==typeof n&&e.type.match(n)||Array.isArray(n)&&n.some(function(t){return e.type.match(t)})||e.name.match(s))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return v.default.get("ACCOUNT.config.external_course_id_enabled")}function s(){return v.default.get("ACCOUNT.config.learner_library_images_disabled")}function i(){return v.default.get("DOMAIN.config.limited_authoring")}function o(){var e=v.default.get("DOMAIN.config")||{};return{passwordMinimumLength:e.password_minimum_length,passwordRequiresNumbers:e.password_requires_numbers,passwordRequiresSymbols:e.password_requires_symbols,passwordRequiresUppercase:e.password_requires_uppercase}}function l(){return v.default.get("DOMAIN.id")}function u(){return!!v.default.get("DOMAIN.root")}function c(){return v.default.get("DOMAIN.is_sub_account")}function d(e){return p().some(function(t){return t.product_name===e})}function p(){return v.default.get("DOMAIN.config.products")||[]}function f(){return v.default.get("LEARN_URL")}function m(){return v.default.get("PERFORM_URL")}function h(){return v.default.get("CAREER_URL")}Object.defineProperty(t,"__esModule",{value:!0}),t.isSubAccount=t.isRootAccount=t.careerURL=t.performURL=t.learnURL=t.products=t.productEnabled=t.passwordRequirements=t.limitContentEditingToOwners=t.currentSubAccountId=t.areLearnerLibraryImagesDisabled=t.isExternalCourseIdEnabled=void 0;var g=n(31),v=r(g);t.isExternalCourseIdEnabled=a,t.areLearnerLibraryImagesDisabled=s,t.currentSubAccountId=l,t.limitContentEditingToOwners=i,t.passwordRequirements=o,t.productEnabled=d,t.products=p,t.learnURL=f,t.performURL=m,t.careerURL=h,t.isRootAccount=u,t.isSubAccount=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.ariaAlert}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(665);Object.defineProperty(t,"LockStore",{enumerable:!0,get:function(){return r(a).default}});var s=n(1506);Object.defineProperty(t,"LockActions",{enumerable:!0,get:function(){return r(s).default}});var i=n(1508);Object.defineProperty(t,"lockRequests",{enumerable:!0,get:function(){return r(i).default}});var o=n(3416);Object.defineProperty(t,"lockAwareAjax",{enumerable:!0,get:function(){return r(o).default}});var l=n(1507);Object.defineProperty(t,"extractLockHolderDetails",{enumerable:!0,get:function(){return r(l).default}});var u=n(3415);Object.defineProperty(t,"buildLockIdHeaderSetter",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(553),s=r(a);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,s.default)(e)}},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return"function"==typeof e.append}function s(e){return function(t){(0,u.assign)(e.props,t)}}function i(e,t,n){return function(){o(n,t,e.props)}}function o(e,t,n){var r=void 0;for(r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)||console.warn("An unknown prop '"+r+"' was passed down to '"+e+"'."))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(56),u=n(4),c=n(41),d=r(c),p=["displayName","tagName","propTypes","generateNode","getDefaultProps"],f={displayName:"AnonymousChartElement",propTypes:{},tagName:"g",generateNode:function(e,t){var n=a(e)?e:(0,l.select)(e);return n.append(t)},getDefaultProps:function(){return{}},elementDidMount:function(){},draw:function(){},elementWillUnmount:function(){}},m=function(e){var t=(0,u.assign)({},f,e);return function(e,n){var r=(0,u.omit)(t,p),a=i(r,t.propTypes,t.displayName),o=s(r),l=t.generateNode(n,t.tagName);return(0,d.default)(!!l,"\n      You must provide an SVG element (or a d3 selection of such an element) to\n      render a ChartElement.\n    "),r.props={},r.parentNode=l,r.setProps=(0,u.flowRight)(r.draw,a,o),o(t.getDefaultProps()),o(e),r.elementDidMount(),r}};m.remove=function(e){e.elementWillUnmount(),e.parentNode.remove()},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(78),o=r(i),l={getInitialState:function(){return{modalIsOpen:!1}},openModal:function(){this.setState({modalIsOpen:!0})},closeModal:function(){this.setState({modalIsOpen:!1})},isModalOpen:function(){return this.state.modalIsOpen},renderModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,contentLabel:""},t);return s.default.createElement(o.default,n,e)}};e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApprovalEvidenceSchema=void 0;var r=n(10),a=n(12),s=t.ApprovalEvidenceSchema=(0,r.shape)({id:r.string,downloadUrl:r.string,name:r.string});t.default=(0,r.shape)({id:r.string,createdAt:r.string,eventType:(0,r.oneOf)([a.APPROVAL_EVENT_TYPE_APPROVER_ASSIGNED,a.APPROVAL_EVENT_TYPE_COMMENT_ADDED,a.APPROVAL_EVENT_TYPE_APPROVED,a.APPROVAL_EVENT_TYPE_REJECTED,a.APPROVAL_EVENT_TYPE_REQUESTED]).isRequired,data:r.object,evidences:(0,r.arrayOf)(s)})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.bool;e.exports=a({provider:s,subprovider:s,model:s,url:s,logoutPath:s,idpEntityId:s,idpCert:s,idpCertFingerprint:s,idpSsoTargetUrl:s,idpSloTargetUrl:s,logoutRedirectUrl:s,nameIdentifierFormat:s,authnContext:s,allowedClockDrift:s,skipConditions:i,skipSubjectConfirmation:i,customizeSamlEntityId:i,title:s,host:s,port:s,base:s,method:s,uid:s,filter:s,nameProc:s,bindDn:s,password:s,clientId:s,clientSecret:s,authorizeUrl:s,tokenUrl:s,profileUrl:s,scope:s,loginAttribute:s,justInTimeProvisioning:i,tokenAsHeader:i,idpMetadataUrl:s,providerUuid:s})},function(e,t,n){"use strict";var r=n(10),a=r.arrayOf,s=r.bool,i=r.object,o=r.shape,l=r.string,u=r.number;e.exports=o({id:l,itemType:l,itemId:l,title:l,description:l,data:i,features:a(l),createdAt:l,updatedAt:l,completedAt:l,estimatedTime:u,tags:a(l),matchingTags:a(l),password:o({backgroundImageUrl:l,backgroundImageOpacity:u,backgroundColor:l,dark:s,heading:l,intro:l,primaryColor:l}),isEnrolled:s,progress:u,state:l,coverSlideData:i})},function(e,t,n){"use strict";function r(){var e=f(c.get("ACCOUNT.config.expiration_date")).format("YYYY-MM-DD"),t=f().utc().format("YYYY-MM-DD");return f(e).isSame(t)||f(e).isBefore(t)}function a(){return d.isAccountAdmin()||d.isAdmin()||d.isAuthor()||d.isManager()}function s(){return d.isAccountAdmin()||d.isSupport()||d.inheritsSupportPrivileges()||d.isItAdmin()}function i(){return d.isSupport()}function o(){return p.isMasquerading()}function l(){return p.isAuthenticated()}var u=n(177),c=n(31),d=n(39),p=n(34),f=n(11);t.userCanExtendTrial=s,t.freeTrialIsExpired=r,t.shouldShowExpirationOverlayForAdmin=function(){return l()&&(0,u.isFreeAccount)()&&t.freeTrialIsExpired()&&a()&&!i()&&!o()},t.shouldShowExpirationOverlayForLearner=function(){return l()&&(0,u.isFreeAccount)()&&t.freeTrialIsExpired()&&!a()&&!i()&&!o()},t.shouldShowExpirationOverlay=function(){return t.shouldShowExpirationOverlayForAdmin()||t.shouldShowExpirationOverlayForLearner()},t.shouldShowCountdownToast=function(){return l()&&(0,u.isFreeAccount)()&&!t.freeTrialIsExpired()&&a()},t.shouldShowTimeRunningOutToast=function(){return(0,u.isFreeAccount)()&&!t.freeTrialIsExpired()&&s()&&t.daysUntilTrialExpires()<=14},t.usedFreeTrialExtension=function(){return c.get("ACCOUNT.config.used_free_trial_extension")},t.daysUntilTrialExpires=function(){var e=f(c.get("ACCOUNT.config.expiration_date")).format("YYYY-MM-DD"),t=f().utc().format("YYYY-MM-DD");return f(e).diff(f(t),"days")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(21),o=n(95),l=n(3106),u=n(1403),c=n(3126),d=n(3138),p=n(829),f=n(3154),m=n(3226),h=n(3105),g=n(3236),v=n(3240),_=n(44),y=n(45),b=n(66),E=n(25),C=n(4),I=C.merge,T=C.reverse,N=C.sortBy,S=n(12),x=S.COURSE_EXTERNAL_TYPE_LYNDA,A={course_type:x},k=1e3,w=_(function(e,t,n){return f.performWithoutParsing({sort:t,query:n,nextPageURL:e})}),R=i({displayName:"AuthorCourseStore",schema:y,initialize:function(){this.recentCache=o(this.emitChange,{schema:y,displayName:"AuthorCourseStore__recent"}),this.searchCache=o(this.emitChange,{schema:y,displayName:"AuthorCourseStore__search"}),this.debouncedSearch=b(this.performSearch,k),this.removeAfterFetchAll=[]},clear:function(){this.recentCache.clear(),this.searchCache.clear(),this.debouncedSearch.cancel()},getInitialState:function(){return{searching:!1,archivedCount:null,unarchivedCount:null}},search:function(e,t,n){this.searchCache.setCollection({type:e,id:t},[]),n.search&&this.setState({searching:!0}),this.debouncedSearch(e,t,n)},getSearchResults:function(e,t){return this.searchCache.getCollection({type:e,id:t})},isSearching:function(){return this.state.searching},getArchivedCount:function(){return this.state.archivedCount},getUnarchivedCount:function(){return this.state.unarchivedCount},fetch:function(e){var t=this;return p(e).then(function(e){t.cache.add(e)})},fetchAll:function(e,t){var n=this;return this.cache.setCollection({sort:e,query:t},[]),w.findFirstPage(e,t).then(function(r){n.cache.setCollection({sort:e,query:t},f.parse(r)),n.setState({archivedCount:r.meta.archived_count,unarchivedCount:r.meta.unarchived_count}),n.removeAfterFetchAll.forEach(function(e){return n.removeFromCache(e)}),n.removeAfterFetchAll=[]})},fetchNext:function(e,t){var n=this;return w.hasMorePages()?w.findNextPage(e,t).then(function(r){n.cache.addToCollection({sort:e,query:t},f.parse(r))}):E.resolve([])},get:function(e){return this.cache.get(e)},getAll:function(e,t){return this.cache.getCollection({sort:e,query:t})},create:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=u(t);return n.then(function(t){e.cache.add(t),e.changeCourseCount("unarchivedCount",1)}),n},update:function(e,t){var n=this,r=this.get(e);if(r){var a=I({},{id:r.id},t);0===a.defaultDaysUntilDue&&(a.defaultDaysUntilDue=null);var s=I({},r,a);this.cache.transaction(function(){return n.cache.add(s),v(e,a).then(function(e){var t={enrollUrl:e.enrollUrl,estimatedTime:e.estimatedTime,reEnrollmentPeriod:e.reEnrollmentPeriod,dueDateType:e.dueDateType};return n.cache.add(I({},s,t)),e})})}},publish:function(e,t,n){var r=this;return m(e,t).then(function(e){return r.cache.add(e),e}).catch(n)},archive:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Function.prototype;return h(e,t).then(function(e){return n.updateCollection(r,e),n.changeCourseCount("archivedCount",1),n.changeCourseCount("unarchivedCount",-1),e}).catch(a)},unarchive:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Function.prototype;return g(e,t).then(function(e){return n.updateCollection(r,e),n.changeCourseCount("archivedCount",-1),n.changeCourseCount("unarchivedCount",1),e}).catch(a)},updateCollection:function(e,t){if(!e){var n=I({},this.get(t.id),t);return void this.cache.add(n)}this.cache.remove(t.id);var r=e.sort,a=e.query,s=a&&"1"===a.archived;if(t.isArchived?s:!s){var i={newest:"createdAt",title:"title",updated:"updatedAt",archived:"archivedAt"}[r]||"updatedAt",o=this.getAll(r,a).concat([t]),l=N(o,i);"title"!==i&&T(l),this.cache.setCollection(e,l)}},discardChanges:function(e){var t=this;return d(e).then(function(e){return t.cache.add(e),e})},delete:function(e,t){return this.removeFromCache(e),this.removeAfterFetchAll.push(e),c(e).catch(t)},removeFromCache:function(e){var t=this.cache.get(e);this.cache.remove(e),t&&t.isArchived?this.changeCourseCount("archivedCount",-1):this.changeCourseCount("unarchivedCount",-1)},changeCourseCount:function(e,t){var n=this.state[e],r=n+t;r<0&&(r=0),this.setState((0,s.default)({},e,r))},clone:function(e){var t=this;return l(e).then(function(e){return t.cache.add(e),e})},fetchAllLynda:function(){var e=this;return w.findFirstPage(null,{filters:[x],no_pagination:!0}).then(function(t){e.cache.setCollection(A,f.parse(t))})},getAllLynda:function(){return this.cache.getCollection(A)},hasLyndaCourse:function(e){var t=this.cache.getCollection(A);return t.filter(function(t){return t.thirdPartyCourseId===e}).length>0},addLyndaCoursesToCache:function(e){this.cache.addToCollection(A,e)},performSearch:function(e,t,n){var r=this;return w.findFirstPage(null,n).then(function(n){var a=f.parse(n);r.searchCache.setCollection({type:e,id:t},a),r.setState({searching:!1})})},getRecent:function(){return this.recentCache.getCollection({sort:"most_recent_update",limit:5})},fetchRecent:function(){var e=this;return f({query:{by_user:!0,limit:5}}).then(function(t){return e.recentCache.setCollection({sort:"most_recent_update",limit:5},t),t})}});e.exports=R,e.exports.SEARCH_DEBOUNCE_WAIT=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(9),i=r(s),o=n(38),l=r(o),u=n(21),c=r(u),d=n(279),p=r(d),f=n(62),m=r(f),h=n(321),g=r(h),v=n(165),_=n(12),y=n(4),b=n(479),E=r(b),C=n(835),I=r(C),T=n(307),N=r(T),S=n(190),x=r(S),A=n(20),k=r(A),w="self",R=(a={},(0,l.default)(a,_.THEME_HIGH_CONTRAST,_.THEME_HIGH_CONTRAST_CLASS),(0,l.default)(a,_.THEME_LIGHT,_.THEME_LIGHT_CLASS),a),O=(0,c.default)({displayName:"ProfileStore",schema:p.default,initialize:function(){this.syncCurrentUser(v.Storage.getItem("user"))},fetch:function(){var e=this;return(0,I.default)().then(function(t){return e.cache.add((0,i.default)({},t,{id:w})),t})},get:function(){return this.cache.get(w)||{id:w}},update:function(e){var t=this;return(0,N.default)(e).then(function(){t.cache.add(Object.assign(t.get(),e))})},isValidTheme:function(e){return[_.THEME_HIGH_CONTRAST,_.THEME_LIGHT].indexOf(e)!==-1},getCurrentTheme:function(e,t){var n=e;return n&&!this.isValidTheme(n)&&(n=null),n||m.default.isColorEnabled()&&_.THEME_LIGHT||t},getActiveTheme:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=t||x.default.getCurrentRoute();var r=this.get(),a=v.Storage.getItem("sidebarAdmin")&&"shared"===(0,E.default)(t),s=this.getCurrentTheme(r.theme,n),i=(0,y.values)(R).reduce(function(n,r){var i=r===R[s];return n[r]=i&&((0,g.default)(t)&&!a||e.shouldGloballyEnableTheme(r)),n},{});return{name:s||"default",classNames:i}},isActiveThemeHighContrast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getActiveTheme(e).name===_.THEME_HIGH_CONTRAST},syncCurrentUser:function(e){e&&this.cache.add({id:w,a11y:e.a11y,avatarUrl:e.avatar_url,locale:e.locale,theme:e.theme,tagline:e.tagline,timezones:e.timezones,bridgeRetainOnboardingPending:e.bridge_retain_onboarding_pending})},shouldGloballyEnableTheme:function(e){return!!(0,k.default)("global_nav_branding")&&e===R[_.THEME_LIGHT]}});t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return l(e)?e.map(function(e){return a(e,t)}):"object"===("undefined"==typeof e?"undefined":(0,i.default)(e))&&null!==e?u(e).reduce(function(n,r){var s=o(r),u=e[r];return t&&t.indexOf(r)>-1?n[r]=u:l(u)||"object"===("undefined"==typeof u?"undefined":(0,i.default)(u))&&null!==u?n[s]=a(u,t):n[s]=u,n},{}):e}var s=n(46),i=r(s),o=n(480),l=Array.isArray,u=Object.keys;e.exports=a},function(e,t,n){"use strict";function r(e){var t=Math.abs(s().diff(e,"days")),n=s().isAfter(e);if(t>1){var r=I18n.t("day",{count:t});return n?I18n.t("%{days} ago",{days:r}):I18n.t("in %{days}",{days:r})}if(1===t)return n?I18n.t("yesterday"):I18n.t("tomorrow");var a=s.relativeTimeThreshold("h"),i=s.relativeTimeRounding();s.relativeTimeThreshold("h",24),s.relativeTimeRounding(Math.floor);var o=s(e).fromNow();return s.relativeTimeThreshold("h",a),s.relativeTimeRounding(i),o}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r(e);return t?I18n.t("%{prefix} due %{periodOfTime}",{prefix:t,periodOfTime:n}):I18n.t("Due %{periodOfTime}",{periodOfTime:n})}var s=n(11);e.exports={dueDateDuration:r,dueDateText:a}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return ae.some(function(t){return t(e)===!0})}function s(e,t){var n=e.editorState;e.onChange;if(ne.indexOf(t.keyCode)!==-1)return null;var r=n.getSelection(),a=n.getCurrentContent(),s=a.getBlockForKey(r.getStartKey());return"atomic"===s.getType()?(t.preventDefault(),!0):null}function i(e,t){if("atomic"!==e.getType())return null;var n=e.getEntityAt(0);return n?{component:F.default,editable:!1,props:t}:null}function o(e){var t=e.getCurrentContent(),n=t.getBlocksAsArray(),r=n.reduce(function(e,n){var r=u(n),a=r.map(function(e){return t.getEntity(e)}),s=a.filter(Z.default.isExternalVideo).map(function(e,t){return{entityKey:r[t],entity:e}});return e.concat(s)},[]);return r.reduce(function(e,t){var n=t.entityKey,r=t.entity;return e.then(function(e){return c({editorState:e,entity:r,entityKey:n})})},I.default.resolve(e))}function l(e){var t=(0,O.default)(e.getCurrentContent());return T.EditorState.push(e,t)}function u(e){return e.getCharacterList().filter(function(e){return!!e.entity}).map(function(e){return e.entity}).toArray()}function c(e){var t=e.editorState,n=e.entity,r=e.entityKey,a=n.getData().src||n.getData().original,s=S.videoSupport.getDetails(a);return S.videoSupport.fetchMeta([s.url]).then(function(e){var a=(0,h.default)(e,1),i=a[0];return(0,N.updateEntityData)(t,r,Object.assign({},n.data,{aspectRatio:i.aspectRatio,duration:i.duration,id:s.id,original:s.url,provider:i.type,thumb:i.thumb}))})}function d(e){var t=(0,A.default)(e,x.Edges.At|x.Edges.After);if(t){var n=(0,w.default)(e.getCurrentContent(),t,"Forward");if(n)return T.EditorState.push(e,n,"remove-range")}return null}function p(e){var t=(0,A.default)(e,x.Edges.At|x.Edges.Before);if(t){var n=(0,w.default)(e.getCurrentContent(),t,"Backward");return n?T.EditorState.push(e,n,"remove-range"):null}var r=T.RichUtils.tryToRemoveBlockStyle(e);return r?T.EditorState.push(e,r,"change-block-type"):null}function f(e){var t=e.getCurrentContent(),n=e.getSelection(),r=t.getBlockForKey(n.getStartKey());if("atomic"===r.getType()){var a=(0,L.default)(t,r.getKey());return T.EditorState.push(e,a,"insert-fragment")}return null}Object.defineProperty(t,"__esModule",{
value:!0}),t.keyCommands=t.Components=t.decorators=t.MediaUtils=t.MediaUploadSchema=t.MediaSchema=t.component=t.commands=void 0;var m=n(70),h=r(m),g=n(934);Object.defineProperty(t,"commands",{enumerable:!0,get:function(){return r(g).default}});var v=n(935);Object.defineProperty(t,"component",{enumerable:!0,get:function(){return r(v).default}});var _=n(490);Object.defineProperty(t,"MediaSchema",{enumerable:!0,get:function(){return r(_).default}});var y=n(202);Object.defineProperty(t,"MediaUploadSchema",{enumerable:!0,get:function(){return r(y).default}});var b=n(121);Object.defineProperty(t,"MediaUtils",{enumerable:!0,get:function(){return r(b).default}});var E=n(947);Object.defineProperty(t,"decorators",{enumerable:!0,get:function(){return r(E).default}}),t.handleReturn=a,t.keyBindingFn=s,t.blockRendererFn=i,t.fixImportedEmbeddedVideos=o,t.applyIntegrityEnforcements=l;var C=n(25),I=r(C),T=n(35),N=n(73),S=n(164),x=n(950),A=r(x),k=n(951),w=r(k),R=n(949),O=r(R),P=n(948),L=r(P),M=n(492),D=r(M),U=n(939),F=r(U),q=n(493),B=r(q),j=n(494),H=r(j),G=n(495),W=r(G),V=n(496),Y=r(V),z=n(497),K=r(z),Q=n(946),$=r(Q),X=n(498),J=r(X),Z=r(b),ee=n(327),te=n(163),ne=(t.Components={MediaAudioVideo:D.default,MediaBlock:F.default,MediaEncodingPlaceholder:B.default,MediaImage:H.default,MediaImageAltText:W.default,MediaImageLink:Y.default,MediaPlaceholder:K.default,MediaUploader:$.default,UrlAndFileUploader:J.default},[N.KeyCodes.KC_LEFT,N.KeyCodes.KC_UP,N.KeyCodes.KC_RIGHT,N.KeyCodes.KC_DOWN,N.KeyCodes.KC_RETURN,N.KeyCodes.KC_BACKSPACE,N.KeyCodes.KC_DELETE]),re=(t.keyCommands={delete:function(e){var t=e.onChange,n=e.editorState,r=d(n);return r&&t(r),!!r},backspace:function(e){var t=e.onChange,n=e.editorState,r=p(n);return r&&t(r),!!r}},function(e){var t=e.editorState,n=e.onChange,r=f(t);return r&&n(r),!!r}),ae=[ee.handleReturn,S.handleReturn,te.handleReturn,re]},,function(e,t){"use strict";t.AGGREGATE_GROUP_ID="__everyone__",t.BLANK_QUESTION_ID="__blank__",t.MAX_WIDTH=1e3,t.CIRCLE_RADIUS=10,t.ROW_H=60,t.CAPTION_H=35,t.Y_AXIS_W=40,t.INSPECTOR_PADDING=30,t.INSPECTOR_ADJUST_TOP=-30,t.INSPECTOR_BORDER_THICKNESS=3,t.SLIDER_H=26,t.HANDLE_W=18,t.HANDLE_H=39,t.RULER_W=1,t.AGGREGATE_CIRCLE_SCALE=1,t.FILTERED_CIRCLE_OPACITY=.15,t.FILTERED_QUESTION_OPACITY=.5,t.INITIAL_SLIDER_VALUE=75,t.CORNER_ROUNDING_RADIUS=12,t.GROUP_COLORS=["#f37caf","#72f0ff","#9e7bdb","#fcd168","#7ebeff","#ed3685","#27e9ff","#6a35c8","#fbb918","#3a9cff","#bb0251","#00b2c6","#3c059f","#c28500","#0265c8"]},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.number,i=r.string,o=r.shape;e.exports=o({id:i,name:i,userCount:s,affiliated:a,hasEnrollments:a,hasForeignSources:a,affiliationPending:a})},function(e,t,n){"use strict";var r=n(10);e.exports=(0,r.shape)({avatarUrl:r.string,completedCoursesCount:r.number,customFields:(0,r.arrayOf)((0,r.shape)({id:r.string,name:r.string})),customFieldValues:(0,r.arrayOf)((0,r.shape)({id:r.string,value:r.string,customFieldId:r.string})),deletedAt:r.string,email:r.string,firstName:r.string,fullName:r.string,hireDate:r.string,hrisId:r.string,id:r.string,jobTitle:r.string,lastName:r.string,loggedInAt:r.string,managerId:r.string,managerName:r.string,ownedTeamId:r.string,ownedTeamMembershipCount:r.number,meta:(0,r.shape)({canMasquerade:r.bool}),name:r.string,nextDueDate:r.string,passwordUrl:r.string,roles:(0,r.arrayOf)(r.string),sortableName:r.string,uid:r.string,unsubscribed:r.bool,welcomeUrl:r.string})},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.shape,i=r.string;e.exports=s({id:i,liveCourseSessionId:i,provider:i,otherProvider:i,meetingUrl:i,accessCode:i,phone:i,hostKey:i,password:i,defaultSession:a,applyAll:a,registrationLink:i})},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.string,i=r.shape;e.exports=i({id:s,name:s,description:s,xmlConfiguration:s,configUrl:s,consumerKey:s,sharedSecret:s,toolEnabled:a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,audience:r.string,category:r.string,name:r.string,description:r.string,channels:(0,r.shape)({email:r.bool,slack:r.bool})}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(3273),i=r(s);e.exports=(0,a.shape)({id:a.string,startAt:a.string,endAt:a.string,concludedAt:a.string,location:a.string,seats:a.number,seatsRemaining:a.number,isOpen:a.bool,isRegistered:a.bool,multiPart:a.bool,partsCount:a.number,parentId:a.string,parts:(0,a.arrayOf)(i.default),timezone:a.string,webConference:(0,a.shape)({url:a.string,provider:a.string,otherProvider:a.string,registrationLink:a.string}),liveCourse:(0,a.shape)({id:a.string,uuid:a.string,title:a.string,description:a.string,isEnrolled:a.bool})})},function(e,t){"use strict";var n=function(e){var t=[].slice.call(arguments,1);return function(){return e.apply(this,t.concat([].slice.call(arguments)))}};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.editorState,n=e.onChange,r=c.default.getBlockText(t);return!!c.default.isEmbedlyUrl(r)&&((0,p.default)(t).then(function(e){n(e)}),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.embedlySupport=t.handleModalEmbed=t.EmbedlyMedia=t.teardownEmbedly=t.initializeEmbedly=void 0;var s=n(922);Object.defineProperty(t,"initializeEmbedly",{enumerable:!0,get:function(){return r(s).default}});var i=n(923);Object.defineProperty(t,"teardownEmbedly",{enumerable:!0,get:function(){return r(i).default}});var o=n(921);Object.defineProperty(t,"EmbedlyMedia",{enumerable:!0,get:function(){return r(o).default}});var l=n(926);Object.defineProperty(t,"handleModalEmbed",{enumerable:!0,get:function(){return r(l).default}});var u=n(488);Object.defineProperty(t,"embedlySupport",{enumerable:!0,get:function(){return r(u).default}}),t.handleReturn=a;var c=r(u),d=n(925),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.editorState,n=e.onChange,r=l.default.getBlockText(t);return!(r.match(/\s/)||!l.default.isSupportedVideo(r))&&((0,c.default)(t).then(function(e){n(e)}),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.videoSupport=t.handleModalEmbed=t.ExternalMedia=void 0;var s=n(929);Object.defineProperty(t,"ExternalMedia",{enumerable:!0,get:function(){return r(s).default}});var i=n(931);Object.defineProperty(t,"handleModalEmbed",{enumerable:!0,get:function(){return r(i).default}});var o=n(328);Object.defineProperty(t,"videoSupport",{enumerable:!0,get:function(){return r(o).default}}),t.handleReturn=a;var l=r(o),u=n(930),c=r(u)},function(e,t,n){"use strict";t.Storage=n(1061),t.cookieStorage=n(525)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){return d[e].apply(null,arguments)}}Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.toastOfError=t.toast=t.FakeToast=t.toaster=void 0;var s=n(1064),i=r(s),o=n(1065),l=r(o),u=n(1066),c=r(u),d=(0,i.default)({});t.default=(0,l.default)(d),t.toaster=d,t.FakeToast=c.default;t.toast=a("toast"),t.toastOfError=a("toastOfError"),t.clear=a("clear")},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=r(i),l=n(78),u=r(l),c=n(143),d=r(c),p=n(47),f=r(p),m=n(66),h=r(m),g=n(6),v=r(g),_=n(3),y=n(179),b=r(y),E=n(343),C=r(E),I=n(12),T=s.default.createClass({displayName:"PopdownContent",propTypes:{children:_.any,className:_.string,isOpen:_.bool,arrowUpDownNav:_.bool,onClose:_.func,contentLabel:_.string},getDefaultProps:function(){return{arrowUpDownNav:!1}},onAfterOpen:function(){this.props.arrowUpDownNav&&(0,b.default)(this.refs.popdownContentWrapper)},handleKeyDown:function(e){if(this.props.arrowUpDownNav&&[I.KC_UP,I.KC_DOWN].indexOf(e.keyCode)!==-1){var t=(0,C.default)(this.refs.popdownContentWrapper);if(t.length){e.preventDefault();var n=0;switch(e.keyCode){case I.KC_DOWN:n=t.indexOf(document.activeElement)+1,n=n>t.length-1?0:n;break;case I.KC_UP:n=t.indexOf(document.activeElement)-1,n=n<0?t.length-1:n}t[n].focus()}}},renderChildren:function(){return s.default.createElement("div",{ref:"popdownContentWrapper",onKeyDown:this.props.arrowUpDownNav?this.handleKeyDown:null},this.props.children)},render:function(){return s.default.createElement(u.default,{ref:"modal",className:"popdown__modal "+this.props.className,overlayClassName:"popdown__overlay",isOpen:this.props.isOpen,onRequestClose:this.props.onClose,contentLabel:this.props.contentLabel||"",onAfterOpen:this.onAfterOpen},this.renderChildren())}}),N=s.default.createClass({displayName:"PopdownTrigger",propTypes:{children:_.any,onClick:_.func},render:function(){var e=s.default.Children.only(this.props.children);return s.default.cloneElement(e,{className:(0,v.default)("popdown__trigger",e.props.className),onClick:this.props.onClick})}}),S=s.default.createClass({displayName:"Popdown",mixins:[d.default],propTypes:{children:function e(t,n){var e=t[n]||[];e._isReactElement&&(e=[e]);var r=e.filter(function(e){return[N,T].indexOf(e.type)===-1});return r.length?new Error("Popdown only support Popdown.Trigger and Popdown.Content as valid children, not "+r[0].type):void 0},align:(0,_.oneOf)(["right","left"])},getDefaultProps:function(){return{align:"left"}},componentDidMount:function(){this.isMounted=function(){return!0},(0,f.default)(window).on("scroll.filter_sort",(0,h.default)(this.repositionModal,10)),(0,f.default)(window).on("resize.filter_sort",(0,h.default)(this.repositionModal,200))},componentDidUpdate:function(){setTimeout(this.repositionModal,0)},componentWillUnmount:function(){(0,f.default)(window).off("scroll.filter_sort"),(0,f.default)(window).off("resize.filter_sort"),this.isMounted=function(){return!1}},render:function(){return s.default.createElement("span",{className:"popdown"},this.renderChildren())},renderChildren:function(){var e=this;return s.default.Children.map(this.props.children,function(t){return t.type===N?s.default.cloneElement(t,{ref:"trigger",onClick:e.openModal}):t.type===T?s.default.cloneElement(t,{isOpen:e.state.modalIsOpen,onClose:e.closeModal}):null})},repositionModal:function(){if(this.isModalOpen()&&this.isMounted()){var e=(0,f.default)(".ReactModal__Content.popdown__modal"),t=e.outerWidth(),n=o.default.findDOMNode(this.refs.trigger),r=n.getBoundingClientRect(),a=r.top,s=r.left,i=r.width,l={top:a,left:s};"right"===this.props.align?l.left-=t-i:(l.minWidth=i+"px",l.left>document.body.offsetWidth-t&&(l.left=document.body.offsetWidth-t)),e.css(l)}}});e.exports=S,S.Trigger=N,S.Content=T},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.shape,o={id:a,name:a,isRoot:s,notCurrent:s,subAccountsExist:s};e.exports=i(o),e.exports.object=o},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,name:a})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,name:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.excludeSupport,n=void 0===t||t;return(!n||!b())&&E("free","lite")}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.excludeSupport,n=void 0===t||t;return(!n||!b())&&E("free")}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.excludeSupport,n=void 0===t||t;return(!n||!b())&&E("lite")}function o(e){a(e)&&h.default.transitionTo(d.default.getPostAuthRoute()).then(function(){(0,f.default)(y.getInsufficientPermissionsErrorMessage(),{type:"error"})})}Object.defineProperty(t,"__esModule",{value:!0}),t.isFreeOrLiteAccount=a,t.isFreeAccount=s,t.isLiteAccount=i,t.redirectIfFreeOrLiteAccount=o;var l=n(31),u=r(l),c=n(34),d=r(c),p=n(19),f=r(p),m=n(13),h=r(m),g=n(39),v=r(g),_=n(5),y=_.utils.I18nStringConstants,b=function(){return v.default.inheritsSupportPrivileges()},E=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=u.default.get("ACCOUNT");return!!r&&!!t.find(function(e){return r.account_type===e})}},function(e,t){"use strict";e.exports=function(e){return void 0!==e?[].concat(e):[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=void 0;if("string"==typeof e){var r=e.split(","),a=r.map(function(e){return document.querySelector(e)});n=a.filter(function(e){return e})[0]}else n=e;n&&setTimeout(function(){var e=n.getAttribute("tabindex");n.setAttribute("tabindex",-1),n.addEventListener("blur",function t(){void 0===e||null===e?n.removeAttribute("tabindex"):n.setAttribute("tabindex",e),n.removeEventListener("blur",t)}),n.focus(),t&&t(n)},0)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(127),i=r(s);t.default=(0,i.default)(a),e.exports=t.default},function(e,t,n){"use strict";e.exports=n(4).get},,,,,function(e,t,n){"use strict";function r(e,t){var n=(0,s.map)(t.apps,function(e,t){return e&&(0,s.merge)({},e,{id:t})});return(0,s.compact)(n).map(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=r;var a=n(10),s=n(4);t.default=a.any},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),a=n(1477),s={};t.default={addScreen:function(e,t,n){return r(!s[e],"a preview already exists for "+e),n=a(n),s[e]={id:e,Handler:n,title:t},n},getScreen:function(e){return r(s.hasOwnProperty(e),"No Previewable entry exists by the name of '"+e+"', wuz going on man?"),s[e]},removeScreen:function(e){delete s[e]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(870),u=r(l),c=n(13),d=r(c),p=n(5),f=n(6),m=r(f),h=n(62),g=r(h),v=n(39),_=r(v),y=n(12),b=o.default.createClass({displayName:"BackToMyLearningButton",propTypes:{className:s.default.string,secondaryClassName:s.default.string,hasBackIcon:s.default.bool,preview:s.default.bool,hideTextOnMobile:s.default.bool,primaryColor:s.default.string},getDefaultProps:function(){return{hasBackIcon:!1}},getStyle:function(){if(_.default.getTheme()===y.THEME_HIGH_CONTRAST)return{};if(this.props.className&&this.props.className.indexOf("brand-")!==-1)return{};if(this.props.secondaryClassName&&this.props.secondaryClassName.indexOf("brand-")!==-1)return{};var e=this.props.primaryColor||"#"+g.default.getPublishedColor();return{color:e}},renderSpan:function(){var e=(0,m.default)("button-focus-flat__label",{"hidden-mobile":this.props.hideTextOnMobile});return o.default.createElement("span",{className:this.props.secondaryClassName,style:this.getStyle(),"data-capybara":"btml_branding_location"},this.props.hasBackIcon&&o.default.createElement(p.Icon,{className:"gs-arrow-left gs-1x margin-r-xs"}),o.default.createElement("span",{className:e},this.getLabel()))},render:function(){return this.props.preview?o.default.createElement("span",{className:this.props.className},this.renderSpan()):u.default.hasHref()?o.default.createElement("a",{href:u.default.getHref(),className:this.props.className+" break-word","aria-label":this.getLabel()},this.renderSpan()):o.default.createElement(d.default,{to:"learner.courses",className:this.props.className+" break-word",ariaLabel:this.getLabel()},this.renderSpan())},getLabel:function(){return u.default.getLabel()}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(908),u=r(l),c=n(6),d=r(c),p=n(12),f=n(440),m=r(f),h=n(3),g=n(4),v=o.default.createClass({displayName:"EditableTextareaFrd",propTypes:{className:h.string,onFocus:h.func,onBlur:h.func,onKeyDown:h.func,placeholder:h.string,disabled:h.bool,multiline:h.bool,value:h.string,enableLinks:h.bool},getDefaultProps:function(){return{multiline:!0,enableLinks:!1}},getInitialState:function(){return{isFocused:!1,spellcheck:!0}},getValue:function(){return null===this.props.value?"":this.props.value},onFocus:function(e){"A"!==e.target.tagName&&(this.setState({isFocused:!0,spellcheck:!0},this.props.enableLinks&&this.focus),this.props.onFocus&&this.props.onFocus(e))},onBlur:function(e){this.setState({isFocused:!1,spellcheck:!1}),this.props.onBlur&&this.props.onBlur(e)},onKeyDown:function(e){var t=!this.props.multiline&&e.keyCode===p.KC_RETURN;(e.keyCode===p.KC_ESCAPE||t)&&e.target.blur(),this.props.onKeyDown&&this.props.onKeyDown(e)},focus:function(){this.textareaNode.focus()},setTextareaNode:function(e){this.textareaNode=e},render:function(){var e=(0,d.default)(this.props.className,"editable-textarea-frd"),t=this.state,n=t.isFocused,r=t.spellcheck,a=(0,g.omit)(this.props,["multiline","value","enableLinks"]);return this.props.enableLinks&&!n?o.default.createElement("div",{className:(0,d.default)(e,"editable-textarea-frd--with-links"),disabled:this.props.disabled,tabIndex:"0",onFocus:this.onFocus},o.default.createElement(m.default,null,this.props.value||this.props.placeholder)):o.default.createElement(u.default,(0,s.default)({},a,{value:this.getValue(),spellCheck:r,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,className:e,inputRef:this.setTextareaNode,"data-capybara":"input-field"}))}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(696),o=r(i),l=n(1),u=r(l),c=n(359),d=r(c),p=n(143),f=r(p),m=n(2),h=n(7),g=r(h),v=n(19),_=r(v),y=n(3082),b=r(y),E=n(43),C=n(902),I=r(C),T=function(e){return e.filter(function(e){return e.count>0})},N=u.default.createClass({displayName:"MessageBox",mixins:[f.default],propTypes:{ajax:m.func,anchor:(0,m.oneOf)(["bottomRight","topRight","bottomCenter"]),wrapperClassName:m.string,triggerClassName:m.string,disabled:m.bool,defaultFilterValue:m.string,filters:(0,m.arrayOf)((0,m.shape)({count:m.number,label:m.string,value:m.string})),onMessageFail:m.func,onMessageSend:m.func,placeholder:m.string,rangeFrom:m.string,rangeTo:m.string,recipientId:m.string,recipientName:m.string,recipientType:m.string,messageUrl:m.string,round:m.bool,maxLength:m.number,isActionMenuItem:m.bool,children:m.any},getDefaultProps:function(){return{ajax:g.default,anchor:"topRight",disabled:!1,filters:[],round:!1,maxLength:1e3,messageUrl:"/api/author/messages",onMessageSend:function(e){(0,_.default)(e)},onMessageFail:function(e){(0,_.default)(e,{type:"error"})}}},getInitialState:function(){return{body:"",isSending:!1,selectedFilterValue:this.getInitialSelectedFilterValue()}},getInitialSelectedFilterValue:function(){var e=T(this.props.filters);return this.props.defaultFilterValue||e[0]&&e[0].value},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},getSelectedFilterValue:function(){return this.props.filters.length>0?this.state.selectedFilterValue:this.props.defaultFilterValue},checkTrigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=T(t);return!e&&(0===t.length||n.length>0)},messageSuccess:function(){var e=this.props.isActionMenuItem;e||this.closeAndClear(),this.props.onMessageSend(I18n.t("Your message was successfully sent!"))},messageFailure:function(){var e=this.props,t=e.isActionMenuItem,n=e.onMessageFail;n(I18n.t("There was a problem sending your message, please try again.")),!t&&this.isMounted()&&this.openModal()},sendMessage:function(e){var t=this,n=this.props,r=n.ajax,a=n.recipientType,s=n.recipientId,i=n.rangeFrom,o=n.rangeTo,l=n.messageUrl,u=n.isActionMenuItem,c=this.state.body;if(c){var d={recipient_type:a,recipient_id:s,filter:this.getSelectedFilterValue(),range_from:i,range_to:o,body:c},p=r({url:l,type:"POST",data:{message:d},dataType:"json"});u||this.closeModal(),p.then(function(){t.messageSuccess(),u&&e()},this.messageFailure)}},handleBodyChange:function(e){this.setState({body:e})},handleFilterChange:function(e){this.setState({selectedFilterValue:e})},closeAndClear:function(){var e=this;this.isMounted()&&this.setState({modalIsOpen:!1},function(){return e.setState({body:""})})},renderContent:function(e){var t=this.props,n=t.wrapperClassName,r=t.defaultFilterValue,a=t.filters,s=t.placeholder,i=t.recipientId,o=t.recipientName,l=t.recipientType,c=t.maxLength,d=this.state,p=d.body,f=d.selectedFilterValue;return u.default.createElement(b.default,{onClose:e,sendMessage:this.sendMessage,wrapperClassName:n,defaultFilterValue:r,filters:a,placeholder:s,recipientId:i,recipientName:o,recipientType:l,maxLength:c,onBodyChange:this.handleBodyChange,onFilterChange:this.handleFilterChange,body:p,selectedFilterValue:f})},render:function(){var e=this,t=this.props,n=t.anchor,r=t.wrapperClassName,a=t.triggerClassName,i=t.disabled,l=t.filters,c=t.round,p=t.isActionMenuItem,f=t.children,m=(0,o.default)(t,["anchor","wrapperClassName","triggerClassName","disabled","filters","round","isActionMenuItem","children"]),h=(0,I.default)(N,m);return p?u.default.createElement(E.ActionMenuItem,(0,s.default)({label:I18n.t("Send Message"),icon:u.default.createElement(E.MessageIcon,{className:"gs-buc-button-compat"}),popupContentsRenderer:function(t){return u.default.createElement("div",{className:"message-box"},e.renderContent(t))},disabled:!this.checkTrigger(i,l),className:a},h)):u.default.createElement(d.default,{anchor:n,isOpen:this.state.modalIsOpen,close:this.closeModal,open:this.openModal,className:"message-box",wrapperClassName:r},u.default.createElement(d.default.Trigger,{disabled:!this.checkTrigger(i,l),onTrigger:this.openModal,className:a,iconClassName:"gs-message",text:I18n.t("Send Message"),round:c},f),u.default.createElement(d.default.Body,null,this.renderContent(this.closeAndClear)))}});e.exports=N},function(e,t,n){"use strict";function r(e){var t=e.history,n=e.router,s=e.nameMap,i=void 0===s?{}:s,o=(0,a.createRoutingCompatTools)({nameMap:i}),l=t.location,u=r,c=function(e){return function(t,n,r){return e(1===arguments.length&&"string"==typeof t&&"/"===t[0]?t:o.generatePathFromReactRouter({to:t,params:n,query:r}))}};return u.getCurrentRoute=function(){return l.pathname},u.isPathActive=function(e){return(0,a.createPath)(l)===e},u.isPathnameActive=function(e){return l.pathname===e},u.transitionTo=c(function(e){return n.transitionTo(e)}),u.replaceWith=c(function(e){return n.redirectTo(e)}),u.refresh=function(){n.refresh()},u.transitionToViaHybridLink=function(e,t,r){return n.transitionTo(o.generatePathFromHybridLink({to:e,params:t,query:r}))},u.replaceWithViaHybridLink=function(e,t,r){return n.redirectTo(o.generatePathFromHybridLink({to:e,params:t,query:r}))},u.transitionToViaEmberRouter=function(e){return u.transitionTo(o.generatePathFromEmberRouter(e))},u.replaceWithViaEmberRouter=function(e){return u.replaceWith(o.generatePathFromEmberRouter(e))},u.replaceQuery=function(e,t){u.replaceWith((0,a.createPath)({pathname:l.pathname,search:(0,a.stringifyQuery)(e)})),"function"==typeof t&&t()},u.updateQuery=function(e,t){var n=Object.assign({},(0,a.parseQueryString)(l.search),e);u.replaceQuery(n,t)},u.getQueryItem=function(e){return(0,a.parseQueryString)(l.search)[e]},u.getQuery=function(){return(0,a.parseQueryString)(l.search)},u.routerIsRunning=function(){return!0},u._generatePathForEmberRouter=function(e){return o.generatePathFromEmberRouter(e)},u._generatePathForHybridLink=function(e){return o.generatePathFromHybridLink(e)},u._generatePathForReactRouterLink=function(e){return o.generatePathFromReactRouter(e)},u._setLocation=function(e){l=e},u._restoreLocation=function(e){e===l&&(l=t.location)},u}var a=n(231);e.exports=r},function(e,t,n){"use strict";var r=n(10),a=r.oneOf,s=r.shape,i=r.string;e.exports=s({subdomain:i,message:i,status:a(["error","missing","none","ok","updating"]).isRequired})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.number,o=s({id:a.isRequired,title:a,authorId:a.isRequired,authorName:a,difficulty:a,durationInSeconds:i,categoryId:a.isRequired});e.exports=o},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.arrayOf,o=n(862);e.exports=s({id:a,name:a,url:a,authentication:s({bearer:s({token:a}),hmac:s({secret:a})}),resources:i(o),latestAttempt:s({status:a,createdAt:a}),client:a,clientKey:a,account:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(454),i=r(s);e.exports=(0,a.shape)({id:a.string,learnableId:a.string,enrollmentId:a.number,title:a.string,description:a.string,location:a.string,courseType:a.string,thirdPartyCourseId:a.string,state:a.string,hasCertificate:a.bool,isEnrolled:a.bool,required:a.bool,score:a.number,progress:a.number,passingThreshold:a.number,slideTotal:a.number,timeRemaining:a.number,estimatedTime:a.number,programId:a.string,programIds:(0,a.arrayOf)(a.string),programTitle:a.string,indexOfProgram:a.number,programCourseCount:a.number,milestoneTitle:a.string,sessionsCount:a.number,nextSessionStartAt:a.string,attachmentsCount:a.number,deletedAt:a.string,completedAt:a.string,endAt:a.string,expiresAt:a.string,renewBy:a.string,retain:a.bool,maxQuizAttempts:a.number,continuingEducationCredits:a.number,attemptsCount:a.number,isPermanentlyFailed:a.bool,openBook:a.bool,quizPositions:(0,a.arrayOf)(a.number),hasCoverSlide:a.bool,brandingOverride:i.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.state===c.STATUS_ASSIGNED}function s(e){return e.state===c.STATUS_COMPLETE}function i(e){return!s(e)&&!!e.endAt&&(0,u.default)(e.endAt)<(0,u.default)()}function o(e){return e&&e.title||I18n.t("Untitled Checkpoint")}Object.defineProperty(t,"__esModule",{value:!0}),t.isAssigned=a,t.isComplete=s,t.isOverdue=i,t.getDisplayTitle=o;var l=n(11),u=r(l),c=n(12)},function(e,t,n){"use strict";function r(e){return e.name=e.name||"",e}var a=n(21),s=n(95),i=n(7),o=n(379),l=n(3162),u=n(68),c=u.of(n(51)),d=n(44),p=d(function(e,t){var n=t.sort,r=void 0===n?null:n,a=t.search,s=void 0===a?null:a,i=t.filters,o=void 0===i?null:i;return l.performWithoutParsing({sort:r,search:s,filters:o,nextPageURL:e})}),f=a({displayName:"GroupStore",schema:n(51),initialize:function(){this.searchCache=s(this.emitChange,{displayName:"GroupStore__search",schema:n(51)})},clear:function(){this.searchCache.clear()},fetchAll:function(e){var t=this;return this.cache.setCollection(e,[]),p.findFirstPage(e).then(function(n){t.cache.setCollection(e,l.parse(n))})},fetchNext:function(e){var t=this;p.hasMorePages()&&p.findNextPage(e).then(function(n){t.cache.addToCollection(e,l.parse(n))})},fetch:function(e){var t=this;return o(e).then(function(e){t.cache.add(e)})},invalidate:function(e){this.cache.remove(e)},getAll:function(e){return this.cache.getCollection(e)},lookup:function(e,t){var n=this;i({url:"/api/author/search/groups",data:{term:e,context:t}}).then(function(e){n.searchCache.setCollection({},e.groups.map(c))})},getFound:function(){return this.searchCache.getCollection({})},search:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.limit;return i({method:"GET",url:"/api/author/groups",data:{search:t,limit:a}}).then(function(t){e.searchCache.setCollection({},t.groups.map(c).map(r))})},get:function(e){return this.cache.get(e)},create:function(e){return i({type:"POST",url:"/api/author/groups",data:{groups:[{type:e}]}}).then(function(e){return e.groups[0].id})},update:function(e,t){var n=this;return i({type:"PATCH",url:"/api/author/groups/"+e,data:{group:t}}).then(function(e){n.cache.add(e.groups.map(c)[0])})},remove:function(e){var t=this;return this.cache.transaction(function(){return t.cache.remove(e),i({type:"DELETE",url:"/api/author/groups/"+e})})}});e.exports=f},function(e,t){"use strict";e.exports=function(e,t,n){return e.filter(function(e){return e[t]===n})[0]}},function(e,t,n){"use strict";var r=n(1),a=function(e,t){var n=void 0;return r.Children.forEach(e,function(e){!e||n||e.constructor!==t&&e.type!==t||(n=e)}),n};e.exports=a},function(e,t){"use strict";function n(e,t){var n=t;if(!(n instanceof Array)||arguments.length>2){n=new Array(arguments.length-1);for(var r=1,a=arguments.length;r<a;r++)n[r-1]=arguments[r]}var s=0;return e.replace(/%@([0-9]+)?/g,function(e,t){return t=t?parseInt(t,10)-1:s++,e=n[t],null===e?"(null)":void 0===e?"":""+e})}e.exports=n},function(e,t){"use strict";e.exports=function(e){return(e||"").replace(/([A-Z])/g,"_$1").replace(/^_/,"").toLowerCase()}},,function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.number;e.exports=a({id:s,attachmentId:s,progress:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.video=t.span=t.p=t.li=t.img=t.iframe=t.h3=t.h2=t.h1=t.div=t.code=t.blockquote=t.audio=t.a=void 0;var a=n(980),s=r(a),i=n(981),o=r(i),l=n(982),u=r(l),c=n(983),d=r(c),p=n(984),f=r(p),m=n(985),h=r(m),g=n(986),v=r(g),_=n(987),y=r(_),b=n(988),E=r(b),C=n(989),I=r(C),T=n(990),N=r(T),S=n(991),x=r(S),A=n(992),k=r(A),w=n(993),R=r(w);t.a=s.default,t.audio=o.default,t.blockquote=u.default,t.code=d.default,t.div=f.default,t.h1=h.default,t.h2=v.default,t.h3=y.default,t.iframe=E.default,t.img=I.default,t.li=N.default,t.p=x.default,t.span=k.default,t.video=R.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FetchStatus={UNSENT:"UNSENT",LOADING:"LOADING",DONE:"DONE",ERROR:"ERROR"},t.TaskSource={ASSESSMENT:"ASSESSMENT",GOAL:"GOAL",GOAL_TASK:"GOAL_TASK",LEARNING_ITEM:"LEARNING_ITEM",ONE_ON_ONE:"ONE_ON_ONE",TO_DO:"TO_DO"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=n(1025),i=r(s);t.default=(0,a.shape)({id:a.number,uid:a.string.isRequired,source:i.default.isRequired,assigneeId:a.number,authorId:a.number,description:a.string.isRequired,completedAt:(0,a.instanceOf)(Date),dueAt:(0,a.instanceOf)(Date),createdAt:(0,a.instanceOf)(Date),goalId:a.number,agendaId:a.number,oneOnOneWithId:a.number,assignee:a.object,author:a.object,oneOnOneWith:a.object}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=n(516),i=r(s),o=(0,a.shape)({id:a.string,toolId:a.string,ltiAttributes:i.default});t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(48),a=n(4),s=a.values;t.KC_BACKSPACE=8,t.KC_DELETE=46,t.KC_TAB=9,t.KC_RETURN=13,t.KC_SHIFT=16,t.KC_ESCAPE=27,t.KC_SPACE=32,t.KC_LEFT=37,t.KC_UP=38,t.KC_RIGHT=39,t.KC_DOWN=40,t.KC_ONE=49,t.KC_TWO=50,t.KC_THREE=51,t.KC_FOUR=52,t.KC_B=66,t.KC_I=73,t.KC_A=65,t.KC_K=75,t.KC_N=78,t.KC_W=87,t.KC_1=49,t.KC_2=50,t.NOT_FOUND=-1,t.SLIDE_EDITOR_BLANK_MARKUP='<p><br data-mce-bogus="1"></p>',t.NOTORIOUS_STATUS_QUEUED="queued",t.NOTORIOUS_STATUS_PROCESSING="processing",t.NOTORIOUS_STATUS_PROCESSED="processed",t.NOTORIOUS_STATUS_SUCCEEDED="succeeded",t.NOTORIOUS_STATUS_FAILED="failed",t.MEDIA_QUERY_PORTRAIT_MOBILE="(max-width: "+r.BREAKPOINT_PORTRAIT_MOBILE+")",t.MEDIA_QUERY_MOBILE="(max-width: "+r.BREAKPOINT_MOBILE+")",t.MEDIA_QUERY_DESKTOP="(min-width: "+r.BREAKPOINT_DESKTOP+")",t.MEDIA_QUERY_SMALL="(max-width: "+r.BREAKPOINT_S+"), (max-height: "+r.BREAKPOINT_S_HEIGHT+")",t.MEDIA_QUERY_WIDE_ENOUGH_TO_EDIT="(min-width: "+r.BREAKPOINT_WIDE_ENOUGH_TO_EDIT+")",t.MEDIA_QUERY_LARGER_THAN_PHONES="(min-width: "+r.BREAKPOINT_S+")",t.REGEX_TYPE_VIDEO=/video\/*/,t.REGEX_TYPE_IMAGE=/image\/*/,t.REGEX_TYPE_AUDIO=/audio\/*/,t.REGEX_FORMAT_INTEGER=/^\d+$/i,t.REGEX_FORMAT_URI=/^https?\:\/\/[\w-.]+((\:\d+)?\/\S*)?$/i,t.REGEX_FORMAT_HOST=/^[\w-.]+$/i,t.REGEX_FORMAT_PHONE=/^(\D*\d){10}.*$/i,t.REGEX_FORMAT_EMAIL=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,t.REGEX_FORMAT_SUBDOMAIN=/^[a-z0-9._-]+$/i,t.REGEX_FORMAT_DISTINGUISHED_NAME=/^[^=]+=.+$/i,t.ADMIN_USER_FINDER_THROTTLE_MS=200,t.GENERAL_DEBOUNCE_MS=300,t.PANDA_PUSH_TIMEOUT=5e3,t.COVER_SLIDE_EDITOR_DEBOUNCE_MS=200,t.DEFAULT_PAGE_SIZE=20,t.INPUT_LENGTH_LIMIT=255,
t.DESCRIPTION_LENGTH_LIMIT=2e3,t.HELP_ARTICLE_BRIDGE_NAVIGATION_URL="http://help.bridgeapp.com/customer/portal/articles/2096381-what-is-the-bridge-navigation-",t.ADMIN_DASHBOARD_MODE_OVERDUE="overdue",t.ADMIN_DASHBOARD_MODE_COMPLETED="completed",t.REFINEMENT_ITEM_TYPE_GROUP="group",t.REFINEMENT_ITEM_TYPE_CHECKBOX="checkbox",t.REFINEMENT_ITEM_TYPE_BARE="bare",t.GROUP_TYPES={SMART:"smart",DOMAIN:"domain",GROUP:"group",TEAM:"team"},t.GROUP_TYPE_VALUES=["smart","domain","group","team"],t.SMART_GROUP_JOIN_TYPE_INTERSECT="intersect",t.SMART_GROUP_JOIN_TYPE_UNION="union",t.QUESTION_TYPES={COVER_SLIDE:"cover",FACTOID:"factoid",MULTIPLE_ANSWER:"multiple_answer",MULTIPLE_CHOICE:"multiple_choice",ORDERED_LIST:"ordered_list",REORDER:"reorder",SHORT_ANSWER:"short_answer",SLIDE:"slide",VOCABULARY:"vocabulary",UNSPECIFIED:"unspecified"},t.CCE_QUESTION_MIN_ANSWER_COUNT=2,t.CCE_ORDERED_QUESTION_MIN_ANSWER_COUNT=3,t.CCE_VOCABULARY_QUESTION_MIN_ANSWER_COUNT=1,t.RCE_MEDIA_ATTACHMENT_POLLING_FREQUENCY=1e4,t.COURSE_EXTERNAL_STATUS_INAPPLICABLE="inapplicable",t.COURSE_EXTERNAL_STATUS_PENDING="pending",t.COURSE_EXTERNAL_STATUS_COMPLETED="completed",t.COURSE_EXTERNAL_STATUS_FAILED="failed",t.COURSE_EXTERNAL_STATUS_ATTACHED="attached",t.COURSE_EXTERNAL_STATUS_PUBLISHPENDING="publishPending",t.COURSE_STATUS_ACTIVE="active",t.COURSE_STATUS_CREATED="created",t.COURSE_STATUS_FAILED="failed",t.COURSE_STATUS_COMPLETE="complete",t.COURSE_STATUS_LOCKED="locked",t.COURSE_STATUS_PERMANENTLY_FAILED="permanentlyFailed",t.STATUS_ACTIVE="active",t.STATUS_CREATED="created",t.STATUS_FAILED="failed",t.STATUS_COMPLETE="complete",t.STATUS_LOCKED="locked",t.STATUS_EXPIRED="expired",t.STATUS_ASSIGNED="assigned",t.STATUS_REGISTERED="registered",t.STATUS_INVITED="invited",t.APPROVAL_STATE_INCOMPLETE="incomplete",t.APPROVAL_STATE_URGENT="urgent",t.APPROVAL_STATE_REQUESTED="requested",t.APPROVAL_STATE_REJECTED="rejected",t.APPROVAL_STATE_APPROVED="approved",t.APPROVAL_EVENT_TYPE_APPROVER_ASSIGNED="approver_assigned",t.APPROVAL_EVENT_TYPE_COMMENT_ADDED="comment_added",t.APPROVAL_EVENT_TYPE_APPROVED="approved",t.APPROVAL_EVENT_TYPE_REJECTED="rejected",t.APPROVAL_EVENT_TYPE_REQUESTED="requested",t.APPROVER_TYPE_USER="User",t.APPROVER_TYPE_GROUP="Group",t.PROGRAM_STATUS_COMPLETE="complete",t.COURSE_NON_EXTERNAL_TYPE="bridge",t.COURSE_TYPE_ILT="ilt",t.COURSE_TYPE_PROGRAM="program",t.COURSE_EXTERNAL_TYPE_SCORM="scorm",t.COURSE_EXTERNAL_TYPE_LYNDA="lynda",t.COURSE_EXTERNAL_TYPE_OPEN_SESAME="opensesame",t.COURSE_EXTERNAL_TYPES=[t.COURSE_EXTERNAL_TYPE_SCORM,t.COURSE_EXTERNAL_TYPE_LYNDA,t.COURSE_EXTERNAL_TYPE_OPEN_SESAME],t.COURSE_TYPES_WITH_SCORM_ATTRIBUTES=[t.COURSE_EXTERNAL_TYPE_SCORM,t.COURSE_EXTERNAL_TYPE_LYNDA,t.COURSE_EXTERNAL_TYPE_OPEN_SESAME],t.DEFAULT_POLLING_FREQUENCY=1e3,t.COURSE_EXTERNAL_STATUS_POLLING_FREQUENCY=1e3,t.SLIDE_CONTENT_UPDATE_THROTTLE_MS=1e3,t.LEARNING_ITEM_COURSE_TYPE="CourseTemplate",t.LEARNING_ITEM_LIVE_COURSE_TYPE="LiveCourse",t.LEARNING_ITEM_LTI_CONTENT_ITEM_TYPE="Lti::ContentItem",t.LEARNING_ITEM_PROGRAM_TYPE="Program",t.LEARNING_ITEM_PROGRAM_SECTION_TYPE="ProgramSection",t.LEARNING_ITEM_SURVEY_TYPE="Surveys::Survey",t.LEARNING_ITEM_TASK_TYPE="Task",t.LEARNING_ITEM_COURSE_ENROLLMENT_TYPE="Enrollment",t.LEARNING_ITEM_LIVE_COURSE_ENROLLMENT_TYPE="LiveCourseEnrollment",t.LEARNING_ITEM_LTI_CONTENT_ITEM_ENROLLMENT_TYPE="Lti::ContentItemEnrollment",t.LEARNING_ITEM_PROGRAM_ENROLLMENT_TYPE="ProgramEnrollment",t.LEARNING_ITEM_PROGRAM_SECTION_ENROLLMENT_TYPE="Program",t.LEARNING_ITEM_SURVEY_ENROLLMENT_TYPE="Surveys::Recipient",t.LEARNING_ITEM_TASK_ENROLLMENT_TYPE="TaskEnrollment",t.MAX_SESSION_PARTS=99,t.SEARCH_USERS="users",t.SEARCH_GROUPS="groups",t.FREE_TRIAL_LENGTH=30,t.SLACK_STATUS_CONFIGURED="configured",t.SLACK_STATUS_UNCONFIGURED="unconfigured",t.SLACK_STATUS_ERROR="error",t.SUPPORT_LEVEL_ALL_USERS="allUsers",t.SUPPORT_LEVEL_ADMINS_AUTHORS="adminsAndAuthors",t.SUPPORT_LEVEL_ADMINS_ONLY="adminsOnly",t.SUPPORT_LEVEL_NO_ONE="noOne",t.SUPPORT_CONTACT_DEFAULTS={allUsers:{chatUrl:"https://lc.chat/now/8288951/51",supportTicketUrl:"https://bridgeapp.zendesk.com/hc/en-us/requests/new?ticket_form_id=794528",supportPhoneNumber:"855-979-7399",supportHelpArticlesUrl:"https://community.bridgeapp.com/community/documentation"},adminsAndAuthors:{chatUrl:"https://lc.chat/now/8288951/3",supportTicketUrl:"https://bridgeapp.zendesk.com/hc/en-us/requests/new?ticket_form_id=794528",supportPhoneNumber:"855-979-8660",supportHelpArticlesUrl:"https://community.bridgeapp.com/community/documentation"},adminsOnly:{chatUrl:"https://lc.chat/now/8288951/2",supportTicketUrl:"https://bridgeapp.zendesk.com/hc/en-us/requests/new?ticket_form_id=794528",supportPhoneNumber:"855-383-4550",supportHelpArticlesUrl:"https://community.bridgeapp.com/community/documentation"},noOne:{chatUrl:"",supportTicketUrl:"",supportPhoneNumber:"",supportHelpArticlesUrl:""}},t.SUPPORT_LEVELS={ADMINS_ONLY:"adminsOnly",ADMINS_AND_AUTHORS:"adminsAndAuthors",ALL_USERS:"allUsers"},t.AUTOCSV_SYNC_FUDGE_FACTOR=950,t.AUTOCSV_FETCH_FREQUENCY=3e3,t.LYNDA_ICONS={1:"cube",20:"controls",29:"piechart",1665:"architecture",40:"typography",50:"dev-dots",1792:"education",2057:"server",2058:"up-graph",78:"film",88:"computer",70:"lens"},t.PROGRAM_ADD_CONTENT_MODES_ENUM={NONE:"none",SPACE:"space",SEARCH_COURSE:"searchCourse",SEARCH_ILT:"searchILT",SEARCH_TASK:"searchTask",SELECT_LTI_CONTENT_ITEM:"selectLtiContentItem"},t.PROGRAM_ADD_CONTENT_MODES=s(t.PROGRAM_ADD_CONTENT_MODES_ENUM),t.PROGRAM_ITEM_ICONS={CourseTemplate:"gs-book",LiveCourse:"gs-in-class",Task:"gs-tasks",LtiTool:"gs-cube",ProgramSection:"gs-heading-1"},t.LOCKABLE_COURSE_TEMPLATE="CourseTemplate",t.LOCKABLE_TASK="Task",t.PROGRAM_HEADER_GRADIENTS=[{opaque:"linear-gradient(rgb(64, 223, 188), rgb(58, 156, 255))",transparent:"linear-gradient(rgba(64, 223, 188, 0.8), rgba(58, 156, 255, 0.8))"},{opaque:"linear-gradient(rgb(39, 233, 255), rgb(106, 53, 200))",transparent:"linear-gradient(rgba(39, 233, 255, 0.8), rgba(106, 53, 200, 0.8))"},{opaque:"linear-gradient(rgb(237, 54, 133), rgb(106, 53, 200))",transparent:"linear-gradient(rgba(237, 54, 133, 0.8), rgba(106, 53, 200, 0.8))"},{opaque:"linear-gradient(rgb(251, 185, 24), rgb(237, 54, 133))",transparent:"linear-gradient(rgba(251, 185, 24, 0.8), rgba(237, 54, 133, 0.8))"}],t.DEFAULT_DAYS_UNTIL_EXPIRATION=365,t.MAXIMUM_PASSWORD_LIMIT=20,t.THEME_HIGH_CONTRAST="high_contrast",t.THEME_HIGH_CONTRAST_CLASS="theme-high-contrast",t.THEME_LIGHT="light",t.THEME_LIGHT_CLASS="theme-light",t.IMPORT_OBJECT_STATE={COMPLETE:"complete",CANCELED:"canceled",IMPORTED:"imported",FAILED:"failed",INCOMPLETE:"incomplete"},t.NAVIGATE_DATE_FORMAT="YYYY-MM-DD",t.MULTI_PART_UPLOAD_SIZE=4e6,t.S3_ACCEPTED_MIME_TYPES={ai:"application/postscript",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",json:"application/json",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",pdf:"application/pdf",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pub:"application/x-mspublisher",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip",mp3:"audio/mpeg",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",psd:"image/vnd.adobe.photoshop",svg:"image/svg+xml",csv:"text/csv",ics:"text/calendar",rtf:"text/rtf",txt:"text/plain",vcf:"text/x-vcard",xml:"text/xml",avi:"video/x-msvideo",wmv:"video/x-ms-wmv",flv:"video/x-flv",mkv:"video/x-matroska",mov:"video/quicktime",mp4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",cmdrw:"application/octet-stream"},t.FILETYPE_COLORS={audio:"purple",calendar:"dim-blue",code:"dim-blue",excel:"green",illustrator:"orange",image:"dim-blue",indesign:"pink",pdf:"red",photoshop:"cyan",powerpoint:"orange",slides:"orange",spreadsheet:"green",text:"blue",vcard:"dim-blue",video:"purple",word:"blue",zip:"dim-blue"},t.FILETYPE_CATEGORIES={m4a:"audio",mp3:"audio",ogg:"audio",wav:"audio",ics:"calendar",json:"code",xml:"code",xls:"excel",xlsx:"excel",ai:"illustrator",bmp:"image",gif:"image",jpeg:"image",jpg:"image",png:"image",svg:"image",tif:"image",tiff:"image",indb:"indesign",indd:"indesign",indl:"indesign",pdf:"pdf",pub:"pdf",psd:"photoshop",ppt:"powerpoint",pptx:"powerpoint",csv:"spreadsheet",ods:"spreadsheet",key:"slides",odt:"text",pages:"text",rtf:"text",txt:"text",vcf:"vcard","3g2":"video","3gp":"video",avi:"video",m4v:"video",flv:"video",mkv:"video",mov:"video",mp4:"video",mpeg:"video",mpg:"video",ogv:"video",wmv:"video",doc:"word",docx:"word",zip:"zip"},t.MY_LEARNING_STYLE_GRID="grid",t.MY_LEARNING_STYLE_LIST="list",t.MY_LEARNING_VIEWALL_ENUM={NONE:"__none__",ACTIONABLE:"actionable",REQUIRED:"required",OPTIONAL:"optional",COMPLETED:"completed",RECENT:"recent"},t.PROGRAM_ENROLLABLE_TYPE="program",t.LIVE_COURSE_ENROLLABLE_TYPE="training",t.CHECKPOINT_ENROLLABLE_TYPE="checkpoint",t.COURSE_TEMPLATE_ENROLLABLE_TYPE="course",t.ENROLLABLE_IMPORT_CONTEXTS=["course"]},,,,,,function(e,t,n){"use strict";var r=n(47),a=n(199),s=n(162),i=n(4),o=i.omit,l=n(7),u=n(21),c=n(1460),d=n(894),p=n(118),f=n(44),m=n(25),h=n(68),g=h.of(n(244)),v=function(e){return s(a,e)},_="/api/author/surveys",y=v("/api/author/surveys/%@"),b=v("/api/author/surveys/%@/clone"),E=["id"],C=u({displayName:"SurveyStore",schema:n(244),initialize:function(){var e=this;this.adapter=l.use([d(),p(this.emitChange)]),this.paginator=f(function(t,n){return e.adapter({url:t||_,data:n})})},isSaving:function(){return this.adapter.hasPendingRequests()},isDisconnected:function(){return this.adapter.hasConnectionError()},get:function(e){return this.cache.get(e)},getAll:function(e){return this.cache.getCollection([e])},find:function(e){var t=this;return this.adapter({url:y(e),type:"GET",dataType:"json"}).then(function(e){var n=e.surveys.map(g);t.cache.add(n[0])})},findFirstPage:function(e){var t=this;return this.paginator.findFirstPage(e).then(function(n){var r=n.surveys.map(g);t.cache.setCollection([e],r)})},findNextPage:function(e){var t=this;return this.paginator.hasMorePages()?this.paginator.findNextPage(e).then(function(n){var r=n.surveys.map(g);t.cache.addToCollection([e],r)}):m.resolve()},createRecord:function(e){return e=e||{},this.adapter({url:_,type:"POST",dataType:"json",data:{surveys:[e]}}).then(function(e){var t=e.surveys.map(g);return t[0]})},cloneRecord:function(e){var t=this;return this.adapter({url:b(e),type:"POST",dataType:"json",data:{}}).then(function(e){var n=e.surveys.map(g);return t.cache.add(n[0]),n[0]})},updateRecord:function(e,t){var n=this,a=this.get(e),s=r.extend(!0,a,t);this.cache.add(s);var i=o(s,E);this.adapter({url:y(e),type:"PATCH",dataType:"json",data:{survey:i}}).then(function(e){var t=e.surveys.map(g),r=t[0];return c.fetchRecent(),n.cache.add(r),r})},deleteRecord:function(e){return this.cache.remove(e),this.adapter({url:y(e),type:"DELETE"}).then(function(){c.fetchRecent()})}});e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(26),g=r(h),v=n(6),_=r(v),y=n(18),b=r(y),E=n(297),C=r(E),I=n(27),T=r(I),N=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderLink=function(){return f.default.createElement(b.default,{ref:function(e){r.button=e},className:(0,_.default)(r.props.className,"attachment-link",{"attachment-link--active":r.isActive()}),onClick:r.clickWithId,disabled:r.props.disabled},f.default.createElement(C.default,{className:"paperclip-icon--horizontal margin-r-xs",sizeClass:"gs-1x"}),r.getLinkMessage())},r.renderButton=function(){return f.default.createElement(b.default,{ref:function(e){r.button=e},className:(0,_.default)(r.props.className,"attachment-button",{"attachment-button--active":r.isActive()}),onClick:r.clickWithId,disabled:r.props.disabled},f.default.createElement(C.default,{attachmentCount:r.props.attachmentsCount}),f.default.createElement(T.default,{children:r.getButtonMessage()}))},r.clickWithId=function(e){r.props.onClick(e,r.button)},r.isActive=function(){return r.props.activeItemId===r.props.itemId},r.getLinkMessage=function(){return g.default.t({one:"%{count} attachment",other:"%{count} attachments"},{count:r.props.attachmentsCount})},r.getButtonMessage=function(){return g.default.t({one:"View Attachment",other:"View %{count} Attachments"},{count:r.props.attachmentsCount})},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return 0===this.props.attachmentsCount?null:this.props.anchor?this.renderLink():this.renderButton()}}]),t}(p.Component);N.propTypes={onClick:m.func.isRequired,attachmentsCount:m.number.isRequired,itemId:m.string,activeItemId:m.string,className:m.string,anchor:m.bool,disabled:m.bool},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(94),l=r(o);t.default=s.default.createClass({displayName:"TooltipFancyTitle",propTypes:{className:i.string,label:i.string.isRequired,children:i.any,forceEdge:i.string},render:function(){return s.default.createElement(l.default,{className:this.props.className},s.default.createElement(l.default.Trigger,{children:this.props.children}),s.default.createElement(l.default.Content,{dark:!0,forceEdge:this.props.forceEdge},s.default.createElement("p",{className:"semi-bold x-small"},this.props.label)))}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,key:r.string,expiresAt:r.string,roleId:r.string,description:r.string,lastUsed:r.string,secret:r.string,encoded:r.string}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.string,i=r.shape;e.exports=i({id:s,name:s,hasItemClass:a})},function(e,t,n){"use strict";var r=n(10),a=r.number,s=r.string,i=r.arrayOf,o=r.shape,l=r.oneOf;e.exports=o({id:s,contextId:s,userName:s,contextDescription:s,contextType:s,completed:a,total:a,state:l(["incomplete","complete","failed","imported","canceled"]),newUserCount:a,restoredUserCount:a,updatedUserCount:a,deletedUserCount:a,ignoredUserCount:a,deportedUserCount:a,invalidRows:i(s),createdAt:s,userId:a})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,uid:a,avatarUrl:a,name:a,email:a,markedCompleteAt:a})},function(e,t,n){"use strict";function r(e){var t=e.type,n=e.answers,r=i(t),a=Object.keys(r.attributes),s=n.map(function(e){return c({},r.attributes,d(e,a))}),o=a.indexOf("id")>-1,l=a.indexOf("position")>-1;return(o||l)&&s.forEach(function(e,t){o&&!e.id&&(e.id=p(s)),l&&(e.position=t+1)}),s}function a(e){return String(e.title||"").length>0}function s(e,t){return t.filter(function(t){return String(t[e]||"").length>0})}function i(e){var t=E.filter(function(t){return t.type===e})[0];return f(t,"\n    No answer factory was found for a question of the type '"+e+"'.\n    Supported types are: ["+E.map(function(e){return e.type}).join(", ")+"]\n  "),t}function o(e){return e&&(e["inline-images"]>0||e["inline-headings"]>0||e["inline-iframes"]>0||e["nested-list-items"]>0)}var l=n(178),u=n(4),c=u.assign,d=u.pick,p=n(1470),f=n(41),m=n(12),h=m.QUESTION_TYPES,g=m.CCE_QUESTION_MIN_ANSWER_COUNT,v=m.CCE_ORDERED_QUESTION_MIN_ANSWER_COUNT,_=m.CCE_VOCABULARY_QUESTION_MIN_ANSWER_COUNT,y=n(3332),b=n(1504),E=Object.freeze([{type:h.COVER_SLIDE,attributes:{}},{type:h.FACTOID,attributes:{id:null,fact:"",distractors:[]}},{type:h.MULTIPLE_ANSWER,attributes:{id:null,body:"",position:NaN,correct:!1}},{type:h.MULTIPLE_CHOICE,attributes:{id:null,body:"",position:NaN,correct:!1}},{type:h.ORDERED_LIST,attributes:{id:null,body:"",position:NaN,detail:""}},{type:h.REORDER,attributes:{id:null,body:"",position:NaN}},{type:h.SHORT_ANSWER,attributes:{}},{type:h.SLIDE,attributes:{}},{type:h.VOCABULARY,attributes:{id:null,term:"",definition:""}},{type:h.UNSPECIFIED,attributes:{}}]),C=!0;t.saveCheck=function(e,t){return C&&y(e,{leaveS3Signatures:!1,agressivePruning:!0})!==t},t.markUnsafeToSave=function(){C=!1},t.markSafeToSave=function(){C=!0},t.isQuestionValid=function(e){switch(e.type){case h.MULTIPLE_CHOICE:return t.isMultipleChoiceQuestionValid(e);case h.MULTIPLE_ANSWER:return t.isMultipleAnswerQuestionValid(e);case h.REORDER:return t.isReorderQuestionValid(e);case h.SHORT_ANSWER:return t.isShortAnswerQuestionValid(e);case h.VOCABULARY:return t.isVocabularyQuestionValid(e);case h.ORDERED_LIST:return t.isOrderedListQuestionValid(e);case h.FACTOID:return t.isFactoidQuestionValid(e);default:return!0}},t.isFactoidQuestionValid=function(e){var t=l(e.answers);return s("fact",t).length>0},t.isMultipleChoiceQuestionValid=function(e){var t=l(e.answers);return!!a(e)&&(!(s("body",t).length<g)&&1===t.filter(function(e){return e.correct}).length)},t.isMultipleAnswerQuestionValid=function(e){var t=l(e.answers);return!!a(e)&&(!(s("body",t).length<g)&&!(t.filter(function(e){return e.correct}).length<2))},t.isOrderedListQuestionValid=function(e){var t=l(e.answers);return!!a(e)&&(!(s("body",t).length<v)&&!t.some(function(e){return e.body===e.placeholder}))},t.isReorderQuestionValid=function(e){var t=l(e.answers);return!!a(e)&&!(s("body",t).length<v)},t.isShortAnswerQuestionValid=function(e){return a(e)},t.isVocabularyQuestionValid=function(e){return l(e.answers).filter(function(e){return e&&e.term&&e.definition&&e.term.length>0&&e.definition.length>0}).length>=_},t.generateAnswerForQuestion=function(e){var t=e.type,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i(t),a=Object.keys(r.attributes),s=Object.keys(n).filter(function(e){return a.indexOf(e)===-1});return f(0===s.length,"\n    Invalid attributes specified for answers for a question of type '"+t+"'.\n\n    - Offending keys are: ["+s.join(", ")+"]\n    - Allowed keys are: ["+a.join(", ")+"]\n  "),c({},r.attributes,n)},t.IntegratedAnswerSet=r,t.isEnriched=function(e){return[h.FACTOID,h.ORDERED_LIST,h.VOCABULARY].indexOf(e)>-1},t.isGradedQuestion=function(e){return[h.MULTIPLE_CHOICE,h.MULTIPLE_ANSWER,h.REORDER,h.UNSPECIFIED,h.VOCABULARY,h.ORDERED_LIST,h.FACTOID].indexOf(e)>-1},t.shouldUseNewEditor=function(e){var t=!1,n=e.filter(function(e){return e.type===h.SLIDE&&e.body&&!e.structuredBody});return 0===n.length||t===n.some(function(e){var t=1===e.forceTinymceImporterVersion?1:2,n=1===t?b.ImporterV1:b.Importer;return o(n.runWithStats(e.body).stats)})},t.isImportPotentiallyErratic=o},function(e,t,n){"use strict";var r=n(21),a=n(4),s=a.assign,i=a.pick,o=a.sortBy,l=n(826),u=n(839),c=n(823),d=n(821),p=n(827),f=n(828),m=n(472),h=n(44),g=r({displayName:"AttachmentStore",schema:n(33),getInitialState:function(){return{paginator:h(function(e,t,n,r){return l.performWithoutParsing(t,{nextPageURL:e,data:{sort:n||"title",search:r}})})}},initialize:function(){this.pendingCache=m(this.emitChange,"AttachmentStore__pendingCache")},clear:function(){this.pendingCache.clear()},delete:function(e,t){var n=this;return c(e,t).then(function(){var t=n.pendingCache.remove(e);t||n.cache.remove(e)})},update:function(e,t,n){var r=this;return u({id:e,context:t,deltaObject:n}).then(function(e){var t=r.pendingCache.get(e.id);t?r.pendingCache.add({id:e.id,file:s(t.file,e)}):r.cache.add(e)})},fetchAllByContext:function(e,t){var n=this;this.cache.setCollection(e,[]);var r=function(t){n.cache.unshiftInCollection(e,t)};return"Author"===t?p({context:e,onProgress:r}):f({context:e,onProgress:r})},fetchByContext:function(e,t,n){var r=this;return this.clearCompletedPending(e),this.state.paginator.findFirstPage(e,t,n).then(function(a){r.cache.setCollection(s({},e,{sort:t,search:n}),l.parse(a))})},fetchNext:function(e,t,n){var r=this;this.state.paginator.hasMorePages()&&this.state.paginator.findNextPage(e,t,n).then(function(a){r.cache.addToCollection(s({},e,{sort:t,search:n}),l.parse(a))})},getByContext:function(e,t,n){return{all:this.cache.getCollection(s({},e,{sort:t,search:n})),pending:o(this.pendingCache.getAllFiles(e),function(e){return-e.uploadStart})}},add:function(e,t){var n=this;return d(e,t).then(function(t){return n.cache.addToCollection(e,[t]),t})},addPending:function(e,t){return this.pendingCache.addFile(e,t)},updatePending:function(e,t){return this.pendingCache.updateFile(e,t)},savePending:function(e,t){return this.pendingCache.saveFile(e,t,function(e){return d(t,s(i(e,["name","location","learner_visible"]),{file_modified_at:new Date(e.lastModified||e.lastModifiedDate).toISOString()}))})},removePending:function(e){this.pendingCache.removeFile(e)},clearCompletedPending:function(e){this.pendingCache.clearCompletedFiles(e)}});e.exports=g},function(e,t,n){"use strict";var r=n(21),a=n(832),s=n(4),i=s.sortBy,o=r({displayName:"LtiPlacementStore",schema:n(84),fetchAll:function(e){var t=this;return a(e).then(function(n){t.cache.setCollection(e,i(n,"text"))})},getAll:function(e){return this.cache.getCollection(e)}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(21),o=r(i),l=n(25),u=r(l),c=n(57),d=r(c),p=n(44),f=r(p),m=n(3115),h=r(m),g=n(624),v=r(g),_=n(3187),y=r(_),b=n(3247),E=r(b),C=n(3228),I=r(C),T=n(3231),N=r(T),S=n(3116),x=r(S),A=n(3248),k=r(A),w=n(3132),R=r(w),O=n(3139),P=r(O),L=n(4),M=(0,f.default)(function(e,t){var n=t.sort,r=void 0===n?null:n,a=t.search,s=void 0===a?null:a,i=t.filters,o=void 0===i?null:i,l=t.subaccounts,u=void 0===l?null:l;return y.default.performWithoutParsing({sort:r,search:s,filters:o,subaccounts:u,nextPageURL:e})}),D=(0,o.default)({displayName:"ProgramStore",schema:d.default,create:function(){var e=this;return(0,h.default)().then(function(t){return e.cache.add(t),t})},fetchAll:function(e){var t=this;return this.cache.setCollection(e,[]),M.findFirstPage(e).then(function(n){t.cache.setCollection(e,y.default.parse(n))})},fetchNext:function(e){var t=this;M.hasMorePages()&&M.findNextPage(e).then(function(n){t.cache.addToCollection(e,y.default.parse(n))})},getAll:function(e){return this.cache.getCollection(e)},fetch:function(e){return(0,v.default)(e).then(this.cache.add)},get:function(e){return this.cache.get(e)},update:function(e,t){return 0===t.defaultDaysUntilDue&&(t.defaultDaysUntilDue=null),(0,E.default)(e,t).then(this.cache.add)},optimisticUpdate:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.cache.get(e);return 0===t.defaultDaysUntilDue&&(t.defaultDaysUntilDue=null),this.cache.transaction(function(){n.cache.add((0,L.assign)(a,t));var s=(0,E.default)(e,t);return r?s.then(n.cache.add):s})},publish:function(e){return(0,I.default)(e).then(this.cache.add)},discardChanges:function(e){return(0,P.default)(e).then(this.cache.add)},remove:function(e){var t=this;return this.cache.transaction(function(){return t.cache.remove(e),(0,N.default)(e)})},moveItem:function(e,t,n){var r=this.cache.get(e),a=r.items[t],s=(0,L.reject)(r.items,function(e){return e.id===a.id&&e.itemType===a.itemType});s.splice(n,0,a),this.optimisticUpdate(e,{items:s})},removeItem:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.cache.get(e),a=(0,L.reject)(r.items,function(e){return e.id===t.id&&e.itemType===t.itemType});return this.optimisticUpdate(e,{items:a},n)},addItem:function(e,t,n,r){var a=this.cache.get(e),s=(0,L.clone)(a.items);s.splice(r,0,{id:t,itemType:n}),this.update(e,{items:s})},createSection:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{title:"",description:""},a=this.cache.get(e);if(a.items.some(function(e){return"loading"===e.id}))return u.default.resolve();var i=(0,L.clone)(a.items);return i.splice(t,0,{id:"loading",itemType:"ProgramSection"}),this.cache.transaction(function(){return n.cache.add((0,s.default)({},a,{items:i})),(0,x.default)(r).then(function(r){return n.addItem(e,r.id,"ProgramSection",t),r})})},updateSection:function(e,t,n){var r=this.cache.get(e);return D.update(e,{items:r.items}),(0,k.default)(t,n)},removeSection:function(e,t){return this.removeItem(e,t,!1).then(function(){return(0,R.default)(t.id)})}});t.default=D,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(4).merge},function(e,t,n){"use strict";var r=n(23),a=n(47),s=n(48),i=n(41);e.exports=function(e,t){return function(n){if(n){i(e&&t,"The required parameters numlines and bgColor are not specified"),i(e>1&&e<5,"You must specify a number of lines of text overflow between 1 and 5"),i(s[t],"Only color variables specified in assets/stylesheets/shared/variables.json\n                                       can be used in the overflow fade ref function"),this&&(this.__hasOverflowFade=!1);var o=a(r.findDOMNode(n)),l=o.height(),u=o.attr("style")||"";o.css({"max-height":"none",height:"auto"});var c=o.height();o.attr("style",u),c>l&&("static"===o.css("position")&&console.warn("Warning: You are trying to use the overflow fade ref function on a statically positioned element, which can cause unexpected behavior."),o.addClass("overflow-fade-ref-fn overflow-fade-ref-fn__color-"+t+" overflow-fade-ref-fn__lines-"+e),this&&(this.__hasOverflowFade=!0))}}}},function(e,t,n){"use strict";function r(e){var t=e?(0,s.pick)(a.S3_ACCEPTED_MIME_TYPES,e):a.S3_ACCEPTED_MIME_TYPES,n=o(t);return{regexp:u(t),extensions:i(t),mimeTypes:n,mimeTypeString:[].concat(l(t),n).join(",")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(12),s=n(4),i=function(e){return(0,s.uniq)(Object.keys(e))},o=function(e){return(0,s.uniq)((0,s.values)(e).filter(function(e){return"application/octet-stream"!==e}))},l=function(e){return Object.keys(e).filter(function(t){return"application/octet-stream"===e[t]}).map(function(e){return"."+e})},u=function(e){var t=i(e).map(function(e){return"\\."+e});return new RegExp("("+t.join("|")+")$","i")};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeCustom,n=void 0!==t&&t,r=e.useRollingDates,a=void 0!==r&&r,s=e.includePartialDates,i=void 0!==s&&s,o=e.defaultValue,l=void 0===o?"1w":o,u=[{label:I18n.t("Last Week"),value:"1w",defaultValue:!0},{label:I18n.t("Last Month"),value:"1m"},{label:I18n.t("Last 3 Months"),value:"3m"}];if(a&&(u=[{label:I18n.t("Last 7 Days"),value:"7d"},{label:I18n.t("Last 30 Days"),value:"30d"},{label:I18n.t("Last 90 Days"),value:"90d",defaultValue:!0}]),i&&(u=u.concat([{label:I18n.t("Month to Date"),value:"mtd"},{label:I18n.t("Quarter to Date"),value:"qtd"},{label:I18n.t("Year to Date"),value:"ytd"}])),u.push({label:I18n.t("All Time"),value:"all"}),n&&u.push({label:I18n.t("Custom"),value:"custom"}),"1w"!==l){delete u[0].defaultValue;var c=u.findIndex(function(e){return e.value===l});u[c].defaultValue=!0}return u}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useRollingDates:!1},n=(0,d.find)(e,function(e){return!!e.defaultValue});return n?n.value:t.useRollingDates?h:m}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{toDate:!0,useRollingDates:!1},n="",r=null,i=null;switch((0,c.default)(t.toDate)&&(t.toDate=!0),t.useRollingDates&&(0,c.default)(e)&&(e=s(a({useRollingDates:!0}),{useRollingDates:!0})),e){case"custom":(0,f.default)(!(0,c.default)(t.customStart)&&!(0,c.default)(t.customEnd),"Cannot pass a custom range without also specifying the custom dates");var o=t.customStart,u=t.customEnd;n=I18n.t("Between %{d1} and %{d2}",{d1:o,d2:u}),r=new Date(o),i=new Date(u),t.toDate=!1;break;case"all":n=I18n.t("All Time"),r=window.ACCOUNT&&window.ACCOUNT.oldest_date?(0,l.default)(window.ACCOUNT.oldest_date):(0,l.default)(new Date(2014,0,1)),i=(0,l.default)();break;case"ytd":n=I18n.t("Year to Date"),r=(0,l.default)().startOf("year"),i=(0,l.default)();break;case"90d":n=I18n.t("Last 90 Days"),r=(0,l.default)().subtract(90,"days"),i=(0,l.default)();break;case"3m":n=I18n.t("Last 3 Months"),r=(0,l.default)().startOf("month").subtract(3,"months"),i=r.clone().add(2,"months").endOf("month");break;case"qtd":n=I18n.t("Quarter to Date"),r=(0,l.default)().startOf("quarter"),i=(0,l.default)();break;case"30d":n=I18n.t("Last 30 Days"),r=(0,l.default)().subtract(30,"days"),i=(0,l.default)();break;case"1m":n=I18n.t("Last Month"),r=(0,l.default)().subtract(1,"month").startOf("month"),i=r.clone().endOf("month");break;case"mtd":n=I18n.t("Month to Date"),r=(0,l.default)().startOf("month"),i=(0,l.default)();break;case"7d":n=I18n.t("Last 7 Days"),r=(0,l.default)().subtract(7,"days"),i=(0,l.default)();break;case"1w":default:n=I18n.t("Last Week"),r=(0,l.default)().startOf("week").subtract(1,"week"),i=r.clone().add(6,"days")}return t.toDate&&((0,c.default)(r)||(r=r.startOf("day").toDate()),(0,c.default)(i)||(i=i.endOf("day").toDate())),{label:n,startDate:r,endDate:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.RANGE_KEYS=t.DEFAULT_ROLLING_RANGE_KEY=t.DEFAULT_RANGE_KEY=void 0,t.getRanges=a,t.getDefaultRange=s,t.dateRangeFor=i;var o=n(11),l=r(o),u=n(58),c=r(u),d=n(4),p=n(41),f=r(p),m=t.DEFAULT_RANGE_KEY="1w",h=t.DEFAULT_ROLLING_RANGE_KEY="90d";t.RANGE_KEYS=["all","3m","1m","1w","7d","30d","90d","custom"]},function(e,t,n){"use strict";var r=n(39),a=r.storePermittedActionsForResource,s=n(127);e.exports=s(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach(function(e){a(e,e.actions)})})},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1051);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(a).default}}),Object.defineProperty(t,"createRouter",{enumerable:!0,get:function(){return r(a).default}});var s=n(1050);Object.defineProperty(t,"createRoute",{enumerable:!0,get:function(){return r(s).default}});var i=n(522);Object.defineProperty(t,"createPath",{enumerable:!0,get:function(){return r(i).default}});var o=n(523);Object.defineProperty(t,"discardIndexIdentifier",{enumerable:!0,get:function(){return r(o).default}});var l=n(1048);Object.defineProperty(t,"RouteHandler",{enumerable:!0,get:function(){return r(l).default}});var u=n(1049);Object.defineProperty(t,"RouteHandlerHierarchy",{enumerable:!0,get:function(){return r(u).default}});var c=n(524);Object.defineProperty(t,"parseQueryString",{enumerable:!0,get:function(){return r(c).default}});var d=n(338);Object.defineProperty(t,"stringifyQuery",{enumerable:!0,get:function(){return r(d).default}});var p=n(1053);Object.defineProperty(t,"createRoutingCompatTools",{enumerable:!0,get:function(){return r(p).default}}),Object.defineProperty(t,"HybridLinkTools",{enumerable:!0,get:function(){return p.HybridLinkTools}});var f=n(4);Object.defineProperty(t,"flow",{enumerable:!0,get:function(){return f.flow}})},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=r(i),l=n(906),u=r(l),c=n(11),d=r(c),p=n(890),f=r(p),m=n(3),h=8,g=55,v={REPORT_RANGE:"MMM D, YYYY"},_=Object.keys(v).reduce(function(e,t){return e.concat(v[t])},["D MMM YYYY","MM-DD-YYYY","MM-D-YYYY","M-D-YYYY","D-MM-YYYY","D-M-YYYY","DD-MM-YYYY","YYYY-MM-DD","MMMM YYYY"]),y=function(){return{previousMonth:"",nextMonth:"",months:I18n.lookup("date.month_names").slice(1),weekdays:I18n.lookup("date.day_names"),weekdaysShort:I18n.lookup("date.abbr_day_names")}},b="YYYY-MM-DD",E=function(){return!!window.navigator.userAgent.match(/Android|iPhone|iPad|iPod/i)},C=function(e,t){var n=e&&(0,d.default)(e);return n&&n.isValid()?n.format(t):null},I=s.default.createClass({displayName:"DatePicker",propTypes:{value:(0,m.oneOfType)([(0,m.instanceOf)(Date),(0,m.instanceOf)(d.default)]),initialMinDate:(0,m.oneOfType)([(0,
m.instanceOf)(Date),(0,m.instanceOf)(d.default)]),initialMaxDate:(0,m.oneOfType)([(0,m.instanceOf)(Date),(0,m.instanceOf)(d.default)]),id:m.string,isEditable:m.bool,isFocused:m.bool,allowPast:m.bool,allowFuture:m.bool,format:m.string,onChange:m.func,onFocus:m.func,onBlur:m.func,alwaysBlur:m.bool,isMobile:m.bool,emitChangeInitially:m.bool,placeholder:m.string,className:m.string,autosize:m.bool},getInitialState:function(){var e=this;return{defaultDate:(0,d.default)(this.props.value||new Date),minDate:function(){if(e.props.allowPast&&"undefined"==typeof e.props.initialMinDate)return!1;var t=(0,d.default)(e.props.initialMinDate||new Date),n=(0,d.default)(e.props.value||new Date);return t.isAfter(n,"day")&&(t=n),t}(),maxDate:function(){if(e.props.allowFuture&&"undefined"==typeof e.props.initialMaxDate)return!1;var t=(0,d.default)(e.props.initialMaxDate),n=(0,d.default)(e.props.value||new Date);return t.isBefore(n,"day")&&(t=n),t}()}},getDefaultProps:function(){return{format:"ll",isEditable:!0,isFocused:!1,allowPast:!1,allowFuture:!0,emitChangeInitially:!1,alwaysBlur:!1,isMobile:E()}},componentDidMount:function(){var e=this.refs.dateInput,t=this.state,n=t.minDate,r=t.maxDate,a=t.defaultDate;this.props.isMobile||(this._pikaday=new u.default({field:e,format:this.props.format,acceptedFormats:_,i18n:y(),defaultDate:a.toDate(),minDate:n&&n.toDate(),maxDate:r&&r.toDate(),onSelect:this.handleOnChange})),this.setDate(this.props.value,!!this.props.emitChangeInitially),this.props.isFocused&&this.focus(),this.resizeInput(),window.addEventListener("load",this.resizeInput)},componentWillUnmount:function(){window.removeEventListener("load",this.resizeInput),this.props.isMobile||this._pikaday.destroy()},componentWillReceiveProps:function(e){var t=this.props.value,n=e.value,r=t?(0,d.default)(t):null,a=n?(0,d.default)(n):null;this.getDateChanged(r,a)&&this.setDate(e.value,!1)},componentDidUpdate:function(e){var t=this.props,n=t.format,r=t.value,a=e.format,s=e.value,i=a!==n,o=s?(0,d.default)(s):null,l=r?(0,d.default)(r):null;(this.getDateChanged(o,l)||i)&&this.resizeInput(),i&&!this.props.isMobile&&this.setInputValue((0,d.default)(r).format(n))},render:function(){return this.props.isMobile?this.renderMobileInput():this.renderInput()},renderInput:function(){return s.default.createElement("input",{type:"text","data-capybara":"date_input",ref:"dateInput",id:this.props.id,disabled:!this.props.isEditable,onFocus:this.handleFocus,onBlur:this.handleBlur,className:this.props.className,placeholder:this.props.placeholder})},renderMobileInput:function(){var e=this.state,t=e.minDate,n=e.maxDate,r=e.defaultDate;return s.default.createElement("input",{type:"date",ref:"dateInput","data-capybara":"date_input",defaultValue:r.format(b),min:t&&t.format(b),max:n&&n.format(b),disabled:!this.props.isEditable,onBlur:this.handleBlur,onChange:this.handleMobileChange,className:this.props.className,placeholder:this.props.placeholder})},calculateInputWidth:function(e,t){var n=(0,f.default)(e,t),r=this.props.isMobile?g:h;return n+r},resizeInput:function(){if(this.props.autosize){var e=this.refs.dateInput,t=this.props.isMobile?b:this.props.format,n=this.getCurrentValue(),r=n?(0,d.default)(n).format(t):this.state.defaultDate.format(t),a=this.calculateInputWidth(r,e);e.style.width=a+"px"}},setDate:function(e,t){this.props.isMobile?this.setInputValue(C(e,b)):(e||this.clearDate(),d.default.isMoment(e)?this._pikaday.setMoment(e,!0):this._pikaday.setDate(e,!0),this.setInputValue(C(e,this.props.format))),this.handleOnChange(t)},getDateChanged:function(e,t){var n=e?e.valueOf():null,r=t?t.valueOf():null,a=e&&d.default.isMoment(e)?e.utcOffset():null,s=t&&d.default.isMoment(t)?t.utcOffset():null;return n!==r||a!==s},getPicker:function(){return this._pikaday},isPikadayFocused:function(){return this._pikaday&&this._pikaday._c},getCurrentValue:function(){return this.props.isMobile?o.default.findDOMNode(this.refs.dateInput).value:this._pikaday.getDate()},focus:function(){this.refs.dateInput.focus()},setInputValue:function(e){this.refs.dateInput.value=e||""},clearDate:function(){this.setInputValue()},handleFocus:function(e){this.props.onFocus&&this.props.onFocus(e)},handleBlur:function(e){var t=(0,d.default)(e.target.value,this.props.format,d.default.locale());t.isValid()||this.clearDate(),!this.props.onBlur||this.isPikadayFocused()&&!this.props.alwaysBlur||this.props.onBlur(this.date)},handleMobileChange:function(e){var t=(0,d.default)(e.target.value),n=this.state,r=n.minDate,a=n.defaultDate;if(!t.isValid()||r&&r.isAfter(t,"day")){var s=this.date?(0,d.default)(this.date).format(b):a.format(b);e.preventDefault(),this.setInputValue(s)}else this.handleOnChange(!0)},handleOnChange:function(e){var t=this.getCurrentValue(),n=this.date;t&&(0===(0,d.default)(t).year()?this.date=(0,d.default)(t).year((new Date).getFullYear()).endOf("day").toISOString():this.date=(0,d.default)(t).endOf("day").toISOString(),e!==!1&&this.date!==n&&this.props.onChange(this.date))}});I.NATIVE_DATE_FORMAT=b,I.Formats=v,I.acceptedFormats=_,e.exports=I},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.number,i=a.shape,o=a.string,l=n(822),u=n(20),c=r.createClass({displayName:"TranslucentBackgroundImage",propTypes:{backgroundImageUrl:o,backgroundOption:o,opacity:s,cdnImageParams:i({width:s,height:s})},getDefaultProps:function(){return{opacity:1}},getInitialState:function(){return{}},componentDidMount:function(){this.createCdnUrl()},componentDidUpdate:function(e){this.props.backgroundImageUrl!==e.backgroundImageUrl&&this.createCdnUrl()},createCdnUrl:function(){var e=this,t=this.props.backgroundImageUrl;u("grayskull")&&t?l(t,this.props.cdnImageParams).then(function(e){return e.url},function(){return t}).then(function(t){return e.setState({backgroundImageUrl:t})}):this.setState({backgroundImageUrl:t})},render:function(){var e={},t=this.state.backgroundImageUrl?"url("+this.state.backgroundImageUrl+")":"none";switch(e.backgroundImage=t,e.opacity=this.props.opacity,this.props.backgroundOption){case"tile":e.backgroundRepeat="repeat";break;case"center":e.backgroundPosition="center center",e.backgroundRepeat="no-repeat";break;case"stretch":e.backgroundSize="100% 100%";break;case"fit":e.backgroundSize="contain",e.backgroundPosition="center center",e.backgroundRepeat="no-repeat";break;default:e.backgroundSize="cover",e.backgroundPosition="center center"}return r.createElement("div",{className:"translucent-background-image",style:e})}}),d=r.createClass({displayName:"Clipper",propTypes:{renderHeight:s.isRequired},render:function(){return r.createElement("div",{className:"flexbox-center overflow-hidden absolute full-width full-height"},r.createElement("div",{className:"full-height full-width relative",style:{minHeight:this.props.renderHeight}},r.createElement(c,this.props)))}});c.Clipper=d,e.exports=c},function(e,t,n){"use strict";t.ContentOutlet=n(1396),t.TrayOutlet=n(1397),t.TrayLayout=n(3091)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(59),o=n(7),l=r(o),u=n(119),c=r(u),d=n(4),p=n(25),f=r(p),m=["learner","admin","author"];e.exports=(0,s.default)({schema:i.LtiResourceSchema,perform:function(e,t,n){if((0,d.includes)(m,e)){var r=Object.assign({placement_id:t},{context_info:n}),a="/api/"+e+"/lti_placement_launch"+(0,c.default)(r);return(0,l.default)({url:a,dataType:"json",type:"GET"})}return f.default.reject(new Error("LTI Placement Resource type must be one of "+m))},parse:function(e,t){return(0,i.normalizeLtiResource)(e,t)}})},function(e,t){"use strict";e.exports={getInitialState:function(){return{frozen:!1}},freeze:function(){this.setState({frozen:!0})},freezeWhile:function(e){this.freeze(),e().then(this.unfreeze)},unfreeze:function(){this.setState({frozen:!1})},shouldComponentUpdate:function(e,t){return!(!this.state.frozen&&t.frozen)&&!(this.state.frozen&&!t.frozen)}}},function(e,t,n){"use strict";var r=n(3098),a=function(e){return e};e.exports=function(e){var t;return"string"==typeof e&&(e=a.bind(null,e)),{componentWillMount:function(){t=new r(e.bind(this))},componentDidMount:function(){t&&t.update()},componentDidUpdate:function(){t&&t.update()},componentWillUnmount:function(){t&&t.restore(),t=null}}}},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.number,o=s({id:a.isRequired,courseCount:i.isRequired,name:a.isRequired});e.exports=o},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.number,o=r.oneOfType;e.exports=s({url:a,width:o([i,a]),height:o([i,a])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,enrollmentId:r.string,state:r.string,progress:r.number,score:r.number,currentQuestionId:r.string,furthestQuestionId:r.string,startedAt:r.string,endedAt:r.string,courseId:r.string,courseTitle:r.string,courseDescription:r.string,nextQuizSendAt:r.string,isArchived:r.bool,meta:(0,r.shape)({domainId:r.string,subAccountId:r.string,r2bJwt:r.string})}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.shape,i=r.string,o=r.number;e.exports=s({id:i,title:i,anonymous:a,publishResults:a,distributionsCount:o,isLocked:a,links:s({author:i}),directMessagingEnabled:a})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string;e.exports=a({id:s,key:s,roleId:s})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,title:r.string,description:r.string,learnableId:r.string,learnableType:r.string,urgentCount:r.number,pendingCount:r.number,retryCount:r.number,approvedCount:r.number,attachmentsCount:r.number}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,name:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.cache.get(t)||{},r=n.updatedAt;return r?new Date(r):null}function s(e,t){var n=t.taskId,r=t.attributes,a=t.lockOptions,s=(0,R.default)(r,["structuredBody"]);return s.structuredBody&&(s.structured_body=s.structuredBody,delete s.structuredBody),e.saveQueue.add({lockOptions:a,url:"/api/author/tasks/"+n,type:"PATCH",data:{task:s}})}var i=n(38),o=r(i),l=n(2),u=r(l),c=n(3122),d=r(c),p=n(3136),f=r(p),m=n(834),h=r(m),g=n(3198),v=r(g),_=n(3251),y=r(_),b=n(21),E=r(b),C=n(95),I=r(C),T=n(44),N=r(T),S=n(1401),x=r(S),A=n(249),k=r(A),w=n(40),R=r(w),O=n(4),P=n(138),L=n(66),M=r(L),D=n(1478),U=r(D),F=n(5),q=n(41),B=r(q),j=n(96),H=r(j),G=n(7),W=r(G),V=n(645),Y=r(V),z=F.constants.SLIDE_CONTENT_UPDATE_THROTTLE_MS,K={title:u.default.string,instructions:u.default.string,description:u.default.string,hasCertificate:u.default.bool,requiresApproval:u.default.bool,defaultApproverId:u.default.string,defaultApproverType:u.default.string,defaultDaysUntilDue:u.default.number,defaultDueOnDate:u.default.string,requiresEvidence:u.default.bool},Q=["requiresApproval","defaultApproverId","defaultApproverType"],$=1e3,X=(0,N.default)(v.default.performWithoutParsing),J=(0,E.default)({displayName:"TaskStore",schema:n(85),initialize:function(){var e=this;this.searchCache=(0,I.default)(this.emitChange,{schema:n(85),displayName:"TaskStore__search"}),this.debouncedSearch=(0,M.default)(this.performSearch,$),this.saveQueue=x.default.create({retryCount:3,adapter:P.lockAwareAjax,callback:function(){}}),this.debouncedCommitChanges=(0,U.default)({fn:function(t,n,r){var i=e.cache.get(t);i&&e.cache.add((0,O.assign)({},i,n)),s(e,{taskId:t,attributes:n,lockOptions:{id:t,lastModifiedAt:a(e,t),type:"Task"}}).then(function(){r.onSuccess&&r.onSuccess()},function(){e.fetch(t),r.onError&&r.onError()})},keyFn:function(e){return e},threshold:z})},clear:function(){this.searchCache.clear(),this.debouncedSearch.cancel()},getInitialState:function(){return{searching:!1,dirtyTasks:{}}},search:function(e,t,n){this.searchCache.setCollection({type:e,id:t},[]),n.search&&this.setState({searching:!0}),this.debouncedSearch(e,t,n)},getSearchResults:function(e,t){return this.searchCache.getCollection({type:e,id:t})},isSearching:function(){return this.state.searching},create:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.default)(t).then(function(t){return e.cache.add(t),t.id})},fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.default)(e,t).then(this.cache.add)},fetchAll:function(e){var t=this;return this.cache.setCollection(e,[]),X.findFirstPage(e).then(function(n){t.cache.setCollection(e,v.default.parse(n))})},fetchNext:function(e){var t=this;X.hasMorePages()&&X.findNextPage(e).then(function(n){t.cache.addToCollection(e,v.default.parse(n))})},getAll:function(e){return this.cache.getCollection(e)},get:function(e){return this.cache.get(e)},update:function(e,t){var n=this,r=this.get(e),a=(0,k.default)(t,K,!0);return 0===a.defaultDaysUntilDue&&(a.defaultDaysUntilDue=null),0===Object.keys(a).length?void console.warn("You have attempted to update a task with invalid parameters.","You may only modify one or more of the following attributes:",Object.keys(K)):void this.cache.transaction(function(){return n.cache.add((0,O.merge)({},r,a)),(0,y.default)(e,a).then(function(t){return n.cache.add(t),n._maybeRefreshEnrollments(e,a)})})},updateContent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.debouncedCommitChanges(e,t,n)},remove:function(e){var t=this;return this.cache.transaction(function(){return t.cache.remove(e),(0,f.default)(e)})},performSearch:function(e,t,n){var r=this;return X.findFirstPage(n).then(function(n){var a=v.default.parse(n);r.searchCache.setCollection({type:e,id:t},a),r.setState({searching:!1})},function(){r.setState({searching:!1})})},markDirty:function(e){this.setState({dirtyTasks:(0,O.assign)({},this.state.dirtyTasks,(0,o.default)({},e,!0))})},markClean:function(e){this.setState({dirtyTasks:(0,O.omit)(this.state.dirtyTasks,e)})},isTaskDirty:function(e){var t=this.get(e);return t&&t.hasUnpublishedChanges||this.state.dirtyTasks[e]===!0},publish:function(e){var t=this,n=this.get(e);return(0,B.default)(n,"Task must exist in order to publish!"),(0,W.default)({url:"/api/author/tasks/"+e+"/publish",type:"POST",beforeSend:function(t){var n=P.LockStore.get({type:"Task",id:e});n&&t.setRequestHeader("X-Lock-Id",n.id)}}).then(function(n){H.default.batch(t,function(){var r=h.default.parse(n);t.cache.add(r),r.hasUnpublishedChanges||t.markClean(e)})})},clone:function(e){return(0,W.default)({type:"POST",url:"/api/author/tasks/"+e+"/clone"}).then(function(e){return e.tasks[0].id})},_maybeRefreshEnrollments:function(e,t){var n=(0,O.intersection)(Object.keys(t),Q);return n.length>0?Y.default.fetch(e):null}});e.exports=J,e.exports.SEARCH_DEBOUNCE_WAIT=$},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(t)&&l(e)?i(e,t,n):o(t)&&o(e)?s(e,t,n):e}function s(e,t,n){return Object.keys(t).reduce(function(r,s){return n&&!e.hasOwnProperty(s)||(r[s]=a(e[s],t[s],n)),r},{})}function i(e,t,n){return e.map(function(e){return a(e,t[0],n)})}function o(e){return e&&"object"===("undefined"==typeof e?"undefined":(0,c.default)(e))}function l(e){return Array.isArray(e)}var u=n(46),c=r(u);e.exports=a},function(e,t){"use strict";function n(e){return Object.assign({owner:null,coalescent:!1,text:"",depth:0,inlineStyleRanges:[],entityRanges:[],anchors:[]},e)}n.isCoalescent=function(e){return e.coalescent===!0},n.toDraftBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"unstyled",depth:null};return{type:t.type,text:e.text,inlineStyleRanges:e.inlineStyleRanges,entityRanges:e.entityRanges,depth:t.hasOwnProperty("depth")?t.depth:e.depth}},e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,userId:r.number,subject:r.string,body:r.array,sentAt:r.string,read:r.bool}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string.isRequired,uid:r.string,firstName:r.string,lastName:r.string,fullName:r.string,sortableName:r.string,email:r.string,locale:r.string,avatarUrl:r.string,isAdministrator:r.bool,isManager:r.bool,hireDate:r.number,updatedAt:r.number,redirectUrl:r.string,roles:(0,r.arrayOf)(r.string),jobTitle:r.string,managerId:r.string,learnVanityUrl:r.string,name:r.string}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MODIFY_ATTRIBUTE:"MODIFY_ATTRIBUTE",MODIFY_VALUE:"MODIFY_VALUE",MORPH_INTO_LIST_ITEM:"MORPH_INTO_LIST_ITEM",REMOVE_NODE:"REMOVE_NODE",UNWRAP_NODE:"UNWRAP_NODE",WRAP_NODE:"WRAP_NODE"},e.exports=t.default},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterOption=t.SelectedFilter=void 0;var r=n(10),a=(t.SelectedFilter=(0,r.shape)({type:r.string.isRequired,value:r.string.isRequired}),t.FilterOption=(0,r.shape)({label:r.string.isRequired,value:r.string.isRequired}));t.default=(0,r.shape)({type:r.string.isRequired,label:r.string.isRequired,static:r.bool,url:r.string,nextPageUrl:r.string,options:(0,r.arrayOf)(a).isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return b.default.fetch(e).then(null,function(){throw(0,k.default)(I18n.t("Course does not exist"),{type:"error"}),N.default.transitionTo("author.courses"),g.default.AbortedError})}function s(e,t){return void 0!==t.inLibrary?C.default.toggleRecord(t.inLibrary,"CourseTemplate",t.id).then(function(){b.default.fetch(t.id)}):b.default.update(e,t)}function i(e,t){x.default.unsubscribe(M);var n=function(){return(0,k.default)(I18n.t("Oh Snap! We were unable to publish this course. Please try again later."),{type:"error"})};return I.LockActions.acquire({type:"CourseTemplate",id:e}).then(function(){return b.default.publish(e,t,n)}).then(function(){return I.LockActions.release({type:"CourseTemplate",id:e})})}function o(e){return b.default.clone(e).then(function(e){N.default.transitionTo("author.courses.slides",e.id)})}function l(e,t){return b.default.delete(e,t)}function u(e,t,n,r){return b.default.archive(e,t,n,r).then(function(){t||(0,k.default)(I18n.t("Course archived successfully!"),{buttonText:I18n.t("Got it!"),type:"notice",closeText:I18n.t("Undo"),onCloseButtonClick:c.bind(null,e,!0,n,r),dontDismiss:!0,icon:R.default.createElement(O.ArchiveIcon,{className:"toaster__archive-icon"})})})}function c(e,t,n,r){return b.default.unarchive(e,t,n,r).then(function(){t||(0,k.default)(I18n.t("Course un-archived successfully!"),{buttonText:I18n.t("Got it!"),type:"notice",closeText:I18n.t("Undo"),onCloseButtonClick:u.bind(null,e,!0,n,r),dontDismiss:!0,icon:R.default.createElement(O.UnarchiveIcon,{className:"toaster__archive-icon"})})})}function d(e,t){return x.default.subscribe(M,p.bind(null,e)),I.LockActions.acquire({type:"CourseTemplate",id:e,showToast:!1}).then(function(){var n={};t&&(n.returnToCourseList="1"),N.default.transitionTo("author.courses.slides",e,{queryParams:n})})}function p(e,t){if(t.holderId!==Number(_.default.getCurrentUserId())&&t.lockableId===e&&"CourseTemplate"===t.lockableType){var n={id:t.holderId,displayName:t.holderDisplayName};I.LockActions.setConflictToast(n),N.default.transitionTo("author.course",e)}}function f(e){return e.externalStatus===L.default.COURSE_EXTERNAL_STATUS_PENDING||e.externalStatus===L.default.COURSE_EXTERNAL_STATUS_PUBLISHPENDING||e.externalStatus===L.default.COURSE_EXTERNAL_STATUS_FAILED}function m(e){var t=e.enrollmentCounts;if(t)return[{value:"",label:I18n.t("Everyone (%{count})",{count:t.all}),count:t.all},{value:"overdue",label:I18n.t("Overdue (%{count})",{count:t.overdue}),count:t.overdue},{value:"not_started",label:I18n.t("Not Started (%{count})",{count:t.notStarted}),count:t.notStarted},{value:"in_progress",label:I18n.t("In Progress (%{count})",{count:t.inProgress}),count:t.inProgress},{value:"required",label:I18n.t("Required (%{count})",{count:t.required}),count:t.required},{value:"optional",label:I18n.t("Added by Learner (%{count})",{count:t.optional}),count:t.optional},{value:"finished",label:I18n.t("Finished (%{count})",{count:t.finished}),count:t.finished}]}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCourseAndRedirectIfNotFound=a,t.updateCourse=s,t.publishCourse=i,t.cloneCourse=o,t.deleteCourse=l,t.archiveCourse=u,t.unarchiveCourse=c,t.editCourse=d,t.handleEditCourseConflict=p,t.isCourseActionDisabled=f,t.getMessageFilters=m;var h=n(22),g=r(h),v=n(34),_=r(v),y=n(148),b=r(y),E=n(641),C=r(E),I=n(138),T=n(13),N=r(T),S=n(305),x=r(S),A=n(19),k=r(A),w=n(1),R=r(w),O=n(43),P=n(12),L=r(P),M="locks#create";t.default={fetchCourseAndRedirectIfNotFound:a,isCourseActionDisabled:f,editCourse:d,handleEditCourseConflict:p,getMessageFilters:m,updateCourse:s,publishCourse:i,cloneCourse:o,deleteCourse:l,archiveCourse:u,unarchiveCourse:c}},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.number,o=r.arrayOf;e.exports=a({id:s,name:s,email:s,avatarUrl:s,state:s,enrollmentId:s,programItemsComplete:i,currentProgramItemDue:i,currentProgramItemIndex:i,programDue:i,timeSpent:i,endAt:s,expiresAt:s,groupIds:o(s),pendingApprovalItemCount:i})},function(e,t,n){"use strict";var r=n(213),a=n(760),s=n(265),i=n(422),o={saveSurvey:function(e,t){return r.updateRecord(e.id,t)},duplicateSurvey:function(e){return r.cloneRecord(e.id)},fetchSurvey:function(e){return r.find(e)},fetchDistributions:function(e,t){return a.findFirstPage(e,t)},fetchMoreDistributions:function(e,t){a.findNextPage(e,t)},createDistribution:function(e,t){return a.createRecord(e,t).then(function(){r.find(e)})},fetchQuestions:function(e){return s.findAll(e)},resetQuestions:function(){s.clear()},deleteDistribution:function(e,t){return a.deleteRecord(t.id).then(function(){r.find(e)})},resetGroupSearch:function(){i.resetSearch()},searchGroups:function(e,t){i.setSearch({term:e,selectedIds:t})}};e.exports=o},function(e,t,n){"use strict";function r(e,t){return u(e,{position:t+1})}var a=n(199),s=n(162),i=n(66),o=n(40),l=n(4),u=l.assign,c=l.omit,d=l.sortBy,p=n(21),f=n(96),m=n(7),h=n(894),g=n(118),v=n(126),_=n(25),y=n(68),b=y.of(n(463)),E=function(e){return s(a,e)},C=E("/api/author/surveys/%@/questions"),I=E("/api/author/survey_questions/%@"),T=["id","surveyId"],N=p({displayName:"SurveyQuestionsStore",schema:n(463),getInitialState:function(){return{loaded:[]}},initialize:function(){this.adapter=m.use([h(),g(this.emitChange)])},isLoaded:function(e){return this.state.loaded.indexOf(e)>-1},isSaving:function(){return this.adapter.hasPendingRequests()},isDisconnected:function(){return this.adapter.hasConnectionError()},findAll:function(e){var t=this;return this.setState({loaded:this.state.loaded.filter(function(t){return t!==e})}),v({url:C(e),dataType:"json",onProgress:function(n){var r=n.questions.map(b);t.cache.addToCollection({surveyId:e},r)}}).then(function(n){return f.batch(t,function(){var r=n.questions.map(b);t.cache.setCollection({surveyId:e},r),t.setState({loaded:t.state.loaded.concat([e])})}),n})},get:function(e){return this.cache.get(e)},getAll:function(e){return this.cache.getCollection({surveyId:e})},update:function(e,t){var n=this,r=this.get(e),a=u({},r,t);if(a.position!==r.position){var s=r.surveyId,i=this.getAll(s),o=i.filter(function(e){return e.position===a.position})[0];f.batch(this,function(){o&&n.cache.add(u({},o,{position:r.position})),n.cache.add(a),n.cache.setCollection({surveyId:s},d(n.getAll(s),"position"))})}else this.cache.add(a);this.persistRecord(e)},create:function(e,t){var n=this;return t=t||{},t.statement=t.statement||"",this.adapter({url:C(e),type:"POST",dataType:"json",data:{question:t}}).then(function(t){var r=t.questions.map(b),a=r[0];return f.batch(n,function(){n.cache.addToCollection({surveyId:e},[a]),n._placeQuestionInList(a)}),a})},clone:function(e){var t=this,n=this.get(e);if(!n||!n.id)return _.reject();var r=n.surveyId,a=u(c(n,["id"]),{position:n.position+1});return this.cache.transaction(function(){return t.create(r,a)})},destroy:function(e){var t=this;this.adapter({url:I(e),type:"DELETE",dataType:"json"}).then(function(){var n=t.cache.get(e),a=n.surveyId,s=t.getAll(a).filter(function(t){return t.id!==e}).map(r);f.batch(t,function(){t.cache.remove(e),t.cache.setCollection({surveyId:a},s)})})},persistRecord:i(function(e){var t=this,n=o(c(this.cache.get(e),T));this.adapter({url:I(e),type:"PATCH",dataType:"json",data:{question:n}}).then(function(){t.emitChange()})},500,!0),_placeQuestionInList:function(e){var t=e.surveyId,n=this.getAll(t),a=n.filter(function(t){return t.position===e.position&&t.id!==e.id})[0];if(a){var s=n.reduce(function(t,n){return n.id===e.id?t:n.id===a.id?t.concat([e,a]):t.concat(n)},[]).map(r);this.cache.setCollection({surveyId:t},d(s,"position"))}}});e.exports=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(62),o=r(i),l=n(429),u=r(l),c=n(6),d=r(c),p=n(2),f=n(20),m=r(f),h=n(588),g=r(h),v=n(5),_=s.default.createClass({displayName:"AuthenticationLayout",propTypes:{className:p.string,showBridgeLogo:p.bool,children:p.any,showLoader:p.bool},getDefaultProps:function(){return{className:"full-min-height",showBridgeLogo:!0,showLoader:!1}},renderContent:function(e,t){var n=o.default.isColorEnabled(),r=(0,d.default)("brand-logo brand-logo--auth-layout","brand-logo--placeholder",o.default.getLogoClass()),a=(0,d.default)({"auth-layout__bridge-logo":!0,"auth-layout__bridge-logo--on-dark":!n,"auth-layout__bridge-logo--default-color":(0,m.default)("learn_login_branding")&&(e||t)}),i=(0,d.default)("auth-layout__content-wrapper",{"auth-layout__content-wrapper--branded":(0,m.default)("learn_login_branding")}),l=(0,d.default)("auth-layout__content pure-u-1-3",{"auth-layout__content--centered":(0,m.default)("learn_login_branding"),"padding-t-l":!(0,m.default)("learn_login_branding")});return s.default.createElement("div",{className:i},s.default.createElement("div",{className:l},!(0,m.default)("learn_login_branding")&&!!e&&s.default.createElement("div",{className:r},s.default.createElement("img",{src:e,alt:o.default.getName(),onLoad:o.default.handleLogoLoaded.bind(o.default,null)})),this.props.children,this.props.showBridgeLogo&&s.default.createElement(u.default,{hidden:!n&&!e,className:a})))},renderRightPanelContent:function(e,t){return s.default.createElement("div",{className:"auth-layout__right-panel"},this.renderContent(e,t))},render:function(){var e=(0,m.default)("learn_login_branding")?o.default.getSigninLogoUrl():o.default.getLogoUrl(),t=o.default.getSigninBrandLogoSetting(),n=o.default.getSigninPhotoConfig(),r=n.signinPhotoUrl,a=n.signinPhotoOpacity,i=n.signinPhotoStyle,l=(0,d.default)(this.props.className,{"auth-layout--branded":(0,m.default)("learn_login_branding"),"auth-layout--with-branding-bar":(0,m.default)("learn_login_branding")&&(e||r)}),u=(e||r)&&(0,m.default)("learn_login_branding");return s.default.createElement("div",{className:"auth-layout "+l},this.props.showLoader&&s.default.createElement(v.Loader,{className:"auth-layout--anim-in__loader"}),u&&s.default.createElement(g.default,{logoUrl:e,isReverseLogo:"reverse"===t,brandPhotoUrl:r,brandPhotoOpacity:a,brandPhotoStyle:i}),u?this.renderRightPanelContent(e,r):this.renderContent(e,r))}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.arrayOf,i=a.oneOfType,o=a.string,l=a.number,u=a.bool,c=a.any,d=a.func,p=n(5),f=p.Icon,m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return"avatar--selected";var r=parseInt(e,10)%t.length;return t[r]},h=r.createClass({displayName:"Avatar",propTypes:{id:i([o,l]).isRequired,classPool:s(o).isRequired,className:o,"aria-hidden":u,isSelected:u,selectable:u,onClick:d,children:c},getDefaultProps:function(){return{"aria-hidden":!1,className:"",selectable:!1}},getChildren:function(){return this.props.selectable&&this.props.isSelected?r.createElement(f,{className:"gs-check-circle"}):this.props.children},render:function(){var e=this.props,t=e.id,n=e.classPool,a=e.isSelected;return r.createElement("div",{"aria-hidden":this.props["aria-hidden"],className:"\n          avatar\n          "+this.props.className+"\n          "+m(t,n,a)+"\n        ",children:this.getChildren(),onClick:this.props.onClick})}});e.exports=h,e.exports.getUniqueClassName=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=n(5),d=n(62),p=r(d),f=n(39),m=r(f),h=n(12),g=o.default.createClass({displayName:"BackToProgramButton",propTypes:{className:s.default.string,secondaryClassName:s.default.string,hasBackIcon:s.default.bool,programId:s.default.string.isRequired,hideTextOnMobile:s.default.bool,primaryColor:s.default.string},getDefaultProps:function(){return{hasBackIcon:!1}},getStyle:function(){if(m.default.getTheme()===h.THEME_HIGH_CONTRAST)return{};if(this.props.className&&this.props.className.indexOf("brand-")!==-1)return{};if(this.props.secondaryClassName&&this.props.secondaryClassName.indexOf("brand-")!==-1)return{};var e=this.props.primaryColor||"#"+p.default.getPublishedColor();return{color:e}},renderSpan:function(){return o.default.createElement("span",{className:this.props.secondaryClassName,style:this.getStyle()},this.props.hasBackIcon&&o.default.createElement(c.Icon,{className:"gs-arrow-left gs-1x margin-r-xs"}),o.default.createElement("span",{className:this.props.hideTextOnMobile&&"hidden-mobile"},I18n.t("Back to Program")))},render:function(){var e=this.props.programId;return o.default.createElement(u.default,{to:"learner.program",params:[{programId:e}],className:this.props.className+" break-word"},this.renderSpan())}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(18),l=n(6),u=n(3),c=u.string,d=u.func,p=i.createClass({displayName:"BrandButton",propTypes:{onFocus:d,onBlur:d,className:c},getInitialState:function(){return{hasFocus:!1}},onFocus:function e(t){var e=this.props.onFocus;this.setState({hasFocus:!0}),e&&e(t)},onBlur:function e(t){var e=this.props.onBlur;this.setState({hasFocus:!1}),e&&e(t)},render:function(){var e=l(this.props.className,{"brand-outline blue-outline":this.state.hasFocus});return i.createElement(o,(0,s.default)({},this.props,{className:e,onFocus:this.onFocus,onBlur:this.onBlur}))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(173),u=r(l),c=n(269),d=r(c),p=n(5),f=n(372),m=r(f),h=n(6),g=r(h),v=n(3),_=o.default.createClass({displayName:"SortPopdown",propTypes:{sortOptions:m.default.propTypes.sortOptions,onChange:m.default.propTypes.onChange,activeSort:m.default.propTypes.activeSort,iconClassName:v.string,label:v.string,className:v.string},getDefaultProps:function(){return{iconClassName:"gs-sort"}},onChange:function(e){this.refs.popdown.closeModal(),this.props.onChange(e)},renderDefaultTrigger:function(){var e=this.props,t=e.sortOptions,n=e.activeSort,r=n&&t.filter(function(e){return e.value===n})[0],a=r?r.label:this.label();return o.default.createElement("span",{className:(0,g.default)("bold chart-grey",{"brand-color":r})},o.default.createElement(p.Icon,{className:(0,g.default)(this.props.iconClassName,"margin-r-xs leading-condensed text-above-baseline-10")}),o.default.createElement("span",{className:"button-focus-flat__label"},a),o.default.createElement(p.Icon,{className:"gs-arrow-down margin-l-s gs-3-4"}))},render:function(){var e=this.props,t=e.sortOptions,n=e.activeSort,r=e.className,a=e.iconClassName;return o.default.createElement(u.default,{ref:"popdown"},o.default.createElement(u.default.Trigger,null,o.default.createElement(d.default,{className:(0,g.default)(r,"popdown-selector__trigger")},this.renderDefaultTrigger())),o.default.createElement(u.default.Content,{
className:"popdown-selector",arrowUpDownNav:!0},o.default.createElement("h3",{className:"bold padding-s small white-bg sort-selector__header"},o.default.createElement(p.Icon,{className:(0,g.default)(a,"margin-r-xs leading-condensed text-above-baseline-10")}),this.label()),o.default.createElement(m.default,(0,s.default)({onChange:this.onChange},{sortOptions:t,activeSort:n}))))},label:function(){return this.props.label||I18n.t("Sort By")}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(3),l=o.string,u=o.bool,c=o.func,d=o.node,p=n(28),f=i.createClass({displayName:"TagPill",propTypes:{tagName:l,className:l,children:d,highlight:u,operator:u,onClick:c},getDefaultProps:function(){return{tagName:"div"}},render:function(){var e=this.props.tagName,t=p(this.props.className,{"tag-pill":!0,"tag-pill--highlight":this.props.highlight,"tag-pill--operator":this.props.operator});return i.createElement(e,{"data-capybara":"tag-entry",onClick:this.props.onClick,className:t,children:this.renderContent()})},renderContent:function(){var e={className:"tag-pill--content",children:this.props.children};return this.props.onClick?i.createElement("button",(0,s.default)({type:"button"},e)):i.createElement("span",e)}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(218),o=r(i),l=n(3280),u=r(l),c=n(1404),d=r(c),p=n(3),f=n(41),m=r(f),h=n(13),g=r(h),v=n(19),_=r(v),y=n(116),b=r(y),E=n(840),C=n(12);e.exports=function(e){var t=e.contextType,n=e.contextRoute,r=e.notifier,a=e.contextual!==!1,i=r?r.confirmImport.bind(r):Function.prototype;return(0,m.default)(!!t,'You must provide a contextType for the ConfirmImport handler, like "program", "course", or "lion" maybe.'),(0,m.default)(!!n,'You must provide a contextRoute for the ConfirmImport handler, like "author.course.learners" --- this route name will be used for all transitions that could be triggered from the handler.'),s.default.createClass({displayName:"ConfirmImportHandler",propTypes:{query:(0,p.shape)({uploadType:(0,p.oneOf)(["import","deport","confirm"]),importId:p.string}),params:(0,p.shape)({contextId:p.string,learnableType:p.string}),importObject:o.default},getInitialState:function(){return{importObject:null}},componentDidMount:function(){this.isMounted=function(){return!0},this.fetchImportObject()},componentWillUnmount:function(){this.poller&&(clearTimeout(this.poller),this.poller=null),this.isMounted=function(){return!1}},fetchImportObject:function(){var t=this,n=(0,E.asyncParam)(e,this.props)({param:"contextual",defaultValue:a});n&&(0,m.default)(!!this.props.params.contextId,'Expected a "contextId" router parameter to be defined. Importing confirmation functionality totally depends on this, man.');var r=function(){var r=(0,E.asyncParam)(e,t.props)({param:"contextRoute",defaultValue:"author.courses"}),a=(0,E.asyncParam)(e,t.props)({param:"contextType",defaultValue:!1});n&&C.ENROLLABLE_IMPORT_CONTEXTS.indexOf(a)>=0?g.default.replaceWith(r,t.props.params.learnableType,t.props.params.contextId):n?g.default.replaceWith(r,t.props.params.contextId):g.default.replaceWith(r)};return this.props.query.importId?(0,d.default)(this.props.query.importId).then(function(e){t.isMounted()&&(t.setState({importObject:e}),"incomplete"===e.state&&(t.poller=setTimeout(t.fetchImportObject,1e3)))},r):((0,_.default)(I18n.t("Sorry! It looks like something went wrong while processing your import."),{type:"error"}),r())},render:function(){var t=(0,E.asyncParam)(e,this.props);return this.state.importObject?s.default.createElement("div",null,s.default.createElement(b.default,null),s.default.createElement(u.default,{importObject:this.state.importObject,uploadType:this.props.query.uploadType,contextId:this.props.params.contextId,contextType:t({param:"contextType",defaultValue:!1}),contextRoute:t({param:"contextRoute",defaultValue:"author.courses"}),contextual:t({param:"contextual",defaultValue:a}),onConfirm:i})):null}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(1447),u=r(l),c=n(107),d=r(c),p=n(3281),f=r(p),m=n(230),h=r(m),g=n(13),v=r(g),_=n(1358),y=r(_),b=n(22),E=r(b),C=n(1405),I=r(C),T=n(572),N=r(T),S=n(638),x=r(S),A=n(41),k=r(A),w=n(626),R=r(w),O=n(116),P=r(O),L=n(19),M=r(L),D=n(30),U=r(D),F=n(3),q=n(840),B=n(12);t.default=function(e){(0,k.default)(!!e.contextType,'You must provide a contextType for the Import handler, like "program", "course", or "lion" maybe.'),(0,k.default)(!!e.confirmRoute,"You must provide a confirmRoute for the Import handler."),(0,k.default)(!!e.uploadRoute||!!e.cancelRoute,"You must provide either an uploadRoute or a cancelRoute for the Import handler. This route will be transitioned to after a successful import initiation.");var t=function(t){return"domain"===(0,q.asyncParam)(e,t||(void 0).props)({param:"contextType",default:"domain"})},r=o.default.createClass({displayName:"ImportHandler",mixins:[R.default],propTypes:{params:(0,F.shape)({contextId:F.string,learnableType:F.string}),query:(0,F.shape)({uploadType:F.string}),csvPreview:(0,F.instanceOf)(N.default),importProfile:n(628),context:F.any,customFields:F.any,csvUpload:n(1414)},getInitialState:function(){return{uploadComplete:!1}},componentWillMount:function(){var n=this,r=this.props,a=r.csvPreview,s=r.csvUpload;e.autoCsv||u.default.deleteUpload({id:this.props.params.contextId,type:(0,q.asyncParam)(e,this.props)({param:"contextType",default:"domain"}),autoCsv:!1}),a.error||(a.addCustomFields([].concat(this.props.customFields||[])),d.default.allowImportPasswords()&&!e.fields&&a.addPasswordField(),t(this.props)&&e.autoCsv&&a.useImportProfile(this.props.importProfile),t(this.props)&&"deport"!==this.props.query.uploadType&&a.analyzeHeaders(),s.upload.then(function(){return n.setState({uploadComplete:!0})}))},componentDidMount:function(){this.props.csvPreview.error&&((0,M.default)(I18n.t("Could not retrieve the CSV preview. The error message was: %{msg}",{msg:this.props.csvPreview.error}),{type:"error"}),U.default.transitionTo(e.cancelRoute||"admin.insights"))},render:function(){var t=(0,q.asyncParam)(e,this.props);return this.props.csvPreview.error?null:o.default.createElement("div",null,o.default.createElement(P.default,null),o.default.createElement("div",{className:"csv-upload-container__import"},o.default.createElement(f.default,(0,s.default)({confirmRoute:t({param:"confirmRoute",default:""}),uploadRoute:t({param:"uploadRoute",default:"author.enrollments"}),contextType:t({param:"contextType",default:"domain"}),uploadComplete:this.state.uploadComplete,onCancel:this.cancel,onUpload:this.upload,generateTitle:e.generateTitle,generateContextTitle:e.generateContextTitle,tabs:e.tabs&&e.tabs(this.props.params)},this.props)),this.renderUpgradeModal()))},upload:function(){var t=(0,q.asyncParam)(e,this.props);y.default.uploadCSVMapping({csvPreview:this.props.csvPreview,csvUpload:this.props.csvUpload,contextType:t({param:"contextType",default:"domain"}),contextId:this.props.params.contextId,confirmRoute:t({param:"confirmRoute",default:""}),cancelRoute:t({param:"cancelRoute",default:"author.courses"}),uploadType:this.props.query.uploadType,customUpload:e.uploadCSVMapping,openUpgradeModal:this.openUpgradeModal})},cancel:function(){var t=(0,q.asyncParam)(e,this.props)({param:"cancelRoute",default:"author.courses"},this.props);y.default.goBack(t,this.props.params.contextId)}});return(0,E.default)({type:r,blocking:!0,asyncProps:{csvUpload:{fetch:function(t){var n=(0,q.asyncParam)(e,t),r=u.default.getUpload({id:t.params.contextId,type:n({param:"contextType",default:"domain"}),autoCsv:e.autoCsv});if(r)return h.default.resolve(r);var a=t.params,s=a.contextId,i=a.learnableType,o=t.query.uploadType,l={queryParams:{uploadType:o}},c=n({param:"uploadRoute",default:"author.users.upload"})||n({param:"cancelRoute",default:"author.courses"}),d=[l];return s&&d.unshift(s),B.ENROLLABLE_IMPORT_CONTEXTS.indexOf(i)>=0&&d.unshift(i),v.default.transitionTo.apply(v.default,[c].concat(d)),h.default.reject("Missing CSV Upload object...")},onFailure:function(e){throw e}},csvPreview:{fetch:function(t){var n=u.default.getUpload({id:t.params.contextId,type:(0,q.asyncParam)(e,t)({param:"contextType",default:"domain"}),autoCsv:e.autoCsv}),r=function(t){return"function"==typeof e.fields&&t.setFields(e.fields()),t};if(n){var a=n.file,s=n.url,i=t.query.uploadType;return a?N.default.createFromFile(a,i).then(r):s?N.default.createFromUrl(s,i).then(r):h.default.reject()}return h.default.reject()},onFailure:function(e){throw e}},customFields:{fetch:function(){return x.default.fetchAllRecursive({limit:500,includes:["deletable"]}).then(function(){return x.default.getAll()})}},importProfile:{fetch:function(n){return t(n)&&e.autoCsv?(0,I.default)():h.default.resolve()}},context:{fetch:function(t){return e.fetchContext?e.fetchContext(t):h.default.resolve()}}}})},e.exports=t.default},function(e,t,n){"use strict";var r=n(4),a=r.isEqual;e.exports=function(e){return{componentDidMount:function(){e(this.props)},componentWillReceiveProps:function(t){a(this.props.query,t.query)||this.freezeWhile(function(){return e(t)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,createdAt:r.string,name:r.string,host:(0,r.shape)({subdomain:r.string,vanityDomain:r.string,vanityDomainState:r.string}),config:(0,r.shape)({iframeHost:r.string,supportEmail:r.string,supportName:r.string,supportPhone:r.string,customerProvidedSupportHelpArticlesUrl:r.string,customerProvidedSupportChatUrl:r.string,showCustomSupportInfo:r.bool,limitedManagers:r.bool,locale:r.string,lyndaLibraryEnabled:r.bool,lyndaOrgId:r.string,timeZone:r.string,passwordMinimumLength:(0,r.oneOfType)([r.number,r.string]),passwordRequiresNumbers:r.bool,passwordRequiresSymbols:r.bool,passwordRequiresUppercase:r.bool,notifications:r.bool,chatNotifications:r.bool,fromLabel:r.string,replyTo:r.string,auth:n(145)})}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,name:r.string,deletable:r.bool}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.object;e.exports=s({id:a,resource:a,webhook:a,account:a,status:a,attempt:i,createdAt:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PayloadType=void 0;var a=n(9),s=r(a),i=n(10),o=n(1424),l=(0,i.oneOfType)([i.number,i.string]),u={completed_at:i.string,end_at:i.string,estimated_time:i.number,id:l,passing_threshold:i.number,progress:(0,i.shape)({current:i.number,furthest:i.number}),score:i.number,state:i.string,title:i.string};t.PayloadType=(0,i.shape)({courses:(0,i.arrayOf)((0,i.shape)(u)),slides:(0,i.arrayOf)((0,i.shape)(o.Type)),meta:(0,i.shape)({next:l,previous:l})});t.default=(0,i.shape)({course:(0,i.shape)(u),slide:(0,i.shape)((0,s.default)({},o.Type,{next:l,previous:l,course_id:l}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=(0,r.shape)({id:r.string,a11y:r.bool,avatarUrl:r.string,bridgeRetainOnboardingPending:r.bool,integrations:(0,r.shape)({office365:r.bool}),locale:r.string,theme:r.string,tagline:r.string,timezones:(0,r.arrayOf)(r.string)});t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){return n&&(0,a.assign)({id:n.id,label:n[e]},(0,a.pick)(n,t))}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.default={group:r("name",["type"]),course:r("title",["isArchived"]),live_course:r("title"),program:r("title"),tag:r("name"),team:r("name",["type"]),learner:r("name")},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e?{learnerId:e}:{}}function a(){var e=window.location.search.match(/front_end_learning_items=(\d)/)||[],t="/api/learner/courses";return 2===e.length&&e[1]&&(t="/api/learner/learning_items"),t}var s=n(21),i=n(95),o=n(3216),l=n(3183),u=n(3205),c=n(3208),d=n(7),p=n(4),f=p.assign,m=n(200),h=n(44),g=n(25),v=2500,_=h(function(e,t){var n=t?"/api/author/learners/"+t+"/learner_courses":a();return d({url:e||n})}),y=s({displayName:"LearnerCourseStore",schema:n(194),POLLING_FREQUENCY:v,getInitialState:function(){return{polling:!1}},initialize:function(){this.relatedCoursesCache=i(null,{displayName:"LearnerCourseStore__related",schema:n(194)})},clear:function(){this.relatedCoursesCache.clear()},fetch:function(e,t){var n=this;return u.performWithoutParsing(e,{next_courses:!0}).then(function(r){if(n.cache.add(u.parse(r)),r.linked.next_courses){var a=t?{courseId:e,learnerId:t}:{courseId:e},s=c.parse({courses:r.linked.next_courses});n.relatedCoursesCache.setCollection(a,s.map(function(e){return f({},e,{id:"Program:"+e.id+"-"+e.indexOfProgram+":"+m(e.title)})}))}})},fetchLaunchUrl:function(e){return d({url:"/api/learner/courses/"+e+"/launch_url"}).then(function(e){return e.url})},fetchAll:function(e){var t=this,n=r(e);return this.cache.setCollection(n,[]),_.findFirstPage(e).then(function(e){t.cache.setCollection(n,c.parse({courses:e.courses}))})},fetchNext:function(e){var t=this;return _.hasMorePages()?_.findNextPage(e).then(function(n){t.cache.addToCollection(r(e),c.parse({courses:n.courses}))}):void 0},fetchByUuid:function(e){var t=this;return o(e).then(function(n){t.cache.setCollection(e,[n])})},get:function(e){return this.cache.get(e)},getAll:function(e){return this.cache.getCollection(r(e))},getRelated:function(e){return this.relatedCoursesCache.getCollection({courseId:e})},getByUuid:function(e){return this.cache.getCollection(e)[0]},delete:function(e){var t=this;return d({url:"/api/learner/courses/"+e,type:"DELETE"}).then(function(){t.cache.remove(e)})},enroll:function(e){var t=this;return d({url:"/api/learner/open_courses/"+e+"/enrollment",type:"POST"}).then(function(){return t.setState({polling:!0}),t.pollForNewlyEnrolledLearner(e)}).then(function(){t.setState({polling:!1})})},complete:function(e){return d({method:"POST",url:"/api/learner/courses/"+e+"/complete"}).then(function(){return null})},pollForNewlyEnrolledLearner:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return new g(function(n,r){function a(){l(e).then(function(e){e[0]&&e[0].enrolled?n(e[0]):setTimeout(a,t)},r)}a()})}});e.exports=y},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1042);Object.defineProperty(t,"ContentEditor",{enumerable:!0,get:function(){return r(a).default}});var s=n(519);Object.defineProperty(t,"RichContent",{enumerable:!0,get:function(){return r(s).default}})},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,E.default)(t,(0,I.default)(e),!0)}function s(e){var t=e.key,n=e.secret,r=e.encoded;window.prompt("\n    Please copy and paste these credentials somewhere.\n    The secret will not be visible again.\n\n    Key: "+t+"\n    Secret: "+n+"\n    Authorization:","Basic "+r+"\n  ")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(874),o=r(i),l=n(577),u=r(l),c=n(1281),d=r(c),p=n(1282),f=r(p),m=n(13),h=r(m),g=n(19),v=r(g),_=n(10),y=r(_),b=n(249),E=r(b),C=n(653),I=r(C),T=n(854),N=r(T),S=n(25),x=r(S),A=y.default.shape({name:y.default.string,subdomain:y.default.string,limitedAuthoring:y.default.bool,bridgeRetain:y.default.bool,locale:y.default.string,timeZone:y.default.string,contactName:y.default.string,contactPhone:y.default.string,contactEmail:y.default.string,lyndaOrgId:y.default.string,notifications:y.default.bool,fromLabel:y.default.string,replyTo:y.default.string,importPasswords:y.default.bool,tacType:y.default.string,tacCustomBody:y.default.string,autoCsv:y.default.bool,supportLevel:y.default.string,subAccountSupportLevel:y.default.string,showCustomSupportInfo:y.default.bool,supportName:y.default.string,supportPhone:y.default.string,supportEmail:y.default.string,customerProvidedSupportHelpArticlesUrl:y.default.string,customerProvidedSupportChatUrl:y.default.string,useCustomSupport:y.default.bool,customSupportChatUrl:y.default.string,customSupportTicketUrl:y.default.string,customSupportPhoneNumber:y.default.string,customSupportHelpArticlesUrl:y.default.string,passwordResetAllowed:y.default.bool,importProfile:y.default.shape({csvUrl:y.default.string,csvUser:y.default.string,csvPassword:y.default.string,csvDays:y.default.arrayOf(y.default.bool),csvTime:y.default.string,tryKeyBasedAuth:y.default.bool}),products:y.default.arrayOf(N.default),auth:y.default.shape({provider:y.default.string,model:y.default.string,url:y.default.string,logoutPath:y.default.string,idpEntityId:y.default.string,idpCert:y.default.string,idpCertFingerprint:y.default.string,idpSsoTargetUrl:y.default.string,idpSloTargetUrl:y.default.string,logoutRedirectUrl:y.default.string,nameIdentifierFormat:y.default.string,authnContext:y.default.string,skipConditions:y.default.string,skipSubjectConfirmation:y.default.string,allowedClockDrift:y.default.string,customizeSamlEntityId:y.default.bool,title:y.default.string,host:y.default.string,port:y.default.string,base:y.default.string,method:y.default.string,uid:y.default.string}),createUserFromAuthHash:y.default.bool}),k={createSubAccount:function(e){return u.default.create(e).then(function(e){(0,v.default)(I18n.t("Account Created!")),h.default.transitionTo("admin.sub-account",e.id)},function(e){v.default.responseError(e)})},updateSubAccount:function(e,t){var n=a(A,t);return 0===Object.keys(n).length?x.default.resolve():u.default.update(e,n).then(function(){(0,v.default)(I18n.t("Account Updated!")),h.default.transitionTo("admin.sub-accounts")},function(e){v.default.responseError(e)})},disableSubAccount:function(e){return u.default.disable(e).then(function(){(0,v.default)(I18n.t("Account Updated!")),h.default.transitionTo("admin.sub-accounts")},function(e){v.default.responseError(e)})},createSubAccountAdmin:function(e,t){return d.default.create(e,t).then(function(){(0,v.default)(I18n.t("Admin Added Successfully!"))},function(e){v.default.responseError(e)})},destroySubAccountAdmin:function(e,t){d.default.delete(e,t)},createSubAccountToken:function(e){f.default.create(e).then(s).then(function(){f.default.fetchAll(e)})},revokeSubAccountToken:function(e,t){f.default.destroy(e,t)},updateDNS:function(e){return o.default.update(e).catch(function(){(0,v.default)(I18n.t("There was an error requesting the DNS update!"),{type:"error"})})},regenerateAutoCsvKeyBasedAuth:function(e){return u.default.regenerateCsvKeys(e).catch(function(){(0,v.default)(I18n.t("There was an error regenerating the key!"),{type:"error"})})}};t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(470),s=r(a),i=n(874),o=r(i),l=n(13),u=r(l),c=n(68),d=r(c),p=n(2882),f=r(p),m=n(19),h=r(m),g=d.default.of(n(72),{skinny:!0});e.exports={createAccount:function(e){var t=g(e);return s.default.create(t).then(function(){(0,h.default)(I18n.t("Account Created!")),u.default.transitionTo("support.accounts")},function(e){var t=e.responseText;0===t.length&&(t=I18n.t("Account Creation Failed")),(0,h.default)(t,{type:"error"})})},updateAccount:function(e){var t=g(e);return s.default.update(e.id,t).then(function(){(0,h.default)(I18n.t("Account %{name} Updated!",{name:e.name})),u.default.transitionTo("support.accounts")},function(e){(0,h.default)(e.responseText,{type:"error"})})},createAdmin:function(e,t){return s.default.createAdmin(e,t).then(function(){(0,h.default)(I18n.t("Added admin user %{uid}!",{uid:e}))},function(t){409===t.status?(0,h.default)(I18n.t("Admin user %{uid} already exists.",{uid:e}),{type:"error"}):(0,h.default)(I18n.t("There was an error creating the admin user!"),{type:"error"})})},addAccountToken:function(e){s.default.addAccountToken(e).then(function(e){var t=e.token,n=e.secret,r=e.encoded;window.prompt("Please copy and paste these credentials somewhere.\nThe secret will not be visible again.\nKey: "+t.key+"\nSecret: "+n+"\nAuthorization:","Basic "+r)})},revokeAccountToken:function(e,t){s.default.revokeAccountToken(e,t)},updateDNS:function(e){return o.default.update(e).catch(function(){(0,h.default)(I18n.t("There was an error requesting the DNS update!"),{type:"error"})})},triggerSftpScormImport:function(e){(0,f.default)(e).then(function(){(0,h.default)(I18n.t("Successfully triggered an import. It may take some time depending on the size of the batch. If configured, check the failure notification email to see the result of the import."))},function(){(0,h.default)(I18n.t("There was an issue triggering an import."),{type:"error"})})},regenerateAutoCsvKeyBasedAuth:function(e){return s.default.regenerateCsvKeys(e).catch(function(){(0,h.default)(I18n.t("There was an error regenerating the key!"),{type:"error"})})},regenerateScormKeyBasedAuth:function(e){return s.default.regenerateScormKeys(e).catch(function(){(0,h.default)(I18n.t("There was an error regenerating the key!"),{type:"error"})})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=r(i),l=s.default.createClass({displayName:"RetainOnboardingPageTitle",propTypes:{children:o.default.node},render:function(){var e="bridge-retain-overlay__title bridge-retain-overlay__title--first";return s.default.createElement("div",{id:"onboardingTitle",className:e,tabIndex:"-1"},this.props.children)}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(904),i=n(18),o=n(6),l=n(2),u=l.string,c=n(4),d=c.uniqueId,p=r.createClass({displayName:"CopyTextBox",propTypes:{value:u},getDefaultProps:function(){return{value:""}},getInitialState:function(){return{buttonId:d("copy-text-box__button-"),inputId:d("copy-text-box__input-"),pressed:!1}},componentDidMount:function(){this.clipboard=s("#"+this.state.buttonId),this.refs.input.select()},componentWillUnmount:function(){this.clipboard&&(this.clipboard.destroy(),this.clipboard=null)},setPressed:function(e){e.preventDefault(),this.setState({pressed:!0})},render:function(){var e=o("copy-text-box__button",{"copy-text-box__button--pressed":this.state.pressed});return r.createElement("div",{className:"copy-text-box","data-capybara":"copy_text_box"},r.createElement("input",{id:this.state.inputId,ref:"input",className:"copy-text-box__input",readOnly:!0,value:this.props.value}),r.createElement(i,{id:this.state.buttonId,ref:"button",className:e,"data-clipboard-target":"#"+this.state.inputId,onClick:this.setPressed},this.state.pressed?a.t("Copied"):a.t("Copy")))}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(6),i=n(367),o=n(2),l=o.bool,u=o.oneOf,c=o.string,d=r.createClass({displayName:"CourseStatus",propTypes:{isCompleted:l,isFailed:l,isOverdue:l,isArchived:l,isLocked:l,isSurvey:l,isLiveTraining:l,hasCertificate:l,certificateColorYellow:l,className:c,modifier:u(["","blue","grey","white"])},getDefaultProps:function(){return{isCompleted:!1,isFailed:!1,isOverdue:!1,isArchived:!1,isSurvey:!1,isLiveTraining:!1,hasCertificate:!1,certificateColorYellow:!1,modifier:""}},render:function(){return r.createElement("div",{className:this.statusClassName(),"data-capybara":"completion_status"},r.createElement("i",{"aria-hidden":"true",className:this.iconClassName()}),r.createElement("span",{className:"screenreader-only"},this.statusText()),r.createElement(i,{hasCertificate:this.props.hasCertificate,certificateColorYellow:this.props.certificateColorYellow,isLocked:this.props.isLocked}))},statusClassName:function(){var e=this.props.modifier,t={"course-status":!0,"brand-color":this.isBranded(e)};return t[this.props.className]=!0,e&&(t["course-status--"+e]=!0,t[this.props.className+"--"+e]=!0),s(t)},iconClassName:function(){var e=this.props.modifier,t={"course-status__icon":!0,"brand-color":this.useBrandColor()};return t[this.iconClass()]=!0,e&&(t["course-status__icon--"+e]=!0),s(t)},iconClass:function(){return this.props.isSurvey||this.props.isLiveTraining?"gs-arrow-right padding-l-xxs":this.props.isCompleted?"gs-check":this.props.isFailed?"gs-redo":"gs-book"},statusText:function(){return this.props.isFailed?a.t("Failed"):this.props.isLocked?a.t("Locked"):this.props.isOverdue?a.t("Overdue"):this.props.isCompleted?a.t("Completed"):void 0},useBrandColor:function(){var e=this.props,t=e.modifier,n=e.isOverdue,r=e.isLocked,a=e.isCompleted,s=e.isArchived;return this.isBranded(t)&&!n&&!r&&!a&&!s},isBranded:function(e){return"grey"!==e&&"white"!==e}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=r(i),l=n(6),u=r(l),c=n(5),d=n(12),p=n(2),f=s.default.createClass({displayName:"EditableTextarea",propTypes:{labelledBy:p.string,modifierClasses:(0,p.arrayOf)(p.string),autoFocus:p.bool,disabled:p.bool,value:p.string,placeholder:p.string,onChange:p.func.isRequired,label:p.string,icon:p.string,className:p.string,controlled:p.bool},getDefaultProps:function(){return{modifierClasses:[],labelledBy:void 0,autoFocus:!1,disabled:!1,value:"",placeholder:"",controlled:!1}},componentDidUpdate:function(e){this.props.controlled&&e.value!==this.props.value&&this.syncEditingWidgetWithValue()},handleControlKeys:function(e){e.keyCode===d.KC_RETURN?(this.saveAndStopEditing(!0),e.preventDefault()):e.keyCode===d.KC_ESCAPE&&this.syncEditingWidgetWithValue()},saveAndStopEditing:function(e){var t=o.default.findDOMNode(this.refs.editingWidget),n=t.value;(n!==this.props.value||e)&&this.props.onChange(n,e,n!==this.props.value),this.props.controlled&&this.syncEditingWidgetWithValue()},render:function(){var e=this.props.modifierClasses.map(function(e){return"editable-textarea--"+e}).join("\n"),t="editable-textarea "+e+" "+(this.props.className||"");return s.default.createElement("label",{className:t},this.props.label&&s.default.createElement("span",{className:"editable-textarea__label-text",children:this.props.label}),this.renderEditingWidget(),this.props.icon&&this.renderIcon())},renderEditingWidget:function(){return s.default.createElement("span",{className:"editable-textarea__wrapper"},s.default.createElement("textarea",{ref:"editingWidget",onKeyDown:this.handleControlKeys,onBlur:this.saveAndStopEditing.bind(null,!1),className:" editable-textarea__input editable-textarea__content no-touchpunch ",disabled:this.props.disabled,defaultValue:this.props.value,placeholder:this.props.placeholder,"aria-labelledby":this.props.labelledBy,autoFocus:this.props.autoFocus}),s.default.createElement("span",{className:" editable-textarea__placeholder editable-textarea__content ",style:{visibility:"hidden"},children:this.getDisplayValue()}))},renderIcon:function(){var e={"editable-textarea__icon":!0,"gs-1x":!0};return e[this.props.icon]=!0,s.default.createElement(c.Icon,{className:(0,u.default)(e)})},getDisplayValue:function(){return String(this.props.value||"").length>0?this.props.value:this.props.placeholder},syncEditingWidgetWithValue:function(){var e=o.default.findDOMNode(this.refs.editingWidget);e.value=this.props.value}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(102),g=r(h),v=n(54),_=r(v),y=n(612),b=r(y),E=n(62),C=r(E),I=n(6),T=r(I),N=n(20),S=r(N),x=n(39),A=r(x),k=n(12),w=n(236),R=r(w),O=n(27),P=r(O),L=n(190),M=r(L),D=n(321),U=r(D),F=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.isInHighContrastMode=function(){return A.default.getTheme()===k.THEME_HIGH_CONTRAST&&(0,U.default)(M.default.getCurrentRoute())},r.shouldUseHeaderLogo=function(){return(0,S.default)("learn_learning_header_branding")?r.isInHighContrastMode()?C.default.getHeaderBrandLogoSetting()&&C.default.hasReverseLogo():!!C.default.getHeaderBrandLogoSetting():!!C.default.getLogoUrl(!0)},r.getLogoUrl=function(){return r.isInHighContrastMode()?C.default.getReverseLogoUrl():C.default.getHeaderLogoUrl()},r.renderLogoBlockDeprecated=function(){var e=C.default.getLogoUrl(!0),t=(0,T.default)("brand-logo","brand-logo--placeholder",C.default.getLogoClass(!0));return f.default.createElement(_.default,{name:"layout--item-header__content-top"},!!e&&r.props.customBranding&&f.default.createElement("span",{className:t},f.default.createElement("img",{src:e,alt:C.default.getName(),onLoad:C.default.handleLogoLoaded.bind(C.default,!0),"data-capybara":"logo"})))},r.renderLogoBlock=function(){if(!(0,S.default)("learn_learning_header_branding"))return r.renderLogoBlockDeprecated();var e="reverse"===C.default.getHeaderBrandLogoSetting(),t=C.default.isColorEnabled(),n=(0,T.default)("logo-only-header",{"brand-bg":e&&t},{"indigo-bg":e&&!t});return f.default.createElement(_.default,{name:"layout--item-header__content-top"},r.shouldUseHeaderLogo()&&f.default.createElement("div",{className:n},f.default.createElement("span",{className:(0,T.default)("learning-header__brand-logo",C.default.getLogoClass(!e))},f.default.createElement("img",{src:r.getLogoUrl(),alt:C.default.getName(),onLoad:C.default.handleLogoLoaded.bind(C.default,!0)}))))},r.renderBackgroundPhoto=function(){var e=C.default.getHeaderPhotoConfig(),t=e.headerPhotoUrl,n=e.headerPhotoOpacity,a=e.headerPhotoStyle,s="accent"===C.default.getHeaderTitleContrast(),i=C.default.isColorEnabled(),o=(0,T.default)("library-header__background-photo",{"brand-bg":s&&i},{"indigo-bg":s&&!i}),l=r.isInHighContrastMode()?.2:n;return f.default.createElement("div",{className:o},f.default.createElement(R.default,{backgroundImageUrl:t,opacity:l,backgroundOption:a}))},r.reloadOnBrandingChange=function(){r.forceUpdate()},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){C.default.addChangeListener(this.reloadOnBrandingChange)}},{key:"componentWillUnmount",value:function(){C.default.removeChangeListener(this.reloadOnBrandingChange)}},{key:"render",value:function(){var e=(0,S.default)("learn_learning_header_branding"),t=C.default.getHeaderPhotoConfig(),n=t.headerPhotoUrl,r=I18n.t("My Learning");if(e){var a=C.default.getHeaderCustomText();r=null===a?I18n.t("Learning"):a}var s=this.props.header?this.props.header:f.default.createElement("h1",{className:"layout--list__header-text"},r),i=(0,T.default)("white-bg",{"no-icons":!e},{"no-icons":e&&!this.props.headerHasIcon},{"title-only":e&&!this.props.headerHasIcon&&!this.shouldUseHeaderLogo()}),o=(0,T.default)("layout--item-header__title",{"with-background":!!n&&!this.shouldUseHeaderLogo()},{"contrast-accent":"accent"===C.default.getHeaderTitleContrast()});return f.default.createElement("div",null,f.default.createElement(g.default,{type:"library",modifiers:i,hasIcon:this.props.headerHasIcon},this.renderLogoBlock(),f.default.createElement(_.default,{name:"layout--item-header__details"},f.default.createElement("div",{className:(0,S.default)("learn_learning_header_branding")&&o},e?!this.shouldUseHeaderLogo()&&s:s,""===r&&e&&f.default.createElement(P.default,{children:I18n.t("Learning")})),this.props.navigation&&f.default.createElement(b.default,this.props))),(0,S.default)("learn_learning_header_branding")&&n&&this.renderBackgroundPhoto())}}]),t}(f.default.Component);F.propTypes={header:m.node,headerHasIcon:m.bool,customBranding:m.bool,navigation:m.bool},F.defaultProps={headerHasIcon:!1,customBranding:!0,navigation:!0},t.default=F,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(5),g=n(28),v=r(g),_=function(e){
function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.attachmentCount,n=e.showZero,r=e.className,a=e.sizeClass,s=t>0||!t&&n;return f.default.createElement("div",{className:(0,v.default)("paperclip-icon",r)},f.default.createElement(h.Icon,{className:(0,v.default)("gs-paperclip",a)}),s&&f.default.createElement("span",{"aria-hidden":"true","data-capybara":"attachment_icon_count"},t))}}]),t}(f.default.Component);_.propTypes={attachmentCount:m.number,showZero:m.bool,className:m.string,sizeClass:m.string},_.defaultProps={attachmentCount:0,showZero:!1,className:"",sizeClass:"gs-2x"},t.default=_,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=n(28),o=r.createClass({displayName:"Pill",propTypes:{name:s,className:s},render:function(){var e=i(this.props.className,{pill:!0,"margin-l-xs":!0,"padding-tb-xxs":!0,"padding-rl-xs":!0});return r.createElement("div",{className:e},this.props.name)}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(82),s=r(a),i=n(1),o=n(6),l=n(2),u=l.bool,c=l.func,d=l.string,p=i.createClass({displayName:"PreviewButton",propTypes:{active:u,onClick:c.isRequired,iconClass:d,dark:u,buttonClassName:d,className:d},getDefaultProps:function(){return{active:!1,dark:!0}},render:function(){var e=o({btn:!0,"btn--round":!0,"btn--round-with-icon-medium":!0,dark:this.props.dark,secondary:!0,"btn--active":this.props.active},this.props.buttonClassName);return i.createElement(s.default,{className:this.props.className,buttonClassName:e,iconClassName:this.props.iconClass,icon:this.props.active?"preview-off":"preview",label:I18n.t("Toggle Preview"),onClick:this.props.onClick})}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=a.string,o=a.bool,l=a.func,u=n(5),c=u.Icon,d=n(18),p=n(271),f=n(644),m=n(27),h=n(90),g=n(390),v=r.createClass({displayName:"TagListing",propTypes:{tags:s(i).isRequired,highlightedTags:s(i),canAdd:o,canCreate:o,canRemove:o,onCreate:l,onInput:l,onRemove:l,onClick:l,disabled:o},getDefaultProps:function(){return{onInput:Function.prototype,onClick:null,onRemove:Function.prototype,highlightedTags:[]}},getInitialState:function(){return{adding:!1,blank:!0}},componentWillMount:function(){f.addChangeListener(this.refresh)},componentWillUnmount:function(){f.removeChangeListener(this.refresh)},render:function(){return r.createElement("div",{className:"tag-listing","data-capybara":"tag-listing"},r.createElement("ul",{className:"tag-listing__list"},this.props.tags.map(this.renderTag)),(this.props.canAdd||this.props.canCreate)&&this.renderCreationButton())},renderTag:function(e){var t=this;return r.createElement(p,{key:e,tagName:"li",className:"tag-listing__entry",highlight:this.props.highlightedTags.indexOf(e)>-1,onClick:this.props.onClick&&function(){return t.props.onClick(e)}},e,this.props.canRemove&&r.createElement(d,{disabled:this.props.disabled,className:"btn--a11y tag-listing__remove-entry-button",onClick:this.emitRemoval(e)},r.createElement(m,null,I18n.t("Remove Tag")),r.createElement(c,{className:"gs-x tag-listing__icon"})))},renderCreationButton:function(){if(this.state.adding)return this.renderAddTagWidget();var e=this.props.canCreate?I18n.t("New Tag"):I18n.t("Find Tag");return r.createElement(d,{className:"btn--a11y tag-listing__entry tag-pill tag-listing__new-entry-button",onClick:this.enterNewTagMode,disabled:this.props.disabled},r.createElement(c,{className:"gs-plus-sign tag-listing__icon"})," ",e)},renderAddTagWidget:function(){var e=f.getAll();return r.createElement(h,{autoFocus:!0,ref:"autoComplete",autocomplete:"list",onBlur:this.leaveCreationMode,onCancel:this.leaveCreationMode,onEnter:this.handleSelect,onSelect:this.handleSelect,onInput:this.handleInput},e.length?e.map(function(e){return r.createElement(h.Option,{key:e,value:e},e)}):this.renderNoTags())},renderNoTags:function(){return this.state.blank||this.props.canCreate?null:r.createElement("div",{className:"autocomplete__no-match"},I18n.t("No Tags matched your search"))},emitRemoval:function(e){var t=this;return function(){t.props.onRemove(e)}},enterNewTagMode:function(e){this.setState({adding:!0,blank:g(e.target.value)})},handleSelect:function(e){this.props.onCreate(e),this.leaveCreationMode()},leaveCreationMode:function(e){this.resetCreationWidget(),f.reset(),this.setState({adding:!1,blank:g(e)})},handleInput:function(e){this.props.onInput(e),this.setState({blank:g(e)})},resetCreationWidget:function(){this.refs.autoComplete.reset()},refresh:function(){this.forceUpdate()}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(94),o=r(i),l=n(2),u=n(5),c=n(6),d=r(c),p=n(536),f=r(p),m=s.default.createClass({displayName:"TooltipConfirmation",propTypes:{children:l.node.isRequired,className:l.string,reference:l.string,iconClassName:l.string,title:l.string.isRequired,messages:(0,l.arrayOf)((0,l.shape)({message:l.string,isPink:l.bool})),confirmationText:l.string,onCancelClick:l.func,onConfirmClick:l.func,onHide:l.func},getDefaultProps:function(){return{reference:"prompt",messages:[],confirmationText:I18n.t("Confirm")}},render:function(){var e=this.props,t=e.className,n=e.reference,r=e.iconClassName,a=e.onHide;return s.default.createElement(o.default,{activateOnClick:!0,isEnabled:!0,ref:n,className:t,onHide:a},s.default.createElement(o.default.Trigger,null,this.props.children),s.default.createElement(o.default.Content,null,s.default.createElement("div",{className:"tooltip-confirmation__warning-prompt"},!!r&&this.renderIcon(),this.renderTitle(),this.renderMessages(),this.renderButtons())))},renderIcon:function(){return s.default.createElement(u.Icon,{className:this.props.iconClassName,"aria-hidden":"true"})},renderTitle:function(){var e=this.props,t=e.title,n=e.iconClassName,r=(0,d.default)("bold",{"tooltip-confirmation__warning-prompt--with-icon":!!n,"tooltip-confirmation__warning-prompt--p":!n});return s.default.createElement("p",{className:r},t)},renderMessages:function(){return s.default.createElement("div",null,this.props.messages.map(this.renderMessage))},renderMessage:function(e){var t=(0,d.default)({"tooltip-confirmation__warning-prompt--p__body":!e.isPink,"tooltip-confirmation__warning-prompt--p__body--pink":e.isPink});return s.default.createElement("p",{key:(0,f.default)(e.message),className:t},e.message)},renderButtons:function(){return s.default.createElement("div",null,s.default.createElement("button",{className:"tooltip-confirmation__warning-prompt--cancel",onClick:this.handleCancelClick},I18n.t("Cancel")),s.default.createElement("button",{className:"tooltip-confirmation__warning-prompt--confirm",onClick:this.handleConfirmClick},this.props.confirmationText))},closeConfirmationPrompt:function(){this.refs[this.props.reference].setActive(!1)},handleCancelClick:function(){this.props.onCancelClick&&this.props.onCancelClick(),this.closeConfirmationPrompt()},handleConfirmClick:function(){this.props.onConfirmClick&&this.props.onConfirmClick(),this.closeConfirmationPrompt()}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r=n(12),a=n(1),s=n(2),i=s.arrayOf,o=s.string,l=s.shape,u=s.oneOf,c=s.bool,d=n(586),p=n(26),f=n(67),m=n(5),h=m.Icon,g=n(27),v=n(221),_=n(33),y=n(22),b=n(25),E=n(3093),C=E.getTitle,I=E.getFetchType,T=E.getRedirectType,N=E.getRedirectParams,S=n(6),x=n(3092),A=n(4),k=A.get,w=a.createClass({displayName:"TrayAttachmentList",propTypes:{activeItem:l({id:o,contextId:o,title:o,type:u([r.LEARNING_ITEM_COURSE_TYPE,r.LEARNING_ITEM_TASK_TYPE,r.LEARNING_ITEM_LIVE_COURSE_TYPE,r.COURSE_TYPE_ILT])}).isRequired,role:u(["Author","Learner"]),attachments:i(_).isRequired,isLoading:c,readOnly:c},getDefaultProps:function(){return{activeItem:{id:"",contextId:"",title:"",type:""},role:"Learner",readOnly:!1}},renderSection:function(e,t){var n=k(e,"header.title"),r=e.attachments;return a.createElement("section",{key:t},n&&this.renderSectionHeader(e),r.length>0&&a.createElement(d,{attachments:r}),!this.props.isLoading&&!r.length&&a.createElement("div",{className:"tray__list--empty"},e.emptyText))},render:function(){var e=this.props,t=e.attachments,n=e.role,r="Author"===n?x.attachmentsToAuthorLists(t,T(this.props.activeItem)):x.attachmentsToList(t);return a.createElement("section",null,this.renderTitle(),r.map(this.renderSection))},renderTitle:function(){return a.createElement("h2",{className:"tray__header","data-capybara":"attachment_tray_header"},C(this.props.activeItem))},renderSectionHeader:function(e){var t=k(e,"header.className",""),n=k(e,"header.title"),r=k(e,"header.link"),s=N(this.props.activeItem);return a.createElement("h3",{className:S("tray__list-header",t)},n,r&&!this.props.readOnly&&a.createElement(f,{className:"tray__list-header__link",to:r,params:s},a.createElement(h,{className:"gs-edit gs-1x"}),a.createElement(g,null,p.t("Edit Attachments"))))}});e.exports=y({type:w,asyncProps:{attachments:{fetch:function(e){var t=e.activeItem,n=I(t),r=t.contextId,a={type:n,id:r},s=t.state;return"locked"===s||null===n?b.resolve([]):v.fetchAllByContext(a,e.role)},get:function(e){var t=e.activeItem,n=I(t),r=t.contextId,a={type:n,id:r};return null===n?[]:k(v.getByContext(a),"all",[])},shouldRefetch:function(e,t){return e.activeItem.id!==t.activeItem.id},setup:function(e){v.addChangeListener(e)},teardown:function(e){v.removeChangeListener(e)}}}})},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(304),i=n(18),o=n(30),l=a.createClass({displayName:"BaseAccountExpirationOverlay",propTypes:{children:r.any,className:r.string,hasSidebar:r.bool,getHeaderText:r.func,getBodyText:r.func,renderButtons:r.func,canShowTopButtons:r.bool},getDefaultProps:function(){return{hasSidebar:!1,canShowTopButtons:!1}},render:function(){return s.remove(),a.createElement("div",{className:"account-expiration-overlay "+this.props.className},a.createElement("div",{className:"account-expiration-overlay__image"}),!this.props.hasSidebar&&this.props.canShowTopButtons&&this.renderTopBar(),a.createElement("div",{className:"account-expiration-overlay__content dark"},a.createElement("h1",null,this.props.getHeaderText()),a.createElement("p",null,this.props.getBodyText()),a.createElement("div",{className:"text-center"},this.props.renderButtons())),this.props.children)},renderTopBar:function(){return a.createElement("div",{className:"account-expiration-overlay__top-bar"},a.createElement(i,{onClick:this.signOut,className:"btn btn--reset dark secondary right"},I18n.t("Sign Out")))},signOut:function(){o.transitionTo("logout")}});e.exports=l},function(e,t,n){"use strict";var r=n(423),a=!0,s=function(){var e=(0,r.getAppContainer)().querySelector(".loader-container");a&&e?(e.classList.add("hidden"),a=!1):a&&(a=!1)};e.exports={remove:s,active:function(){return a},setActive:function(e){a=e}}},function(e,t,n){"use strict";var r=n(656),a=n(4),s=a.assign,i=n(150),o=n(20),l=n(31),u=function(){var e=void 0,t=s({},l.get("PANDA_PUSH_CONFIG"));l.remove("PANDA_PUSH_CONFIG");var n=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(o("panda_push")&&a.url){e=new r.Client(a.url),e.addExtension({outgoing:function(e,t){return"/meta/subscribe"!==e.channel?t(e):(e.ext=e.ext||{},e.ext.auth={token:a.token},t(e))}});try{e.subscribe(a.channel,n)}catch(e){console.warn("Failed to subscribe PandaPushClient",e)}}return e},a={initialize:function(){n(this._handlePush.bind(this)),this.listeners={}},_handlePush:function(e){var t=this.listeners[e.resource+"#"+e.action];t&&(console.log("PandaPush Message Received: ",e),t(i(e.attributes),e))},clear:function(){e&&(e.disconnect(),e=null)},setConfig:function(t){e&&this.clear(),n(this._handlePush.bind(this),t)},subscribe:function(e,t){this.listeners[e]=t},unsubscribe:function(e){delete this.listeners[e]}};return a.initialize(),a};e.exports=u()},function(e,t,n){"use strict";var r=n(25),a=n(4),s=function(e,t){var n=t.data,r=t.payloadHandler,a=void 0===r?function(e){return e}:r;this.paginator=e,this.current={value:null,next:null,previous:null},this.data=n,this.payloadHandler=a};s.prototype.getFirst=function(){var e=this;return this.paginator.findFirstPage(this.data).then(function(t){return e.current={value:e.payloadHandler(t),next:null,previous:null},e.current.value})},s.prototype.hasNext=function(){return!(!this.current.next&&!this.paginator.hasMorePages())},s.prototype.getNext=function(){var e=this;return this.hasNext()?this.current.next?(this.current=this.current.next,r.resolve(this.current.value)):this.paginator.findNextPage(this.data).then(function(t){var n=e.payloadHandler(t);return a.isEmpty(n)?e.current.next=null:(e.current.next={value:e.payloadHandler(t),previous:e.current,next:null},e.current=e.current.next),e.current.value}):r.reject(new Error("There is no next page."))},s.prototype.hasPrevious=function(){return!!this.current.previous},s.prototype.getPrevious=function(){return this.current.previous?(this.current=this.current.previous,r.resolve(this.current.value)):r.reject(new Error("There is no previous page."))},e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i),l=n(40),u=r(l);e.exports=(0,s.default)({schema:n(279),perform:function(e){return(0,o.default)({url:"/api/learner/profile",dataType:"json",method:"PUT",data:(0,u.default)(e)})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(41),u=r(l),c=n(3279),d=r(c),p=n(3),f=n(4),m=n(116),h=r(m),g=n(840);e.exports=function(e){var t=e.contextType,n=e.importRoute,r=e.cancelRoute,a=e.getTitle,i=e.willMountHook,l=void 0===i?Function.prototype:i,c=e.propTypes,m=void 0===c?{}:c,v=e.getToastTitle,_=void 0===v?Function.prototype:v,y=e.getToastMessage,b=void 0===y?Function.prototype:y,E=e.toastPrecondition,C=void 0===E?Function.prototype:E,I=e.contextual!==!1;(0,u.default)(!!t,"`contextType` was not defined, but is necessary to complete use the `CSVUpload` component. See `createCSVUploadHandler.js` for more info."),(0,u.default)(!!n,"`importRoute` was not defined, but is necessary to complete use the `CSVUpload` component. See `createCSVUploadHandler.js` for more info."),(0,u.default)(!!r,"`cancelRoute` was not defined, but is necessary to complete use the `CSVUpload` component. See `createCSVUploadHandler.js` for more info.");var T=o.default.createClass({displayName:"CSVUploadHandler",propTypes:(0,f.assign)(m,{query:(0,p.shape)({uploadType:(0,p.oneOf)(["import","deport"])}),params:(0,p.shape)({contextId:p.string})}),isContextual:function(){var t=(0,g.asyncParam)(e,this.props);return t({param:"contextual",defaultValue:I})},componentWillMount:function(){this.isContextual()&&(0,u.default)(!!this.props.params.contextId,"Expected a `contextId` router parameter to be defined. The flow cannot continue without one."),l.call()},render:function(){var t=(0,g.asyncParam)(e,this.props);return o.default.createElement("div",null,o.default.createElement(h.default,null),o.default.createElement(d.default,(0,s.default)({contextId:this.props.params.contextId,learnableType:this.props.params.learnableType,uploadType:this.props.query.uploadType||"import",contextType:t({param:"contextType",defaultValue:"domain"}),cancelRoute:t({param:"cancelRoute",defaultValue:"author.courses"}),importRoute:t({param:"importRoute",defaultValue:"author.enrollments.imports"}),contextual:this.isContextual(),getTitle:a,toastTitle:_(),toastMessage:b(),toastPrecondition:C},this.props)))}});return T}},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,name:a,type:a})},function(e,t,n){"use strict";var r=n(10);e.exports=(0,r.shape)({id:r.string,itemId:r.string,itemType:(0,r.oneOf)(["CourseTemplate","Program","LiveCourse"]),name:r.string,relevance:(0,r.oneOf)(["enrolled","recommended","in_library"])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=n(33),i=r(s);t.default=(0,a.shape)({submitted:(0,a.arrayOf)(i.default).isRequired,pending:(0,a.arrayOf)(i.default).isRequired}),e.exports=t.default},function(e,t,n){"use strict";var r=n(12),a=n(10);e.exports=(0,a.shape)({id:a.string,title:a.string,description:a.string,estimatedTime:a.number,timeRemaining:a.number,nextItemId:a.string,nextItemType:(0,a.oneOf)([r.LEARNING_ITEM_COURSE_TYPE,r.LEARNING_ITEM_LIVE_COURSE_TYPE,r.LEARNING_ITEM_TASK_TYPE,r.LEARNING_ITEM_LTI_CONTENT_ITEM_TYPE]),nextEnrollmentState:a.string,programItemsCount:a.number,completedProgramItemsCount:a.number,graphic:n(631),hasCertificate:a.bool,programCompleted:a.bool,endAt:a.string,completedProgramItems:(0,a.arrayOf)((0,a.shape)({itemId:a.number})),programItems:(0,a.arrayOf)((0,a.shape)({id:a.number,itemId:a.number,itemType:a.string})),isNonLinear:a.bool})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(104),i=r(s),o=n(112),l=r(o),u=n(33),c=r(u),d=n(465),p=r(d),f=(0,a.shape)({id:a.string,title:a.string,instructions:a.string,instructionsAttachments:(0,a.arrayOf)(c.default),description:a.string,structuredBody:a.object,state:(0,a.oneOf)(["assigned","complete"]),hasCertificate:a.bool,requiresApproval:a.bool,requiresEvidence:a.bool,endAt:a.string,learner:p.default,defaultApproverType:(0,a.oneOf)(["User","Group"]),defaultApprover:i.default,approval:l.default});e.exports=f},function(e,t){"use strict";function n(e){return e&&e.title||I18n.t("Untitled Course")}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayTitle=n},function(e,t,n){"use strict";var r=n(11),a=n(4),s=a.assign,i=n(178),o=n(12),l=o.COURSE_STATUS_ACTIVE,u=o.COURSE_STATUS_COMPLETE,c=o.COURSE_STATUS_FAILED,d=o.COURSE_EXTERNAL_TYPES;t.parse=function(e,t){return t.courses.reduce(function(t,n){var r=e(n);return r.state!==u&&r.programTitle&&i(r.programTitle).length?i(r.programTitle).forEach(function(e,n){t.push(s({},r,{programTitle:e,programId:i(r.programIds)[n],programCourseCount:i(r.programCourseCount)[n],indexOfProgram:i(r.indexOfProgram)[n],milestoneTitle:r.title,title:e}))}):t.push(s({},r,{programTitle:void 0,programCourseCount:void 0,indexOfProgram:void 0})),t},[])},t.isOverdue=function(e){return e.state!==u&&r(e.endAt)<r()},t.isStarted=function(e){return e.state===l},t.isExternal=function(e){return d.indexOf(e.courseType)>-1},t.isCompletedOrFailed=function(e){return[u,c].indexOf(e.state)>-1},t.getFinishedTimeAgo=function(e){return r(e.completedAt).fromNow()},t.getExpiresAtTime=function(e){return r(e.expiresAt).format("LL")},t.getRenewByTime=function(e){return r(e.renewBy).format("LL")},t.shouldShowTitleOnly=function(e){return!e.required&&!e.programId&&e.state!==u},t.hasILTSessions=function(e){return e.sessionsCount>0},t.getNextILTSessionDate=function(e){return r(e.nextSessionStartAt).format("LL")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(e&&t&&n){var r=P.default.tz(t).utcOffset()-P.default.tz(n).utcOffset();return P.default.tz(e,n).add(r,"minutes").toISOString()}return null}var s=n(9),i=r(s),o=n(21),l=r(o),u=n(149),c=r(u),d=n(3111),p=r(d),f=n(3128),m=r(f),h=n(3107),g=r(h),v=n(3169),_=r(v),y=n(3174),b=r(y),E=n(3171),C=r(E),I=n(3243),T=r(I),N=n(3227),S=r(N),x=n(249),A=r(x),k=n(40),w=r(k),R=n(4),O=n(282),P=r(O),L=n(3),M={startAt:L.string,endAt:L.string,location:L.string,seats:L.number,notes:L.string,timezone:L.string,multiPart:L.bool,title:L.string},D=(0,l.default)({displayName:"LiveCourseSessionStore",schema:n(80),fetchAll:function(e,t){var n=this;return(0,b.default)(e,t).then(function(t){n.cache.setCollection([e],t)})},fetch:function(e,t){var n=this;return(0,_.default)(e,t).then(function(e){n.cache.add(e)})},fetchParts:function(e,t){var n=this;this.cache.setCollection({parentId:t},[]);var r=function(e){n.cache.addToCollection({parentId:t},e)};return(0,C.default)({onProgress:r,liveCourseId:e,parentId:t})},getAll:function(e){return this.cache.getCollection([e])},get:function(e){return this.cache.get(e)},getParts:function(e){return this.cache.getCollection({parentId:e})},create:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.default)(e,[(0,w.default)(n)]).then(function(n){return n.parentId?(t.cache.addToCollection({parentId:n.parentId},[n]),t.fetch(e,n.parentId)):(t.cache.unshiftInCollection([e],n),t.refreshRecentTimezones()),n})},publish:function(e,t){var n=this,r=this.cache.get(t);return this.cache.transaction(function(){return n.cache.add((0,i.default)({},r,{isPublished:!0})),(0,S.default)(e,t)})},update:function(e,t,n){var r=this,a=this.cache.get(t),s=(0,A.default)(n,M,!0);if(0===Object.keys(s).length)return console.warn("You have attempted to update a session with invalid parameters.","You may only modify one or more of the following attributes:",Object.keys(M)),null;var i=this.shouldCascadeTimezoneChange(s),o=i?this.newTimesForTimezone(a,s.timezone):{};return this.cache.transaction(function(){return r.cache.add((0,R.merge)({},a,s,o)),i&&a.multiPart&&r.cascadeTimezoneChangeToParts(t,s.timezone),(0,T.default)(e,t,(0,w.default)(s)).then(function(t){return t.parentId?r.fetch(e,t.parentId):a.timezone!==t.timezone&&r.refreshRecentTimezones(),r.cache.add(t),t})})},remove:function(e,t){var n=this;return this.cache.transaction(function(){var r=n.get(t).parentId;return n.cache.remove(t),(0,m.default)(e,t).then(function(){r&&n.fetch(e,r)})})},conclude:function(e,t){var n=this;return this.cache.transaction(function(){return(0,g.default)(e,t).then(function(e){n.cache.add(e)})})},changeSessionRegisteredCount:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.cache.get(e);r&&"number"==typeof t&&(r.registeredCount+=t,n&&(r.presentCount+=t),this.cache.add(r))},refreshRecentTimezones:function(){c.default.fetch()},shouldCascadeTimezoneChange:function(e){var t="timezone"in e,n="startAt"in e,r="endAt"in e;return t&&!(n||r)},newTimesForTimezone:function(e,t){if(e){var n=a(e.startAt,e.timezone,t),r=a(e.endAt,e.timezone,t);return(0,R.pickBy)({startAt:n,endAt:r},function(e){return null!==e})}return{}},cascadeTimezoneChangeToParts:function(e,t){var n=this,r=this.cache.getCollection({parentId:e}),a=r.map(function(e){return(0,i.default)({},e,n.newTimesForTimezone(e,t))});this.cache.addToCollection(null,a)}});e.exports=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(3),s=n(4),i=n(25),o=r(i),l=n(21),u=r(l),c=n(95),d=r(c),p=n(44),f=r(p),m=n(623),h=r(m),g=n(3177),v=r(g),_=n(3168),y=r(_),b=n(249),E=r(b),C=n(40),I=r(C),T=n(7),N=r(T),S=n(66),x=r(S),A=(0,f.default)(function(e,t){return v.default.performWithoutParsing(e,t)}),k={title:a.string,description:a.string,openEnrollment:a.bool,expires:a.bool,defaultDaysUntilExpiration:a.number,autoReEnroll:a.bool,externalCourseId:a.string,reEnrollmentPeriod:a.number,hasCertificate:a.bool},w=1e3,R=1e4,O={enrollments:[],concludedSessions:[],futureSessions:[]},P=(0,u.default)({displayName:"LiveCourseStore",schema:n(105),initialize:function(){this.searchCache=(0,d.default)(this.emitChange,{schema:n(105),displayName:"LiveCourseStore__search"}),this.debouncedSearch=(0,x.default)(this.performSearch,w),this.oldNowList={}},clear:function(){this.searchCache.clear(),this.debouncedSearch.cancel()},getInitialState:function(){return{searching:!1}},search:function(e,t,n){this.searchCache.setCollection({type:e,id:t},[]),n.search&&this.setState({searching:!0}),this.debouncedSearch(e,t,n)},getSearchResults:function(e,t){return this.searchCache.getCollection({type:e,id:t})},isSearching:function(){return this.state.searching},create:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,N.default)({type:"POST",url:"/api/author/live_courses",data:{live_courses:[t]}}).then(function(t){var n=h.default.parse(t);return e.cache.add(n),n.id})},fetchAll:function(e){var t=this;return this.cache.setCollection(e,[]),A.findFirstPage(e).then(function(n){t.cache.setCollection(e,v.default.parse(n))})},fetch:function(e){var t=this;return(0,h.default)(e).then(function(n){return t.fetchR2B(n,e)})},fetchR2B:function(e,t){var n=this,r=Date.now(),a=this.oldNowList[t]||0;if(r-a>R){this.oldNowList[t]=r;var i=(0,s.merge)({},e.meta,{liveCourseId:t});return(0,y.default)(i).catch(function(t){console.error("Problem connecting to Report to the Bridge",t);var r=(0,s.merge)({},e,O);return n.cache.add(r),r}).then(function(t){var r=(0,s.merge)({},e,t);return n.cache.add(r),r})}var l=this.get(t)||O,u=l.enrollments,c=l.concludedSessions,d=l.futureSessions,p={enrollments:u,concludedSessions:c,futureSessions:d},f=(0,s.merge)({},e,p);return this.cache.add(f),o.default.resolve(f)},fetchNext:function(e){var t=this;A.hasMorePages()&&A.findNextPage(e).then(function(n){t.cache.addToCollection(e,v.default.parse(n))})},getAll:function(e){return this.cache.getCollection(e)},get:function(e){return this.cache.get(e)},update:function(e,t){var n=this,r=this.cache.get(e),a=(0,E.default)(t,k,!0);return 0===Object.keys(a).length?void console.warn("You have attempted to update a live training with invalid parameters.","You may only modify one or more of the following attributes:",Object.keys(k)):void this.cache.transaction(function(){return n.cache.add((0,s.merge)({},r,a)),(0,N.default)({url:"/api/author/live_courses/"+e,type:"PATCH",data:{live_course:(0,I.default)(a)}}).then(function(e){var t=h.default.parse(e),a=(0,s.merge)({},r,t);return n.cache.add(a),a})})},remove:function(e){var t=this;return this.cache.transaction(function(){return t.cache.remove(e),(0,N.default)({url:"/api/author/live_courses/"+e,type:"DELETE"})})},performSearch:function(e,t,n){var r=this;return A.findFirstPage(n).then(function(n){var a=v.default.parse(n);r.searchCache.setCollection({type:e,id:t},a),r.setState({searching:!1})},function(){r.setState({searching:!1})})}});e.exports=P,e.exports.SEARCH_DEBOUNCE_WAIT=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=document.location.pathname.split("/",2).pop();return(0,c.default)({},e,{currentUserId:I.default.getId(),namespace:t})}function s(e,t){var n=i();return n.push({context:e,file:(0,c.default)({},t,{completed:!0})}),localStorage.setItem(T,JSON.stringify(n)),t}function i(){try{var e=localStorage.getItem(T);return e?JSON.parse(e):[]}catch(e){return console.error(e),[]}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=i().filter(function(e){var n=e.file;return t.indexOf(n.id)===-1});localStorage.setItem(T,JSON.stringify(r))}function l(e,t){var n=e.id,r=e.learnerId,a=encodeURIComponent(t.location),s=encodeURIComponent(t.name),i="/api/learner/tasks/"+n+"/learners/"+r+"/attachments/download";return i+"?location="+a+"&name="+s}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=r(u),d=n(25),p=r(d),f=n(21),m=r(f),h=n(4),g=n(824),v=r(g),_=n(825),y=r(_),b=n(472),E=r(b),C=n(39),I=r(C),T="task.evidences";t.default=(0,m.default)({displayName:"/var/web/bridge/jsapp/shared/stores/TaskEvidenceStore.js",schema:n(33),initialize:function(){var e=this;this.pendingCache=(0,E.default)(this.emitChange,"TaskEvidenceStore__pendingCache");var t=i().map(function(t){var n=t.context,r=t.file,a=e.pendingCache.addFile(n,r,(0,h.omit)(r,["id"]));return{context:n,file:a}});try{localStorage.setItem(T,JSON.stringify(t))}catch(e){console.error(e)}},clear:function(){this.pendingCache.clear()},delete:function(e,t){var n=this;return this.pendingCache.remove(e)?p.default.resolve():(0,v.default)(e,t).then(function(){n.cache.remove(e)})},fetchAll:function(e){var t=this;return this.cache.setCollection(e,[]),(0,y.default)(e).then(function(n){t.cache.setCollection(e,n)})},getAll:function(e){return{submitted:this.cache.getCollection(e),pending:(0,h.sortBy)(this.pendingCache.getAllFiles(a(e)),function(e){return-e.uploadStart})}},addPending:function(e,t){return this.pendingCache.addFile(a(e),t)},updatePending:function(e,t){return this.pendingCache.updateFile(e,t)},savePending:function(e,t){var n=a(t);return this.pendingCache.saveFile(e,n,function(e){return p.default.resolve(s(n,(0,c.default)({},(0,h.pick)(e,["id","name","location"]),{downloadUrl:l(n,e)})))})},removePending:function(e){this.pendingCache.removeFile(e)&&o(e)},getCompletedPending:function(e){return this.pendingCache.getCompletedFiles(a(e))},getIncompletePending:function(e){return this.pendingCache.getIncompleteFiles(a(e))},clearCompletedPending:function(e){o.apply(null,this.pendingCache.clearCompletedFiles(a(e)))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(554),s=r(a),i=/\s+/;e.exports=function(e){var t=e.toUpperCase().split(i).map(function(e){var t=e.match(/\w/);return t&&t[0]}),n=t.filter(function(e){return e}),r=(0,s.default)(n),a=r[0],o=r.slice(1),l=o[Math.max(o.length-1,0)];return[a,l].join("")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(127),s=r(a);t.default=(0,s.default)(function(){return window.hasOwnProperty("ActiveXObject")}),e.exports=t.default},function(e,t){"use strict";function n(e){return e&&(/^\/login/.test(e)||/^\/forgot-password/.test(e)||/^\/(learner|approver)\//.test(e)||/^\/user-setup\//.test(e)||/^\/reset-password\//.test(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){s(e)?(o.default.transitionTo("learner.course.archived"),t&&t.transition&&t.transition.abort(e)):(0,c.default)(e,t)}function s(e){var t=(0,l.get)(e,"responseJSON.errors")||[];return(0,p.default)("learn_course_archive")&&(0,l.some)(t,function(e){return e.code===f})}Object.defineProperty(t,"__esModule",{value:!0}),t.isArchivedFailure=t.onArchivedFailure=t.default=void 0;var i=n(13),o=r(i),l=n(4),u=n(1483),c=r(u),d=n(20),p=r(d),f="archived_denied";t.default=a,t.onArchivedFailure=a,t.isArchivedFailure=s},function(e,t,n){"use strict";function r(e){return e/s+"rem"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(48),s=parseInt(a.FONT_BASE_SIZE,10);e.exports=t.default},function(e,t){"use strict";var n={never:function(){return I18n.t("Never move enrollments")},incomplete:function(){return I18n.t("Move enrollments if incomplete")},complete:function(){return I18n.t("Move enrollments when completed")},failed:function(){return I18n.t("Move enrollments when failed")},passed:function(){return I18n.t("Move enrollments when passed")},always:function(){return I18n.t("Always move enrollments")}},r={frameset:function(){return I18n.t("current window")},newWindow:function(){return I18n.t("new window")},newWindowPopupBlocker:function(){return I18n.t("new window w/confirm")}},a={byCourse:function(){return I18n.t("latest attempt")},average:function(){return I18n.t("avg of all attempts")}};t.getScormRegistrationInstancingOptions=function(){return[{value:"never",label:n.never},{value:"always",label:n.always},{value:"incomplete",label:n.incomplete},{value:"complete",label:n.complete},{value:"failed",label:n.failed},{value:"passed",label:n.passed}]},t.getScormScoLaunchTypes=function(){return[{value:"1",label:r.frameset},{value:"2",label:r.newWindow},{value:"3",label:r.newWindowPopupBlocker}]},t.getScormScoreRollupModes=function(){return[{value:"1",label:a.byCourse},{value:"3",label:a.average}]}},function(e,t){"use strict";e.exports=function(e){return e?e.replace(/^#/,""):""}},function(e,t,n){"use strict";var r=Object.assign.bind(Object),a=n(49),s=n(487);t.PropResolver=n(486),t.PropResolverDecorator=n(919),t.configure=function(e){var t=Object.keys(s);Object.keys(e).forEach(function(e){a(t.indexOf(e)>-1,'ArgumentError: "'+e+'" is not a valid configuration parameter.')}),r(s,e)}},function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.editorState,n=e.onChange,r=o.default.getBlockText(t);return!!o.default.isImageUrl(r)&&((0,u.default)(t).then(function(e){n(e)}),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.imageSupport=t.handleModalEmbed=void 0;var s=n(928);Object.defineProperty(t,"handleModalEmbed",{enumerable:!0,get:function(){return r(s).default}});var i=n(489);Object.defineProperty(t,"imageSupport",{enumerable:!0,get:function(){return r(i).default}}),t.handleReturn=a;var o=r(i),l=n(927),u=r(l)},function(e,t,n){"use strict";var r=n(229),a=n(7),s=n(25),i=n(11),o=n(31),l=n(4),u=l.isNull,c=l.mapValues,d=l.omitBy,p=o.get("YOUTUBE_API_KEY"),f=16/9,m={youtube:/(^https?:)?(\/\/)(www.youtube.com|youtu.be)(\/)(embed\/|watch\?v=)?([-\w]+)/,vimeo:/(https?:)?(\/\/)(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,wistia:/(^https?:)?(\/\/)([-\w]+\.wistia\.com\/)(medias\/|embed\/iframe\/)?(.+)/,brightcove:/(^https?:)?\/\/players.brightcove.net\/(\d+)\/.+videoId=(\d+)/,viostream:/(^https?:)?\/\/publish.viostream.com\/play\/(\S+)/,viostreamInternal:/\/viostreamplayer.html#(\S+)/,jwplayer:/(^https?:)?\/\/content.jwplatform.com\/(?:players|previews)\/([^.-]+)(?:-(?:[^.]+))?/,jwdashboard:/(^https?:)?\/\/dashboard.jwplayer.com\/.*key=([^&]+)/,arc:/(^https?:)?\/\/(.+)\.instructuremedia\.com\/embed\/?(.+)/},h={youtube:function(e,t){var n={thumb:"/images/youtube.png",original:t,duration:0,aspectRatio:f};return a({url:"https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails&id="+e+"&fields=items(contentDetails%2Fduration%2Csnippet%2Fthumbnails%2Fdefault%2Furl)&key="+p}).then(function(e){var r=e.items[0];return"undefined"==typeof r?n:{thumb:r.snippet.thumbnails.default.url,original:t,duration:i.duration(r.contentDetails.duration).asSeconds(),aspectRatio:f}},function(e){return r.captureException(new Error("VideoSupport GetDetails Error"),{tags:{where:"bridge-cce-media-external-video/videoSupport"},extra:{provider:"youtube",response:e}}),n})},vimeo:function(e,t){return a({url:"https://vimeo.com/api/v2/video/"+e+".json?callback=?",dataType:"json",timeout:2e3}).then(function(e){return e&&e.length?{thumb:e[0].thumbnail_large||"/images/vimeo.png",original:t,duration:e[0].duration||0,aspectRatio:e[0].width/e[0].height}:{thumb:"/images/vimeo.png",original:t,duration:0,aspectRatio:f}},function(){return{thumb:"/images/vimeo.png",original:t,duration:0,aspectRatio:f}})},wistia:function(e,t){var n=encodeURIComponent(t.replace("//","http://"));return a({url:"https://fast.wistia.com/oembed?url="+n+"&format=json&callback=?",dataType:"json"}).then(function(e){return"undefined"==typeof e?{thumb:"/images/wistia.png",original:t,duration:0,aspectRatio:f}:{thumb:e.thumbnail_url||"/images/wistia.png",original:t,duration:Math.ceil(e.duration||0),aspectRatio:e.width/e.height}})},brightcove:function(e,t){return{thumb:"/images/brightcove.png",original:t,duration:0,aspectRatio:f}},viostream:function(e,t){return{thumb:"/images/viostream.png",original:t,duration:0,aspectRatio:f}},jwplayer:function(e,t){return new s(function(n){var r=document.createElement("iframe");r.src="/jwplayer.html#"+e,r.style.display="none",document.body.appendChild(r),r.contentWindow.videoCallback=function(e,a){document.body.removeChild(r),n({thumb:a,original:t,duration:e,aspectRatio:f})}})},arc:function(e,t){return{thumb:"/images/arc.png",original:t,duration:0,aspectRatio:f}}};h.jwdashboard=h.jwplayer,h.viostreamInternal=h.viostream;var g={youtube:function(e){var t=e.pop(),n="//www.youtube.com/embed/"+t;return{id:t,url:n}},vimeo:function(e){var t=e.pop(),n="//player.vimeo.com/video/"+t;return{id:t,url:n}},wistia:function(e){var t=e.pop(),n="//fast.wistia.com/embed/iframe/"+t;return{id:t,url:n}},brightcove:function(e){var t=[e[2],e[3]],n="//players.brightcove.net/"+e[2]+"/default_default/index.html?videoId="+e[3];return{id:t,url:n}},viostream:function(e){var t=e.pop(),n="/viostreamplayer.html#"+t;return{id:t,url:n}},jwplayer:function(e){var t=e.pop(),n="//content.jwplatform.com/players/"+t+".html";return{id:t,url:n}},arc:function(e){var t=e.pop(),n=e.pop(),r="//"+n+".instructuremedia.com/embed/"+t;return{id:t,url:r}}};g.jwdashboard=g.jwplayer,g.viostreamInternal=g.viostream;var v=function(e){var t=d(c(m,function(t){return e.match(t)}),u);if(0===Object.keys(t).length)return{type:"unsupported",id:0};var n=Object.keys(t)[0],r=g[n](t[n]);return{type:n,id:r.id,url:r.url}},_=function(e){var t=m[e];return function(e){return!!t&&t.test(e)}},y=_("youtube"),b=_("vimeo"),E=_("wistia"),C=_("brightcove"),I=_("viostream"),T=_("jwplayer"),N=_("arc"),S=_("jwdashboard"),x=function(e){return Object.keys(m).some(function(t){return _(t)(e)})},A=function(e){if(!Array.isArray(e))throw"urls must be an array";return s.resolve().then(function(){return s.all(e.map(function(e){var t=v(e);return h[t.type](t.id,e)}))})},k=function(e,t){var n=t.offsetWidth,r=document.createElement("iframe");return A([e]).then(function(t){return r.setAttribute("data-duration",t[0].duration),r.src=e,r.width=n,r.height=Math.floor(n/t[0].aspectRatio),r.frameborder=0,r.allowFullscreen=!0,r})},w=function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getBlockForKey(t.getStartKey());return r.getText()};e.exports={isYoutube:y,isVimeo:b,isWistia:E,isVioStream:I,isBrightcove:C,isJWPlayer:T,isJWDashboard:S,isArc:N,getDetails:v,isType:_,typeRegExps:m,isSupportedVideo:x,fetchMeta:A,createIFrame:k,getBlockText:w}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(932);Object.defineProperty(t,"LtiMedia",{enumerable:!0,get:function(){return r(a).default}});var s=n(933);Object.defineProperty(t,"ltiSupport",{enumerable:!0,get:function(){return r(s).default}})},function(e,t){"use strict";t.MEDIA_BLOCK_UPLOADING="uploading",t.MEDIA_BLOCK_ABORTED="aborted",t.MEDIA_BLOCK_ENCODING="encoding",t.MEDIA_BLOCK_ENCODED="encoded",t.MEDIA_BLOCK_BORKED="borked",t.MEDIA_BLOCK_LOADING="loading"},function(e,t){"use strict";function n(e,t){return e||t||a}function r(){return null}function a(){}e.exports=n,e.exports.Nil=r,e.exports.Void=a},function(e,t,n){"use strict";function r(e){var t=a(e.enter,a.Nil),n=a(e.exit);return Object.assign(e,{enter:function(e,n){var r=e.textBlocks.peek();return r&&s.isCoalescent(r)?null:(e.textBlocks=e.textBlocks.push(s({owner:n,position:e.reserveBlockIndex()})),t(e,n))},exit:function(e,t){var r=e.textBlocks.peek();r.owner===t&&(n(e,t),e.textBlocks=e.textBlocks.pop())}})}var a=n(331),s=n(250);e.exports=r},function(e,t,n){"use strict";function r(e){return a.SelectionState.createEmpty(e.getKey()).set("focusOffset",e.getLength())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(35);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.assigneeId&&e.assignee){var t=parseInt(e.assignee.id,10);e=Object.assign({},e,{assigneeId:t})}return e=Object.assign({},e,{completedAt:e.completedAt?e.completedAt.toISOString():void 0,dueAt:e.dueAt?e.dueAt.toISOString():void 0,createdAt:e.createdAt?e.createdAt.toISOString():void 0}),(0,s.default)(e)};var a=n(40),s=r(a);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.assign)({},e,{fullName:e.fullName||e.name})};var r=n(4);e.exports=t.default},function(e,t){"use strict";t.LTI_RESOURCE_STATUS_LOADING="loading",t.LTI_RESOURCE_STATUS_LOADED="loaded",t.LTI_RESOURCE_STATUS_DISABLED="disabled",t.LTI_RESOURCE_STATUS_NOT_FOUND="notFound"},function(e,t,n){"use strict";var r=n(10);e.exports=(0,r.shape)({id:r.string,serializedBody:r.string,structuredBody:r.object,title:r.string,allowComments:r.bool,attachments:(0,r.arrayOf)(n(33)),updatedAt:r.string})},function(e,t,n){"use strict";function r(e){return(0,a.param)(i(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(47),s=function(e){return null===e||void 0===e},i=function(e){return Object.keys(e).filter(function(t){return!s(e[t])}).reduce(function(t,n){return t[n]=e[n],t},{})};e.exports=t.default},,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(1252),u=r(l),c=n(19),d=r(c),p=n(4),f=n(3),m=n(99),h=s.default.createClass({displayName:"IntegrationForm",propTypes:{auth:n(145),provider:f.string,subprovider:f.string,logoFilename:f.string,validations:f.object,errors:f.object,onError:f.func,onCancel:f.func,children:f.any},getInitialState:function(){return{isSaving:!1}},onBlur:function(e){var t=this.props,n=t.auth,r=t.errors,a=t.validations;if(a[e]){var s=a[e],i=s.label,o=void 0===i?"value":i,l=s.message,u=s.format,c=s.optional,d=(n[e]||"").trim(),p=!u||u.test(d);d&&p||!d&&c?delete r[e]:r[e]=l||I18n.t("Please enter a valid %{label}",{label:o}),d&&(n[e]=d),this.props.onError(r)}},onDisable:function(){var e=(0,m.getAuthLabel)(this.getAuthType());if(this.isBasicAuth())this.props.onCancel();else{var t={provider:m.AUTH_TYPE_BASIC,model:"User"};this.setState({isSaving:!0}),u.default.update(t).then(function(){(0,d.default)(I18n.t("We've disabled %{authLabel} authentication.",{authLabel:e}))},function(){(0,d.default)(I18n.t("We're having issues disabling %{authLabel} authentication.",{authLabel:e}),{type:"error"})})}},onValidate:function(){for(var e in this.props.validations)this.onBlur(e)},onSave:function(){var e=this,t=this.props,n=t.auth,r=t.provider,a=t.subprovider,s=Object.assign({},n,{provider:r,subprovider:a});this.onValidate(),this.isValid()&&(this.setState({isSaving:!0}),u.default.update(s).then(function(){(0,d.default)(I18n.t("We've updated your authentication settings!"))},function(){(0,d.default)(I18n.t("We're having issues saving your authentication settings."),{type:"error"})}).then(function(){e.setState({isSaving:!1})}))},isValid:function(){return(0,p.isEmpty)(this.props.errors)},isBasicAuth:function(){return(0,m.getAuthType)(this.props.auth)===m.AUTH_TYPE_BASIC},getAuthType:function(){return this.props.subprovider||this.props.provider},getDisableText:function(){if(this.isBasicAuth())return I18n.t("Cancel");var e=(0,m.getAuthLabel)(this.getAuthType());return I18n.t("Disable %{label} Authentication",{label:e})},render:function(){var e=this.props,t=e.children,n=e.logoFilename,r=this.state.isSaving;return s.default.createElement("div",{className:"admin-config large-content-area--main-container centered"},s.default.createElement("div",{className:"text-center"},s.default.createElement("img",{src:"/images/"+n,alt:"Logo",className:"admin-config__integration-logo admin-config__integration-logo--main admin-config__integration-logo--small"})),s.default.createElement("div",{className:"admin-config__bar margin-t-xl margin-b-xxl"}),t,s.default.createElement("div",{className:"admin-config__bar margin-t-xxl"}),s.default.createElement("div",{className:"admin-config__field-wrap admin-config__btns text-center"},s.default.createElement(o.default,{className:"btn secondary",children:this.getDisableText(),onClick:this.onDisable,disabled:r}),s.default.createElement(o.default,{className:"btn filled",children:I18n.t("Save"),onClick:this.onSave,disabled:r})))}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.name||e.uid;switch(e.type){case"domain":return d.default.t("%{name}s Team",{name:t});case"CourseTemplate":return t||d.default.t("Untitled Course");case"Program":return t||d.default.t("Untitled Program");case"LiveCourse":return t||d.default.t("Untitled Live Training");case"Task":return t||d.default.t("Untitled Checkpoint");case"Lti::ContentItem":return t||d.default.t("Untitled Content");case"Group":case"SmartGroup":return t||d.default.t("Untitled Group")}return t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"domain":case"learner":return f.default.createElement(m.Avatar,(0,u.default)({email:e.email,fullName:e.name,size:"auto",showBorder:!0,showInitials:!0,url:e.avatarUrl,userId:e.id},t));case"Group":case"SmartGroup":return f.default.createElement(m.Avatar,(0,u.default)({fullName:a(e),size:"auto",showBorder:!0,showInitials:!0},t));case"CourseTemplate":return f.default.createElement(m.CourseIcon,t);case"Program":return f.default.createElement(m.ProgramIcon,t);case"LiveCourse":return f.default.createElement(m.ILTIcon,t);case"Task":return f.default.createElement(m.ChecklistIcon,t);case"Lti::ContentItem":return f.default.createElement(m.LTIIcon,t)}return f.default.createElement("div",t)}function i(e){return["CourseTemplate","Program","LiveCourse","Task","Lti::ContentItem"].indexOf(e)>=0}function o(e){return["Group","SmartGroup"].indexOf(e)>=0}var l=n(9),u=r(l),c=n(26),d=r(c),p=n(1),f=r(p),m=n(43);e.exports={formatTitle:a,getIcon:s,isContentItem:i,isGroupItem:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(148),s=r(a),i=n(356),o=r(i),l=n(385),u=r(l),c=n(747),d=r(c),p=n(109),f=r(p),m=n(196),h=r(m),g=n(19),v=r(g),_=n(13),y=r(_),b=n(138),E=n(1461),C=r(E),I=n(884),T=r(I),N=n(305),S=r(N),x=n(262),A=r(x),k=n(4),w=n(663),R=n(12),O=n(20),P=r(O),L=A.default.LOCK_CHANNEL;(0,k.assign)(t,A.default),t.fetchCourse=function(e){return s.default.fetch(e)},t.searchUsers=function(e,t){f.default.searchInCourse(e,t)},t.searchGroups=function(e){h.default.lookup(e,"course_template")},t.enroll=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return o.default.enroll(e,t,n,r,a)},t.unenroll=function(e){return o.default.removeEnrollment(e)},t.makeOptional=function(e){return o.default.makeEnrollmentOptional(e)},t.updateEnrollmentDueDate=function(e,t){e.endAt!==t&&o.default.updateEnrollmentDueDate(e.id,{endAt:t})},t.updateEnrollmentExpireDate=function(e,t){e.expiresAt!==t&&o.default.updateEnrollment(e.id,{expiresAt:t})},t.discardCourseChanges=function(e){return S.default.unsubscribe(L),b.LockActions.acquire({type:"CourseTemplate",id:e}).then(function(){return s.default.discardChanges(e)}).then(function(){return b.LockActions.release({type:"CourseTemplate",id:e})})},t.enrollGroups=function(e,t,n){return d.default.enroll(e,t,n)},t.unenrollGroup=function(e,t,n,r){(0,P.default)("learn_libraryitem_relevance")?u.default.unenroll({learnableType:"CourseTemplate",learnableId:e,sort:t,search:n},r).catch(function(){(0,v.default)(I18n.t("Oh Snap! We were unable to remove this group. Please try again later."))}):d.default.removeEnrollment(e,r,function(){(0,v.default)(I18n.t("Oh Snap! We were unable to remove this group. Please try again later."))})},t.updateGroups=function(e,t){return u.default.update("CourseTemplate",e,t)},t.addGroups=function(e,t,n,r){return u.default.create("CourseTemplate",e,t,n,r)};var M=function(e,t){C.default.create({name:t,contextId:e,contextType:C.default.CONTEXT_COURSE}).then(function(){s.default.fetch(e)})};t.tagCourse=M,t.softTagCourse=function(e,t){T.default.fetchAll({match:t}).then(function(n){var r=n[0];r?M(e,t):(0,v.default)(I18n.t("Sorry, that tag doesn't exist."))})},t.untagCourse=function(e,t){C.default.destroy({name:t,contextId:e,contextType:C.default.CONTEXT_COURSE}).then(function(){s.default.fetch(e)})},t.previewCourse=function(e){y.default.replaceWith("author.courses.preview",e)},t.addCoverSlide=function(e,t){return S.default.subscribe(L,t),b.LockActions.acquire({type:"CourseTemplate",id:e,showToast:!1}).then(function(){w.SlideStore.create(e,R.QUESTION_TYPES.COVER_SLIDE),b.LockActions.release({type:"CourseTemplate",id:e})})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(95),o=r(i),l=n(199),u=r(l),c=n(4),d=n(162),p=r(d),f=n(7),m=r(f),h=n(96),g=r(h),v=n(1294),_=r(v),y=n(2383),b=r(y),E=n(2384),C=r(E),I=n(2385),T=r(I),N=n(419),S=r(N),x=n(44),A=r(x),k=n(25),w=r(k),R=n(1400),O=r(R),P=n(10),L=n(12),M=O.default.Middleware.attributesForActions,D=function(e){return(0,p.default)(u.default,e)},U=D("/api/author/enrollments/%@"),F=D("/api/admin/enrollments/%@/completions"),q=D("/api/admin/enrollments/%@/reset"),B=void 0,j=(0,A.default)(function(e,t,n,r,a){var s={};return n&&(s.sort=n),r&&(s.search=r),a&&(s.group_ids=[a]),b.default.performWithoutParsing(t,{nextPageURL:e,data:s})}),H=(0,s.default)({displayName:"CourseLearnerStore",schema:P.shape,initialize:function(){g.default.throttle(this,50),this.enrollmentCache=(0,o.default)(this.emitChange,{displayName:"CourseLearnerStore__EnrollmentCache",schema:n(457)}),this.learnerCache=(0,o.default)(this.emitChange,{displayName:"CourseLearnerStore__LearnerCache",schema:n(157)})},clear:function(){B&&(B.clear(),j.reset(),this.enrollmentCache.clear(),this.learnerCache.clear())},subscribe:function(e,t,n){if(!this.state.subscription&&e){var r=this.addPushedEnrollment.bind(this,t,n),a=M(r,"create");this.setState({subscription:O.default.subscribe(e,a)})}},unsubscribe:function(){this.state.subscription&&(this.state.subscription.cancel(),this.setState({subscription:null}))},addPushedEnrollment:function(e,t,n){var r=t(),a=r.sort,s=r.search,i={courseId:e,sort:a,search:s},o={id:n.learner.id+"",avatarUrl:n.learner.avatarUrl,name:n.learner.name,email:n.learner.email},l=S.default.parse({id:n.id+"",progress:0,score:n.score,endAt:n.endAt,expiresAt:n.expiresAt,canBeRemoved:n.canBeRemoved,canBeMadeOptional:n.canBeMadeOptional,required:n.required,links:{learner:{id:o.id,type:"learners"}}});this.learnerCache.unshiftInCollection(i,o),this.enrollmentCache.unshiftInCollection(i,l),clearTimeout(this.state.pollTimeout),this.setState({waitingForPush:!1,pollTimeout:null})},fetch:function(e,t,n,r){var a=this;return j.findFirstPage(e,t,n,r).then(function(s){var i=a._parse(s),o=i.enrollments.map(S.default.parse);a.enrollmentCache.setCollection({courseId:e,sort:t,search:n,groupId:r},o),a.learnerCache.setCollection({courseId:e,sort:t,search:n,groupId:r},i.linked.learners),a.emitChange()})},fetchNext:function(e,t,n,r){var a=this;j.hasMorePages()&&j.findNextPage(e,t,n,r).then(function(s){var i=a._parse(s),o=i.enrollments.map(S.default.parse);a.enrollmentCache.addToCollection({courseId:e,sort:t,search:n,groupId:r},o),a.learnerCache.addToCollection({courseId:e,sort:t,search:n,groupId:r},i.linked.learners),a.emitChange()})},_parse:function(e){return b.default.parse(e)},getEnrollment:function(e){return this.enrollmentCache.get(e)},getEnrollments:function(e,t,n,r){return this.enrollmentCache.getCollection({courseId:e,sort:t,search:n,groupId:r})},getLearners:function(e,t,n,r){return this.learnerCache.getCollection({courseId:e,sort:t,search:n,groupId:r})},enroll:function(e,t,n,r,a){var s=this,i={userId:t,courseTemplate:e};return a||(this.setState({waitingForPush:!0}),this.emitChange()),(0,_.default)(e,i).then(function(){s.initPolling(e,t,n,r)},function(e){return s.setState({error:e}),e})},initPolling:function(e,t,n,r){var a=this.refetchEnrollment.bind(this,e,t,n,r);this.setState({pollTimeout:setTimeout(a,L.PANDA_PUSH_TIMEOUT)})},refetchEnrollment:function(e,t,n,r){var a=this;this.fetch(e,n,r).then(function(){a.learnerCache.get(t)?a.setState({waitingForPush:!1,pollTimeout:null}):a.initPolling(e,t,n,r)})},isWaitingForPush:function(){return this.state.waitingForPush},updateEnrollment:function(e,t){var n=this.enrollmentCache,r=this.enrollmentCache.get(e);return r?n.transaction(function(){return(0,c.assign)(r,t),n.add(S.default.parse(r)),(0,C.default)(r.id,t)}):w.default.reject()},updateEnrollmentDueDate:function(e,t){var n=this.enrollmentCache,r=this.enrollmentCache.get(e);return r?n.transaction(function(){return(0,c.assign)(r,t),n.add(S.default.parse(r)),(0,T.default)(r.id,t)}):w.default.reject()},removeEnrollment:function(e){var t=this.enrollmentCache,n=t.get(e);return n?t.transaction(function(){return t.remove(e),(0,m.default)({url:U(e),type:"DELETE"})}):w.default.reject()},makeEnrollmentOptional:function(e){var t=this.enrollmentCache,n=t.get(e);return n?(n.required=!1,t.transaction(function(){return t.add(n),(0,m.default)({url:U(e),type:"DELETE"})})):w.default.reject()},completeEnrollment:function(e){var t=this.enrollmentCache,n=t.get(e);return n?(n=Object.assign(n,{canBeRemoved:!1,canBeMadeOptional:!1,completedAt:(new Date).toString(),hasScore:!0,isCompleted:!0,score:100,progress:1,state:"complete"}),t.transaction(function(){return t.add(n),(0,m.default)({url:F(e),type:"POST",data:{score:n.score}})})):w.default.reject()},resetEnrollment:function(e){var t=this.enrollmentCache,n=t.get(e);return n?(n=Object.assign(n,{completedAt:null,isCompleted:!1,isPermanentlyFailed:!1,score:0,progress:0,state:"created"}),t.transaction(function(){return t.add(n),(0,m.default)({url:q(e),type:"POST"})})):w.default.reject()}});e.exports=H},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,recipient:a,subject:a,html:a,text:a,sentAt:a})},function(e,t,n){"use strict";var r=n(7),a=n(31);e.exports={extendFreeTrial:function(){return r({url:"/api/account/free_trial",type:"PUT",data:{used_free_trial_extension:!0}}).then(function(t){a.set("ACCOUNT.config.used_free_trial_extension",t.used_free_trial_extension),a.set("ACCOUNT.config.expiration_date",t.expiration_date),Object.keys(e.exports.listeners).forEach(function(t){return e.exports.listeners[t]()})})},sendGetBridgeEmail:function(){return r({url:"/api/account/get_bridge",type:"POST"}).then(function(){Object.keys(e.exports.listeners).forEach(function(t){return e.exports.listeners[t]()})})},addChangeListener:function(t,n){e.exports.listeners[t]=n},removeChangeListener:function(t){delete e.exports.listeners[t]}},e.exports.listeners={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(1),o=r(i),l=n(23),u=r(l),c=n(37),d=r(c),p=n(78),f=r(p),m=n(5),h=n(27),g=r(h),v=n(215),_=r(v),y=n(3),b=n(6),E=r(b),C=n(47),I=r(C),T=n(4),N=n(198),S=r(N),x=o.default.createClass({displayName:"AnchoredModalTrigger",propTypes:{className:y.string,iconClassName:y.string,children:y.node,disabled:y.bool,onTrigger:y.func,text:y.string,round:y.bool},getDefaultProps:function(){return{round:!1,text:""}},render:function(){return this.props.children?this.renderTrigger():o.default.createElement(_.default,{label:this.props.text,children:this.renderTrigger()})},renderTrigger:function(){var e=(0,E.default)(this.props.className,{"anchored-modal__trigger-button":!this.props.round,"anchored-modal__trigger-button--round":this.props.round}),t=(0,E.default)("dark-grey anchored-modal__trigger-button__icon",this.props.iconClassName);return o.default.createElement("button",{disabled:this.props.disabled,onClick:this.props.onTrigger,className:e,type:"button"},this.props.children||[o.default.createElement(m.Icon,{key:"trigger-icon",className:t}),o.default.createElement(g.default,{key:"trigger-text"},this.props.text)])}}),A=o.default.createClass({displayName:"AnchoredModalBody",propTypes:{children:y.node},render:function(){return o.default.createElement("div",null,this.props.children)}}),k=o.default.createClass({displayName:"AnchoredModal",mixins:[(0,d.default)({small:"(max-width: 568px), (max-height: 400px)"})],propTypes:{anchor:(0,y.oneOf)(["bottomRight","topRight","bottomCenter"]),anchorTo:y.object,anchorToFactor:y.number,className:y.string,wrapperClassName:y.string,isOpen:y.bool,close:y.func,children:y.any,contentLabel:y.string},statics:{Body:A,Trigger:x},getDefaultProps:function(){return{anchor:"topRight",anchorToFactor:1.5,isOpen:!1,close:Function.prototype,contentLabel:""}},componentWillMount:function(){this.repositionModalDebounced=(0,T.debounce)(this.repositionModal,12)},componentDidMount:function(){this.isMounted=function(){return!0},(0,I.default)(window).on(this.getDOMEvents(this.props.className),this.repositionModalDebounced)},componentWillUnmount:function(){(0,I.default)(window).off(this.getDOMEvents(this.props.className),this.repositionModalDebounced),this.isMounted=function(){return!1}},getDOMEvents:function(e){return["resize","scroll","click"].map(function(t){return t+"."+e}).join(" ")},repositionModal:function(){if(this.props.isOpen&&this.isMounted()){var e,t,n=(0,I.default)(u.default.findDOMNode(this.refs.modal.portal)).children(".anchored-modal");if(this.state.media.small)return void n.removeAttr("style");e=(0,I.default)(u.default.findDOMNode(this.props.anchorTo||this.refs.trigger)),t=e.offset();var r=this.props.anchor.match(/(top|bottom)(Center|Right)/),a=(0,s.default)(r,3),i=a[1],o=a[2];switch(i){case"bottom":t.top-=n.height(),t.top+=e.height()*this.props.anchorToFactor;break;case"top":t.top-=e.height()/2;break;default:throw new Error('Unrecognized horizontal anchor "'+i+'"')}switch(o){case"Center":t.left-=n.width()/2,t.left+=e.width()/2;break;case"Right":t.left-=n.width(),t.left+=e.width()*this.props.anchorToFactor;break;default:throw new Error('Unrecognized horizontal anchor "'+o+'"')}n.offset(t)}},render:function(){var e=(0,E.default)("anchored-modal",this.props.className);return o.default.createElement("span",{className:this.props.wrapperClassName},o.default.createElement("div",{ref:"trigger",className:"inline-block"},(0,S.default)(this.props.children,x)),o.default.createElement(f.default,{ref:"modal",isOpen:this.props.isOpen,className:e,overlayClassName:"anchored-modal__overlay",onRequestClose:this.props.close,contentLabel:this.props.contentLabel},(0,S.default)(this.props.children,A)))}});e.exports=k},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(82),i=a.createClass({displayName:"AuthorCloneButton",propTypes:{onClick:r.func.isRequired,buttonClassName:r.string,label:r.string},render:function(){var e=this.props.label||I18n.t("Duplicate Course");return a.createElement(s,{onClick:this.props.onClick,buttonClassName:this.props.buttonClassName,label:e,icon:"duplicate",iconClassName:"gs-1x"})}});e.exports=i},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(434),i=n(69),o="12 AM";e.exports=a.createClass({displayName:"AutoCsvScheduler",propTypes:{onChangeDays:r.func.isRequired,onChangeTime:r.func.isRequired,days:r.arrayOf(r.bool),time:r.string,validTimeRegex:r.object},getDefaultProps:function(){return{days:[],time:o,validTimeRegex:/^([1-9]|0[1-9]|1[0-2])(:[0-5][0-9])? ?([aA]|[pP])[mM]$/}},formatTime:function(e){return e.toUpperCase().replace(/^(\d+).*(\w{2})$/,"$1 $2")},getTime:function(){return this.props.time||o},onChangeTime:function(e){this.props.onChangeTime(this.formatTime(e))},render:function(){return a.createElement("div",{className:"auto-csv-scheduler"},a.createElement(i,{value:this.props.time,children:this.getTime(),onChange:this.onChangeTime,validEditRegex:this.props.validTimeRegex,placeholder:I18n.t("Time")}),a.createElement(s,{ref:"daysOfWeek",days:this.props.days,onChange:this.props.onChangeDays}))}})},function(e,t,n){"use strict";function r(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=window.getComputedStyle(e,null);return n.font=r.getPropertyValue("font"),function(e){return n.measureText(e).width}}var a=n(2),s=n(1),i=n(23),o=i.findDOMNode,l=s.createClass({displayName:"AutosizingInput",propTypes:{children:a.node},componentWillMount:function(){},componentDidMount:function(){this.getTextWidth=r(o(this.refs.node)),this.adjustSizeToFitContent()},componentDidUpdate:function(e){e.children!==this.props.children&&(this.getTextWidth=r(o(this.refs.node))),this.adjustSizeToFitContent()},componentWillUnmount:function(){this.getTextWidth=null},render:function(){return s.cloneElement(s.Children.only(this.props.children),{ref:"node",onChange:this.adjustSizeToFitContentOnChange})},adjustSizeToFitContent:function(){var e=o(this.refs.node);e.style.minWidth=this.getTextWidth(e.value)+"px"},adjustSizeToFitContentOnChange:function(e){var t=s.Children.only(this.props.children);t.props.onChange&&t.props.onChange(e),this.adjustSizeToFitContent()}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(91),s=n(3),i=s.arrayOf,o=s.shape,l=s.string,u=s.func,c=s.oneOfType,d=s.bool,p=r.createClass({displayName:"FilterSelector",propTypes:{filterOptions:i(o({label:l,value:l,isCategory:d})),onChange:u.isRequired,activeFilters:c([l,i(l)])},getDefaultProps:function(){return{filterOptions:[],activeFilters:[]}},render:function(){return r.createElement("div",{className:"filter-selector"},r.createElement("ul",{className:"unstyled"},this.props.filterOptions.map(this.renderFilterOption)))},getActiveFilters:function(){var e=this.props.activeFilters;return e instanceof Array||(e=[e]),e},renderFilterOption:function(e){var t=this.getActiveFilters().some(function(t){return t===e.value});return e.isCategory?r.createElement("li",{key:e.value||e.label,className:"bold small padding-tl-s"},e.label):r.createElement("li",{key:e.value},r.createElement(a,{value:e.value,checked:t,children:e.label,onChange:this.changeFilters}))},changeFilters:function(e){var t=e.target.value,n=e.target.checked,r=[].concat(this.getActiveFilters()),a=r.indexOf(t);n&&a===-1?(r.push(t),this.props.onChange(r)):n||a===-1||(r.splice(a,1),this.props.onChange(r))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(98),u=r(l),c=n(134),d=r(c),p=n(4),f=n(3),m=n(48),h=n(41),g=r(h),v=n(58),_=r(v),y=n(71),b=n(171),E=n(56),C=n(75),I=n(349),T=n(288);n(350),t.default=s.default.createClass({displayName:"HorizontalValueBar",propTypes:{svgHeight:f.number.isRequired,svgWidth:f.number.isRequired,currentValue:f.number,maxValue:f.number,value:f.number,startColor:f.string.isRequired,endColor:f.string.isRequired,backgroundColor:f.string.isRequired,label:f.func.isRequired,labelColor:f.string.isRequired,labelColorOnBackground:f.string,labelClass:f.string.isRequired,withAbsoluteValues:f.bool.isRequired,absoluteValueYExtent:f.number.isRequired,absoluteValueLabel:f.func.isRequired,absoluteValueClass:f.string.isRequired,absoluteValueCurrColor:f.string.isRequired,absoluteValueEndColor:f.string.isRequired},getDefaultProps:function(){return{svgHeight:40,svgWidth:800,startColor:m.BLEND_GRBL_WIDE_BL,endColor:m.BLEND_GRBL_WIDE_GR,backgroundColor:m.LIGHT_GREY,label:function(e){return(0,b.format)(".0%")(e)},labelColor:m.WHITE,labelClass:"small bold",withAbsoluteValues:!1,absoluteValueYExtent:15,absoluteValueLabel:function(e){return(0,b.format)(".0f")(e)},absoluteValueClass:"x-small bold",absoluteValueCurrColor:m.BLACK,absoluteValueEndColor:m.DARK_GREY}},componentWillMount:function(){var e=(0,C.scaleLinear)().domain([0,1]).range([0,this.props.svgWidth]),t=(0,T.interpolateRgb)(this.props.startColor,this.props.endColor);this.setState({xScale:e,gradColor:t,gradientId:(0,p.uniqueId)("horizontal-value-bar-gradient")})},componentWillReceiveProps:function(e){var t=(0,C.scaleLinear)().domain([0,1]).range([0,e.svgWidth]),n=(0,T.interpolateRgb)(e.startColor,e.endColor);this.setState({xScale:t,gradColor:n})},componentDidMount:function(){this.setState({svgElement:(0,E.select)(o.default.findDOMNode(this)).select("svg")},this.drawWidget)},componentDidUpdate:function(e){(0,p.isEqual)(e,this.props)||this.drawWidget()},render:function(){var e=this.props.startColor,t=this.props.endColor,n=this.props,r=n.svgWidth,a=n.withAbsoluteValues,i=n.absoluteValueYExtent,o=this.props.svgHeight;a&&(o+=i);var l="0 0 "+r+" "+o,c=String(100*o/r)+"%";return s.default.createElement("div",{className:"horizontal-value-bar",style:{paddingTop:c}},s.default.createElement(d.default,{startingWidth:r,startingHeight:o,viewBox:l,preserveAspectRatio:"xMidYMid meet"},s.default.createElement("defs",null,s.default.createElement(u.default,{id:this.state.gradientId,color1:e,color2:t,orientation:"horizontal",gradientUnits:"userSpaceOnUse"}))))},fractionalValue:function(){var e=this.props,t=e.value,n=e.currentValue,r=e.maxValue,a=e.withAbsoluteValues,s=!(0,_.default)(n)&&!(0,_.default)(r),i=!(0,_.default)(t);return(0,g.default)(i||s,"Must specify either value or both currentValue and maxValue"),
(0,g.default)(!i||t>=0&&t<=1,"Value must be between 0 and 1"),(0,g.default)(!s||n>=0&&r>0&&r>=n,"Max value must be >= current value; both must be non-negative; max cannot be 0"),a&&(0,g.default)(s,"Absolute value decoration needs current and max values"),s?n/r:t},drawWidget:function(){this.drawBar(),this.props.withAbsoluteValues&&this.drawNumbers()},drawBar:function(){var e=this.state.svgElement;if(e){var t=this.props,n=t.backgroundColor,r=t.svgHeight,a=t.label,s=t.labelColor,i=t.labelColorOnBackground,o=t.labelClass,l=this.state.xScale,u=this.fractionalValue(),c=[{name:"bar",n:u,fill:"url(#"+this.state.gradientId+")"},{name:"no-bar",n:1-u,fill:n}],d=a(c[0].n);e.selectAll(".bar-label").remove();var p=0,f=e.selectAll("rect").data(c,function(e){return e.name}),m=f.enter().append("rect").attr("fill",function(e){return e.fill});if(f.merge(m).transition().duration(500).attr("x",function(e){var t=p;return p+=e.n,l(t)}).attr("y",0).attr("width",function(e){return l(e.n)-l(0)}).attr("height",r),!(d.length<1)){var h=(0,_.default)(i)?this.colorInvert(s):i,g=e.append("text").attr("x",l(c[0].n)-3).attr("y",r/2).attr("dy","0.35em").attr("class","bar-label "+o).attr("text-anchor","end").attr("fill",s).text(d);g.node().getBBox().x<=0&&g.attr("x",l(c[0].n)+3).attr("fill",h).attr("text-anchor","start")}}},drawNumbers:function(){var e=this,t=this.props,n=t.svgHeight,r=t.currentValue,a=t.maxValue,s=t.absoluteValueYExtent,i=t.absoluteValueCurrColor,o=t.absoluteValueEndColor,l=this.state.svgElement;if(l){this.drawMarkerLine();var u=[{name:"left",n:0,offset:0,anchor:"start"},{name:"curr",n:r,offset:-5,anchor:"end"},{name:"max",n:a,offset:0,anchor:"end"}],c=this.state.xScale,d=[],p=function(e){var t=(0,E.select)(e[1].elt),n=Number(t.attr("x")),r=t.text();e[1].right+5>=e[2].left&&(t.transition().duration(250).attr("x",n+e[2].left-e[1].right-3).text(r+" / "),l.selectAll(".abs-marker-line").transition().duration(250).attr("opacity",0)),e[0].right+5>=e[1].left&&(t.transition().duration(250).attr("x",n+8).style("text-anchor","start"),(0,E.select)(e[0].elt).transition().duration(250).attr("opacity",0))},f=function(){var e=this.getBBox();d.push({elt:this,left:e.x,right:e.x+e.width}),d.length===u.length&&p(d)},m=l.selectAll(".abs-markers").data(u,function(e){return e.name}),h=m.enter().append("text").attr("class","abs-markers "+this.props.absoluteValueClass);m.merge(h).transition().duration(500).on("end",f).attr("class","abs-markers "+this.props.absoluteValueClass).style("text-anchor",function(e){return e.anchor}).attr("x",function(e){return c(e.n/a)+e.offset}).attr("y",n+s/2).attr("fill",function(e){return"curr"===e.name?i:o}).attr("dy","0.35em").attr("opacity",1).text(function(t){return e.props.absoluteValueLabel(t.n)})}},drawMarkerLine:function(){var e=this.state.svgElement;if(e){var t=this.state.xScale,n=this.state.gradColor,r=this.props,a=r.svgHeight,s=r.absoluteValueYExtent,i=this.fractionalValue(),o=e.selectAll(".abs-marker-line").data([i]),l=o.enter().append("line").attr("class","abs-marker-line").attr("stroke-width",2);o.merge(l).transition().duration(500).attr("x1",function(e){return(0,y.max)([1,t(e)-1])}).attr("x2",function(e){return(0,y.max)([1,t(e)-1])}).attr("y1",a).attr("y2",a+s).attr("opacity",1).attr("stroke",function(e){return n(e)})}},colorInvert:function(e){var t=(0,I.rgb)(e);return(0,I.rgb)("rgb("+(255-t.r)+","+(255-t.g)+","+(255-t.b)+")").toString()}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(4),s=n(6),i=n(19),o=n(2),l=o.bool,u=o.func,c=o.string,d=o.shape,p=o.number,f=o.arrayOf,m=n(25),h=n(20),g=n(785),v=n(786),_={"image/gif":{name:"gif",resizeable:!0},"image/png":{name:"png",resizeable:!0},"image/svg+xml":{name:"svg",resizeable:!1},"image/jpeg":{name:"jpeg",resizeable:!1}},y=r.createClass({displayName:"ImageUploader",propTypes:{name:c.isRequired,darkBackground:l,description:c.isRequired,onChange:u.isRequired,onChangeOpacity:u,opacity:p,onUploadFile:u.isRequired,resize:d({width:p,height:p}),recommendedSize:d({width:p,height:p}),url:c,allowedTypes:f(c),dataCapybara:c},statics:{VALID_MIME_TYPES:_},getDefaultProps:function(){return{darkBackground:!1,url:"",allowedTypes:Object.keys(_),dataCapybara:""}},getInitialState:function(){return{dataUrl:null,dragOver:!1,imageSize:{},uploading:!1,openedToast:!1}},emitChange:function(e){this.props.onChange(a.assign({},this.state.imageSize,{location:e}))},clearToast:function(){this.state.openedToast&&(i.clear(),this.setState({openedToast:!1}))},assignFile:function(e){var t=this,n=this.getType(e);if(n){var r=n.resizeable&&this.props.resize;r?(this.fileToDataUrl(e).then(function(e){return t.updatePreviewUrl(e),e}).then(function(n){t.processImage(n,e.name,e.type)}),this.clearToast()):this.props.onUploadFile(e).then(function(e){t.saveSizeFromImageUrl(e.location).then(function(){t.emitChange(e.location),t.setState({uploading:!1})}),t.clearToast()},function(n){t.setState({dataUrl:null,uploading:!1,openedToast:!0}),i(I18n.t("Oh Snap! We were unable to upload your image. Please try again later."),{type:"error"}),console.error("Failed to upload image: ",e,n)})}else i(I18n.t("Oh Snap! That file type is not allowed. Please try a different file."),{type:"error"}),this.setState({uploading:!1,openedToast:!0}),console.error("File type not allowed",e)},drawResizedImage:function(e,t,n){var r=t.getContext("2d"),a=this.props.resize;r.canvas.width=a.width,r.canvas.height=a.height,r.drawImage(e,0,0,e.width,e.height,n.x,n.y,n.width,n.height)},fileToDataUrl:function(e){var t=this;return new m(function(n,r){var a=new FileReader;a.onload=function(e){t.setState({dataUrl:e.target.result,uploading:!1}),n(e.target.result)},a.onerror=r,a.readAsDataURL(e)})},handleDragOver:function(e){this.setState({dragOver:!0});var t=e.dataTransfer,n=t.files;(n&&n.length||a.includes(t.types,"Files"))&&(e.stopPropagation(),e.preventDefault())},handleDragLeave:function(){this.setState({dragOver:!1})},handleDrop:function(e){this.setState({dragOver:!1});var t=e.dataTransfer,n=t.files;n.length&&(e.stopPropagation(),e.preventDefault(),this.setState({uploading:!0}),this.assignFile(n[0]))},getType:function(e){return a.includes(this.props.allowedTypes,e.type)&&_[e.type]},onFilesSelected:function(e){this.setState({dataUrl:null,uploading:!0}),this.assignFile(e[0])},onRemoveImage:function(){this.clearImageSize(),this.emitChange(""),this.setState({dataUrl:null,uploading:!1})},getPreviewUrl:function(){return this.state.uploading?null:this.state.dataUrl||this.props.url},clearImageSize:function(){this.setState({imageSize:{width:null,height:null}})},saveImageSize:function(e,t){this.setState({imageSize:{width:e,height:t}})},saveSizeFromImageUrl:function(e){var t=this;return new m(function(n,r){var a=new Image;a.onload=function(){t.saveImageSize(a.width,a.height),n()},a.onerror=r,a.src=e})},processImage:function(e,t,n){var r=this;return this.resizeImage(e,t,n).then(function(e){r.fileToDataUrl(e).then(function(e){r.updatePreviewUrl(e)},function(t){i(I18n.t("Oh Snap! We were unable to load your image. Please try again later."),{type:"error"}),console.error("Failed to load image file: ",e,t)}),r.props.onUploadFile(e).then(function(e){r.emitChange(e.location)},function(t){r.setState({dataUrl:null,uploading:!1}),i(I18n.t("Oh Snap! We were unable to upload your image. Please try again later."),{type:"error"}),console.error("Failed to upload image: ",e,t)})},function(t){i(I18n.t("Oh Snap! We were unable to resize your image. Please try again later."),{type:"error"}),console.error("Failed to resize image: ",e,t)})},resizeImage:function(e,t,n){var r=this;return new m(function(a,s){var i=new Image;i.onload=function(){var e=r.scaledDimensions(i.width,i.height),s=document.createElement("canvas"),o=r.props.resize;s.width=o.width,s.height=o.height,r.saveImageSize(i.width,i.height),r.drawResizedImage(i,s,e),r.serializeCanvas(s,t,n,a)},i.onerror=s,i.src=e})},scaledDimensions:function(e,t){var n=void 0,r=void 0,a=void 0,s=e/t,i=this.props.resize,o=i.width/i.height;return s<o?(r=i.height,a=r/t,n=Math.round(e*a),{x:Math.round((i.width-n)/2),y:0,height:r,width:n}):(n=i.width,a=n/e,r=Math.round(t*a),{x:0,y:Math.round((i.height-r)/2),height:r,width:n})},serializeCanvas:function(e,t,n,r){e.toBlob(function(e){e.name=t,r(e)},n)},updatePreviewUrl:function(e){this.setState({dataUrl:e,uploading:!1})},render:function(){var e=s({"media-uploader--image__wrapper":!0,"media-uploader--image__wrapper--preview":this.getPreviewUrl(),"media-uploader--image__wrapper--dark":this.props.darkBackground,"media-uploader--image__wrapper--dragover":this.state.dragOver}),t=Boolean(this.getPreviewUrl());return r.createElement("div",{className:"padding-s",onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,"data-capybara":this.props.dataCapybara},r.createElement("div",null,r.createElement("label",null,this.props.name),h("learn_custom_brand_color_updates")&&this.props.recommendedSize&&r.createElement("label",{className:"right dark-grey"},this.props.recommendedSize.width," x ",this.props.recommendedSize.height,"px")),r.createElement("div",{className:"media-uploader media-uploader--image"},r.createElement("div",{className:e},t&&this.renderPreview(),!t&&this.state.uploading&&r.createElement("div",{className:"loader margin-tb-xxl"}),!t&&!this.state.uploading&&r.createElement(g,{onFilesSelected:this.onFilesSelected}))),r.createElement("p",{className:"media-uploader--image__description"},this.props.description))},renderPreview:function(){return r.createElement(v,{onFilesSelected:this.onFilesSelected,onRemoveImage:this.onRemoveImage,imageUrl:this.getPreviewUrl(),onChangeOpacity:this.props.onChangeOpacity,opacity:this.props.opacity})}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(90),u=r(l),c=n(50),d=n(6),p=r(d),f=n(65),m=r(f),h=n(124),g=r(h),v=n(5),_=n(18),y=r(_),b=n(369),E=r(b),C=n(27),I=r(C),T=n(3),N=n(12),S=o.default.createClass({displayName:"InlineEnrollmentEditor",propTypes:{onEnroll:T.func,onSearch:T.func,onCancel:T.func,searcherName:(0,T.oneOf)(["users","groups"]),searchMemberMessage:T.string,searchMemberPendingMessage:T.string,searchResults:(0,T.arrayOf)(n(42)),searchColSpan:T.string,isLoading:T.bool},getDefaultProps:function(){return{searchResults:[],searcherName:"users",searchColSpan:"4",isLoading:!1}},componentDidMount:function(){this.refs.combobox.focusInput()},render:function(){var e=this.props,t=e.searchResults,n=e.searcherName,r=e.searchColSpan,a=e.isLoading,s="users"===n?I18n.t("Enter a name to find a learner"):I18n.t("Enter a name to find a group");return o.default.createElement(c.Tr,{mobileClassNames:"pure-g"},o.default.createElement(c.Td,{colSpan:r,mobileClassNames:"pure-u-7-8"},o.default.createElement(u.default,{ref:"combobox",autocomplete:"list",className:"search-bar search-bar--group-add",inputClassName:"ic-autocomplete-input",onInput:this.debounceSearch,onSelect:this.emitEnroll,placeholder:s,children:t.map(this.renderResult)}),a&&o.default.createElement(E.default,null)),o.default.createElement(c.Td,{className:"sortable-table__td--vtop",mobileClassNames:"pure-u-1-8"},o.default.createElement(y.default,{onClick:this.props.onCancel,className:"btn--reset text-right full-width padding-tb-s"},o.default.createElement(I.default,null,I18n.t("Cancel")),o.default.createElement(v.Icon,{className:"gs-x gs-1x dark-grey"}))))},renderResult:function(e){var t=(0,p.default)({"search-results__result":!0,"search-results__result--disabled":!!e.member});return o.default.createElement(u.default.Option,{className:t,key:"result-"+e.id,value:e.id,label:e.name},"users"===this.props.searcherName?this.renderUserResult(e):this.renderGroupResult(e))},renderUserResult:function(e){var t=void 0;return e.member?t=this.props.searchMemberMessage||I18n.t("Already Selected"):e.pendingMember&&(t=this.props.searchMemberPendingMessage),o.default.createElement("div",null,o.default.createElement(m.default,(0,s.default)({},e,{className:"left"})),o.default.createElement("span",{className:"padding-l-xs"},o.default.createElement("span",null,e.name,t&&o.default.createElement("span",null," (",t,")"))),o.default.createElement("span",{className:"user-search__details margin-l-xl"},e.uid,e.uid!==e.email&&o.default.createElement("span",null,", ",e.email)))},renderGroupResult:function(e){return o.default.createElement("div",null,o.default.createElement(g.default,(0,s.default)({className:"left"},e)),o.default.createElement("span",{className:"padding-l-xs"},e.name))},debounceSearch:function(e){var t=this;this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){t.props.onSearch(e)},N.GENERAL_DEBOUNCE_MS)},emitEnroll:function(e){this.isMember(e)||this.props.onEnroll(e),this.forceUpdate()},isMember:function(e){return this.props.searchResults.filter(function(t){return t.member&&t.id===e+""}).length}});e.exports=S},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(5),i=s.Icon,o=n(6),l=n(2),u=l.bool,c=r.createClass({displayName:"LearningItemStatus",propTypes:{isLocked:u,hasCertificate:u,certificateColorYellow:u},getDescription:function(){return this.props.isLocked?"Locked":this.props.hasCertificate?"Certificate Awarded":null},getIconClass:function(){return this.props.isLocked?"gs-lock":this.props.hasCertificate?"learning-item-status__certificate brand-color"+(this.props.certificateColorYellow?" yellow":""):null},render:function(){var e=this.getIconClass();return e?r.createElement("div",null,r.createElement(i,{className:o("learning-item-status",e)}),r.createElement("span",{key:"text",className:"screenreader-only"},r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{this_get_description}",{this_get_description:"%{this_get_description}"}),this_get_description:this.getDescription()},"$1")))):null}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(173),i=n(235),o=n(120),l=n(2),u=l.func,c=l.bool,d=l.string,p=r.createClass({displayName:"OptionalDateEditor",propTypes:{canEdit:c,value:d,clearPromptText:d,dateToText:u,onChange:u},getDefaultProps:function(){return{canEdit:!0}},getInitialState:function(){return{hasDate:!!this.props.value,editingDate:!1}},componentWillReceiveProps:function(e){e.value!==this.props.value&&this.setState({hasDate:!!e.value})},renderDateLabel:function(){var e=this.getDateText(),t=a({block:!0,"margin-t-xs":!0,"optional-date__label":!0,"optional-date__label--empty":!this.state.hasDate});return r.createElement("span",{className:t,"data-capybara":"optional-date-text"},e)},renderSelector:function(){return r.createElement(s,{ref:"popdown"},r.createElement(s.Trigger,null,r.createElement("button",{className:"optional-date__trigger","data-capybara":"optional_date_select"},this.renderDateLabel())),r.createElement(s.Content,{className:"optional-date__selector"},r.createElement("button",{className:"optional-date__selection","data-capybara":"clear_date",onClick:this.clearDate},this.props.clearPromptText||I18n.t("Clear date")),r.createElement("button",{className:"optional-date__selection","data-capybara":"select_date",onClick:this.pickDate},I18n.t("Pick a date"))))},renderDatePicker:function(){var e=this.props.value,t=e?new Date(e):"";return r.createElement(i,{className:this.getPickerClassName(),value:t,isFocused:!0,onChange:this.selectDate,onBlur:this.stopEditing})},renderEditableControls:function(){return this.state.editingDate?this.renderDatePicker():this.renderSelector()},render:function(){var e=this.props.canEdit;return r.createElement("div",{className:"optional-date"},e?this.renderEditableControls():this.renderDateLabel())},clearDate:function(){this.hideSelector(),this.state.hasDate&&this.props.onChange(null)},pickDate:function(){this.hideSelector(),this.setState({editingDate:!0})},hideSelector:function(){this.refs.popdown.closeModal()},selectDate:function(e){this.stopEditing(),this.props.onChange(e)},stopEditing:function(){this.setState({editingDate:!1})},getDateText:function(){var e=this.props,t=e.value,n=e.dateToText;return this.state.hasDate?n?n(t):o(t,"date"):null},getPickerClassName:function(){return a({"optional-date__input--empty":!this.props.value,"optional-date__input":!0})}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"SearchBarLoader",render:function(){return r.createElement("div",{className:"search-bar__loader"},r.createElement("div",{className:"loader"}))}});e.exports=a},function(e,t,n){"use strict";var r=n(2),a=n(1),s=32,i=13,o=a.createClass({displayName:"SelectorItem",propTypes:{checked:r.bool,tabIndex:r.oneOfType([r.number,r.string]),role:r.string,children:r.any,onSelect:r.func,className:r.string},getDefaultProps:function(){return{role:"option",tabIndex:"0",onChange:null,checked:!1}},render:function(){return a.createElement("li",{"data-capybara":"selector-item",className:this.props.className,role:this.props.role,"aria-checked":this.props.checked,tabIndex:this.props.tabIndex,children:this.props.children,onClick:this.notifySelectedByPointer,onKeyPress:this.notifySelectedByKeyPress})},notifySelectedByPointer:function(){this.notifySelected()},notifySelectedByKeyPress:function(e){var t=e.which;t!==i&&t!==s||(e.preventDefault(),this.notifySelected())},notifySelected:function(){this.props.onSelect&&this.props.onSelect()}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(1161),l=n(3),u=l.func,c=l.string,d=l.number,p=i.createClass({displayName:"Slider",propTypes:{min:d,max:d,value:d,step:d,onChange:u,beginLabel:c,endLabel:c},getDefaultProps:function(){return{min:0,max:10,step:1,onChange:Function.prototype}},render:function(){return i.createElement("div",{className:"center"},this.props.beginLabel,i.createElement(o,(0,s.default)({className:"range-input",handleClassName:"range-input__thumb",barClassName:"range-input__track",withBars:!0},this.props)),this.props.endLabel)}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(370),s=n(6),i=n(3),o=i.arrayOf,l=i.shape,u=i.string,c=i.func,d=r.createClass({displayName:"SortSelector",propTypes:{sortOptions:o(l({label:u,value:u})),onChange:c.isRequired,activeSort:u},getDefaultProps:function(){return{sortOptions:[],activeSort:null,onChange:null}},render:function(){return r.createElement("div",{className:"sort-selector"},r.createElement("ul",{role:"listbox",className:"unstyled"},this.props.sortOptions.map(this.renderSortOption)))},renderSortOption:function(e){var t=this.props.activeSort===e.value,n=s({"sort-selector__item":!0,"sort-selector__item--checked brand-color":t});return r.createElement(a,{className:n,key:e.value,onSelect:this.changeSort.bind(null,e.value),children:e.label,checked:t})},changeSort:function(e){this.props.onChange&&this.props.onChange(e)}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return I.default.get().timezones||[]}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),i=r(s),o=n(15),l=r(o),u=n(17),c=r(u),d=n(16),p=r(d),f=n(1),m=r(f),h=n(90),g=r(h),v=n(282),_=r(v),y=n(6),b=r(y),E=n(4),C=n(149),I=r(C),T=n(3),N=_.default.tz.names(),S=function(e){function t(){(0,i.default)(this,t);var e=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderLabel=function(){var t=e.props,n=t.id,r=t.label;return r&&m.default.createElement("label",{htmlFor:n},r," ")},e.renderInput=function(){var t=e.props,n=t.id,r=t.onChange,a=t.value,s=t.inputClassName,i=(0,b.default)("time-zone-selector__input",s);return m.default.createElement(g.default,{id:n,inputRef:function(t){e.input=t},handleBlur:function(t){e.handleBlur=t},onEnter:e.handleEnter,alwaysShowList:!0,resetInputValue:!0,autocomplete:"list",value:a,className:i,onSelect:r,onInput:e.onSearchInput,onBlur:e.clearSearchInput,placeholder:I18n.t("Select Time Zone"),children:e.renderOptions()})},e.renderOption=function(t,n){var r=n===e.props.value,a=e.formatTimeZoneDisplay(n),s=(0,b.default)({"recent-timezone":t});return m.default.createElement(g.default.Option,{key:n,value:n,label:a,isSelected:r,className:s},a)},e.renderOptions=function(){var t=e.getTimeZoneResults(),n=e.getRecentTimeZones(),r=(0,E.difference)(t,n).map((0,E.partial)(e.renderOption,!1)),a=n.map((0,E.partial)(e.renderOption,!0)),s=[];return a.length>0&&(s.push(e.inputHeader(I18n.t("Recently Used"))),s=s.concat(a)),r.length>0&&(s.push(e.inputHeader(I18n.t("All Timezones"))),s=s.concat(r)),s},e.inputHeader=function(e){return m.default.createElement("div",null,m.default.createElement(g.default.Option,{className:"time-zone-selector__input-header",value:e,appearInactive:!0},e))},e.handleEnter=function(){var t=e.getTimeZoneResults();1===t.length&&e.props.onChange(t[0]),e.handleBlur(),setTimeout(function(){return e.input.blur()})},e.clearSearchInput=function(){e.setState({search:null})},e.onSearchInput=function(t){e.setState({search:t})},e.formatTimeZoneDisplay=function(t){var n=e.props.time,r=_.default.tz(n,t),a=r.format("z"),s=r.format("Z");return t&&[t.replace(/_/g," "),a.match(/\W+/)?"("+s+")":"("+a+" "+s+")"].join(" ")},e.getTimeZoneResults=function(t){var n=e.state.search,r=t||N;if(null===n||""===n)return r;var a=n.split(/\s+/).join("(.*)");return(0,E.filter)(r,function(e){return e.match(new RegExp(a,"i"))})},e.getRecentTimeZones=function(){var t=e.state.recentTimeZones;return t.length<5&&(t=(0,E.union)(t,[_.default.tz.guess()])),e.getTimeZoneResults(t)},e.onProfileChanged=function(){var t=a();(0,E.isEqual)(t,e.state.recentTimeZones)||e.setState({recentTimeZones:t})},e.state={search:null,recentTimeZones:a()},e}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){I.default.addChangeListener(this.onProfileChanged)}},{key:"componentWillUnmount",value:function(){I.default.removeChangeListener(this.onProfileChanged)}},{key:"render",value:function(){var e=this.props.className,t=(0,b.default)(e,"input-field","input-field--active","time-zone-selector");return m.default.createElement("span",{className:t},this.renderLabel(),this.renderInput())}}]),t}(m.default.Component);S.propTypes={id:T.string,label:T.node,className:T.string,inputClassName:T.string,value:T.string,onChange:T.func,time:(0,T.instanceOf)(_.default)},S.defaultProps={id:"time-zone-selector",onChange:Function.prototype,time:(0,_.default)()},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){a.Children.forEach(e,function(e){e&&d(e.type===y,"UserListingEntry only accepts Column as children! You have passed "+('a child of type "'+(e.type.displayName||e.type)+'" which is ')+"not supported.")})}var a=n(1),s=n(88),i=n(50),o=i.Tr,l=i.Td,u=n(18),c=n(37),d=n(41),p=n(6),f=n(3),m=f.func,h=f.bool,g=f.number,v=f.node,_=f.string,y=l,b=n(621),E=a.createClass({displayName:"RemovalConfirmationPrompt",propTypes:{onCancel:m,onConfirm:m,isMobile:h,colCount:g,user:b.propTypes.user,removalMessage:_},render:function(){var e=this.props.user;return a.createElement(o,{className:"border-b border-grey"},a.createElement(l,{colSpan:String(this.props.colCount||1),mobileClassNames:"pure-u-1",className:"padding-none"},a.createElement("div",{className:"removable-item removable-item--focused"},a.createElement("div",{className:"removable-item__title"},a.createElement(b,{user:e,hideDetails:!0})),a.createElement("div",{className:"removable-item__confirm indigo"},this.props.isMobile?I18n.t("Remove?"):this.props.removalMessage||I18n.t("Remove Learner?")),a.createElement("div",{className:"removable-item__buttons"},a.createElement(u,{className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.props.onCancel,children:I18n.t("Cancel")}),a.createElement(u,{className:"btn--reset upcase small padding-rl-s text-center confirm-remove-learner pink",onClick:this.props.onConfirm,children:I18n.t("Remove")})))))}}),C=a.createClass({displayName:"Entry",statics:{Column:y,Avatar:b,RemovalConfirmationPrompt:E},mixins:[s.mixin,c({mobile:c.QUERY_MOBILE})],propTypes:{onRemove:m,user:n(42).isRequired,children:v,className:_,removalMessage:_},componentWillMount:function(){r(this.props.children)},componentWillUpdate:function(e){r(e.children)},render:function(){if(this.isConfirmingRemoval())return a.createElement(E,{user:this.props.user,onCancel:this.cancelRemoval,onConfirm:this.props.onRemove,isMobile:this.state.media.mobile,colCount:a.Children.count(this.props.children),removalMessage:this.props.removalMessage});var e=this.props.className,t=p("border-b","border-grey",e);return a.createElement(o,{className:t,mobileClassNames:"pure-g"},this.props.children)}});e.exports=C},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(303),i=n(18),o=a.createClass({displayName:"GetBridgeModal",propTypes:{isOpen:r.bool,closeModal:r.func},render:function(){return this.props.isOpen?a.createElement(s,{className:"get-bridge-modal",getHeaderText:this.getHeaderText,getBodyText:this.getBodyText,renderButtons:this.renderButtons}):null},getHeaderText:function(){return I18n.t("Nice choice!")},getBodyText:function(){return I18n.t("Getting Bridge for your company is a great decision (we told you it would make you smarter). A Bridge rep will reach out to you shortly, or you can call 844.358.7156 to get started with Bridge right now.")},renderButtons:function(){return a.createElement(i,{onClick:this.props.closeModal,className:"btn filled white"},I18n.t("Cool, thanks!"))}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=document.createElement("style");return e.setAttribute("media","all"),e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}function s(e,t){t.forEach(function(t){e.insertRule(t,e.cssRules.length)})}function i(e,t){var n=t.primary_color,r=[".theme-light .brand-color                 { color: "+n+" !important; }",".theme-light .brand-color--active.active  { color: "+n+" !important; }",".theme-light .brand-color--hover:hover    { color: "+n+" !important; }",".theme-light .brand-color--before:before  { color: "+n+" !important; }",".theme-light .brand-bg                    { background: "+n+" !important; }",".theme-light .brand-border                { border-color: "+n+" !important; }",".theme-light .brand-border--focus:focus   { border-color: "+n+" !important; }",".theme-light .brand-border--active.active { border-color: "+n+" !important; }",".theme-light .brand-stroke                { stroke: "+n+" !important; }",".theme-light .brand-fill                  { fill: "+n+" !important; }",".theme-light .brand-outline               { box-shadow: 0 0 0 2px "+n+" !important; }"];s(e,r)}function o(e,t){var n=t.font;if(n){var r=encodeURIComponent(n).split("%20").join("+"),a=["@import url('https://fonts.googleapis.com/css?family="+r+"');",".brand-font { font-family: '"+n+"' !important; }"];s(e,a)}}function l(e){e||(e=p.default.getBranding()),u(),f=a(),o(f,e),e.color_enabled&&i(f,e)}function u(){if(f&&f.ownerNode){var e=f.ownerNode;e.parentNode.removeChild(e),f=null}}function c(){return f}var d=n(62),p=r(d),f=void 0;t.install=l,t.uninstall=u,t.getStylesheet=c},function(e,t,n){"use strict";var r=n(96),a=n(36),s=n(647),i=n(4),o=i.assign,l=i.flow,u=i.get,c={transformers:{key:function(e){return e},value:function(e){return e}}},d=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=a.Map(),this.events=new r;var n=l(u(t,"transformers.key",u(c,"transformers.key")),s);this.transformKey=function(t){return n(t,e)};var i=u(t,"transformers.value",u(c,"transformers.value"));this.transformValue=function(t){return i(t,e)}};o(d.prototype,{get:function(e){return this.data.get(this.transformKey(e))},set:function(e,t){return this.data=this.data.set(this.transformKey(e),this.transformValue(t)),this.events.emitChange(),t},reset:function(e){return this.data=a.Map(),this.merge(e)},merge:function(e){var t=this;return this.data=this.data.merge(Object.keys(e).reduce(function(n,r){return n[t.transformKey(r)]=t.transformValue(e[r]),n},{})),this.events.emitChange(),this},delete:function(e){e=this.transformKey(e);var t=this.data.get(e);return this.data=this.data.delete(e),this.events.emitChange(),t},clear:function(){return this.data=this.data.clear(),this.events.emitChange(),this},addChangeListener:function(e){this.events.addChangeListener(e)},removeChangeListener:function(e){this.events.removeChangeListener(e)}}),e.exports=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="login",r="splash",a="my-learning",s="learning-library",i="email-notification",o="course-slide",l="course-quiz",u="course-quiz-submitted",c="certificate",d="survey";t.all=[n,r,a,s,i,o,l,u,c,d],t.signin=[n,r],t.learning=[a,s],t.course=[o,l,u,c]},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(51),skipNormalize:["__emberModel__"],perform:function(e){return a({url:"/api/author/groups/"+e})},parse:function(e,t){var n=t.groups;return e(n[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){b.default.set("DOMAIN.config.override_branding",(0,C.default)(e)),_.default.install()}function s(){b.default.set("DOMAIN.config.override_branding",null),_.default.install()}function i(e,t){var n,r;return r=n=function(n){function r(){return(0,l.default)(this,r),(0,p.default)(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return(0,m.default)(r,n),(0,c.default)(r,[{key:"componentWillMount",value:function(){var e=t&&t(this.props);e&&a(e)}},{key:"componentWillReceiveProps",value:function(e){var n=t&&t(e);n&&a(n)}},{key:"componentWillUnmount",value:function(){var e=t&&t(this.props);e&&s()}},{key:"render",value:function(){return g.default.createElement("div",{className:this.getWrapperTheme()},g.default.createElement(e,this.props))}},{key:"getWrapperTheme",value:function(){var e=t&&t(this.props),n=T.default.getTheme()===N.THEME_HIGH_CONTRAST;return e?n?N.THEME_HIGH_CONTRAST_CLASS:N.THEME_LIGHT_CLASS:null}}]),r}(g.default.PureComponent),n.propTypes=e.propTypes,r}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),l=r(o),u=n(15),c=r(u),d=n(17),p=r(d),f=n(16),m=r(f);t.setBrandingOverride=a,t.removeBrandingOverride=s,t.default=i;var h=n(1),g=r(h),v=n(376),_=r(v),y=n(31),b=r(y),E=n(40),C=r(E),I=n(39),T=r(I),N=n(12)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=r(a);t.default=s.default.shape({type:s.default.oneOf(["all","print","screen","speech"]),width:s.default.number,height:s.default.number,deviceWidth:s.default.number,deviceHeight:s.default.number}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,name:a,createdAt:a})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.arrayOf,o=r.oneOf;e.exports=s({id:a,tagId:a,taggableId:a,taggableType:o(["CourseTemplate"]),data:s({title:a,tags:i(a)})})},function(e,t,n){"use strict";function r(e){return!!e&&!!e.markedCompleteAt}function a(e){return!!e&&!!e.concludedAt}function s(e){if(e.multiPart){var t=(0,i.uniqBy)(e.parts,"location").filter(function(e){return e&&e.location});return t.length>1?I18n.t({one:"%{location} and %{count} other location",other:"%{location} and %{count} other locations"},{location:t[0].location,count:t.length-1}):1===t.length?t[0].location:null}return e.location}Object.defineProperty(t,"__esModule",{value:!0}),t.isPresent=r,t.isConcluded=a,t.getLocation=s;var i=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(139),s=r(a),i=n(21),o=r(i),l=n(3161),u=r(l),c=n(3127),d=r(c),p=n(3242),f=r(p),m=n(44),h=r(m),g=n(68),v=r(g),_=n(25),y=r(_),b=v.default.of(n(460)),E=(0,u.default)(),C=(0,h.default)(function(e,t,n,r,a){return E.performWithoutParsing({nextPageURL:e,learnableType:t,learnableId:n,sort:r,search:a})}),I=(0,o.default)({displayName:"GroupRelevanceStore",schema:n(460),fetch:function(e,t,n,r){var a=this;
return C.findFirstPage(e,t,n,r).then(function(s){return a.cache.setCollection({learnableType:e,learnableId:t,sort:n,search:r},E.parse(s))})},fetchNext:function(e,t,n,r){var a=this;C.hasMorePages()&&C.findNextPage(e,t,n,r).then(function(s){return a.cache.addToCollection({learnableType:e,learnableId:t,sort:n,search:r},E.parse(s))})},getAll:function(e,t,n,r){return this.cache.getCollection({learnableType:e,learnableId:t,sort:n,search:r})},create:function(e,t,n,r,a){var s=this,i=n.map(function(e){var t=e.result,n=e.relevance;return b(Object.assign({},t,{relevance:n}))});return y.default.all(i.map(function(n){return s.cache.transaction(function(){return(0,f.default)({learnableType:e,learnableId:t,group:n})})})).then(function(){return s.cache.addToCollection({learnableType:e,learnableId:t,sort:r,search:a},i),y.default.resolve()})},update:function(e,t,n){var r=this,a=n.map(function(e){var t=e.result,n=e.relevance;return b(Object.assign({},t,{relevance:n}))});return y.default.all(a.map(function(n){return r.cache.transaction(function(){return r.cache.add(n),(0,f.default)({learnableType:e,learnableId:t,group:n})})}))},unenroll:function(e,t){var n=this,r=arguments,a=e.learnableType,i=e.learnableId,o=e.sort,l=e.search;return this.cache.transaction(function(){var e=n.cache.get(t);return n.cache.remove(t),e&&"domain"===e.type&&(["relevance","usersCount","overdueCount","inProgressCount","finishedCount","learnerCount","averageScore","courseCompletionCount"].forEach(function(t){e[t]=void 0}),n.cache.setCollection(r[0],[e].concat((0,s.default)(n.getAll(a,i,o,l))))),(0,d.default)({learnableType:a,learnableId:i,groupId:t})})}});t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(831),o=r(i),l=n(59),u=n(4);t.default=(0,s.default)({displayName:"LtiEmbeddedContentResourceStore",schema:l.LtiResourceSchema,storeOptions:{defaultCacheOptions:{idGenerator:function(e){return e.toolId+":"+e.contentType+":"+e.contentId+":"+e.contentUrl+":"+(e.roles||"learner")}}},fetch:function(e,t,n,r){var a=this,s=e.toolId,i=e.ltiAttributes.url;return(0,o.default)(s,n,i,r,t).then(function(e){return a.cache.add(e),e}).catch(function(e){throw(0,u.get)(e,"responseJSON.errors[0].code","Unknown Error")})},get:function(e,t,n,r){var a=e.toolId,s=e.ltiAttributes.url;return this.cache.get(a+":"+t+":"+n+":"+s+":"+(r||"learner"))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(21),a=n(87),s=n(30),i=n(838),o=r({displayName:"LearnerTagStore",schema:n(247),fetchAll:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.cache.clear();var r=function(e){t.cache.addToCollection({},e)};return i({onProgress:r,scope:e}).then(function(){var e=t.getTagsFromQuery(),r=e.length>0?e:t.getSelected();t.setSelected(r,n)})},getAll:function(){return this.cache.getCollection({})},getByName:function(e){return this.getAll().find(function(t){return t.name===e})},getSelected:function(){var e=this,t=a.getItem("learnerSelectedTags",a.SCOPE_USER)||[];return t.filter(function(t){return!!e.cache.get(t.id)})},setSelected:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.setItem("learnerSelectedTags",e,a.SCOPE_USER),t&&this.updateQuery(e)},removeSelected:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setSelected(this.getSelected().filter(function(t){return t.id!==e.id}),t)},addSelected:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getSelected();n.find(function(t){return t.id===e.id})||this.setSelected(n.concat(e),t)},toggleSelected:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getSelected().find(function(t){return t.id===e.id})?this.removeSelected(e,t):this.addSelected(e,t)},getTagsFromQuery:function(){var e=s.getQuery().tags;if(!e)return[];var t="string"==typeof e?e.split(","):e;return t.map(this.cache.get).filter(Boolean)},updateQuery:function(e){var t=e.length>0?e.map(function(e){return e.id}).join(","):void 0;s.updateQuery({tags:t})}});e.exports=o},function(e,t,n){"use strict";var r=n(900),a=function(e,t){var n=Object.keys(e).reduce(function(n,a){return n[a]=r(e[a],t),n},{});return{listen:Function.prototype,getState:function(){return n},dispose:Function.prototype}},s=function(e){function t(){null!==n&&n(s)}var n=null,r=Object.keys(e),a=r.reduce(function(t,n){return t[n]=window.matchMedia(e[n]),t},{}),s=r.reduce(function(e,t){return e[t]=a[t].matches,e},{}),i=function(e,n){s[e]=n,t()},o=r.reduce(function(e,t){return e[t]=function(e){i(t,e.matches)},e},{}),l=function(e){n=e,r.forEach(function(e){a[e].addListener(o[e])})},u=function(){n=null,r.forEach(function(e){a[e].removeListener(o[e])})},c=function(){return s};return{notify:t,listen:l,dispose:u,getState:c}};e.exports=s,e.exports.createFixedMediaListener=a},function(e,t){"use strict";function n(){return"/a11y/"===window.location.pathname}function r(){var e=document.location,t=e.origin,n=e.hash;window.location.replace(""+t+n.substr(1))}Object.defineProperty(t,"__esModule",{value:!0}),t.isUnderAllyRouter=n,t.redirectToNonAlly=r},function(e,t){"use strict";var n=/^\s*$/;e.exports=function(e){return null===e||"undefined"==typeof e||n.test(""+e)}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(d.default.convertFromRaw(e),t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(d.default.convertFromRaw(e),t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new f.default(t).call(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t,{format:"react"});return new f.default(n).call(e)}function u(e){var t=d.default.convertFromHTML(e),n=c.ContentState.createFromBlockArray(t);return d.default.convertToRaw(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertFromDraftStateToReact=t.convertFromDraftStateToHTML=t.RendererDefaults=t.Renderer=t.DOMElements=void 0,t.convertFromRawToHTML=s,t.convertFromRawToReact=i,t.convertFromHTMLToRaw=u;var c=n(35),d=a(c),p=n(999),f=a(p),m=n(203),h=r(m);t.DOMElements=h,t.Renderer=f.default,t.RendererDefaults=p.Defaults,t.convertFromDraftStateToHTML=o,t.convertFromDraftStateToReact=l},,,,,,,,,,,function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var r=n(555),a=n(129)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[a])?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var r=n(403),a=n(129)("iterator"),s=n(233);e.exports=n(169).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||s[r(e)]}},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(1511),d=r(c),p=n(638),f=r(p),m=n(25),h=r(m),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e);var n={id:null,index:null,isCustom:!0,name:null,text:null,icon:null,altText:null,allowDuplicates:!1,preview:null,scanPercent:0,isScanning:!1,cache:{},duplicateCount:0,emptyIdCount:0};Object.assign(this,n,t)}return(0,u.default)(e,[{key:"_startDupeWorker",value:function(){var e=this,t=this.get("cacheKey"),n=this._createWorker();n.onmessage=function(n){if(n.data.percent||n.data.complete){var r=n.data.duplicateCount,a=n.data.emptyIdCount;e.set("cache",Object.assign({},e.cache,(0,s.default)({},t,[r,a]))),t===e.cacheKey&&e.setProperties({isScanning:!n.data.complete,duplicateCount:r,emptyIdCount:a,scanPercent:n.data.percent})}},n.postMessage(this.getProperties("file","url","index","hasHeaders"))}},{key:"_createWorker",value:function(){return new Worker("/javascripts/duplicates.js")}},{key:"save",value:function(){var e=this,t=this.get("customField")||{deletable:!0},n=Object.assign({},t,{name:this.get("text")});return f.default.createOrUpdate(n).then(function(t){var n=f.default.get(t);e._loadCustomField(n)})}},{key:"delete",value:function(){var e=this;return this.set("index",null),this.customField?f.default.destroy(this.customField.id).then(function(){e.set("customField",null)}):h.default.resolve()}},{key:"_loadCustomField",value:function(e){this.setProperties({isCustom:!0,customField:e,id:e.id,name:e.name,text:e.name,deletable:e.deletable})}},{key:"recheckUniquenessOnHasHeadersChange",value:function(){this.setPropertiesIfChanged(this._checkUniqueness())}},{key:"_checkUniqueness",value:function(){if(!this.file&&!this.url||(0,c.isNone)(this.index)||this.skipUniqueness)return{duplicateCount:0,emptyIdCount:0,isScanning:!1};var e=Object.assign({},this.cache),t=this.cacheKey;return(0,c.isNone)(e[t])?{duplicateCount:0,emptyIdCount:0,isScanning:!0,scanPercent:0,cache:e}:{isScanning:!1,duplicateCount:e[t][0],emptyIdCount:e[t][1]}}}],[{key:"createFromCustomField",value:function(t){var n=e.create();return n._loadCustomField(t),n}}]),e}();t.default=(0,d.default)(g,{computedProperties:{importValue:function(){return this.get("isCustom")?this.get("id"):this.get("name")},isAssigned:function(){return null!==this.get("index")},isSaved:function(){return this.get("isCustom")&&this.get("id")},showAsButton:function(){return!this.get("text")&&!this.get("icon")},file:function(){return this.get("preview.file")},url:function(){return this.get("preview.url")},hasHeaders:function(){return this.get("preview.hasHeaders")},skipUniqueness:function(){return this.get("preview.isDeport")||this.get("allowDuplicates")},cacheKey:function(){return this.get("index")+"-"+this.get("hasHeaders")},hasDuplicates:function(){return this.get("duplicateCount")>0},hasEmptyIds:function(){return this.get("emptyIdCount")>0},isFailed:function(){return this.hasDuplicates||this.hasEmptyIds}},objectDidInstantiate:function(){},objectDidUpdate:function(e){this.index!==e.index&&this.setPropertiesIfChanged(this._checkUniqueness()),!e.isScanning&&this.isScanning&&null!==this.cache[this.cacheKey]&&(this.cache[this.cacheKey]=null,this._startDupeWorker(this))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(23),h=r(m),g=n(6),v=r(g),_=n(2087),y=r(_),b=n(62),E=r(b),C=n(20),I=r(C),T=n(2093),N=r(T),S=n(2);n(2090);var x=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"publishBranding",value:function(){E.default.publishDraft()}},{key:"componentDidUpdate",value:function(e){this.props.screenId&&this.props.screenId!==e.screenId&&(h.default.findDOMNode(this.refs.container).scrollTop=0)}},{key:"render",value:function(){var e=E.default.isDraftLoaded(),t=(0,v.default)({"authoring-sidebar border-r border-med-grey":!0,"white-bg":(0,I.default)("learn_custom_brand_color_updates")}),n=(0,v.default)({"authoring-pane chart-grey-bg":!0,"authoring-pane--no-scroll":this.props.screenId,"padding-tb-s":!this.props.screenId,"theme-light":E.default.isColorEnabled()}),r=(0,I.default)("learn_login_branding")?this.props.editor:null;return f.default.createElement("div",{className:"grey-gradient-bg full-width full-min-height"},f.default.createElement(y.default,{isPublishing:E.default.isDraftPublishing(),isSaving:E.default.isDraftSaving(),hasUnpublishedChanges:E.default.hasUnpublishedChanges(),onPublish:this.publishBranding}),f.default.createElement("div",{className:t},e&&N.default.build(r)),f.default.createElement("div",{className:n,ref:"container"},e&&this.props.children))}}]),t}(f.default.Component);x.propTypes={screenId:S.string,children:S.node,editor:S.string},t.default=x,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(2133),o=r(i),l=n(2135),u=r(l),c=n(185),d=r(c),p={},f=(0,s.default)({displayName:"AdminConfigAppStore",schema:d.default,fetchAll:function(){var e=this;return(0,o.default)().then(function(t){return e.cache.setCollection(p,t),t})},getAll:function(){return this.cache.getCollection(p)},get:function(e){return this.cache.get(e)},update:function(e,t){var n=this;return(0,u.default)(e,t).then(function(t){return n.cache.setCollection(p,t),n.get(e)})}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.any,s=r.string,i=r.shape,o=r.bool;e.exports=i({id:s,event:s,whodunnit:i({id:s,name:s,uid:s,email:s,avatarUrl:s,deleted:o}),itemId:s,itemType:s,createdAt:s,from:a,to:a})},function(e,t,n){"use strict";var r=n(1398),a=n(11),s=n(224),i={};i.displayName="Enrollment",i.parse=function(e){var t=s({},e);return t.isCompleted=!!t.completedAt,t.isOverdue=a().isAfter(t.endAt),t.hasScore=t.isCompleted&&!isNaN(parseInt(t.score,10)),t},e.exports=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(2790),o=r(i),l=n(2792),u=r(l),c=n(2788),d=r(c),p=n(243),f=r(p);t.default=(0,s.default)({displayName:"/var/web/bridge/jsapp/screens/LearnerRetainQuiz/shared/stores/RetainQuizStore.js",schema:f.default,fetch:function(e){return(0,o.default)(e).then(this.cache.add)},get:function(e){return this.cache.get(e)},update:function(e,t){(0,u.default)(e,t).then(this.cache.add)},complete:function(e){return(0,d.default)(e).then(this.cache.add)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(3),l=o.func,u=o.object,c=o.string,d=o.any,p=n(4),f=p.omit;e.exports=i.createClass({displayName:"exports",propTypes:{formObject:u,field:c,type:c,onObjectUpdated:l,value:d},handleInputChanged:function(e){var t=this.props,n=t.formObject,r=t.field,a=t.type;switch(a){case"checkbox":n[r]=e.target.checked;break;default:n[r]=e.target.value}this.props.onObjectUpdated()},render:function(){var e=this.props,t=e.field,n=e.value,r=f(this.props,["field","value","formObject","onObjectUpdated"]);return r.hasOwnProperty("checked")&&(r.checked=r.checked||!1),i.createElement("input",(0,s.default)({id:t,value:n||"",onChange:this.handleInputChanged},r))}})},function(e,t,n){"use strict";var r=n(21),a=n(7),s=n(3),i=s.arrayOf,o=s.shape,l=s.string,u=s.number,c=n(68),d=c.of(n(51)),p={},f=r({displayName:"GroupSearchStore",schema:n(51),setSearch:function(e){var t=this;p=e,e.term?a({url:"/api/author/groups",dataType:"json",data:{search:e.term,except:e.selectedIds}}).then(function(n){t.cache.setCollection(e,n.groups.map(d))}):this.emitChange()},resetSearch:function(){p={},this.emitChange()},clear:function(){p={}},getSearch:function(){return this._getData(p)},getDefaultData:function(){return this._getData({})},_getData:function(e){var t=e.selectedIds||[],n=this.cache;return{term:e.term,results:n.getCollection(e),selectedGroups:t.map(function(e){return n.get(e)})}},dataType:o({term:l,results:i(o({id:l,name:l,users_count:u})),selectedGroups:i(o({id:l,name:l,users_count:u}))})});e.exports=f},function(e,t){"use strict";function n(e){a=e}function r(){return a}Object.defineProperty(t,"__esModule",{value:!0}),t.setAppContainer=n,t.getAppContainer=r;var a=void 0},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(2),i=s.string,o=s.func,l=s.arrayOf,u=s.object,c=n(6),d=n(5),p=d.Icon,f=n(18),m=n(27),h=r.createClass({displayName:"ActiveFilterBox",propTypes:{filterLabels:u.isRequired,filters:l(i),onChangeFilters:o,className:i,label:i},getDefaultProps:function(){return{filters:[],onChangeFilters:Function.prototype}},removeFilter:function(e){var t=this.props.filters,n=t.filter(function(t){return t!==e});this.props.onChangeFilters({filters:n})},render:function(){var e=this;if(0===this.props.filters.length)return null;var t=c("active-filter-box",this.props.className);return r.createElement("div",{className:t},r.createElement("label",{className:"active-filter-box__label"},this.props.label||a.t("Filters:")),this.props.filters.map(function(t){return r.createElement(f,{key:t,className:"active-filter-box__tag_box",onClick:e.removeFilter.bind(null,t)},e.props.filterLabels[t],r.createElement("span",{className:"btn--a11y active-filter-box__remove-filter-button"},r.createElement(m,null,a.t("Remove Filter %{name}",{name:e.props.filterLabels[t]})),r.createElement(p,{className:"gs-x active-filter-box__icon"})))}))}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(11),d=r(c),p=n(28),f=r(p),m=n(42),h=r(m),g=n(144),v=n(65),_=r(v),y=n(2970),b=r(y),E=u.default.createClass({displayName:"ApprovalEvent",propTypes:{createdAt:o.default.string.isRequired,status:o.default.node,evidences:o.default.arrayOf(g.ApprovalEvidenceSchema),children:o.default.node,user:h.default,icon:o.default.node},hasPrimaryAvatar:function(){return Boolean(this.props.icon||this.props.user)},hasSecondaryAvatar:function(){return Boolean(this.props.icon&&this.props.user)},renderPrimaryAvatar:function(){return this.props.icon||u.default.createElement(_.default,(0,s.default)({className:"avatar--small"},this.props.user))},renderSecondaryAvatar:function(){return u.default.createElement(_.default,(0,s.default)({className:"author--avatar"},this.props.user))},renderName:function(){return u.default.createElement("span",{className:"approval-event__name brand-color"},this.props.user.name)},renderStatus:function(){return this.props.status&&u.default.createElement("span",{className:"approval-event__status"},this.props.status)},render:function(){var e=this.props.evidences,t=e&&e.length>0,n=(0,f.default)("approval-event__content",{"single-line":this.hasPrimaryAvatar()&&!this.props.children&&!t});return u.default.createElement("li",{className:"approval-event"},u.default.createElement("div",{className:"approval-event__icon-container"},this.hasPrimaryAvatar()&&this.renderPrimaryAvatar()),u.default.createElement("div",{className:n},u.default.createElement("div",{className:"approval-event__header"},this.hasSecondaryAvatar()&&this.renderSecondaryAvatar(),this.props.user&&this.renderName(),this.renderStatus(),u.default.createElement("span",{className:"approval-event__created"},(0,d.default)(this.props.createdAt).format("LL"))),this.props.children&&u.default.createElement("div",{className:"approval-event__body"},this.props.children),t&&u.default.createElement(b.default,{evidences:e})))}});t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(65),d=r(c),p=n(124),f=r(p),m=n(104),h=r(m),g=n(28),v=r(g),_=u.default.createClass({displayName:"Approver",propTypes:{approver:h.default.isRequired,approverType:o.default.oneOf(["User","Group"]),avatarClassName:o.default.string,nameClassName:o.default.string,children:o.default.node},render:function(){var e=this.props,t=e.approver,n=e.approverType,r=e.avatarClassName,a=e.nameClassName,i="User"===n?d.default:f.default;return u.default.createElement("div",{className:"approver"},u.default.createElement(i,(0,s.default)({className:r},t)),u.default.createElement("span",{className:(0,v.default)("approver__name",a)},this.props.children||t.name))}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(11),l=r(o),u=n(94),c=r(u),d=n(3),p=n(649),f=r(p),m=s.default.createClass({displayName:"AuthorDueDateListItem",propTypes:{recordType:(0,d.oneOf)(["program","task","course"]),record:(0,d.oneOfType)([n(57),n(85),n(45)])},render:function(){var e=this.props.record.defaultDaysUntilDue||0,t=!1;return this.shouldRenderDueOn()?t=this.renderDueOnDate():e>0&&(t=this.renderDueWithin()),t?s.default.createElement("li",null,t):null},shouldRenderDueOn:function(){var e=this.props.record;return"fixed"===e.dueDateType&&!!e.defaultDueOnDate},renderDueWithin:function(){var e=this.props.record,t=e.defaultDaysUntilDue||0;return s.default.createElement("span",null,f.default.dueWithinText(t))},renderDueOnDate:function(){var e=this.props.record;return s.default.createElement("span",null,(0,l.default)().diff(e.defaultDueOnDate,"days")>0&&this.renderPastDueDateWarning(),f.default.dueOnText(e.defaultDueOnDate))},renderPastDueDateWarning:function(){var e=this.props.recordType;return s.default.createElement(c.default,null,s.default.createElement(c.default.Trigger,null,s.default.createElement(i.Icon,{className:"gs-caution gs-1x orange warning-icon","aria-hidden":"true"})),s.default.createElement(c.default.Content,{dark:!0},s.default.createElement("p",{className:"warning-message"},f.default.pastDueDateWarningText(e))))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(28),u=r(l);t.default=o.default.createClass({displayName:"AutoHeightTransition",propTypes:{children:s.default.node.isRequired,height:s.default.oneOfType([s.default.string,s.default.number]),className:s.default.string},getInitialState:function(){return{height:null}},getDefaultProps:function(){return{height:"auto"}},componentWillMount:function(){this.hasFixedHeight()&&this.setState({height:this.props.height})},componentDidUpdate:function(e){e.height!==this.props.height&&this.adjustHeight()},render:function(){var e=this.state.height;return o.default.createElement("div",{ref:this.setRoot,className:(0,u.default)("autoheight-transition",this.props.className),style:{height:null!=e?this.toUnits(e):null}},this.props.children)},setRoot:function(e){this.root=e},adjustHeight:function(){var e=this.root.scrollHeight;this.hasFixedHeight()?this.collapse(e,this.props.height):this.expand(e)},expand:function(e){var t=this,n=function e(){t.root.removeEventListener("transitionend",e),t.setState({height:null})};this.root.addEventListener("transitionend",n),this.root.style.height=this.toUnits(e)},collapse:function(e,t){var n=this;this.root.style.height=this.toUnits(e),requestAnimationFrame(function(){n.setState({height:t})})},toUnits:function(e){return"string"==typeof e?e:e+"px"},hasFixedHeight:function(){return null!=this.props.height&&"auto"!==this.props.height}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.bool,i=a.string,o=n(6),l=r.createClass({displayName:"BridgeLogo",propTypes:{hidden:s,className:i},getDefaultProps:function(){return{hidden:!1,className:""}},render:function(){return r.createElement("div",{className:this.getClassName()},r.createElement("svg",{className:"logo--bridge",x:"0px",y:"0px",viewBox:"-12.1 -5 93.2 64.4",enableBackground:"new -12.1 -5 93.2 64.4"},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{className:this.getElementName("wordmark"),d:"M-12.1,59.1V43.3h8.3c3,0,4.5,1.9,4.5,4c0,2-1.3,3.3-2.8,3.6c1.8,0.3,3,1.9,3,3.9 c0,2.4-1.5,4.3-4.6,4.3H-12.1z M-2.7,47.9c0-1-0.8-1.6-1.9-1.6h-4.3v3.3h4.3C-3.4,49.6-2.7,48.9-2.7,47.9z M-2.4,54.3 c0-1-0.8-1.8-2-1.8h-4.4v3.6h4.4C-3.2,56.1-2.4,55.4-2.4,54.3z"}),r.createElement("path",{className:this.getElementName("wordmark"),d:"M14.7,59.1l-3-5.6H9.2v5.6H5.8V43.3h7.4c3.3,0,5.3,2.1,5.3,5c0,2.8-1.8,4.3-3.5,4.6l3.5,6h-3.8V59.1z M15.1,48.4c0-1.3-1-2.1-2.4-2.1H9.2v4.3h3.5C14.1,50.6,15.1,49.7,15.1,48.4z"}),r.createElement("path",{className:this.getElementName("wordmark"),d:"M23.4,43.3h3.4v15.8h-3.4V43.3"}),r.createElement("path",{className:this.getElementName("wordmark"),d:"M31.7,59.1V43.3H38c4.9,0,8.4,3.1,8.4,7.9s-3.4,7.9-8.3,7.9L31.7,59.1L31.7,59.1z M42.9,51.2 c0-2.8-1.8-4.9-4.9-4.9h-2.9v9.9H38C41.1,56.1,42.9,53.9,42.9,51.2z"}),r.createElement("path",{className:this.getElementName("wordmark"),d:"M49.9,51.2c0-5,3.8-8.1,8.4-8.1c3.3,0,5.3,1.6,6.5,3.5l-2.8,1.5c-0.8-1.1-2.1-2-3.8-2 c-2.9,0-5,2.3-5,5.1c0,2.9,2.1,5.1,5,5.1c1.4,0,2.6-0.6,3.4-1.3v-1.9h-4.1v-2.8h7.5v6c-1.6,1.8-3.9,3-6.6,3 C53.7,59.3,49.9,56.2,49.9,51.2z"}),r.createElement("path",{className:this.getElementName("wordmark"),d:"M69.9,59.1V43.3h11.1v3h-7.8v3.3H81v3h-7.6v3.6h7.8v3H69.9V59.1z"}))))),r.createElement("path",{className:this.getElementName("bars"),d:"M14.7-4.6v39.7h39.7V-4.6H14.7z M26.6,28.5h-5.3v-6.4c1.8,0,3.6-0.3,5.3-0.5V28.5z M33.6,28.5h-5.3v-7.4 c1.9-0.5,3.6-1.3,5.3-2.1V28.5z M40.6,28.5h-5.3V18c1.9-1.3,3.8-2.6,5.3-4.3V28.5z M47.7,28.5h-5.3V11.9c2.3-2.9,4-6.1,5-9.8h0.3 V28.5z"}))))},getClassName:function(){return o({hidden:this.props.hidden})+(" "+this.props.className)},getElementName:function(e){return this.props.className+"__"+e}});e.exports=l},function(e,t,n){"use strict";var r=n(2),a=n(1),s=a.createClass({displayName:"Calendar",propTypes:{isComplete:r.bool},getDefaultProps:function(){return{isComplete:!1}},render:function(){var e=this.props.isComplete?"inverted":"inverted brand-fill";return a.createElement("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",className:"calendar-icon",height:"60",width:"60"},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("g",{className:"calendar"},a.createElement("g",{transform:"translate(2 57)",className:"days"},a.createElement("rect",{x:"228.6",y:"338.723",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"152.4",y:"338.723",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"76.2",y:"338.723",width:"50.8",height:"67.745"}),a.createElement("rect",{y:"338.723",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"457.2",y:"254.043",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"381",y:"254.043",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"304.8",y:"254.043",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"228.6",y:"254.043",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"152.4",y:"254.043",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"76.2",y:"254.043",width:"50.8",height:"67.745"}),a.createElement("rect",{y:"254.043",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"457.2",y:"169.362",width:"50.8",height:"67.745"}),a.createElement("rect",{className:e,x:"381",y:"169.362",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"304.8",y:"169.362",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"228.6",y:"169.362",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"152.4",y:"169.362",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"76.2",y:"169.362",width:"50.8",height:"67.745"}),a.createElement("rect",{y:"169.362",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"457.2",y:"84.681",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"381",y:"84.681",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"304.8",y:"84.681",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"228.6",y:"84.681",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"152.4",y:"84.681",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"76.2",y:"84.681",width:"50.8",height:"67.745"}),a.createElement("rect",{y:"84.681",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"457.2",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"381",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"304.8",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"228.6",width:"50.8",height:"67.745"}),a.createElement("rect",{x:"152.4",width:"50.8",height:"67.745"})))))}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(297),g=r(h),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.title;return e?f.default.createElement("div",{className:"task-attachments__header--title"},this.renderIcon(),f.default.createElement("h3",null," ",e," ")):null}},{key:"renderIcon",value:function(){return f.default.createElement(g.default,{attachmentCount:this.props.attachmentCount,className:"task-attachments__header--attachment-icon"})}}]),t}(f.default.Component);v.propTypes={title:m.string,attachmentCount:m.number},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(1),o=r(i),l=n(2),u=r(l),c=n(6),d=r(c),p=n(428),f=r(p),m=n(37),h=r(m),g=n(389),v=n(447),_=r(v),y=n(66),b=r(y),E=n(12);t.default=o.default.createClass({displayName:"CheckpointFooter",mixins:[(0,h.default)({mobile:h.default.QUERY_MOBILE})],propTypes:{title:u.default.node.isRequired,subtitle:u.default.node,children:u.default.node.isRequired,collapsible:u.default.bool,isDark:u.default.bool,isOpen:u.default.bool},getInitialState:function(){return{collapsed:!0,animation:null}},getDefaultProps:function(){return{subtitle:null,collapsible:!0,isDark:!1,isOpen:!0}},componentDidMount:function(){this.handleResize(),this.handleResize=(0,b.default)(this.handleResize,E.GENERAL_DEBOUNCE_MS),window.addEventListener("resize",this.handleResize)},componentWillUnmount:function(){this.handleResize.cancel(),window.removeEventListener("resize",this.handleResize)},componentWillUpdate:function(e){var t=e.isOpen&&!this.props.isOpen,n=!e.isOpen&&this.props.isOpen;t?this.slideIn():n&&this.slideOut()},handleResize:function(){this.props.isOpen&&this.syncHeight()},isMobile:function(){return this.state.media.mobile},isCollapsible:function(){return this.props.collapsible&&this.isMobile()&&!(0,g.isUnderAllyRouter)()},toggle:function(e){var t=this;e.preventDefault(),this.setState({collapsed:!this.state.collapsed},function(){var e=t.fixedNode.querySelector(".autoheight-transition");t.state.collapsed?t.node.style.height=t.node.offsetHeight-e.offsetHeight+"px":t.node.style.height=e.scrollHeight+t.node.offsetHeight+"px"})},slideIn:function(){this.setState({animation:"slide-in",collapsed:!0},this.syncHeight)},slideOut:function(){var e=this;this.setState({animation:"slide-out"},function(){e.node.style.height=0})},syncHeight:function(){var e=this.node,t=this.fixedNode;e&&t&&(e.style.height=t.offsetHeight+"px")},setNode:function(e){this.node=e},setFixedNode:function(e){this.fixedNode=e},renderTitle:function(e){return o.default.createElement("h3",{key:"title",onClick:this.toggle,className:"checkpoint-footer__title"},this.props.title,e&&o.default.createElement(_.default,{collapsed:this.state.collapsed}))},renderSubtitle:function(){var e=this.props.subtitle;return e?o.default.createElement("p",{className:"checkpoint-footer__subtitle"},e):null},renderContent:function(){return o.default.createElement("div",{key:"content",className:"checkpoint-footer__content"},this.props.children)},renderMobile:function(e){return[this.renderTitle(e),o.default.createElement(f.default,{key:"transition",height:e&&this.state.collapsed?0:"auto"},this.renderSubtitle(),this.renderContent())];
},renderDesktop:function(){return[o.default.createElement("div",{key:"text",className:"checkpoint-footer__text"},this.renderTitle(!1),this.renderSubtitle()),this.renderContent()]},render:function(){var e=this.props.isOpen,t=this.state.animation,n=this.isCollapsible(),r=(0,d.default)("checkpoint-footer",(0,s.default)({"checkpoint-footer--collapsed":n&&this.state.collapsed,"checkpoint-footer--dark":this.props.isDark,"checkpoint-footer--hidden":!e},"checkpoint-footer--"+t,!!t));return o.default.createElement("div",{"aria-hidden":!e,className:r,ref:this.setNode},o.default.createElement("div",{className:"checkpoint-footer__fixed",ref:this.setFixedNode},o.default.createElement("div",{className:"checkpoint-footer__centered"},this.isMobile()?this.renderMobile(n):this.renderDesktop())))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s=n(9),i=r(s),o=n(38),l=r(o),u=n(1),c=r(u),d=n(11),p=r(d),f=n(6),m=r(f),h=n(13),g=r(h),v=n(61),_=r(v),y=n(3),b=n(12),E=(a={},(0,l.default)(a,b.LEARNING_ITEM_COURSE_TYPE,"learner.course.launch"),(0,l.default)(a,b.LEARNING_ITEM_LIVE_COURSE_TYPE,"learner.live_training_calendar"),(0,l.default)(a,b.LEARNING_ITEM_TASK_TYPE,"learner.checkpoint"),(0,l.default)(a,b.LEARNING_ITEM_LTI_CONTENT_ITEM_TYPE,"learner.lti_content_item"),a),C=c.default.createClass({displayName:"CourseListLink",propTypes:{courseId:(0,y.oneOfType)([y.string,y.number]),itemLink:y.string,linkText:y.string.isRequired,programId:y.string,className:y.string,highlight:y.string,isLearner:y.bool,learnableType:y.string,isEnrolled:y.bool,enrollmentUuid:y.string,dataCapybara:y.string},getDefaultProps:function(){return{isLearner:!0,learnableType:"CourseTemplate",isEnrolled:!0}},render:function(){var e=(0,m.default)("course-list-item__course-link",this.props.className),t=this.getNavigationProps();return c.default.createElement(g.default,(0,i.default)({},t,{className:e,dataCapybara:this.props.dataCapybara}),c.default.createElement(_.default,{text:this.props.linkText,highlight:this.props.highlight}))},getNavigationProps:function(){var e=this.props,t=e.isEnrolled,n=e.enrollmentUuid,r=e.courseId,a=e.programId,s=e.isLearner,o=e.learnableType,l={programId:a};o===b.LEARNING_ITEM_LIVE_COURSE_TYPE&&(l=(0,i.default)({},l,{liveCourseId:r,date:(0,p.default)().format("YYYY-MM-DD")}));var u={};return u=!r&&a?{programId:a,params:[{programId:a}],to:s?"learner.program":"react.author.program"}:o===b.LEARNING_ITEM_COURSE_TYPE&&!t&&n?{params:[{courseUuid:n}],to:"learner.course.enroll"}:{courseId:r,params:[{courseId:r}],queryParams:l,to:this.props.itemLink||E[o]}}});e.exports=C},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(91),i=function(){return[I18n.t("S"),I18n.t("M"),I18n.t("T"),I18n.t("W"),I18n.t("T"),I18n.t("F"),I18n.t("S")]},o=Array.apply(null,Array(7)).map(function(){return!1});e.exports=a.createClass({displayName:"DaysOfWeekPicker",statics:{densifyDaysOfWeek:function(e){return i().map(function(t,n){return!(!Array.isArray(e)||!e[n])})}},propTypes:{days:r.arrayOf(r.bool),onChange:r.func.isRequired},getDefaultProps:function(){return{days:o}},handleOnChange:function(e,t){this.props.onChange(e,t.target.checked)},getDays:function(){return this.props.days||o},renderDay:function(e,t,n){return a.createElement("div",{key:e,className:"days-of-week__day"},a.createElement(s,{checkboxClassName:"days-of-week__day__checkbox",labelClassName:"days-of-week__day__label",checked:n,onChange:this.handleOnChange.bind(this,e)},t))},renderDays:function(){var e=this;return i().map(function(t,n){return e.renderDay(n,t,e.getDays()[n])})},render:function(){return a.createElement("div",{className:"days-of-week-picker"},this.renderDays())}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(78),h=r(m),g=n(6),v=r(g),_=n(3),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.nested,r=e.contentLabel,a=e.closeOnOverlayClick,s=(0,v.default)({"drawer-modal__modal":!0,"drawer-modal__modal--nested":n},t),i=(0,v.default)({"drawer-modal__overlay":!0,"drawer-modal__overlay--nested":n});return f.default.createElement(h.default,{isOpen:!0,shouldCloseOnOverlayClick:a,className:s,overlayClassName:i,contentLabel:r},this.props.children)}}]),t}(f.default.Component);y.propTypes={nested:_.bool,closeOnOverlayClick:_.bool,className:_.string,contentLabel:_.string,children:(0,_.oneOfType)([(0,_.arrayOf)(_.node),_.node])},y.defaultProps={nested:!1,contentLabel:"",closeOnOverlayClick:!1},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(69),o=r(i),l=n(132),u=r(l),c=n(55),d=r(c),p=n(3),f=n(12),m=n(5),h={course_template:"course",live_course:"live course",program:"program"},g=s.default.createClass({displayName:"ExpireReEnrollSettings",propTypes:{course:(0,p.shape)({id:p.string,expires:p.bool,defaultDaysUntilExpiration:p.number,autoReEnroll:p.bool,reEnrollmentPeriod:p.number,defaultDueOnDate:p.string}).isRequired,courseType:p.string,canExpire:p.bool,minDaysUntilExpiration:p.number,onExpiresChanged:p.func,onAutoReEnrollChanged:p.func,onDefaultDaysUntilExpirationChanged:p.func,onReEnrollmentPeriodChanged:p.func},getDefaultProps:function(){return{minDaysUntilExpiration:1}},render:function(){var e=this.props,t=e.course,n=e.canExpire;return s.default.createElement("div",{className:"course-settings-meta-expando"},s.default.createElement(u.default.Label,{key:"expire-0"},I18n.t("Expires")),s.default.createElement(u.default.Field,{key:"expire-1","data-capybara":"course-settings__expires"},s.default.createElement(d.default,{disabled:!n,checked:t.expires,onChange:this.updateExpires})),s.default.createElement("div",null,t.expires&&s.default.createElement(u.default.CellAdditional,{key:"expire-2","data-capybara":"course-settings__days-until-expired"},s.default.createElement("div",{className:"course-meta-grid__cell--additional__body"},s.default.createElement("ul",{className:"list--slashed"},s.default.createElement("li",{"data-capybara":"course-settings__valid_for"},I18n.t("Valid For"),s.default.createElement(o.default,{growInPlace:!0,value:String(t.defaultDaysUntilExpiration||365),readOnly:!n,onChange:this.updateDefaultDaysUntilExpiration,validEditRegex:/^\d*$/,inputClassNames:"light blue-grey border-trbl"},s.default.createElement("span",{className:n&&"blue"},I18n.t("day",{count:t.defaultDaysUntilExpiration||365})))),s.default.createElement("li",{"data-capybara":"course-settings__auto-re-enroll"},I18n.t("Auto Re-Enroll"),s.default.createElement(d.default,{disabled:!n,checked:t.autoReEnroll,onChange:this.updateAutoReEnroll}))),t.autoReEnroll&&s.default.createElement("div",{className:"light small dark-grey","data-capybara":"course-settings__re-enroll-tip"},I18n.t("Learners will be given"),s.default.createElement(o.default,{growInPlace:!0,value:String(t.reEnrollmentPeriod),readOnly:!n,onChange:this.updateReEnrollmentPeriod,validEditRegex:/^\d*$/,inputClassNames:"light blue-grey border-trbl","data-capybara":"course-settings__re-enroll-tip-text"},s.default.createElement("span",{className:n&&"blue"},I18n.t("day",{count:t.reEnrollmentPeriod}))),I18n.t("to complete this %{learnableTypeName} before it expires.",{learnableTypeName:h[this.props.courseType]})),t.autoReEnroll&&!!t.defaultDueOnDate&&this.renderPastWarning()))))},renderPastWarning:function(){return s.default.createElement("div",{className:"due-date__warning"},s.default.createElement(m.Icon,{className:"gs-caution gs-1.5x orange warning-icon pure-u-1-12","aria-hidden":"true"}),s.default.createElement("div",{className:"pure-u-11-12"},I18n.t('You have set a fixed due date above. If you leave "Auto Re-Enroll" enabled, learners may be overdue as soon as they are re-enrolled.')))},updateExpires:function(e){this.props.onExpiresChanged(e.target.checked)},updateDefaultDaysUntilExpiration:function(e){var t=parseInt(e,10);this.props.minDaysUntilExpiration<=t&&this.props.onDefaultDaysUntilExpirationChanged(t)},updateAutoReEnroll:function(e){this.props.onAutoReEnrollChanged(e.target.checked)},updateReEnrollmentPeriod:function(e){var t=parseInt(e,10),n=this.props.course.defaultDaysUntilExpiration||f.DEFAULT_DAYS_UNTIL_EXPIRATION;t<=n&&this.props.onReEnrollmentPeriodChanged(t)}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(6),u=r(l),c=n(5),d=n(3),p=s.default.createClass({displayName:"Explainer",propTypes:{children:d.node,className:d.string,onToggle:d.func,alwaysShowButton:d.bool.isRequired,openHelp:d.string,closeHelp:d.string},getDefaultProps:function(){return{alwaysShowButton:!1}},getInitialState:function(){return{isOpen:!1}},componentDidMount:function(){o.default.findDOMNode(this).parentNode.classList.add("explainer__parent")},render:function(){var e=(0,u.default)("explainer",this.props.className,{"is-open":this.state.isOpen,"show-button":this.props.alwaysShowButton});return s.default.createElement("div",{className:e},this.renderOpenCloseButton(),s.default.createElement("div",{className:"container"},this.renderExplanation()))},buttonHelpText:function(){return this.state.isOpen&&this.props.closeHelp?this.props.closeHelp:!this.state.isOpen&&this.props.openHelp?this.props.openHelp:""},renderOpenCloseButton:function(){var e=this.state.isOpen;return s.default.createElement("button",{className:"btn btn--reset "+(e?"close":"open"),onClick:e?this.close:this.open},this.buttonHelpText(),s.default.createElement(c.Icon,{className:"dark-grey gs-"+(e?"x":"help")}))},renderExplanation:function(){return this.state.isOpen?s.default.createElement("div",{className:"explanation"},this.props.children):null},open:function(){this.setState({isOpen:!0}),this.props.onToggle&&this.props.onToggle(!0)},close:function(){this.setState({isOpen:!1}),this.props.onToggle&&this.props.onToggle(!1)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(173),s=n(269),i=n(372),o=n(363),l=n(26),u=n(5),c=u.Icon,d=n(3),p=d.func,f=r.createClass({displayName:"FilterSort",propTypes:{sortOptions:i.propTypes.sortOptions,filterOptions:o.propTypes.filterOptions,activeSort:i.propTypes.activeSort,activeFilters:o.propTypes.activeFilters,onChange:p.isRequired},onChangeSort:function(e){this.props.onChange({sort:e})},onChangeFilters:function(e){this.props.onChange({filters:e})},renderDefaultTrigger:function(){return r.createElement("span",null,l.t("Sort & Filter")," ",r.createElement(c,{className:"gs-arrow-down gs-half",key:"button-icon"}))},render:function(){return r.createElement(a,{align:"right"},r.createElement(a.Trigger,null,r.createElement(s,{className:"right"},this.renderDefaultTrigger())),r.createElement(a.Content,null,r.createElement("div",{className:"filter-sort-selector"},r.createElement("h3",{className:"bold padding-s small white-bg sort-selector__header"},r.createElement(c,{className:"gs-sort margin-r-xs leading-condensed text-above-baseline-10"}),l.t("Sort by")),r.createElement(i,{sortOptions:this.props.sortOptions,activeSort:this.props.activeSort,onChange:this.onChangeSort}),r.createElement("h3",{className:"bold padding-s small white-bg filter-selector__header"},r.createElement(c,{className:"gs-filter gs-1x margin-r-xs"}),l.t("Filter by")),r.createElement(o,{filterOptions:this.props.filterOptions,activeFilters:this.props.activeFilters,onChange:this.onChangeFilters}))))}});e.exports=f},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=a.bool,o=a.func,l=a.oneOf,u=a.string,c=n(26),d=n(4),p=d.groupBy,f=n(300),m=n(5),h=m.Loader,g=n(176),v="zzz",_=r.createClass({displayName:"GroupedTagListings",propTypes:{tags:s(g).isRequired,highlightedTags:s(g),onTagClick:o,isLoading:i,sort:l(["asc","desc"]),searchTerm:u},getDefaultProps:function(){return{highlightedTags:[],onTagClick:Function.prototype,sort:"asc"}},render:function(){return r.createElement("div",{className:"grouped-tag-listings"},this.props.isLoading?r.createElement(h,null):this.renderTags())},renderTags:function(){var e=this,t=this.props,n=t.searchTerm,r=t.tags,a=this.filteredTags(r,n);return a.length>0?this.groupedTags(a).map(function(t){return e.renderTagGroup.apply(e,t)}):c.t("No results found")},renderTagGroup:function(e,t){var n=e===v?"0-9+":e,a=this.props.highlightedTags.map(function(e){return e.name});return r.createElement("div",{className:"grouped-tag-listings__group",key:"tag-group__"+e},r.createElement("span",{className:"grouped-tag-listings__group-name"},n),r.createElement(f,{tags:t,highlightedTags:a,onClick:this.props.onTagClick}))},groupedTags:function e(t){t=t||this.props.tags;var e=p(t.map(function(e){return e.name}),function(e){var t=e[0].toLowerCase();return t.match(/[a-z]/)?t:v}),n=Object.keys(e),r="desc"===this.props.sort?n.sort().reverse():n.sort();return r.map(function(t){return[t,e[t]]})},filteredTags:function(e,t){return e=e||this.props.tags,t&&t.length>0?e.filter(function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())!==-1}):e}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=/(https?\:\/\/[\w-.]+\.[a-z]+(?:(?:\:\d+)?\/\S*)?)/gi,u=o.default.createClass({displayName:"HyperText",propTypes:{className:s.default.string,children:s.default.node},parseString:function(e,t){var n=e.split(l);return n.map(function(e){return l.test(e)?o.default.createElement("a",{className:t,href:e,children:e,target:"_blank"}):e})},parse:function(e,t){var n=this;return o.default.Children.map(e,function(e){return o.default.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?o.default.cloneElement(e,{},n.parse(e.props.children,t)):"string"==typeof e?n.parseString(e,t):e})},render:function(){var e=this.props.className||"hyper-text";return o.default.createElement("span",null,this.parse(this.props.children,e))}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(64),s=n(60),i=n(6),o=n(2),l=o.string,u=o.func,c=o.object,d=r.createClass({displayName:"LocaleSelector",propTypes:{selectedValue:l,className:l,id:l,onChange:u,locales:c},getDefaultProps:function(){return{onChange:Function.prototype,id:"locale-selector"}},createOptions:function(e){return"undefined"==typeof e?[]:Object.keys(e).map(function(t){return{abbreviation:t,name:e[t].locales[t]}})},renderOption:function(e){return r.createElement(s,{key:e.abbreviation,value:e.abbreviation,label:e.name})},render:function(){var e=this.createOptions(this.props.locales);return r.createElement("div",null,r.createElement(a,{selectedValue:this.props.selectedValue,className:i(this.props.className,"combobox--language-selector"),id:this.props.id+"_combo",onChange:this.props.onChange},e.map(this.renderOption)))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LockableLockedDialogOptions=void 0;var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(65),v=r(g),_=n(2),y=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.lockableType;if(!t)return null;var r=I18n.t("*%{name}* is currently editing this %{lockableType}. You'll have to try back later",{lockableType:n,name:t.name,wrappers:['<span class="name">$1</span>']});return h.default.createElement("div",null,h.default.createElement("div",{className:"header"},I18n.t("Uh oh, the way is shut.")),h.default.createElement(v.default,(0,s.default)({},t,{className:"centered avatar--medium"})),h.default.createElement("p",{dangerouslySetInnerHTML:{__html:r}}))}}]),t}(m.PureComponent);y.propTypes={lockableType:_.string.isRequired,user:(0,_.shape)({id:_.string.isRequired,name:_.string.isRequired})},t.default=y;t.LockableLockedDialogOptions={position:{my:"top center",at:"bottom center"},style:{def:!1,classes:"course-locking__item-popup",tip:{border:0,width:32,height:20}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2),o=n(6),l=r(o),u=s.default.createClass({displayName:"LyndaLogo",propTypes:{hidden:i.bool,className:i.string},getDefaultProps:function(){return{hidden:!1,className:""}},render:function(){return s.default.createElement("div",{className:this.getClassName()},s.default.createElement("svg",{className:"logo--lynda",width:"129",height:"30",viewBox:"0 0 129 32",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("title",null,I18n.t("Lynda")),s.default.createElement("g",{fill:"none",fillRule:"evenodd"},s.default.createElement("path",{className:"logo--lynda--content",d:"M48.864 20.646c-.203.205-.306.455-.306.75 0 .288.103.536.306.746.207.21.452.31.74.31.295 0 .54-.1.743-.31.208-.21.31-.458.31-.747 0-.294-.102-.544-.31-.75-.203-.205-.448-.307-.742-.307-.29 0-.534.102-.74.308"}),s.default.createElement("path",{className:"logo--lynda--content",d:"M.075 22.204H2.4V9.427H.076M3.454 12.985h2.37l2.382 5.748 2.64-5.748h2.392L7.46 25.58H5.07l1.89-4.076-3.506-8.52M14.556 12.985h2.326v.95c.523-.437.996-.746 1.42-.918.425-.168.856-.26 1.303-.26.91 0 1.685.322 2.317.957.532.542.8 1.345.8 2.404v6.086h-2.32v-4.032c0-1.097-.053-1.824-.148-2.185-.1-.36-.268-.638-.51-.824-.238-.192-.537-.282-.89-.282-.463 0-.858.156-1.19.467-.327.312-.556.745-.685 1.298-.068.285-.098.91-.098 1.866v3.694h-2.326v-9.22M29.327 14.88c-.718 0-1.314.25-1.786.756-.473.503-.712 1.15-.712 1.943 0 .792.242 1.445.724 1.96.48.512 1.08.77 1.784.77.725 0 1.332-.254 1.812-.757.477-.505.72-1.165.72-1.986 0-.8-.243-1.45-.72-1.943-.48-.497-1.088-.743-1.82-.743zm2.44-5.453h2.32v12.777h-2.32v-.983c-.453.43-.906.738-1.362.923-.455.19-.95.286-1.48.286-1.193 0-2.226-.46-3.096-1.383-.872-.92-1.306-2.066-1.306-3.44 0-1.416.42-2.58 1.262-3.484.84-.91 1.867-1.365 3.072-1.365.55 0 1.072.107 1.56.31.487.21.936.52 1.348.936V9.427zM40.79 14.88c-.717 0-1.313.25-1.79.756-.472.503-.71 1.15-.71 1.943 0 .792.244 1.445.723 1.96.485.512 1.08.77 1.785.77.727 0 1.332-.254 1.814-.757.48-.505.72-1.165.72-1.986 0-.8-.24-1.45-.72-1.943-.482-.497-1.087-.743-1.823-.743zm2.44-1.895h2.324v9.22H43.23v-.984c-.45.43-.907.738-1.364.923-.456.19-.95.286-1.478.286-1.193 0-2.224-.46-3.096-1.383-.87-.92-1.308-2.066-1.308-3.44 0-1.416.42-2.58 1.265-3.484.84-.91 1.866-1.365 3.07-1.365.553 0 1.076.107 1.56.31.486.21.934.52 1.35.933v-1.015zM48.614 20.636c-.2.204-.303.45-.303.743 0 .286.103.533.304.742.204.205.448.307.734.307.29 0 .534-.103.735-.308.206-.21.31-.456.31-.743 0-.293-.104-.54-.31-.744-.2-.204-.444-.306-.735-.306-.286 0-.53.102-.734.306M61.8 14.888l-.94.588c-.812-1.084-1.92-1.625-3.32-1.625-1.123 0-2.055.36-2.797 1.084-.743.722-1.11 1.603-1.11 2.633 0 .672.173 1.307.512 1.9.34.592.807 1.05 1.405 1.38.59.33 1.257.492 1.998.492 1.35 0 2.455-.544 3.31-1.625l.942.617c-.44.664-1.032 1.18-1.776 1.548-.742.363-1.59.55-2.538.55-1.455 0-2.662-.463-3.628-1.388-.96-.923-1.436-2.048-1.436-3.37 0-.893.223-1.72.675-2.482.445-.763 1.063-1.36 1.846-1.79.786-.427 1.667-.642 2.64-.642.606 0 1.195.093 1.763.277.57.188 1.05.426 1.444.723.398.295.734.674 1.01 1.13M68.458 13.91c-.984 0-1.826.365-2.533 1.092-.707.728-1.058 1.607-1.058 2.635 0 .666.16 1.286.484 1.86.322.572.755 1.02 1.306 1.327.545.317 1.148.473 1.802.473.654 0 1.252-.156 1.805-.473.546-.307.98-.755 1.298-1.327.328-.574.488-1.194.488-1.86 0-1.028-.357-1.907-1.067-2.635-.703-.727-1.547-1.092-2.522-1.092zm.004-1.152c1.42 0 2.592.514 3.524 1.54.852.934 1.275 2.043 1.275 3.32 0 1.286-.447 2.406-1.344 3.368-.9.962-2.048 1.443-3.454 1.443-1.414 0-2.57-.482-3.467-1.444-.894-.962-1.34-2.082-1.34-3.368 0-1.27.42-2.377 1.27-3.31.93-1.03 2.113-1.55 3.537-1.55zM75.45 12.985h1.196v1.593c.414-.585.838-1.018 1.273-1.29.6-.35 1.23-.53 1.89-.53.452 0 .878.09 1.28.264.398.177.73.408.98.7.26.29.48.707.667 1.25.394-.722.885-1.27 1.478-1.648.587-.377 1.222-.566 1.904-.566.634 0 1.195.163 1.678.485.485.322.848.768 1.086 1.345.232.575.356 1.437.356 2.59v5.026h-1.194V17.18c0-.99-.07-1.665-.212-2.038-.144-.37-.385-.668-.722-.892-.34-.223-.746-.34-1.222-.34-.573 0-1.1.17-1.578.508-.475.34-.82.79-1.042 1.354-.218.564-.326 1.508-.326 2.826v3.606h-1.197V17.49c0-1.11-.066-1.863-.208-2.263-.138-.397-.38-.716-.724-.954-.34-.24-.753-.363-1.23-.363-.545 0-1.062.17-1.534.498-.48.328-.834.774-1.063 1.334-.228.556-.344 1.41-.344 2.56v3.902H75.45v-9.22"}),s.default.createElement("g",null,s.default.createElement("path",{className:"logo--lynda--content",d:"M128.335 27.376c0-.274-.068-.537-.21-.78-.14-.242-.328-.435-.567-.574-.24-.14-.497-.212-.775-.212s-.538.07-.782.212c-.24.14-.433.332-.572.575-.138.242-.208.505-.208.784 0 .28.07.54.208.778.14.24.332.434.575.573.245.142.504.21.78.21.275 0 .532-.07.775-.21.24-.14.43-.333.57-.573.14-.24.207-.5.207-.78zm.197-.003c0 .316-.078.61-.234.88-.157.27-.372.484-.644.642-.27.16-.564.238-.876.238-.31 0-.603-.08-.875-.237-.272-.157-.487-.372-.643-.64-.157-.274-.237-.563-.237-.874 0-.312.08-.606.237-.88.156-.273.37-.49.642-.645.272-.157.565-.235.876-.235.313 0 .605.078.875.232.27.157.485.372.642.645.158.274.237.566.237.873z"}),s.default.createElement("path",{className:"logo--lynda--content",d:"M126.932 27.28c.047-.008.09-.024.124-.048.036-.022.065-.052.087-.093.022-.038.033-.09.033-.153 0-.085-.024-.156-.072-.212-.05-.052-.126-.08-.234-.08h-.43v.597h.34c.053 0 .102-.004.152-.012zm-.05-.776c.164 0 .292.04.383.12.092.08.137.187.137.328 0 .103-.023.194-.07.272-.048.08-.122.133-.228.16v.006c.05.008.09.025.123.047.03.024.055.05.073.082.02.03.034.064.042.103.01.037.015.078.02.12l.008.126c0 .042.005.084.013.127.005.04.013.08.026.12.01.035.028.067.052.098h-.253c-.018-.018-.027-.042-.033-.072-.006-.03-.01-.064-.01-.102l-.007-.12c-.002-.044-.006-.086-.013-.127-.006-.042-.014-.082-.023-.12-.012-.036-.027-.07-.047-.098-.02-.028-.05-.05-.08-.066-.036-.017-.08-.028-.136-.028h-.42v.733h-.228v-1.71h.67z"}),s.default.createElement("path",{fill:"#FFFFFF",d:"M126.412 15.795c0 8.37-6.784 15.156-15.155 15.156-8.37 0-15.155-6.784-15.155-15.155 0-8.37 6.784-15.155 15.155-15.155 8.37 0 15.155 6.785 15.155 15.155"}),s.default.createElement("path",{fill:"#FFFFFF",strokeWidth:".088",d:"M126.412 15.795c0 8.37-6.784 15.156-15.155 15.156-8.37 0-15.155-6.784-15.155-15.155 0-8.37 6.784-15.155 15.155-15.155 8.37 0 15.155 6.785 15.155 15.155z"}),s.default.createElement("path",{d:"M109.675 12.137c-.172-.078-.357-.276-.58-.58l2.003.502c-.778.13-1.24.17-1.423.077zm8.872-.962c-.108-.066-.2-.133-.277-.21-.067-.066-.053-.25.04-.542.013.172.092.41.237.752zm-6.527 2.36c.04.052-.065.106-.343.106h-.79c-.16 0-.29 0-.41.04l-.222-.158-.29-.092c.092-.24.21-.357.34-.383l.213.132.264-.133c.71.198 1.12.343 1.238.488zm-.778.515c.133-.014.344-.08.632-.173.266-.105.41-.145.41-.145.08.028-.065.134-.423.328-.354.2-.657.28-.895.267-.237-.028-.434-.08-.594-.16-.235-.107-.327-.25-.287-.435.026.106.077.172.157.21.065.028.2.067.41.094.238.04.434.04.592.014zm5.88-5.92c-.093-.145-.157-.292-.212-.41-2.003-.684-3.478-2.267-4.414-4.717-1.912 1.554-3.14 3.03-3.68 4.427.304.04.555.147.78.318.092.08.17.144.222.223.03-.037.053-.078.094-.104.184-.21.46-.317.804-.317.355 0 .622.105.817.316.027.026.053.067.077.105.067-.078.135-.156.225-.222.278-.212.62-.33 1.016-.33.397 0 .725.118 1.014.33.16.132.28.276.345.436h.606v.34h-.542v.014c0 .304-.144.567-.41.792-.29.21-.617.33-1.013.33-.394 0-.737-.12-1.015-.33-.29-.225-.42-.488-.42-.792 0-.065 0-.118.013-.17-.067-.316-.29-.488-.712-.488-.423 0-.66.184-.713.527v.013l-.25.764c-.04.053-.09.093-.158.146-.277.21-.618.33-1.014.33h-.053c.078.987.276 1.87.634 2.674.107.266.278.58.475.938.198.342.317.58.368.698.054.145.106.37.157.646.053.302.11.512.145.63.173.464.568.767 1.187.912.66.145 1.175.185 1.543.13.146-.024.303-.064.476-.117l.474-.183c.476-.158 1.78-1.054 3.9-2.663-.815.975-1.42 1.647-1.816 2.043-.172.17-.66.592-1.44 1.265l3.364 4.35 3.6-2.427-.45-.604-3.138-.013-.012-6.184c.24.188.462.254.686.198.222-.063.316-.42.275-1.05.224-1.083.133-1.834-.3-2.244h-.475c.17.132.25.29.25.45 0 .052-.014.105-.026.17-.067.186-.2.46-.423.83v-.013.028h-.015v.014c0 .014-.012.027-.026.052l-.12.237c-.09.184-.103.37-.05.566.103.342-.068.553-.49.66.026-.21-.025-.37-.145-.475-.197-.158-.317-.29-.354-.382-.08-.158-.066-.33.052-.527l.367-.502c.252-.407.317-.79.186-1.12-.014-.04-.037-.08-.053-.12h-1.646v-.34h1.46c-.012-.015-.024-.028-.024-.055z"}),s.default.createElement("path",{fill:"#000000",d:"M109.095 11.557c.223.304.408.502.58.58.184.092.645.054 1.423-.078l-2.003-.503zm9.175-.593c.078.078.17.145.277.21-.145-.34-.224-.58-.237-.75-.093.29-.107.475-.04.54zm-6.593 2.677c.278 0 .384-.053.343-.105-.118-.145-.528-.29-1.238-.488l-.264.132-.213-.133c-.13.026-.248.144-.34.383l.29.092.223.157c.12-.04.25-.04.41-.04h.79zm.197.237c-.288.093-.5.16-.632.173-.158.027-.354.027-.593-.014-.21-.027-.345-.066-.41-.093-.08-.04-.13-.105-.157-.21-.04.184.052.327.288.434.16.08.358.132.595.16.238.012.54-.068.896-.267.36-.194.503-.3.424-.328 0 0-.144.04-.41.145zm5.867 7.303h-.01l-1.978 1.585c-.305-.74-.515-1.427-.687-2.06-.184-.75-.21-1.2-.078-1.32.25-.223.447-.474.62-.748.012-.028.038-.068.067-.092 0-.015 0-.015.013-.015l2.042 2.65h.01zm4.484-2.635l.014-.015v-.013c.25.145.486.342.71.593.186.2.317.395.408.58.054.08.082.158.107.25.037.2-.422.672-1.397 1.427-.856.657-1.858 1.34-3.005 2.04h-.013l-.87-2.135 4.047-2.727zm-14.62-.13h.014-.013l.408.313-6.948 1.318-2.32-2.267.527-.186c.252.053.502.132.765.238.397.145.645.304.766.45.21.248.3.71.262 1.382l-.024.356.276-.223c.58-.488 1.135-.78 1.647-.87.33-.068 1.215-.172 2.625-.318l2.017-.196zm.41-10.088v.33h.29c.024.08.103.118.25.118.064 0 .13-.024.184-.066.026-.013.04-.026.052-.054h.885c-.04.173-.147.305-.32.436-.21.145-.47.223-.774.223-.304 0-.554-.078-.776-.223-.212-.158-.317-.34-.317-.554 0-.223.105-.41.317-.553.222-.158.472-.237.777-.237.304 0 .566.08.776.237.147.09.24.21.29.342h-1.633zm10.783 3.93c.117 0 .224.052.303.13.09.092.132.198.132.302 0 .12-.04.225-.132.303-.08.093-.186.132-.303.132-.12 0-.212-.04-.304-.132-.08-.078-.12-.184-.12-.304 0-.105.04-.21.12-.303.092-.078.185-.13.304-.13zm-7.04-3.863c0-.014.013-.055.025-.133.028-.065.12-.17.28-.275.222-.158.472-.237.79-.237.288 0 .554.08.777.237.13.09.234.21.274.342h-1.566v.33h.275c.028.08.107.118.238.118.147 0 .224-.04.263-.12h.818c-.026.174-.13.306-.3.437-.224.145-.49.223-.78.223-.316 0-.566-.078-.79-.223-.212-.158-.315-.34-.315-.554 0-.052 0-.105.012-.144zm5.153-.675c.055.118.12.265.213.41 0 .026.012.04.024.054h-1.46v.34h1.646c.016.04.04.08.053.12.13.33.066.713-.187 1.12l-.368.502c-.118.197-.133.37-.05.527.036.092.156.224.353.382.12.104.17.266.145.475.422-.107.593-.318.49-.66-.053-.197-.04-.383.05-.567l.12-.237c.013-.025.025-.038.025-.052v-.013c.014 0 .014 0 .014-.013v-.014.014c.223-.37.355-.645.422-.83.012-.066.025-.12.025-.172 0-.158-.08-.317-.25-.45h.475c.434.41.525 1.162.3 2.244.042.63-.052.987-.274 1.05-.224.057-.447-.01-.686-.197l.012 6.184 3.138.014.45.605-3.6 2.428-3.364-4.35c.78-.674 1.268-1.097 1.44-1.266.395-.396 1-1.068 1.817-2.043-2.12 1.61-3.425 2.505-3.9 2.663l-.474.184c-.172.054-.33.094-.475.12-.368.053-.882.013-1.543-.132-.62-.145-1.014-.448-1.187-.91-.036-.12-.092-.33-.145-.632-.05-.277-.103-.5-.157-.646-.05-.12-.17-.356-.368-.698-.197-.357-.368-.672-.474-.938-.357-.805-.555-1.687-.633-2.675h.054c.397 0 .738-.12 1.015-.33.067-.053.118-.093.16-.146l.248-.764v-.013c.054-.343.29-.527.713-.527.422 0 .645.172.712.487-.012.053-.012.106-.012.17 0 .305.13.568.42.793.277.21.62.33 1.015.33.397 0 .725-.12 1.014-.33.266-.225.41-.488.41-.792v-.013h.542v-.34h-.607c-.067-.16-.186-.305-.346-.437-.29-.212-.617-.33-1.013-.33-.394 0-.737.118-1.015.33-.09.066-.158.144-.225.223-.024-.037-.05-.078-.077-.104-.195-.21-.462-.317-.817-.317-.345 0-.62.105-.804.316-.04.026-.064.067-.094.105-.052-.078-.13-.143-.223-.222-.224-.17-.475-.277-.778-.318.54-1.396 1.767-2.873 3.68-4.427.935 2.45 2.41 4.033 4.413 4.716zM111.23.984c2.003 0 3.93.395 5.76 1.172 1.78.752 3.35 1.807 4.72 3.178 1.37 1.37 2.425 2.94 3.176 4.706.78 1.847 1.175 3.757 1.175 5.775 0 1.556-.238 3.072-.71 4.522-.676-.304-1.202-.514-1.61-.594-.092-.276-.277-.553-.527-.843-.29-.317-.58-.542-.87-.713-.29-.143-.527-.2-.714-.13l-.08-.106h1.174c.582 0 1.068-.17 1.464-.54.486-.46.725-1.16.714-2.11-.03-.935-.253-2.08-.674-3.427-.488-1.543-1.133-2.967-1.924-4.27-.964-1.555-2.057-2.78-3.27-3.666-1.436-1.04-3.005-1.567-4.706-1.567-1.925-.014-3.467.645-4.615 1.963-.713.805-1.252 1.858-1.635 3.163-.183.053-.355.132-.514.252-.158.132-.276.276-.342.436h-.66v.34h.583v.014c0 .304.143.567.42.792.04.01.067.04.09.065-.183 1.212-.25 2.533-.196 3.94.038 1.175.118 1.992.223 2.453.172.66.41 1.135.737 1.44.49.46 1.268.697 2.32.697l4.444.012.25.33c-.13.302-.354.592-.672.87-.078.08-.134.184-.158.342-2.07.87-3.214 1.515-3.426 1.922l-1.148 2.06-1.108-4.907-.515.095-.71-.554-2.176.224c-1.396.145-2.265.25-2.61.317-.354.065-.764.237-1.2.5-.13.092-.248.157-.34.224l-.014-.3c-.052-.45-.157-.766-.33-.976-.16-.197-.5-.397-.99-.568l-.777-.238-.04.014-.713.26-.356-.34 1.703 8.105c-.935-1.133-1.702-2.37-2.283-3.73-.775-1.844-1.173-3.767-1.173-5.772 0-2.018.398-3.928 1.173-5.774.753-1.764 1.807-3.334 3.18-4.705 1.37-1.37 2.94-2.426 4.704-3.178 1.848-.777 3.758-1.172 5.776-1.172zm6.01.594C115.317.76 113.326.35 111.23.35c-2.095 0-4.1.41-6.01 1.227-1.847.776-3.482 1.882-4.918 3.306-1.424 1.438-2.532 3.07-3.31 4.92-.816 1.923-1.224 3.914-1.224 6.01 0 2.092.408 4.1 1.223 6.01.78 1.847 1.888 3.48 3.312 4.917 1.423 1.423 3.058 2.53 4.917 3.31 1.91.82 3.915 1.224 6.01 1.224 2.095 0 4.086-.405 6.01-1.225 1.846-.78 3.48-1.886 4.917-3.31 1.425-1.437 2.533-3.07 3.31-4.916.817-1.91 1.225-3.918 1.225-6.01 0-2.096-.408-4.087-1.224-6.01-.778-1.86-1.886-3.496-3.31-4.92-1.437-1.424-3.072-2.53-4.917-3.307z"}),s.default.createElement("path",{fill:"#000000",d:"M111.757 8.38v.014c-.012.04-.012.092-.012.144 0 .213.103.396.316.554.224.145.474.223.79.223.29 0 .556-.078.78-.223.17-.13.274-.263.3-.436h-.817c-.04.08-.116.12-.262.12-.13 0-.21-.04-.237-.12h-.275v-.33h1.566c-.04-.13-.143-.25-.275-.34-.224-.16-.49-.238-.78-.238-.316 0-.566.08-.79.237-.158.104-.263.25-.303.395M119.1 12.387c-.08-.078-.186-.13-.303-.13-.12 0-.212.052-.304.13-.08.092-.12.198-.12.302 0 .12.04.225.12.303.092.093.185.132.304.132.117 0 .224-.04.303-.132.09-.078.132-.184.132-.304 0-.105-.04-.21-.132-.303M108.013 8.656v-.33h1.634c-.052-.13-.144-.25-.29-.34-.21-.16-.473-.238-.776-.238-.304 0-.554.08-.776.237-.212.144-.317.33-.317.553 0 .213.105.396.317.554.222.145.472.223.777.223.304 0 .566-.078.776-.223.172-.13.28-.263.32-.436h-.886c-.012.028-.026.04-.052.053-.053.04-.12.065-.183.065-.148 0-.227-.04-.252-.12h-.29M107.605 18.414h.013-.013M108.013 18.728l-.408-.314-2.017.195c-1.41.145-2.295.25-2.625.316-.512.092-1.067.383-1.647.87l-.275.224.025-.356c.04-.673-.052-1.134-.262-1.383-.12-.144-.37-.303-.766-.448-.263-.106-.513-.185-.765-.238l-.526.185 2.32 2.266 6.947-1.318M122.238 18.53l-.014.015-4.046 2.727.87 2.135h.013c1.148-.7 2.15-1.383 3.006-2.04.975-.755 1.434-1.228 1.397-1.426-.025-.092-.053-.17-.107-.25-.09-.185-.222-.38-.407-.58-.226-.25-.462-.448-.712-.593v.013M117.73 21.18h.01M115.687 18.53c-.013 0-.013 0-.013.015-.03.024-.055.064-.068.092-.172.274-.37.525-.62.748-.132.12-.105.57.08 1.32.17.633.38 1.32.686 2.06l1.977-1.585-2.043-2.65"})))))},getClassName:function(){return(0,l.default)({hidden:this.props.hidden})+(" "+this.props.className)}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(92),o=r(i),l=n(135),u=r(l),c=n(24),d=r(c),p=n(5),f=n(3),m=n(226),h=r(m),g=(0,h.default)(),v=s.default.createClass({displayName:"MediaUploaderAttachment",
propTypes:{multiple:f.bool,onChange:f.func},getDefaultProps:function(){return{multiple:!1,onChange:Function.prototype}},render:function(){return s.default.createElement(u.default,{ref:"mediaUploader",className:"media-uploader--attachment",mimeType:g.mimeTypes,allowedFileRegex:g.regexp,invalidFileMessage:I18n.t("This file type isn't recognized."),onChange:this.props.onChange,multiple:this.props.multiple},s.default.createElement("h4",{className:"media-uploader--attachment__header"},s.default.createElement(p.Icon,{className:"gs-upload gs-3x block"}),I18n.t("Upload a file")),s.default.createElement("p",{className:"x-small"},s.default.createElement(d.default,{className:"hidden-mobile"},I18n.t("Drag and Drop or")),s.default.createElement(o.default,{multiple:!0,acceptedFileTypes:g.mimeTypeString,buttonClassName:"pointer",onChange:this.acceptFromFilePicker})),s.default.createElement("p",{className:"x-small"},I18n.t("10GB Maximum")))},acceptFromFilePicker:function(e){this.refs.mediaUploader.acceptFromFileList(e)}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(5),g=n(18),v=r(g),_=n(6),y=r(_),b=n(27),E=r(b),C=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.expanded,t=f.default.createElement(h.Icon,{className:(0,y.default)({"gs-1x pointer":!0,"gs-arrow-up":e,"gs-arrow-down":!e})}),n=e?I18n.t("Fewer Settings"):I18n.t("More Settings");return this.props.iconOnly?f.default.createElement(v.default,{className:"settings-expander--icon-only","data-capybara":"settings_expander"},f.default.createElement(E.default,{children:n})," ",t):f.default.createElement(v.default,{className:"settings-expander","data-capybara":"settings_expander"},f.default.createElement("span",{className:"settings-expander__label button-focus-flat__label"},n),t)}}]),t}(f.default.Component);C.propTypes={expanded:m.bool,iconOnly:m.bool},t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=n(1),l=r(o),u=n(26),c=r(u),d=n(5),p=n(28),f=r(p),m=n(112),h=r(m),g=n(103),v=r(g),_=n(24),y=r(_),b=n(4),E=n(12),C={cx:40,cy:38,r:36},I=l.default.createClass({displayName:"TaskStatus",propTypes:{approval:h.default,isComplete:i.bool,className:i.string,isLocked:i.bool,hasCertificate:i.bool,isOverdue:i.bool,large:i.bool},getDefaultProps:function(){return{isComplete:!1,isLocked:!1,hasCertificate:!1,large:!1}},render:function(){return this.hasApproval(E.APPROVAL_STATE_REJECTED)?this.renderRetryStatus():this.renderProgress()},renderProgress:function(){var e=this.props,t=e.isComplete,n=e.isOverdue,r=(0,f.default)({"course-status--completed":t});return l.default.createElement("div",{className:this.statusClassName()},l.default.createElement("span",{className:"screenreader-only"},this.statusText()),l.default.createElement(v.default,(0,s.default)({},this.getProgressBarProps(),{renderIcon:!0,iconClasses:this.iconClassName(),className:r,isOverdue:n},this.props.large&&C)),this.hasStatusIcon()&&this.renderStatusIcon())},renderRetryStatus:function(){var e={"course-status__arrowhead":!0,"brand-bg":this.useBrandColor()};return l.default.createElement("div",{className:this.statusClassName("task-status__failed")},l.default.createElement(y.default,{className:"screenreader-only"},c.default.t("Retry")),l.default.createElement(v.default,(0,s.default)({type:"circle",progress:.85,renderIcon:!0,iconClasses:this.iconClassName(),isFailed:!1,className:"learning-item-list-item__status",isOverdue:this.props.isOverdue},this.props.large&&C)),l.default.createElement("div",null,l.default.createElement("div",{className:(0,f.default)("course-status__arrowhead--top",e)}),l.default.createElement("div",{className:(0,f.default)("course-status__arrowhead--bottom",e)})))},renderStatusIcon:function(){var e=l.default.createElement(d.Icon,{className:this.getStatusIconClass(),key:"icon"});if(this.hasFilledStatusIcon()){var t=l.default.createElement(d.Icon,{className:this.getStatusIconClass(!0),key:"backfill"});return[t,e]}return e},getStatus:function(){return{isLocked:this.props.isLocked,hasCertificate:this.props.hasCertificate,isApproved:this.hasApproval(E.APPROVAL_STATE_APPROVED)}},getProgressBarProps:function(){return this.props.approval?{type:"arcs",currentSegment:this.approvalProgress(),progress:0,segments:2}:{type:"circle",progress:this.props.isComplete?1:0}},getStatusIconClass:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getStatus(),n=t.isLocked,r=t.hasCertificate,a=t.isApproved,s=n?"gs-lock":{"learning-item-status__certificate":r&&!a,"learning-item-status__approved brand-color":a&&!e,"learning-item-status__approved-backfill":a&&e};return(0,f.default)("learning-item-status",s)},statusClassName:function(e){var t={"task-status":!0,"course-status--completed":this.props.isComplete,"brand-color":this.useBrandColor()};return(0,f.default)(t,e,this.props.className)},iconClassName:function(){return(0,f.default)("gs-tasks","course-status__icon",{"brand-color":this.useBrandColor(),"brand-border":this.props.isComplete})},statusText:function(){return this.props.isComplete?c.default.t("Completed"):this.props.isLocked?c.default.t("Locked"):this.hasApproval(E.APPROVAL_STATE_REQUESTED)?c.default.t("Pending approval"):this.hasApproval(E.APPROVAL_STATE_INCOMPLETE)?c.default.t("Pending approval"):this.props.isOverdue?c.default.t("Overdue"):null},useBrandColor:function(){return!this.props.isLocked&&!this.props.isOverdue},approvalProgress:function(){var e=this.props.approval;if(!e)return 1;switch(e.state){case E.APPROVAL_STATE_APPROVED:return 0;case E.APPROVAL_STATE_INCOMPLETE:return 1;case E.APPROVAL_STATE_REQUESTED:return 2}throw new Error("unknown approval progress")},hasStatusIcon:function(){return(0,b.some)(this.getStatus())},hasFilledStatusIcon:function(){return this.getStatus().isApproved},hasApproval:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.approval;return!!t&&(!e||t.state===e)}});e.exports=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,c.default)("toggle-chevron",{"toggle-chevron--down":!e.collapsed,"toggle-chevron--up":e.collapsed});return i.default.createElement("a",{className:t,onClick:e.onClick},i.default.createElement("span",{className:"screenreader-only"},e.collapsed?e.expandText:e.collapseText),i.default.createElement("svg",{version:"1.1",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid","aria-hidden":!0},i.default.createElement("g",{className:"toggle-chevron__container"},i.default.createElement("line",{className:"toggle-chevron__line1",x1:"10",y1:"50",x2:"50",y2:"50"}),i.default.createElement("line",{className:"toggle-chevron__line2",x1:"90",y1:"50",x2:"50",y2:"50"}))))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=r(s),o=n(2),l=r(o),u=n(6),c=r(u);a.defaultProps={expandText:I18n.t("Expand"),collapseText:I18n.t("Collapse")},a.propTypes={collapsed:l.default.bool.isRequired,onClick:l.default.func,expandText:l.default.node,collapseText:l.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=function(){return s.default.createElement("div",{className:"unauthorized-tab large-content-area--padded centered"},I18n.t("You do not have permission to view this tab."))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(90),l=n(65),u=n(66),c=n(3),d=c.arrayOf,p=c.string,f=c.func,m=c.bool,h=n(12),g=h.ADMIN_USER_FINDER_THROTTLE_MS,v=i.createClass({displayName:"UserFinder",propTypes:{searchResults:d(n(42)),selectedUserId:p,onSearch:f,onSelect:f,autoFocus:m},getDefaultProps:function(){return{autoFocus:!0,searchResults:[]}},componentDidMount:function(){this.props.autoFocus&&this.focusInput()},render:function(){return i.createElement(o,{ref:"autoComplete",className:"search-bar search-bar--group-add",inputClassName:"ic-autocomplete-input",autocomplete:"list",value:this.props.selectedUserId,onInput:this.emitSearch,onSelect:this.props.onSelect,placeholder:I18n.t("Enter a name to find a user"),children:this.props.searchResults.map(this.renderResult)})},renderResult:function(e){return i.createElement(o.Option,{key:"result-"+e.id,className:"search-results__result",value:e.id,label:e.name},i.createElement(l,(0,s.default)({},e,{className:"left"})),i.createElement("span",{className:"padding-l-xs"},e.name),i.createElement("span",{className:"user-search__details margin-l-xl"},e.uid,e.email&&e.uid!==e.email&&i.createElement("span",null,", ",e.email)))},focusInput:function(){this.refs.autoComplete.focusInput()},emitSearch:u(function(e){this.props.onSearch(e)},g)});e.exports=v},function(e,t,n){"use strict";var r=n(1),a=n(30),s=n(50),i=s.Table,o=s.Thead,l=s.Tbody,u=s.Tr,c=s.Th,d=n(198),p=n(3),f=p.node,m=void 0,h=void 0,g=r.createClass({displayName:"UserListing",propTypes:{children:f},render:function(){return r.createElement("div",{"data-capybara":"user-listing"},r.createElement(i,{sort:a.getQueryItem("sort")},r.createElement(o,null,d(this.props.children,m)),d(this.props.children,h)))}});m=r.createClass({displayName:"ColumnGroup",propTypes:{children:f},render:function(){return r.createElement(u,this.props)}}),h=r.createClass({displayName:"Body",propTypes:{children:f},render:function(){return r.createElement(l,{children:this.props.children})}}),e.exports=g,e.exports.ColumnGroup=m,e.exports.Column=c,e.exports.Body=h},function(e,t,n){"use strict";var r=n(96),a=r();a.toggle=function(){this.emitChange()},e.exports=a},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.node,i={propTypes:{children:s.isRequired},blockFor:function(e){var t;return r.Children.forEach(this.props.children,function(n){!t&&n&&n.props&&n.props.name===e&&(t=n.props.children)}),t}};e.exports=i},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({mimeType:a,url:a,target:a,definition:a,downloadUrl:a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({colorEnabled:r.bool,navigationColor:r.string,primaryColor:r.string,primaryLogoHeight:r.number,primaryLogoWidth:r.number,primaryLogoUrl:r.string,reverseLogoWidth:r.number,reverseLogoHeight:r.number,reverseLogoUrl:r.string,header:(0,r.shape)({brandLogo:r.string,brandPhotoOpacity:r.number,brandPhotoStyle:r.string,brandPhotoUrl:r.string,customText:r.string}),signin:(0,r.shape)({brandLogo:r.string})}),e.exports=t.default},function(e,t,n){"use strict";var r=n(848),a=n(10),s=a.arrayOf,i=a.number,o=a.shape,l=a.string,u=n(4),c=u.assign,d=o({id:l,courseId:l,courseName:l,daysOverdue:i,endAt:l,endAtDate:l,name:l,state:l,userId:l});e.exports=o(c({counts:o({users:i,groups:i,courseTemplates:i,programs:i,managers:i,admins:i,liveCourses:i,authors:i}),overdueLearners:o({count:i,learnersCount:i,learners:s(d)}),completedLearners:o({count:i,learnersCount:i,learners:s(d)}),meta:o({domainId:l,domainType:l,alternateDomainId:l,alternateDomainType:l,subAccountId:l,r2bJwt:l})},r))},function(e,t,n){"use strict";var r=n(10),a=r.oneOf,s=r.shape,i=r.string,o=n(849),l=Object.keys(o).map(function(e){return o[e]});e.exports=s({id:i.isRequired,downloadType:i.isRequired,userId:i.isRequired,state:a(l).isRequired,url:i})},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.number,i=r.string,o=r.shape;e.exports=o({id:i,active:a,progress:s,score:s,endAt:i,expiresAt:i,completedAt:i,canBeRemoved:a,canBeMadeOptional:a,courseTemplate:i,state:i,required:a,isPermanentlyFailed:a,isArchived:a,links:o({learner:o({id:i,type:i})}),isCompleted:a,isOverdue:a,hasScore:a})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string;e.exports=a({name:s,description:s,prettyname:s,assets:a({longLogo:s,squareLogo:s})})},function(e,t,n){"use strict";var r=n(10),a=r.arrayOf,s=r.shape,i=r.string,o=r.number,l=n(630);e.exports=s({id:i,name:i,groups:a(s({id:i,name:i,description:i,permissionsCount:o,permissions:a(l)}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({archivedAt:r.string,averageScore:r.number,courseCompletionCount:r.number,domainId:r.string,externalId:r.string,id:r.string,learnerCount:r.number,links:r.object,messageableCount:r.number,name:r.string,newSmartGroup:r.bool,parentId:r.string,relevance:r.string,teamOwnerId:r.string,teamOwnerName:r.string,type:r.string,usersCount:r.number,overdueCount:r.number,inProgressCount:r.number,finishedCount:r.number}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.object;e.exports=a},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.oneOf,i=r.shape;e.exports=i({id:a,predicate:s(["is","is_not"]),customFieldId:a,value:a})},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.shape,i=r.string,o=r.number,l=r.object,u=r.oneOf,c=n(761);e.exports=s({id:i.isRequired,required:a,statement:i,idealAnswer:o,answerType:u(c.validTypes),position:o,surveyId:i,response:l})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.arrayOf;e.exports=a({id:s,title:s,description:s,sessions:i(n(161))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,name:r.string,avatarUrl:r.string,email:r.string}),e.exports=t.default},function(e,t){"use strict";var n={getLyndaPath:function(e){var t=this.props.isLearnerLibrary?"/learner/library/lynda":"/author/markets/lynda";return""+t+e}};e.exports=n},function(e,t,n){"use strict";var r=n(21),a=n(3290),s=n(148),i=n(19),o=3e3,l=10,u={individuallyPendingCourses:1};e.exports=r({displayName:"LyndaBasketStore",schema:n(192),POLL_FREQ:o,POLL_RETRIES:l,addCourse:function(e){var t=this;return this.cache.transaction(function(){return t.cache.addToCollection({},[e]),a.addCourse(e)})},isPending:function(e){var t=this.cache.getCollection(u);return t.filter(function(t){return t.id===e}).length>0},fetchAll:function(){var e=this;return a.fetchAll().then(function(t){e.cache.setCollection({},t)})},getAll:function(){return this.cache.getCollection({})},get:function(e){if(!e)throw new Error("Course id required to get a course!");return this.cache.get(e)},remove:function(e){var t=this;if(!e.id)throw new Error("Course id required to remove a course!");return this.cache.transaction(function(){return t.cache.remove(e.id),a.remove(e.id)})},removeAll:function(){var e=this;return this.cache.transaction(function(){return e.cache.clear(),a.removeAll()})},basketHas:function(e,t){return!!e&&e.some(function(e){return e.id===t})},addCoursesToIndex:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=a.addCoursesToIndex(this.getAll());return t?n.then(function(){e.getAll().forEach(function(t){e.pollUntilAdded(t.id,function(n){s.addLyndaCoursesToCache(n),console.log("removing id: "+t.id),e.cache.remove(t.id)},function(){e.cache.remove(t.id),i(I18n.t("Oh snap! There was a problem adding your courses to your index, please try again later."),{type:"error"})})}),e.cache.addToCollection(u,e.getAll()),e.cache.setCollection({},[])}):n.then(this.cache.clear),n},pollUntilAdded:function(e,t,n){var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l;s<=0?n():setTimeout(function(){a.fetchPendingCourse(e).then(t,r.pollUntilAdded.bind(r,e,t,n,s-1))},o)}})},function(e,t,n){"use strict";var r=n(31);e.exports=function(){return r.get("DOMAIN.config").lynda_org_id}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){try{var e=s.default.get("DOMAIN").config.lynda_org_id,t=s.default.get("ACCOUNT").config.lynda_library_enabled;return t&&!(0,o.default)(e)}catch(e){return!1}};var a=n(31),s=r(a),i=n(390),o=r(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3295),o=r(i),l=n(3108),u=r(l),c=n(3141),d=r(c),p=n(3140),f=r(p),m=n(3144),h=r(m),g=n(3237),v=r(g),_=n(3229),y=r(_),b=n(3230),E=r(b),C=n(44),I=r(C),T=n(7),N=r(T),S=n(4),x=(0,I.default)(function(e,t){var n=t.sort,r=void 0===n?null:n,a=t.search,s=void 0===a?null:a,i=t.filters,o=void 0===i?null:i;return d.default.performWithoutParsing({sort:r,search:s,filters:o,nextPageURL:e})}),A=(0,s.default)({displayName:"AccountStore",schema:n(72),fetchAllPages:function(e){var t=this;this.cache.setCollection(e,[]);var n=function(n){t.cache.addToCollection(e,n)};return(0,h.default)({onProgress:n,scope:e})},fetchAll:function(e){var t=this;return this.cache.setCollection(e,[]),x.findFirstPage(e).then(function(n){t.cache.setCollection(e,d.default.parse(n))})},fetchNext:function(e){var t=this;x.hasMorePages()&&x.findNextPage(e).then(function(n){t.cache.addToCollection(e,d.default.parse(n))})},getAll:function(e){return this.cache.getCollection(e)},create:function(e){var t=this;return(0,u.default)(e).then(function(e){return t.cache.add(e),e.id})},fetch:function(e){var t=this;return(0,f.default)(e).then(function(e){return t.cache.add(e),e})},get:function(e){return this.cache.get(e)},update:function(e,t){return(0,v.default)(e,t).then(this.cache.add)},createAdmin:function(e,t){var n=this;return(0,N.default)({url:"/api/support/accounts/"+t+"/admin_users",dataType:"json",type:"POST",data:{admin_user:{uid:e}}}).then(function(e){var r=n.cache.get(t);r.adminToken=(0,S.get)(e,"linked.token.admin_token"),r.visitUrl=(0,S.get)(e,"linked.token.visit_url"),n.cache.add(r)})},addAccountToken:function(e){var t=this;return o.default.create(e).then(function(n){var r=t.cache.get(e);return r.tokens.push(n.token),t.cache.add(r),n})},revokeAccountToken:function(e,t){var n=this;return o.default.revoke(e,t.id).then(function(){var r=n.cache.get(e),a=r.tokens.indexOf(t);a!==-1&&(r.tokens.splice(a,1),n.cache.add(r))})},regenerateCsvKeys:function(e){var t=this;return(0,y.default)(e).then(function(e){return t.cache.add(e),e})},regenerateScormKeys:function(e){var t=this;return(0,E.default)(e).then(function(e){return t.cache.add(e),e})}});e.exports=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3191),o=r(i),l=n(3249),u=r(l),c={},d=(0,s.default)({displayName:"AdminConfigSubAccountStore",schema:n(275),newSubAccount:function(){return{config:{}}},fetch:function(){var e=this;return(0,o.default)().then(function(t){return e.cache.setCollection(c,[t]),t})},get:function(){return this.cache.getCollection(c)[0]},update:function(e){var t=this;return(0,u.default)(e).then(function(e){return t.cache.setCollection(c,[e]),e})}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=function(){var e=0;return function(){return"pending-"+ ++e}}(),r=(0,c.default)(e,{displayName:t,schema:f.default});return(0,d.assign)(r,{getFile:function(e){var t=this.get(e);return t?t.file:null},addFile:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,d.assign)(t,(0,i.default)({uploadStart:+new Date,progress:0,id:n()},r));return this.addToCollection(e,[{id:a.id,file:a}]),a},updateFile:function(e,t){var n=this.get(e);n&&this.add({id:e,file:(0,d.assign)(n.file,t)})},saveFile:function(e,t,n){var r=this,a=this.get(e),s=a&&a.file;if(s){var i=+new Date,o=350;return this.add({id:a.id,file:(0,d.assign)(s,{progress:1})}),n(s).then(function(n){var a=n.id,u=Math.max(0,o-(+new Date-i));return r.remove(e),r.addToCollection(t,[{id:n.id,file:(0,d.assign)(n,{progress:1,uploadStart:s.uploadStart})}]),new l.default(function(e){var t=(0,d.assign)(r.get(a).file,{completed:!0});setTimeout(function(){r.add({id:a,file:t}),e(t)},u)})})}},removeFile:function(e){return this.remove(e)},clearCompletedFiles:function(e){var t=this;return this.getCollection(e).filter(function(e){return e.file.completed}).map(function(e){return t.remove(e.id),e.id})},getAllFiles:function(e){return this.getCollection(e).map(function(e){return e.file})},getIncompleteFiles:function(e){return this.getCollection(e).filter(function(e){return!e.file.completed}).map(function(e){return e.file})},getCompletedFiles:function(e){return this.getCollection(e).filter(function(e){return e.file.completed}).map(function(e){return e.file})}})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),i=r(s);t.default=a;var o=n(25),l=r(o),u=n(95),c=r(u),d=n(4),p=n(853),f=r(p);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(87),s=r(a),i=n(1458),o=r(i);e.exports=(0,o.default)({prefix:"ReportRange",store:s.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(7),o=r(i),l=n(859),u=r(l),c=n(10),d=(0,s.default)({displayName:"UserRoleStore",schema:(0,c.shape)({id:c.string,roles:(0,c.arrayOf)(u.default)}),fetchRolesForUser:function(e){var t=this;this.getRolesForUser(e)||(0,o.default)({url:"/api/author/roles?include_deprecated=1"}).then(function(n){var r=n.roles.map(function(t){var n=e.roles&&e.roles.indexOf(t.id)>-1;return t.is_deprecated&&!n?null:{name:t.id,label:t.name,granted:!!n,isComputed:!!t.is_computed}});t.cache.add({id:e.id,roles:r.filter(function(e){return!!e})})})},getRolesForUser:function(e){var t=this.cache.get(e.id);return!!t&&t.roles},clearCacheForUser:function(e){this.cache.add({id:e.id,roles:null})},getEditableRolesForUser:function(e){return this.getRolesForUser(e)||[]},updateRole:function(e){var t=e.userId,n=e.role,r=e.granted,a=this.cache.get(t),s=a.roles.map(function(e){return e.name===n.name?Object.assign({},e,{granted:r}):e});this.cache.add(Object.assign({},a,{roles:s}))},saveRolesForUser:function(e){var t=this.getEditableRolesForUser(e).filter(function(e){return!!e.granted}).map(function(e){return e.name});return(0,o.default)({type:"PUT",url:"/api/admin/users/"+e.id+"/roles/batch",data:{roles:t}}).then(function(n){return e.roles=t,n})}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3202),o=r(i),l=n(3199),u=r(l),c=n(3137),d=r(c),p=n(3123),f=r(p),m=n(3252),h=r(m),g=n(3124),v=r(g),_=n(3253),y=r(_),b=n(4),E=(0,s.default)({displayName:"WebhookStore",schema:n(193),fetchAll:function(e){var t=this;return this.cache.setCollection(e,[]),(0,o.default)(e).then(function(n){t.cache.setCollection({accountId:e},n)})},fetch:function(e,t){var n=this;return(0,u.default)(e,t).then(function(t){return n.cache.addToCollection({accountId:e},[t]),t})},getAll:function(e){return this.cache.getCollection({accountId:e})},get:function(e){return this.cache.get(e)},delete:function(e,t){var n=this;return(0,d.default)(e,t).then(function(){n.cache.remove(t)})},create:function(e,t){var n=this;return(0,f.default)(e,t).then(function(t){return n.cache.addToCollection({accountId:e},t),t[0]})},update:function(e,t,n){var r=this;return(0,h.default)(e,t,n).then(function(n){var a=(0,b.merge)({},r.cache.get(t),n);r.cache.addToCollection({accountId:e},[a])})},createResource:function(e,t,n){var r=this;return(0,v.default)(e,t,n).then(function(n){var a=r.cache.get(t);return a.resources.push(n[0]),r.cache.addToCollection({accountId:e},[a]),a})},updateResource:function(e,t,n,r){var a=this;return this.cache.transaction(function(){var s=a.cache.get(t),i=s.resources.find(function(e){return e.id===n});return i.events=r.events,a.cache.addToCollection({accountId:e},[s]),(0,y.default)(e,t,n,r)})}});e.exports=E},function(e,t,n){"use strict";function r(){function e(){clearTimeout(o);var e=t.interval||r.DEFAULT_RETRY_INTERVAL,n=0===i?e:Math.min(Math.pow(2,i-1)*r.RETRY_INTERVAL_FACTOR,e);o=setTimeout(s.start,n)}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tick;a(!!n,"You must provide a tick function that returns a promise to use Scheduler.");var s={},i=0,o=null;return s.start=function(){n().then(function(n){i=0,e(),t.onTick&&t.onTick(n)},function(){i+=1,e()})},s.stop=function(){clearTimeout(o),o=null,t.onStop&&t.onStop()},s}var a=n(41),s=6e4;r.DEFAULT_RETRY_INTERVAL=s,r.RETRY_INTERVAL_FACTOR=500,e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return!(0,S.isFreeOrLiteAccount)()&&(0,I.default)("account_view")}function s(){return!(0,S.isFreeOrLiteAccount)()&&(0,I.default)("user_account_search")}function i(){return!(0,S.isFreeOrLiteAccount)()&&(0,I.default)("market_view")}function o(){return!(0,S.isFreeOrLiteAccount)()&&(0,I.default)("sub_account_view")&&N.default.get("DOMAIN.root")}function l(){return(0,I.default)("dashboard_view")}function u(){return(0,I.default)("course_template_view")||(0,I.default)("program_view")||(0,I.default)("live_course_view")||i()}function c(){return(0,I.default)("survey_view")}function d(){return a()||o()||b()||E()||(0,I.default)("permission_view")||(0,I.default)("account_self_view")}function p(){return(0,I.default)("report_view")}function f(){return(0,I.default)("group_view")||(0,I.default)("smart_group_view")||(0,I.default)("domain_group_view")||(0,I.default)("team_view")}function m(){return(0,I.default)("user_view")||f()}function h(){return l()||u()||c()||m()||d()||p()}function g(){return!!N.default.get("ACCOUNT.config.progressive_finance_customization")}function v(){return(0,I.default)("data_dump_view")&&(N.default.get("DOMAIN.root")&&!!N.default.get("ACCOUNT.config.data_dump_enabled")||!N.default.get("DOMAIN.root")&&!!N.default.get("ACCOUNT.config.data_dump_subaccount_enabled"))}function _(){return!!N.default.get("ACCOUNT.config.learner_library_enabled")}function y(){return!!N.default.get("ACCOUNT.config.learner_calendar_enabled")}function b(){return(0,I.default)("tag_view")}function E(){return!(0,S.isFreeOrLiteAccount)()&&(0,I.default)("account_config_view")}var C=n(29),I=r(C),T=n(31),N=r(T),S=n(177);e.exports={canSearchAccountUsers:s,canViewAccounts:a,canViewMarketplace:i,canViewSubaccounts:o,canViewDashboard:l,canViewTrainingPanel:u,canViewSurveyPanel:c,canViewAccountPanel:d,canViewToolsPanel:p,canViewGroups:f,canViewPeoplePanel:m,canViewAdminLinks:h,canViewProgressiveFinance:g,canViewDataDumps:v,canViewLearnerLibrary:_,canViewLearnerCalendar:y,canViewTags:b,canViewConfig:E}},function(e,t){"use strict";var n=function(e){var t,n={};for(t in e)e[t]&&(n[t]=e[t]);return n};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e&&u.indexOf(e)!==-1?"shared":(0,i.default)(e)?"learner":"admin"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(321),i=r(s),o=n(127),l=r(o),u=["/learner/profile","/learner/integrations","/learner/lti_resource/:placementId"];t.default=(0,l.default)(a),e.exports=t.default},function(e,t){"use strict";e.exports=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e||"").replace(/(?:^|[-_])(\w)/g,function(e,n,r){return 0===r&&t?n?n.toLowerCase():"":n?n.toUpperCase():""})}},,,,,function(e,t){"use strict";function n(e){function t(){++r===n&&(a=!0,e())}var n=0,r=0,a=!1;return{done:a,push:function(){n+=1},pop:t,getLoadedCount:function(){return r},getRemainingCount:function(){return n-r},seal:function(){0===n&&e()}}}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){var r=e.props,a=r.asyncProps,s=r.contentProps;Object.keys(a).forEach(function(e){!n&&s.hasOwnProperty(e)||t(a[e],e)})}function a(e,t){return!e.props.initialValues.hasOwnProperty(t)&&!e.props.contentProps.hasOwnProperty(t)}var s=n(1),i=n(485),o=Object.assign.bind(Object),l=n(2),u=l.func,c=l.object,d=l.bool,p=s.createClass({displayName:"PropResolver",propTypes:{render:u.isRequired,asyncProps:c.isRequired,progressive:d,initialValues:c,contentProps:c,onChange:u,onError:u},getInitialState:function(){var e=this,t=Object.keys(this.props.asyncProps).some(function(t){return a(e,t)});return{resolved:!t,fetchedProps:{}}},getDefaultProps:function(){var e=this;return{progressive:!1,contentProps:{},initialValues:{},onChange:function(){e.forceUpdate()}}},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},r(this,function(t){t.setup&&t.setup(e.reload)}),this.fetch()},getStaleProps:function(e){var t=this,n=[];return r(this,function(r,a){r.shouldRefetch&&r.shouldRefetch(e.contentProps,t.props.contentProps)&&n.push(a)}),n},componentWillReceiveProps:function(e){var t=this.getStaleProps(e);t.length&&this.setState({resolved:!1})},componentDidUpdate:function(e){var t=this.getStaleProps(e);t.length&&this.fetch(!0,t)},componentWillUnmount:function(){var e=this;r(this,function(t){t.teardown&&t.teardown(e.reload)}),this.isMounted=function(){return!1}},fetch:function(e,t){var n=this,a={},s=t?[].concat(t):null,l=this.props,u=l.contentProps,c=l.initialValues,d=l.onError,p=i(function(){n.isMounted()&&n.setState({fetchedProps:o(n.state.fetchedProps,a),resolved:!0})});r(this,function(t,n){t.fetch&&(s&&s.indexOf(n)===-1||!e&&c.hasOwnProperty(n)||(p.push(),t.fetch(u).then(function(e){a[n]=e,p.pop()},function(e){d&&d(e,n),p.pop()})))}),p.seal()},reload:function(){this.isMounted()&&this.props.onChange()},render:function(){var e=this;if(!this.props.progressive&&!this.state.resolved)return null;var t=this.state.fetchedProps,n=this.props,a=n.initialValues,s=n.contentProps,i={};return i.onDataChange=function(t){e.fetch(!0,t)},r(this,function(e,n){s.hasOwnProperty(n)?i[n]=s[n]:e.get?i[n]=e.get(s,t):a.hasOwnProperty(n)?i[n]=a[n]:t.hasOwnProperty(n)&&(i[n]=t[n])},!0),this.props.render(i,!this.state.resolved)}});e.exports=p},function(e,t){"use strict";e.exports={onError:function(e,t){t.asyncProp.onFailure&&t.asyncProp.onFailure(e,t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(924),s=n(887),i=r(s),o=function(e){if(!e.match(/^https?:[^\s]*$/))return!1;var t=new i.default(e),n=t.hostname();return n&&a.SUPPORTED_CARDS.some(function(e){return n.endsWith(e)})},l=function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getBlockForKey(t.getStartKey());return r.getText()};t.default={isEmbedlyUrl:o,getBlockText:l},e.exports=t.default},function(e,t){"use strict";var n=/^(https:)?\/\//,r=/(.jpe?g|.png|.gif)$/i,a=function(e){return n.test(e)&&r.test(e)},s=function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getBlockForKey(t.getStartKey());return r.getText()};e.exports={isImageUrl:a,getBlockText:s}},function(e,t,n){"use strict";var r=n(10),a=n(59),s=n(330);e.exports={contentType:(0,r.oneOf)(["audio","external","external-image","external-video","image","video","lti","embedly","inline"]).isRequired,status:(0,r.oneOf)([s.MEDIA_BLOCK_UPLOADING,s.MEDIA_BLOCK_ABORTED,s.MEDIA_BLOCK_ENCODING,s.MEDIA_BLOCK_ENCODED,s.MEDIA_BLOCK_BORKED,s.MEDIA_BLOCK_LOADING]),entityData:(0,r.shape)({src:r.string,externalMediaContentType:(0,r.oneOf)(["image","video"]),externalMediaMetaData:(0,r.shape)({thumb:r.string,original:r.string,provider:r.string,id:r.string,duration:r.number,aspectRatio:r.number}),thumb:r.string,original:r.string,provider:r.string,id:r.string,duration:r.number,aspectRatio:r.number,ltiContentItem:a.LtiContentItemSchema}),attachment:n(33),upload:n(202),thumbnail:n(242)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(2),u=n(121),c=r(u),d=n(943),p=r(d),f=n(938),m=r(f),h=n(494),g=r(h),v=n(492),_=r(v),y=n(497),b=r(y),E=n(940),C=r(E),I=n(164),T=n(163),N=n(329),S=n(4),x=n(320),A=r(x),k=n(942),w=r(k),R=n(490),O=r(R),P=n(330),L=n(5),M=o.default.createClass({displayName:"Media",propTypes:(0,S.assign)({},O.default,{onFetchLtiContent:l.func,onClick:l.func
}),render:function(){var e={type:this.props.contentType,data:this.props.entityData};return c.default.isExternalMediaEntity(e)?this.renderExternalMedia(e):this.renderInternalMedia()},renderExternalMedia:function(e){return o.default.createElement(m.default,{onClick:this.props.onClick,selectable:c.default.isSelectable(e)},c.default.isExternalImage(e)&&this.renderExternalImage(),c.default.isExternalVideo(e)&&this.renderExternalVideo(),c.default.isLti(e)&&this.renderLTI(e),c.default.isEmbedly(e)&&this.renderEmbedly(e))},renderInternalMedia:function(){switch(this.props.status){case P.MEDIA_BLOCK_ENCODED:return this.renderMediaControl();case P.MEDIA_BLOCK_BORKED:return o.default.createElement(C.default,this.props);case P.MEDIA_BLOCK_ABORTED:return o.default.createElement(p.default,null);case P.MEDIA_BLOCK_LOADING:return o.default.createElement(w.default,null);case P.MEDIA_BLOCK_UPLOADING:case P.MEDIA_BLOCK_ENCODING:default:return o.default.createElement(b.default,this.props)}},renderExternalImage:function(){var e=c.default.getExternalMediaData({data:this.props.entityData});return o.default.createElement(g.default,(0,s.default)({},this.props,{entityData:{src:e.original}}))},renderExternalVideo:function(){var e=c.default.getExternalMediaData({data:this.props.entityData});return o.default.createElement(I.ExternalMedia,(0,s.default)({},e,{isSelected:this.props.isSelected}))},renderLTI:function(e){var t=e.data,n=t.ltiContentItem,r=t.aspectRatio;return n=n||N.ltiSupport.entityDataToLtiContentItem(e.data),o.default.createElement(N.LtiMedia,{ltiContentItem:n,aspectRatio:r,onFetchLtiContent:this.props.onFetchLtiContent,isSelected:this.props.isSelected})},renderEmbedly:function(e){return o.default.createElement(T.EmbedlyMedia,(0,s.default)({},e.data,{isSelected:this.props.isSelected}))},renderMediaControl:function(){var e={contentType:this.props.contentType};return o.default.createElement(m.default,{onClick:this.props.onClick,selectable:c.default.isSelectable(e),contentEditable:c.default.isAudio(e)&&!(0,A.default)()},c.default.isImage(e)&&o.default.createElement(g.default,this.props),(c.default.isAudio(e)||c.default.isVideo(e))&&o.default.createElement(_.default,this.props),c.default.isInlineAttachment(e)&&o.default.createElement(L.FileCard,{attachment:this.props.attachment,isSelected:this.props.isSelected}))}});e.exports=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=void 0,n=void 0,r=void 0;return{create:function(a){var i=this,l=o(a),u=s(e);t=document.createElement("div"),t.appendChild(u),n=new h.MediaElementPlayer(u,{success:function(){l(null,t)},error:function(){l("init error")},defaultVideoWidth:e.rootNode.offsetWidth,hideVideoControlsOnLoad:!0}),u.addEventListener("loadedmetadata",function(){r=u.width/u.height,i.resize()})},getInstance:function(){return n},on:function(e,t){n.media.addEventListener(e,t,!1)},resize:function(){if(n&&n.node){var t=n.node,a=Math.min(t.videoWidth,e.rootNode.offsetWidth),s=a/r,i=Math.min(s,_);a=i*r,n.setPlayerSize(a,i),t.width=a,t.height=i}},destroy:function(){if(n){n.killControlsTimer(),n.killContextMenuTimer();try{n.remove()}catch(e){console.error("MEJS destruction failed:"),console.error(e&&e.stack||e)}finally{n=null}}if(t)try{t.remove()}catch(e){}finally{t=null}}}}function s(e){var t=e.attachment,n=document.createElement("video");n.setAttribute("controls","controls"),n.setAttribute("preload","metadata");var r=(0,g.get)(t,"media.sources");return r&&r.forEach(function(e){if((0,v.isValidURL)(e.url)){var t=document.createElement("source");t.setAttribute("src",e.url),t.setAttribute("type",e.mimeType),n.appendChild(t)}}),n}function i(e){return(0,g.some)((0,g.get)(e,"media.sources",[]),function(e){return(0,v.isValidURL)(e.url)})}function o(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}var l=n(2),u=r(l),c=n(1),d=r(c),p=n(23),f=n(944),m=r(f),h=n(481),g=n(4),v=n(86),_=600,y=d.default.createClass({displayName:"MediaAudioVideo",propTypes:{attachment:n(33).isRequired,contentType:u.default.oneOf(["audio","video"]).isRequired,onForceEditorBlur:u.default.func,autoResize:u.default.bool},componentDidMount:function(){this.isMounted=function(){return!0},this.isVideo()?this.installMediaPlayer():this.refs.audioPlayer.addEventListener("contextmenu",this.noopEvent)},shouldComponentUpdate:function(e){return!(0,g.isEqual)(e.attachment,this.props.attachment)},componentWillUpdate:function(){this.mediaPlayer&&this.removeMediaPlayer()},componentDidUpdate:function(){this.isVideo()&&!this.mediaPlayer&&this.installMediaPlayer()},componentWillUnmount:function(){this.isMounted=function(){return!1},this.mediaPlayer&&this.removeMediaPlayer(),this.isVideo()||this.refs.audioPlayer.removeEventListener("contextmenu",this.noopEvent)},render:function(){var e=this.props.contentType;return"audio"===e?this.renderAudioControl():this.renderVideoControl()},renderVideoControl:function(){return d.default.createElement("div",{"data-capybara":"mejsContainer",ref:"mejsContainer"})},renderAudioControl:function(){return d.default.createElement("audio",{ref:"audioPlayer",className:"cce-media-audio",controls:!0,preload:"none",children:this.renderSources(),controlsList:"nodownload"})},renderSources:function(){return this.props.attachment.media.sources.map(this.renderSource)},renderSource:function(e){return(0,v.isValidURL)(e.url)?d.default.createElement(m.default,{key:e.url,source:e}):null},isVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return"video"===e.contentType},resize:function(){this.mediaPlayer&&this.mediaPlayer.resize()},installMediaPlayer:function(){var e=this;if(this.mediaPlayer)console.warn("Possible leak; a stale player instance was not removed.");else{if(this.isInitializingMediaPlayer)return void console.warn("We are already initializing a player instance... aborting.");if(!i(this.props.attachment))return void console.warn("No valid sources provided.")}var t=a({rootNode:(0,p.findDOMNode)(this),attachment:this.props.attachment});this.isInitializingMediaPlayer=!0,this.mediaPlayer=t,t.create(function(n,r){if(e.isMounted())return n?(console.error("\tUnable to create player instance:",n),t.destroy(),void(e.mediaPlayer===t&&(e.refs.mejsContainer.removeEventListener("click",e.blurEditor,!0),e.mediaPlayer=null))):void(e.mediaPlayer===t&&(e.isInitializingMediaPlayer=!1,e.refs.mejsContainer.addEventListener("click",e.blurEditor,!0),e.refs.mejsContainer.addEventListener("contextmenu",e.noopEvent),(0,p.findDOMNode)(e).appendChild(r)))}),this.props.autoResize&&!this.usingResize&&(window.addEventListener("resize",this.resize),this.usingResize=!0)},removeMediaPlayer:function(){this.mediaPlayer&&(this.refs.mejsContainer.removeEventListener("click",this.blurEditor,!0),this.refs.mejsContainer.removeEventListener("contextmenu",this.noopEvent),this.mediaPlayer.destroy(),this.mediaPlayer=null,this.usingResize&&(window.removeEventListener("resize",this.resize),this.usingResize=!1))},blurEditor:function(){this.props.onForceEditorBlur&&this.props.onForceEditorBlur()},noopEvent:function(e){e.preventDefault()}});e.exports=y},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"MediaEncodingPlaceholder",render:function(){return r.createElement("div",{className:"media-placeholder"},r.createElement("div",{className:"loader loader-7"}),r.createElement("div",{className:"media-placeholder--text"},I18n.t("We're almost done. Check back later to preview your media.")))}});e.exports=a},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(28),i=a.createClass({displayName:"MediaImage",propTypes:{attachment:n(33),entityData:r.shape({src:r.string,altText:r.string,linkHref:r.string}).isRequired,isSelected:r.bool,inline:r.bool},render:function(){var e=this.props.attachment&&this.props.attachment.location||this.props.entityData.src||void 0;return a.createElement("div",{className:s("cce-media-image",{"cce-media-image--inline":this.props.inline,"cce-media-image--linked":String(this.props.entityData.linkHref||"").length>0})},a.createElement("img",{className:s("cce-media-image__image",{"cce-media-image__image--selected":this.props.isSelected}),alt:this.props.entityData.altText,src:e}))}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return String(e||"")}var s=n(2),i=r(s),o=n(1),l=r(o),u=n(28),c=r(u),d=n(5),p=n(362),f=r(p),m=l.default.createClass({displayName:"MediaImageAltText",propTypes:{altText:i.default.string,onChange:i.default.func.isRequired,onEdit:i.default.func.isRequired,onStopEditing:i.default.func.isRequired,showEditor:i.default.bool},getInitialState:function(){return{altText:this.props.altText}},componentWillReceiveProps:function(e){e.altText!==this.props.altText&&this.setState({altText:e.altText})},render:function(){return l.default.createElement("span",null,this.props.showEditor?this.renderEditor():this.renderCaption())},renderCaption:function(){return l.default.createElement("button",{type:"button",className:(0,c.default)({"cce-media-image-alt-text__button":!0,"cce-media-image-alt-text__button--active":(this.props.altText||"").length>0}),children:I18n.t("Alt Text"),onClick:this.props.onEdit})},renderEditor:function(){return l.default.createElement(f.default,null,l.default.createElement(d.KeyMapper,{onKCReturn:this.emitChange},l.default.createElement("input",{ref:"inputWidget",type:"text",className:"cce-media-image-alt-text__input",placeholder:I18n.t("Add alternative text"),onBlur:this.emitChange,value:this.state.altText||"",onChange:this.trackChange,autoFocus:!0})))},trackChange:function(e){this.setState({altText:e.target.value})},emitChange:function(){var e=this.state.altText;a(e)!==a(this.props.altText)?this.props.onChange({altText:e}):this.props.onStopEditing()}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return String(e||"")}var s=n(2),i=r(s),o=n(1),l=r(o),u=n(86),c=n(19),d=r(c),p=n(28),f=r(p),m=n(5),h=n(362),g=r(h),v=l.default.createClass({displayName:"MediaImageLink",propTypes:{linkHref:i.default.string,onChange:i.default.func,onEdit:i.default.func.isRequired,onStopEditing:i.default.func.isRequired,showEditor:i.default.bool},getInitialState:function(){return{linkHref:this.props.linkHref}},componentWillReceiveProps:function(e){e.linkHref!==this.props.linkHref&&this.setState({linkHref:e.linkHref})},render:function(){return l.default.createElement("span",null,this.props.showEditor?this.renderEditor():this.renderCaption())},renderCaption:function(){return l.default.createElement("button",{type:"button",className:(0,f.default)({"cce-media-image-alt-text__button":!0,"cce-media-image-alt-text__button--icon":!0,"cce-media-image-alt-text__button--active":(this.props.linkHref||"").length>0}),title:I18n.t("Link"),onClick:this.props.onEdit},l.default.createElement(m.Icon,{className:"gs-link"}))},renderEditor:function(){return l.default.createElement(g.default,null,l.default.createElement(m.KeyMapper,{onKCReturn:this.emitChange},l.default.createElement("input",{ref:"inputWidget",type:"text",className:"cce-media-image-alt-text__input",placeholder:I18n.t("Insert a link"),onBlur:this.emitChange,value:this.state.linkHref||"",onChange:this.trackChange,autoFocus:!0})))},trackChange:function(e){this.setState({linkHref:e.target.value})},emitChange:function(){var e=this.state.linkHref;return""===a(e)||(0,u.isValidURL)(e)?void(a(e)!==a(this.props.linkHref)?this.props.onChange({linkHref:e}):this.props.onStopEditing()):((0,d.default)(I18n.t("Oh no! Your link was invalid. Please specify a valid URL."),{type:"error"}),void this.props.onStopEditing())}});e.exports=v},function(e,t,n){"use strict";var r=n(1),a=n(493),s=n(2),i=s.shape,o=s.string,l=s.oneOf,u=n(121),c=u.isAttachmentPending,d=u.isAttachmentReady,p=u.isAttachmentFailed,f=r.createClass({displayName:"MediaPlaceholder",propTypes:{contentType:l(["audio","image","video","inline"]),thumbnail:n(242),attachment:n(33),upload:n(202),entityData:i({src:o})},getDefaultProps:function(){return{thumbnail:{url:void 0,width:"auto",height:"auto"}}},render:function(){var e=this.props,t=e.contentType,n=e.attachment;return"image"===t?n?null:this.renderImageUploadingProgress():d(n)||p(n)?null:c(n)?this.renderAVEncodingPlaceholder():this.renderAVUploadingProgress()},renderImageUploadingProgress:function(){var e=this.props.entityData;return r.createElement("div",{className:"media-uploader"},r.createElement("div",{className:"media-uploader__progress"},I18n.t("Uploading..."),e&&e.src&&r.createElement("img",{src:e.src})))},renderAVUploadingProgress:function(){var e=this.props.upload;return r.createElement("div",{className:"media-uploader"},r.createElement("div",{className:"media-uploader__progress"},I18n.t("Uploading..."),e&&e.hasOwnProperty("progress")&&r.createElement("div",{className:"progress-bar"},r.createElement("div",{className:"progress progress--cce",style:{width:Math.round(100*e.progress)+"%"}}))))},renderAVEncodingPlaceholder:function(){return r.createElement(a,this.props.thumbnail)}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=new FileReader;n.addEventListener("load",function(){t(n.result)},!1),n.readAsDataURL(e)}var s=n(1),i=r(s),o=n(2),l=n(92),u=r(l),c=n(135),d=r(c),p=n(121),f=r(p),m=n(226),h=r(m),g=n(20),v=r(g),_=n(5),y=(0,h.default)((0,v.default)("inline_attachments")?null:["mp3","gif","jpeg","jpg","png","psd","svg","avi","flv","mkv","mov","mp4","mpeg","mpg"]),b=i.default.createClass({displayName:"UrlAndFileUploader",getInitialState:function(){return{embedError:null}},propTypes:{onUploadMedia:o.func,onEmbedMedia:o.func,onClose:o.func},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){return i.default.createElement(d.default,{ref:"mediaUploader",mimeType:y.mimeTypes,allowedFileRegex:y.regexp,invalidFileMessage:I18n.t("That doesn't appear to be an accepted media file."),onChange:this.emitUpload,className:"media-uploader--rce"},this.renderUrlBox(),i.default.createElement("p",null,I18n.t("Or")),this.renderAttachmentUploader())},renderUrlBox:function(){return i.default.createElement("div",{className:"media-uploader__urlbox"},this.state.embedError&&i.default.createElement("p",{className:"media-uploader__url-error-message"},this.state.embedError),i.default.createElement("input",{type:"text",autoFocus:!0,placeholder:I18n.t("Paste URL"),"aria-label":I18n.t("Paste URL"),onPaste:this.parseAndEmbedURLFromClipboard,className:"media-uploader__url"}))},renderAttachmentUploader:function(){return i.default.createElement("div",{className:"media-uploader--attachment media-uploader--attachment--rce"},i.default.createElement("h4",{className:"media-uploader--attachment__header"},i.default.createElement(_.Icon,{className:"gs-upload gs-3x block"}),I18n.t("Upload a file")),i.default.createElement("div",{className:"media-uploader__prompt"},I18n.t("Drag and Drop or"),i.default.createElement(u.default,{acceptedFileTypes:y.mimeTypeString,buttonClassName:"blue pointer",onChange:this.acceptFromFilePicker}),i.default.createElement("div",{className:"x-small"},I18n.t("10GB Maximum"))))},acceptFromFilePicker:function(e){this.refs.mediaUploader.acceptFromFileList(e)},emitUpload:function(e){var t=this;f.default.isImage(e)?a(e,function(n){t.isMounted()&&t.props.onUploadMedia({file:e,sourceBlob:n})}):this.props.onUploadMedia({file:e})},parseAndEmbedURLFromClipboard:function(e){this.isMounted()&&this.maybeEmitEmbed(e.clipboardData.getData("Text")),e.preventDefault()},maybeEmitEmbed:function(e){f.default.isValidEmbedURL(e)?this.props.onEmbedMedia({url:e}):this.setState({embedError:I18n.t("That doesn't appear to be a valid https URL")})}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(954);Object.defineProperty(t,"Importer",{enumerable:!0,get:function(){return r(a).default}});var s=n(250);Object.defineProperty(t,"TextBlock",{enumerable:!0,get:function(){return r(s).default}});var i=n(500);Object.defineProperty(t,"CollectingImportingStrategy",{enumerable:!0,get:function(){return r(i).default}});var o=n(955);Object.defineProperty(t,"ControlledImportingStrategy",{enumerable:!0,get:function(){return r(o).default}});var l=n(958);Object.defineProperty(t,"AppendingTextBlockVisitor",{enumerable:!0,get:function(){return r(l).default}});var u=n(959);Object.defineProperty(t,"CoalescingTextBlockVisitor",{enumerable:!0,get:function(){return r(u).default}});var c=n(960);Object.defineProperty(t,"HeadingVisitor",{enumerable:!0,get:function(){return r(c).default}});var d=n(961);Object.defineProperty(t,"InlineStyleVisitor",{enumerable:!0,get:function(){return r(d).default}});var p=n(332);Object.defineProperty(t,"TextBlockVisitor",{enumerable:!0,get:function(){return r(p).default}});var f=n(501);Object.defineProperty(t,"Visitor",{enumerable:!0,get:function(){return r(f).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(956),u=n(957),c=n(501),d=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,[{key:"apply",value:function(e,t,n,r){var a=Object.assign({},t,{$__currentNode:null,$__currentHook:null,verbose:!!n.verbose,blocks:[],stats:n.stats,log:n.verbose?function(e){var t=a.$__currentNode,n=Array(l(t)).join("    ");console.log(""+n+e)}:Function.prototype,reserveBlockIndex:function(){return a.blocks.length},addBlock:function(e){var t=a.$__currentNode,n=a.$__currentHook;a.log('Registering block "'+e.type+'" in "'+n+'" at '+u(t)+" of depth "+e.depth),a.blocks.push(e)},insertBlock:function(e,t){var n=a.$__currentNode,r=a.$__currentHook;a.log('Registering block "'+e.type+'" in "'+r+'" at '+u(n)+" at position "+t+" of depth "+e.depth),a.blocks.splice(t,0,e)}});return this.visitNode(e,a,r),a.blocks}},{key:"visitNode",value:function(e,t,n){var r=e.filter(function(e){return e.match(n)});t.log("Entering node "+n.nodeName+" ("+r.length+")");var a=r.reduce(function(e,r){var a=r.enter,s=r.exit;if(!e.shouldContinue)return e;try{t.$__currentNode=n,t.$__currentHook=a.name;var i=a(t,n);i&c.IgnoreVisitors&&(e.shouldContinue=!1),i&c.IgnoreChildren&&(e.shouldTraverseChildren=!1),e.exits.unshift(s)}catch(e){throw console.log("Visitor #enter routine failed!"),console.log("Current state:",JSON.stringify(t,null,2)),e}return e},{shouldContinue:!0,shouldTraverseChildren:!0,exits:[]}),s=a.shouldTraverseChildren,i=a.exits;s&&Array.prototype.forEach.call(n.childNodes,this.visitNode.bind(this,e,t)),t.log("Exiting node "+n.nodeName),i.forEach(function(e){try{t.$__currentNode=n,t.$__currentHook=e.name,e(t,n)}catch(e){throw console.log("Visitor #exit routine failed!"),console.log("Current state:",JSON.stringify(t,null,2)),e}})}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=a(e.enter||e.visit,function(){}),n=a(e.exit,function(){});return{match:function(t){return t.nodeName===e.nodeName},enter:t,exit:n}}var a=n(331);r.Continue=0,r.IgnoreVisitors=1,r.IgnoreChildren=2,e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return o.default.createElement("span",{className:"cce-rce-link-prompt__caption"},e.children)}function s(e){return o.default.createElement("div",{className:"cce-rce-link-prompt__input-container"},e.children)}var i=n(1),o=r(i),l=n(5),u=n(963),c=r(u),d=n(2),p=o.default.createClass({displayName:"LinkPrompt",propTypes:{style:d.object,text:d.string,url:d.string,onChange:d.func.isRequired,onClose:d.func},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},setTimeout(function(){e.isMounted()&&e.refs.url.focus()},0)},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){return o.default.createElement(c.default,{onDismiss:this.props.onClose},o.default.createElement(l.KeyMapper,{onKCReturn:this.commit,onKCEscape:this.props.onClose},this.renderLinkForm()))},renderLinkForm:function(){return o.default.createElement("div",{className:"cce-rce-link-prompt",style:this.props.style},o.default.createElement("div",{className:"cce-rce-link-prompt__fieldset"},o.default.createElement("label",{className:"cce-rce-link-prompt__label"},o.default.createElement(a,null,I18n.t("Text")),o.default.createElement(s,null,o.default.createElement("input",{ref:"text",type:"text",className:"cce-rce-link-prompt__input",defaultValue:this.props.text}))),o.default.createElement("label",{className:"cce-rce-link-prompt__label"},o.default.createElement(a,null,I18n.t("Link")),o.default.createElement(s,null,o.default.createElement("input",{ref:"url",type:"text",className:"cce-rce-link-prompt__input",defaultValue:this.props.url,autoFocus:!0})))),o.default.createElement("div",{className:"cce-rce-link-prompt__actions"},o.default.createElement("button",{onClick:this.commit,className:"btn filled",children:I18n.t("Apply")})))},commit:function(e){e.preventDefault();var t=this.refs.url.value,n=this.refs.text.value;this.props.onChange({url:t,text:n})}});a.propTypes={children:d.node},s.propTypes={children:d.node},e.exports=p},function(e,t,n){"use strict";function r(e,t){var n=e.getAnchorKey(),r=e.getAnchorOffset(),a=e.getFocusKey();return a===n?e:e.merge({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:e.getIsBackward()?0:r+t.length})}function a(e){var t=s(e);return t?c.toggleLink(e,t,null):null}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t||(t=e.getSelection());var r=t.getStartKey(),a=t.getEndKey(),s=t.getHasFocus();if(!s&&!n)return null;if(r!==a)return null;var o=t.getStartOffset(),l=e.getCurrentContent().getBlockForKey(r),u=l&&l.getEntityAt&&l.getEntityAt(o);if(!u||!i(e.getCurrentContent(),u))return null;var c=l.getEntityAt(t.getEndOffset());if(c&&c!==u)return null;var d=l.getCharacterList().reduce(function(e,t,n){return t.entity===u&&(null===e.start&&(e.start=n),e.end=n),e},{start:null,end:null});return new p({anchorKey:l.key,anchorOffset:d.start,focusKey:l.key,focusOffset:d.end+1,isBackward:!1})}function i(e,t){return"LINK"===e.getEntity(t).getType()}function o(e,t){return t&&t.length>0?t:e}var l=n(35),u=l.EditorState,c=l.RichUtils,d=l.Modifier,p=l.SelectionState;t.toggleLink=function e(t,n){var s=a(t);if(s)return e(s,n);var i=n.url;if(0===i.length)return t;var l=o(i,n.text),c=t.getCurrentContent(),p=c.createEntity("LINK","MUTABLE",{url:i,text:l}),f=p.getLastCreatedEntityKey(),m=t.getSelection();return m.isCollapsed()?u.push(t,d.insertText(p,m,l,null,f),"insert-link"):u.push(t,d.replaceText(p,r(m,l),l,null,f),"adjust-link")},t.removeLink=a,t.getSelectedLinkSelection=s,t.isLinkEntity=i},function(e,t,n){"use strict";function r(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&s(n,t)},t)}var a=n(503),s=a.isLinkEntity;e.exports=r},function(e,t){"use strict";function n(e){return e[e.length-1]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return a.EditorState.forceSelection(e,e.getSelection())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(35);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(1012),o=r(i),l=n(1013),u=r(l),c=n(1014),d=r(c),p=n(251),f=r(p),m=n(204);t.default=(0,s.default)({displayName:"/var/web/bridge/packages/bridge-global-nav/src/notifications/stores/NotificationStore.js",schema:f.default,initialize:function(){this.fetchStatus=m.FetchStatus.UNSENT},getAll:function(){return this.cache.getCollection({})},fetchAll:function(){var e=this;return this.fetchStatus=m.FetchStatus.LOADING,(0,u.default)().then(function(t){return e.fetchStatus=m.FetchStatus.DONE,e.cache.setCollection({},t),t},function(t){throw e.fetchStatus=m.FetchStatus.ERROR,t})},update:function(e){var t=this;return(0,d.default)(e).then(function(){t.cache.add(e)})},delete:function(e){var t=this;return(0,o.default)(e.id).then(function(){t.cache.remove(e.id)})}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,iconUrl:r.string,ltiToolId:r.string,text:r.string,placement:r.string}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.assign)({},e,{uid:e.source+"-"+(e.id||e.goalId),completedAt:e.completedAt?new Date(e.completedAt):void 0,dueAt:e.dueAt?new Date(e.dueAt):void 0,createdAt:e.createdAt?new Date(e.createdAt):void 0})};var r=n(4);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(1021),o=r(i),l=n(1022),u=r(l),c=n(1023),d=r(c),p=n(1024),f=r(p),m=n(205),h=r(m),g=n(204);t.default=(0,s.default)({displayName:"/var/web/bridge/packages/bridge-global-nav/src/tasks/stores/TaskStore.js",schema:h.default,initialize:function(){this.createStatus=g.FetchStatus.UNSENT,this.fetchStatus=g.FetchStatus.UNSENT,this.updateStatus={},this.deleteStatus={}},storeOptions:{defaultCacheOptions:{idGenerator:function(e){return e.uid}}},getAll:function(){return this.cache.getCollection({})},fetchAll:function(){var e=this;return this.fetchStatus=g.FetchStatus.LOADING,(0,d.default)().then(function(t){return e.fetchStatus=g.FetchStatus.DONE,e.cache.setCollection({},t),t},function(t){throw e.fetchStatus=g.FetchStatus.ERROR,e.emitChange(),t})},create:function(e){var t=this;return this.createStatus=g.FetchStatus.LOADING,(0,o.default)(e).then(function(e){return t.createStatus=g.FetchStatus.DONE,t.cache.addToCollection({},[e]),e},function(){t.createStatus=g.FetchStatus.ERROR,t.emitChange()})},update:function(e){var t=this;return this.cache.transaction(function(){return t.updateStatus[e.uid]=g.FetchStatus.LOADING,t.cache.add(e),(0,f.default)(e).then(function(){t.updateStatus[e.uid]=g.FetchStatus.DONE,t.emitChange()},function(n){throw t.updateStatus[e.uid]=g.FetchStatus.ERROR,t.emitChange(),n})})},delete:function(e){var t=this;return this.deleteStatus[e.uid]=g.FetchStatus.LOADING,(0,u.default)(e).then(function(){t.deleteStatus[e.uid]=g.FetchStatus.DONE,t.cache.remove(e.uid)},function(n){throw t.deleteStatus[e.uid]=g.FetchStatus.ERROR,t.emitChange(),n})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(95),o=r(i),l=n(1028),u=r(l),c=n(1029),d=r(c),p=n(1027),f=r(p),m=n(252),h=r(m),g=n(204);t.default=(0,s.default)({displayName:"/var/web/bridge/packages/bridge-global-nav/src/users/stores/UserStore.js",schema:h.default,initialize:function(){this.searchStatus=g.FetchStatus.UNSENT,this.directReportsCache=(0,o.default)(this.emitChange,{schema:h.default,displayName:"GlobalNav__UserStore__directReport"}),this.searchCache=(0,o.default)(this.emitChange,{schema:h.default,displayName:"GlobalNav__UserStore__search"})},clear:function(){this.directReportsCache.clear(),this.searchCache.clear()},fetch:function(e){return(0,u.default)(e).then(this.cache.add)},get:function(e){return this.cache.get(e)},fetchDirectReports:function(e){var t=this;return(0,f.default)(e).then(function(e){t.directReportsCache.setCollection({},e)})},getDirectReports:function(){return this.directReportsCache.getCollection({})},search:function(e){var t=this;return this.searchStatus=g.FetchStatus.LOADING,(0,d.default)({params:{search:e}}).then(function(e){return t.searchStatus=g.FetchStatus.DONE,t.searchCache.setCollection({},e),e},function(e){throw t.searchStatus=g.FetchStatus.ERROR,t.emitChange(),e})},getSearchResults:function(){return this.searchCache.getCollection({})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(813),o=r(i),l=n(28),u=r(l),c=n(897),d=r(c),p=n(149),f=r(p),m=n(2),h=n(166),g=r(h),v=n(20),_=r(v),y=s.default.createClass({displayName:"ApplicationLayout",propTypes:{user:m.object,children:m.node.isRequired,bodyClassName:m.object,currentRouteName:m.string,masquerading:m.bool,location:m.object,renderToast:m.bool},getDefaultProps:function(){return{renderToast:!0}},getInitialState:function(){return{preventTransitions:!0}},componentDidMount:function(){this.setState({preventTransitions:!1}),this.synchronizeBodyClassNames()},componentWillReceiveProps:function(e){this.synchronizeBodyClassNames(e)},render:function(){return s.default.createElement("div",{"data-route":this.props.currentRouteName,className:(0,u.default)("full-height",{"no-transition":this.state.preventTransitions,"appWrapper--masquerade-overlay":this.props.masquerading})},this.props.renderToast&&(0,_.default)("global_nav")&&s.default.createElement(g.default,{scope:location.pathname}),s.default.createElement("div",{className:"layout--dialog--app-wrap full-height"},this.props.children),s.default.createElement(o.default,null),s.default.createElement("div",{id:"application-aria-alert",className:"screenreader-only","aria-live":"polite","aria-atomic":"true"}))},synchronizeBodyClassNames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=f.default.getActiveTheme(e.currentRouteName,e.user&&e.user.theme),n=Object.assign({"without-sidebar":!0},t.classNames,e.bodyClassName);(0,d.default)(n)}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(2),f=r(p),m=n(1),h=r(m),g=n(1010),v=r(g),_=n(34),y=r(_),b=n(31),E=r(b),C=n(62),I=r(C),T=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e={supportLevel:E.default.get("DOMAIN.config.support_level"),showCustomSupportInfo:E.default.get("DOMAIN.config.show_custom_support_info"),supportName:E.default.get("DOMAIN.config.support_name"),supportPhone:E.default.get("DOMAIN.config.support_phone"),supportEmail:E.default.get("DOMAIN.config.support_email"),customerProvidedSupportHelpArticlesURL:E.default.get("DOMAIN.config.customer_provided_support_help_articles_url"),customerProvidedSupportChatURL:E.default.get("DOMAIN.config.customer_provided_support_chat_url"),customSupportChatURL:E.default.get("DOMAIN.config.custom_support_chat_url"),customSupportPhoneNumber:E.default.get("DOMAIN.config.custom_support_phone_number"),customSupportTicketURL:E.default.get("DOMAIN.config.custom_support_ticket_url"),customSupportHelpArticlesURL:E.default.get("DOMAIN.config.custom_support_help_articles_url")},t={accentColor:I.default.getColor(),navigationColor:I.default.getNavColor(),enabled:I.default.isColorEnabled()};return h.default.createElement("div",{className:"content-wrapper global-nav-wrapper"},h.default.createElement(v.default,{location:this.props.location,currentUserInfo:this.props.user,profile:this.props.user,stopMasquerading:y.default.stopMasquerading.bind(y.default),isMasquerading:y.default.isMasquerading(),customMasqueradingMessage:y.default.getCustomMasqueradingMessage(),preview:this.props.preview,userRoles:y.default.getRoles(),accountInfo:e,brandingInfo:t},h.default.Children.only(this.props.children)))}}]),t}(h.default.Component);T.propTypes={children:f.default.node.isRequired,path:f.default.string.isRequired,currentRouteName:f.default.string.isRequired,location:f.default.object,user:f.default.object,preview:f.default.bool},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(5),u=n(6),c=r(u),d=n(4),p=n(517),f=n(336),m=n(515),h=r(m),g=["geolocation *","microphone *","camera *","midi *","encrypted-media *"];t.default=o.default.createClass({displayName:"LtiResourceIframe",propTypes:{width:s.default.number,height:s.default.number,ltiResource:p.LtiResourceSchema,className:s.default.string,iFrameClassName:s.default.string,isModal:s.default.bool,isLoading:s.default.bool,isDisabled:s.default.bool},getInitialState:function(){return{iframeIsLoading:!0,iframeTargetName:(0,d.uniqueId)("lti_iframe_"),isLoading:!0,isDisabled:!1}},componentDidUpdate:function(e){var t=(0,h.default)(e.ltiResource,e.isLoading,e.isDisabled),n=(0,h.default)(this.props.ltiResource,this.props.isLoading,this.props.isDisabled);t===f.LTI_RESOURCE_STATUS_LOADING&&n!==f.LTI_RESOURCE_STATUS_LOADING&&n!==f.LTI_RESOURCE_STATUS_LOADED?this.setState({iframeIsLoading:!1}):t!==f.LTI_RESOURCE_STATUS_LOADING&&n===f.LTI_RESOURCE_STATUS_LOADING&&this.setState({iframeIsLoading:!0})},render:function(){var e=(0,c.default)(this.props.className,"lti-resource",{"lti-resource--auto-size":this.useAvailableSpace(),"lti-resource--modal":this.props.isModal}),t=(0,h.default)(this.props.ltiResource,this.props.isLoading,this.props.isDisabled);return o.default.createElement("div",{className:e},t===f.LTI_RESOURCE_STATUS_LOADING||this.state.iframeIsLoading?o.default.createElement(l.Loader,null):null,t!==f.LTI_RESOURCE_STATUS_LOADING?this.renderIframe(t):null)},renderIframe:function(e){var t=this.props,n=t.ltiResource,r=t.width,a=t.height,s=t.isModal;if(e===f.LTI_RESOURCE_STATUS_LOADED){var i=n.launchData||{},u=(0,c.default)(this.props.iFrameClassName,"lti-resource__tool-launch",{"lti-resource__tool-launch--auto-size":this.useAvailableSpace(),"lti-resource__tool-launch--loading":this.state.iframeIsLoading,"lti-resource__tool-launch--modal":s});return o.default.createElement("div",{className:"lti-resource__body"},o.default.createElement(l.IESafeIframe,{className:u,name:this.state.iframeTargetName,id:this.state.iframeTargetName,onLoad:this.iframeLoaded,allowFullScreen:!0,width:r,height:a,allow:g.join("; ")}),o.default.createElement("form",{action:n.launchUrl,ref:this.submitForm,method:"post",encType:"application/x-www-form-urlencoded",target:this.state.iframeTargetName},Object.keys(i).map(this.renderInputItem)))}return e===f.LTI_RESOURCE_STATUS_DISABLED?o.default.createElement(l.NotFound,{iconText:I18n.t("Tool Disabled"),contentTitle:I18n.t("Oops!"),contentMessage:I18n.t("Looks like there's a problem with this app. Talk to your Bridge administrator for details."),contentClass:"half-height"}):o.default.createElement(l.NotFound,null)},renderInputItem:function(e){var t=this.props.ltiResource.launchData||{};return o.default.createElement("input",{type:"hidden",name:e,key:e,value:t[e]})},iframeLoaded:function(){this.setState({iframeIsLoading:!1})},submitForm:function(e){e&&this.props.ltiResource&&this.props.ltiResource.launchUrl&&e.submit()},useAvailableSpace:function(){return!(this.props.isModal||this.props.width&&this.props.height)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?r.LTI_RESOURCE_STATUS_DISABLED:t?r.LTI_RESOURCE_STATUS_LOADING:e&&(0,a.isValidURL)(e.launchUrl)?r.LTI_RESOURCE_STATUS_LOADED:r.LTI_RESOURCE_STATUS_NOT_FOUND};var r=n(336),a=n(86);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=(0,r.shape)({"@id":r.string,width:r.number,height:r.number}),s=(0,r.shape)({"@id":r.string,"@type":r.string,mediaType:r.string,url:r.string,title:r.string,text:r.string,icon:a,thumbnail:a,placementAdvice:(0,r.shape)({presentationDocumentTarget:r.string,windowTarget:r.string,displayHeight:r.number,displayWidth:r.number}),custom:r.any});t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default={normalizeLtiResource:function(e,t){var n=t.launch_data,r=t.context_info;delete t.launch_data,delete t.context_info;var a=e(t);return a.launchData=n,a.contextInfo=r,a},LtiResourceSchema:(0,r.shape)({placementId:r.string,contextInfo:r.object,contentId:r.string,contentType:r.string,contentUrl:r.string,roles:r.string,ltiContentItemId:r.string,programId:r.string,toolId:r.string,launchUrl:r.string,launchData:r.object})},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TINYMCE_HEADING_STYLES=["TINYMCE-HEADER-ONE","TINYMCE-HEADER-TWO","TINYMCE-HEADER-THREE","TINYMCE-HEADER-FOUR","TINYMCE-HEADER-FIVE","TINYMCE-HEADER-SIX"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(28),d=r(c),p=n(4),f=u.default.createClass({displayName:"RichContent",propTypes:{className:o.default.string,withEffectiveWhitespace:o.default.bool,customFontsEnabled:o.default.bool},render:function(){var e=(0,d.default)(this.props.className,"slide-content",{"slide-content--with-effective-whitespace":this.props.withEffectiveWhitespace,"brand-font":this.props.customFontsEnabled}),t=(0,p.omit)(this.props,["className","withEffectiveWhitespace","customFontsEnabled"]);return u.default.createElement("div",(0,s.default)({},t,{className:e,"data-capybara":"slide_content"}))}});e.exports=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t){"use strict";function n(e){return Object.keys(e.params).reduce(function(t,n){return Object.assign(t,e.params[n])},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){var t=e.pathname,n=e.search;return n&&"?"===n[0]?""+t+n:n?t+"?"+n:t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return e.replace(r,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=/\/__index__$/;e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=(0,a.parse)(e,i);return Object.keys(t).map(function(e){var n=t[e];return{path:e.split("[").map(function(e){return e.replace(/\]$/,"")}),value:n}}).reduce(function(e,t){var n=t.path,r=t.value;return(0,s.set)(e,n,r)},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1133),s=n(4),i={arrayFormat:"bracket"};e.exports=t.default},function(e,t,n){"use strict";var r=n(1111),a={getItem:function(e){return r.get(e)},setItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r.set(e,t,n)},removeItem:function(e){r.remove(e)},clear:function(){a._getDefinedKeys().forEach(r.remove)},_getDefinedKeys:function(){return Object.keys(r())}};e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(!(0,s.isString)(e))return"";var t=e.split(".").pop(),n=l.FILETYPE_CATEGORIES[t];return n?(0,o.default)("gs-doc_"+n,l.FILETYPE_COLORS[n]):""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(4),i=n(28),o=r(i),l=n(207);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.keyCode===u.KC_TAB&&e.shiftKey||e.keyCode===u.KC_UP?-1:1}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!t&&e.keyCode!==u.KC_TAB)&&(!t||[u.KC_TAB,u.KC_UP,u.KC_DOWN].indexOf(e.keyCode)!==-1)}function i(e,t){var n=t.container,r=t.useArrowKeys,i=void 0!==r&&r,o=t.onFocusOut,u=void 0===o?null:o;if(s(e,i)){n||(n=e.currentTarget);var c=(0,l.default)(n),d=0,p=a(e),f=!1;p<0?(d=c.indexOf(document.activeElement)-1,d<0&&(d=c.length-1,f=!0)):(d=c.indexOf(document.activeElement)+1,d>c.length-1&&(d=0,f=!0)),f&&u?u(e,{container:n,tabbable:c,index:d,direction:p}):(e.preventDefault(),e.stopPropagation(),c[d].focus())}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(343),l=r(o),u=n(207);t.default={eventDirection:a,isKeyEvent:s,handleKeyDown:i,findTabbable:l.default},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(23);t.default=o.default.createClass({displayName:"Icon",propTypes:{className:s.default.string},getInitialState:function(){return{safariClickWorkaroundStyle:{}}},componentDidMount:function(){var e=navigator.vendor.indexOf("Apple ")>-1;if(e){var t=(0,l.findDOMNode)(this).parentNode.tagName;"BUTTON"===t&&this.setState({safariClickWorkaroundStyle:{pointerEvents:"none"}})}},render:function(){return o.default.createElement("i",{"aria-hidden":"true",className:this.props.className,style:this.state.safariClickWorkaroundStyle})}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.node,i=a.bool,o=a.func,l=r.createClass({displayName:"KeyMapper",statics:{keyNames:{13:"Return",27:"Escape",40:"Down",38:"Up",9:"Tab",8:"Backspace"},consumeEvent:function(e){return e.preventDefault(),e.stopPropagation(),e}},propTypes:{children:s.isRequired,consumeTheRest:i,onKCReturn:o,onKCEscape:o,onKCDown:o,onKCUp:o,onKCTab:o,onKCBackspace:o,onOtherKeys:o},render:function(){var e={onKeyDown:this.handleKeyPresses};return this.props.consumeTheRest&&(e.onKeyUp=this.constructor.consumeEvent,e.onKeyPress=this.constructor.consumeEvent),r.cloneElement(r.Children.only(this.props.children),e)},handleKeyPresses:function(e){var t=this.constructor.keyNames[e.keyCode],n=this.props["onKC"+t];n?n(e):this.props.onOtherKeys&&this.props.onOtherKeys(e)}});e.exports=l},function(e,t,n){"use strict";function r(e){return null!==e&&parseInt(e,10)>=0}function a(e){i.findDOMNode(e).focus()}var s=n(1),i=n(23),o=n(1075),l=n(2),u=l.node,c=l.number,d=l.func,p=s.createClass({displayName:"List",statics:{Item:o},propTypes:{children:u,cursor:c,onCursorChange:d},getDefaultProps:function(){return{cursor:-1}},componentDidUpdate:function(e){var t=e.cursor!==this.props.cursor;if(t&&r(this.props.cursor)){var n=this.refs["item--"+this.props.cursor];n&&a(n)}},render:function(){return s.createElement("ul",{className:"bridge-ui-list"},s.Children.map(this.props.children,this.renderItem))},renderItem:function(e,t){return s.cloneElement(e,{ref:"item--"+t})},focusNext:function(){var e=this.props.cursor,t=s.Children.count(this.props.children);e<0||e===t-1?this.emitCursorChange(0):this.emitCursorChange(e+1)},focusPrevious:function(){var e=this.props.cursor,t=s.Children.count(this.props.children);e<=0||e>t-1?this.emitCursorChange(t-1):this.emitCursorChange(e-1)},emitCursorChange:function(e){this.props.onCursorChange(e)}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){(0,i.default)(!e.hasOwnProperty("stub"),'Stubbable Function cannot expose the reserved attribute "stub".'),(0,i.default)(!e.hasOwnProperty("restore"),'Stubbable Function cannot expose the reserved attribute "restore".');var t=function e(){return e.__call__.apply(null,arguments)};return t.stub=function(e){t.__call__=e},t.restore=function(){t.__call__=e},t.__call__=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(49),i=r(s);e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.stripPrefix=function(e,t){return 0===e.indexOf(t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");a!==-1&&(r=t.substr(a),t=t.substr(0,a));var s=t.indexOf("?");return s!==-1&&(n=t.substr(s),t=t.substr(0,s)),t=decodeURI(t),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,a=encodeURI(t||"/");return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}},,,,function(e,t,n){!function(){var t=n(716),r=n(402).utf8,a=n(1110),s=n(402).bin,i=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?s.stringToBytes(e):r.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var o=t.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,d=-1732584194,p=271733878,f=0;f<o.length;f++)o[f]=16711935&(o[f]<<8|o[f]>>>24)|4278255360&(o[f]<<24|o[f]>>>8);o[l>>>5]|=128<<l%32,o[(l+64>>>9<<4)+14]=l;for(var m=i._ff,h=i._gg,g=i._hh,v=i._ii,f=0;f<o.length;f+=16){var _=u,y=c,b=d,E=p;u=m(u,c,d,p,o[f+0],7,-680876936),p=m(p,u,c,d,o[f+1],12,-389564586),d=m(d,p,u,c,o[f+2],17,606105819),c=m(c,d,p,u,o[f+3],22,-1044525330),u=m(u,c,d,p,o[f+4],7,-176418897),p=m(p,u,c,d,o[f+5],12,1200080426),d=m(d,p,u,c,o[f+6],17,-1473231341),c=m(c,d,p,u,o[f+7],22,-45705983),u=m(u,c,d,p,o[f+8],7,1770035416),p=m(p,u,c,d,o[f+9],12,-1958414417),d=m(d,p,u,c,o[f+10],17,-42063),c=m(c,d,p,u,o[f+11],22,-1990404162),u=m(u,c,d,p,o[f+12],7,1804603682),p=m(p,u,c,d,o[f+13],12,-40341101),d=m(d,p,u,c,o[f+14],17,-1502002290),c=m(c,d,p,u,o[f+15],22,1236535329),u=h(u,c,d,p,o[f+1],5,-165796510),p=h(p,u,c,d,o[f+6],9,-1069501632),d=h(d,p,u,c,o[f+11],14,643717713),c=h(c,d,p,u,o[f+0],20,-373897302),u=h(u,c,d,p,o[f+5],5,-701558691),p=h(p,u,c,d,o[f+10],9,38016083),d=h(d,p,u,c,o[f+15],14,-660478335),c=h(c,d,p,u,o[f+4],20,-405537848),u=h(u,c,d,p,o[f+9],5,568446438),p=h(p,u,c,d,o[f+14],9,-1019803690),d=h(d,p,u,c,o[f+3],14,-187363961),c=h(c,d,p,u,o[f+8],20,1163531501),u=h(u,c,d,p,o[f+13],5,-1444681467),p=h(p,u,c,d,o[f+2],9,-51403784),d=h(d,p,u,c,o[f+7],14,1735328473),c=h(c,d,p,u,o[f+12],20,-1926607734),u=g(u,c,d,p,o[f+5],4,-378558),p=g(p,u,c,d,o[f+8],11,-2022574463),d=g(d,p,u,c,o[f+11],16,1839030562),c=g(c,d,p,u,o[f+14],23,-35309556),u=g(u,c,d,p,o[f+1],4,-1530992060),p=g(p,u,c,d,o[f+4],11,1272893353),d=g(d,p,u,c,o[f+7],16,-155497632),c=g(c,d,p,u,o[f+10],23,-1094730640),u=g(u,c,d,p,o[f+13],4,681279174),p=g(p,u,c,d,o[f+0],11,-358537222),d=g(d,p,u,c,o[f+3],16,-722521979),c=g(c,d,p,u,o[f+6],23,76029189),u=g(u,c,d,p,o[f+9],4,-640364487),p=g(p,u,c,d,o[f+12],11,-421815835),d=g(d,p,u,c,o[f+15],16,530742520),c=g(c,d,p,u,o[f+2],23,-995338651),u=v(u,c,d,p,o[f+0],6,-198630844),p=v(p,u,c,d,o[f+7],10,1126891415),d=v(d,p,u,c,o[f+14],15,-1416354905),c=v(c,d,p,u,o[f+5],21,-57434055),u=v(u,c,d,p,o[f+12],6,1700485571),p=v(p,u,c,d,o[f+3],10,-1894986606),d=v(d,p,u,c,o[f+10],15,-1051523),c=v(c,d,p,u,o[f+1],21,-2054922799),u=v(u,c,d,p,o[f+8],6,1873313359),p=v(p,u,c,d,o[f+15],10,-30611744),d=v(d,p,u,c,o[f+6],15,-1560198380),c=v(c,d,p,u,o[f+13],21,1309151649),u=v(u,c,d,p,o[f+4],6,-145523070),p=v(p,u,c,d,o[f+11],10,-1120210379),d=v(d,p,u,c,o[f+2],15,718787259),c=v(c,d,p,u,o[f+9],21,-343485551),u=u+_>>>0,c=c+y>>>0,d=d+b>>>0,p=p+E>>>0}return t.endian([u,c,d,p])};i._ff=function(e,t,n,r,a,s,i){var o=e+(t&n|~t&r)+(a>>>0)+i;return(o<<s|o>>>32-s)+t},i._gg=function(e,t,n,r,a,s,i){var o=e+(t&r|n&~r)+(a>>>0)+i;return(o<<s|o>>>32-s)+t},i._hh=function(e,t,n,r,a,s,i){var o=e+(t^n^r)+(a>>>0)+i;return(o<<s|o>>>32-s)+t},i._ii=function(e,t,n,r,a,s,i){var o=e+(n^(t|~r))+(a>>>0)+i;return(o<<s|o>>>32-s)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(i(e,n));return n&&n.asBytes?r:n&&n.asString?s.bytesToString(r):t.bytesToHex(r)}}()},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),u=r(l),c=n(2),d=r(c),p=n(1167),f=r(p),m=n(1166),h=r(m),g=n(548),v=({transitionName:g.nameShape.isRequired,transitionAppear:d.default.bool,transitionEnter:d.default.bool,transitionLeave:d.default.bool,transitionAppearTimeout:(0,g.transitionTimeout)("Appear"),transitionEnterTimeout:(0,g.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,g.transitionTimeout)("Leave")},{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),_=function(e){function t(){var n,r,i;a(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s(this,e.call.apply(e,[this].concat(l))),r._wrapChild=function(e){return u.default.createElement(h.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},i=n,s(r,i)}return i(t,e),t.prototype.render=function(){return u.default.createElement(f.default,o({},this.props,{childFactory:this._wrapChild}))},t}(u.default.Component);_.displayName="CSSTransitionGroup",_.propTypes={},_.defaultProps=v,t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=a;var s=n(1),i=(r(s),n(2)),o=r(i);t.nameShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,leave:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,leave:o.default.string,leaveActive:o.default.string,appear:o.default.string,appearActive:o.default.string})])},,,,,function(e,t,n){e.exports={default:n(698),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(553),s=r(a);t.default=function(e){return Array.isArray(e)?e:(0,s.default)(e)}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return new h.default(function(n,r){var a=[];try{N.default.parse(e,Object.assign({},{preview:A,skipEmptyLines:!0,delimiter:",",step:function(e){s(e.data[0])||a.push(e.data[0])},complete:function(){n(a),t&&t.onParseComplete&&t.onParseComplete()},error:function(e){r(e)}},t))}catch(e){r(e)}})}function s(e){return e.every(function(e){return""===e.trim()})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=r(i),l=n(15),u=r(l),c=n(415),d=r(c),p=n(1511),f=r(p),m=n(25),h=r(m),g=n(178),v=r(g),_=n(1470),y=r(_),b=n(200),E=r(b),C=n(480),I=r(C),T=n(1487),N=r(T),S=n(4),x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e);var n={file:null,data:null,error:null,hasHeaders:!1,fields:[d.default.create({id:"perm-1",name:"fullName",text:I18n.t("Full Name (First Last)"),isCustom:!1}),d.default.create({id:"perm-2",name:"sortableName",text:I18n.t("Full Name (Last, First)"),isCustom:!1}),d.default.create({id:"perm-3",name:"firstName",alias:"first",text:I18n.t("First Name"),isCustom:!1}),d.default.create({id:"perm-4",name:"lastName",alias:"last",text:I18n.t("Last Name"),isCustom:!1}),d.default.create({id:"perm-5",name:"email",alias:"emailAddress",text:I18n.t("Email"),isCustom:!1}),d.default.create({id:"perm-6",name:"locale",alias:"language",text:I18n.t("Language"),isCustom:!1}),d.default.create({id:"perm-7",name:"hrisId",alias:"hris",text:I18n.t("HRIS ID"),isCustom:!1}),d.default.create({id:"perm-8",name:"hireDate",alias:"hireDate",text:I18n.t("Hire Date"),isCustom:!1}),d.default.create({id:"perm-9",name:"jobTitle",alias:"jobTitle",text:I18n.t("Job Title"),isCustom:!1})],uploadType:null};this._primaryField=d.default.create({id:"perm-primary",name:"uid",icon:"gs-key gs-2x",altText:I18n.t("Login ID"),text:I18n.t("Login ID"),isCustom:!1,preview:this}),this._managerField=d.default.create({id:"perm-manager",name:"managerUid",text:I18n.t("Manager ID"),altText:I18n.t("Manager ID"),icon:"gs-key gs-2x",isCustom:!1}),this._learnableField=d.default.create({id:"perm-learnable",name:"learnableId",text:I18n.t("Course ID"),altText:I18n.t("Course ID"),icon:"gs-key gs-2x",isCustom:!1,allowDuplicates:!0}),this._primaryFieldDupes=d.default.create({id:"perm-primary-dupes",name:"primaryFieldDupes",text:I18n.t("Login ID"),altText:I18n.t("Login ID"),icon:"gs-key gs-2x",isCustom:!1,allowDuplicates:!0}),Object.assign(this,n,t)}return(0,u.default)(e,[{key:"addPasswordField",value:function(){this.set("fields",this.fields.concat(d.default.create({id:"perm-password",name:"password",text:I18n.t("Password"),isCustom:!1})))}},{key:"setFields",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.set("onlyPassedInFields",t),this.set("fields",e)}},{key:"useImportProfile",value:function(e){var t=this;this.set("hasHeaders",e.hasHeaders);var n=this.get("firstRow.length"),r=e.importColumns.filter(function(e){return e.position<n}).map(function(e){return Object.assign({},e,{name:(0,I.default)(e.name)})}),a=this.get("fieldsWithManager").filter(function(e){return!!e.get("id")});r.forEach(function(e){e.primaryField?t.primaryField.set("index",e.position):e.managerPrimaryField&&t.managerField.set("index",e.position),a.forEach(function(t){(t.get("name")===e.name||t.get("isCustom")&&t.get("id")===e.customFieldId)&&t.set("index",e.position)})})}},{key:"addCustomFields",value:function(e){if(!this.get("onlyPassedInFields")){var t=(0,v.default)(e).map(d.default.createFromCustomField);this.set("fields",this.fields.concat(t))}}},{key:"analyzeHeaders",value:function(){if(this.get("hasHeaders")){var e=function(e){return(e||"").toLowerCase().replace(/[_\W]+/g,"")},t=this.get("firstRow"),n=t.map(e).filter(function(e){return""!==e}),r=this.get("fields").filter(function(e){return!e.get("showAsButton")});r.forEach(function(t){var r=e(t.get("name")),a=e(t.get("alias"));n.forEach(function(e,n){e!==r&&e!==a||t.set("index",n)})})}}},{key:"_ensureHasOnlyOneCustomField",value:function(){var e=this.fields.filter(function(e){return e.showAsButton===!0});if(!this.get("onlyPassedInFields"))if(0===e.length)this.set("fields",this.fields.concat(d.default.create({id:(0,y.default)(this.fields)+"--blank",isEditable:!0,isCustom:!0})));else if(e.length>1){var t=e.slice(0,e.length-1);this.set("fields",this.fields.filter(function(e){return t.indexOf(e)===-1}))}}}],[{key:"createFromUrl",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a(t,{download:!0,onParseComplete:r}).then(function(r){return e.create({data:r,url:t,uploadType:n})}).catch(function(r){return e.create({data:null,error:r,url:t,uploadType:n})})}},{key:"createFromFile",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a(t,{onParseComplete:r}).then(function(r){return e.create({data:r,file:t,uploadType:n})})}}]),e}();t.default=(0,f.default)(x,{objectDidInstantiate:function(){var e=this;if(this._emitChangeOfFieldData=function(){e._ensureHasOnlyOneCustomField(),(0,p.emitChangeOf)(e)},this.fields.forEach(function(t){t.addObserver("*",e._emitChangeOfFieldData)}),this._ensureHasOnlyOneCustomField(),this.firstRow){var t=this.get("firstRow");this.set("hasHeaders",t&&!t.some(function(e){return e.match(/[\d@]/)}))}},objectDidUpdate:function(e){var t=this;e.fields!==this.fields&&(e.fields.forEach(function(e){e.removeObserver("*",t._emitChangeOfFieldData)}),this.fields.forEach(function(e){e.addObserver("*",t._emitChangeOfFieldData)}),this._ensureHasOnlyOneCustomField()),e.hasHeaders!==this.hasHeaders&&this.primaryField.recheckUniquenessOnHasHeadersChange()},computedProperties:{primaryField:function(){return this._primaryField},primaryFieldDupes:function(){return this._primaryFieldDupes},managerField:function(){return this._managerField},learnableField:function(){return this._learnableField},isDeport:function(){return"deport"===this.uploadType},isImport:function(){return!this.isDeport},sortedFields:function(){return(0,S.sortBy)(this.get("fields"),["showAsButton","isCustom","text"])},fieldsWithManager:function(){return this.get("fields").concat(this.get("managerField"))},firstRow:function(){return this.get("data[0]")},headers:function(){return this.get("firstRow")},otherRows:function(){return(this.get("data")||[]).slice(1)},isValid:function(){var e=!(0,p.isNone)(this.get("file")),t=!(0,p.isNone)(this.get("url")),n=!(0,p.isNone)(this.get("primaryFieldDupes.index")),r=!(0,p.isNone)(this.get("primaryField.index")),a=!this.get("primaryField.isScanning"),s=!this.get("primaryField.isFailed"),i=r&&a&&s,o=e||t;return!!o&&(i||n)},higherOrderFields:function(){return[this.get("primaryField"),this.get("primaryFieldDupes"),this.get("managerField"),this.get("learnableField")]},fieldMap:function e(){var t=this,n=this.get("fields").slice().filter(function(e){return!!e.isAssigned}),e=n.reduce(function(e,t){return e[t.get("index")]=(0,E.default)(t.get("importValue")),e},{}),r=this.get("higherOrderFields").filter(function(e){return null!==e.get("index")});return r.forEach(function(n){var r=n.get("index"),a=e[r]?[e[r]]:[],s=n.get("name")===t.get("primaryFieldDupes").get("name")?t.get("primaryField").get("name"):n.get("name");a.push((0,E.default)(s)),e[r]=a}),e}}});var A=5;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(186),v=r(g),_=n(378),y=n(1250),b=r(y),E=n(2083),C=r(E),I=n(2),T=n(6),N=r(T),S=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getScreens",value:function(){return this.props.screens.map(function(e){return v.default.getScreen(e)})}},{key:"render",value:function(){var e=this,t=this.props.clickable?C.default:b.default,n=(0,N.default)("branding-tiles","branding-tiles--"+this.props.tileSize);return h.default.createElement("div",{className:n},this.getScreens().map(function(n){return h.default.createElement(t,(0,s.default)({key:n.id},n,{title:n.title(),linkTo:e.props.linkTo?e.props.linkTo:void 0}))}))}}]),t}(h.default.Component);S.propTypes={screens:I.array,clickable:I.bool,linkTo:I.string,tileSize:(0,I.oneOf)(["small","medium"])},S.defaultProps={screens:_.all,clickable:!1,tileSize:"small"},t.default=S,e.exports=t.default},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return 0===e?0:Math.round(100*t/e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DrillDown=t.ReportingBy=t.SortBy=void 0;var a=n(10),s=n(742),i=n(261),o=r(i),l=t.SortBy=(0,a.oneOf)(["A_Z","Z_A"]),u=t.ReportingBy=(0,a.oneOf)(["PEOPLE","GROUP","TEAM","CONTENT"]),c=(0,a.shape)({item:(0,a.oneOfType)([s.Team,s.People,s.PeopleContent,s.Content,s.Group]),page:a.number.isRequired}),d=t.DrillDown=(0,a.arrayOf)(c);t.default=(0,a.shape)({query:{range:a.string.isRequired,startDate:(0,a.instanceOf)(Date).isRequired,endDate:(0,a.instanceOf)(Date).isRequired,sortBy:l.isRequired,resultsPerPage:a.number.isRequired,page:a.number.isRequired,reportingBy:u.isRequired,filters:(0,a.arrayOf)(o.default).isRequired,search:a.string.isRequired,drillDown:d},filters:(0,a.arrayOf)(o.default).isRequired,results:(0,a.arrayOf)((0,a.oneOfType)([s.Team,s.People,s.PeopleContent,s.Content,s.Group])).isRequired,totalResults:a.number.isRequired,isLoading:a.bool.isRequired,isExporting:a.bool.isRequired,hasError:a.bool.isRequired})},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.node,i=a.string,o=r.createClass({displayName:"FormItem",propTypes:{label:i,children:s.isRequired},render:function(){return r.createElement("div",{className:"margin-b-m"},this.props.label?r.createElement("label",null,this.props.label):null,r.createElement("div",{className:"padding-t-xs"},this.props.children))}});e.exports=o},function(e,t,n){"use strict";var r=n(21),a=n(2273),s=n(2278),i=n(2274),o=n(2266),l=n(2280),u=n(2279),c=n(44),d=r({displayName:"SubAccountStore",schema:n(83),getInitialState:function(){return{paginator:c(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.performWithoutParsing({nextPageURL:e,data:t})})}},fetchAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.state.paginator.findFirstPage(t).then(function(n){e.cache.setCollection(t,s.parse(n))})},fetchNext:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.paginator.hasMorePages()&&this.state.paginator.findNextPage(t).then(function(n){e.cache.addToCollection(t,s.parse(n))})},fetch:function(e){var t=this;return i(e).then(function(e){return t.cache.add(e),e})},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cache.getCollection(e)},get:function(e){return this.cache.get(e)},create:function(e){return o(e)},disable:function(e){return a(e).then(this.cache.add)},update:function(e,t){return l(e,t).then(this.cache.add)},regenerateCsvKeys:function(e){return u(e)}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LEARNABLE_LIST_ITEM_STATE_ALERT=t.LEARNABLE_LIST_ITEM_STATE_INACTIVE=t.LEARNABLE_LIST_ITEM_STATE_ACTIVE=void 0;var a=n(2),s=r(a),i=n(1),o=r(i),l=n(214),u=r(l),c=n(2301),d=r(c),p=n(246),f=r(p),m=n(4),h=t.LEARNABLE_LIST_ITEM_STATE_ACTIVE="active",g=t.LEARNABLE_LIST_ITEM_STATE_INACTIVE="inactive",v=t.LEARNABLE_LIST_ITEM_STATE_ALERT="alert",_=o.default.createClass({displayName:"LearnableListItem",propTypes:{title:s.default.node.isRequired,titleWrapper:s.default.node,statusIndicator:s.default.node.isRequired,status:s.default.oneOf([v,h,g]),metadata:s.default.node,body:s.default.node,actions:s.default.node,onAttachmentIconClick:s.default.func,activeItemId:s.default.string,showAttachments:s.default.bool,approvalSummary:f.default.isRequired},getDefaultProps:function(){return{titleWrapper:null,body:null,state:h,onAttachmentIconClick:function(){}}},render:function(){var e=this.props.status,t=this.props.titleWrapper?o.default.cloneElement(this.props.titleWrapper,{children:this.props.title}):this.props.title;return o.default.createElement("div",{className:"learnable-list-item learnable-list-item--"+e},o.default.createElement("div",{className:"learnable-list-item__status"},this.props.statusIndicator),o.default.createElement("div",{className:"learnable-list-item__content"},o.default.createElement("h2",null,t),o.default.createElement("div",{className:"learnable-list-item__metadata"},this.renderMetadata()),this.props.body&&o.default.createElement("div",{className:"learnable-list-item__body"},this.props.body)),this.props.actions&&this.renderActions(),this.canShowAttachmentsIcon()&&this.renderAttachmentsIcon())},renderMetadata:function(){var e=this.props.approvalSummary;return o.default.createElement(d.default,{approvalSummary:e,showAttachments:!1,
showLink:!0})},renderActions:function(){return o.default.createElement("div",{className:"learnable-list-item__actions"},this.props.actions)},renderAttachmentsIcon:function(){var e=this.props.approvalSummary;if(!e)return null;var t=this.props,n=t.activeItemId,r=t.onAttachmentIconClick;return o.default.createElement("div",{className:"learnable-list-item__attachments"},o.default.createElement(u.default,{className:"margin-r-s",onClick:function(){return r(e)},activeItemId:n,itemId:e.id,attachmentsCount:this.attachmentsCount()}))},canShowAttachmentsIcon:function(){return this.props.showAttachments&&this.attachmentsCount()>0},attachmentsCount:function(){return(0,m.get)(this.props,"approvalSummary.attachmentsCount")||0}});t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){f.default.sendCustomMessage(e,t,n,r)}function s(e,t,n){f.default.sendWelcomeMessage(e,t,n)}function i(e,t,n){f.default.sendPasswordMessage(e,t,n)}function o(e,t){var n=u(e,t);return d.default.save({learnerId:e.id,attributes:n})}function l(e){return d.default.restore({learnerId:e.id})}function u(e,t){var n=t.reduce(function(e,t){var n=t.customField.id;return c.STATIC_CUSTOM_FIELD_VALUES.indexOf(n)>-1?e.statics[n]=t.value:e.customs[n]=t,e},{statics:{},customs:{}}),r=n.statics,a=n.customs,s=e.customFieldValues.reduce(function(e,t){return e[t.customFieldId]=!0,e},{}),i=e.customFieldValues.map(function(e){var t=a[e.customFieldId];return t?Object.assign({},e,{value:t.value}):e}),o=Object.keys(a).reduce(function(e,t){if(s[t]===!0)return e;var n=a[t];return e.concat({id:n.id,value:n.value,customFieldId:t})},[]),l=(0,m.pick)(e,c.STATIC_CUSTOM_FIELD_VALUES);return Object.assign({},l,r,{customFieldValues:i.concat(o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeCustomFieldValues=void 0,t.sendCustomMessage=a,t.sendWelcomeMessage=s,t.sendPasswordMessage=i,t.saveCustomFields=o,t.restore=l;var c=n(1451),d=r(c),p=n(1325),f=r(p),m=n(4);t.mergeCustomFieldValues=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(139),s=r(a),i=n(22),o=r(i),l=n(2675),u=r(l),c=n(1327),d=r(c);e.exports=function(e){var t=e.fragment,n=e.params,r=e.learnableType;return(0,o.default)({type:d.default,blocking:!0,asyncProps:{certificate:{fetch:function(e){return u.default.apply(void 0,[t].concat((0,s.default)(n.map(function(t){return e.params[t]}))))}},learnableType:{get:function(){return r}}}})}},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.object,o=r.shape,l=r.arrayOf;e.exports=o({id:a,uid:a,name:a,firstName:a,lastName:a,email:a,avatarUrl:a,deletedAt:a,member:s,pendingMember:s,unsubscribed:s,links:i,roles:l(a),subAccount:o({id:a,name:a}),account:o({id:a,name:a}),meta:o({canMasquerade:s})})},function(e,t,n){"use strict";var r=n(1398),a=n(155),s=a.GROUP_COLORS,i=n(4),o=i.assign,l=i.pick;e.exports=r({displayName:"SurveyResults::Groups",parse:function(e){return e.map(function(e){return o({color:s[parseInt(e.id,10)%s.length]},l(e,["id","name","completedCount","recipientsCount","type"]))})}})},function(e,t,n){"use strict";var r=n(13);t.setTrackbackRoute=function(e){window.__COMING_FROM__=e},t.getAndDiscardTrackbackRoute=function(){var e=void 0;return window.__COMING_FROM__&&(e=window.__COMING_FROM__,delete window.__COMING_FROM__),e},t.performCancellation=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.getAndDiscardTrackbackRoute();return n?r.replaceWith(a||e):r.transitionTo(a||e)}},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(2),i=s.arrayOf,o=s.bool,l=s.func,u=n(88),c=n(18),d=n(5),p=d.Icon,f=n(27),m=r.createClass({displayName:"APIToken",mixins:[u.mixin],propTypes:{allowRevoke:o,onRevoke:l.isRequired,token:n(245)},render:function(){return this.isConfirmingRemoval()?this.renderConfirmation():this.renderToken()},renderConfirmation:function(){return r.createElement("li",{className:"removable-item removable-item--focused"},r.createElement("div",{className:"removable-item__title"},this.props.token.key),r.createElement("div",{className:"removable-item__confirm"},a.t("Revoke token?")),r.createElement("div",{className:"removable-item__buttons"},r.createElement(c,{className:"btn--reset dark-grey",onClick:this.cancelRemoval},a.t("Cancel")),r.createElement(c,{className:"btn--reset pink",onClick:this.handleRevoke},a.t("Revoke"))))},renderToken:function(){return r.createElement("li",{className:"padding-tb-m padding-rl-s","data-capybara":"token-item"},r.createElement("div",{className:"left"},this.props.token.key),r.createElement("div",{className:"right"},this.props.allowRevoke&&r.createElement(c,{className:"btn--reset",onClick:this.confirmRemoval},r.createElement(f,null,a.t("Revoke")),r.createElement(p,{className:"gs-x gs-1x dark-grey"}))))},handleRevoke:function(){this.props.onRevoke(this.props.token)}}),h=r.createClass({displayName:"APITokens",propTypes:{allowCreate:o,allowRevoke:o,onCreate:l.isRequired,onRevoke:l.isRequired,tokens:i(n(245)).isRequired},render:function(){var e=this;return r.createElement("div",{className:"margin-t-xl"},r.createElement("h2",{className:"medium"},a.t("API Tokens")),this.props.tokens.length>0?r.createElement("ul",{className:"unstyled","data-capybara":"token-list"},this.props.tokens.map(function(t){return r.createElement(m,{key:t.key,token:t,allowRevoke:e.props.allowRevoke,onRevoke:e.props.onRevoke})})):r.createElement("p",{className:"med-grey","data-capybara":"no-token-msg"},a.t("No tokens.")),this.props.allowCreate&&r.createElement(c,{className:"btn primary filled block margin-t-m",onClick:this.props.onCreate},a.t("Add Token")))}});e.exports=h},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=a.bool,o=a.func,l=n(50),u=l.Table,c=l.Thead,d=l.Tbody,p=l.Tr,f=l.Th,m=n(2965),h=r.createClass({displayName:"AffiliatedSubAccountView",propTypes:{accounts:s(n(156)),canShare:i,onChange:o.isRequired,learnableHasItems:i,hasSharedContent:i,isReadOnly:i},getDefaultProps:function(){return{accounts:[],canShare:!1,isReadOnly:!1}},render:function(){var e=this.props,t=e.accounts,n=e.hasSharedContent;return r.createElement("div",{className:"large-content-area--padded centered affiliated-account-view"},r.createElement("div",{className:"sortable-table-header--first-item"},r.createElement("h2",{className:"margin-t-xs margin-b-s"},I18n.t("Affiliated Accounts")),n&&r.createElement("p",{className:"pink"},I18n.t("This item contains content from a sub account. It cannot be shared until this account owns all content.")),r.createElement("p",null,I18n.t("If access is given, administrators in the account will see this item in their Training tab and be able to enroll learners and groups from their account.")),r.createElement(u,{className:"margin-t-m"},r.createElement(c,null,r.createElement(p,null,r.createElement(f,{sortParam:"name"},I18n.t("Sub Account Name")),r.createElement(f,{sortable:!1,className:"text-center"},I18n.t("Number of Learners")),r.createElement(f,{sortable:!1,className:"text-center"},I18n.t("Access")))),r.createElement(d,null,t.map(this.renderAccount)))))},renderAccount:function(e){return r.createElement(m,{key:e.id,account:e,canShare:this.props.canShare,onChange:this.props.onChange,learnableHasItems:this.props.learnableHasItems,hasSharedContent:this.props.hasSharedContent,isReadOnly:this.props.isReadOnly})}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(5),l=n(33),u=r(l),c=s.default.createClass({displayName:"AttachmentList",propTypes:{attachments:(0,i.arrayOf)(u.default).isRequired},render:function(){var e=this.props.attachments;return e.length?s.default.createElement("ul",null,e.map(function(e){return s.default.createElement("li",{key:e.id,className:"unstyled"},s.default.createElement(o.FileCard,{attachment:e}))})):null}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=n(4),o=i.omit,l=n(18),u=n(5),c=u.Icon,d=n(90),p=n(27),f=n(6),m={triggerText:s,triggerClassName:s,triggerButtonClassName:s,triggerIconClassName:s},h=r.createClass({displayName:"AutocompleteToggle",statics:{Option:d.Option},propTypes:Object.assign({},m,d.propTypes),getDefaultProps:function(){return{onSelect:Function.prototype,onEnter:Function.prototype,onBlur:Function.prototype,onCancel:Function.prototype}},getInitialState:function(){return{active:!1}},render:function(){return this.state.active?this.renderAutocomplete():this.renderTrigger()},renderTrigger:function(){var e=this.props,t=e.triggerClassName,n=e.triggerButtonClassName,a=e.triggerIconClassName,s=e.triggerText,i=f("autocomplete-toggle","autocomplete-toggle--inactive",t),o=f("autocomplete-toggle__trigger-button",n),u=f("autocomplete-toggle__trigger-icon",a);return r.createElement("div",{className:i},r.createElement(l,{className:o,onClick:this.activate},r.createElement(c,{"aria-hidden":"true",className:u}),s))},renderAutocomplete:function(){return r.createElement("div",{className:"autocomplete-toggle"},r.createElement(d,this.getAutocompleteProps()),r.createElement(l,{onClick:this.deactivate,className:"autocomplete-toggle__cancel-button"},r.createElement(p,null,I18n.t("Cancel")),r.createElement(c,{"aria-hidden":"true",className:"autocomplete-toggle__cancel-icon"})))},getAutocompleteProps:function(){var e=this;return Object.assign({},o(this.props,Object.keys(m)),{onSelect:function(t,n){e.props.onSelect.call(e,t,n),e.deactivate()},onEnter:function(t){e.props.onEnter.call(e,t),e.deactivate()},onBlur:function(){e.props.onBlur.call(e),e.deactivate()},onCancel:function(){e.props.onCancel.call(e),e.deactivate()}})},activate:function(){this.setState({active:!0})},deactivate:function(){this.setState({active:!1})}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(62),h=r(m),g=n(6),v=r(g),_=n(2),y=n(236),b=r(y),E=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"renderBackgroundPhoto",value:function(){var e=this.props,t=e.brandPhotoUrl,n=e.brandPhotoOpacity,r=e.brandPhotoStyle,a="branding-bar__background-photo branding-bar--anim-in__background-photo";return f.default.createElement("div",{className:a},f.default.createElement(b.default,{backgroundImageUrl:t,opacity:n,backgroundOption:r}))}},{key:"render",value:function(){var e=this.props,t=e.logoUrl,n=e.isReverseLogo,r=e.brandPhotoUrl,a=(0,v.default)("branding-bar branding-bar--anim-in",{"branding-bar--reverse-default":n&&!h.default.isColorEnabled(),"brand-bg":n}),s="branding-bar__logo-container branding-bar--anim-in__logo-container";return f.default.createElement("div",{className:a},t&&f.default.createElement("span",{className:s},f.default.createElement("div",{className:(0,v.default)("branding-bar__logo",h.default.getLogoClass(!n))},f.default.createElement("img",{src:t,alt:h.default.getName(),onLoad:h.default.handleLogoLoaded.bind(h.default,!0)}))),r&&this.renderBackgroundPhoto())}}]),t}(f.default.Component);E.propTypes={logoUrl:_.string,isReverseLogo:_.bool,brandPhotoUrl:_.string,brandPhotoOpacity:_.number,brandPhotoStyle:_.string},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=r(m),g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){if(0===this.props.children.length){var e=this.props.noResultsText,t=this.props.searchTerm;return e||(e=I18n.t("There are no matches for *%{searchTerm}*",{searchTerm:t,wrappers:['<span class="search-highlight">$1</span>']})),f.default.createElement("div",{className:"card-grid"},f.default.createElement("section",{className:"learning-item-group learning-item-group--empty","data-capybara":"course-list_group_empty"},f.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})))}return f.default.createElement("div",{className:"card-grid"},this.props.children)}}]),t}(f.default.PureComponent);g.propTypes={children:h.default.arrayOf(h.default.node).isRequired,searchTerm:h.default.string,noResultsText:h.default.any},t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=a.string,o=n(6),l=n(325),u=n(12),c=u.KC_RETURN,d=r.createClass({displayName:"ColorPicker",propTypes:{value:i,defaultValue:i.isRequired,onChange:s.isRequired,onFocus:s,onBlur:s},getDefaultProps:function(){return{value:"",onFocus:Function.prototype,onBlur:Function.prototype}},getInitialState:function(){return{value:this.props.value}},componentWillReceiveProps:function(e){this.setState({value:e.value})},onChange:function(e){this.setState({value:e.target.value})},onFocus:function(){this.setState({hasFocus:!0}),this.props.onFocus()},onBlur:function(){this.setState({hasFocus:!1}),this.state.value!==this.props.value&&this.saveIfValid(),this.props.onBlur()},keyDown:function(e){e.keyCode===c&&this.saveIfValid()},getNormalizedValue:function(){return l(this.state.value).toUpperCase()},saveIfValid:function(){this.isValid(this.state.value)&&this.props.onChange(this.getNormalizedValue())},isValid:function(e){return!e||e.match(/^#?([a-f0-9]{3}){1,2}$/i)},render:function(){var e=this.state.hasFocus,t=this.state.value,n=this.isValid(t),a="#"+(this.getNormalizedValue()||this.props.defaultValue),s=o({"dark-grey":!0,"color-picker__input":!0,"color-picker__input--invalid":!n}),i={};n&&(i.borderColor=a);var l=o({"color-picker__preview":!0,"color-picker__preview--invalid":!n});return r.createElement("span",{className:"right color-picker","data-capybara":"color_picker"},r.createElement("input",{className:s,value:e?t:a,placeholder:this.props.defaultValue,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.keyDown}),r.createElement("span",{style:i,className:l}))}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.string,i=a.node,o=a.bool,l=a.number,u=a.object,c=a.shape,d=a.arrayOf,p=a.func,f=n(293),m=n(359),h=n(5),g=h.Icon,v=n(27),_=n(24),y=n(6),b=n(143),E=r.createClass({displayName:"CopyTextModal",mixins:[b],propTypes:{className:s,wrapperClassName:s,triggerClassName:s,title:s,description:s,items:d(c({title:s,description:s})),onClose:p,value:s,children:i,anchor:s,anchorTo:u,anchorToFactor:l,round:o,disabled:o},getDefaultProps:function(){return{round:!1,disabled:!1,onClose:function(){}}},render:function(){var e=y("copy-text-modal__trigger-button",this.props.triggerClassName);return this.isAnchored()?r.createElement(m,{className:"copy-text-modal",wrapperClassName:this.props.wrapperClassName,anchor:this.props.anchor,anchorTo:this.props.anchorTo,anchorToFactor:this.props.anchorToFactor,isOpen:this.state.modalIsOpen,close:this.selfCloseModal,open:this.openModal},r.createElement(m.Trigger,{onTrigger:this.openModal,className:e,iconClassName:"gs-link",text:I18n.t("Copy Link"),round:this.props.round,disabled:this.props.disabled},this.props.children),r.createElement(m.Body,null,this.renderContent())):this.renderModal(this.renderContent(),{className:y("copy-text-modal__full-modal",this.props.className)})},renderContent:function(){return r.createElement("div",null,r.createElement("div",{className:"copy-text-modal__header"},r.createElement("span",{className:"copy-text-modal__title"},this.props.title),r.createElement("a",{className:"copy-text-modal__close",onClick:this.selfCloseModal,"data-capybara":"close_modal"},r.createElement(g,{className:"gs-x gs-1x"}),r.createElement(v,null,r.createElement(_,null,I18n.t("Close Modal"))))),r.createElement("div",{className:"copy-text-modal__contents"},this.copiableItems().map(this.renderItem)))},renderItem:function(e){return r.createElement("div",{key:e.description},r.createElement("span",{className:"copy-text-modal__description"},e.description),r.createElement(f,{value:e.value}))},copiableItems:function(){var e=this.props,t=e.value,n=e.description,r=e.items;return r?r:[{value:t,description:n}]},selfCloseModal:function(){this.closeModal(),this.props.onClose()},isAnchored:function(){return!!this.props.anchor}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(7),u=r(l),c=n(69),d=r(c),p=n(5),f=n(13),m=r(f),h=n(610),g=r(h),v=n(117),_=r(v),y=n(103),b=r(y),E=n(26),C=r(E),I=n(116),T=r(I),N=n(45),S=r(N),x=o.default.createClass({displayName:"CourseUploader",propTypes:{course:S.default,beforeSave:s.default.func,onTitleChange:s.default.func,replace:s.default.bool},getDefaultProps:function(){return{onTitleChange:Function.prototype}},getInitialState:function(){return{pending:!1,progress:0}},render:function(){var e=this.props.course,t=C.default.t("Course Title"),n=!e.id;return o.default.createElement("div",null,o.default.createElement(T.default,null),o.default.createElement("div",{className:"grey-gradient-bg full-width full-min-height padding-m"},o.default.createElement("div",{className:"clearfix padding-b-xxl course-template-header"},o.default.createElement("div",{className:"left"},o.default.createElement(d.default,{value:this.props.course.title,placeholder:t,onChange:this.props.onTitleChange,inputClassName:"h2 light blue-grey margin-none"},o.default.createElement("h1",{className:"h2 light blue-grey margin-none"},this.props.course.title||t))),o.default.createElement("div",{className:"right"},o.default.createElement(m.default,{to:n?"author.courses":"author.course",params:n?[]:[{courseId:this.props.course.id}]},o.default.createElement("span",{className:"screenreader-only"},C.default.t("Close")),o.default.createElement(p.Icon,{className:"gs-x gs-1x dark-grey"})))),o.default.createElement("div",{className:"course-upload white-bg padding-l centered"},o.default.createElement("div",{className:"text-center"},o.default.createElement(p.Icon,{className:"gs-zip gs-4x grey"})),this.state.pending&&o.default.createElement("div",{className:"media-uploader media-uploader--uploading"},o.default.createElement("p",null,C.default.t("Uploading...")),o.default.createElement(b.default,{intervals:1,current:this.state.progress,progress:this.state.progress})),!this.state.pending&&o.default.createElement(g.default,{action:this.upload}))))},upload:function(e){var t=this,n=(0,_.default)(e);this.setState({pending:!0});var r=window.setInterval(function(){t.setState({progress:n.getProgress()}),t.state.progress>=1&&window.clearInterval(r)},250),a=n.uploadMultiPart();this.props.beforeSave&&(a=a.then(this.props.beforeSave)),a.then(function(n){var r="/api/author/course_templates/"+t.props.course.id+"/upload";return t.props.replace&&e.name.toLowerCase().endsWith("zip")&&(r="/api/author/course_templates/"+t.props.course.id+"/attach_scorm"),(0,u.default)({method:"POST",url:r,data:{location:n.location,name:e.name,file_modified_at:new Date(e.lastModified||e.lastModifiedDate).toISOString(),publish:t.props.replace}})}).then(function(){t.setState({pending:!1},function(){m.default.transitionTo("author.course",t.props.course.id)})})}});t.default=x,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2),o=n(6),l=r(o),u=n(18),c=r(u),d=n(236),p=r(d),f=n(37),m=r(f),h=n(62),g=r(h),v=n(48),_=n(187),y=r(_),b=n(268),E=r(b),C=n(594),I=r(C),T=n(39),N=r(T),S=n(12),x=s.default.createClass({displayName:"CoverSlide",mixins:[(0,m.default)({mobile:m.default.QUERY_MOBILE})],propTypes:{onNextSlide:i.func,fullViewport:i.bool,dark:i.bool,heading:(0,i.oneOfType)([i.element,i.string]),intro:(0,i.oneOfType)([i.element,i.string]),backgroundColor:i.string,primaryColor:i.string,backgroundImageUrl:i.string,showExitLink:i.bool,backgroundImageOpacity:i.number,backgroundImageStyle:i.string,preview:i.bool,isBeingEdited:i.bool,query:(0,i.shape)({programId:i.string}),attemptsCount:i.number,maxQuizAttempts:i.number},getDefaultProps:function(){return{fullViewport:!0,showExitLink:!0,backgroundImageOpacity:1,preview:!1,query:{}}},renderExitLink:function(){return this.props.showExitLink&&this.renderBackButton()},renderBackButton:function(){var e=this.props.dark,t=this.displayInHighContrast(),n=(0,l.default)("bold label cover-slide__exit-link break-word",{"med-grey border-med-grey":!t&&!e,"white border-white":!t&&e}),r=this.props.query.programId;return r?s.default.createElement(E.default,{className:n,hasBackIcon:!0,secondaryClassName:"cover-slide__exit-link-text",programId:r,primaryColor:this.props.primaryColor}):s.default.createElement(y.default,{className:n,preview:this.props.preview,hasBackIcon:!0,secondaryClassName:"cover-slide__exit-link-text",primaryColor:this.props.primaryColor})},getBackgroundStyle:function(){if(this.displayInHighContrast())return{};var e=this.props.backgroundColor;return e?{backgroundColor:e}:{}},getButtonStyle:function(){if(this.displayInHighContrast())return{};var e=this.props.primaryColor||"#"+g.default.getPublishedColor();return{backgroundColor:e,borderColor:e}},getSwatchStyle:function(){if(this.displayInHighContrast())return{};var e=this.props,t=e.primaryColor,n=e.backgroundColor,r=e.dark;return t?{background:t}:n?{background:r?v.WHITE:v.INDIGO}:{}},renderBackgroundImage:function(){if(this.displayInHighContrast())return null;var e=this.props,t=e.backgroundImageUrl,n=e.backgroundImageOpacity,r=e.backgroundImageStyle;return s.default.createElement("div",{className:"cover-slide__background-image"},s.default.createElement(p.default,{backgroundImageUrl:t,opacity:n,backgroundOption:r,cdnImageParams:{width:1440}}))},render:function(){var e=this.props,t=e.fullViewport,n=e.dark,r=g.default.getBranding(),a=r.primary_logo_url,i=r.reverse_logo_url,o=n?i:a,u=(0,l.default)("brand-logo","cover-slide__brand-logo","brand-logo--placeholder",g.default.getLogoClass(!n)),d=this.state.media.mobile,p=this.displayInHighContrast(),f=(0,l.default)("cover-slide__container",{"full-height":!t,"indigo-bg white":!p&&n,"white-bg":!p&&!n,"cover-slide--high-contrast":p}),m=(0,l.default)("cover-slide",{"full-viewport-height":t,"full-height":!t}),h=(0,l.default)("brand-font cover-slide__heading bold margin-b-s pre-wrap",{"x-large":!d,"x-medium":d}),v=(0,l.default)("brand-font margin-b-xxl pre-wrap",{"x-medium":!d});return s.default.createElement("div",{className:f,style:this.getBackgroundStyle()},this.renderBackgroundImage(),s.default.createElement("div",{className:m,"data-capybara":"course_slide"},s.default.createElement(I.default,{maxQuizAttempts:this.props.maxQuizAttempts,attemptsCount:this.props.attemptsCount}),s.default.createElement("div",{className:"cover-slide__outer-content full-height"},this.renderExitLink(),s.default.createElement("div",{className:"padding-xl cover-slide__content"},o&&s.default.createElement("span",{className:u},s.default.createElement("img",{src:o,onLoad:g.default.handleLogoLoaded(g.default,!n)})),this.props.heading&&s.default.createElement("h1",{className:h,"data-capybara":"coverslide_heading"},s.default.createElement("span",{className:"cover-slide__swatch",style:this.getSwatchStyle()}),this.props.heading),this.props.intro&&s.default.createElement("p",{className:v,"data-capybara":"coverslide_intro"},this.props.intro),s.default.createElement(c.default,{className:"btn--themed filled",style:this.getButtonStyle(),onClick:this.props.onNextSlide},I18n.t("Enter Course"))))))},displayInHighContrast:function(){return!this.props.isBeingEdited&&N.default.getTheme()===S.THEME_HIGH_CONTRAST}});e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.maxQuizAttempts,n=e.attemptsCount;return t<=0?null:n<t?null:f.default.createElement("div",{className:"cover-slide__last-attempt-warning gs-warning"},I18n.t("This is your last attempt to pass"))}}]),t}(p.Component);h.propTypes={maxQuizAttempts:m.number.isRequired,attemptsCount:m.number},h.defaultProps={maxQuizAttempts:0,attemptsCount:0},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.dns,n=t.status,r=v[n],a=_[n];return m.default.createElement("span",null,m.default.createElement(c.default,{label:a()},m.default.createElement(i.Icon,{className:"dns-check__icon "+r})),m.default.createElement("span",{className:"dns-check__description screenreader-only"},a()))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),i=n(5),o=n(18),l=r(o),u=n(215),c=r(u),d=n(39),p=r(d),f=n(1),m=r(f),h=n(191),g=r(h),v={ok:"green gs-check",error:"yellow gs-caution"},_={ok:function(){return I18n.t("DNS record present")},error:function(){return I18n.t("Error fetching DNS status")}};a.propTypes={dns:g.default.isRequired},t.default=m.default.createClass({displayName:"DNSCheck",propTypes:{dns:g.default.isRequired,onRetry:s.func.isRequired,type:(0,s.oneOf)(["account","subaccount"])},defaultProps:function(){return{type:"account"}},handleRetry:function(){var e=this.props,t=e.dns.subdomain,n=e.onRetry;n(t)},isSupport:function(){var e=this.props.type;return"subaccount"===e?p.default.inheritsSupportPrivileges():p.default.isSupport()},render:function(){var e=this.props.dns;if(!this.isSupport()||"none"===e.status)return null;var t=void 0;switch(e.status){case"updating":t=m.default.createElement("span",{className:"dns-check__loader loader"});break;case"missing":t=[m.default.createElement(l.default,{className:"dns-check__button btn alert margin-r-xs",onClick:this.handleRetry,children:I18n.t("Retry DNS")}),e.message&&m.default.createElement("span",{className:"dns-check__message dark-grey"},e.message)];break;default:t=m.default.createElement(a,{dns:e})}return m.default.createElement("div",{className:"dns-check inline-block margin-l-s",children:t})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(94),l=r(o),u=n(55),c=r(u),d=s.default.createClass({displayName:"DisabledToggle",propTypes:{message:i.string.isRequired,isChecked:i.bool,rightAlign:i.bool,hideTitle:i.bool},getDefaultProps:function(){return{isChecked:!0,rightAlign:!1,hideTitle:!1}},render:function(){var e=this.props,t=e.message,n=e.isChecked,r=e.rightAlign,a=e.hideTitle;return s.default.createElement(l.default,{isEnabled:!0},s.default.createElement(l.default.Trigger,null,s.default.createElement(c.default,{checked:n,disabled:!0})),s.default.createElement(l.default.Content,{rightAlign:r},s.default.createElement("div",{className:"tooltip-confirmation__warning-prompt"},!a&&s.default.createElement("p",{className:"tooltip-confirmation__warning-prompt--p bold"},I18n.t("Sorry")),s.default.createElement("p",{className:"tooltip-confirmation__warning-prompt--p__body"},t))))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(120),s=n(2),i=s.bool,o=s.string,l=s.number,u=r.createClass({displayName:"DistributionStatsList",propTypes:{sentAt:o,closesAt:o,responsesCount:l,recipientsCount:l,className:o,closed:i},getDefaultProps:function(){return{sentAt:null,closesAt:null,responsesCount:0,recipientsCount:0}},render:function(){var e="margin-none list--slashed "+(this.props.className||"");return r.createElement("ul",{className:e},r.createElement("li",null,I18n.t("%{responses} of %{recipients} Responded",{responses:this.props.responsesCount,recipients:this.props.recipientsCount})),this.props.sentAt&&r.createElement("li",null,I18n.t("Sent: %{date}",{date:a(this.props.sentAt)})),this.props.closesAt&&r.createElement("li",null,this.props.closed&&I18n.t("Closed: %{date}",{date:a(this.props.closesAt)}),!this.props.closed&&I18n.t("Closes: %{date}",{date:a(this.props.closesAt)})))}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(696),o=r(i),l=n(1),u=r(l),c=n(111),d=r(c),p=n(82),f=r(p),m=n(5),h=n(3007),g=r(h),v=n(43),_=n(2),y=u.default.createClass({displayName:"EnrollmentLinkPopup",propTypes:{learningItem:(0,_.shape)({isLibraryItem:_.bool,isPublished:_.bool,openEnrollment:_.bool}),onChange:_.func.isRequired,popupAnchor:_.string,disabled:_.bool,className:_.string,isActionMenuItem:_.bool},getDefaultProps:function(){return{className:"btn btn--round-with-icon-large secondary",popupAnchor:"enrollment-link"}},render:function(){var e=this.props,t=e.learningItem,n=e.onChange,r=e.popupAnchor,a=e.disabled,i=e.isActionMenuItem,l=(0,o.default)(e,["learningItem","onChange","popupAnchor","disabled","isActionMenuItem"]);return i?u.default.createElement(v.ActionMenuItem,(0,s.default)({icon:u.default.createElement(m.Icon,{className:"gs-link gs-buc-button-compat"}),label:I18n.t("Copy Link"),popupContentsRenderer:function(){return u.default.createElement("div",{className:"enrollment-link-popup"},u.default.createElement(g.default,{learningItem:t,onChange:n}))},disabled:a},l)):u.default.createElement(d.default,{ref:"enrollmentLinkPopup",content:g.default,popupOptions:g.default.POPUP_OPTIONS,positioningAnchor:"#"+r,popupClassName:"enrollment-link-popup",learningItem:t,onChange:n,disabled:a},u.default.createElement(f.default,{id:r,label:I18n.t("Copy Link"),buttonClassName:this.props.className,type:"button",onClick:this.openPopup,icon:"link"}))},openPopup:function(){this.props.disabled||this.refs.enrollmentLinkPopup.open()}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(6),o=r(i),l=n(69),u=r(l),c=n(3),d=function(e){var t=e.externalId,n=e.canEdit,r=e.onChange,a=(0,o.default)({"course-settings__external-course-id__value":!0,"course-settings__external-course-id__value--disabled":!t||!n});return s.default.createElement(u.default,{value:String(t||""),readOnly:!n,onChange:r,inputClassNames:"course-settings__external-course-id"},s.default.createElement("span",{className:a},t||"("+I18n.t("none")+")"))};d.propTypes={externalId:c.string,canEdit:c.bool,onChange:c.func},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(2),f=r(p),m=n(1),h=r(m),g=n(664),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e="layout--dialog--app-wrap full-height "+this.props.layoutClassName;return h.default.createElement("div",{className:"full-height white-bg"},h.default.createElement("div",{className:e},h.default.createElement(g.Navigation,{children:this.props.children,user:{id:"0",name:"Jeff Winger"},path:this.props.currentPath,currentRouteName:this.props.currentPath,location:{pathname:this.props.currentPath},preview:!0})))}}]),t}(h.default.Component);v.propTypes={features:f.default.array,currentPath:f.default.string,children:f.default.any,layoutClassName:f.default.string},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(640),s=r(a),i=n(30),o=r(i),l=n(4),u=n(20),c=r(u),d={group_id:"group",program_id:"program",course_template_id:"course",tag_id:"tag",team_id:"team",
user_id:"learner"};(0,c.default)("reports_with_ilts")&&(d.live_course_id="live_training",d.type="type");var p={toggleItem:function(e,t){s.default.isStaged(e,t)?s.default.updateStagedItem(e,t):s.default.toggleSelectedItem(e,t)},updateFilterState:function(e,t){var n=e.type,r=e.state;s.default.updateFilterState(n,r),"function"==typeof t&&t()},stageSelectedItems:function(e){var t=s.default.getSelected(e);t.length>0&&s.default.stage(t,e),s.default.clearSelected(e)},commitFilters:function(e){return p.stageSelectedItems(e),s.default.removeUnselectedFromStage(e),s.default.getStaged(e)},resetFilters:function(e,t){s.default.clearSelected(),s.default.setStage((0,l.cloneDeep)(t).map(function(e){return e.selected=!0,e}),e)},applyFilters:function(){var e=s.default.getSelected();Object.keys(e).forEach(function(t){var n=e[t];n.length>0&&s.default.stage(n,t)}),s.default.clearSelected();var t=(0,l.reduce)(d,function(e,t,n){return s.default.setActive(t,s.default.getStaged(t,!0)),e[n]=s.default.getActive(t).map(function(e){return e.id}),e},{});Object.keys(d).forEach(function(e){s.default.removeUnselectedFromStage(d[e])}),o.default.updateQuery(t)},clearFilters:function(e){var t=this,n=(0,l.reduce)(d,function(n,r,a){return"undefined"!=typeof e&&e!==r||(s.default.setStage([],r),t.updateFilterState({type:r,state:[{name:"hasPaged",value:!1},{name:"collapsed",value:!0},{name:"lastStaged",value:[]}]}),n[a]=[]),n},{});s.default.clearSelected(),s.default.removeActive(),o.default.updateQuery(n)}};e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(370),s=n(6),i=n(3),o=i.any,l=i.arrayOf,u=i.shape,c=i.string,d=i.bool,p=i.func,f=i.oneOfType,m=n(4),h=r.createClass({displayName:"FilterSwitch",propTypes:{filterOptions:l(u({label:c,value:o,isCategory:d})),activeFilter:f([o,l(o)]),onChange:p.isRequired,exclusiveOnlyForSet:d},getDefaultProps:function(){return{filterOptions:[]}},renderFilterOption:function(e){var t=this.getActiveFilters().some(function(t){return t===e.value}),n=s({"filter-switch__item":!0,"filter-switch__item--checked brand-color":t});return e.isCategory?r.createElement("li",{key:e.value||e.label,className:"bold small padding-tl-s"},e.label):r.createElement(a,{className:n,key:e.value||e.label,onSelect:this.changeFilters.bind(null,e.value),children:e.label,checked:t})},render:function(){return r.createElement("div",{className:"filter-switch"},r.createElement("ul",{role:"listbox",className:"unstyled"},this.props.filterOptions.map(this.renderFilterOption)))},getActiveFilters:function(){return m.flatten(m.compact([this.props.activeFilter]))},changeFilters:function(e){var t=this;if(this.props.exclusiveOnlyForSet){var n=this.getActiveFilters().filter(function(e){return t.props.filterOptions.some(function(t){return e===t.value})}),r=this.getActiveFilters();0===n.length?r.push(e):(r.splice(r.indexOf(n[0]),1),n[0]!==e&&r.push(e)),this.props.onChange(r)}else this.props.onChange(e)}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(139),s=r(a),i=n(9),o=r(i),l=n(14),u=r(l),c=n(15),d=r(c),p=n(17),f=r(p),m=n(16),h=r(m),g=n(1),v=r(g),_=n(3),y=n(5),b=n(18),E=r(b),C=n(435),I=r(C),T=n(3029),N=r(T),S=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={newItems:[{result:e.group,relevance:e.group?e.group.relevance:null}]},n.selectResult=n.selectResult.bind(n),n.changeRelevance=n.changeRelevance.bind(n),n.addAnotherResult=n.addAnotherResult.bind(n),n.save=n.save.bind(n),n.canSave=n.canSave.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"selectResult",value:function(e,t){var n=this.props.results.find(function(e){return e.id===t});this.setState(function(t){return{newItems:t.newItems.map(function(t,r){return r===e?(0,o.default)({},t,{result:n}):t})}})}},{key:"changeRelevance",value:function(e,t){this.setState(function(n){return{newItems:n.newItems.map(function(n,r){return r===e?(0,o.default)({},n,{relevance:t}):n})}})}},{key:"addAnotherResult",value:function(){this.setState(function(e){return{newItems:[].concat((0,s.default)(e.newItems),[{result:null,relevance:null}])}})}},{key:"canSave",value:function(){if(this.props.group)return this.state.newItems[0].relevance!==this.props.group.relevance;var e=this.state.newItems.filter(function(e){return e.result||e.relevance});return e.length>0&&e.every(function(e){return e.result&&e.relevance})}},{key:"save",value:function(){var e=this.state.newItems.filter(function(e){return e.result||e.relevance});this.props.onEnroll(e),this.props.onCancel()}},{key:"render",value:function(){var e=this,t=this.props,n=t.group,r=t.title,a=t.searchPlaceholder,s=t.onCancel,i=this.state.newItems,o=i.filter(function(e){return e.result}).map(function(e){return e.result.id}),l=this.props.results&&this.props.results.filter(function(e){return!o.includes(e.id)});return v.default.createElement(I.default,{className:"group-editor"},v.default.createElement("div",{className:"drawer-modal__head"},v.default.createElement("div",{className:"drawer-modal__content"},v.default.createElement("h2",null,r),v.default.createElement("div",{className:"drawer-modal__menu"},v.default.createElement(E.default,{className:"btn secondary",onClick:s,"data-qa":"button cancel"},I18n.t("Cancel")),v.default.createElement(E.default,{className:"btn filled",onClick:this.save,disabled:!this.canSave(),"data-qa":"button save"},I18n.t("Save"))))),v.default.createElement("div",{className:"drawer-modal__content group-editor__content"},i.map(function(t,n){return v.default.createElement(N.default,{key:n,rowIndex:n,groupName:t.result?t.result.name:null,relevance:t.relevance,results:l,nameLabel:e.props.nameLabel,searchPlaceholder:a,onSearch:e.props.onSearch,onSelectResult:e.selectResult,onChangeRelevance:e.changeRelevance})}),!n&&v.default.createElement(E.default,{className:"btn tertiary","data-qa":"add_another",onClick:this.addAnotherResult},v.default.createElement(y.Icon,{className:"gs-plus gs-1x"})," ",v.default.createElement("span",null,I18n.t("Add another")))))}}]),t}(v.default.Component);S.propTypes={title:_.string.isRequired,searchPlaceholder:_.string,nameLabel:_.string,results:(0,_.arrayOf)((0,_.shape)({id:_.string,name:_.string})),group:_.object,onCancel:_.func,onEnroll:_.func,onSearch:_.func},S.defaultProps={results:[]},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return c.default.createElement("div",{className:"cce-content__paragraph"},t)}var s=n(9),i=r(s),o=n(2),l=r(o),u=n(1),c=r(u),d=n(391),p=n(284),f=n(5),m=n(86),h=n(791),g=r(h),v=n(164),_=n(163),y=n(329),b=n(39),E=r(b),C=n(12),I=n(153),T=I.MediaUtils,N=I.Components.MediaAudioVideo,S=c.default.createClass({displayName:"SlideBody",propTypes:{id:l.default.string,structuredBody:l.default.object.isRequired,attachments:l.default.arrayOf(n(33)).isRequired,onFetchLtiContent:l.default.func,customFontsEnabled:l.default.bool},getDefaultProps:function(){return{customFontsEnabled:!1}},componentDidMount:function(){(0,_.initializeEmbedly)(document)},componentWillUnmount:function(){(0,_.teardownEmbedly)()},render:function(){return c.default.createElement(p.RichContent,{withEffectiveWhitespace:!0,customFontsEnabled:this.props.customFontsEnabled},(0,d.convertFromRawToReact)(this.props.structuredBody,{blockElementMap:Object.assign({},d.RendererDefaults.blockElementMap,{paragraph:a,unstyled:a}),atomicRendererFn:this.renderAtomicBlock,entityRendererFn:this.renderEntity}))},renderEntity:function(e,t){if(null!==t&&"LINK"===t.getType()){var n=t.getData().url;return(0,m.isValidURL)(n)?c.default.createElement("a",{target:"_blank",rel:"noreferrer",href:n,children:e}):(console.error("invalid url",n),null)}return t&&(T.isUploadedMediaEntity(t)||T.isExternalMediaEntity(t))?this.renderMedia({entity:t,blockKey:"<<unknown>>"}):e},renderAtomicBlock:function(e){var t=this.renderMedia({entity:e.attrs,blockKey:e.block.getKey()});return t||d.RendererDefaults.atomicRendererFn(e)},renderMedia:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entity:null,blockKey:null},n=t.entity;if("image"===n.type)return this.renderAttachedMedia(t,function(t){return e.renderImage(t.location,n.data.altText,n.data.linkHref)});if("audio"===n.type||"video"===n.type)return this.renderAttachedMedia(t,function(e){return c.default.createElement(N,{contentType:n.type,attachment:e,autoResize:!0})});if(T.isExternalImage(n)){var r=T.getExternalMediaData(n);return this.renderImage(r.original,r.altText,n.data.linkHref)}if(T.isExternalVideo(n)){var a=T.getExternalMediaData(n);return c.default.createElement(v.ExternalMedia,(0,i.default)({urlValidator:m.isValidURL},a,{isSelected:!1}))}if(T.isLti(n)){var s=n.data,o=s.ltiContentItem,l=s.aspectRatio;return o=o||y.ltiSupport.entityDataToLtiContentItem(n.data),c.default.createElement(y.LtiMedia,{ltiContentItem:o,aspectRatio:l,onFetchLtiContent:this.props.onFetchLtiContent,isSelected:!1})}if(T.isEmbedly(n)){var u=E.default.getTheme()===C.THEME_HIGH_CONTRAST?"dark":"light";return c.default.createElement(_.EmbedlyMedia,(0,i.default)({},n.data,{isSelected:!1,theme:u}))}if(T.isInlineAttachment(n)){var d=this.getAttachment(n);return d?c.default.createElement(f.FileCard,{attachment:d}):null}return null},renderImage:function(e,t,n){var r=c.default.createElement("img",{src:e,alt:t});return(0,m.isValidURL)(n)?c.default.createElement("a",{target:"_blank",href:n},r):r},renderAttachedMedia:function(e,t){var n=e.blockKey,r=e.entity;if(!r.data.hasOwnProperty("attachmentId"))return null;var a=this.getAttachment(r);if(T.isAttachmentReady(a))return t(a);var s=r.data.attachmentId;return console.warn('Unable to find attachment "'+s+'" for media block '+('"'+this.props.id+"#"+n+'"')),c.default.createElement(g.default,null)},getAttachment:function(e){var t=e.data.attachmentId;return this.props.attachments.find(function(e){return e.id===t})}});a.propTypes={children:l.default.node},e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(103),u=r(l),c=n(6),d=r(c);t.default=o.default.createClass({displayName:"LearningItemFailed",propTypes:{icon:s.default.string,permanentlyFailed:s.default.bool,archived:s.default.bool},getDefaultProps:function(){return{icon:"gs-book",permanentlyFailed:!1,archived:!1}},render:function(){var e=this.props,t=e.permanentlyFailed,n=e.archived,r=(0,d.default)({"learning-item-list-item__task-progress":!0,"course-status--failed":!n,"course-status--archived":n&&t}),a=(0,d.default)("course-status__icon","brand-color",this.props.icon);return o.default.createElement("div",{className:r},o.default.createElement(u.default,{type:"circle",progress:t?1:.85,renderIcon:!0,iconClasses:a,isFailed:!1,className:"learning-item-list-item__status"}),!t&&o.default.createElement("div",null,o.default.createElement("div",{className:"brand-bg course-status__arrowhead course-status__arrowhead--top"}),o.default.createElement("div",{className:"brand-bg course-status__arrowhead course-status__arrowhead--bottom"})))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=a.bool,o=a.func,l=n(387),u=n(439),c=n(5),d=c.Icon,p=n(52),f=r.createClass({displayName:"LibraryTagTray",propTypes:{tags:s(n(247)),onTagClick:o,isLoading:i},getInitialState:function(){return{searchTerm:""}},componentWillMount:function(){l.addChangeListener(this.reload)},componentWillUnmount:function(){l.removeChangeListener(this.reload)},render:function(){return r.createElement("div",{className:"library-tag-tray"},this.renderHeader(),r.createElement(u,{tags:this.props.tags,highlightedTags:l.getSelected(),onTagClick:this.props.onTagClick,isLoading:this.props.isLoading,searchTerm:this.state.searchTerm}))},renderHeader:function(){return r.createElement("div",{className:"library-tag-tray__header"},r.createElement("span",{className:"library-tag-tray__title"},r.createElement(d,{className:"library-tag-tray__icon"}),r.createElement("span",{className:"library-tag-tray__label"},I18n.t("Tags"))),this.renderSearch())},renderSearch:function(){var e=this;return r.createElement("div",{className:"library-tag-tray__search"},r.createElement(p,{label:I18n.t("SEARCH"),onChange:function(t){return e.setState({searchTerm:t})},urlDriven:!1,placeholderText:I18n.t("Search for tags")}))},reload:function(){this.forceUpdate()}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return!e.metaKey&&!e.ctrlKey}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o),u=n(190),c=r(u),d=n(28),p=r(d),f=l.default.createClass({displayName:"LinkBR",propTypes:{active:i.default.bool,children:i.default.node,className:i.default.string,href:i.default.string,title:i.default.string,ariaLabel:i.default.string,dataCapybara:i.default.string,onClick:i.default.func,params:i.default.object,query:i.default.object,to:i.default.string},render:function(){var e=this.getPath(),t=this.props,n=t.children,r=t.className,a=t.title,s=t.ariaLabel,i=t.dataCapybara;return e?l.default.createElement("a",{"data-capybara":i?i:"link",children:n,className:(0,p.default)(r,"link",{active:this.isActive(e)}),href:e,onClick:this.transition,title:a,"aria-label":s}):null},isActive:function(e){return this.props.hasOwnProperty("active")&&null!==this.props.active&&void 0!==this.props.active?this.props.active:e.indexOf("?")>-1?c.default.isPathActive(e):c.default.isPathnameActive(e)},getPath:function(){try{return this.props.href||c.default._generatePathForReactRouterLink({params:this.props.params,query:this.props.query,to:this.props.to})}catch(e){return console.error("Unable to generate path for Link:",e&&e.stack||e),null}},transition:function(e){this.props.onClick&&this.props.onClick(e),!e.isDefaultPrevented()&&a(e)&&(e.preventDefault(),c.default.transitionTo(this.getPath()))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.number,i=a.func,o=a.string,l=a.bool,u=r.createClass({displayName:"MarkCompletePopup",statics:{POPUP_OPTIONS:{show:{event:!1},position:{my:"top center",at:"bottom center"},style:{def:!1,tip:{border:0,width:32,height:20}},hide:{event:"unfocus"}}},propTypes:{name:o.isRequired,id:o.isRequired,progress:s.isRequired,hidePopup:i.isRequired,onMarkComplete:i.isRequired,onResetEnrollment:i,showResetConfirmation:l,showMarkCompleteButton:l,showResetEnrollmentButton:l,readOnly:l},getInitialState:function(){return{showResetConfirmation:!1}},componentWillReceiveProps:function(e){this.setState({showResetConfirmation:e.showResetConfirmation})},renderText:function(){var e=this.props,t=e.progress,n=e.name,r=100*t;return 0===t?I18n.t("%{user} has not started yet.",{user:n}):I18n.t("%{user} has completed %{percent}% so far.",{user:n,percent:r.toFixed(0)})},render:function(){return r.createElement("div",{className:"white-bg x-medium text-center"},r.createElement("div",{className:"popup-user-container padding-tb-m"},r.createElement("div",{className:"margin-trl-s leading-normal"},this.renderText())),!this.props.readOnly&&this.renderButtons())},markComplete:function(){this.props.hidePopup(),this.props.onMarkComplete(this.props.id)},renderButtons:function(){return this.state.showResetConfirmation?this.renderResetConfirmation():this.renderInitialPopup()},renderInitialPopup:function(){return r.createElement("div",{className:"popup-buttons-wrapper"},this.props.showMarkCompleteButton&&r.createElement("div",{className:"mark-complete-wrapper"},r.createElement("button",{className:"mark-complete-popup__button btn tertiary margin-rl-s",onClick:this.markComplete,"data-capybara":"complete_btn"},I18n.t("Mark Complete"))),this.props.showResetEnrollmentButton&&r.createElement("div",null,r.createElement("button",{className:"mark-complete-popup__button btn tertiary margin-rl-s",onClick:this.toggleResetConfirmation,"data-capybara":"reset_btn"},I18n.t("Reset Learner"))))},renderResetConfirmation:function(){return r.createElement("div",{className:"popup-reset-confirmation-wrapper"},r.createElement("div",{className:"margin-trl-s leading-normal"},I18n.t("Are you sure you want to reset?")),r.createElement("div",{className:"confirmation-inline-buttons"},r.createElement("button",{className:"mark-complete-popup__button btn tertiary margin-rl-s reset-confirmation-cancel-button",onClick:this.toggleResetConfirmation,"data-capybara":"confirm_btn"},I18n.t("Cancel")),r.createElement("button",{className:"mark-complete-popup__button btn tertiary margin-rl-s",onClick:this.resetEnrollment,"data-capybara":"confirm_btn"},I18n.t("Reset"))))},toggleResetConfirmation:function(){this.setState({showResetConfirmation:!this.state.showResetConfirmation})},resetEnrollment:function(){this.props.hidePopup(),this.props.onResetEnrollment(this.props.id),this.toggleResetConfirmation()}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(1),o=n(449),l=n(3),u=l.func,c=l.bool,d=n(109),p=i.createClass({displayName:"MasqueradePanel",propTypes:{onBecome:u.isRequired,onCancel:u,canBecome:c},getDefaultProps:function(){return{canBecome:!0}},getInitialState:function(){return{masqueradingTarget:null}},componentDidMount:function(){d.addChangeListener(this.reload)},componentWillUnmount:function(){d.removeChangeListener(this.reload)},render:function(){return i.createElement("div",{className:"pure-g-r"},i.createElement("div",{className:"pure-u-5-8"},i.createElement(o,{onSearch:this.search,onSelect:this.setMasqueradingTarget,searchResults:d.getSearchResults(),selectedUserId:this.state.masqueradingTarget&&this.state.masqueradingTarget.id})),i.createElement("div",{className:"pure-u-3-8 text-center admin-dashboard__actions"},this.props.onCancel&&i.createElement("button",{type:"cancel",className:"admin-dashboard__button",onClick:this.props.onCancel,children:I18n.t("Cancel")}),i.createElement("button",{type:"button",className:"admin-dashboard__button",onClick:this.emitBecome,children:I18n.t("Become"),disabled:!this.props.canBecome||!this.state.masqueradingTarget})))},search:function(e){this.setState({masqueradingTarget:null}),d.search(e.trim())},setMasqueradingTarget:function(e){var t=d.getSearchResults().filter(function(t){return t.id===e}),n=(0,s.default)(t,1),r=n[0];this.setState({masqueradingTarget:r})},emitBecome:function(){var e=this.state.masqueradingTarget;this.props.onBecome(e.id,e.name)},reload:function(){this.forceUpdate()}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(226),s=r(a),i=n(1),o=n(135),l=n(92),u=n(34),c=n(3),d=c.func,p=(0,s.default)(["zip","pptx","ppt","json"]),f=i.createClass({displayName:"MediaUploaderCourseContent",propTypes:{action:d.isRequired},render:function(){return i.createElement(o,{ref:"mediaUploader",className:"media-uploader--course-content",mimeType:p.mimeTypes,allowedFileRegex:p.regexp,invalidFileMessage:I18n.t("That doesn't appear to be a SCORM package or a powerpoint."),onChange:this.props.action},i.createElement("p",null,this.getInstructions()),i.createElement("p",{className:"small"},I18n.t("or"),i.createElement(l,{acceptedFileTypes:p.mimeTypeString,buttonClassName:"blue pointer",onChange:this.acceptFromFilePicker})))},acceptFromFilePicker:function(e){this.refs.mediaUploader.acceptFromFileList(e)},getInstructions:function(){return u.isSupport()?I18n.t("Upload a course by dropping a SCORM Zip, Powerpoint, or JSON course export here."):I18n.t("Upload a course by dropping a SCORM Zip or Powerpoint file here.")}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(92),u=r(l),c=n(135),d=r(c),p=n(117),f=r(p),m=n(226),h=r(m),g=(0,h.default)(["jpg","jpeg","png","gif"]),v=o.default.createClass({displayName:"MediaUploaderImage",propTypes:{onSelection:s.default.func.isRequired,public:s.default.bool},getDefaultProps:function(){return{public:!1}},getInitialState:function(){return{pending:!1}},render:function(){return this.state.pending?o.default.createElement("div",{className:"media-uploader"},o.default.createElement("div",{className:"loader loader-7"})):o.default.createElement(d.default,{ref:"mediaUploader",className:"media-uploader--image",mimeType:g.mimeTypes,allowedFileRegex:g.regexp,invalidFileMessage:I18n.t("That doesn't appear to be an image."),onChange:this.upload},o.default.createElement("div",{className:"media-uploader--urlbox"},o.default.createElement("input",{className:"media-uploader__url",placeholder:I18n.t("Paste URL"),"aria-label":I18n.t("Paste URL"),onPaste:this.onUrlPaste,onBlur:this.onUrlChange})),o.default.createElement("p",{className:"margin-t-m"},I18n.t("Drag and Drop or"),o.default.createElement(u.default,{acceptedFileTypes:g.mimeTypeString,buttonClassName:"pointer",onChange:this.acceptFromFilePicker})),o.default.createElement("p",{className:"x-small"},I18n.t("10GB Maximum")))},upload:function(e){var t=this;this.setState({pending:!0});var n=(0,f.default)(e,{public:this.props.public});n.uploadMultiPart().then(function(e){t.setState({pending:!1}),t.props.onSelection(e.location)})},onUrlPaste:function(e){var t=this,n=e.target;setTimeout(function(){t.updateAttachment(n)},0)},onUrlChange:function(e){this.updateAttachment(e.target)},updateAttachment:function(e){this.props.onSelection(e.value),this.setState({isAttaching:!1,attachment_url:e.value})},acceptFromFilePicker:function(e){this.refs.mediaUploader.acceptFromFileList(e)}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(67),g=r(h),v=n(34),_=r(v),y=n(469),b=r(y),E=n(443),C=r(E),I=n(477),T=n(20),N=r(T),S=n(3),x=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return(0,N.default)("learn_my_learning_tabbed_nav")?f.default.createElement("nav",{className:"horizontal-scrolling-nav"},f.default.createElement("div",{className:"centered clearfix button-set horizontal-scrolling-nav__container"},f.default.createElement(g.default,{to:"/learner/courses",className:"dark-grey inline-block button-set__button brand-color--active brand-border--active brand-border--focus brand-color--hover",dataCapybara:"my-learning-tab"},I18n.t("My Learning")),(0,I.canViewLearnerLibrary)()&&f.default.createElement(g.default,{to:"/learner/library",className:"dark-grey inline-block button-set__button brand-color--active brand-border--active brand-border--focus brand-color--hover",dataCapybara:"learning-library-tab"},I18n.t("Learning Library")),(0,I.canViewLearnerCalendar)()&&f.default.createElement(g.default,{to:"/learner/calendar",className:"dark-grey inline-block button-set__button brand-color--active brand-border--active brand-border--focus brand-color--hover",dataCapybara:"training-calendar-tab"},I18n.t("Training Calendar")),_.default.isApprover()&&f.default.createElement(g.default,{to:"/approver/approvals",className:"dark-grey inline-block button-set__button brand-color--active brand-border--active brand-border--focus brand-color--hover",dataCapybara:"my-approvals-tab"},I18n.t("My Approvals")),(0,b.default)()&&f.default.createElement(g.default,{to:"/learner/library/lynda",className:"library-header__lynda-link inline-block button-set__button brand-color--active brand-border--active brand-border--focus brand-color--hover",dataCapybara:"lynda-tab",onClick:this.props.onLyndaTransition},f.default.createElement(C.default,null)))):null}}]),t}(f.default.Component);x.propTypes={onLyndaTransition:m.func,dataCapybara:S.string},x.defaultProps={onLyndaTransition:Function.prototype},t.default=x,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=a.func,o=a.objectOf,l=a.shape,u=a.bool,c=n(13),d=r.createClass({displayName:"OpenEnrollmentRegistration",propTypes:{heading:s,title:s.isRequired,description:s,onRegister:i.isRequired,cancelRoute:l({to:s,params:o(s)}),registerButtonText:s,cancelButtonText:s,polling:u},getDefaultProps:function(){return{cancelRoute:{to:"learner.courses"}}},renderContent:function(){var e="open-enrollment-registration__spinner left";return this.props.polling&&(e+=" polling"),r.createElement("div",{className:"open-enrollment-registration__content"},r.createElement("span",{className:"open-enrollment-registration__swatch"}),r.createElement("div",{className:"flex-row"},r.createElement("h3",{className:"open-enrollment-registration__title"},this.props.title),r.createElement("div",{className:"open-enrollment-registration__description"},this.props.description,r.createElement("div",{className:e},r.createElement("span",{className:"loader-large loader-7 marbin-lb-xl"})))))},render:function(){return r.createElement("div",{className:"open-enrollment-registration-wrapper"},r.createElement("div",{className:"open-enrollment-registration"},r.createElement("h1",{className:"h2 open-enrollment-registration__heading"},this.props.heading),this.renderContent(),r.createElement("div",{className:"open-enrollment-registration__actions"},r.createElement(c,{className:"btn btn--themed open-enrollment-registration__cancel-btn brand-border brand-color",to:this.props.cancelRoute.to,params:this.props.cancelRoute.params},this.props.cancelButtonText||I18n.t("No, thanks")),r.createElement("button",{className:"btn btn--themed filled open-enrollment-registration__register-btn brand-bg brand-border",onClick:this.props.onRegister,disabled:this.props.polling},this.props.polling?I18n.t("Registering ..."):this.props.registerButtonText||I18n.t("Register Now")))))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(111),l=n(4),u=l.omit,c=n(2),d=c.shape,p=c.arrayOf,f=c.string,m=c.func,h=c.any,g=i.createClass({displayName:"MenuItem",propTypes:{id:f.isRequired,text:f.isRequired,icon:f.isRequired,onClick:m.isRequired},onClick:function(e){e.preventDefault(),this.props.onClick(this.props.id)},render:function(){return i.createElement("li",{className:"popup-menu-item"},i.createElement("a",{href:"#",className:"popup-menu-item__link",onClick:this.onClick},i.createElement("i",{className:"popup-menu-item__icon gs-1x "+this.props.icon}),this.props.text))}}),v=i.createClass({displayName:"Menu",propTypes:{items:p(d(u(g.propTypes,["onClick"]))),onClickItem:m},getDefaultProps:function(){return{items:[]}},render:function(){var e=this;return i.createElement("ul",null,this.props.items.map(function(t){return i.createElement(g,(0,s.default)({key:t.id,onClick:e.props.onClickItem},t))}))}}),_=i.createClass({displayName:"PopupMenu",statics:{Menu:v,MenuItem:g},propTypes:{items:v.propTypes.items,onClickItem:m,children:h},open:function(){this.refs.popup.open()},render:function(){var e={position:{my:"top center",at:"bottom center"},style:{tip:{width:20,height:10}}};return i.createElement(o,(0,s.default)({ref:"popup",popupClassName:"popup-menu",content:v,popupOptions:e},u(this.props,["children"])),this.props.children)}});e.exports=_},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(5),i=s.Icon,o=n(24),l=n(3),u=l.string,c=r.createClass({displayName:"ProgramHeader",propTypes:{programId:u,programTitle:u},render:function(){var e=this.props,t=e.programId,n=e.programTitle;return r.createElement("div",{className:"authoring-heading white padding-t-s padding-l-m border-none"},r.createElement(a,{to:"react.author.program.edit",params:[{programId:t}],className:"authoring-heading__back-button"},r.createElement(i,{className:"gs-arrow-left white"}),r.createElement(o,null,I18n.t("Back"))),r.createElement("div",{className:"authoring-heading__title large"},n))}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(18),g=r(h),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.removeButtonText,n=e.promptText,r=e.itemTitle;return f.default.createElement("div",{className:"removable-item removable-item--focused"},f.default.createElement("div",{className:"removable-item__title"},r),f.default.createElement("div",{className:"removable-item__confirm indigo"},n),f.default.createElement("div",{className:"removable-item__buttons"},f.default.createElement(g.default,{className:"btn--reset dark-grey",onClick:this.props.onCancel,children:I18n.t("Cancel"),"data-capybara":"confirm_cancel"}),f.default.createElement(g.default,{className:"btn--reset pink",onClick:this.props.onRemove,children:t,"data-capybara":"confirm_delete"})))}}]),t}(f.default.PureComponent);v.propTypes={itemTitle:m.node,removeButtonText:m.string,promptText:m.string,onRemove:m.func.isRequired,onCancel:m.func.isRequired},v.defaultProps={removeButtonText:I18n.t("Remove"),promptText:I18n.t("Remove?")},t.default=v,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(881),s=n(18),i=n(26),o=n(3),l=o.string,u=r.createClass({displayName:"SamlDebugger",propTypes:{id:l,type:l,provider:l},getInitialState:function(){return{isEnabled:!1,log:""}},componentWillMount:function(){"SAML"===this.props.provider&&this.onRefresh()},render:function(){return"SAML"!==this.props.provider?null:r.createElement("div",{className:"saml-debugger margin-t-xl","data-capybara":"debugger_header"},r.createElement("h2",{className:"medium"},i.t("SAML Debugger")),r.createElement("label",{className:"block margin-b-m"},r.createElement("input",{type:"checkbox",className:"saml-debugger__enable","data-capybara":"debugger_checkbox",checked:this.state.isEnabled,onChange:this.onToggle}),i.t("Enable SAML Debugger")),this.state.isEnabled&&r.createElement("div",null,r.createElement("textarea",{readOnly:!0,className:"saml-debugger__log block margin-b-m","data-capybara":"debugger_box",value:this.state.log}),r.createElement("div",{className:"saml-debugger__actions"},r.createElement(s,{className:"saml-debugger__btn btn primary filled",onClick:this.onClear},i.t("Clear")),r.createElement(s,{className:"saml-debugger__btn btn primary filled",onClick:this.onRefresh},i.t("Refresh")))))},onToggle:function(){var e=this.props,t=e.id,n=e.type;this.state.isEnabled?a.disable(t,n).then(this.onRefresh):a.enable(t,n).then(this.onRefresh)},onClear:function(){a.clear(this.props.id,this.props.type).then(this.onRefresh)},onRefresh:function(){var e=this;a.fetch(this.props.id,this.props.type).then(function(t){var n="No data yet! Please check back later.",r=t.data,a=r.instance_id,s=r.request_id,i=r.timestamp,o=r.login_response,l=r.saml_response,u=r.exception_type,c=r.exception_message;l&&(n=["Instance ID: "+a,"Request ID: "+s,"Timestamp: "+i,"Bridge Response: "+o,"Exception Type: "+u,"Exception Message: "+c,"SAML Response: "+l].join("\n\n")),e.setState({log:n,isEnabled:t.enabled})})}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(882),o=r(i),l=n(18),u=r(l),c=n(26),d=r(c),p=n(3),f=n(4),m=s.default.createClass({displayName:"ScimDebugger",propTypes:{id:p.string},getInitialState:function(){return{isEnabled:!1,log:""}},componentWillMount:function(){this.onRefresh()},render:function(){return s.default.createElement("div",{className:"scim-debugger margin-t-xl","data-capybara":"debugger_header"},s.default.createElement("h2",{className:"medium"},d.default.t("SCIM Debugger")),s.default.createElement("label",{className:"block margin-b-m"},s.default.createElement("input",{
type:"checkbox",className:"scim-debugger__enable","data-capybara":"debugger_checkbox",checked:this.state.isEnabled,onChange:this.onToggle}),d.default.t("Enable SCIM Debugger")),this.state.isEnabled&&s.default.createElement("div",null,s.default.createElement("textarea",{readOnly:!0,className:"scim-debugger__log block margin-b-m","data-capybara":"debugger_box",value:this.state.log}),s.default.createElement("div",{className:"scim-debugger__actions"},s.default.createElement(u.default,{className:"scim-debugger__btn btn primary filled",onClick:this.onClear},d.default.t("Clear")),s.default.createElement(u.default,{className:"scim-debugger__btn btn primary filled",onClick:this.onRefresh},d.default.t("Refresh")))))},onToggle:function(){var e=this.props.id;this.state.isEnabled?o.default.disable(e).then(this.onRefresh):o.default.enable(e).then(this.onRefresh)},onClear:function(){o.default.clear(this.props.id).then(this.onRefresh)},onRefresh:function(){var e=this;o.default.fetch(this.props.id).then(function(t){var n="No requests yet! Please check back later.";if(!(0,f.isEmpty)(t.data)){n=[];for(var r in t.data)n.push([r,t.data[r]].join("\n"));n=n.join("\n\n")}e.setState({log:n,isEnabled:t.enabled})})}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(28),d=r(c),p=n(313),f=r(p),m=n(268),h=r(m),g=n(187),v=r(g),_=n(82),y=r(_),b=n(13),E=r(b),C=n(65),I=r(C),T=n(137),N=r(T),S=n(151),x=n(5),A=n(104),k=r(A),w=n(112),R=r(w),O=n(42),P=r(O),L=n(33),M=r(L),D=n(311),U=r(D),F=n(386),q=r(F),B=n(426),j=r(B),H=n(446),G=r(H),W=n(20),V=r(W),Y=n(773),z=r(Y),K=n(772),Q=r(K),$=n(604),X=r($),J=n(195),Z=n(12),ee="task";t.default=u.default.createClass({displayName:"TaskWrapper",propTypes:{task:f.default,isOverdue:o.default.bool,isComplete:o.default.bool,programId:o.default.string,children:o.default.node,showInstructions:o.default.bool,showInstructionsToggle:o.default.bool,carouselLearner:o.default.object,approval:R.default,approvalId:o.default.string,approvalsCount:o.default.number,isApprover:o.default.bool,renderBackToAuthoring:o.default.bool,h1:o.default.node,approver:k.default,approverType:A.ApproverType,approvalLearner:P.default,attachments:o.default.arrayOf(M.default).isRequired,evidences:U.default.isRequired,onPreviousApproval:o.default.func,onNextApproval:o.default.func,disableCarousel:o.default.bool},getDefaultProps:function(){return{onPreviousApproval:Function.prototype,onNextApproval:Function.prototype,disableCarousel:!1}},getInitialState:function(){return{showInstructions:this.props.showInstructions}},componentWillReceiveProps:function(e){e.showInstructions!==this.props.showInstructions&&this.setState({showInstructions:e.showInstructions})},toggleInstructions:function(){this.state.showInstructions?(0,N.default)(I18n.t("Instructions collapsed"),"assertive"):(window.scrollTo(window.scrollX,0),(0,N.default)(I18n.t("Instructions expanded"),"assertive")),this.setState({showInstructions:!this.state.showInstructions})},renderBackButton:function(){var e=this.props,t=e.isApprover,n=e.programId,r=e.renderBackToAuthoring;return r?this.renderBackToAuthoring():t?this.renderBackToApprovals():n?u.default.createElement(h.default,{className:"learner-learnable-header__exit-link",hasBackIcon:!0,programId:n}):u.default.createElement(v.default,{className:"learner-learnable-header__exit-link",hasBackIcon:!0})},render:function(){var e=(0,d.default)("learner-task",{"learner-task--collapsed":!this.state.showInstructions,"learner-task--overdue":this.props.isOverdue});return u.default.createElement("div",{className:e},u.default.createElement("header",{className:"learner-task__header"},u.default.createElement("div",{className:"pure-g-r learner-learnable-header__grid-container"},this.renderBackButton()),this.renderTitleAndIcon(),this.props.carouselLearner&&this.renderCarousel("hidden-mobile")),this.props.carouselLearner&&u.default.createElement("ul",{className:"hidden-desktop approval__carousel-wrapper"},u.default.createElement("li",null,this.renderCarousel("hidden-desktop")),(0,V.default)("learn_checkpoint_approver_due_dates")&&this.props.task.endAt&&this.renderDueDate()),this.state.showInstructions&&this.renderInstructions(),this.props.showInstructionsToggle&&this.renderInstructionsToggle(),this.renderResources(),this.props.task.requiresEvidence&&this.renderEvidences(),this.props.children)},renderApprover:function(){return u.default.createElement("li",{className:"learner-task__approver"},u.default.createElement(j.default,{approver:this.props.approver,approverType:this.props.approverType},I18n.t("Approval by %{name}",{name:this.props.approver.name})))},renderApprovalLearner:function(){return u.default.createElement("li",{className:"learner-task__approver"},u.default.createElement("div",{className:"learner-task__user-info"},I18n.t("Approval requested by %{name}",{name:this.props.approvalLearner.name})))},renderDueDate:function(){return u.default.createElement("li",{className:"learner-task__due-date"},(0,S.dueDateText)(this.props.task.endAt))},renderCarousel:function(e){var t=this.props,n=t.carouselLearner,r=t.approvalsCount,a=t.disableCarousel,i=r>1,o=!i||a;return u.default.createElement("div",{className:(0,d.default)("approval__carousel",e),"data-capybara":"approval-carousel"},u.default.createElement(y.default,{buttonClassName:"approval__carousel-btn",iconClassName:"gs-1x",icon:"arrow-left",label:I18n.t("Previous approval"),onClick:this.props.onPreviousApproval,disabled:o}),u.default.createElement("span",{className:"approval__carousel-learner"},u.default.createElement(I.default,(0,s.default)({className:"approval__carousel-learner-icon"},n)),u.default.createElement("span",{className:"approval__carousel-learner-name brand-color"},n.name)),u.default.createElement(y.default,{buttonClassName:"approval__carousel-btn",iconClassName:"gs-1x",icon:"arrow-right",label:I18n.t("Next approval"),onClick:this.props.onNextApproval,disabled:o}))},renderTitleAndIcon:function(){var e=this.props,t=e.task,n=e.isComplete,r=e.h1,a=e.approval;return u.default.createElement("div",{className:"learner-task__task"},u.default.createElement("div",{className:"learner-task__icon-container"},u.default.createElement(G.default,{approval:a,isComplete:n,hasCertificate:!1,large:!0}),r),u.default.createElement("h4",{className:"learner-task__title"},(0,J.getDisplayTitle)(t)))},renderInstructions:function(){var e=this.props,t=e.task,n=e.isComplete,r=e.h1,a=e.approval,s=e.isApprover;return u.default.createElement("div",{className:"learner-task__container"},u.default.createElement("div",{className:"learner-task__icon-container"},u.default.createElement(G.default,{approval:a,isComplete:n,hasCertificate:!1,large:!0}),r),u.default.createElement("div",{className:"learner-task__content","data-capybara":"learner-task-content"},u.default.createElement("h2",{className:"learner-task__title"},t.title||I18n.t("Untitled Checkpoint")),s?this.renderApproverMeta():this.renderLearnerMeta(),u.default.createElement("div",{className:"learner-task__instructions"},t.structuredBody&&u.default.createElement(X.default,{id:"instructions",structuredBody:t.structuredBody,attachments:t.instructionsAttachments,onFetchLtiContent:this.fetchLtiContent}))))},renderInstructionsToggle:function(){var e=(0,d.default)("gs-1x",{"gs-arrow-down":!this.state.showInstructions,"gs-arrow-up":this.state.showInstructions});return u.default.createElement("div",{className:"learner-task__toggle-instructions"},u.default.createElement("button",{className:"learner-task__toggle-instructions-btn",onClick:this.toggleInstructions,"aria-label":this.toggleInstructionsAriaLabel()},I18n.t("Instructions")," ",u.default.createElement(x.Icon,{className:e})))},renderResources:function(){var e=this.props.attachments;return u.default.createElement(z.default,{attachments:e})},renderEvidences:function(){var e=this.props,t=e.task,n=e.evidences,r=e.approvalLearner,a=e.isApprover,s=e.approval,i=a?r.id:t.learner.id,o=s&&s.state!==Z.APPROVAL_STATE_INCOMPLETE,l=(0,d.default)("learner-task__evidences",{"learner-task__evidences--expanded":!o});return u.default.createElement(Q.default,{className:l,evidences:n,taskId:t.id,learnerId:i,canAddEvidence:this.canAddEvidence(),requiresNewEvidence:!a})},renderBackToAuthoring:function(){return u.default.createElement(E.default,{className:"learner-learnable-header__exit-link",to:"author.checkpoint.author.checkpoint.learners",params:[{taskId:this.props.task.id}]},u.default.createElement("span",null,u.default.createElement(x.Icon,{className:"gs-arrow-left gs-1x margin-r-xs"}),u.default.createElement("span",null,I18n.t("Back to Checkpoint"))))},renderBackToApprovals:function(){return u.default.createElement(E.default,{className:"learner-learnable-header__exit-link",to:"approver.approvals"},u.default.createElement("span",null,u.default.createElement(x.Icon,{className:"gs-arrow-left gs-1x margin-r-xs"}),u.default.createElement("span",null,I18n.t("Back to My Approvals"))))},renderApproverMeta:function(){var e=this.props,t=e.approvalLearner,n=e.task;return u.default.createElement("ul",{className:(0,d.default)("approver-approvals__meta","hidden-mobile",t&&"approver-approvals__meta--with-approver")},t&&this.renderApprovalLearner(),(0,V.default)("learn_checkpoint_approver_due_dates")&&n.endAt&&this.renderDueDate())},renderLearnerMeta:function(){var e=this.props,t=e.approver,n=e.task;return u.default.createElement("ul",{className:(0,d.default)("learner-task__meta",t&&"learner-task__meta--with-approver")},t&&this.renderApprover(),n.endAt&&this.renderDueDate())},toggleInstructionsAriaLabel:function(){return this.state.showInstructions?I18n.t("collapse instructions"):I18n.t("expand instructions")},canAddEvidence:function(){var e=this.props,t=e.task,n=e.isComplete;if(n)return!1;if(t.requiresApproval){var r=this.props,a=r.approval,s=r.isApprover,i=s?[Z.APPROVAL_STATE_REQUESTED]:[Z.APPROVAL_STATE_INCOMPLETE,Z.APPROVAL_STATE_REJECTED];return i.includes(a.state)}return!0},fetchLtiContent:function(e){var t=this.props.task;return q.default.fetch(e,ee,t.id)}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(12),i=s.KC_RETURN,o=s.KC_SPACE,l=n(2),u=l.bool,c=l.func,d=l.string,p=l.any,f=0,m=r.createClass({displayName:"ToggleControl",propTypes:{editable:u,checked:u,onChange:c.isRequired,value:d,children:p},getDefaultProps:function(){return{editable:!1,checked:!1}},handleKeyDown:function(e){e.keyCode!==i&&e.keyCode!==o||(e.preventDefault(),this.toggleChecked())},handleClick:function(){this.toggleChecked()},toggleChecked:function(){this.props.editable&&this.props.onChange({target:{value:this.props.value,checked:!this.props.checked}})},componentWillMount:function(){this.uniqueElementId=f++},render:function(){var e=a({"toggle-control":!0,"toggle-control--checked":this.props.checked,"toggle-control--editable":this.props.editable}),t=this.uniqueElementId+"-label";return r.createElement("label",{className:e,onKeyDown:this.handleKeyDown,onClick:this.handleClick},r.createElement("span",{className:"toggle-control__label",id:t},this.props.children),r.createElement("span",{className:"toggle-control__value "+(this.props.editable?"blue":""),"aria-roledescription":"checkbox",tabIndex:"0","aria-labelledby":t,"aria-checked":this.props.checked.toString()}," ",this.props.checked?I18n.t("Yes"):I18n.t("No")))}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(65),s=n(3),i=s.string,o=s.shape,l=s.bool,u=r.createClass({displayName:"UserAvatarWithName",propTypes:{user:o({id:i,uid:i,name:i,email:i,avatarUrl:i}),className:i,disabled:l,disabledMessage:i,hideDetails:l},getDefaultProps:function(){return{hideDetails:!1}},render:function(){var e=this.props.user,t=e.uid!==e.email&&e.email&&e.email.length>0;return r.createElement("div",{className:this.props.className},r.createElement(a,{id:e.id,name:e.name,email:e.email,avatarUrl:e.avatarUrl,className:"left margin-r-s"}),r.createElement("span",{className:"avatar__label"},e.name,this.props.disabledMessage&&r.createElement("span",null," (",this.props.disabledMessage,")")),e.uid&&!this.props.hideDetails&&r.createElement("span",{className:"user-search__details margin-l-xl"},e.uid,t&&", "+e.email))}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.func,i=a.bool,o=a.string,l=a.node,u=n(91),c=n(6),d=n(474),p=n(34),f=n(4),m=f.isEqual,h=r.createClass({displayName:"UserRolesEdit",propTypes:{onCancel:s.isRequired,onSave:s.isRequired,isMobile:i.isRequired,user:n(42),className:o,children:l},componentDidMount:function(){this.setRoles(),d.addChangeListener(this._onChange)},componentWillUnmount:function(){d.removeChangeListener(this._onChange),this.props.user&&d.clearCacheForUser(this.props.user)},componentDidUpdate:function(e){var t=this.props.user;t&&t===e.user||this.setRoles()},setRoles:function(){this.props.user&&d.fetchRolesForUser(this.props.user)},roles:function(){return this.props.user?d.getEditableRolesForUser(this.props.user):[]},shouldComponentUpdate:function(e,t){return!m(this.props,e)||!m(this.state,t)},roleDisabled:function(e){return this.props.user.id===p.getCurrentUserId()||e.isComputed},renderActions:function(){var e=c("pure-u-3-8","text-center","admin-dashboard__actions",{"margin-tb-s":this.props.isMobile});return r.createElement("div",{className:e},r.createElement("button",{className:"admin-dashboard__button",type:"button",onClick:this.props.onCancel,children:I18n.t("Cancel")}),this.props.user&&r.createElement("button",{className:"admin-dashboard__button",type:"button",onClick:this.props.onSave,children:I18n.t("Save"),"data-capybara":"user_roles_save"}))},render:function(){var e=this,t=this.props.isMobile;return r.createElement("div",{className:this.props.className},r.createElement("div",{className:"pure-u-5-8",children:this.props.children}),!t&&this.renderActions(),r.createElement("div",{className:"pure-u-1 padding-t-xs"},this.roles().map(function(t){return r.createElement(u,{key:t.name,checked:t.granted,onChange:e.updateRole.bind(null,t),className:"checkbox--role padding-l-xs",disabled:e.roleDisabled(t),children:t.label,dataCapybara:t.name})})),t&&this.renderActions())},_onChange:function(){this.forceUpdate()},updateRole:function(e,t){d.updateRole({userId:this.props.user.id,role:e,granted:t.target.checked})}});e.exports=h},function(e,t,n){"use strict";var r=n(8),a=n(180),s=n(228);e.exports=r({url:"/api/author/live_courses/%@",schema:n(105),parse:function(e,t){return s(a(t,"meta.permissions")),e(t.live_courses[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(180),o=r(i),l=n(228),u=r(l),c=n(57),d=r(c);t.default=(0,s.default)({url:"/api/author/programs/%@",type:"GET",schema:d.default,cache:!1,parse:function(e,t){return(0,u.default)((0,o.default)(t,"meta.permissions")),t.programs.map(e)[0]}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(42),perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:null,params:null};return a({url:e.url||"/api/author/users",data:e.params})},parse:function(e,t){return t.users.map(e)}})},function(e,t,n){"use strict";var r=n(1),a=n(815),s={openUpgradeModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState({upgradeCode:e,upgradeUserCount:t&&t.count,upgradeUserLimit:t&&t.limit})},closeUpgradeModal:function(){this.setState({upgradeCode:null,upgradeUserCount:null,upgradeUserLimit:null})},renderUpgradeModal:function(){return this.state.upgradeCode?r.createElement(a,{code:this.state.upgradeCode,userCount:this.state.upgradeUserCount,userLimit:this.state.upgradeUserLimit,onClose:this.closeUpgradeModal}):""}};e.exports=s},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.number,i=r.shape,o=r.string;e.exports=i({id:s,uid:o,name:o,email:o,unsubscribed:a,avatarUrl:o,activeEnrollments:s,completedEnrollments:s,createdEnrollments:s,failedEnrollments:s,overdueEnrollments:s,totalEnrollments:s})},function(e,t,n){"use strict";var r=n(10),a=r.number,s=r.string,i=r.arrayOf,o=r.bool,l=r.shape;e.exports=l({id:s,csvDays:i(o),csvTime:s,hasHeaders:o,importColumns:i(l({customFieldId:a,name:s,position:a,primaryField:o,managerPrimaryField:o}))})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=r(a);t.default=s.default.shape({getState:s.default.func,listen:s.default.func,dispose:s.default.func}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.arrayOf,s=r.shape,i=r.string,o=r.bool;e.exports=s({id:i,name:i,roles:a(s({id:i,key:i,name:i,isAllowed:o,locked:o,changed:o,static:o}))})},function(e,t,n){"use strict";var r=n(10),a=r.number,s=r.oneOfType,i=r.shape,o=r.string;e.exports=i({gradient:s([a,o]),image:o})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,notifications:r.bool,chatNotifications:r.bool,fromLabel:r.string,replyTo:r.string}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.shape,i=r.string,o=r.number;e.exports=s({id:i,closed:a,closesAt:i,distributionType:i,recipientsCount:o,responsesCount:o,sentAt:i,state:i,surveyId:i,title:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=n(59),s=(0,r.shapeExtend)(a.LtiContentItemSchema,{state:(0,r.oneOf)(["assigned","complete"])});t.default=s,e.exports=t.default},function(e,t){"use strict";function n(e){return e&&e.title||I18n.t("Untitled Program")}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayTitle=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3143),o=r(i),l=n(3142),u=r(l),c=n(3235),d=r(c),p=n(3233),f=r(p),m=n(44),h=r(m),g=2e3,v=(0,h.default)(function(e,t,n,r){var a={};return r&&(a.sort=r),o.default.performWithoutParsing(t,n,{nextPageURL:e,data:a})}),_=o.default.parse,y=(0,s.default)({displayName:"AffiliatedSubAccountStore",schema:n(156),fetch:function(e,t,n){var r=this;return v.findFirstPage(e,t,n).then(function(a){r.cache.setCollection({itemId:e,itemType:t,sort:n},_(a))})},fetchNext:function(e,t,n){var r=this;v.hasMorePages()&&v.findNextPage(e,t,n).then(function(a){r.cache.addToCollection({itemId:e,itemType:t,sort:n},_(a))})},get:function(e,t,n){var r=this;(0,u.default)(e,t,n).then(function(a){r.cache.add(a),r.poll(a,e,t,n)})},getAll:function(e,t,n){return this.cache.getCollection({itemId:e,itemType:t,sort:n})},share:function(e,t,n){var r=this;(0,d.default)(e,t,n).then(function(a){r.cache.add(a),r.poll(a,e,t,n)})},revoke:function(e,t,n){var r=this;(0,f.default)(e,t,n).then(function(a){r.cache.add(a),r.poll(a,e,t,n)})},poll:function(e,t,n,r){e.affiliationPending&&setTimeout(this.get.bind(this,t,n,r),g)}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3151),o=r(i),l=n(87),u=r(l),c=n(3320),d=r(c),p={Task:"tasksFilterParams",CourseTemplate:"courseTemplatesFilterParams"},f=(0,s.default)({displayName:"AuthorSubAccountsStore",schema:n(217),fetch:function(e){var t=this;return(0,o.default)(e).then(function(n){var r=p[e];if(r){var a=u.default.getItem(r,u.default.SCOPE_USER);if(a){var s=(0,d.default)(a,n);u.default.setItem(r,s,u.default.SCOPE_USER)}}t.cache.setCollection({itemClass:e},n)})},getAll:function(e){return this.cache.getCollection({itemClass:e})}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{id:e.id,name:e.name,deletable:e.deletable}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(21),i=r(s),o=n(7),l=r(o),u=n(276),c=r(u),d=n(44),p=r(d),f=n(25),m=r(f),h=n(4),g=n(1469),v=r(g),_="/api/author/custom_fields",y=(0,i.default)({displayName:"CustomFieldStore",schema:c.default,getInitialState:function(){return{paginator:(0,p.default)(function(e,t){return(0,l.default)({url:e||_,data:t})})}},fetchAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.state.paginator.findFirstPage(Object.assign({limit:100},t)).then(function(t){e.cache.setCollection({},t.custom_fields.map(a))})},fetchNext:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.state.paginator;return n.hasMorePages()?n.findNextPage(Object.assign({limit:200},t)).then(function(t){e.cache.addToCollection({},t.custom_fields.map(a))}):m.default.resolve()},fetchAllRecursive:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cache.clear();var n=function(t){e.cache.addToCollection({},t.custom_fields.map(a))};return this.state.paginator.findAllPages(n,t).then(function(){})},createOrUpdate:function(e){var t=this,n=function(e){var n=e.custom_fields.map(a)[0];return t.cache.add(n),n.id},r=(0,v.default)((0,h.pick)(e,["name","deletable"]));return e.id?(0,l.default)({url:_+"/"+e.id,type:"PATCH",data:{includes:["deletable"],custom_field:r}}).then(n):(0,l.default)({url:""+_,type:"POST",data:{includes:["deletable"],custom_fields:[r]}}).then(n)},destroy:function(e){var t=this;return(0,l.default)({url:_+"/"+e,type:"DELETE"}).then(function(){t.cache.remove(e)})},get:function(e){return this.cache.get(e)},getAll:function(){return this.cache.getCollection({})}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(377),s=r(a),i=n(31),o=r(i),l=n(389),u=new s.default({transformers:{value:function(e){return!!e}}});u.isEnabled=function(e){return this.data.has(e)||(0,l.isUnderAllyRouter)()?this.data.get(e):(console.warn('The feature "'+e+'" does not exist!'),!1)},u.reset(o.default.get("FEATURES")||{}),e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(46),s=r(a),i=n(21),o=r(i),l=n(87),u=r(l),c=n(25),d=r(c),p=n(4),f=n(41),m=r(f),h=n(36),g=r(h),v=n(10),_=n(58),y=r(_),b=n(29),E=r(b),C=n(20),I=r(C),T=function(e){return"object"===(0,s.default)(e.item)?e:{id:e.id,item:e,selected:!0}},N=function(){return u.default.getItem("ReportFilters",u.default.SCOPE_USER)},S=(0,o.default)({displayName:"FilterStore",schema:(0,v.shape)({id:v.string,item:v.object,selected:v.bool}),storeOptions:{defaultCacheOptions:{idGenerator:function(e){return(e.item&&e.item.itemType)+":"+e.id}}},getInitialState:function(){var e=[["group","group_view"],["program","program_view"],["course","course_template_list_titles"],["tag","tag_view"],["team","team_view"],["learner","user_view"]];(0,I.default)("reports_with_ilts")&&(e.push(["live_training","live_course_view"]),e.push(["type","course_template_list_titles"]));var t=[];return e.map(function(e){(0,E.default)(e[1])&&t.push(e[0])}),{filterState:t.reduce(function(e,t){return e[t]={collapsed:!0,loading:!1},e},{}),allowedFilters:{default:t,SignInReport:[]},selectedItemStore:g.default.Map()}},getSelected:function(e){if((0,y.default)(e))return this.state.selectedItemStore.reduce(function(e,t,n){return e[n]=t.toArray(),e},{});var t=this.state.selectedItemStore.get(e);return t?t.toArray():[]},clearSelected:function(e){(0,y.default)(e)?this.setState({selectedItemStore:this.state.selectedItemStore.clear()}):this.setState({selectedItemStore:this.state.selectedItemStore.delete(e)})},toggleSelectedItem:function(e,t){if(this.state.selectedItemStore.getIn([t,e.id]))this.setState({selectedItemStore:this.state.selectedItemStore.deleteIn([t,e.id])});else{var n=T({id:e.id,item:e,selected:!0});this.setState({selectedItemStore:this.state.selectedItemStore.setIn([t,e.id],n)})}},fetchAllowedFilters:function(){var e=this.getInitialState();return this.setState({allowedFilters:e.allowedFilters,filterState:e.filterState}),d.default.resolve()},getAllowedFilters:function(e){var t=this.state.allowedFilters;if(t.hasOwnProperty(e))return t[e];if(0===t.default.length){var n=this.getInitialState();return this.setState({allowedFilters:n.allowedFilters,filterState:n.filterState}),n.allowedFilters.default}return t.default},getFilterState:function(e){var t=this.state.filterState;return t.hasOwnProperty(e)?t[e]:t},updateFilterState:function(e,t){var n=(0,p.clone)(this.state.filterState);if(Array.isArray(t)){var r=t.reduce(function(t,n){return t[e][n.name]=n.value,t},n);this.setState({filterState:r})}else"object"!==("undefined"==typeof t?"undefined":(0,s.default)(t))||(0,y.default)(t.name)||(0,y.default)(t.value)||(n[e][t.name]=t.value,this.setState({filterState:n}))},stage:function(e,t){this.cache.addToCollection({stage:t},[].concat(e).map(T))},setStage:function(e,t){this.cache.setCollection({stage:t},e.map(T))},removeUnselectedFromStage:function(e){this.cache.setCollection({stage:e},this.getStaged(e,!0))},unstage:function(e,t){var n=this.cache.getCollection({stage:t}),r="object"===("undefined"==typeof e?"undefined":(0,s.default)(e))&&e.id?e.id:e,a=n.filter(function(e){return r!==e.id});this.cache.setCollection({stage:t},a)},isStaged:function(e,t){return this.cache.getCollection({stage:t}).some(function(t){return t.id===e.id})},getStaged:function(e,t){return t?this.cache.getCollection({stage:e}).filter(function(e){return e.selected===!0}):this.cache.getCollection({stage:e})},updateStagedItem:function(e,t){this.isStaged(e,t)?this.toggleStagedItem(e,t):this.stage(e,t)},toggleStagedItem:function(e,t){var n=this.cache.getCollection({stage:t}),r=n.map(function(t){return t.id===e.id&&(t.selected=!t.selected),t});this.cache.setCollection({stage:t},r)},setActive:function(e,t){var n=void 0;return"object"===("undefined"==typeof e?"undefined":(0,s.default)(e))?((0,m.default)(1===arguments.length,"When passing an object for filters, a value parameter makes no sense!"),n=e):((0,m.default)(2===arguments.length,"You must provide a value for the filter!"),n=(0,p.assign)({},this.getAllActive()),n[e]=t),u.default.setItem("ReportFilters",n,u.default.SCOPE_USER),n},getActive:function(e){var t=this.getAllActive();return e?t[e]||[]:t},getAllActive:function(){return N()||{}},removeActive:function(e){(0,y.default)(e)?this.setActive({}):this.setActive(e,void 0)}});e.exports=S},function(e,t,n){"use strict";var r=n(21),a=n(7),s=n(68),i=n(200),o=s.of(n(146)),l=function(e,t){return"/api/author/library_items/"+i(e)+"/"+t},u=r({displayName:"LibraryItemStore",schema:n(146),storeOptions:{defaultCacheOptions:{idGenerator:function(e){return e.itemType+":"+e.itemId}}},get:function(e){return this.cache.get(e)},toggleRecord:function(e,t,n){return this[e?"createRecord":"deleteRecord"](t,n)},createRecord:function(e,t,n,r,s){var i=this;return a({url:l(e,t),type:"POST",dataType:"json",data:{enrollable_type:r,enrollable_id:n,relevance:s}}).then(function(e){var t=e.library_items.map(o);return i.cache.add(t[0]),t[0]})},deleteRecord:function(e,t,n,r){var s=this;return this.cache.remove(e+":"+t),a({url:l(e,t),type:"DELETE",data:{enrollable_type:r,enrollable_id:n}}).then(function(){s.emitChange()})}});e.exports=u},function(e,t,n){"use strict";var r=n(21),a=n(3189),s=n(3117),i=n(3133),o=r({displayName:"RoleStore",schema:n(175),fetchAll:function(e){var t=this;return a(e).then(function(e){t.cache.setCollection({},e)})},getAll:function(){return this.cache.getCollection({})},create:function(e){var t=this,n=e.name,r=e.basisRoleId;return s({name:n,basisRoleId:r}).then(function(e){return t.cache.add(e),e})},delete:function(e){var t=this,n=e.roleId;return i(n).then(function(){t.cache.remove(n)})}});e.exports=o},function(e,t,n){"use strict";function r(e){var t=new RegExp("^"+e+".\\d+$"),n=0;return{generate:function(){return e+"."+n++},has:function(e){return t.test(e)}}}function a(e,t){return["id","customFieldId","value","predicate"].some(function(n){return s(e[n])!==s(t[n])})}function s(e){return e?"string"!=typeof e?String(e):e:""}function i(e){return{id:e,customFieldId:null,value:null,predicate:"is"}}function o(e){return function(t){return e.has(t.id)?p({},t,{id:null}):t}}var l=n(21),u=n(95),c=n(873),d=n(4),p=d.assign,f=l({displayName:"SmartGroupRuleDraftStore",schema:n(462),getInitialState:function(){return{joinType:null}},initialize:function(){this.idGenerator=r("client-rule"),this.pristineCache=u(null,{displayName:"SmartGroupRuleDraftStore__pristine",schema:n(462)}),this.bench=u(this.emitChange,{displayName:"SmartGroupRuleDraftStore__bench",schema:n(462)})},clear:function(){this.bench.clear(),this.pristineCache.clear()},populate:function(e){var t=e.length>0?e:[i(this.idGenerator.generate())];this.bench.clear(),this.pristineCache.setCollection({},t),this.cache.setCollection({},t)},add:function(){this.cache.addToCollection({},[i(this.idGenerator.generate())])},isDirty:function(){if(!this.bench.isEmpty()||this.state.joinType)return!0;var e=this.cache.getCollection({}),t=this.pristineCache.getCollection({});if(e.length!==t.length)return!0;var n=t.reduce(function(e,t){return e[t.id]=t,e},{});return e.some(function(e){return!n[e.id]||a(e,n[e.id])})},adjust:function(e,t){this.cache.add(p({},this.cache.get(e),t))},getSerializedChanges:function(){var e={},t=this.cache.getCollection({}).filter(c.isValid).map(o(this.idGenerator)).map(c.serialize),n=this.bench.getCollection({}).map(c.serializeForRemoval);return e.rules=t.concat(n),this.state.joinType&&(e.join_type=this.state.joinType),e},discardChanges:function(){this.cache.setCollection({},this.pristineCache.getCollection({})),this.bench.clear(),this.setState({joinType:null})},getAll:function(){return this.cache.getCollection({})},remove:function(e){var t=this.cache.get(e);t&&(this.idGenerator.has(t.id)||this.bench.addToCollection({},[t]),this.cache.remove(t.id))},overrideJoinType:function(e){this.setState({joinType:e})},getOverriddenJoinType:function(){return this.state.joinType},resetJoinTypeOverride:function(){this.setState({joinType:null})}});e.exports=f},function(e,t,n){"use strict";function r(e){var t=Object.keys(d).filter(function(e){return e.match(/^CONTEXT_/)}).map(function(e){return d[e]});o(t.indexOf(e)>-1,"Taggable context type must be one of "+JSON.stringify(t)+", not "+e+".")}var a=n(21),s=n(7),i=n(118),o=n(41),l=n(25),u=n(10),c=u.string,d=a({displayName:"TaggingSearchStore",storeOptions:{defaultCacheOptions:{schema:c,idGenerator:function(e){return e}}},CONTEXT_COURSE:"course_template",getInitialState:function(){return{ajax:s.use([i(this.emitChange)])}},reset:function(){this.cache.clear()},getAll:function(){return this.cache.getCollection({})},search:function(e){var t=this,n=e.term,a=e.contextId,s=e.contextType;return r(s),n.length>0?this.state.ajax({type:"GET",url:"/api/author/taggings/",data:{term:n,context_id:a,context_type:s,limit:5}}).then(function(e){t.cache.setCollection({},e.tags)}):l.reject()}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500;return new i.default(function(r,a){function s(){(0,f.default)(e,i).then(function(e){e.length?r(e[0]):setTimeout(s,n)},a)}var i={data:{user_id:t}};s()})}var s=n(25),i=r(s),o=n(4),l=n(21),u=r(l),c=n(7),d=r(c),p=n(3196),f=r(p),m=n(44),h=r(m),g=n(118),v=r(g),_=n(40),y=r(_),b=(0,h.default)(function(e,t,n,r){var a={};return n&&(a.sort=n),r&&(a.search=r),f.default.performWithoutParsing(t,{nextPageURL:e,data:a})}),E=2500,C=(0,u.default)({displayName:"TaskEnrollmentStore",schema:n(861),POLLING_FREQUENCY:E,getInitialState:function(){return{polling:!1}},initialize:function(){this.trackableAjax=d.default.use((0,v.default)(this.emitChange))},fetch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return b.findFirstPage(e,n,r).then(function(a){t.cache.setCollection([e,n,r],f.default.parse(a))})},fetchNext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;b.hasMorePages()&&b.findNextPage(e,n,r).then(function(a){t.cache.addToCollection([e,n,r],f.default.parse(a));
})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cache.getCollection([e,t,n])},update:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=this.cache.get(t);i&&this.cache.transaction(function(){return r.cache.addToCollection([e,a,s],[(0,o.merge)(i,n)]),(0,d.default)({url:"/api/author/tasks/"+e+"/learners/"+t,type:"PATCH",data:{enrollments:[(0,y.default)(n)]}})})},enroll:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.trackableAjax({url:"/api/author/tasks/"+e+"/learners",type:"POST",data:{enrollments:[{user_id:t}]}}).then(function(){return n.setState({polling:!0}),a(e,t)}).then(function(t){n.setState({polling:!1}),n.cache.unshiftInCollection([e,r,s],t)})},isEnrolling:function(){return this.trackableAjax.hasPendingRequests()||this.state.polling},unenroll:function(e,t){var n=this;return this.cache.transaction(function(){return n.cache.remove(t),(0,d.default)({url:"/api/author/tasks/"+e+"/learners/"+t,type:"DELETE"})})}});e.exports=C},function(e,t,n){"use strict";var r=n(21),a=n(476),s=a.DEFAULT_RETRY_INTERVAL,i=r({displayName:"UberHaxStore",storeOptions:{getDefaultCache:function(){return null}},initialize:function(){try{this.setPresenceSchedulerInterval(sessionStorage.getItem("UBER_HAX/PRESENCE_SCHEDULER_INTERVAL"))}catch(e){console.warn("Failed to get item from sessionStorage: "+e)}},getFakeXHRLatency:function(){try{return parseInt(window.FAKE_XHR_LATENCY||sessionStorage.FAKE_XHR_LATENCY,10)}catch(e){return NaN}},setFakeXHRLatency:function(e){!e||parseInt(e,10)<=0?sessionStorage.removeItem("FAKE_XHR_LATENCY"):sessionStorage.setItem("FAKE_XHR_LATENCY",e),this.emitChange()},getPresenceSchedulerInterval:function(){return a.DEFAULT_RETRY_INTERVAL},setPresenceSchedulerInterval:function(e){e?(a.DEFAULT_RETRY_INTERVAL=e,sessionStorage.setItem("UBER_HAX/PRESENCE_SCHEDULER_INTERVAL",e)):(a.DEFAULT_RETRY_INTERVAL=s,sessionStorage.removeItem("UBER_HAX/PRESENCE_SCHEDULER_INTERVAL")),this.emitChange()}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(46),s=r(a);e.exports=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}";return"string"==typeof t?t:"number"==typeof t?String(t):t&&"object"===("undefined"==typeof t?"undefined":(0,s.default)(t))?JSON.stringify(t):n?e(n):void 0}},function(e,t,n){"use strict";var r=n(1);t.getNotoriousThumb=function(e,t){return e+"?width="+t.width+"&height="+t.height},t.getAttachmentDimensions=function(e,t){var n="number"==typeof t?t:16,r=e.offsetWidth-n;return{width:r,height:Math.floor(r/16*9)}},t.renderSources=function(e){return e.map(function(e){return r.createElement("source",{type:e.mimeType,src:e.url,key:e.url})})},t.parseAttachmentIds=function(e){var t=document.createElement("div"),n=Array.prototype.forEach,r=[];return t.innerHTML=e,n.call(t.querySelectorAll("[data-attachment-id]"),function(e){var t=e.getAttribute("data-attachment-id");r.indexOf(t)===-1&&r.push(t)}),r}},function(e,t,n){"use strict";function r(e){return u(e).format("ll")}function a(e){return I18n.t("Due on %{date}",{date:r(e)})}function s(e){var t=I18n.t("day",{count:e});return I18n.t("in %{days}",{days:t})}function i(e){return I18n.t("Due %{period_of_time}",{period_of_time:s(e)})}function o(e,t,n){return"fixed"===e&&n?a(n):t>0?i(t):null}function l(e){switch(e){case"program":return I18n.t("The due date for this program is in the past. Any new enrollments will already be overdue.");case"course":return I18n.t("The due date for this course is in the past. Any new enrollments will already be overdue.");case"task":return I18n.t("The due date for this checkpoint is in the past. Any new enrollments will already be overdue.");default:return I18n.t("The due date for this item is in the past. Any new enrollments will already be overdue.")}}var u=n(11);e.exports={dueOnDate:r,dueOnText:a,dueDateDuration:s,dueWithinText:i,dueDateText:o,pastDueDateWarningText:l}},function(e,t){"use strict";e.exports=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}},function(e,t){"use strict";var n=Object.keys;e.exports=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return e.map(function(e){return 1===r.length?e[r[0]]:n(e).reduce(function(t,n){return r.indexOf(n)>-1&&(t[n]=e[n]),t},{})})}},function(e,t){"use strict";function n(e){switch(e){case"in_library":return I18n.t("In Library");case"enrolled":return I18n.t("Required");case"recommended":return I18n.t("Recommended");default:return I18n.t("Set Relevance")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1158);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(a).default}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e.addPending(t,n),a=r.id,i=(0,o.default)(n,{onChange:function(){return e.updatePending(a,{progress:i.getProgress()})}});return i.uploadMultiPart().then(function(n){var r=(0,s.pick)(n,["location","evaporateId"]);return e.updatePending(a,r),e.savePending(a,t)}).catch(function(e){console.error("Failed to upload attachment(s)",e),(0,u.default)(I18n.t("There was a problem uploading %{name}. Please try again",{name:n.name}),{type:"error"})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(4),i=n(117),o=r(i),l=n(19),u=r(l);e.exports=t.default},function(e,t){"use strict";function n(){return window!==window.parent}function r(){return window.parent}Object.defineProperty(t,"__esModule",{value:!0}),t.default={isInIframe:n,messageTarget:r},e.exports=t.default},,,,function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.bool,o=r.number,l=r.arrayOf;e.exports=a({id:s,body:s,position:o,correct:i,term:s,definition:s,detail:s,fact:s,distractors:l(s),placeholder:s})},function(e,t,n){"use strict";function r(e,t){var n=e.cache.get(t)||{},r=n.updatedAt;return r?new Date(r):null}function a(e,t){var n=t.courseId,r=t.slideId,a=t.attributes,s=t.lockOptions,i=A(a,["structuredBody"]);return i.answers&&0===i.answers.length&&(i.__force_blank_answers=!0),i.structuredBody&&(i.structured_body=i.structuredBody,delete i.structuredBody),e.saveQueue.add({lockOptions:s,url:"/api/author/course_templates/"+n+"/slides/"+r,type:"PATCH",data:{slide:i}})}function s(e,t){return t.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{})}function i(e){return e.answers=N.enforceAnswerSetIntegrity({type:e.type,answers:e.answers||[]}),e}function o(e,t){if(t&&t.body&&!t.structuredBody){var n=t.forceTinymceImporterVersion||e,r="1"===String(n)?L.ImporterV1:L.Importer;return l(Object.assign({},t,{structuredBody:r.run(t.body)}))}return l(t)}function l(e){if(e&&e.structuredBody&&d(e)){var t=M.EditorState.createWithContent(M.convertFromRaw(e.structuredBody));return D.fixImportedEmbeddedVideos(t).then(function(t){return Object.assign({},e,{structuredBody:M.convertToRaw(t.getCurrentContent())})})}return U.resolve(e)}function u(e,t){return e.bind(null,t)}function c(){return 2}function d(e){return Object.keys(e.structuredBody.entityMap).some(function(t){var n=e.structuredBody.entityMap[t];return"external-video"===n.type&&n.data.src&&!n.data.original})}var p=n(21),f=n(7),m=n(4),h=m.assign,g=m.sortBy,v=m.flowRight,_=n(3401),y=n(68),b=n(96),E=n(128),C=E.QUESTION_TYPES,I=E.SLIDE_CONTENT_UPDATE_THROTTLE_MS,T=n(220),N=n(3294),S=n(3313),x=n(41),A=n(40),k=v(i,y.of(n(110))),w=n(1478),R=n(138),O=R.lockAwareAjax,P=n(1401),L=n(1504),M=n(35),D=n(153),U=n(25),F=p({displayName:"SlideStore",schema:n(110),initialize:function(){var e=this;this.saveQueue=P.create({retryCount:3,adapter:O,callback:function(){}}),this.debouncedCommitChanges=w({fn:function(t,n,s,i){var o=e.cache.get(n);o&&e.cache.add(h({},o,s)),a(e,{courseId:t,slideId:n,attributes:s,lockOptions:{id:t,lastModifiedAt:r(e,n)}}).then(function(){i.onSuccess&&i.onSuccess()},function(){e.fetch(t,n),i.onError&&i.onError()})},keyFn:function(e,t){return e+":"+t},threshold:I})},clear:function(){this.debouncedCommitChanges.cancel(),this.debouncedCommitChanges=null,this.saveQueue.clear(),this.saveQueue=null},create:function(e,t){var n=this,r=i({type:t,answers:[]});return t===C.COVER_SLIDE&&(r.position=1),O({lockOptions:{id:e,lastModifiedAt:new Date},url:"/api/author/course_templates/"+e+"/slides",type:"POST",data:{slides:[r]}}).then(b.BatchRoutine(this,q(this,function(t){var r=k(t.slides[0]);return n.cache.addToCollection({courseId:e},[r]),r.id})))},fetchAll:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{importerVersion:null},r=u(o,n&&n.importerVersion||c());return f({url:"/api/author/course_templates/"+e+"/slides"}).then(function(e){return U.all(e.slides.map(k).map(r))}).then(function(n){t.cache.setCollection({courseId:e},n)})},fetch:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{importerVersion:null},a=u(o,r&&r.importerVersion||c());return _(e,t).then(function(e){return a(i(e))}).then(function(e){n.cache.add(i(e))})},get:function(e){return this.cache.get(e)},getAll:function(e){return g(this.cache.getCollection({courseId:e}),"position")},update:function(e,t,n){var i=this,o=this.cache.get(t),l=s(n,["type","title","answers","allowComments","attachmentUrl","attachmentAlign","attachmentAltText","attachments","feedback","staticOrder"]);return l.answers=N.enforceAnswerSetIntegrity({type:l.type||o.type,answers:l.answers||o.answers||[]}),this.cache.transaction(function(){return i.cache.add(h({},o,l)),a(i,{courseId:e,slideId:t,attributes:l,lockOptions:{id:e,lastModifiedAt:r(i,t)}})}).then(b.BatchRoutine(this,q(this,function(e){var n=k(e.slides[0]);i.cache.add(h({},i.cache.get(t),{attachmentUrl:n.attachmentUrl}))})))},updateContent:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.debouncedCommitChanges(e,t,n,r)},clone:function(e,t){var n=this;return O({lockOptions:{id:e,lastModifiedAt:r(this,t)},url:"/api/author/course_templates/"+e+"/slides/"+t+"/clone",type:"POST"}).then(b.BatchRoutine(this,q(this,function(t){var r=k(t.slides[0]);return n.cache.addToCollection({courseId:e},[r]),r.id})))},remove:function(e,t){var n=this;return this.cache.transaction(function(){return n.cache.remove(t),O({lockOptions:{id:e,lastModifiedAt:r(n,t)},type:"DELETE",url:"/api/author/course_templates/"+e+"/slides/"+t}).then(b.BatchRoutine(n,q(n)))})},updateCoverSlide:function(e,t){var n=this,i=this.cache.getCollection({courseId:e}).filter(function(e){return e.type===C.COVER_SLIDE})[0];x(i,"You are attempting to update a cover slide but none exists!");var o=i.id,l=s(t,["dark","heading","intro","backgroundColor","primaryColor","backgroundImageUrl","backgroundImageStyle","backgroundImageOpacity"]),u={coverSlideData:h({},i.coverSlideData,l)};return this.cache.transaction(function(){return n.cache.add(h({},i,u)),a(n,{courseId:e,slideId:o,attributes:u,lockOptions:{id:e,lastModifiedAt:r(n,o)}}).then(function(e){n.cache.add(k(e.slides[0]))})})},addAnswer:function(e,t){var n=this.get(t);return this.update(e,t,{answers:n.answers.concat([T.generateAnswerForQuestion(n)])})},updateAnswer:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=this.get(t),o={},l=s(r,["id","body","correct","detail","fact","distractors","term","definition"]),u=i.answers.map(function(e){return e.id===n?h({},e,l):h({},e)});return i.type===C.MULTIPLE_CHOICE?l.correct&&u.forEach(function(e){e.id!==n&&delete e.correct}):i.type===C.FACTOID?o.title=u.map(function(e){return e.fact}).join(" "):i.type===C.VOCABULARY&&a.addBlankAnswer&&u.push(T.generateAnswerForQuestion(i)),o.answers=u,this.update(e,t,o)},removeAnswer:function(e,t,n){var r=this.get(t);return this.update(e,t,{answers:r.answers.filter(function(e){return e.id!==n})})},addImage:function(e,t,n){return this.update(e,t,{attachmentUrl:n})},removeImage:function(e,t){return this.update(e,t,{attachmentUrl:null})},swapAnswers:function(e,t,n){var r=n.sourceId,a=n.targetId;x("string"==typeof r,"Expected a @sourceId string pointing to the source answer!"),x("string"==typeof a,"Expected a @targetId string pointing to the target answer!");var s=this.get(t),i=s.answers.filter(function(e){return e.id===r})[0],o=s.answers.filter(function(e){return e.id===a})[0];return this.update(e,t,{answers:S.byValue(s.answers,i,o)})},adjustPosition:function(e,t,n){var s=this;return a(this,{courseId:e,slideId:t,attributes:{position:n},lockOptions:{id:e,lastModifiedAt:r(this,t)}}).then(b.BatchRoutine(this,q(this,function(e){s.cache.add(k(e.slides[0]))})))}});e.exports=F;var q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function.prototype;return function(n){return n.linked&&n.linked.slides&&n.linked.slides.forEach(function(t){var n=e.cache.get(t.id);n&&e.cache.add(h(n,{position:t.position}))}),t(n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(28),s=r(a),i=n(128);t.getSucceedingItem=function(e,t){var n=e.indexOf(t);return 0===n&&e.length>1?e[1]:e.length>n-1?e[n-1]:e[e.length-1]},t.getAnswerWidgetClassName=function(e){return(0,s.default)({unstyled:!0,centered:!0,"constrain-width":!0,"question-editor__answers":!0,"question-editor__answers--multiple-choice":e===i.QUESTION_TYPES.MULTIPLE_CHOICE,"question-editor__answers--multiple-answer":e===i.QUESTION_TYPES.MULTIPLE_ANSWER,"question-editor__answers--reorder":e===i.QUESTION_TYPES.REORDER,"question-editor__answers--short-answer":e===i.QUESTION_TYPES.SHORT_ANSWER})},t.isExternal=function(e){return i.COURSE_EXTERNAL_TYPES.indexOf(e.courseType)>-1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(1),o=n(91),l=n(6),u=n(4),c=u.assign,d=n(66),p=n(5),f=p.utils,m=f.I18nStringConstants,h=n(3),g=h.bool,v=h.func,_=h.number,y=500,b=i.createClass({displayName:"QuestionFeedback",propTypes:{onChange:v.isRequired,feedback:n(1500),canBeIncorrect:g,debounceRate:_},getDefaultProps:function(){return{feedback:{correct:null,incorrect:null,both:null,useSameFeedback:!1,hasCustomFeedback:!1},canBeIncorrect:!0,debounceRate:200}},getInitialState:function(){return{feedback:this.props.feedback}},componentWillMount:function(){var e=this,t=this.props.debounceRate?d:function(e){return e};this.debouncedInputChange=t(function(t){e.props.onChange(c({},e.props.feedback,t))},this.props.debounceRate)},updateFeedback:function(e){var t=c({},this.state.feedback,e);this.setState({feedback:t}),this.debouncedInputChange(e)},onChange:function(e){var t=this;return function(n){t.updateFeedback((0,s.default)({},e,n.target.value))}},toggleUseSameFeedback:function(){this.updateFeedback({useSameFeedback:!this.props.feedback.useSameFeedback})},render:function(){var e=this.props.canBeIncorrect,t=this.state.feedback,n=t.correct,r=t.incorrect,a=t.both,s=this.props.feedback.useSameFeedback,u=s||!e,c=l({"question-editor__feedback-field":!0,"question-editor__feedback-field-correct":!0,"question-editor__feedback-field-underlaid":u}),d=l({"question-editor__feedback-label":!0,"question-editor__feedback-label-hidden":u}),p=l({"question-editor__feedback-field":!0,"question-editor__feedback-field-incorrect":!0,"question-editor__feedback-field-underlaid":u}),f=l({"question-editor__feedback-label":!0,"question-editor__feedback-label-incorrect":!0,"question-editor__feedback-label-hidden":u}),h=l({"question-editor__feedback-field":!0,"question-editor__feedback-field-both":!0,"question-editor__feedback-field-both-displayed":u}),g=l({"question-editor__feedback-label":!0,"question-editor__feedback-label-hidden":!u});return i.createElement("div",{className:"constrain-width question-editor__feedback-wrapper"},e&&[i.createElement("label",{htmlFor:"correct-feedback",className:d,key:"correct-feedback-label"},I18n.t("Correct")),i.createElement("textarea",{id:"correct-feedback",className:c,value:n||"",placeholder:m.getCorrectFeedbackDefaultText(),onChange:this.onChange("correct"),maxLength:y,disabled:u,key:"correct-feedback-textarea"}),i.createElement("label",{htmlFor:"correct-feedback",className:"question-editor__current-message-label",key:"correct-feedback-message-label"},I18n.t("Current message feedback")),i.createElement("label",{htmlFor:"incorrect-feedback",className:f,key:"incorrect-feedback-label"},I18n.t("Incorrect")),i.createElement("textarea",{id:"incorrect-feedback",className:p,value:r||"",placeholder:m.getIncorrectFeedbackDefaultText(),onChange:this.onChange("incorrect"),maxLength:y,disabled:u,key:"incorrect-feedback-textarea"}),i.createElement("label",{htmlFor:"incorrect-feedback",className:"question-editor__current-message-label question-editor__current-message-label-right",key:"incorrect-feedback-message-label"},I18n.t("Current message feedback"))],i.createElement("label",{htmlFor:"both-feedback",className:g},I18n.t("Feedback")),i.createElement("textarea",{id:"both-feedback",className:h,value:a||"",placeholder:m.getCombinedFeedbackDefaultText(),onChange:this.onChange("both"),maxLength:y,disabled:!u}),e&&i.createElement(o,{className:"question-editor__feedback-checkbox",checked:u,onChange:this.toggleUseSameFeedback},I18n.t("Show the same feedback for CORRECT and INCORRECT answer")),!e&&i.createElement("p",{className:"question-editor__feedback-details"},I18n.t("Your feedback will be shown to learners after any response. This question is not evaluated as CORRECT or INCORRECT.")))}});e.exports=b},function(e,t,n){"use strict";t.SlideSchema=n(110),t.SlideAnswerSchema=n(659),t.SlideStore=n(660),t.Components={QuestionEditorImage:n(1503),SlidePreview:n(1501)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=void 0;var a=n(513);Object.defineProperty(t,"Navigation",{enumerable:!0,get:function(){return r(a).default}});var s=n(512),i=r(s),o=n(1031),l=r(o),u=n(1030),c=r(u),d=n(1032),p=r(d),f=n(1035),m=r(f),h=n(1034),g=r(h),v=n(1036),_=r(v),y=n(1033),b=r(y);t.default=(0,_.default)({presets:{admin:[l.default,b.default,c.default],author:[l.default,b.default,p.default],learner:[l.default,b.default,g.default],support:[l.default,b.default,m.default],approver:[l.default,b.default,g.default]},defaultPreset:[i.default,b.default]})},function(e,t,n){"use strict";var r=n(377),a=new r({transformers:{key:function(e){var t=e.type,n=e.id;return{type:t,id:n}}}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.default)("function"==typeof t.adapter,"@adapter must supply an XHR adapter"),(0,c.default)("string"==typeof t.policyUrl,"@policyUrl must be a valid URL string"),(0,c.default)("string"==typeof t.multipartSignatureUrl,"@multipartSignatureUrl must be a valid URL string"),(0,c.default)(!!t.fileTypes,"@fileTypes must be supplied"),this.content=e,this.options=Object.assign({},g,t),this.progress=0,this._setType()}Object.defineProperty(t,"__esModule",{value:!0});var s=n(46),i=r(s),o=n(1108),l=r(o),u=n(49),c=r(u),d=n(5),p=n(25),f=r(p),m=n(12),h=d.sniff.isFirefox,g={largeUploadSize:m.MULTI_PART_UPLOAD_SIZE};a.prototype={_setType:function(){var e=this.content.name;if(!this.content.type||h()&&e){var t=e?e.substring(e.lastIndexOf(".")+1):"",n=this.options.fileTypes[t.toLowerCase()];n||(n="image/png"),this.content._type=n}},_getType:function(){return this.content._type||this.content.type},upload:function(){return this.isMultiPart()?this.uploadMultiPart():this.uploadSinglePart()},uploadSinglePart:function(){return this.getPolicy(!1).then(this.performUpload.bind(this)).catch(this.notifyFailure.bind(this))},uploadMultiPart:function(){return this.getPolicy(!0).then(this.performMultiPartUpload.bind(this)).catch(this.notifyFailure.bind(this))},notifyFailure:function(e){var t=this.options.uncaughtErrorHandler;t&&t(e)},getPolicy:function(e){var t=this.options.adapter;return t({type:"POST",url:this.options.policyUrl,data:{content_type:this._getType(),multipart:e,public:this.options.public}}).then(function(e){return e.policies[0]})},performUpload:function(e){var t,n,r;t=e.bucket_url,n=e.conditions,r=new FormData;for(var a in n)r.append(a,n[a]);return r.append("file",this.content),new f.default(function(e,a){var s=new XMLHttpRequest;s.open("POST",t),s.onload=function(r){var s=r.target;201===s.status||204===s.status?e({location:t+"/"+n.key}):a({error:"no location"})},s.send(r)})},performMultiPartUpload:function(e){var t,n=this,r={},s=e.s3_url;s?(t=e.bucket,r.aws_url=e.s3_url):(t="",r.aws_url=e.bucket),r=Object.assign(r,{aws_key:e.conditions.AWSAccessKeyId,bucket:t,signerUrl:this.options.multipartSignatureUrl}),e.location=e.bucket_url+"/"+e.conditions.key;var o=a.createEvaporateObject(r),l=new f.default(function(t,r){var a=o.add({name:e.conditions.key,file:n.content,xAmzHeadersAtInitiate:{"x-amz-acl":e.conditions.acl},signParams:{sig_auth:e.signature_auth},progress:function(e){var t=void 0;"object"===("undefined"==typeof e?"undefined":(0,i.default)(e))&&e&&e.hasOwnProperty("progress")?t=e:"number"==typeof e&&(t={progress:e}),n.progress=t.progress,n.options.onChange&&n.options.onChange()},complete:function(){t(Object.assign(e,{evaporateId:a}))},error:r})});return l},isMultiPart:function(){return this.content.size>this.options.largeUploadSize},getProgress:function(){return this.progress},getContentType:function(){return this.content.type}},a.createEvaporateObject=function(e){return new l.default(e)},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(3680),i=r(s),o=n(3723),l=r(o),u=n(532);t.createLocation=function(e,t,n,r){var s=void 0;return"string"==typeof e?(s=(0,u.parsePath)(e),s.state=t):(s=a({},e),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t)),s.key=n,r&&(s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,i.default)(s.pathname,r.pathname)):s.pathname=r.pathname),s},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,l.default)(e.state,t.state)}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={default:n(699),__esModule:!0}},function(e,t,n){e.exports={default:n(700),__esModule:!0}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){n(287),n(715),e.exports=n(169).Array.from},function(e,t,n){n(405),n(287),e.exports=n(713)},function(e,t,n){n(405),n(287),e.exports=n(714)},,,,,function(e,t,n){var r=n(233),a=n(129)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[a]===e)}},function(e,t,n){var r=n(347);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var s=e.return;throw void 0!==s&&r(s.call(e)),t}}},function(e,t,n){var r=n(129)("iterator"),a=!1;try{var s=[7][r]();s.return=function(){a=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var s=[7],i=s[r]();i.next=function(){return{done:n=!0}},s[r]=function(){return i},e(s)}catch(e){}return n}},,,,function(e,t,n){var r=n(710),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},,function(e,t,n){var r=n(347),a=n(404);e.exports=n(169).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(403),a=n(129)("iterator"),s=n(233);e.exports=n(169).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||s.hasOwnProperty(r(t))}},function(e,t,n){"use strict";var r=n(556),a=n(348),s=n(712),i=n(706),o=n(705),l=n(711),u=n(404);a(a.S+a.F*!n(707)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,c,d=s(e),p="function"==typeof this?this:Array,f=arguments,m=f.length,h=m>1?f[1]:void 0,g=void 0!==h,v=0,_=u(d);if(g&&(h=r(h,m>2?f[2]:void 0,2)),void 0==_||p==Array&&o(_))for(t=l(d.length),n=new p(t);t>v;v++)n[v]=g?h(d[v],v):d[v];else for(c=_.call(d),n=new p;!(a=c.next()).done;v++)n[v]=g?i(c,h,[a.value,v],!0):a.value;return n.length=v,n}})},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var a=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)8*r+6*s<=8*e.length?n.push(t.charAt(a>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,a=0;r<e.length;a=++r%4)0!=a&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|t.indexOf(e.charAt(r))>>>6-2*a);return n}};e.exports=n}()},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(55),h=r(m),g=n(2),v=n(28),_=r(v),y=n(596),b=r(y),E=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderToggle=function(){var e=r.props,t=e.disabled,n=e.disabledTooltipMessage,a=e.checked,s=e.onChange;return t?f.default.createElement(b.default,{message:n,isChecked:!1,rightAlign:!0,hideTitle:!0}):f.default.createElement(h.default,{checked:a,onChange:s})},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=e.showBorders;return f.default.createElement("div",{className:(0,_.default)("padding-s",{"border-b border-med-grey":r})},f.default.createElement("label",{className:"block clearfix","data-capybara":this.props.dataCapybara},f.default.createElement("span",{className:"left"},t),f.default.createElement("span",{className:"right"},this.renderToggle()),n&&f.default.createElement("span",{className:"left"},f.default.createElement("p",{className:"x-small dark-grey margin-t-xs",style:{width:220}},n))))}}]),t}(f.default.Component);E.propTypes={title:g.string.isRequired,description:g.string,checked:g.bool.isRequired,onChange:g.func.isRequired,showBorders:g.bool,disabled:g.bool,disabledTooltipMessage:g.string,dataCapybara:g.string},E.defaultProps={showBorders:!0,disabled:!1,disabledTooltipMessage:"This option is currently unavailable.",dataCapybara:"branding_toggle"},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(1251),h=r(m),g=n(3),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("div",null,f.default.createElement(h.default,{displayText:this.props.displayText,to:"admin.branding.edit",inverted:!0,dataCapybara:"back_link"}),this.props.children)}}]),t}(f.default.Component);v.propTypes={children:g.node,displayText:g.string},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(2109),u=r(l),c=n(417),d=r(c),p=n(185),f=r(p),m=n(3),h=n(4),g=s.default.createClass({displayName:"AppIntegrationWithModal",propTypes:{currentApp:f.default,isEnabled:m.bool,name:m.string,title:m.string,description:m.string,disclaimer:m.string,logoFilename:m.string,logoSize:m.string,toastSuccess:m.string,toastError:m.string,handleCustomErrors:m.func,validateFields:m.func,hasErrors:m.func,onCancel:m.func,children:m.any},getInitialState:function(){return{isEnabled:this.props.isEnabled,isSaving:!1,status:null}},render:function(){var e=this,t=this.props,n=t.title,r=t.description,a=t.disclaimer,i=t.logoFilename,l=t.logoSize,c=t.toastSuccess,d=t.toastError,p=t.children,f=this.state,m=f.isEnabled,h=f.status,g=f.isSaving;return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{title:n,description:r,disclaimer:a,logoFilename:i,logoSize:l,toastSuccess:c,toastError:d,toggleOff:this.disableIntegration,toggleOn:this.onToggle,default:m,editLink:this.hasConfiguration(),noOverlay:!0,toast:h,clearToast:function(){return e.setState({status:null})},ref:"integration"}),s.default.createElement(u.default,{onCancel:this.onCancel,onSave:this.onSave,logoFilename:i,title:n,isSaving:g,children:p,ref:"modal"}))},hasConfiguration:function(){return!!this.props.children&&!(0,h.isEmpty)(this.props.children)},onToggle:function(){this.hasConfiguration()?this.refs.modal.openModal():this.onSave()},onCancel:function(){this.props.onCancel&&this.props.onCancel(),this.state.isEnabled||this.refs.integration.disable()},onSave:function(){var e=this,t=this.props,n=t.name,r=t.currentApp;this.validateFields(),this.hasErrors()||(this.setState({isSaving:!0}),d.default.update(n,r).then(function(){e.refs.modal.closeModal(),e.setState({status:"success",isEnabled:!0})},function(t){var n=(0,h.get)(t,"responseJSON.errors",[]);e.handleCustomErrors(n)||(e.refs.modal.closeModal(),e.onCancel(),e.setState({status:"error"}))}).then(function(){e.setState({isSaving:!1})}))},disableIntegration:function(){d.default.update(this.props.name,null),this.setState({status:null,isEnabled:!1})},validateFields:function(e){this.props.validateFields&&this.props.validateFields(e)},hasErrors:function(){return this.props.hasErrors&&this.props.hasErrors()},handleCustomErrors:function(e){return this.props.handleCustomErrors&&this.props.handleCustomErrors(e)}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.EnrolledLearner=t.Content=t.PeopleContent=t.People=t.Team=void 0;var r=n(10),a=t.Team=(0,r.shape)({avatarUrl:r.string,completedEnrollments:r.number.isRequired,email:r.string,id:r.number.isRequired,name:r.string,totalEnrollments:r.number.isRequired,type:(0,r.oneOf)(["domain","learner"]).isRequired,uid:r.string.isRequired
}),s=t.People=(0,r.shape)({avatarUrl:r.string,completedEnrollments:r.number.isRequired,email:r.string,id:r.number,name:r.string,totalEnrollments:r.number.isRequired,type:(0,r.oneOf)(["learner"]).isRequired,uid:r.string.isRequired}),i=t.PeopleContent=(0,r.shape)({attemptsCount:r.number,id:r.number.isRequired,name:r.string,progress:r.number,score:r.number,type:(0,r.oneOf)(["CourseTemplate","Program","LiveCourse","Task","Lti::ContentItem"]).isRequired}),o=t.Content=(0,r.shape)({completedEnrollments:r.number.isRequired,id:r.number.isRequired,name:r.string,totalEnrollments:r.number.isRequired,type:(0,r.oneOf)(["CourseTemplate","Program","LiveCourse","Task","Lti::ContentItem"]).isRequired}),l=t.EnrolledLearner=(0,r.shape)({avatarUrl:r.string,email:r.string,id:r.number,name:r.string,progress:r.number,status:(0,r.oneOf)(["created","locked","active","overdue","failed","permanently_failed","complete",null]).isRequired,type:(0,r.oneOf)(["learner"]).isRequired,uid:r.string.isRequired}),u=t.Group=(0,r.shape)({completedEnrollments:r.number.isRequired,id:r.number.isRequired,name:r.string,totalEnrollments:r.number.isRequired,type:(0,r.oneOf)(["Group","SmartGroup"]).isRequired}),c=(0,r.arrayOf)((0,r.oneOfType)([a,s,i,o,l,u]));t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(78),o=r(i),l=n(65),u=r(l),c=n(7),d=r(c),p=n(19),f=r(p),m=n(3),h=n(5),g=n(143),v=r(g),_=n(58),y=r(_),b=n(77),E=r(b),C=10,I=300,T=null,N=s.default.createClass({displayName:"MessageOverlay",mixins:[v.default],propTypes:{users:(0,m.arrayOf)((0,m.shape)({id:(0,m.oneOfType)([m.number,m.string]),name:m.string,avatarUrl:m.string,email:m.string})),ajax:m.func,closeOverlay:m.func.isRequired,cautionMessage:m.string,overlayOpen:m.bool},getInitialState:function(){return{subject:"",message:{body:""}}},getDefaultProps:function(){return{ajax:d.default,closeOverlay:Function.prototype}},closeOverlay:function(){this.setState({subject:"",message:{body:""}}),this.props.closeOverlay()},closeAndClear:function(){this.setState({subject:"",message:{body:""}}),this.closeOverlay()},messageSuccess:function(){this.closeAndClear(),(0,f.default)(I18n.t("Your message was successfully sent!"))},messageFailure:function(){(0,f.default)(I18n.t("There was a problem sending your message, please try again."),{type:"error"})},sendMessage:function(){var e="";this.props.users.map(function(t){""!==e&&(e+=","),e+=t.id});var t={recipient_type:"learner",recipient_ids:e,subject:this.state.subject,body:this.state.message.body},n=this.props.ajax({url:"/api/author/messages",type:"POST",data:{message:t},dataType:"json"});n.then(this.messageSuccess,this.messageFailure)},handleSubjectChange:function(e){this.setState({subject:e.target.value})},handleSubmit:function(e){e.preventDefault(),this.state.message.body&&this.state.subject&&this.sendMessage()},renderAvatars:function(e){var t=0,n=36,r=36,a=17;return e.slice(0,C+1).map(function(i){return t+=1,t<C+1?s.default.createElement(u.default,{className:"message-overlay__avatar margin-l-xxs margin-r-xxs",key:t,id:i.id,name:i.name,avatarUrl:(0,l.userUrl)(i.avatarUrl,i.email,2*a)}):s.default.createElement("svg",{key:t,className:"message-overlay__overflow",width:""+n,height:""+r},s.default.createElement("g",{className:"message-overlay__overflow-g",transform:"translate("+a+", "+a+")"},s.default.createElement("circle",{className:"message-overlay__overflow-circle",r:""+a}),s.default.createElement("text",{className:"message-overlay__overflow-label x-small",dy:"0.3em"},"+"+(e.length-C))))})},onChange:function(){this.forceUpdate()},onFocus:function(){window.clearTimeout(T),this.setState({keyboardOpen:!0})},onBlur:function(){var e=this;T=window.setTimeout(function(){e.setState({keyboardOpen:!1})},I)},render:function(){var e="";this.state.keyboardOpen&&(e=" kbactive");var t="btn medium"+e,n="btn filled"+e,r="message-overlay__header  padding-tb-s padding-rl-l"+e;return s.default.createElement(o.default,{className:"message-overlay__modal",overlayClassName:"message-overlay__overlay",onRequestClose:this.closeOverlay,isOpen:this.props.overlayOpen,shouldCloseOnOverlayClick:!1,contentLabel:I18n.t("Message Learners")},s.default.createElement("form",{className:"message-overlay__form",onSubmit:this.handleSubmit},s.default.createElement("div",{className:r},s.default.createElement("button",{onClick:this.handleSubmit,type:"submit",className:t,disabled:!(this.state.message.body&&this.state.subject)},I18n.t("Send Message")),s.default.createElement("button",{type:"button",className:"btn--reset right",onClick:this.closeAndClear},s.default.createElement(h.Icon,{className:"gs-x gs-1x "}))),s.default.createElement("div",{className:"message-overlay__content"},s.default.createElement("div",{className:"message-overlay__to"},s.default.createElement("div",{className:"message-overlay__to-text"},I18n.t("To:")),this.renderAvatars(this.props.users)),!(0,y.default)(this.props.cautionMessage)&&s.default.createElement("div",{className:"message-overlay__caution"},s.default.createElement(h.Icon,{className:"gs-caution"}),"",s.default.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.cautionMessage}})),s.default.createElement("div",null,s.default.createElement("input",{ref:"subject",placeholder:I18n.t("Your subject here"),onChange:this.handleSubjectChange,defaultValue:this.state.subject,onFocus:this.onFocus,onBlur:this.onBlur}),s.default.createElement(E.default,{model:this.state.message,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.onChange,label:I18n.t("Compose Your Message"),field:"body",type:"textarea",allowPast:!0,className:"input-field--long message-overlay__body"})),s.default.createElement("button",{type:"submit",className:n,disabled:!(this.state.message.body&&this.state.subject)},I18n.t("Send Message")))))}});e.exports=N},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.node,i=a.string,o=r.createClass({displayName:"FormBooleanItem",propTypes:{label:i.isRequired,children:s.isRequired,className:i},getDefaultProps:function(){return{className:"block clearfix margin-b-m"}},render:function(){return r.createElement("label",{className:this.props.className,"data-capybara":"form_boolean_item"},r.createElement("span",{className:"left","data-capybara":"form_boolean_item_label"},this.props.label),r.createElement("span",{className:"right margin-r-l","data-capybara":"form_boolean_item_child"},this.props.children))}});e.exports=o},function(e,t){"use strict";function n(e){if("create"===e.event)return Object.keys(e.to);var t="CourseTemplate"===e.itemType?r:a;return Object.keys(e.to).filter(function(n){return e.to[n]!==e.from[n]&&t.indexOf(n)===-1})}var r=["estimatedTime","publishedAt"],a=["attachments","publishedAttributes","updatedAt","structuredBody"];t.isImportantEnoughToRender=function(e){return!!n(e).length},t.constructChangeDiff=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){f.default.replaceWith("author.courses")}function s(e){f.default.replaceWith("author.course",e)}function i(e,t,n){u.default.subscribe(v,n);var r="author.courses.slides",a={courseId:e};return t&&(r="author.courses.slide",a.slideId=t),o.LockActions.acquire({type:"CourseTemplate",id:e,showToast:!0}).then(function(){d.default.transitionTo(r,a,{})})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(138),l=n(305),u=r(l),c=n(30),d=r(c),p=n(13),f=r(p),m=n(262),h=r(m),g=n(4),v=h.default.LOCK_CHANNEL;t.default=(0,g.assign)({backToCourses:a,backToCourse:s,editSlide:i},h.default),e.exports=t.default},function(e,t,n){"use strict";var r=n(21),a=n(44),s=n(1294),i=n(2381),o=n(379),l=n(148),u=n(7),c=n(4),d=c.throttle,p=n(25),f=3e4,m=a(function(e,t,n,r){return i.performWithoutParsing({nextPageURL:e,courseId:t,sort:n,search:r})}),h=r({displayName:"CourseGroupStore",schema:n(51),initialize:function(){this.fetchLater=d(this.fetch.bind(this),f,{leading:!1,trailing:!0})},fetch:function(e,t,n){var r=this;return m.findFirstPage(e,t,n).then(function(a){r.cache.setCollection({courseId:e,sort:t,search:n},i.parse(a))})},fetchNext:function(e,t,n){var r=this;m.hasMorePages()&&m.findNextPage(e,t,n).then(function(a){r.cache.addToCollection({courseId:e,sort:t,search:n},i.parse(a))})},fetchOne:function(e,t){var n=this;return o(t).then(function(t){n.cache.addToCollection({courseId:e},[t])})},getAll:function(e,t,n){return this.cache.getCollection({courseId:e,sort:t,search:n})},get:function(e){return this.cache.get(e)},enroll:function(e,t,n,r){var a=this;return l.get(e)?s(e,t.map(function(t){return{courseTemplate:e,groupId:t}})).then(function(){return a.fetchLater(e,n,r),p.all(t.map(function(e){return o(e)})).then(function(t){t.map(function(e){e.relevance="enrolled"}),a.updateGroups(e,n,r,t)})},function(e){var t="Failed to add group to course!";return console.warn(t,e),t+(" Error: "+e.status+" "+e.statusText)}):(console.warn("Unable to find course with id %s",e),p.reject("Unable to find course with id "+e))},updateGroups:function(e,t,n,r){var a=this.cache.getCollection({courseId:e,sort:t,search:n}),s=[];if(a.map(function(e){var t=r.filter(function(t){return t.id===e.id});0!==t.length&&(e.relevance=t[0].relevance,r=r.filter(function(e){return e.id!==t[0].id})),s.push(e)}),r.length>0)for(var i=0;i<r.length;i++)s.push(r[i]);this.cache.setCollection({courseId:e,sort:t,search:n},s)},removeEnrollment:function(e,t,n){var r=this;return this.cache.transaction(function(){return r.cache.remove(t),u({url:"/api/author/course_templates/"+e+"/groups/"+t,dataType:"json",type:"DELETE"}).catch(n)})}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(148),s=r(a),i=n(262),o=r(i);t.default={fetch:function(e){return o.default.fetchCourseAndRedirectIfNotFound(e.params.courseId)},get:function(e){return s.default.get(e.params.courseId)},setup:function(e){s.default.addChangeListener(e)},teardown:function(e){s.default.removeChangeListener(e)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.commonPropTypes=void 0;var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(3084),v=r(g),_=n(1310),y=r(_),b=n(6),E=r(b),C=n(4),I=n(3),T=n(57),N=r(T),S=n(113),x=r(S),A=n(84),k=r(A),w=t.commonPropTypes={program:N.default,programItem:x.default.isRequired,canMove:I.bool,canRemove:I.bool,canAddILT:I.bool,canAddTask:I.bool,className:I.string,createNewProgramSection:I.func,removeItem:I.func,removeButtonClassName:I.string,addItem:I.func,addingNewItem:I.bool,hideAddItem:I.bool,titleClassName:I.string,toggleAddingNewItem:I.func,placements:(0,I.arrayOf)(k.default),searching:I.bool,searchResults:(0,I.shape)({courseSearchResults:(0,I.arrayOf)(x.default),iltSearchResults:(0,I.arrayOf)(x.default),taskSearchResults:(0,I.arrayOf)(x.default)})},R=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.renderAddItemControls=function(){var e=r.props.addingNewItem,t=(0,E.default)({"program-edit__add-learning-objects__item":!0,"program-edit__add-learning-objects__item--selected":e});return h.default.createElement("div",{className:t,"data-capybara":r.props.addDataCapybara},h.default.createElement(y.default,(0,s.default)({},r.props,{isSelected:e})))},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=(0,E.default)("react","sortable",this.props.className),t=(0,E.default)({"program-course-list-item":!0,grabbable:this.props.canMove});return h.default.createElement("li",{ref:"content",className:e},h.default.createElement("div",{className:"program-course-list-item__wrapper"},h.default.createElement(v.default,{canRemove:this.props.canRemove,className:t,titleClassName:this.props.titleClassName,dataCapybara:"program-course-list-item",removeButtonClassName:this.props.removeButtonClassName,renderItem:this.props.renderItem,renderActions:this.props.renderActions,remove:(0,C.partial)(this.props.removeItem,this.props.programItem)})),!this.props.hideAddItem&&this.renderAddItemControls())}}]),t}(h.default.Component);R.propTypes=(0,s.default)({renderActions:I.func,renderItem:I.func.isRequired},w),R.defaultProps={canMove:!1,canRemove:!1,canAddILT:!1,canAddTask:!1,hideAddItem:!1,addItem:Function.prototype,createNewProgramSection:Function.prototype,removeItem:Function.prototype,toggleAddingNewItem:Function.prototype,titleClassName:"removable-item__title--program-item",placements:[]},t.default=R},function(e,t,n){"use strict";var r=n(1),a=n(90),s=n(369),i=n(5),o=i.KeyMapper,l=n(6),u=n(3),c=u.arrayOf,d=u.bool,p=u.func,f=u.string,m="newItem",h=n(12),g=h.PROGRAM_ITEM_ICONS,v=r.createClass({displayName:"ProgramSearchBar",propTypes:{itemType:f.isRequired,programItems:c(n(113)).isRequired,searching:d,searchResults:c(n(113)).isRequired,canCreate:d,searchText:f,newItemText:f,onSearch:p,onAdd:p,onNew:p,onKCEscape:p,programIsShared:d},getDefaultProps:function(){return{searching:!1,onSearch:Function.prototype,onAdd:Function.prototype,onNew:Function.prototype,onKCEscape:Function.prototype}},getInitialState:function(){return{searchText:""}},render:function(){return r.createElement(o,{onKCEscape:this.props.onKCEscape},r.createElement("div",{className:"flex-row program-search-item"},r.createElement(a,{refs:"autocomplete",autocomplete:"list",autoFocus:!0,className:"search-bar search-bar--group-add",inputClassName:"ic-autocomplete-input",onInput:this.handleOnSearch,onSelect:this.handleOnSelect,placeholder:this.props.searchText,children:this.renderOptions()}),this.props.searching&&r.createElement("div",{className:"program-search-bar-loader"},r.createElement(s,{className:"margin-auto"}))))},renderOptions:function(){var e=this,t=this.props.canCreate&&!this.props.searching&&!this.props.searchResults.find(function(t){return t.title===e.state.searchText}),n=this.props.searchResults.map(this.renderResult);return t&&n.push(this.renderNewOption()),n},renderNewOption:function(){var e=g[this.props.itemType];return r.createElement(a.Option,{value:m,className:"autocomplete__option--program-search autocomplete__option--program-search__create"},r.createElement("div",{className:"program-search__option--new"},r.createElement("i",{ref:"icon","aria-hidden":"true",className:"program-search__option-meta__icon "+e}),r.createElement("div",{className:"program-search__option-meta__title"},this.state.searchText),r.createElement("div",{className:"program-search__option-meta__plus"},"+"),r.createElement("div",{className:"program-search__option-meta__text"},this.props.newItemText)))},renderResult:function(e){var t=this.isResultDisabled(e),n=l({"program-search__option--unpublished":!e.isPublished&&!t,"program-search__option--result":e.isPublished&&!t,"program-search__option--disabled":t}),s=g[this.props.itemType];return r.createElement(a.Option,{key:e.id,value:e.id,className:"autocomplete__option--program-search",appearInactive:t},r.createElement("div",{className:"program-search__option--result"},r.createElement("i",{ref:"icon","aria-hidden":"true",className:n+" "+s+" blue-grey"}),r.createElement("span",{className:"program-search__option-meta__title"},r.createElement("span",{className:n},this.renderTitle(e)))))},renderTitle:function(e){var t=this.props.programIsShared,n=[];return this.isItemInProgram(e.id)&&n.push(I18n.t("Already in program")),e.isPublished||n.push(I18n.t("Not yet published")),e.notVisibleToTarget&&n.push(I18n.t("Not shared with account")),e.subAccount.notCurrent&&t&&n.push(I18n.t("Cannot add sub account content to a shared program")),n.length>0?e.title+" ("+n.join("/")+")":e.title},handleOnSelect:function(e){if(e===m)this.props.onNew(this.state.searchText);else{var t=this.props.searchResults.find(function(t){return t.id===e});this.isResultDisabled(t)||this.props.onAdd(e)}this.forceUpdate()},isItemInProgram:function(e){var t=this.props,n=t.itemType,r=t.programItems;return r.filter(function(e){return e.itemType===n}).some(function(t){return t.id===e})},handleOnSearch:function(e){this.props.onSearch(e),this.setState({searchText:e})},isResultDisabled:function(e){if(this.isItemInProgram(e.id))return!0;if(e.notVisibleToTarget)return!0;var t=this.props.programIsShared;return e.subAccount.notCurrent&&t}});e.exports=v,e.exports.NEW_ITEM_VALUE=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;return new T.default(function(a,s){function i(){(0,m.default)(e,o).then(function(e){e.length?n&&"complete"!==e[0].state?setTimeout(i,r):a(e[0]):setTimeout(i,r)},s)}var o={data:{user_id:t}};i()})}var s=n(9),i=r(s),o=n(21),l=r(o),u=n(223),c=r(u),d=n(7),p=r(d),f=n(2568),m=r(f),h=n(2567),g=r(h),v=n(2569),_=r(v),y=n(44),b=r(y),E=n(118),C=r(E),I=n(25),T=r(I),N=(0,b.default)(function(e,t,n,r){var a={};return n&&(a.sort=n),r&&(a.search=r),m.default.performWithoutParsing(t,{nextPageURL:e,data:a})}),S=2500,x=(0,l.default)({displayName:"ProgramEnrollmentLearnerStore",schema:n(263),POLLING_FREQUENCY:S,getInitialState:function(){return{polling:!1,completing:-1}},initialize:function(){this.trackableAjax=p.default.use((0,C.default)(this.emitChange))},fetch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return N.findFirstPage(e,n,r).then(function(a){t.cache.setCollection([e,n,r],m.default.parse(a))})},fetchNext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;N.hasMorePages()&&N.findNextPage(e,n,r).then(function(a){t.cache.addToCollection([e,n,r],m.default.parse(a))})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cache.getCollection([e,t,n])},enroll:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.trackableAjax({url:"/api/author/programs/"+e+"/learners",type:"POST",data:{enrollments:[{user_id:t}]}}).then(function(){return n.setState({polling:!0}),a(e,t)}).then(function(t){n.setState({polling:!1}),n.cache.unshiftInCollection([e,r,s],t),c.default.fetch(e)})},update:function(e,t,n){var r=this,a=this.cache.get(t);a&&this.cache.transaction(function(){return r.cache.add((0,i.default)({},a,n)),(0,_.default)(e,a.id,n).then(function(e){r.cache.add(e)})})},isEnrolling:function(){return this.trackableAjax.hasPendingRequests()||this.state.polling},isCompleting:function(){return this.state.completing},complete:function(e,t){var n=this;return this.trackableAjax({url:"/api/admin/programs/"+e+"/completions",type:"POST",data:{user:t,date:new Date}}).then(function(){return n.setState({completing:t}),a(e,t,!0)}).then(function(t){n.setState({completing:-1}),n.cache.add(t),c.default.fetch(e)})},unenroll:function(e,t){var n=this;return this.cache.transaction(function(){return n.cache.remove(t),(0,g.default)(e,t).then(function(){c.default.fetch(e)})})}});e.exports=x},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=a.object,o=a.oneOfType,l=a.shape,u=a.string,c=n(18),d=r.createClass({displayName:"State",propTypes:{body:o([u,l({string:u})]),button:u.isRequired,getTitle:s,header:u.isRequired,help:u.isRequired,icon:i.isRequired,title:u.isRequired,onClose:s.isRequired,setTitle:s},getDefaultProps:function(){return{getTitle:function(){return document.title},setTitle:function(e){document.title=e}}},componentDidMount:function(){this.setState({originalTitle:this.props.getTitle()}),this.props.setTitle(this.props.title)},componentDidUpdate:function(e){this.props.title!==e.title&&this.props.setTitle(this.props.title)},componentWillUnmount:function(){this.props.setTitle(this.state.originalTitle)},render:function(){var e=this.props,t=e.body,n=e.button,a=e.header,s=e.help,i=e.icon,o=e.onClose;return r.createElement("div",{className:"csv-upload-container"},r.createElement("div",{className:"csv-upload-container__header csv-upload-container__header--download"},r.createElement("p",{className:"download-help"},s),r.createElement(c,{className:"csv-upload-container__cancel-link","data-capybara":"csv_cancel",onClick:o},n)),r.createElement("div",{className:"download-container"},r.createElement("div",{className:"download-container__contents"},r.createElement("div",{className:"download-icon-container"},i),r.createElement("h2",{className:"download-contents__header","data-capybara":"download_message"},a),t&&r.createElement("div",{className:"download-contents__secondary"},r.createElement("p",{dangerouslySetInnerHTML:{__html:t}})))))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return p.default.register(e.id).then(null,i.bind(null,I18n.t("We were not able to register you for this session. Please try again later.")))}function s(e){return p.default.unregister(e.id).then(null,i.bind(null,I18n.t("We were not able to unregister you from this session. Please try again later.")))}function i(e){return(0,m.default)(e,{type:"error"}),_.default.reject()}function o(e){return e.startAt&&(0,g.default)(e.startAt).isAfter()}function l(e){var t=e.seats,n=e.seatsRemaining;return(0,y.isNumber)(t)&&(0,y.isNumber)(n)&&n}function u(e){var t=l(e);return!(0,y.isNumber)(t)||t>0}function c(e){return e.isRegistered?s(e):u(e)?a(e):_.default.reject()}Object.defineProperty(t,"__esModule",{value:!0}),t.handleRegister=a,t.handleUnregister=s,t.handleRegistrationError=i,t.isFutureSession=o,t.getSeatsRemaining=l,t.hasSeatsAvailable=u,t.toggleRegistration=c;var d=n(886),p=r(d),f=n(19),m=r(f),h=n(11),g=r(h),v=n(25),_=r(v),y=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,g.default)(e,{public:!0});return t.upload().then(function(e){s(e.location)},function(t){console.error("Failed to upload image: ",e,t)})}function s(e){return p.default.updateAvatarURL(e),(0,T.default)({avatarUrl:e}).then(null,function(){(0,m.default)(C.default.t("Oh Snap! We were unable to update your avatar. Please try again later."),{type:"error"})})}function i(e){p.default.updateTagline(e),(0,T.default)({tagline:e}).then(null,function(){(0,m.default)(C.default.t("Oh Snap! We were unable to update your tagline. Please try again later."),{type:"error"})})}function o(e){(0,T.default)({locale:e}).then(function(e){p.default.updateLocale(e.locale),_.default.activateCurrentLocale()},function(){(0,m.default)(C.default.t("Oh Snap! We were unable to update your language settings. Please try again later."),{type:"error"})})}function l(e){b.default.update({theme:e}).then(function(){p.default.updateTheme(e)},function(){p.default.updateTheme(e?null:N.THEME_HIGH_CONTRAST),(0,m.default)(C.default.t("Oh Snap! We were unable to update your preferences. Please try again later."),{type:"error"})})}function u(e){return(0,T.default)({a11y:e}).then(function(){c({a11y:e}),p.default.updateA11y(e)},function(){c(null),p.default.updateA11y(!e),(0,m.default)(C.default.t("Oh Snap! We were unable to update your preferences. Please try again later."),{type:"error"})})}function c(e){window.localStorage[S]=JSON.stringify(e)}var d=n(39),p=r(d),f=n(19),m=r(f),h=n(117),g=r(h),v=n(108),_=r(v),y=n(149),b=r(y),E=n(26),C=r(E),I=n(307),T=r(I),N=n(12),S="learnerActionsUpdateProfileA11y";t.uploadFile=a,t.updateAvatarURL=s,t.updateTagline=i,t.updateLocale=o,t.updateA11y=u,t.updateTheme=l},function(e,t,n){"use strict";var r=n(2851);e.exports=new r},function(e,t,n){"use strict";var r=n(213),a=n(265);e.exports={fetchSurvey:function(e){return r.find(e)},saveSurvey:function(e,t){return r.updateRecord(e.id,t)},fetchQuestions:function(e){return a.findAll(e)},resetQuestions:function(){a.clear()},updateQuestion:function(e,t){a.update(e,t)},createQuestion:function(e,t){return a.create(e,t)},duplicateQuestion:function(e){return a.clone(e)},deleteQuestion:function(e){a.destroy(e)}}},function(e,t,n){"use strict";var r=n(1346),a=n(148),s=n(30);t.inspect=function(e){r.setInspectedQuestionId(e)},t.stopInspecting=function(){r.setInspectedQuestionId(null)},t.setMaximumVisibilityThreshold=function(e){r.setMaximumVisibilityThreshold(e)},t.setActiveGroups=function(e){s.updateQuery({groups:e})},t.createCourse=function(e){return a.create({enroll:{surveys_recipient_groups:e}})}},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(4),i=s.assign,o=n(30),l=n(759),u=n(2946),c=n(13),d=n(1452),p=n(1349),f=n(19),m="submit",h=a.createClass({displayName:"SurveyHandler",propTypes:{params:r.shape({distributionId:r.string,questionId:r.string})},getInitialState:function(){return this.getStateFromStores()},componentWillMount:function(){var e=this;u.fetchQuestions(this.props.params.distributionId).then(null,function(){e.isMounted()&&(f(I18n.t("Survey does not exist"),{type:"error"}),c.replaceWith("learner.courses"))})},componentDidMount:function(){this.isMounted=function(){return!0},p.addChangeListener(this._onChange),d.addChangeListener(this._onChange)},componentWillUnmount:function(){p.removeChangeListener(this._onChange),d.removeChangeListener(this._onChange),this.isMounted=function(){return!1}},getDefaultProps:function(){return{data:{}}},getStateFromStores:function(){var e=this.props.params.distributionId,t=i({id:e,title:""},d.get(e)),n=p.get(e);return{distribution:t,questions:n}},handleAnswer:function(e,t){u.answerQuestion(this.props.params.distributionId,e.id,{response:{answer:""+t}})},handleSubmit:function(){u.submitSurvey(this.props.params.distributionId).then(function(){c.transitionTo("learner.courses")})},transitionToQuestion:function(e){o.transitionTo("/learner/surveys/"+this.state.distribution.id+"/"+(e?e.id:m))},render:function(){return a.createElement("div",{className:"full-viewport-height"},a.createElement(l,{distribution:this.state.distribution,questions:this.state.questions,currentQuestionId:this.props.params.questionId,onAnswer:this.handleAnswer,onSubmit:this.handleSubmit,onSelectQuestion:this.transitionToQuestion}))},_onChange:function(){this.setState(this.getStateFromStores())}});e.exports=h},function(e,t,n){"use strict";var r=n(1),a=n(2950),s=n(2953),i=n(2957),o=n(62),l=n(6),u=n(2),c=u.array,d=u.func,p=u.number,f=u.shape,m=u.string,h=u.bool,g=-1,v="submit",_=r.createClass({displayName:"SurveyView",propTypes:{autoMoveDelay:p,currentQuestionId:m,onAnswer:d,onSubmit:d,onSelectQuestion:d,distribution:f({id:m,title:m}),questions:c,fullViewport:h},getDefaultProps:function(){return{autoMoveDelay:500,onAnswer:Function.prototype,onSubmit:Function.prototype,onSelectQuestion:Function.prototype,distribution:{id:"",title:""},questions:[],fullViewport:!1}},getInitialState:function(){return{isShowingRequired:!1,isSidebarOpen:!1}},currentQuestion:function(){var e=this;return this.props.questions.filter(function(t){return t.id===e.props.currentQuestionId})[0]},getUnansweredQuestions:function(){return this.props.questions.filter(function(e){return e.required===!0&&!e.response})},autoMoveTimeout:null,moveToQuestion:function(e){clearTimeout(this.autoMoveTimeout),this.props.onSelectQuestion(e)},currentIndex:function(){return this.shouldShowSubmit()?this.props.questions.length:this.props.questions.indexOf(this.currentQuestion())},previousHandler:function(){var e=this.currentIndex();return e!==g&&e-1>=0?this.moveToQuestion.bind(this,this.props.questions[e-1]):a.disabledHandler},nextHandler:function(){var e=this.currentIndex();return e+1<=this.props.questions.length?this.moveToQuestion.bind(this,this.props.questions[e+1]):a.disabledHandler},toggleSidebar:function(){this.setState({isSidebarOpen:!this.state.isSidebarOpen})},shouldShowSubmit:function(){return this.props.currentQuestionId===v},moveToNextUnanswered:function(){this.moveToQuestion(this.getUnansweredQuestions()[0])},render:function(){var e=l({"learner-survey__wrapper":!0,"learner-survey__wrapper--full-viewport":this.props.fullViewport,"theme-light":o.isColorEnabled()});return r.createElement("div",{className:e},r.createElement(a,{onPrevious:this.previousHandler(),onNext:this.nextHandler(),onOpenSidebar:this.toggleSidebar,currentIndex:Math.min(this.currentIndex()+1,this.props.questions.length),totalQuestions:this.props.questions.length}),r.createElement(s,{questions:this.props.questions,onSelectQuestion:this.moveToQuestion,onCloseSidebar:this.toggleSidebar,currentIndex:Math.min(this.currentIndex()+1,this.props.questions.length),totalQuestions:this.props.questions.length,isOpen:this.state.isSidebarOpen}),r.createElement(i,{currentQuestionId:this.props.currentQuestionId,showSubmit:this.shouldShowSubmit(),distribution:this.props.distribution,questions:this.props.questions,onNext:this.nextHandler(),onPrevious:this.previousHandler(),onAnswer:this.handleAnswer,onShowRequired:this.handleShowRequired,onSubmit:this.props.onSubmit,unansweredQuestionCount:this.getUnansweredQuestions().length}))},handleAnswer:function(e,t){var n,r,a;e.response||(n=this.state.isShowingRequired?this.getUnansweredQuestions():this.props.questions,r=n.indexOf(e)+1,a=n[r],this.autoMoveTimeout=setTimeout(this.moveToQuestion.bind(this,a),this.props.autoMoveDelay)),this.props.onAnswer(e,t)},handleShowRequired:function(){this.setState({isShowingRequired:!0},this.moveToNextUnanswered)}});n(2959)(_),e.exports=_},function(e,t,n){"use strict";var r=n(199),a=n(162),s=n(21),i=n(1460),o=n(7),l=n(118),u=n(44),c=n(68),d=c.of(n(633)),p=function(e){return a(r,e)},f=p("/api/author/surveys/%@/distributions"),m=p("/api/author/survey_distributions/%@"),h=s({displayName:"DistributionStore",schema:n(633),initialize:function(){var e=this;this.adapter=o.use([l(this.emitChange)]),this.paginator=u(function(t,n,r){return e.adapter({url:t||f(n),data:r})})},isLoading:function(){return this.adapter.hasPendingRequests()},get:function(e){return this.cache.get(e)},getAll:function(e,t){return this.cache.getCollection([e,t])},find:function(e){var t=this;return this.adapter({url:m(e),type:"GET",dataType:"json"}).then(function(e){var n=e.distributions.map(d);t.cache.add(n[0])})},findFirstPage:function(e,t){var n=this;this.paginator.findFirstPage(e,t).then(function(r){var a=r.distributions.map(d);n.cache.setCollection([e,t],a)})},findNextPage:function(e,t){var n=this;this.paginator.hasMorePages()&&this.paginator.findNextPage(e,t).then(function(r){var a=r.distributions.map(d);n.cache.addToCollection([e,t],a)})},createRecord:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.adapter({url:f(e),type:"POST",dataType:"json",data:{distribution:n}}).then(function(e){var n=e.distributions.map(d);return t.cache.add(n[0]),n[0].closed&&i.fetchRecent(),n[0]})},deleteRecord:function(e){return this.cache.remove(e),this.adapter({url:m(e),type:"DELETE"}).then(function(){i.fetchRecent()})}});e.exports=h},function(e,t){"use strict";e.exports=function(){return[{value:"agreement",label:I18n.t("Agreement"),answers:[I18n.t("Strongly Disagree"),I18n.t("Somewhat Disagree"),I18n.t("Neutral"),I18n.t("Somewhat Agree"),I18n.t("Strongly Agree")]},{value:"comparison",label:I18n.t("Comparison"),answers:[I18n.t("Much Worse"),I18n.t("Slightly Worse"),I18n.t("Same"),I18n.t("Slightly Better"),I18n.t("Much Better")]},{value:"frequency",label:I18n.t("Frequency"),answers:[I18n.t("Never"),I18n.t("Seldom"),I18n.t("About Half the Time"),I18n.t("Usually"),I18n.t("Always")]},{value:"importance",label:I18n.t("Importance"),answers:[I18n.t("Not at all Important"),I18n.t("Somewhat Important"),I18n.t("Important"),I18n.t("Very Important"),I18n.t("Absolutely Critical")]},{value:"likelihood",label:I18n.t("Likelihood"),answers:[I18n.t("Definitely Not"),I18n.t("Probably Not"),I18n.t("Not Sure"),I18n.t("Probably"),I18n.t("Definitely")]
},{value:"quality",label:I18n.t("Quality"),answers:[I18n.t("Extremely Poor"),I18n.t("Below Average"),I18n.t("Average"),I18n.t("Above Average"),I18n.t("Excellent")]}]},e.exports.validTypes=["agreement","comparison","frequency","importance","likelihood","quality"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(26),l=r(o),u=n(18),c=r(u),d=n(221),p=r(d),f={CourseTemplate:"courses",LiveCourse:"live_courses",Task:"tasks"},m=s.default.createClass({displayName:"AttachmentLink",propTypes:{item:(0,i.shape)({learnableType:i.string.isRequired,learnableId:i.string.isRequired,data:(0,i.shape)({attachmentsCount:i.number.isRequired}).isRequired}).isRequired},getInitialState:function(){return{showAttachments:!1,attachments:[]}},render:function(){var e=this.props.item.data.attachmentsCount;if(!e)return null;var t=l.default.t({one:"Hide 1 attachment",other:"Hide %{count} attachments"},{count:e}),n=l.default.t({one:"Show 1 attachment",other:"Show %{count} attachments"},{count:e});return s.default.createElement("div",{className:"learning-item-list-item__attachment-link"},s.default.createElement(c.default,{className:"btn btn--reset",onClick:this.toggleAttachments},this.state.showAttachments?t:n),this.state.showAttachments?this.renderAttachments():null)},renderAttachments:function(){var e=this.state.attachments;return s.default.createElement("ul",null,e.map(function(e){return s.default.createElement("li",{key:e.id,"data-capybara":e.name},s.default.createElement("a",{target:"_blank",href:e.downloadUrl},e.name))}))},loadAttachments:function(e){var t=this;p.default.fetchAllByContext(e).then(function(e){t.setState({attachments:e})})},toggleAttachments:function(){if(!this.state.attachments.length){var e=this.props.item,t=f[e.learnableType],n=e.learnableId,r={type:t,id:n};this.loadAttachments(r)}this.setState({showAttachments:!this.state.showAttachments})}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(6),o=r(i),l=n(26),u=r(l),c=n(18),d=r(c),p=n(5),f=n(444),m=r(f),h=n(50),g=n(27),v=r(g),_=n(52),y=r(_),b=n(654),E=r(b),C=n(221),I=r(C),T=n(2980),N=r(T),S=n(2979),x=r(S),A=n(2978),k=r(A),w=n(2),R=s.default.createClass({displayName:"AttachmentsTable",propTypes:{attachments:(0,w.shape)({all:w.array,pending:w.array}),isMobile:w.bool,sort:w.string,search:w.string,context:(0,w.shape)({type:w.string,id:w.string}),canEdit:w.bool,forLearnerToggle:w.bool,availability:w.bool,isReadOnly:w.bool},getDefaultProps:function(){return{attachments:[],isMobile:!1,context:{},sort:"name",forLearnerToggle:!0,availability:!1,isReadOnly:!1}},getInitialState:function(){return{isAddingAttachment:!1}},onRemove:function(e){var t=this;return function(){I.default.delete(e,t.props.context)}},toggleLearnerVisible:function(e,t){this.props.forLearnerToggle&&I.default.update(t,this.props.context,{learner_visible:e.target.checked})},setAvailability:function(e,t){this.props.availability&&I.default.update(t,this.props.context,{availability:e})},attachmentRenderer:function(e){var t=this;return function(n){var r=e?k.default:x.default;return s.default.createElement(r,{attachment:n,onToggleLearnerVisible:function(e){return t.toggleLearnerVisible(e,n.id)},onChangeAvailability:function(e){return t.setAvailability(e,n.id)},canEdit:t.props.canEdit,onRemove:t.onRemove(n.id),key:n.id,forLearnerToggle:t.props.forLearnerToggle,availability:t.props.availability,isReadOnly:t.props.isReadOnly})}},renderPendingAttachment:function(e){return e.completed?this.attachmentRenderer(!1)(e):s.default.createElement(N.default,{attachment:e,key:e.id,forLearnerToggle:this.props.forLearnerToggle,availability:this.props.availability,onRemove:function(){I.default.removePending(e.id)}})},render:function(){return this.props.isMobile?this.renderMobile():this.renderDesktop()},renderMobile:function(){return s.default.createElement("div",{className:"large-content-area--padded centered"},this.renderRows(this.props.attachments.pending,this.renderPendingAttachment),this.renderRows(this.props.attachments.all,this.attachmentRenderer(this.props.isMobile)),this.renderNoAttachments())},renderDesktop:function(){var e=this,t=(0,o.default)("enrollment-list-table attachment-table",{"with-availability-editor":this.props.availability});return s.default.createElement("div",{className:"large-content-area--padded centered"},s.default.createElement("div",{className:"clearfix"},s.default.createElement("h2",{className:"margin-t-xs margin-b-s left"},u.default.t("Attachments")),!this.props.isReadOnly&&this.props.canEdit&&s.default.createElement(d.default,{className:"btn secondary right margin-t-xs",onClick:function(){return e.setState({isAddingAttachment:!0})},children:u.default.t("+ Attachment")})),this.renderAttachmentUploader(),s.default.createElement("div",{className:"left indigo"},s.default.createElement(y.default,{searchTerm:this.props.search,placeholderText:u.default.t("Search for attachments")})),s.default.createElement(h.Table,{className:t},s.default.createElement(h.Thead,{className:"enrollment-list-item__header"},s.default.createElement(h.Tr,null,s.default.createElement(h.Th,{sortParam:"name",className:"th-60"},u.default.t("Name")),s.default.createElement(h.Th,{sortParam:"file_modified_at"},u.default.t("Modified")),this.props.forLearnerToggle&&s.default.createElement(h.Th,{sortParam:"learner_visible",className:"th-1 text-center"},u.default.t("Visible to Learners")),this.props.availability&&s.default.createElement(h.Th,{className:"th-1 text-center"},u.default.t("Available")),s.default.createElement(h.Th,null,s.default.createElement(v.default,{children:u.default.t("Download")})),s.default.createElement(h.Th,null,s.default.createElement(v.default,{children:u.default.t("Remove Attachment")})))),s.default.createElement(h.Tbody,null,this.renderRows(this.props.attachments.pending,this.renderPendingAttachment),this.renderRows(this.props.attachments.all,this.attachmentRenderer(this.isMobile)))),!this.hasAttachments()&&this.renderNoAttachments())},renderNoAttachments:function(){return s.default.createElement("div",{className:"border-b border-grey centered padding-m"},s.default.createElement("p",{className:"text-center dark-grey no-groups-message","data-capybara":"no-groups-message"},this.props.search?u.default.t("There are no attachments matching your criteria."):u.default.t("You haven't added any attachments yet.")))},renderRows:function(e,t){return e.length>0?e.map(t):null},renderAttachmentUploader:function(){var e=this,t=(0,o.default)("media-uploader-container",{"media-uploader-container--expand":this.state.isAddingAttachment});return s.default.createElement("div",{className:t},s.default.createElement(d.default,{className:"btn--reset media-uploader-close",onClick:function(){return e.setState({isAddingAttachment:!1})}},s.default.createElement(p.Icon,{className:"gs-x gs-1x dark-grey"}),s.default.createElement(v.default,{children:u.default.t("Close")})),s.default.createElement(m.default,{onChange:function(t){(0,E.default)(I.default,e.props.context,t)},multiple:!0}))},hasAttachments:function(){var e=this.props.attachments,t=e.all,n=e.pending;return t.length>0||n.length>0}});e.exports=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(6),o=r(i),l=n(2),u=s.default.createClass({displayName:"AutocompleteConfirmOption",propTypes:{value:l.any.isRequired,label:l.string,placeholder:l.string,isSelected:l.bool,appearInactive:l.bool,className:l.string,handleBlur:l.func,handleFocus:l.func,handleClick:l.func,handleKeyDown:l.func,handleMouseEnter:l.func,preventMenuClose:l.func,acceptHeadingText:l.string,acceptSubHeadingText:l.string,acceptButtonText:l.string,children:l.node},getDefaultProps:function(){return{label:null,placeholder:"",isSelected:!1,className:"",handleBlur:function(){},handleFocus:function(){},handleClick:function(){},handleKeyDown:function(){},handleMouseEnter:function(){}}},getInitialState:function(){return{isConfirming:!1,isConfirmed:!1}},renderConfirm:function(){var e=this.props,t=e.acceptButtonText,n=e.acceptSubHeadingText,r=e.acceptHeadingText;return s.default.createElement("div",{className:"autocomplete-confirm"},s.default.createElement("span",{className:"autocomplete-confirm__meta"},s.default.createElement("span",{className:"autocomplete-confirm__heading"},r),s.default.createElement("span",{className:"autocomplete-confirm__small-text"},n)),s.default.createElement("span",{className:"autocomplete-confirm__confirmation"},s.default.createElement("button",{className:"autocomplete-confirm__button",onClick:this.cancelAdd},I18n.t("Cancel")),s.default.createElement("button",{className:"autocomplete-confirm__button",onClick:this.confirmAndAdd},t)))},render:function(){var e=(0,o.default)(this.props.className,{autocomplete__option:!0,"autocomplete__option--selected":this.props.isSelected,"autocomplete__option--disabled":this.props.appearInactive}),t=this.props,n=t.handleBlur,r=t.value,a=t.handleFocus,i=t.handleKeyDown,l=t.handleMouseEnter,u=t.children;return s.default.createElement("div",{role:"option",ref:"option",tabIndex:"-1","data-capybara":"auto_complete_result",className:e,value:r,onBlur:n,onFocus:a,onClick:this.handleClick,onKeyDown:i,onMouseEnter:l},u,this.state.isConfirming&&this.renderConfirm())},cancelAdd:function(){this.setState({isConfirming:!1}),this.props.preventMenuClose(!1),this.refs.option.focus()},confirmAndAdd:function(){this.setState({isConfirming:!1}),this.props.preventMenuClose(!1,this.props.handleClick)},handleClick:function(e){this.state.isConfirming||(this.props.preventMenuClose(!0),this.setState({isConfirming:!0}),e.preventDefault())}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(2),i=s.any,o=s.string,l=s.bool,u=s.func,c=s.node,d=r.createClass({displayName:"AutocompleteOption",propTypes:{value:i.isRequired,label:o,placeholder:o,isSelected:l,appearInactive:l,className:o,handleBlur:u,handleFocus:u,handleClick:u,handleKeyDown:u,handleMouseEnter:u,children:c},getDefaultProps:function(){return{label:null,placeholder:"",isSelected:!1,className:"",handleBlur:function(){},handleFocus:function(){},handleClick:function(){},handleKeyDown:function(){},handleMouseEnter:function(){}}},render:function(){var e=a(this.props.className,{autocomplete__option:!0,"autocomplete__option--selected":this.props.isSelected,"autocomplete__option--disabled":this.props.appearInactive});return r.createElement("div",{role:"option",tabIndex:"-1","data-capybara":"auto_complete_result",className:e,value:this.props.value,onBlur:this.props.handleBlur,onFocus:this.props.handleFocus,onClick:this.props.handleClick,onKeyDown:this.props.handleKeyDown,onMouseEnter:this.props.handleMouseEnter},this.props.children)}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.number,i=a.oneOf,o=a.string,l=n(5),u=l.Icon,c=r.createClass({displayName:"BadgedIcon",propTypes:{className:o,badge:s,badgeModifier:i(["blue"]),icon:o.isRequired},renderBadge:function(){if(!this.props.badge)return null;var e="badged-icon__badge",t=this.props.badgeModifier,n=[e,t?e+"--"+t:null].filter(function(e){return e}).join(" ");return r.createElement("span",{className:n,children:this.props.badge})},render:function(){var e=this.props,t=e.className,n=e.icon,a=["badged-icon",t].filter(function(e){return e}).join(" ");return r.createElement("div",{className:a},this.renderBadge(),r.createElement(u,{className:"badged-icon__icon gs-"+n}))}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(614),o=n(18),l=n(27),u=n(2),c=u.string,d=u.func,p=u.bool,f=r.createClass({displayName:"ButtonPopupMenu",propTypes:{items:i.propTypes.items,className:c,text:c.isRequired,textVisible:p,iconClassName:c,onClickItem:d.isRequired,dataCapybara:c},getDefaultProps:function(){return{textVisible:!1,dataCapybara:"generic-popup-button"}},render:function(){return r.createElement(i,{items:this.props.items,onClickItem:this.props.onClickItem},r.createElement(o,{className:"btn "+this.props.className,"data-capybara":this.props.dataCapybara},this.props.iconClassName&&r.createElement(s,{className:this.props.iconClassName}),this.props.textVisible?this.props.text:r.createElement(l,{children:this.props.text})))}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(23),v=r(g),_=n(2),y=r(_),b=n(4),E=n(5),C=n(20),I=r(C),T=500,N=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={index:0,touchStartX:null,containerWidth:0,perPage:4},r.width=function(){return v.default.findDOMNode(r).clientWidth},r.leftMax=function(){return r.state.index<=0},r.rightMax=function(){return r.state.index>=r.container.children.length-r.state.perPage},r.arrowHandler=function(e){var t=e.target.classList.contains("gs-arrow-carousel-right");r.shiftContainer(t)},r.touchStartHandler=function(e){r.setState({touchStartX:e.changedTouches[0].clientX})},r.touchMoveHandler=function(e){if(null!==r.state.touchStartX){var t=e.changedTouches[0],n=r.state.touchStartX>=t.clientX;r.setState({touchStartX:null}),r.shiftContainer(n)}},r.shiftContainer=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!e&&r.leftMax()||e&&r.rightMax()||r.setState(function(t){var n=t.index+t.perPage*(e?1:-1);n=Math.max(0,n);var a=n;return n=Math.min(r.container.children.length-r.state.perPage,n),{index:n,newlyVisible:a}},function(){r.shouldFocusAfterShift&&(r.newFocusIndex=r.state.newlyVisible,r.shiftTimeout=setTimeout(function(){r.focusItemAfterShift()},T+250));var e=r.getOffset.call(r,r.state.index);r.setOffset(e)})},r.setOffset=function(e){r.container.style.left="-"+e+"px"},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getOffset",value:function(e){var t=this.container.children[e],n=this.container.querySelector(":first-child");return t.offsetLeft-n.offsetLeft}},{key:"onViewAll",value:function(){this.props.onViewAll(this.props.viewAllValue)}},{key:"render",value:function(){var e=this;return h.default.createElement("div",(0,s.default)({ref:function(t){e.carousel=t},className:"card-carousel"},(0,b.omit)(this.props,["children","header","onViewAll","viewAllValue"])),this.props.header&&h.default.createElement("div",{className:"card-carousel__header"},h.default.createElement("h2",{className:"card-carousel__header__text"},this.props.header," (",h.default.Children.count(this.props.children),")"),this.props.onViewAll&&this.props.children.length>4&&h.default.createElement("button",{className:"card-carousel__header__view-all btn--reset",onClick:this.onViewAll.bind(this),"data-capybara":"view_all_btn"},h.default.createElement("span",{className:"button-focus-flat__label"},I18n.t("View All")))),h.default.createElement("button",{ref:function(t){e.leftArrow=t},className:"gs-arrow-carousel-left gs-3x card-carousel__arrow--left","data-capybara":"scroll_left",onClick:this.arrowHandler,onKeyDown:function(t){E.Focus.isKeyEvent(t)&&E.Focus.eventDirection(t)>0?(t.stopPropagation(),t.preventDefault(),e.focusFirstVisible()):e.shouldFocusAfterShift=!0}},h.default.createElement("span",{className:"screenreader-only"},I18n.t("Previous %{header} items",{header:this.props.header}))),h.default.createElement("div",{ref:function(t){e.clipContainer=t},className:"card-carousel__clip"},this.renderChildren()),h.default.createElement("button",{ref:function(t){e.rightArrow=t},className:"gs-arrow-carousel-right gs-3x card-carousel__arrow--right","data-capybara":"scroll_right",onClick:this.arrowHandler,onKeyDown:function(t){E.Focus.isKeyEvent(t)&&E.Focus.eventDirection(t)<0?(t.stopPropagation(),t.preventDefault(),e.focusLastVisible()):e.shouldFocusAfterShift=!0}},h.default.createElement("span",{className:"screenreader-only"},I18n.t("Next %{header} items",{header:this.props.header}))))}},{key:"renderItems",value:function(){var e=this,t=this.state.index,n=this.lastIndex(),r=this.lastVisibleIndex();return h.default.Children.map(this.props.children,function(a,s){if(t===s&&0!==s||r===s&&s!==n){var i=t===s;return h.default.cloneElement(a,{onKeyDown:function(t){E.Focus.handleKeyDown(t,{onFocusOut:function(t,n){var r=n.direction;(i?r<0:r>0)&&(t.preventDefault(),t.stopPropagation(),e.focusArrow(i?"left":"right"))}})}})}return a})}},{key:"lastIndex",value:function(){return h.default.Children.count(this.props.children)-1}},{key:"lastVisibleIndex",value:function(){return Math.min(this.state.index+this.state.perPage-1,this.lastIndex())}},{key:"focusArrow",value:function(e){this[e+"Arrow"].focus()}},{key:"focusItemAfterShift",value:function(){if(null!==this.newFocusIndex){var e=this.newFocusIndex;this.newFocusIndex=null,this.shiftTimeout=null,this.focusChild(e),this.shouldFocusAfterShift=!1}}},{key:"focusFirstVisible",value:function(){this.focusChild(this.state.index)}},{key:"focusLastVisible",value:function(){this.focusChild(this.lastVisibleIndex())}},{key:"focusChild",value:function(e){var t=E.Focus.findTabbable(this.container.children[e])[0];t&&t.focus()}},{key:"renderChildren",value:function(){var e=this,t=(0,I.default)("learn_new_cards");return t?h.default.createElement("div",{ref:function(t){e.container=t},className:"card-carousel__card-container",onTouchStart:this.touchStartHandler,onTouchMove:this.touchMoveHandler},this.renderItems()):h.default.createElement("ul",{ref:function(t){e.container=t},className:"card-carousel__container",style:{width:this.state.containerWidth,listStyle:"none"},onTouchStart:this.touchStartHandler,onTouchMove:this.touchMoveHandler},this.renderItems())}},{key:"checkArrowVisibility",value:function(){var e=this;["left","right"].forEach(function(t){e[t+"Max"]()?e[t+"Arrow"].classList.add("card-carousel__arrow--hidden"):e[t+"Arrow"].classList.remove("card-carousel__arrow--hidden")})}},{key:"checkContainerSize",value:function(){if(this.container){var e=this.container.querySelector(":first-child"),t=2*e.offsetLeft,n=Math.ceil(e.clientWidth+t),r=Math.floor(this.width()/n);r<1&&(r=1),this.setState({perPage:r}),this.checkArrowVisibility()}}},{key:"componentDidMount",value:function(){var e=this,t=this.container.querySelector(":first-child");this.setOffset(0);var n=h.default.Children.count(this.props.children),r=t.clientWidth,a=2*t.offsetLeft,s=Math.ceil(n/4)*this.width()+a*n,i=4;(0,I.default)("learn_new_cards")&&(s=Math.max((r+a)*n,1280),i=Math.floor(this.width()/(r+a))),this.container.style.width=s,this.setState({containerWidth:s,perPage:i}),this.checkArrowVisibility(),this.newFocusIndex=null,this.container.addEventListener("transitionend",this.onTransitionEnd=function(t){"left"===(t.originalEvent||t).propertyName&&(e.shiftTimeout&&clearTimeout(e.shiftTimeout),e.shiftTimeout=setTimeout(function(){e.focusItemAfterShift()},150))}),this.resizeListener=this.checkContainerSize.bind(this),window.addEventListener("resize",this.resizeListener)}},{key:"componentDidUpdate",value:function(){this.checkArrowVisibility()}},{key:"componentWillUnmount",value:function(){this.resizeListener&&window.removeEventListener("resize",this.resizeListener),this.onTransitionEnd&&this.container.removeEventListener("transitionend",this.onTransitionEnd)}}]),t}(h.default.PureComponent);N.propTypes={children:y.default.arrayOf(y.default.node).isRequired,header:y.default.string,onViewAll:y.default.func,viewAllValue:y.default.string},N.displayName="CardCarousel",t.default=N,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(5),i=s.Icon,o=n(27),l=n(66),u=n(2),c=u.string,d=u.number,p=u.any,f=820,m=320,h=r.createClass({displayName:"Carousel",propTypes:{children:p,className:c},getDefaultProps:function(){return{children:[],className:""}},getInitialState:function(){return{position:0,itemWidth:f}},componentDidMount:function(){this.isMounted=function(){return!0},window.addEventListener("resize",this.resizeCarousel),this.resizeCarousel()},componentWillUnmount:function(){window.removeEventListener("resize",this.resizeCarousel),this.isMounted=function(){return!1}},resizeCarousel:l(function(){if(this.isMounted()){var e=a.findDOMNode(this.refs.clip).clientWidth;e<m&&(e=m),this.setState({itemWidth:e})}},100),handlePrev:function(){var e=this.state.position-1;e<0&&(e=0),this.setState({position:e})},handleNext:function(){var e=this.state.position+1;e>this.props.children.length-1&&(e=this.props.children.length-1),this.setState({position:e})},renderItems:function(){var e=this;return r.Children.map(this.props.children,function(t){return r.cloneElement(t,{width:e.state.itemWidth})})},render:function(){var e=-(this.state.position*this.state.itemWidth);return r.createElement("div",{className:"carousel","data-capybara":"carousel"},r.createElement("div",{className:"carousel__controls","data-capybara":"carousel_controls"},r.createElement("button",{onClick:this.handlePrev,disabled:0===this.state.position,className:"carousel__control carousel__prev","data-capybara":"carousel_prev"},r.createElement(i,{className:"gs-arrow-left gs-2x"}),r.createElement(o,{children:I18n.t("Previous")})),r.createElement("button",{onClick:this.handleNext,disabled:this.state.position===this.props.children.length-1,className:"carousel__control carousel__next","data-capybara":"carousel_next"},r.createElement(i,{className:"gs-arrow-right gs-2x"}),r.createElement(o,{children:I18n.t("Next")}))),r.createElement("div",{ref:"clip",className:"carousel__clip "+this.props.className},r.createElement("ul",{className:"carousel__items",style:{width:this.state.itemWidth*this.props.children.length,marginLeft:e}},this.renderItems())))}}),g=r.createClass({displayName:"CarouselItem",propTypes:{children:p,width:d,className:c},getDefaultProps:function(){return{width:f,className:""}},render:function(){return r.createElement("li",{className:"carousel__item "+this.props.className,style:{width:this.props.width}},r.createElement("div",{className:"carousel__item-overlay"}),this.props.children)}});e.exports=h,h.Item=g},function(e,t,n){"use strict";function r(e,t,n){var r=e.refs.component,a=void 0,o=void 0;return a=r.getSVGNode instanceof Function?r.getSVGNode():s.findDOMNode(r),i(a instanceof SVGSVGElement,"Expected the component's root node to be an <svg /> element, but "+("got "+a.constructor.name+" (<"+a.tagName+" />).")),o=e.create(a,t,n),i(!!o&&o.selectAll instanceof Function,"You must return a d3 selection from your #create() routine."),o}var a=n(1),s=n(23),i=n(41),o={render:function(){return a.createElement("svg",null)},update:function(e,t,n){this.remove(),this.__d3__=r(this,t,n)},remove:function(){this.__d3__&&(this.__d3__.remove(),this.__d3__=void 0)}},l=function(e){return i(e.prototype.create instanceof Function,"Expected component to define a #create() routine that yields a d3 selection."),a.createClass({componentDidMount:function(){this.__d3__=r(this,this.props,this.state)},shouldComponentUpdate:function(e,t){return this.update(this.__d3__,e,t),!1},reload:function(){this.update(this.__d3__,this.props,this.state)},componentWillUnmount:function(){this.remove()},getDefaultProps:function(){return e.defaultProps},getInitialState:function t(){var t=e.prototype.getInitialState;return t?t.call(this):null},render:function(){return a.createElement(e,{ref:"component",redraw:this.reload})},create:function(e,t,n){return this.refs.component.create(e,t,n)},update:function(e,t,n){this.refs.component.update?this.refs.component.update(e,t,n):o.update.apply(this,arguments)},remove:function(){this.refs.component.remove?this.refs.component.remove():o.remove()}})};l.render=o.render,l.update=o.update,l.remove=o.remove,e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),s=n(142),i=r(s),o=n(483),l=r(o),u=n(3),c=function(e,t,n){e.on("mouseover.chart-inspector",function(e){t(this,e)}).on("mouseleave.chart-inspector",function(e){n(this,e)})},d=(0,i.default)({propTypes:{selection:u.object,renderer:u.func.isRequired,adjustX:u.number,className:u.string,behavior:u.func},getDefaultProps:function(){return{adjustX:0,behavior:c}},generateNode:function(){return(0,a.select)("body").append("div").attr("class","likert-chart__chart-inspector")},elementDidMount:function(){this.qTip=(0,l.default)(this.parentNode.node(),{prerender:!0,overwrite:!1,content:{text:""},show:{effect:!1,event:!1},hide:{effect:!1,event:!1},position:{my:"bottom center",at:"top center",adjust:{x:0}}})},elementWillUnmount:function(){this.qTip.destroy(!0)},draw:function(){var e=this.props,t=e.selection,n=e.behavior;this.qTip.set("position.adjust.x",this.props.adjustX),this.qTip.set("style.classes",this.props.className),t&&(t.on(".chart-inspector",null),n(t,this._inspect.bind(this),this._stopInspecting.bind(this)))},_inspect:function(e,t){this.qTip.set("content.text",this.props.renderer(t)),this.qTip.set("position.target",e),this.qTip.show()},_stopInspecting:function(){this.qTip.hide()}});t.default=d,e.exports.BEHAVIOR_HOVER=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(26),g=r(h),v=n(5),_=n(431),y=r(_),b=n(18),E=r(b),C=n(444),I=r(C),T=n(27),N=r(T),S=n(311),x=r(S),A=n(318),k=r(A),w=n(6),R=r(w),O=n(654),P=r(O),L=n(29),M=r(L),D=n(39),U=r(D),F=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPendingAttachment=function(e){return f.default.createElement("li",{key:e.id,className:"unstyled"},f.default.createElement(v.FileCard,{label:g.default.t("Evidence"),attachment:e,canDelete:!0,onDelete:function(){return k.default.removePending(e.id)}}))},n.renderSubmittedAttachment=function(e){return f.default.createElement("li",{key:e.id,className:"unstyled"},f.default.createElement(v.FileCard,{label:g.default.t("Evidence"),attachment:e,canDelete:n.canDeleteSubmittedAttachment(e),onDelete:function(){return k.default.delete(e.id,n.getContext())}}))},n.handleMediaUploaderClose=function(){n.setState({isAddingEvidence:!1},function(){n.addEvidenceButton.focus()})},n.setAddEvidenceButtonRef=function(e){n.addEvidenceButton=e},n.state={isAddingEvidence:n.isExpectingEvidence()},n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.className,t=(0,R.default)("task-attachments__evidence",e,{"task-attachments__evidence--dark":this.isExpectingEvidence()});return f.default.createElement("div",{className:t},this.renderHeader(),this.renderDescription(),this.renderAttachmentUploader(),this.renderList())}},{key:"renderHeader",value:function(){var e=this.canShowAddButton(),t=(0,R.default)("task-attachments__header",{"task-attachments__header--with-button":e}),n=this.props.evidences,r=n.submitted.length+n.pending.length;return f.default.createElement("div",{className:t},f.default.createElement(y.default,{title:g.default.t("Evidence"),attachmentCount:r}),e&&this.renderAddEvidenceButton())}},{key:"renderAddEvidenceButton",value:function(){var e=this;return f.default.createElement(E.default,{ref:this.setAddEvidenceButtonRef,className:"btn--themed right task-attachments__evidence__add-button",onClick:function(){return e.setState({isAddingEvidence:!0})},children:g.default.t("+ Evidence")})}},{key:"renderDescription",value:function(){var e=(0,R.default)("task-attachments__evidence--description",{"task-attachments__evidence--description--hidden":!this.isExpectingEvidence()});return f.default.createElement("div",{className:e},g.default.t("When you're ready, upload your evidence here."))}},{key:"renderAttachmentUploader",value:function(){var e=this,t=this.props.canAddEvidence&&this.state.isAddingEvidence,n=(0,R.default)("task-attachments__uploader media-uploader-container",{"media-uploader-container--expand":t,"media-uploader-container--expand-tall":t&&this.isExpectingEvidence()});return f.default.createElement("div",{className:n},f.default.createElement(I.default,{onChange:function(t){return e.handleEvidenceUpload(t)},multiple:!0}),this.canShowCloseButton()&&this.renderCloseButton())}},{key:"renderCloseButton",value:function(){return f.default.createElement(E.default,{className:"btn--reset task-attachments__uploader--close",onClick:this.handleMediaUploaderClose},f.default.createElement(v.Icon,{className:"gs-x gs-1x"}),f.default.createElement(N.default,{children:g.default.t("Close")}))}},{key:"renderList",value:function(){var e=this.props.evidences;return f.default.createElement("div",{className:"task-attachments__container"},f.default.createElement("ul",null,e.pending.map(this.renderPendingAttachment),e.submitted.map(this.renderSubmittedAttachment)))}},{key:"handleEvidenceUpload",value:function(e){(0,P.default)(k.default,this.getContext(),e)}},{key:"isExpectingEvidence",value:function(){var e=this.props,t=e.requiresNewEvidence,n=e.canAddEvidence,r=k.default.getCompletedPending(this.getContext());return n&&t&&!r.length}},{key:"canShowAddButton",value:function(){return this.props.canAddEvidence&&!this.state.isAddingEvidence}},{key:"canShowCloseButton",value:function(){var e=this.props,t=e.requiresNewEvidence,n=e.evidences;return!t||!!this.state.isAddingEvidence&&n.pending.length>0}},{key:"canDeleteSubmittedAttachment",value:function(e){return!!(0,M.default)("task_enrollment_destroy")||U.default.getId()===e.userId&&this.props.canAddEvidence}},{key:"getContext",value:function(){var e=this.props,t=e.taskId,n=e.learnerId;return{id:t,learnerId:n}}}]),t}(f.default.Component);F.propTypes={evidences:x.default.isRequired,taskId:m.string.isRequired,learnerId:m.string.isRequired,canAddEvidence:m.bool,requiresNewEvidence:m.bool,className:m.string},F.defaultProps={canAddEvidence:!1,requiresNewEvidence:!1,className:""},t.default=F,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(26),g=r(h),v=n(431),_=r(v),y=n(33),b=r(y),E=n(586),C=r(E),I=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.props.attachments.length?f.default.createElement("div",{className:"task-attachments__resources"},this.renderHeader(),this.renderList()):null}},{key:"renderHeader",value:function(){return f.default.createElement("div",{className:"task-attachments__header"},f.default.createElement(_.default,{title:g.default.t("Resources"),attachmentCount:this.props.attachments.length}))}},{key:"renderList",value:function(){return f.default.createElement("div",{className:"task-attachments__container"},f.default.createElement(C.default,{attachments:this.props.attachments}))}}]),t}(f.default.Component);I.propTypes={attachments:(0,m.arrayOf)(b.default).isRequired},t.default=I,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.any,i=a.bool,o=a.number,l=a.string,u=r.createClass({displayName:"DelayedLoader",propTypes:{children:s.isRequired,isLoading:i.isRequired,className:l,containerClassName:l,delay:o},getDefaultProps:function(){return{className:"loader-large loader-7",containerClassName:"loader-container",delay:500}},getInitialState:function(){return{showLoader:this.props.isLoading}},timeout:null,componentWillReceiveProps:function(e){var t=this;!this.state.showLoader&&e.isLoading?(window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){t.setState({showLoader:!0})},this.props.delay)):this.state.showLoader||e.isLoading?this.state.showLoader&&!e.isLoading&&this.setState({
showLoader:!1}):window.clearTimeout(this.timeout)},componentWillUnmount:function(){window.clearTimeout(this.timeout)},render:function(){return this.state.showLoader?r.createElement("div",{className:this.props.containerClassName},r.createElement("div",{className:this.props.className})):r.createElement("div",null,this.props.children)}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=y.default.getItem("dismissedNotifications")||b();return e&&t.items.indexOf(e)>=0}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),i=r(s),o=n(15),l=r(o),u=n(17),c=r(u),d=n(16),p=r(d);t.isDismissed=a;var f=n(1),m=r(f),h=n(26),g=r(h),v=n(2),_=n(87),y=r(_),b=function(){return{items:[]}},E=function(e){function t(){var e,n,r,s;(0,i.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=(0,c.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.dismiss=function(e){var t=r.props,n=t.permanentDismissId,s=t.onAcknowledgement,i=y.default.getItem("dismissedNotifications")||b();n&&!a()&&(i.items.push(n),y.default.setItem("dismissedNotifications",i)),s(e)},s=n,(0,c.default)(r,s)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return a(this.props.permanentDismissId)?null:m.default.createElement("div",{className:"dismissable-notification"},m.default.createElement("div",{className:"dismissable-notification__text"},this.props.noticeText),m.default.createElement("div",null,m.default.createElement("button",{onClick:this.dismiss,className:"dismissable-notification__acknowledgement-button",children:this.props.acknowledgeButtonText||g.default.t("Got it!")})))}}]),t}(m.default.Component);E.propTypes={noticeText:v.string.isRequired,acknowledgeButtonText:v.string,onAcknowledgement:v.func,permanentDismissId:v.string},E.defaultProps={onAcknowledgement:Function.prototype},t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(64),o=r(i),l=n(60),u=r(l),c=n(2);t.default=s.default.createClass({displayName:"DomainSelector",propTypes:{config:c.array,selectedValue:c.string,onDomainChange:c.func},renderDomainOptions:function(){return this.props.config.map(function(e){return s.default.createElement(u.default,{key:e.key,value:e.value,className:"item-label",label:e.label})})},render:function(){return s.default.createElement(o.default,{className:"domain-selector",selectedValue:this.props.selectedValue,onChange:this.props.onDomainChange},this.renderDomainOptions())}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(132),o=r(i),l=n(55),u=r(l),c=n(3),d=n(3002),p=r(d),f=n(3001),m=r(f),h=n(11),g=r(h),v=7,_=function(e){var t=e.canEdit,n=e.daysUntilDue,r=e.defaultDaysUntilDue,a=e.dueOnDate,i=e.dueDateType,l=e.daysUntilExpiration,c=e.emitChange,d=e.learnableName,f=isNaN(r)?v:r,h=function(e){if(!("within"===e&&"relative"===i||"on"===e&&"fixed"===i)){var t={defaultDueOnDate:null};"on"===e&&(t.defaultDueOnDate=(0,g.default)().add(n,"days").endOf("day").format()),c(t)}},_=function(e){c({defaultDueOnDate:e})},y=function(e){var t=Math.abs(parseInt(e,10)),n=Number.isInteger(t)&&t>=0?t:f,r={defaultDaysUntilDue:n};(l&&l<=n||n>=365)&&(r.defaultDaysUntilExpiration=n+1),c(r)},b=function(e){e.target.checked?y(f):c({defaultDueOnDate:null,defaultDaysUntilDue:0})},E=n>0||!!a,C=!!a,I=function(){return s.default.createElement(m.default,{canEdit:t,dueOnDate:a,learnableName:d,onDueDateTypeChanged:h,onDueOnDateChange:_})},T=function(){return s.default.createElement(p.default,{canEdit:t,daysUntilDue:n,daysUntilExpiration:l,learnableName:d,onDaysUntilDueChanged:y,onDueDateTypeChanged:h})};return s.default.createElement("div",{className:"course-settings-meta-expando"},s.default.createElement(o.default.Label,null,I18n.t("Due Date")),s.default.createElement(o.default.Field,{className:"course-meta-grid__sneak-up","data-capybara":"course-settings__due-within-toggle"},s.default.createElement(u.default,{disabled:!t,checked:E,onChange:b})),E&&s.default.createElement(o.default.CellAdditional,{key:"due-within-2","data-capybara":"course-settings__due-within-value"},C?I():T()))};_.propTypes={canEdit:c.bool.isRequired,daysUntilDue:c.number,defaultDaysUntilDue:c.number,dueOnDate:c.string,dueDateType:c.string.isRequired,daysUntilExpiration:c.number,emitChange:c.func.isRequired,learnableName:c.string.isRequired},_.defaultProps={canEdit:!1,daysUntilDue:10,defaultDaysUntilDue:v,dueDateType:"relative",emitChange:Function.prototype,learnableName:"course"},t.default=_,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"FakeChrome",render:function(){return r.createElement("div",{className:"fake-chrome__header"},r.createElement("div",{className:"fake-chrome__stoplights"},r.createElement("div",{className:"fake-chrome__stoplight fake-chrome__stoplight--close"}),r.createElement("div",{className:"fake-chrome__stoplight fake-chrome__stoplight--min"}),r.createElement("div",{className:"fake-chrome__stoplight fake-chrome__stoplight--full"})),r.createElement("div",{className:"fake-chrome__btn"},"+"),r.createElement("div",{className:"fake-chrome__address"},"http://www.getbridge.com/"))}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2),o=n(6),l=r(o),u=n(124),c=r(u),d=n(91),p=r(d),f=n(26),m=r(f),h=n(61),g=r(h),v=n(4),_=n(43),y=n(20),b=r(y),E=n(12);t.default=s.default.createClass({displayName:"FilterRefinementItem",propTypes:{id:i.string,label:i.string.isRequired,isArchived:i.bool,type:i.string,itemType:i.string,selected:i.bool,click:i.func,disableClick:i.bool,highlightedText:i.string},getDefaultProps:function(){return{itemType:"group",highlightedText:""}},click:function(e){this.props.disableClick||(e.stopPropagation(),this.props.click&&this.props.click(this.props))},isSelected:function(){return!this.props.disableClick&&this.props.selected},isArchived:function(){return(0,b.default)("learn_course_archive")&&this.props.isArchived},getLabel:function(){return s.default.createElement(g.default,{text:this.props.label||m.default.t("Untitled"),highlight:this.props.highlightedText})},renderGroupAvatar:function(){return s.default.createElement("span",{onClick:this.click},s.default.createElement(c.default,{className:"margin-r-s margin-b-xs",isSelected:this.isSelected(),name:this.props.label,type:this.props.type,id:this.props.id}))},renderGroupLabel:function(){return this.props.disableClick?s.default.createElement("div",null,this.getLabel()):s.default.createElement("label",{className:"avatar__label"},s.default.createElement("input",{type:"checkbox",value:this.props.id,className:"screenreader-only",onChange:this.click,checked:this.props.selected||!1}),this.getLabel())},renderCheckbox:function(){return s.default.createElement(p.default,{checked:this.isSelected(),onChange:this.click,checkboxClassName:"",labelClassName:""},this.getLabel(),this.isArchived()&&s.default.createElement(_.Chip,{label:"ARCHIVED",size:"small",dark:!0,className:"chip"}))},render:function(){var e=void 0;e=(0,v.includes)(["group","team"],this.props.itemType)?E.REFINEMENT_ITEM_TYPE_GROUP:this.props.disableClick?E.REFINEMENT_ITEM_TYPE_BARE:E.REFINEMENT_ITEM_TYPE_CHECKBOX;var t=(0,l.default)({"report-refinement__item":!0,"report-refinement__item--bare":e===E.REFINEMENT_ITEM_TYPE_BARE,"report-refinement__item--checkbox":e===E.REFINEMENT_ITEM_TYPE_CHECKBOX,"report-refinement__item--archived":this.isArchived()});return s.default.createElement("li",{className:t,"data-capybara":"refinement-item"},e===E.REFINEMENT_ITEM_TYPE_GROUP&&this.renderGroupAvatar(),e===E.REFINEMENT_ITEM_TYPE_GROUP&&this.renderGroupLabel(),e===E.REFINEMENT_ITEM_TYPE_CHECKBOX&&this.renderCheckbox(),e===E.REFINEMENT_ITEM_TYPE_BARE&&this.getLabel())}}),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(){var e=n(r);e.length&&(e.forEach(function(e){var t=e.nodes;t.forEach(function(e){return i.appendChild(e.cloneNode(!0))})}),document.body.appendChild(i),requestAnimationFrame(function(){var t=Array.prototype.map.call(i.children,function(e){return{w:e.offsetWidth,h:e.offsetHeight}}),n=0;e.forEach(function(e){var r=e.nodeCount,a=e.callback;a(t.slice(n,n+r)),n+=r}),document.body.removeChild(i),o(),a.forEach(function(t){return t(e.length)})}))}function t(e){return function(){for(;e.firstChild;)e.removeChild(e.firstChild)}}function n(e){for(var t=[].concat(e);e.length;)e.shift();return t}var r=[],a=[],s=f(e,1),i=document.createElement("div"),o=t(i);return i.style.cssText="\n    position: fixed;\n    top: -100%;\n    left: -100%;\n    z-index: -1;\n  ",{enqueue:function(e,t){r.push({nodes:e,nodeCount:e.length,callback:t}),s()},addRunListener:function(e){a.push(e)},run:e}}function a(e){return JSON.stringify(e)}var s=n(1),i=n(23),o=n(2),l=o.string,u=o.any,c=o.func,d=o.object,p=n(4),f=p.debounce,m=s.createClass({displayName:"FitBox",statics:{BatchedDimensionCalculator:r,dimensionCalculator:r()},propTypes:{children:u,className:l,style:d,onChange:c.isRequired},getInitialState:function(){return{fittingNodeIndices:[]}},componentDidMount:function(){this.isMounted=function(){return!0},this.resolveFittingChildren()},componentDidUpdate:function(e,t){e.children!==this.props.children?this.resolveFittingChildren():a(t.fittingNodeIndices)!==a(this.state.fittingNodeIndices)&&this.props.onChange(this.state.fittingNodeIndices)},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){var e=this.renderFittingChildren();return s.createElement("div",{className:this.props.className,style:this.props.style},s.createElement("div",{"data-capybara":"fit-box__content"},e),s.createElement("div",{style:{display:"none"}},this.renderChildShadows()))},renderChildShadows:function(){return s.Children.map(this.props.children,function(e,t){return s.cloneElement(e,{ref:"shadow__"+t})})},renderFittingChildren:function(){var e=this.state.fittingNodeIndices;return s.Children.map(this.props.children,function(t,n){return e.indexOf(n)>-1?t:null})},resolveFittingChildren:function(){var e=this;if(0===s.Children.count(this.props.children))return this.setState({fittingNodeIndices:[]});var t=this.constructor.dimensionCalculator,n=[],r=i.findDOMNode(this).offsetWidth;s.Children.forEach(this.props.children,function(t,r){n.push(i.findDOMNode(e.refs["shadow__"+r]))}),t.enqueue(n,function(t){if(e.isMounted()){var n=r,a=[];t.some(function(e,t){return!(n-e.w>0)||(a.push(t),n-=e.w,!1)}),e.setState({fittingNodeIndices:a})}})}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(R){var t=(0,y.map)(Object.assign({key:R},e),function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)});return(0,C.default)({url:"https://www.googleapis.com/webfonts/v1/webfonts?"+t.join("&"),dataType:"json"})}return m.default.reject(new Error("GOOGLE_FONTS_API_KEY not found."))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),i=r(s),o=n(15),l=r(o),u=n(17),c=r(u),d=n(16),p=r(d),f=n(25),m=r(f),h=n(229),g=r(h),v=n(1),_=r(v),y=n(4),b=n(3),E=n(7),C=r(E),I=n(90),T=r(I),N=n(6),S=r(N),x=n(66),A=r(x),k=n(31),w=r(k),R=w.default.get("GOOGLE_FONTS_API_KEY"),O=function(e){function t(e){(0,i.default)(this,t);var n=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEnter=function(){var e=n.state.filteredFonts;1===e.length&&(n.setState({search:e[0].family}),n.props.onChange(e[0]))},n.onSearchChange=function(e){n.setState({search:e}),n.debouncedFilterFonts(e)},n.onSelectFont=function(e){n.setState({search:e}),n.fonts.includes(e)&&n.props.onChange(e)},n.clearSearchInput=function(){n.setState({search:null})},n.fetchFonts=function(){n.props.fetchGoogleFonts({sort:"alpha"}).then(function(e){n.fonts=e.items.map(function(e){return e.family}),n.state.isMounted&&n.setState({fetchError:null,fetching:!1})},function(e){var t=null;t=e.status||e.statusText?I18n.t("There was an error getting fonts from Google. Try refreshing the page."):I18n.t("The Google Fonts API Key is missing in your configuration."),n.fonts=[],n.state.isMounted&&n.setState({fetchError:t,fetching:!1}),g.default.captureException(new Error("GoogleFontSelector Fetch Fonts Error"),{tags:{where:"components/GoogleFontSelector"},extra:{provider:"googleapis",response:e}})})},n.filterFonts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.search,t=[];if(e&&e.replace(/(\s){2,}/,"$1").length>2){var r=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s+/g,"(.*)");t=n.fonts.filter(function(e){return e.match(new RegExp(r,"i"))}).slice(0,20)}n.setState({filteredFonts:t})},n.clear=function(){n.clearSearchInput(),n.props.onChange(null)},n.renderOptions=function(){var e=n.props.value,t=n.state.filteredFonts;return t.map(function(t){return _.default.createElement(T.default.Option,{key:t,value:t,label:t,isSelected:t===e,className:"google-font-selector__option"},t)})},n.state={fetchError:null,fetching:!0,filteredFonts:[],isMounted:!1,search:null},n.fonts=[],n.debouncedFilterFonts=n.props.searchDebounceRate>0?(0,A.default)(n.filterFonts,n.props.searchDebounceRate):n.filterFonts,n.fetchFonts(),n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.id,a=t.inputClassName,s=t.value,i=this.state,o=i.fetchError,l=i.fetching,u=i.search,c=(0,S.default)(n,"google-font-selector","input-field","input-field--active"),d=(0,S.default)(a,"google-font-selector__input"),p=(0,S.default)("bold","light-grey-bg");return _.default.createElement("span",{className:c},_.default.createElement(T.default,{autocomplete:"list",children:this.renderOptions(),className:d,id:r,inputClassName:p,inputRef:function(t){e.input=t},onBlur:this.clearSearchInput,onClear:this.clear,onEnter:this.onEnter,onInput:this.onSearchChange,onSelect:this.onSelectFont,placeholder:l?I18n.t("Loading..."):I18n.t("Type to Search"),value:u||s}),o&&_.default.createElement("div",{className:"google-font-selector__error"},o))}}]),t}(_.default.Component);O.defaultProps={id:"google-font-selector",onChange:function(){},searchDebounceRate:200,fetchGoogleFonts:a},O.propTypes={className:b.string,id:b.string,inputClassName:b.string,onChange:b.func,searchDebounceRate:b.number,value:b.string,fetchGoogleFonts:b.func},t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){a.Children.forEach(e,function(e){d(e.type===_,"GroupListingEntry only accepts Column as children! You have passed "+('a child of type "'+(e.type.displayName||e.type)+'" which is ')+"not supported.")})}var a=n(1),s=n(88),i=n(50),o=i.Tr,l=i.Td,u=n(18),c=n(37),d=n(41),p=n(3),f=p.func,m=p.bool,h=p.number,g=p.node,v=p.string,_=l,y=n(1374),b=a.createClass({displayName:"RemovalConfirmationPrompt",propTypes:{onCancel:f,onConfirm:f,isMobile:m,colCount:h,group:y.propTypes.group,removalMessage:v,removalVerb:v},render:function(){return a.createElement(o,{className:"border-b border-grey"},a.createElement(l,{colSpan:String(this.props.colCount),mobileClassNames:"pure-u-1",className:"padding-none"},a.createElement("div",{className:"removable-item removable-item--focused"},a.createElement("div",{className:"removable-item__title"},a.createElement(y,{group:this.props.group})),a.createElement("div",{className:"removable-item__confirm indigo"},this.props.isMobile?I18n.t("Remove?"):this.props.removalMessage||I18n.t("Remove Group?")),a.createElement("div",{className:"removable-item__buttons"},a.createElement(u,{className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.props.onCancel,children:I18n.t("Cancel"),"data-capybara":"confirm_cancel"}),a.createElement(u,{className:"btn--reset upcase small padding-rl-s text-center confirm-remove-learner pink",onClick:this.props.onConfirm,children:this.props.removalVerb||I18n.t("Remove"),"data-capybara":"confirm_delete"})))))}}),E=a.createClass({displayName:"GroupListingEntry",statics:{Column:_,Avatar:y,RemovalConfirmationPrompt:b},mixins:[s.mixin,c({mobile:c.QUERY_MOBILE})],propTypes:{onRemove:f,group:n(51).isRequired,children:g,removalMessage:v,removalVerb:v},componentWillMount:function(){r(this.props.children)},componentWillUpdate:function(e){r(e.children)},onRemove:function(){this.cancelRemoval(),this.remove()},render:function(){return this.isConfirmingRemoval()?a.createElement(b,{group:this.props.group,onCancel:this.cancelRemoval,onConfirm:this.onRemove,isMobile:this.state.media.mobile,colCount:a.Children.count(this.props.children),removalMessage:this.props.removalMessage,removalVerb:this.props.removalVerb}):a.createElement(o,{className:"border-b border-grey",mobileClassNames:"pure-g"},this.props.children)}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2),o=n(43),l=.2,u=s.default.createClass({displayName:"HorizontalScrollingList",propTypes:{children:(0,i.arrayOf)(i.node)},getInitialState:function(){return{left:!1,right:!1,width:0,containerWidth:0}},componentDidMount:function(){this.container.addEventListener("scroll",this.scrollHandler),this.setSize()},componentWillUnMount:function(){this.container.removeEventListener("scroll",this.scrollHandler)},componentDidUpdate:function(e,t){var n=this,r=this.getChildren(),a=Array.from(this.innerContainer.getElementsByTagName("img"));(r&&!t.children||r.length!==t.children.length)&&(a.forEach(function(e){e.onload=n.setSize}),this.setState({children:r}),0===a.length&&this.setSize())},render:function(){var e=this,t=this.state,n=t.left,r=t.right;return s.default.createElement("div",{className:"horizontal-scroller"},n&&s.default.createElement("div",{className:"horizontal-scroller__arrow horizontal-scroller__arrow--left"},s.default.createElement("button",{className:"horizontal-scroller__button",onClick:this.arrowClick("left")},s.default.createElement(o.ChevronLeftIcon,{className:"horizontal-scroller__left-icon"}))),s.default.createElement("div",{className:"horizontal-scrolling-nav",ref:function(t){e.container=t}},s.default.createElement("div",{className:"horizontal-scroller__container",ref:function(t){e.innerContainer=t}},this.props.children)),r&&s.default.createElement("div",{className:"horizontal-scroller__arrow horizontal-scroller__arrow--right"},s.default.createElement("button",{className:"horizontal-scroller__button",onClick:this.arrowClick("right")},s.default.createElement(o.ChevronRightIcon,{className:"horizontal-scroller__right-icon"}))))},arrowClick:function(e){var t=this;return function(){t.container.scrollBy({left:"left"===e?-t.state.width:+t.state.width,behavior:"smooth"})}},getChildren:function(){return this.props.children.reduce(function(e,t){return e.concat(t)},[])},getOffsetAndScroll:function(){var e=this.container,t=e.offsetWidth,n=e.scrollLeft,r=this.innerContainer.scrollWidth;return{offsetWidth:t,scrollLeft:n,scrollWidth:r}},setSize:function(){var e=this.getOffsetAndScroll(),t=e.offsetWidth,n=e.scrollLeft,r=e.scrollWidth;this.setState({width:t-t*l,containerWidth:r,right:n+t<r,children:this.getChildren()})},scrollHandler:function(){var e=this.getOffsetAndScroll(),t=e.scrollLeft,n=e.offsetWidth,r=this.state,a=r.right,s=r.left,i=r.containerWidth,o=t+n;o>=i&&a&&this.setState({right:!1}),o<=i&&!a&&this.setState({right:!0}),t>0&&!s&&this.setState({left:!0}),0===t&&s&&this.setState({left:!1})}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(907),o=r(i),l=n(371),u=r(l),c=n(78),d=r(c),p=n(92),f=r(p),m=n(24),h=r(m),g=n(3),v=s.default.createClass({displayName:"ImageManipulator",propTypes:{image:g.string,onRequestClose:g.func,shouldReplaceWithSelfie:g.bool,onRequestSelfie:g.func,onReplaceImage:g.func,onSaveImage:g.func,isOpen:g.bool},getDefaultProps:function(){return{onRequestClose:Function.prototype,shouldReplaceWithSelfie:!1,onRequestSelfie:Function.prototype,onReplaceImage:Function.prototype,onSaveImage:Function.prototype,isOpen:!1}},getInitialState:function(){return{scale:1,transClass:""}},componentDidMount:function(){this.setState({transClass:"image-manipulator__modal-slide"})},handleScale:function(e){this.setState({scale:e})},handleSave:function(){this.props.onSaveImage(this.refs.avatar.getImage().toDataURL()),this.handleClose()},handleClose:function(){this.setState({transClass:""}),setTimeout(this.props.onRequestClose,300)},scaleUp:function(){var e=this.state.scale+.05;e<=2&&this.setState({scale:e})},scaleDown:function(){var e=this.state.scale-.05;e>=1&&this.setState({scale:e})},render:function(){return s.default.createElement(d.default,{className:"image-manipulator__modal "+this.state.transClass,isOpen:this.props.isOpen,contentLabel:I18n.t("Adjust Image")},s.default.createElement("div",{className:"david-lee-roth image-manipulator"},s.default.createElement("i",{className:"gs-x gs-3-4",onClick:this.handleClose}),s.default.createElement("div",{className:"pure-u-1"},s.default.createElement(o.default,{ref:"avatar",image:this.props.image,width:300,height:300,border:1,scale:parseFloat(this.state.scale)})),s.default.createElement("div",{className:"image-manipulator__scale-slider"},s.default.createElement("div",{className:"pure-u-1-4 text-right"},s.default.createElement("div",{className:"image-manipulator__scale-down",onClick:this.scaleDown},s.default.createElement("i",{className:"gs-minus-sign"}))),s.default.createElement("div",{className:"pure-u-1-2"},s.default.createElement(u.default,{onChange:this.handleScale,min:1,max:2,step:.01,value:this.state.scale})),s.default.createElement("div",{className:"pure-u-1-4 text-left"},s.default.createElement("div",{className:"image-manipulator__scale-up",onClick:this.scaleUp},s.default.createElement("i",{className:"gs-plus-sign"})))),s.default.createElement("div",{className:"image-manipulator__action-bar"},s.default.createElement("div",{className:"pure-u-0"}),s.default.createElement("div",{className:"pure-u-1"},this.props.shouldReplaceWithSelfie?s.default.createElement("button",{className:"image-manipulator__replace-button",onClick:this.props.onRequestSelfie},I18n.t("REPLACE")):s.default.createElement(f.default,{acceptedFileTypes:"image/*",label:I18n.t("REPLACE"),onChange:this.props.onReplaceImage,buttonClassName:"image-manipulator__replace-button"}),s.default.createElement("button",{"data-capybara":"image-manipulator__apply-button",className:"image-manipulator__apply-button",type:"button",onClick:this.handleSave},s.default.createElement(h.default,null,I18n.t("Apply")))),s.default.createElement("div",{className:"pure-u-0"}))))}});e.exports=v},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(5),i=s.Icon,o=n(92),l=n(2),u=l.func,c=r.createClass({displayName:"Empty",propTypes:{onFilesSelected:u.isRequired},render:function(){return r.createElement("div",{className:"media-uploader--image__prompt"},r.createElement(i,{className:"gs-upload gs-2x"}),r.createElement("p",{className:"media-uploader--image__prompt__header"},r.createElement(a,null,I18n.t("Drag to upload"))),r.createElement(o,{label:I18n.t("or browse"),onChange:this.props.onFilesSelected}))}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(92),s=n(371),i=n(2),o=i.func,l=i.string,u=i.number,c=r.createClass({displayName:"Preview",propTypes:{onFilesSelected:o.isRequired,onRemoveImage:o.isRequired,imageUrl:l.isRequired,onChangeOpacity:o,opacity:u},render:function(){return r.createElement("div",null,r.createElement("img",{className:"media-uploader--image__preview",src:this.props.imageUrl}),this.props.onChangeOpacity&&r.createElement("div",null,r.createElement("div",{className:"media-uploader__overlay"}),r.createElement("div",{className:"media-uploader__opacity-slider"},r.createElement(s,{onChange:this.props.onChangeOpacity,min:0,max:1,step:.1,value:this.props.opacity,beginLabel:"0%",endLabel:"100%"}))),r.createElement("div",{className:"media-uploader--image__preview__buttons"},r.createElement("button",{className:"media-uploader--image__remove-button",onClick:this.props.onRemoveImage},I18n.t("Remove")),r.createElement(a,{buttonClassName:"media-uploader--image__change-button",label:I18n.t("Change"),onChange:this.props.onFilesSelected})))}});e.exports=c},function(e,t,n){"use strict";var r=n(2),a=n(1),s=a.createClass({displayName:"LayoutItemContent",propTypes:{className:r.string,children:r.any},render:function(){return a.createElement("div",{className:(this.props.className||"")+" large-content-area--padded centered",children:this.props.children})}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(4),u=r(l),c=n(13),d=r(c),p=n(18),f=r(p),m=n(27),h=r(m),g=n(5),v=n(374),_=r(v),y=o.default.createClass({displayName:"Entry",propTypes:{learnableId:s.default.string,enrollment:s.default.shape({userId:s.default.string.isRequired,name:s.default.string,email:s.default.string,avatarUrl:s.default.string}).isRequired,onUnenroll:s.default.func,canUnenroll:s.default.bool,className:s.default.string,children:s.default.node},renderColumns:function(){var e=_.default.Column,t=_.default.Avatar,n=this.props.enrollment;return[o.default.createElement(e,{key:"name",mobileClassNames:"pure-u-1-2"},o.default.createElement(d.default,{to:"author.learner",params:[{id:n.userId}],className:"indigo",children:o.default.createElement(t,{user:this.getEnrollmentUser()})}))].concat(this.props.children).concat([o.default.createElement(e,{key:"remove",mobileClassNames:"pure-u-1-8",className:"text-center"},this.props.canUnenroll&&o.default.createElement(f.default,{className:"text-right btn--reset remove-learner full-width full-height",onClick:this.showRemovalConfirmationPrompt},o.default.createElement(h.default,{children:I18n.t("Remove Learner")}),o.default.createElement(g.Icon,{className:"gs-x gs-1x dark-grey"})))])},render:function(){return o.default.createElement(_.default,{ref:"entry",user:this.getEnrollmentUser(),onRemove:this.props.onUnenroll,className:this.className,mobileClassNames:"pure-g"},this.renderColumns().filter(function(e){return!!e}))},getEnrollmentUser:function(){var e=this.props.enrollment,t=u.default.pick(e,["name","email","avatarUrl"]);return t.id=e.userId,t},showRemovalConfirmationPrompt:function(){this.refs.entry.confirmRemoval()}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(5),u=n(3042),c=r(u),d=n(13),p=r(d),f=n(7),m=r(f),h=n(3300),g=r(h),v=n(103),_=r(v),y=n(30),b=r(y),E=n(24),C=r(E),I=n(187),T=r(I),N=n(268),S=r(N),x=n(297),A=r(x),k=n(278),w=r(k),R=n(655),O=n(6),P=r(O),L=n(836),M=r(L),D=n(837),U=r(D),F=n(12),q=o.default.createClass({displayName:"LearnerCourseWrapper",propTypes:{progress:s.default.object,showTitle:s.default.bool,course:s.default.shape({id:s.default.string,courseType:s.default.string,deletedAt:s.default.string,required:s.default.bool,slideTotal:s.default.number,quizPositions:s.default.arrayOf(s.default.number),openBook:s.default.bool,attachmentsCount:s.default.number}),onNextSlide:s.default.func,onPreviousSlide:s.default.func,preview:s.default.bool,slide:w.default,title:s.default.string,children:s.default.any,query:s.default.shape({programId:s.default.string}),onToggleResourcesTray:s.default.func},getDefaultProps:function(){return{course:{},query:{},onToggleResourcesTray:Function.prototype}},componentWillUnmount:function(){g.default.justJoined=!1},componentWillUpdate:function(e){this.props.slide&&e.slide&&this.props.slide.id!==e.slide.id&&this.focusOnMainContent()},isExternal:function(){var e=this.props.course;return"bridge"!==e.courseType&&"ilt"!==e.courseType&&"program"!==e.courseType},handleProgressBarSelectInterval:function(e){var t=this;e<=0&&(e=1);var n=Math.round(this.props.progress.furthest*this.props.course.slideTotal);if(!(e>n+1)||this.props.course.openBook){var r=this.props.preview?U.default:M.default;r(this.props.course.id,"at",{position:e}).then(function(e){var n="learner.course.slide";t.props.preview&&(n="learner.course.slide.preview"),e.slide&&(t.props.preview&&(0,R.isInIframe)()&&(0,R.messageTarget)().postMessage({slideId:e.slide.id},location.origin),b.default.transitionTo(n,{courseId:t.props.course.id,slideId:e.slide.id}))})}},focusOnMainContent:function(){var e=document.querySelectorAll(".learner-slide-content-focus");e&&e.length&&e[0].focus()},render:function(){var e=!this.props.course.required&&g.default.justJoined,t=this.props.course,n=t.deletedAt,r=t.attachmentsCount,a=this.props,s=a.onNextSlide,i=a.onPreviousSlide,u=a.slide,d=a.title,p=d||u&&u.title,f=(0,P.default)({"pure-g-r":!0,"learner-slide-header__grid-container":!0,"learner-slide-header__grid-container-external":this.isExternal()});return o.default.createElement("div",null,e&&this.renderToast(),n&&o.default.createElement("div",{className:"not-found full-height relative"},o.default.createElement("div",{className:"error__content"},o.default.createElement("div",{className:"error__content__caution"},o.default.createElement(l.Icon,{className:"gs-caution"})," ",o.default.createElement(C.default,null,I18n.t("Course is Canceled"))),o.default.createElement("div",{className:"error__content__message"},o.default.createElement("h2",null,I18n.t("Sorry, there's nothing here")),o.default.createElement("p",null,o.default.createElement(C.default,null,I18n.t("You're off the hook. The course you are looking for has been removed from the system."))),o.default.createElement(T.default,{className:"btn filled primary margin-t-xl constrained",preview:this.props.preview})))),!n&&o.default.createElement("div",null,o.default.createElement("header",{className:"learner-slide-header"},o.default.createElement("div",{className:f},o.default.createElement("div",{className:this.isExternal()?"pure-u-12-24":"pure-u-4-24"},o.default.createElement("button",{className:"learner-slide-header__skip-content",onClick:this.focusOnMainContent},I18n.t("Skip To Content")),this.renderBackButton(this.props.query.programId)),!this.isExternal()&&this.renderProgressBar(),r>0&&u&&u.type===F.QUESTION_TYPES.SLIDE&&this.renderResourcesButton()),o.default.createElement("div",{className:"learner-slide-content-focus",tabIndex:"-1"}),this.props.showTitle&&o.default.createElement("div",{className:"pure-g-r"},o.default.createElement("div",{className:"pure-u-4-24"}),o.default.createElement("div",{className:"pure-u-16-24 learner-slide-title-container"},o.default.createElement("div",{className:"centered constrain-width"},o.default.createElement("h1",{className:"learner-slide-title brand-font","data-capybara":"slide_title"},p))),o.default.createElement("div",{className:"pure-u-4-24"}))),this.props.children,u&&o.default.createElement(c.default,{key:u.id,onNextSlide:s,onPreviousSlide:i,slide:u})))},renderToast:function(){return o.default.createElement("div",{className:"white toaster--notice"},o.default.createElement("div",{className:"toaster__toast clearfix"},o.default.createElement("div",{className:"left padding-tb-m padding-l-l"},o.default.createElement(C.default,null,o.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("This course has been added to *My Learning*"),wrappers:{"*":o.default.createElement("a",{href:"/learner/courses",className:"white underline"},"$1")}},"$1"))),o.default.createElement("button",{type:"button",className:"btn--reset white padding-m right border-l border-white",onClick:this.hideToast},o.default.createElement("span",{className:"screenreader-only"},o.default.createElement(C.default,null,I18n.t("Close"))),o.default.createElement(l.Icon,{className:"gs-x gs-1x"})),o.default.createElement("button",{type:"button",className:"btn secondary dark right margin-tb-s margin-r-m",onClick:this.ditchCourse
},o.default.createElement(C.default,null,I18n.t("Ditch this course")))))},renderBackButton:function(e){return e?o.default.createElement(S.default,{className:"learner-slide-header__exit-link",hasBackIcon:!0,programId:e}):o.default.createElement(T.default,{className:"learner-slide-header__exit-link",hasBackIcon:!0,preview:this.props.preview})},renderResourcesButton:function(){var e=this,t=this.props.course;return o.default.createElement("button",{className:"learner-slide-header__resources",onClick:function(t){return e.props.onToggleResourcesTray(t.target)}},o.default.createElement(A.default,{attachmentCount:t.attachmentsCount,sizeClass:"gs-1.5x"}),o.default.createElement("h3",{className:"learner-slide-header__resources--title"},I18n.t("Resources")))},renderProgressBar:function(){var e=this.props,t=e.course,n=e.progress;return o.default.createElement("div",{className:"pure-u-16-24 padding-t-xs"},o.default.createElement("div",{className:"centered learner-course__progress-bar"},o.default.createElement(_.default,{current:n.current,progress:n.furthest,intervals:t.slideTotal,highlights:t.quizPositions,onSelectInterval:this.handleProgressBarSelectInterval})))},ditchCourse:function(){return(0,m.default)({url:"/api/learner/courses/"+this.props.course.id,type:"DELETE"}).then(function(){p.default.replaceWith("learner.library")})},hideToast:function(){g.default.justJoined=!1,this.forceUpdate()}});t.default=q,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(28),d=r(c),p=n(25),f=r(p),m=n(187),h=r(m),g=n(13),v=r(g),_=n(3047),y=r(_),b=n(81),E=r(b),C=n(1384),I=r(C),T=n(22),N=r(T),S=n(3311),x=r(S),A=n(125),k=n(179),w=r(k),R=function(e,t){var n=(0,d.default)("btn--themed constrained brand-bg brand-border",{filled:e,secondary:!e});return t?u.default.createElement(v.default,{to:"learner.program",params:[{programId:t}],className:n},I18n.t("Back to Program")):u.default.createElement(h.default,{className:n})},O=u.default.createClass({displayName:"LearnerFinished",propTypes:{passed:o.default.bool,canRetry:o.default.bool,children:o.default.node,programLearningItem:E.default,retryLinkProps:o.default.object,programId:o.default.string,showRetainHint:o.default.bool,showNextUp:o.default.bool,completedText:o.default.string},getDefaultProps:function(){return{showNextUp:!0}},render:function(){var e=this.props,t=e.canRetry,n=e.passed,r=e.programId,a=e.programLearningItem,i=e.completedText;return u.default.createElement("div",{className:"learner-course-finished"},r&&u.default.createElement("header",{className:"learner-learnable-header"},u.default.createElement("div",{className:"pure-g-r learner-learnable-header__grid-container"},u.default.createElement(h.default,{className:"learner-learnable-header__exit-link",hasBackIcon:!0}))),u.default.createElement("div",{className:"pure-g-r"},u.default.createElement("div",{className:"pure-u-4-24"}),u.default.createElement("div",{className:"pure-u-16-24 margin-t-xxl"},u.default.createElement("div",{className:"centered constrain-width"},u.default.createElement("h1",{ref:w.default,className:"text-center outline-none"},n?I18n.t("Great Work!"):I18n.t("Sorry, you didn't pass.")),n&&u.default.createElement("h2",{className:"label learner-course-finished__completed-text"},i||I18n.t("You Completed")),u.default.createElement("ul",{className:"learner-course-finished__course-list course-list unstyled bordered"},this.props.children),this.shouldShowNextUp()&&u.default.createElement("div",{className:"margin-t-xxl"},u.default.createElement("h2",{className:"label learner-course-finished__completed-text"},I18n.t("Next Up")),u.default.createElement("ul",{className:"learner-course-finished__course-list course-list unstyled bordered"},u.default.createElement(I.default,{item:a,onAttachmentIconClick:Function.prototype,permissions:{}}))),u.default.createElement("div",{className:"text-center margin-t-xxl"},u.default.createElement("div",{className:"margin-b-l"},R(n,r),!n&&t&&u.default.createElement(v.default,(0,s.default)({className:"brand-bg brand-border btn--themed filled margin-l-l nextStep"},this.props.retryLinkProps),I18n.t("Retry")))))),u.default.createElement("div",{className:"pure-u-4-24"})),n&&this.props.showRetainHint&&u.default.createElement(y.default,null))},shouldShowNextUp:function(){var e=this.props,t=e.passed,n=e.programLearningItem,r=e.showNextUp;return t&&r&&n&&n.data&&n.data.currentCourse&&!(0,A.isComplete)(n)}});t.default=(0,N.default)({type:O,blocking:!0,asyncProps:{programLearningItem:{fetch:function(e){return e.programId?x.default.fetchProgram(e.programId):f.default.resolve(null)},get:function(e){return e.programId?x.default.getProgram(e.programId):null}}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"MediaNotFound",render:function(){return r.createElement("span",{className:"media-placeholder media-placeholder--not-found"},I18n.t("It looks like this media is unavailable at this time."))}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(1385),d=r(c),p=n(125),f=r(p),m=n(37),h=r(m),g=n(6),v=r(g),_=n(20),y=r(_),b=n(1386),E=r(b),C=n(1384),I=r(C),T=n(43),N=n(1388),S=r(N),x=n(768),A=r(x),k=n(589),w=r(k),R=n(1391),O=r(R),P=n(1394),L=r(P),M=n(30),D=r(M),U=n(1474),F=r(U),q=n(3321),B=r(q),j=n(4),H=n(1479),G=r(H),W=n(11),V=r(W),Y=n(12),z=function(){return!((0,y.default)("private_libraries")&&"/learner/courses"===D.default.getCurrentRoute())},K=u.default.createClass({displayName:"LearningItemList",mixins:[(0,h.default)({desktop:"(min-width: 960px)"})],propTypes:{className:o.default.string,learningItems:o.default.arrayOf(n(81)),recentLibraryItems:o.default.arrayOf(n(146)),itemLink:o.default.string,noItemsText:o.default.string.isRequired,isSearching:o.default.bool,isSimple:o.default.bool,highlight:o.default.string,isLearner:o.default.bool,onRemoveItem:o.default.func,onAttachmentIconClick:o.default.func.isRequired,onViewAll:o.default.func,activeItemId:o.default.string,permissions:d.default.propTypes.permissions,showAllDetails:o.default.bool,showDescription:o.default.bool,shouldRenderProgramLink:o.default.bool,isProgram:o.default.bool,style:o.default.string},getDefaultProps:function(){return{learningItems:[],isLearner:!0,isSearching:!1,isSimple:!1,permissions:{},showAllDetails:!1,showDescription:!0,shouldRenderProgramLink:!0,style:Y.MY_LEARNING_STYLE_LIST}},render:function(){var e=this.props.learningItems;return this.props.isSearching?this.renderSearchView(e):this.props.isSimple?this.renderSimpleView(e):this.renderListView(e)},renderListView:function(e){var t=(0,v.default)(this.props.className,"learning-items-list");if(e=e.slice(),this.props.isLearner||(e=e.filter(function(e){return!f.default.isSurvey(e)})),(0,y.default)("private_libraries")){var n=this.props.recentLibraryItems;if(!(e&&0!==e.length||n&&0!==n.length))return u.default.createElement(E.default,{noResultsText:this.props.noItemsText});var r=f.default.takeActionItems(e),a=f.default.takeRequiredItems(e),s=f.default.takeCompletedOrPermanentlyFailedItems(e),i=f.default.takeOptionalItems(e);return u.default.createElement("div",{className:t,"data-capybara":"my_learning_courses_list"},r&&this.renderItems(r,I18n.t("Needs Your Attention"),"actionable","actionable",Y.MY_LEARNING_VIEWALL_ENUM.ACTIONABLE),a&&this.renderItems(a,I18n.t("Required"),"required","required",Y.MY_LEARNING_VIEWALL_ENUM.REQUIRED),i&&this.renderItems(i,I18n.t("Added by you"),"optional","optional",Y.MY_LEARNING_VIEWALL_ENUM.OPTIONAL),s&&this.renderItems(s,I18n.t("Completed"),"completed","completed",Y.MY_LEARNING_VIEWALL_ENUM.COMPLETED),(0,y.default)("learn_show_recent_library_items")&&n&&this.renderItems(n,I18n.t("Recently Added",{number:n.length}),"recent","recent",Y.MY_LEARNING_VIEWALL_ENUM.RECENT))}if(!e||0===e.length)return u.default.createElement(E.default,{noResultsText:this.props.noItemsText});var o=f.default.takeAlertItems(e),l=f.default.takeActionItems(e),c=f.default.takeOverdueItems(e),d=f.default.takeOptionalItems(e),p=f.default.takeCompletedOrPermanentlyFailedItems(e),m=e;return u.default.createElement("div",{className:t,"data-capybara":"my_learning_courses_list"},(0,y.default)("web_conference")&&this.renderAlertItems(o),this.renderActionItems(l),this.renderOverdueItems(c),this.renderNextItems(m),this.renderOptionalItems(d),this.renderCompletedItems(p))},onRemoveLibraryItem:function(e){this.props.onRemoveItem({id:e})},removeCard:function(e){this.props.onRemoveItem({id:e.learningItemId})},renderCards:function(e){var t=this;return e.map(function(e){if((0,y.default)("learn_new_cards")){var n=(0,G.default)(e),r="Start";switch(e.learnableType){case Y.LEARNING_ITEM_LIVE_COURSE_TYPE:r="Register Now",e.data.isRegistered&&!n.complete&&(r="Reschedule");break;default:e.completedAt?r="Review":n.progress>0&&(r="Resume")}var a=null,s=null;return n.required||n.complete||(a="Remove",s=t.removeCard),u.default.createElement(T.LearningCard,{grow:!0,key:e.id,size:"small",actionText:r,removeText:a,onRemove:s,onAction:t.handleLaunch,data:n})}var i=e.learnableType?(0,F.default)(e):e,o=e.learnableType&&f.default.canLearnerUnEnroll(e);return u.default.createElement(L.default,{key:i.id,libraryItem:i,showBackgroundImage:!1,onRemove:o?t.onRemoveLibraryItem:null})})},handleLaunch:function(e){switch(e.type){case"course":D.default.transitionTo("learner.course.launch",{courseId:e.learnableId});break;case"program":D.default.transitionTo("learner.program",{programId:e.learnableId});break;case"checkpoint":D.default.transitionTo("learner.checkpoint",{taskId:e.learnableId});break;case"ilt":D.default.transitionTo("learner.live_training_calendar",{},{liveCourseId:e.learnableId,date:(0,V.default)().format("YYYY-MM-DD")});break;case"survey":D.default.transitionTo("react.learner.survey",{distributionId:e.distributionId})}},renderListItems:function(e){var t=this;return e.map(function(e){var n=e,r=(0,j.cloneDeep)(t.props);return e.itemType&&(n=(0,B.default)(e),r=(0,j.omit)(t.props,["onRemoveItem"]),r.showAllDetails=!0),u.default.createElement(I.default,(0,s.default)({key:n.id,item:n,headerLevel:t.getHeaderLevel(n)},r))})},renderSearchView:function(e){return(0,y.default)("private_libraries")&&this.props.style===Y.MY_LEARNING_STYLE_GRID?this.renderGridSearchView(e):this.renderListSearchView(e)},renderListSearchView:function(e){var t=I18n.t("There are no items matching this filter.");return u.default.createElement(E.default,{slug:"search",noResultsText:t},this.renderListItems(e))},renderGridSearchView:function(e){if((0,y.default)("learn_new_cards")){var t=I18n.t("There are no matches for your search");return u.default.createElement("div",{className:"mylearning-content-area centered"},u.default.createElement(w.default,{noResultsText:t},this.renderCards(e)))}var n=e.map(F.default);return u.default.createElement("div",{className:"large-content-area centered"},u.default.createElement(O.default,{libraryItems:n,searchTerm:this.props.highlight,showBackgroundImage:z,noItemsFoundIn:I18n.t("There are no matches for *%{searchTerm}*.",{searchTerm:this.props.highlight,wrappers:['<span class="search-highlight">$1</span>']}),noItemsAddedIn:this.props.noItemsText}))},renderSimpleView:function(e){var t=this.props.isProgram&&e[0]&&e[0].learnableType!==Y.LEARNING_ITEM_PROGRAM_SECTION_TYPE;return u.default.createElement(E.default,{slug:"simple",noResultsText:this.props.noItemsText},t&&u.default.createElement(S.default,{className:"screenreader-only",learningItem:{},isProgram:!0}),this.renderListItems(e))},getCardHeight:function(){return(0,y.default)("learn_new_cards")?"30rem":"21.25rem"},renderLibraryItems:function(e,t){if(0===e.length)return null;var n=e.map(function(e){return u.default.createElement(L.default,{key:e.id,libraryItem:e,alwaysShowTags:!1,showBackgroundImage:z})}),r="learning-item-list-carousel large-content-area";return(0,y.default)("learn_new_cards")&&(r="learning-item-list-carousel mylearning-content-area"),u.default.createElement("div",{className:r,"data-capybara":t},u.default.createElement(A.default,{style:{height:this.getCardHeight()},header:t,onViewAll:this.props.onViewAll,viewAllValue:Y.MY_LEARNING_VIEWALL_ENUM.RECENT},n))},renderItems:function(e,t,n,r,a){if(0===e.length)return null;if(this.props.style===Y.MY_LEARNING_STYLE_LIST)return u.default.createElement(E.default,{header:t,slug:n,feature:r,collapseAfter:(0,y.default)("private_libraries")?5:null},this.renderListItems(e));if(this.props.style===Y.MY_LEARNING_STYLE_GRID){var s="learning-item-list-carousel large-content-area";(0,y.default)("learn_new_cards")&&(s="learning-item-list-carousel mylearning-content-area");var i=void 0;return i=t?t.replace(/ /g,"_")+"_group":"no_header_group",u.default.createElement("div",{className:s,"data-capybara":i},u.default.createElement(A.default,{style:{height:this.getCardHeight()},header:t,onViewAll:this.props.onViewAll,viewAllValue:a},this.renderCards(e)))}return null},renderAlertItems:function(e){return u.default.createElement(E.default,{slug:"alert",listClassName:"brand-bg"},this.renderListItems(e))},renderActionItems:function(e){var t=(0,y.default)("web_conference")?"web-conference":null;return u.default.createElement(E.default,{slug:"not-registered",feature:t},this.renderListItems(e))},renderOverdueItems:function(e){return u.default.createElement(E.default,{header:I18n.t("Overdue"),slug:"overdue"},this.renderListItems(e))},renderThisWeeksItems:function(e){return u.default.createElement(E.default,{header:I18n.t("Due This Week"),slug:"this-week",headerClassName:"brand-color brand-color--before"},this.renderListItems(e))},renderNextItems:function(e){return u.default.createElement(E.default,{header:I18n.t("Next Up"),slug:"next",headerClassName:"brand-color brand-color--before"},this.renderListItems(e))},renderOptionalItems:function(e){return u.default.createElement(E.default,{header:I18n.t("Added By You"),slug:"optional"},this.renderListItems(e))},renderCompletedItems:function(e){return u.default.createElement(E.default,{header:I18n.t("Completed"),slug:"completed"},this.renderListItems(e))},getHeaderLevel:function(e){return this.props.isProgram&&e.learnableType!==Y.LEARNING_ITEM_PROGRAM_SECTION_TYPE?"h3":"h2"}});e.exports=K},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(98),l=n(48),u=l.BLUE,c=l.PINK,d=i.createClass({displayName:"AxlRoseGradient",statics:{getFill:function(){return"url(#axl-rose)"}},render:function(){return i.createElement(o,(0,s.default)({id:"axl-rose",orientation:"topLeftToBottomRight",color1:u,color2:c},this.props))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(98),l=n(48),u=l.CYAN,c=l.PURPLE,d=i.createClass({displayName:"AxlRoseGradient",statics:{getFill:function(){return"url(#david-lee-roth)"}},render:function(){return i.createElement(o,(0,s.default)({id:"david-lee-roth",orientation:"topLeftToBottomRight",color1:c,color2:u},this.props))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(98),l=n(48),u=l.CYAN,c=l.ORANGE,d=i.createClass({displayName:"AxlRoseGradient",statics:{getFill:function(){return"url(#dee-snider)"}},render:function(){return i.createElement(o,(0,s.default)({id:"dee-snider",orientation:"topLeftToBottomRight",color1:c,color2:u},this.props))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(98),l=n(48),u=l.PINK,c=l.YELLOW,d=i.createClass({displayName:"AxlRoseGradient",statics:{getFill:function(){return"url(#nikki-sixx)"}},render:function(){return i.createElement(o,(0,s.default)({id:"nikki-sixx",orientation:"topLeftToBottomRight",color1:c,color2:u},this.props))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(98),l=n(48),u=l.CYAN,c=l.PURPLE,d=i.createClass({displayName:"AxlRoseGradient",statics:{getFill:function(){return"url(#reverse-roth)"}},render:function(){return i.createElement(o,(0,s.default)({id:"reverse-roth",orientation:"topLeftToBottomRight",color1:u,color2:c},this.props))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(77),o=r(i),l=n(3),u=s.default.createClass({displayName:"LocaleInputField",propTypes:{model:l.object.isRequired,field:l.string.isRequired,label:l.node,placeholder:l.string,locales:l.object.isRequired},getDefaultProps:function(){return{placeholder:""}},getLocaleOptions:function(){var e=this.props.locales;return"undefined"==typeof e?[]:Object.keys(e).map(function(t){return{label:e[t].locales[t],value:t}})},render:function(){var e=this.props,t=e.model,n=e.field,r=e.label,a=e.placeholder;return s.default.createElement(o.default,{model:t,field:n,label:r,placeholder:a,type:"select",options:this.getLocaleOptions()})}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(190),u=r(l),c=o.default.createClass({displayName:"LocationProvider",propTypes:{children:s.default.node.isRequired,location:s.default.shape({pathname:s.default.string,search:s.default.string}).isRequired},childContextTypes:{location:s.default.shape({pathname:s.default.string,search:s.default.string})},componentDidMount:function(){u.default._setLocation(this.props.location)},componentWillReceiveProps:function(e){e.location!==this.props.location&&u.default._setLocation(e.location)},componentWillUnmount:function(){u.default._restoreLocation(this.props.location)},getChildContext:function(){return{location:{pathname:this.props.location.pathname,search:this.props.location.search}}},render:function(){return o.default.Children.only(this.props.children)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(26),o=r(i),l=n(5),u=n(6),c=r(u),d=n(103),p=r(d),f=n(4),m=n(2),h=s.default.createClass({displayName:"LtiContentItemStatus",propTypes:{isComplete:m.bool,iconUrl:m.string,className:m.string,isLocked:m.bool},getDefaultProps:function(){return{isComplete:!1,isLocked:!1}},render:function(){var e=this.props.isComplete,t=e?null:this.props.iconUrl;return s.default.createElement("div",{className:this.statusClassName()},s.default.createElement("span",{className:"screenreader-only"},this.statusText()),s.default.createElement(p.default,{type:"circle",progress:e?1:0,renderIcon:!0,iconUrl:t,iconClasses:this.iconClassName(),className:this.progressCircleClassName(),isOverdue:!1}),this.hasStatusIcon()&&this.renderStatusIcon())},renderStatusIcon:function(){return s.default.createElement(l.Icon,{className:this.getStatusIconClass(),key:"icon"})},getStatus:function(){return{isLocked:this.props.isLocked}},getStatusIconClass:function(){var e=this.getStatus(),t=e.isLocked;return(0,c.default)("learning-item-status",{"gs-lock":t})},statusClassName:function(e){var t={"lti-content-item-status":!0,"course-status--completed":this.props.isComplete,"brand-color":this.useBrandColor()};return(0,c.default)(t,e,this.props.className)},progressCircleClassName:function(){return(0,c.default)({"course-status--completed":this.props.isComplete})},iconClassName:function(){var e=this.props,t=e.isComplete,n=e.iconUrl;return(0,c.default)("course-status__icon",{"gs-cube":!t&&!n,"gs-check":t,"course-status__icon--custom-image":!t&&!!n,"brand-color":this.useBrandColor(),"brand-border":t})},statusText:function(){return this.props.isComplete?o.default.t("Completed"):this.props.isLocked?o.default.t("Locked"):null},useBrandColor:function(){return!this.props.isLocked},hasStatusIcon:function(){return(0,f.some)(this.getStatus())}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.mimeType.match(/^audio/)}function a(e){return e&&e.mimeType.match(/^video/)}var s=n(1),i=n(23),o=n(3),l=o.array,u=o.string,c=o.shape,d=o.func,p=o.bool,f=o.number,m=n(481),h=m.MediaElementPlayer,g=n(648),v=g.getAttachmentDimensions,_=g.renderSources,y=n(114),b=s.createClass({displayName:"MediaAttachmentElement",propTypes:{thumbnailUrl:u,id:u,sources:l,parent:c({querySelector:d,offsetWidth:f}),isLearner:p},getDefaultProps:function(){return{sources:[],thumbnailUrl:"",id:"",isLearner:!1}},resize:function(){this.setState(v(i.findDOMNode(this)))},getInitialState:function(){return v(this.props.parent)},componentDidMount:function(){this.props.isLearner&&(window.addEventListener("resize",this.resize),this.usingResize=!0),a(this.props.sources[0])&&(this.mediaPlayer=h(i.findDOMNode(this).querySelector("video")))},componentWillUpdate:function(e){this.usingResize&&!e.isLearner?(window.removeEventListener("resize",this.resize),this.usingResize=!1):e.isLearner&&!this.usingResize&&(window.addEventListener("resize",this.resize),this.usingResize=!0)},componentDidUpdate:function(){this.mediaPlayer&&(this.mediaPlayer.setPlayerSize(this.state.width,this.state.height),i.findDOMNode(this).querySelector("video").setAttribute("style",""))},componentWillUnmount:function(){this.usingResize&&window.removeEventListener("resize",this.resize),this.mediaPlayer&&this.mediaPlayer.remove()},render:function(){var e=this.props.sources;return y.isChromeBook()&&e.length>1&&a(e[0])&&(e=e.filter(function(e){return"highest"!==e.definition})),s.createElement("div",{className:"media-attachment-element"},s.createElement("div",{className:"overlay"}),r(e[0])?s.createElement("audio",{className:"cce-media-audio","data-attachment-id":this.props.id,controls:"controls",preload:"none",children:_(e)}):s.createElement("video",{poster:this.props.thumbnailUrl,width:this.state.width,height:this.state.height,"data-attachment-id":this.props.id,controls:"controls",preload:"none",children:_(e),style:{width:this.state.width,height:this.state.height}}))}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(135),o=r(i),l=n(6),u=r(l),c=n(92),d=r(c),p=n(5),f=n(3),m="text/csv",h=s.default.createClass({displayName:"MediaUploaderCSV",propTypes:{centerHeader:f.string,note:f.string,action:f.func.isRequired,uploadType:(0,f.oneOf)(["import","deport"]).isRequired,contextual:f.bool},render:function(){var e="deport"===this.props.uploadType,t=!e,n=(0,u.default)({"media-uploader--csv__wrapper":!0,"border-blue":t,"border-pink":e}),r=(0,u.default)({"gs-csv-add":t,"gs-csv-remove":e,blue:t,pink:e,"gs-4x":!0}),a=(0,u.default)({blue:t,pink:e});return s.default.createElement(o.default,{ref:"mediaUploader",className:"media-uploader--csv",mimeType:m,allowedFileExtension:".csv",invalidFileMessage:I18n.t("That doesn't appear to be a CSV file."),onChange:this.props.action},s.default.createElement("div",{className:n},s.default.createElement("div",{className:"media-uploader--csv__prompt"},s.default.createElement(p.Icon,{className:r}),s.default.createElement("h2",{className:"media-uploader--csv__prompt__header"},this.props.centerHeader),s.default.createElement("p",{className:"small"},s.default.createElement(d.default,{acceptedFileTypes:m,label:I18n.t("or choose a file"),buttonClassName:a,onChange:this.acceptFromFilePicker}))),s.default.createElement("div",{className:"media-uploader--csv__note"},s.default.createElement("p",null,s.default.createElement("span",{className:"semi-bold"},I18n.t("Note:"))," ",this.props.note),t&&!this.props.contextual&&s.default.createElement("p",null,I18n.t("All new data will replace existing data")))))},acceptFromFilePicker:function(e){this.refs.mediaUploader.acceptFromFileList(e)}});e.exports=h},function(e,t,n){"use strict";var r=n(1),a=n(135),s=n(92),i=n(3),o=i.func,l=i.bool,u=i.string,c="application/zip",d=r.createClass({displayName:"MediaUploaderScorm",propTypes:{action:o.isRequired,multiple:l,mainMessage:u,filePickerMessage:u},getDefaultProps:function(){return{multiple:!1}},render:function(){var e=this.props,t=e.multiple,n=e.mainMessage,i=e.filePickerMessage;return r.createElement(a,{ref:"mediaUploader",className:"media-uploader--scorm",mimeType:c,allowedFileExtension:".zip",invalidFileMessage:I18n.t("That doesn't appear to be a SCORM package."),onChange:this.props.action,multiple:t},r.createElement("p",null,n||I18n.t("Replace this course by dropping a SCORM Zip file here")),r.createElement("p",{className:"small"},I18n.t("or"),r.createElement(s,{acceptedFileTypes:c,buttonClassName:"blue pointer",onChange:this.acceptFromFilePicker,multiple:t,label:i})))},acceptFromFilePicker:function(e){this.refs.mediaUploader.acceptFromFileList(e)}});e.exports=d},function(e,t,n){"use strict";function r(e){return m.classStates[e.id]||(m.classStates[e.id]=a(e)),m.classStates[e.id]}function a(e){function t(e){n(f({},u,e)),f(u,e)}function n(e){u.instances.length<e.instances.length&&u.instances.filter(function(e){return e.isMounted()}).forEach(function(e){return e.props.onClose()}),0===u.instances.length&&e.instances.length>0?r():u.instances.length>0&&0===e.instances.length&&a()}function r(){d(document.body).on("click.mutex_component__"+s,function(e){u.instances.forEach(function(t){l&&d(e.target).is(l)||t.isMounted()&&!d.contains(i.findDOMNode(t),e.target)&&t.props.onClose()})})}function a(){d(document.body).off("click.mutex_component__"+s)}var s=e.id,o=e.clickThroughSelector,l=void 0===o?null:o,u={instances:[]};return{update:t,getInstances:function(){return u.instances}}}var s=n(1),i=n(23),o=n(2),l=o.string,u=o.func,c=o.node,d=n(47),p=n(4),f=p.assign,m=s.createClass({displayName:"Mutex",statics:{classStates:{}},propTypes:{id:l.isRequired,onClose:u.isRequired,clickThroughSelector:l,children:c.isRequired},componentDidMount:function(){this.isMounted=function(){return!0};var e=r(this.props);e.update({instances:e.getInstances().concat(this)})},componentWillUnmount:function(){var e=this,t=r(this.props);t.update({instances:t.getInstances().filter(function(t){return t!==e})}),this.isMounted=function(){return!1}},render:function(){return this.props.children}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(903),s=n(879),i=n(3),o=i.oneOf,l=i.string,u=i.any,c=r.createClass({displayName:"Presence",propTypes:{contextType:o(["course","program"]).isRequired,contextId:l.isRequired,generateMessage:u.isRequired},componentDidMount:function(){this.startScheduler(),window.addEventListener("beforeunload",this.stopScheduler)},componentWillUnmount:function(){this.stopScheduler(),window.removeEventListener("beforeunload",this.stopScheduler)},componentWillReceiveProps:function(e){e.contextType===this.props.contextType&&e.contextId===this.props.contextId||this.stopScheduler()},componentDidUpdate:function(e){e.contextType===this.props.contextType&&e.contextId===this.props.contextId||this.startScheduler()},startScheduler:function(){s.startScheduler(this.props.contextType,this.props.contextId),s.addChangeListener(this.reload)},stopScheduler:function(){s.stopScheduler(this.props.contextType,this.props.contextId),s.removeChangeListener(this.reload)},reload:function(){this.forceUpdate()},render:function(){if("course"===this.props.contextType)return null;var e=s.getPresentUsers(this.props.contextType,this.props.contextId);return e&&0!==e.length?this.renderStickyToast(e):null},renderStickyToast:function(e){return r.createElement("div",{className:"toaster toaster--presence"},r.createElement("p",null,this.props.generateMessage(a(e),e.length)),r.createElement("p",null,I18n.t("If you make changes at the same time, someone's work is going to be lost!")))}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(4),d=u.default.createClass({displayName:"ScaledFontSize",propTypes:{children:o.default.node.isRequired,size:o.default.number.isRequired,style:o.default.object},getInitialState:function(){return{size:0}},componentDidMount:function(){this.handleResize=(0,c.debounce)(this.resize,100),window.addEventListener("resize",this.handleResize),this.resize()},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize)},resize:function(){this.setState({fontSize:this.node.offsetWidth*this.props.size})},setNode:function(e){this.node=e},render:function(){var e=Object.assign({},this.props.style,{fontSize:this.state.fontSize+"px"});return u.default.createElement("div",(0,s.default)({ref:this.setNode},this.props,{style:e}))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(24),g=r(h),v=n(6),_=r(v),y=n(11),b=r(y),E=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderSession=function(e,t){var n=(0,_.default)("session-part-list__session",{"session-part-list__session--selected":e.id===t}),a=function(n){e.id===t&&(r.activeSession=n)};return f.default.createElement("li",{key:e.id,className:n,ref:a},f.default.createElement("div",{className:"session-part-list__session__circle"}),r.renderSessionTime(e))},r.renderSessionTime=function(e){var t=r.formatTime(e.startAt,e.timezone),n=r.formatTime(e.endAt,e.timezone),a=t.calendar(null,{sameElse:"lll"}),s=n.format("LT"),i=e.timezone?"("+b.default.tz(e.timezone).format("z")+")":null;return t.isValid()?n.isValid()?f.default.createElement(g.default,null,f.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{start_date_time} to %{end_time} %{timezone}",{start_date_time:"%{start_date_time}",end_time:"%{end_time}",timezone:"%{timezone}"}),start_date_time:a,end_time:s,timezone:i},"$1")):f.default.createElement("span",null,a," ",i):null},r.formatTime=function(e,t){return t?b.default.tz(e,t):(0,b.default)(e)},r.getSelectedId=function(){var e=r.props,t=e.selectedId,n=e.sessions;if(n.findIndex(function(e){return e.id===t})!==-1)return t;var a=n.find(function(e){return(0,b.default)(e.startAt).isSameOrAfter(new Date,"minute")});return a?a.id:-1},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.activeSession&&this.activeSession.offsetParent;if(e){var t=e.parentNode,n=t&&t.scrollHeight>t.clientHeight;n&&(t.scrollTop=this.activeSession.offsetTop)}}},{key:"render",value:function(){var e=this,t=this.props.sessions,n=this.getSelectedId();return f.default.createElement("div",{className:"session-part-list"},f.default.createElement("div",{className:"session-part-list__line"}),f.default.createElement("div",null,f.default.createElement("ul",{className:"session-part-list__sessions"},t.map(function(t){return e.renderSession(t,n)}))))}}]),t}(f.default.PureComponent);E.propTypes={sessions:(0,m.arrayOf)(n(80)).isRequired,selectedId:m.string},t.default=E,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(909),s=n(3),i=s.any,o=n(6),l=!1,u=r.createClass({displayName:"StickyContainer",propTypes:{children:i},getInitialState:function(){return{isPinned:!1,originalPosition:0}},componentWillMount:function(){window.addEventListener("scroll",this.scrollFunction)},componentDidMount:function(){var e=this.refs.wrapper.getBoundingClientRect();this.setState({originalPosition:e.top})},componentWillUnmount:function(){window.removeEventListener("scroll",this.scrollFunction)},pin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.state,n=t.originalPosition,r=t.isPinned;n<=0&&this.setState({originalPosition:e+n}),e>n&&!r?(this.refs.placeholder.style.height=this.refs.wrapper.getBoundingClientRect().height+"px",
this.setState({isPinned:!0})):e<n&&r&&(this.refs.placeholder.style.height="",this.setState({isPinned:!1})),l=!1},scrollFunction:function(){var e=window.scrollY||window.pageYOffset;l||(l=!0,a(this.pin.bind(this,e)))},render:function(){var e=o({"sticky-wrapper":!0,"sticky-wrapper--fixed":this.state.isPinned});return r.createElement("div",{className:"sticky-wrapper__placeholder",ref:"placeholder"},r.createElement("div",{className:e,ref:"wrapper"},this.props.children))}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(24),s=r.createClass({displayName:"DomesticBody",render:function(){return r.createElement("div",null,r.createElement("div",null,r.createElement(a,null,I18n.t("Agreement between You and Instructure"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,I18n.t("Last Updated Date: September 6th, 2016"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("PLEASE READ THIS TERMS OF USE AGREEMENT (THE *TERMS*) CAREFULLY. BY ACCESSING OR USING THIS WEBSITE OR ANY OTHER WEBSITES OF INSTRUCTURE, INC. (**INSTRUCTURE**) WITH LINKS TO THIS AGREEMENT (COLLECTIVELY, THE ***WEBSITE***) IN ANY WAY, INCLUDING USING THE SERVICES ENABLED VIA THE WEBSITE (THE ****SERVICES****) BY INSTRUCTURE OR USERS OF THE SITE (*****USERS*****), CLICKING THE I ACCEPT CHECK BOX, OR MERELY BROWSING THE WEBSITE, YOU REPRESENT THAT YOU HAVE READ, UNDERSTAND, AND AGREE TO BE BOUND BY THE TERMS. ******IF YOU DO NOT AGREE TO BE BOUND BY THE TERMS, YOU MAY NOT ACCESS OR USE THIS WEBSITE OR THE SERVICES.******"),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1"),"***":r.createElement("strong",null,"$1"),"****":r.createElement("strong",null,"$1"),"*****":r.createElement("strong",null,"$1"),"******":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The Services include, but are not limited to, a learning management system that entities (*Entities*) may subscribe to and provide to their instructors and learners (**Instructors** and ***Learners***) in connection with courses (each, a ****Course****). Instructure provides an account that enables a designated User to manage the Services, manage Learner and Instructor access to the Services, and provide general support on behalf of an Entity. *****User***** means any user of the Services, including Learners, and Instructors."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1"),"***":r.createElement("strong",null,"$1"),"****":r.createElement("strong",null,"$1"),"*****":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,I18n.t("PLEASE NOTE THAT THE TERMS ARE SUBJECT TO CHANGE BY INSTRUCTURE IN ITS SOLE DISCRETION AT ANY TIME. When changes are made, Instructure will make a new copy of the Terms available at the Website. We will also update the Last Updated date at the top of the Terms. If we make any material changes, and you have registered to use the Services, we will also send an e-mail to you at the last e-mail address you provided to us. Any changes to the Terms will be effective immediately for new Users of the Website or Services and will be effective thirty (30) days after posting of notice of such changes on the Website for existing User. Instructure may require you to provide consent to the updated Terms in a specified manner before further use of the Website or the Services is permitted. If you do not agree to any change(s) after receiving a notice of such change(s), you shall stop using the Website and/or the Services. Otherwise, your continued use of the Website and/or the Services constitutes your acceptance of such change(s). PLEASE REGULARLY CHECK THE WEBSITE TO VIEW THE THEN-CURRENT TERMS."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("1. Use of the Services and Instructure Properties.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The Website, the Services, and the information and content made available (*Content*) by Instructure on the Website and in the Services (collectively, the **Instructure Properties**) are protected by copyright laws throughout the world. Subject to the Terms, Instructure grants you a limited license to reproduce portions of the Instructure Properties for the sole purpose of using the Services for your personal purposes or, in the event you are an Instructor, your educational purposes."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("1.1 Application License.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("Instructure also provides a mobile application (the *Application*) for use with the Services. Your use of the Application is governed by the End User License Agreement that accompanies the Application in the marketplace where you download it."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("1.2 Certain Restrictions.")))," ",r.createElement(a,null,I18n.t("The rights granted to you in the Terms are subject to the following restrictions: (a) you shall not license, sell, rent, lease, transfer, assign, reproduce, distribute, host or otherwise commercially exploit the Instructure Properties, (b) you shall not use framing techniques to enclose any trademark, logo, or other Instructure Properties; (c) you shall not use any metatags or other hidden text using Instructures name or trademarks; (d) you shall not modify, translate, adapt, merge, make derivative works of, disassemble, decompile, reverse compile or reverse engineer any part of the Instructure Properties except to the extent the foregoing restrictions are expressly prohibited by applicable law; (e) you shall not use any manual or automated software, devices, or other processes (including but not limited to spiders, robots, scrapers, crawlers, avatars, data mining tools, or the like) to scrape or download data from any web pages contained in the Website; (f) except as expressly stated herein, no part of the Instructure Properties may be copied, reproduced, distributed, republished, downloaded, displayed, posted or transmitted in any form or by any means; and (g) you shall not remove or destroy any copyright notices or other proprietary markings contained on or in the Instructure Properties. Any future release, update or other addition to the Instructure Properties shall be subject to the Terms. Instructure, its suppliers and service providers reserve all rights not granted in the Terms. Any unauthorized use of the Instructure Properties terminates the licenses granted by Instructure pursuant to the Terms."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("2. Registration.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("In order to access certain features of the Instructure Properties you must create an account (*Account*) by providing necessary information when registering (**Registration Data**) and accept the Terms."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("2.1 Registration Data.")))," ",r.createElement(a,null,I18n.t("In registering for the Services, you agree to (1) provide true, current, and complete Registration Data; and (2) maintain and promptly update the Registration Data to keep it true, current, and complete. You are responsible for all activities that occur under your Account. You may not share your Account or password with anyone, and you agree to notify Instructure immediately of any unauthorized use of your password or any other breach of security. You agree not to create or access an Account using a false identity or information, or on behalf of someone other than yourself. You agree that you shall not have more than one Account at any given time. You agree not to create an Account or use the Instructure Properties if you have been previously removed by Instructure, or if you have been previously banned from any of the Instructure Properties."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("2.2 Necessary Equipment and Software.")))," ",r.createElement(a,null,I18n.t("You must provide all equipment and software necessary to connect to the Instructure Properties, including but not limited to, a mobile device that is suitable to connect with and use the Application. You are solely responsible for any fees, including Internet connection or mobile fees, that you incur when accessing the Instructure Properties."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("3. Responsibility for Content.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("3.1 Types of Content.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("You acknowledge that all Content, including the Instructure Properties, is the sole responsibility of the party from whom such Content originated. This means that you, and not Instructure, are entirely responsible for all Content that you upload, post, e-mail, transmit or otherwise make available (*Make Available*) through the Instructure Properties (**Your Content**). Other Users of the Instructure Properties, and not Instructure, are similarly responsible for all Content such other Users Make Available through the Instructure Properties (***User Content***)."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1"),"***":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("3.2 No Obligation to Pre-Screen Content.")))," ",r.createElement(a,null,I18n.t("You acknowledge that Instructure has no obligation to pre-screen Content (including, but not limited to, Your Content and User Content), although Instructure reserves the right in its sole discretion to pre-screen, refuse, or remove any Content that (1) violates any law or regulation, (2) violates these Terms, including the User Code of Conduct set forth in Section 5.4 hereof, and/or (3) otherwise creates liability for Instructure."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4. Ownership.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.1 Instructure Properties.")))," ",r.createElement(a,null,I18n.t("Except with respect to Your Content and User Content, you agree that Instructure and its suppliers own all rights, title and interest in the Instructure Properties. Instructures name and other related graphics, logos, service marks and trade names used on or in connection with the Instructure Properties are the trademarks of Instructure and may not be used without permission in connection with any third-party products or services. Other trademarks, service marks and trade names that may appear on or in the Instructure Properties are the property of their respective owners."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.2 Your Content.")))," ",r.createElement(a,null,I18n.t("Your Content shall at all times remain your sole property and you agree that you have no right, title or interest in or to any other Content that appears on or in the Instructure Properties. You represent that you have all necessary right, power and authority to post Your Content to the Instructure Properties. You agree to allow Instructure and its applicable contractors to freely host, reproduce, transmit, modify, display and otherwise use Your Content (in whole or in part) as reasonably necessary to provide the Services in accordance with Instructures agreement with your Entity."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.3 Your Account.")))," ",r.createElement(a,null,I18n.t("Notwithstanding anything contained herein to the contrary, by submitting Your Content to any forums, comments or any other area on or in the Instructure Properties, you hereby expressly permit Instructure to identify you by your username as the contributor of Your Content in any publication in any form, media, or technology now known or later developed in connection with Your Content."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.4 User Code of Conduct.")))," ",r.createElement(a,null,I18n.t("As a condition of use, you agree not to use the Instructure Properties for any purpose that is prohibited by the Terms or by applicable law. Do not post, or permit others to post, content on the Instructure Properties or on your profile that (i) encourages illegal activities, is fraudulent, or is unlawful; (ii) insults, defames, harasses, or threatens others; (iii) violates the copyright or intellectual property or privacy rights of others; (iv) contains obscene, vulgar, pornographic, or libelous material; (v) harms or impersonates others, including other Users; or (vi) advertises or sells a product or service. Do not reproduce content from your Course or other Learners unless allowed by the express copyright terms laid out by the Instructor (e.g. Creative Commons). Do not share the solutions to assignments with others unless this is expressly authorized by the Instructor. Do not submit the work of others as your own work. Respect the privacy of other Users. Respect the diversity of opinions and cultures that will be presented by other Users. Do not attempt or engage in, any potentially harmful acts that are directed against the Instructure Properties, including but not limited to violating or attempting to violate any security features of the Instructure Properties, introducing viruses, worms, or similar harmful code into the Instructure Properties, or interfering or attempting to interfere with use of the Instructure Properties by any other user, host or network, including by means of overloading, flooding, spamming, mail bombing, or crashing the Instructure Properties. If you believe that someone has violated this code of conduct, begin by notifying the Instructor of the Course."))," ",r.createElement(a,null,I18n.t("If the issue is not addressed by the Instructor to your satisfaction, contact"))," ",r.createElement("a",{href:"mailto:bridgeconduct@instructure.com",target:"_blank"},"bridgeconduct@instructure.com")," ",r.createElement(a,null,I18n.t("with your concerns."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.5 Feedback.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("You agree that submission of any ideas, suggestions, documents, and/or proposals to Instructure through its suggestion, feedback, wiki, forum or similar pages (*Feedback*) is at your own risk and that Instructure has no obligations (including without limitation obligations of confidentiality) with respect to such Feedback. You represent and warrant that you have all rights necessary to submit the Feedback. You hereby grant to Instructure a fully paid, royalty-free, perpetual, irrevocable, worldwide, non-exclusive, and fully sublicensable right and license to use, reproduce, perform, display, distribute, adapt, modify, re-format, create derivative works of, and otherwise commercially or non-commercially exploit in any manner, any and all Feedback, and to sublicense the foregoing rights, in connection with the operation and maintenance of the Instructure Properties."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("5. Investigations.")))," ",r.createElement(a,null,I18n.t("Instructure may, but is not obligated to, monitor or review the Instructure Properties and Content at any time. Without limiting the foregoing, Instructure shall have the right, in its sole discretion, to remove any of Your Content for any reason (or no reason), including if such Content violates the Terms or any applicable law. Although Instructure does not generally monitor user activity occurring in connection with the Instructure Properties, if Instructure becomes aware of any possible violations by you of any provision of the Terms, Instructure reserves the right to investigate such violations, and Instructure may, at its sole discretion, terminate your license to use the Instructure Properties, or change, alter or remove Your Content, in whole or in part."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("6. Interactions with Other Users.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("6.1 User Responsibility.")))," ",r.createElement(a,null,I18n.t("You are solely responsible for your interactions with other Users of the Services and any other parties with whom you interact through the Services; provided, however, that Instructure reserves the right, but has no obligation, to intercede in disputes among Users. You agree that Instructure will not be responsible for any liabilities incurred as the result of such interaction."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("6.2 Content Provided by Other Users.")))," ",r.createElement(a,null,I18n.t("The Instructure Properties may contain User Content provided by other Users. Instructure is not responsible for and does not control User Content. Instructure has no obligation to review or monitor, and does not approve, endorse or make any representations or warranties with respect to User Content. You use all User Content and interact with other Users at your own risk."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("7. Third-Party Websites.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("7.1 Third-Party Websites.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The Instructure Properties may contain links to third-party websites (*Third-Party Websites*). When you click on a link to a Third-Party Website, we will not warn you that you have left the Instructure Properties and are subject to separate terms and conditions or privacy policies. Such Third-Party Websites are not under the control of Instructure. Instructure is not responsible for any Third-Party Websites and does not review, approve, monitor, endorse, warrant, or make any representations with respect to Third-Party Websites, or their products or services. You use all links in Third-Party Websites at your own risk. You should review applicable terms and policies, including privacy and data gathering practices, of any Third-Party Websites, and should make whatever investigation you feel necessary or appropriate before proceeding with any transaction with any third-party."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("7.2 App Stores.")))," ",r.createElement(a,null,I18n.t("You acknowledge and agree that the availability of the Application and the Services is dependent on the third-party from which you received the Application, e.g., the Apple or Android app stores."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("8. Indemnification.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("You agree to indemnify, defend, and hold Instructure, its parents, subsidiaries, affiliates, officers, employees, agents, partners and licensors (collectively the *Instructure Parties*) harmless from any losses, costs, liabilities and expenses (including reasonable attorneys fees) relating to or arising out of: (a) Your Content; (b) your use of, or inability to use, the Instructure Properties; (c) your violation of the Terms; (d) your violation of any rights of another party, including any User; or (e) your violation of any applicable laws, rules or regulations. Instructure reserves the right, at its own cost, to assume the exclusive defense and control of any matter otherwise subject to indemnification by you, in which event you will fully cooperate with Instructure in asserting any available defenses. You agree that the provisions in this section will survive any termination of your Account, the Terms, or your access to the Instructure Properties."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("9. Disclaimer of Warranties.")))," ",r.createElement(a,null,I18n.t("YOU EXPRESSLY UNDERSTAND AND AGREE THAT TO THE EXTENT PERMITTED BY APPLICABLE LAW, YOUR USE OF THE INSTRUCTURE PROPERTIES IS AT YOUR SOLE RISK, AND THE INSTRUCTURE PROPERTIES ARE PROVIDED ON AN AS IS AND AS AVAILABLE BASIS, WITH ALL FAULTS. INSTRUCTURE PARTIES EXPRESSLY DISCLAIM ALL WARRANTIES, REPRESENTATIONS, AND CONDITIONS OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OR CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. INSTRUCTURE PARTIES MAKE NO WARRANTY, REPRESENTATION OR CONDITION THAT: (1) THE INSTRUCTURE PROPERTIES WILL MEET YOUR REQUIREMENTS; (2) YOUR USE OF THE INSTRUCTURE PROPERTIES WILL BE UNINTERRUPTED, TIMELY, SECURE OR ERROR-FREE; (3) THE RESULTS THAT MAY BE OBTAINED FROM USE OF THE INSTRUCTURE PROPERTIES WILL BE ACCURATE OR RELIABLE; OR (4) ANY ERRORS IN THE INSTRUCTURE PROPERTIES WILL BE CORRECTED. ANY CONTENT DOWNLOADED FROM OR OTHERWISE ACCESSED THROUGH THE INSTRUCTURE PROPERTIES IS ACCESSED AT YOUR OWN RISK, AND YOU SHALL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR PROPERTY OR PERSON, INCLUDING, BUT NOT LIMITED TO, YOUR COMPUTER SYSTEM AND ANY DEVICE YOU USE TO ACCESS THE INSTRUCTURE PROPERTIES, OR ANY OTHER LOSS THAT RESULTS FROM ACCESSING SUCH CONTENT. THE SERVICES MAY BE SUBJECT TO DELAYS, CANCELLATIONS AND OTHER DISRUPTIONS. INSTRUCTURE MAKES NO WARRANTY, REPRESENTATION OR CONDITION WITH RESPECT TO THE SERVICES, INCLUDING BUT NOT LIMITED TO, THE QUALITY, EFFECTIVENESS, REPUTATION AND OTHER CHARACTERISTICS OF THE SERVICES. NO ADVICE OR INFORMATION, WHETHER ORAL OR WRITTEN, OBTAINED FROM INSTRUCTURE OR THROUGH THE INSTRUCTURE PROPERTIES WILL CREATE ANY WARRANTY NOT EXPRESSLY MADE HEREIN."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10. Limitation of Liability.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.1 Disclaimer of Certain Damages.")))," ",r.createElement(a,null,I18n.t("YOU UNDERSTAND AND AGREE THAT IN NO EVENT SHALL INSTRUCTURE PARTIES BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES ARISING OUT OF OR IN CONNECTION WITH THE INSTRUCTURE PROPERTIES, INCLUDING, WITHOUT LIMITATION, ANY DAMAGES RESULTING FROM LOSS OF USE, DATA, OR PROFITS, WHETHER OR NOT INSTRUCTURE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, OR FOR ANY DAMAGES FOR PERSONAL OR BODILY INJURY OR EMOTIONAL DISTRESS ARISING OUT OF OR IN CONNECTION WITH THE TERMS, OR FROM ANY COMMUNICATIONS, INTERACTIONS OR MEETINGS WITH OTHER USERS OF THE INSTRUCTURE PROPERTIES, ON ANY THEORY OF LIABILITY, RESULTING FROM: (1) THE USE OR INABILITY TO USE THE INSTRUCTURE PROPERTIES; (2) THE COST OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES RESULTING FROM ANY GOODS, DATA, INFORMATION OR SERVICES PURCHASED OR OBTAINED OR MESSAGES RECEIVED FOR TRANSACTIONS ENTERED INTO THROUGH THE INSTRUCTURE PROPERTIES; (3) UNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR TRANSMISSIONS OR DATA; (4) STATEMENTS OR CONDUCT OF ANY THIRD-PARTY ON INSTRUCTURE PROPERTIES; OR (5) ANY OTHER MATTER RELATED TO THE INSTRUCTURE PROPERTIES, WHETHER BASED ON WARRANTY, COPYRIGHT, CONTRACT, TORT (INCLUDING NEGLIGENCE), PRODUCT LIABILITY OR ANY OTHER LEGAL THEORY."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.2 Cap on Liability.")))," ",r.createElement(a,null,I18n.t("UNDER NO CIRCUMSTANCES WILL INSTRUCTURE PARTIES BE LIABLE TO YOU FOR MORE THAN THE ANY AMOUNTS RECEIVED BY INSTRUCTURE AS A RESULT OF YOUR USE OF THE INSTRUCTURE PROPERTIES IN THE 12 MONTHS PRECEDING YOUR CLAIM. IF YOU HAVE NOT PAID INSTRUCTURE ANY AMOUNTS IN THE 12 MONTHS PRECEDING YOUR CLAIM, INSTRUCTURES SOLE AND EXCLUSIVE LIABILITY SHALL BE FIFTY DOLLARS ($50)."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.3 User Content.")))," ",r.createElement(a,null,I18n.t("INSTRUCTURE PARTIES ASSUME NO RESPONSIBILITY FOR THE TIMELINESS, DELETION, MIS-DELIVERY OR FAILURE TO STORE ANY CONTENT (INCLUDING, BUT NOT LIMITED TO, YOUR CONTENT AND USER CONTENT), USER COMMUNICATIONS OR PERSONALIZATION SETTINGS."))),r.createElement("div",{className:"PRbody"}," ",r.createElement("strong",null,r.createElement(a,null,I18n.t("10.4 No Liability for Conduct of Third Parties or Other Users."))),r.createElement(a,null,I18n.t("YOU ACKNOWLEDGE AND AGREE THAT INSTRUCTURE PARTIES ARE NOT LIABLE, AND YOU AGREE NOT TO SEEK TO HOLD INSTRUCTURE PARTIES LIABLE, FOR THE CONDUCT OF THIRD PARTIES, INCLUDING OPERATORS OF EXTERNAL SITES, AND THAT THE RISK OF INJURY FROM SUCH THIRD PARTIES RESTS ENTIRELY WITH YOU. YOU ARE SOLELY RESPONSIBLE FOR ALL OF YOUR COMMUNICATIONS AND INTERACTIONS WITH OTHER USERS OF THE INSTRUCTURE PROPERTIES. YOU UNDERSTAND THAT INSTRUCTURE DOES NOT MAKE ANY ATTEMPT TO VERIFY THE STATEMENTS OF USERS OF THE INSTRUCTURE PROPERTIES."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.5 Basis of the Bargain.")))," ",r.createElement(a,null,I18n.t("THE LIMITATIONS OF DAMAGES SET FORTH ABOVE ARE FUNDAMENTAL ELEMENTS OF THE BASIS OF THE BARGAIN BETWEEN INSTRUCTURE AND YOU."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("11. Procedure for Making Claims of Copyright Infringement.")))," ",r.createElement(a,null,I18n.t("It is Instructures policy to terminate membership privileges of any User who repeatedly infringes copyright upon prompt notification to Instructure by the copyright owner or the copyright owners legal agent. Without limiting the foregoing, if you believe that your work has been copied and posted on the Instructure Properties in a way that constitutes copyright infringement, please provide our Copyright Agent with the following information: (1) an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright interest; (2) a description of the copyrighted work that you claim has been infringed; (3) a description of the location on the Instructure Properties of the material that you claim is infringing; (4) your address, telephone number and e-mail address; (5) a written statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent or the law; (6) a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owners behalf."))," ",r.createElement(a,null,I18n.t("Contact information for Instructures Copyright Agent for notice of claims of copyright infringement is as follows:"))," ","Howard Baik; 6330 South 3000 East, Suite 700, Salt Lake City, UT 84121; ",r.createElement("a",{href:"mailto:legal@instructure.com",target:"_blank"},"legal@instructure.com"),"."),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("12. Term and Termination.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("12.1 Term.")))," ",r.createElement(a,null,I18n.t("The Terms commence on the date when you accept them (as described in the preamble above) and remain in full force and effect while you use the Instructure Properties, unless terminated earlier in accordance with the Terms."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("12.2 Termination of Services by Instructure.")))," ",r.createElement(a,null,I18n.t("If you have breached any provision of the Terms, or if Instructure is required to do so by law (e.g., where the provision of the Website, the Application, or the Services is, or becomes, unlawful), Instructure has the right to suspend or terminate any Services provided to you or to delete any of Your Content. You agree that all terminations for cause shall be made in Instructures sole discretion and that Instructure shall not be liable to you or any third-party for any termination of your Account. Termination of any Service includes removal of access to such Service and barring of further use of the Service. Termination of all Services also may include deletion of your password and all related information, files and Content associated with or inside your Account (or any part thereof), including Your Content. Upon termination of any Service, your right to use such Service will automatically terminate immediately. Instructure will not have any liability whatsoever to you for any suspension or termination, including for deletion of Your Content. All provisions of the Terms which by their nature should survive, shall survive termination of Services, including without limitation, ownership provisions, warranty disclaimers, and limitation of liability."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13. General Provisions.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.1 Electronic Communications.")))," ",r.createElement(a,null,I18n.t("The communications between you and Instructure use electronic means, whether you visit the Instructure Properties or send Instructure e-mails, or whether Instructure posts notices on the Instructure Properties or communicates with you via e-mail. For contractual purposes, you (1) consent to receive communications from Instructure in an electronic form; and (2) agree that all terms and conditions, agreements, notices, disclosures, and other communications that Instructure provides to you electronically satisfy any legal requirement that such communications would satisfy if it were to be in writing. The foregoing does not affect any statutory rights you may have."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.2 Release.")))," ",r.createElement(a,null,I18n.t("You hereby release Instructure Parties and their successors from claims, demands, any and all losses, damages, rights, and actions of any kind, including personal injuries, death, and property damage, that is either directly or indirectly related to or arises from any interactions with or conduct of other Website Users or third-party websites of any kind arising in connection with or as a result of the Terms or your use of the Instructure Properties. If you are a California resident, you hereby waive California Civil Code Section 1542, which states, A general release does not extend to claims which the creditor does not know or suspect to exist in his favor at the time of executing the release, which, if known by him must have materially affected his settlement with the debtor."))),r.createElement("div",{
className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.3 Assignment.")))," ",r.createElement(a,null,I18n.t("The Terms, and your rights and obligations hereunder, may not be assigned, subcontracted, delegated, or otherwise transferred by you without Instructures prior written consent, and any attempted assignment, subcontract, delegation, or transfer in violation of the foregoing will be null and void. Instructure may assign its rights and obligations under these Terms to a third party without your consent."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.4 Force Majeure.")))," ",r.createElement(a,null,I18n.t("Instructure shall not be liable for any delay or failure to perform resulting from causes outside its reasonable control, including, but not limited to, acts of God, war, terrorism, riots, embargos, acts of civil or military authorities, fire, floods, accidents, strikes or shortages of transportation facilities, fuel, energy, labor or materials."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.5 Compliance.")))," ",r.createElement(a,null,I18n.t("If you believe that Instructure has not adhered to the Terms, please contact Instructure by emailing us at"))," ",r.createElement("a",{href:"mailto:legal@instructure.com",target:"_blank"},"legal@instructure.com"),"."," ",r.createElement(a,null,I18n.t("We will do our best to address your concerns. If you feel that your complaint has been addressed incompletely, we invite you to let us know for further investigation."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.6 Governing Law; Jurisdiction.")))," ",r.createElement(a,null,I18n.t("Unless otherwise required by applicable law, the Terms and any action related thereto will be governed and interpreted by and under the laws of the State of Utah, without giving effect to any conflicts of law principles that provide for the application of the law of another jurisdiction. The United Nations Convention on Contracts for the International Sale of Goods does not apply to the Terms. Any claim, dispute, or action arising, directly or indirectly, to the Terms shall be litigated in the state or federal courts located in Salt Lake County, Utah and the parties hereto agree to submit to the personal jurisdiction of such courts."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.7 Notice.")))," ",r.createElement(a,null,I18n.t("Where Instructure requires that you provide an e-mail address to access certain features of the Instructure Properties, you are responsible for providing Instructure with your most current e-mail address. In the event that the last e-mail address you provided to Instructure is not valid, or for any reason is not capable of delivering to you any notices required/ permitted by the Terms, Instructures dispatch of the e-mail containing such notice will nonetheless constitute effective notice."))," ",r.createElement(a,null,I18n.t("You may give notice to Instructure at the following address:"))," ","Attn: Legal Department, 6330 South 3000 East, Suite 700, Salt Lake City, UT 84121."," ",r.createElement(a,null,I18n.t("Such notice shall be deemed given when received by Instructure by letter delivered by nationally recognized overnight delivery service or first class postage prepaid mail at the above address."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.8 Waiver.")))," ",r.createElement(a,null,I18n.t("Any waiver or failure by Instructure to enforce any provision of the Terms on one occasion will not be deemed a waiver of any other provision or of such provision on any other occasion."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.9 Severability.")))," ",r.createElement(a,null,I18n.t("If any provision of the Terms is, for any reason, held to be invalid or unenforceable, the other provisions of the Terms will remain enforceable, and the invalid or unenforceable provision will be deemed modified so that it is valid and enforceable to the maximum extent permitted by law."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.10 Entire Agreement.")))," ",r.createElement(a,null,I18n.t("The Terms are the final, complete and exclusive agreement of the parties with respect to the subject matter hereof and supersedes and merges all prior discussions between the parties with respect to such subject matter."))))}});e.exports=s},function(e,t,n){"use strict";var r=n(1),a=n(24),s=r.createClass({displayName:"InternationalBody",render:function(){return r.createElement("div",null,r.createElement("div",null,r.createElement(a,null,I18n.t("International Agreement between You and Instructure"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,I18n.t("Last Updated Date: September 6th, 2016"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("PLEASE READ THIS TERMS OF USE AGREEMENT (THE *TERMS*) CAREFULLY. BY ACCESSING OR USING THIS WEBSITE OR ANY OTHER WEBSITES OF INSTRUCTURE, INC. (**INSTRUCTURE**) WITH LINKS TO THIS AGREEMENT (COLLECTIVELY, THE ***WEBSITE***) IN ANY WAY, INCLUDING USING THE SERVICES ENABLED VIA THE WEBSITE (THE ****SERVICES****) BY INSTRUCTURE OR USERS OF THE SITE (*****USERS*****), CLICKING THE I ACCEPT CHECK BOX, OR MERELY BROWSING THE WEBSITE, YOU REPRESENT THAT YOU HAVE READ, UNDERSTAND, AND AGREE TO BE BOUND BY THE TERMS. ******IF YOU DO NOT AGREE TO BE BOUND BY THE TERMS, YOU MAY NOT ACCESS OR USE THIS WEBSITE OR THE SERVICES.******"),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1"),"***":r.createElement("strong",null,"$1"),"****":r.createElement("strong",null,"$1"),"*****":r.createElement("strong",null,"$1"),"******":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The Services include, but are not limited to, a learning management system that entities (*Entities*) may subscribe to and provide to their instructors and learners (**Instructors** and ***Learners***) in connection with courses (each, a ****Course****). Instructure provides an account that enables a designated User to manage the Services, manage Learner and Instructor access to the Services, and provide general support on behalf of an Entity. *****User***** means any user of the Services, including Learners, and Instructors."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1"),"***":r.createElement("strong",null,"$1"),"****":r.createElement("strong",null,"$1"),"*****":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement(a,null,I18n.t("PLEASE NOTE THAT THE TERMS ARE SUBJECT TO CHANGE BY INSTRUCTURE IN ITS SOLE DISCRETION AT ANY TIME. When changes are made, Instructure will make a new copy of the Terms available at the Website. We will also update the Last Updated date at the top of the Terms. If we make any material changes, and you have registered to use the Services, we will also send an e-mail to you at the last e-mail address you provided to us. Any changes to the Terms will be effective immediately for new Users of the Website or Services and will be effective thirty (30) days after posting of notice of such changes on the Website for existing User. Instructure may require you to provide consent to the updated Terms in a specified manner before further use of the Website or the Services is permitted. If you do not agree to any change(s) after receiving a notice of such change(s), you shall stop using the Website and/or the Services. Otherwise, your continued use of the Website and/or the Services constitutes your acceptance of such change(s). PLEASE REGULARLY CHECK THE WEBSITE TO VIEW THE THEN-CURRENT TERMS."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("1. Use of the Services and Instructure Properties.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The Website, the Services, and the information and content made available (*Content*) by Instructure on the Website and in the Services (collectively, the **Instructure Properties**) are protected by copyright laws throughout the world. Subject to the Terms, Instructure grants you a limited license to reproduce portions of the Instructure Properties for the sole purpose of using the Services for your personal purposes or, in the event you are an Instructor, your educational purposes."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("1.1 Application License.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("Instructure also provides a mobile application (the *Application*) for use with the Services. Your use of the Application is governed by the End User License Agreement that accompanies the Application in the marketplace where you download it."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("1.2 Certain Restrictions.")))," ",r.createElement(a,null,I18n.t("The rights granted to you in the Terms are subject to the following restrictions: (a) you shall not license, sell, rent, lease, transfer, assign, reproduce, distribute, host or otherwise commercially exploit the Instructure Properties, (b) you shall not use framing techniques to enclose any trademark, logo, or other Instructure Properties; (c) you shall not use any metatags or other hidden text using Instructures name or trademarks; (d) you shall not modify, translate, adapt, merge, make derivative works of, disassemble, decompile, reverse compile or reverse engineer any part of the Instructure Properties except to the extent the foregoing restrictions are expressly prohibited by applicable law; (e) you shall not use any manual or automated software, devices, or other processes (including but not limited to spiders, robots, scrapers, crawlers, avatars, data mining tools, or the like) to scrape or download data from any web pages contained in the Website; (f) except as expressly stated herein, no part of the Instructure Properties may be copied, reproduced, distributed, republished, downloaded, displayed, posted or transmitted in any form or by any means; and (g) you shall not remove or destroy any copyright notices or other proprietary markings contained on or in the Instructure Properties. Any future release, update or other addition to the Instructure Properties shall be subject to the Terms. Instructure, its suppliers and service providers reserve all rights not granted in the Terms. Any unauthorized use of the Instructure Properties terminates the licenses granted by Instructure pursuant to the Terms."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("2. Registration.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("In order to access certain features of the Instructure Properties you must create an account (*Account*) by providing necessary information when registering (**Registration Data**) and accept the Terms."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("2.1 Registration Data.")))," ",r.createElement(a,null,I18n.t("In registering for the Services, you agree to (1) provide true, current, and complete Registration Data; and (2) maintain and promptly update the Registration Data to keep it true, current, and complete. You are responsible for all activities that occur under your Account. You may not share your Account or password with anyone, and you agree to notify Instructure immediately of any unauthorized use of your password or any other breach of security. You agree not to create or access an Account using a false identity or information, or on behalf of someone other than yourself. You agree that you shall not have more than one Account at any given time. You agree not to create an Account or use the Instructure Properties if you have been previously removed by Instructure, or if you have been previously banned from any of the Instructure Properties."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("2.2 Necessary Equipment and Software.")))," ",r.createElement(a,null,I18n.t("You must provide all equipment and software necessary to connect to the Instructure Properties, including but not limited to, a mobile device that is suitable to connect with and use the Application. You are solely responsible for any fees, including Internet connection or mobile fees, that you incur when accessing the Instructure Properties."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("3. Responsibility for Content.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("3.1 Types of Content.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("You acknowledge that all Content, including the Instructure Properties, is the sole responsibility of the party from whom such Content originated. This means that you, and not Instructure, are entirely responsible for all Content that you upload, post, e-mail, transmit or otherwise make available (*Make Available*) through the Instructure Properties (**Your Content**). Other Users of the Instructure Properties, and not Instructure, are similarly responsible for all Content such other Users Make Available through the Instructure Properties (***User Content***)."),wrappers:{"*":r.createElement("strong",null,"$1"),"**":r.createElement("strong",null,"$1"),"***":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("3.2 No Obligation to Pre-Screen Content.")))," ",r.createElement(a,null,I18n.t("You acknowledge that Instructure has no obligation to pre-screen Content (including, but not limited to, Your Content and User Content), although Instructure reserves the right in its sole discretion to pre-screen, refuse, or remove any Content that (1) violates any law or regulation, (2) violates these Terms, including the User Code of Conduct set forth in Section 5.4 hereof, and/or (3) otherwise creates liability for Instructure."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4. Ownership.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.1 Instructure Properties.")))," ",r.createElement(a,null,I18n.t("Except with respect to Your Content and User Content, you agree that Instructure and its suppliers own all rights, title and interest in the Instructure Properties. Instructures name and other related graphics, logos, service marks and trade names used on or in connection with the Instructure Properties are the trademarks of Instructure and may not be used without permission in connection with any third-party products or services. Other trademarks, service marks and trade names that may appear on or in the Instructure Properties are the property of their respective owners."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.2 Your Content.")))," ",r.createElement(a,null,I18n.t("Your Content shall at all times remain your sole property and you agree that you have no right, title or interest in or to any other Content that appears on or in the Instructure Properties. You represent that you have all necessary right, power and authority to post Your Content to the Instructure Properties. You agree to allow Instructure and its applicable contractors to freely host, reproduce, transmit, modify, display and otherwise use Your Content (in whole or in part) as reasonably necessary to provide the Services in accordance with Instructures agreement with your Entity."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.3 Your Account.")))," ",r.createElement(a,null,I18n.t("Notwithstanding anything contained herein to the contrary, by submitting Your Content to any forums, comments or any other area on or in the Instructure Properties, you hereby expressly permit Instructure to identify you by your username as the contributor of Your Content in any publication in any form, media, or technology now known or later developed in connection with Your Content."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.4 User Code of Conduct.")))," ",r.createElement(a,null,I18n.t("As a condition of use, you agree not to use the Instructure Properties for any purpose that is prohibited by the Terms or by applicable law. Do not post, or permit others to post, content on the Instructure Properties or on your profile that (i) encourages illegal activities, is fraudulent, or is unlawful; (ii) insults, defames, harasses, or threatens others; (iii) violates the copyright or intellectual property or privacy rights of others; (iv) contains obscene, vulgar, pornographic, or libelous material; (v) harms or impersonates others, including other Users; or (vi) advertises or sells a product or service. Do not reproduce content from your Course or other Learners unless allowed by the express copyright terms laid out by the Instructor (e.g. Creative Commons). Do not share the solutions to assignments with others unless this is expressly authorized by the Instructor. Do not submit the work of others as your own work. Respect the privacy of other Users. Respect the diversity of opinions and cultures that will be presented by other Users. Do not attempt or engage in, any potentially harmful acts that are directed against the Instructure Properties, including but not limited to violating or attempting to violate any security features of the Instructure Properties, introducing viruses, worms, or similar harmful code into the Instructure Properties, or interfering or attempting to interfere with use of the Instructure Properties by any other user, host or network, including by means of overloading, flooding, spamming, mail bombing, or crashing the Instructure Properties. If you believe that someone has violated this code of conduct, begin by notifying the Instructor of the Course."))," ",r.createElement(a,null,I18n.t("If the issue is not addressed by the Instructor to your satisfaction, contact"))," ",r.createElement("a",{href:"mailto:bridgeconduct@instructure.com",target:"_blank"},"bridgeconduct@instructure.com")," ",r.createElement(a,null,I18n.t("with your concerns."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("4.5 Feedback.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("You agree that submission of any ideas, suggestions, documents, and/or proposals to Instructure through its suggestion, feedback, wiki, forum or similar pages (*Feedback*) is at your own risk and that Instructure has no obligations (including without limitation obligations of confidentiality) with respect to such Feedback. You represent and warrant that you have all rights necessary to submit the Feedback. You hereby grant to Instructure a fully paid, royalty-free, perpetual, irrevocable, worldwide, non-exclusive, and fully sublicensable right and license to use, reproduce, perform, display, distribute, adapt, modify, re-format, create derivative works of, and otherwise commercially or non-commercially exploit in any manner, any and all Feedback, and to sublicense the foregoing rights, in connection with the operation and maintenance of the Instructure Properties."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("5. Investigations.")))," ",r.createElement(a,null,I18n.t("Instructure may, but is not obligated to, monitor or review the Instructure Properties and Content at any time. Without limiting the foregoing, Instructure shall have the right, in its sole discretion, to remove any of Your Content for any reason (or no reason), including if such Content violates the Terms or any applicable law. Although Instructure does not generally monitor user activity occurring in connection with the Instructure Properties, if Instructure becomes aware of any possible violations by you of any provision of the Terms, Instructure reserves the right to investigate such violations, and Instructure may, at its sole discretion, terminate your license to use the Instructure Properties, or change, alter or remove Your Content, in whole or in part."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("6. Interactions with Other Users.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("6.1 User Responsibility.")))," ",r.createElement(a,null,I18n.t("You are solely responsible for your interactions with other Users of the Services and any other parties with whom you interact through the Services; provided, however, that Instructure reserves the right, but has no obligation, to intercede in disputes among Users. You agree that Instructure will not be responsible for any liabilities incurred as the result of such interaction."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("6.2 Content Provided by Other Users.")))," ",r.createElement(a,null,I18n.t("The Instructure Properties may contain User Content provided by other Users. Instructure is not responsible for and does not control User Content. Instructure has no obligation to review or monitor, and does not approve, endorse or make any representations or warranties with respect to User Content. You use all User Content and interact with other Users at your own risk."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("7. Third-Party Websites.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("7.1 Third-Party Websites.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The Instructure Properties may contain links to third-party websites (*Third-Party Websites*). When you click on a link to a Third-Party Website, we will not warn you that you have left the Instructure Properties and are subject to separate terms and conditions or privacy policies. Such Third-Party Websites are not under the control of Instructure. Instructure is not responsible for any Third-Party Websites and does not review, approve, monitor, endorse, warrant, or make any representations with respect to Third-Party Websites, or their products or services. You use all links in Third-Party Websites at your own risk. You should review applicable terms and policies, including privacy and data gathering practices, of any Third-Party Websites, and should make whatever investigation you feel necessary or appropriate before proceeding with any transaction with any third-party."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("7.2 App Stores.")))," ",r.createElement(a,null,I18n.t("You acknowledge and agree that the availability of the Application and the Services is dependent on the third-party from which you received the Application, e.g., the Apple or Android app stores."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("8. Indemnification.")))," ",r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("You agree to indemnify, defend, and hold Instructure, its parents, subsidiaries, affiliates, officers, employees, agents, partners and licensors (collectively the *Instructure Parties*) harmless from any losses, costs, liabilities and expenses (including reasonable attorneys fees) relating to or arising out of: (a) Your Content; (b) your use of, or inability to use, the Instructure Properties; (c) your violation of the Terms; (d) your violation of any rights of another party, including any User; or (e) your violation of any applicable laws, rules or regulations. Instructure reserves the right, at its own cost, to assume the exclusive defense and control of any matter otherwise subject to indemnification by you, in which event you will fully cooperate with Instructure in asserting any available defenses. You agree that the provisions in this section will survive any termination of your Account, the Terms, or your access to the Instructure Properties."),wrappers:{"*":r.createElement("strong",null,"$1")}},"$1"))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("9. Disclaimer of Warranties.")))," ",r.createElement(a,null,I18n.t("YOU EXPRESSLY UNDERSTAND AND AGREE THAT TO THE EXTENT PERMITTED BY APPLICABLE LAW, YOUR USE OF THE INSTRUCTURE PROPERTIES IS AT YOUR SOLE RISK, AND THE INSTRUCTURE PROPERTIES ARE PROVIDED ON AN AS IS AND AS AVAILABLE BASIS, WITH ALL FAULTS. INSTRUCTURE PARTIES EXPRESSLY DISCLAIM ALL WARRANTIES, REPRESENTATIONS, AND CONDITIONS OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OR CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. INSTRUCTURE PARTIES MAKE NO WARRANTY, REPRESENTATION OR CONDITION THAT: (1) THE INSTRUCTURE PROPERTIES WILL MEET YOUR REQUIREMENTS; (2) YOUR USE OF THE INSTRUCTURE PROPERTIES WILL BE UNINTERRUPTED, TIMELY, SECURE OR ERROR-FREE; (3) THE RESULTS THAT MAY BE OBTAINED FROM USE OF THE INSTRUCTURE PROPERTIES WILL BE ACCURATE OR RELIABLE; OR (4) ANY ERRORS IN THE INSTRUCTURE PROPERTIES WILL BE CORRECTED. ANY CONTENT DOWNLOADED FROM OR OTHERWISE ACCESSED THROUGH THE INSTRUCTURE PROPERTIES IS ACCESSED AT YOUR OWN RISK, AND YOU SHALL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR PROPERTY OR PERSON, INCLUDING, BUT NOT LIMITED TO, YOUR COMPUTER SYSTEM AND ANY DEVICE YOU USE TO ACCESS THE INSTRUCTURE PROPERTIES, OR ANY OTHER LOSS THAT RESULTS FROM ACCESSING SUCH CONTENT. THE SERVICES MAY BE SUBJECT TO DELAYS, CANCELLATIONS AND OTHER DISRUPTIONS. INSTRUCTURE MAKES NO WARRANTY, REPRESENTATION OR CONDITION WITH RESPECT TO THE SERVICES, INCLUDING BUT NOT LIMITED TO, THE QUALITY, EFFECTIVENESS, REPUTATION AND OTHER CHARACTERISTICS OF THE SERVICES. NO ADVICE OR INFORMATION, WHETHER ORAL OR WRITTEN, OBTAINED FROM INSTRUCTURE OR THROUGH THE INSTRUCTURE PROPERTIES WILL CREATE ANY WARRANTY NOT EXPRESSLY MADE HEREIN."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10. Limitation of Liability.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.1 Disclaimer of Certain Damages.")))," ",r.createElement(a,null,I18n.t("YOU UNDERSTAND AND AGREE THAT IN NO EVENT SHALL INSTRUCTURE PARTIES BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES ARISING OUT OF OR IN CONNECTION WITH THE INSTRUCTURE PROPERTIES, INCLUDING, WITHOUT LIMITATION, ANY DAMAGES RESULTING FROM LOSS OF USE, DATA, OR PROFITS, WHETHER OR NOT INSTRUCTURE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, OR FOR ANY DAMAGES FOR PERSONAL OR BODILY INJURY OR EMOTIONAL DISTRESS ARISING OUT OF OR IN CONNECTION WITH THE TERMS, OR FROM ANY COMMUNICATIONS, INTERACTIONS OR MEETINGS WITH OTHER USERS OF THE INSTRUCTURE PROPERTIES, ON ANY THEORY OF LIABILITY, RESULTING FROM: (1) THE USE OR INABILITY TO USE THE INSTRUCTURE PROPERTIES; (2) THE COST OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES RESULTING FROM ANY GOODS, DATA, INFORMATION OR SERVICES PURCHASED OR OBTAINED OR MESSAGES RECEIVED FOR TRANSACTIONS ENTERED INTO THROUGH THE INSTRUCTURE PROPERTIES; (3) UNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR TRANSMISSIONS OR DATA; (4) STATEMENTS OR CONDUCT OF ANY THIRD-PARTY ON INSTRUCTURE PROPERTIES; OR (5) ANY OTHER MATTER RELATED TO THE INSTRUCTURE PROPERTIES, WHETHER BASED ON WARRANTY, COPYRIGHT, CONTRACT, TORT (INCLUDING NEGLIGENCE), PRODUCT LIABILITY OR ANY OTHER LEGAL THEORY."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.2 Cap on Liability.")))," ",r.createElement(a,null,I18n.t("UNDER NO CIRCUMSTANCES WILL INSTRUCTURE PARTIES BE LIABLE TO YOU FOR MORE THAN THE ANY AMOUNTS RECEIVED BY INSTRUCTURE AS A RESULT OF YOUR USE OF THE INSTRUCTURE PROPERTIES IN THE 12 MONTHS PRECEDING YOUR CLAIM. IF YOU HAVE NOT PAID INSTRUCTURE ANY AMOUNTS IN THE 12 MONTHS PRECEDING YOUR CLAIM, INSTRUCTURES SOLE AND EXCLUSIVE LIABILITY SHALL BE FIFTY DOLLARS ($50)."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.3 User Content.")))," ",r.createElement(a,null,I18n.t("INSTRUCTURE PARTIES ASSUME NO RESPONSIBILITY FOR THE TIMELINESS, DELETION, MIS-DELIVERY OR FAILURE TO STORE ANY CONTENT (INCLUDING, BUT NOT LIMITED TO, YOUR CONTENT AND USER CONTENT), USER COMMUNICATIONS OR PERSONALIZATION SETTINGS."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.4 No Liability for Conduct of Third Parties or Other Users.")))," ",r.createElement(a,null,I18n.t("YOU ACKNOWLEDGE AND AGREE THAT INSTRUCTURE PARTIES ARE NOT LIABLE, AND YOU AGREE NOT TO SEEK TO HOLD INSTRUCTURE PARTIES LIABLE, FOR THE CONDUCT OF THIRD PARTIES, INCLUDING OPERATORS OF EXTERNAL SITES, AND THAT THE RISK OF INJURY FROM SUCH THIRD PARTIES RESTS ENTIRELY WITH YOU. YOU ARE SOLELY RESPONSIBLE FOR ALL OF YOUR COMMUNICATIONS AND INTERACTIONS WITH OTHER USERS OF THE INSTRUCTURE PROPERTIES. YOU UNDERSTAND THAT INSTRUCTURE DOES NOT MAKE ANY ATTEMPT TO VERIFY THE STATEMENTS OF USERS OF THE INSTRUCTURE PROPERTIES."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("10.5 Basis of the Bargain.")))," ",r.createElement(a,null,I18n.t("THE LIMITATIONS OF DAMAGES SET FORTH ABOVE ARE FUNDAMENTAL ELEMENTS OF THE BASIS OF THE BARGAIN BETWEEN INSTRUCTURE AND YOU."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("11. Procedure for Making Claims of Copyright Infringement.")))," ",r.createElement(a,null,I18n.t("It is Instructures policy to terminate membership privileges of any User who repeatedly infringes copyright upon prompt notification to Instructure by the copyright owner or the copyright owners legal agent. Without limiting the foregoing, if you believe that your work has been copied and posted on the Instructure Properties in a way that constitutes copyright infringement, please provide our Copyright Agent with the following information: (1) an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright interest; (2) a description of the copyrighted work that you claim has been infringed; (3) a description of the location on the Instructure Properties of the material that you claim is infringing; (4) your address, telephone number and e-mail address; (5) a written statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent or the law; (6) a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owners behalf. Contact information for Instructures Copyright Agent for notice of claims of copyright infringement is as follows:")),"Howard Baik; 6330 South 3000 East, Suite 700, Salt Lake City, UT 84121; ",r.createElement("a",{
href:"mailto:legal@instructure.com",target:"_blank"},"legal@instructure.com")),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("12. Term and Termination.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("12.1 Term.")))," ",r.createElement(a,null,I18n.t("The Terms commence on the date when you accept them (as described in the preamble above) and remain in full force and effect while you use the Instructure Properties, unless terminated earlier in accordance with the Terms."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("12.2 Termination of Services by Instructure.")))," ",r.createElement(a,null,I18n.t("If you have breached any provision of the Terms, or if Instructure is required to do so by law (e.g., where the provision of the Website, the Application, or the Services is, or becomes, unlawful), Instructure has the right to suspend or terminate any Services provided to you or to delete any of Your Content. You agree that all terminations for cause shall be made in Instructures sole discretion and that Instructure shall not be liable to you or any third-party for any termination of your Account. Termination of any Service includes removal of access to such Service and barring of further use of the Service. Termination of all Services also may include deletion of your password and all related information, files and Content associated with or inside your Account (or any part thereof), including Your Content. Upon termination of any Service, your right to use such Service will automatically terminate immediately. Instructure will not have any liability whatsoever to you for any suspension or termination, including for deletion of Your Content. All provisions of the Terms which by their nature should survive, shall survive termination of Services, including without limitation, ownership provisions, warranty disclaimers, and limitation of liability."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13. General Provisions.")))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.1 Electronic Communications.")))," ",r.createElement(a,null,I18n.t("The communications between you and Instructure use electronic means, whether you visit the Instructure Properties or send Instructure e-mails, or whether Instructure posts notices on the Instructure Properties or communicates with you via e-mail. For contractual purposes, you (1) consent to receive communications from Instructure in an electronic form; and (2) agree that all terms and conditions, agreements, notices, disclosures, and other communications that Instructure provides to you electronically satisfy any legal requirement that such communications would satisfy if it were to be in writing. The foregoing does not affect any statutory rights you may have."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.2 Release.")))," ",r.createElement(a,null,I18n.t("You hereby release Instructure Parties and their successors from claims, demands, any and all losses, damages, rights, and actions of any kind, including personal injuries, death, and property damage, that is either directly or indirectly related to or arises from any interactions with or conduct of other Website Users or third-party websites of any kind arising in connection with or as a result of the Terms or your use of the Instructure Properties. If you are a California resident, you hereby waive California Civil Code Section 1542, which states, A general release does not extend to claims which the creditor does not know or suspect to exist in his favor at the time of executing the release, which, if known by him must have materially affected his settlement with the debtor."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.3 Assignment.")))," ",r.createElement(a,null,I18n.t("The Terms, and your rights and obligations hereunder, may not be assigned, subcontracted, delegated, or otherwise transferred by you without Instructures prior written consent, and any attempted assignment, subcontract, delegation, or transfer in violation of the foregoing will be null and void. Instructure may assign its rights and obligations under these Terms to a third party without your consent."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.4 Force Majeure.")))," ",r.createElement(a,null,I18n.t("Instructure shall not be liable for any delay or failure to perform resulting from causes outside its reasonable control, including, but not limited to, acts of God, war, terrorism, riots, embargos, acts of civil or military authorities, fire, floods, accidents, strikes or shortages of transportation facilities, fuel, energy, labor or materials."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.5 Compliance.")))," ",r.createElement(a,null,I18n.t("If you believe that Instructure has not adhered to the Terms, please contact Instructure by emailing us at"))," ",r.createElement("a",{href:"mailto:legal@instructure.com",target:"_blank"},"legal@instructure.com"),"."," ",r.createElement(a,null,I18n.t("We will do our best to address your concerns. If you feel that your complaint has been addressed incompletely, we invite you to var us know for further investigation."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.6 Governing Law; Jurisdiction.")))," ",r.createElement(a,null,I18n.t("Unless otherwise required by applicable law, the Terms and any action related thereto will be governed and interpreted by and under the laws of the State of Utah, without giving effect to any conflicts of law principles that provide for the application of the law of another jurisdiction. The United Nations Convention on Contracts for the International Sale of Goods does not apply to the Terms. Any claim, dispute, or action arising, directly or indirectly, to the Terms shall be litigated in the state or federal courts located in Salt Lake County, Utah and the parties hereto agree to submit to the personal jurisdiction of such courts."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.7 Notice.")))," ",r.createElement(a,null,I18n.t("Where Instructure requires that you provide an e-mail address to access certain features of the Instructure Properties, you are responsible for providing Instructure with your most current e-mail address. In the event that the last e-mail address you provided to Instructure is not valid, or for any reason is not capable of delivering to you any notices required/ permitted by the Terms, Instructures dispatch of the e-mail containing such notice will nonetheless constitute effective notice. You may give notice to Instructure at the following address:"))," ","Attn: Legal Department, 6330 South 3000 East, Suite 700, Salt Lake City, UT 84121."," ",r.createElement(a,null,I18n.t("Such notice shall be deemed given when received by Instructure by letter delivered by nationally recognized overnight delivery service or first class postage prepaid mail at the above address."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.8 Waiver.")))," ",r.createElement(a,null,I18n.t("Any waiver or failure by Instructure to enforce any provision of the Terms on one occasion will not be deemed a waiver of any other provision or of such provision on any other occasion."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.9 Severability.")))," ",r.createElement(a,null,I18n.t("If any provision of the Terms is, for any reason, held to be invalid or unenforceable, the other provisions of the Terms will remain enforceable, and the invalid or unenforceable provision will be deemed modified so that it is valid and enforceable to the maximum extent permitted by law."))),r.createElement("div",{className:"PRbody"},r.createElement("strong",null,r.createElement(a,null,I18n.t("13.10 Entire Agreement.")))," ",r.createElement(a,null,I18n.t("The Terms are the final, complete and exclusive agreement of the parties with respect to the subject matter hereof and supersedes and merges all prior discussions between the parties with respect to such subject matter."))))}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(78),l=r(o),u=n(812),c=r(u),d=s.default.createClass({displayName:"TermsAndConditionsModal",propTypes:{isOpen:i.bool.isRequired,reviewOnlyMode:i.bool.isRequired,tacBody:i.node.isRequired,onAccept:i.func.isRequired,onDecline:i.func.isRequired,onReview:i.func.isRequired},componentDidMount:function(){document.body.addEventListener("keydown",this.handleBodyKeyDown)},componentWillUnmount:function(){document.body.removeEventListener("keydown",this.handleBodyKeyDown)},handleBodyKeyDown:function(e){this.props.isOpen&&e.stopPropagation()},render:function(){return s.default.createElement(l.default,{isOpen:this.props.isOpen,className:"terms-and-conditions-modal",overlayClassName:"terms-and-conditions-modal__overlay",contentLabel:I18n.t("Terms and Conditions")},s.default.createElement(c.default,{reviewOnlyMode:this.props.reviewOnlyMode,tacBody:this.props.tacBody,onAccept:this.props.onAccept,onDecline:this.props.onDecline,onReview:this.props.onReview}))}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.bool,i=a.func,o=a.node,l=r.createClass({displayName:"TermsAndConditionsView",propTypes:{reviewOnlyMode:s.isRequired,tacBody:o.isRequired,onAccept:i.isRequired,onDecline:i.isRequired,onReview:i.isRequired},renderButtons:function(){return this.props.reviewOnlyMode?r.createElement("div",{className:"terms-and-conditions-modal__buttons"},r.createElement("p",{className:"terms-and-conditions-modal__prompt"}),r.createElement("button",{className:"terms-and-conditions-modal__prompt__accept",onClick:this.props.onReview},I18n.t("Dismiss"))):r.createElement("div",{className:"terms-and-conditions-modal__buttons"},r.createElement("p",{className:"terms-and-conditions-modal__prompt"},I18n.t("I agree to the terms of use.")),r.createElement("button",{className:"terms-and-conditions-modal__prompt__decline",onClick:this.props.onDecline},I18n.t("No, Sign Out")),r.createElement("button",{className:"terms-and-conditions-modal__prompt__accept",onClick:this.props.onAccept},I18n.t("Yes, Agree")))},render:function(){return r.createElement("div",{className:"terms-and-conditions-modal__main","aria-roledescription":"dialog","aria-labelledby":"terms-and-conditions-title","data-capybara":"terms-and-conditions-modal"},r.createElement("h2",{id:"terms-and-conditions-title",className:"terms-and-conditions-modal__title"},I18n.t("Terms of Use")),r.createElement("div",{tabIndex:"1",className:"terms-and-conditions-modal__content"},this.props.tacBody),this.renderButtons())}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.bool,i=a.func,o=n(31),l=n(13),u=n(34),c=n(39),d=n(811),p=n(809),f=n(810),m=r.createClass({displayName:"TermsAndConditions",propTypes:{isOpen:s,reviewOnlyMode:s,onReview:i},getDefaultProps:function(){return{isOpen:!1,reviewOnlyMode:!1,onReview:Function.prototype}},componentDidMount:function(){u.addChangeListener(this.reload)},componentWillUnmount:function(){u.removeChangeListener(this.reload)},isOpen:function(){return this.props.reviewOnlyMode?this.props.isOpen:this.needsTermsAndConditionsAcceptance()},hasNotAcceptedLatestTerms:function(){var e=c.getTACLastAcceptedAt(),t=this.getTACUpdatedAt();return!e||!!t&&e<t},needsTermsAndConditionsAcceptance:function(){return u.isAuthenticated()&&!c.hasAcceptedTAC()&&!u.isMasquerading()&&this.hasNotAcceptedLatestTerms()&&"none"!==this.tacType()},tacBody:function(){var e=this.tacType();return"domestic"===e||"none"===e?r.createElement(p,null):"international"===e?r.createElement(f,null):r.createElement("div",{dangerouslySetInnerHTML:{__html:this.tacCustomBody()}})},tacCustomBody:function(){return o.get("DOMAIN.tac_custom_body_markup")},tacType:function(){return o.get("DOMAIN.tac_type")||"domestic"},getTACUpdatedAt:function(){return o.get("DOMAIN.tac_updated_at")},onAcceptTermsAndConditions:function(){this.props.reviewOnlyMode||u.acceptTermsAndConditions()},onDeclineTermsAndConditions:function(){this.props.reviewOnlyMode||l.transitionTo("logout")},render:function(){return r.createElement(d,{isOpen:this.isOpen(),reviewOnlyMode:this.props.reviewOnlyMode,tacBody:this.tacBody(),onAccept:this.onAcceptTermsAndConditions,onDecline:this.onDeclineTermsAndConditions,onReview:this.props.onReview})},reload:function(){this.forceUpdate()}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=a.arrayOf,o=a.object,l=a.string,u=a.bool,c=n(64),d=n(60),p=n(5),f=p.Icon;e.exports=r.createClass({displayName:"TimeRangeSelector",propTypes:{onChange:s.isRequired,options:i(o),selected:l,iconOnly:u,color:l},getDefaultProps:function(){return{options:[],iconOnly:!1,color:"white"}},renderOptions:function(e){return e.map(function(e){return r.createElement(d,{key:e.value,value:e.value,className:"item-label",label:e.label})})},getIcon:function(){var e="gs-calendar "+this.props.color,t="gs-arrow-down gs-3-4 "+this.props.color+" margin-l-xxs";return this.props.iconOnly?r.createElement("span",null,r.createElement(f,{className:e}),r.createElement(f,{className:t})):void 0},render:function(){return r.createElement(c,{selectedValue:this.props.selected,onChange:this.props.onChange,className:"reports-chart__range-options right",labelElement:this.getIcon()},this.renderOptions(this.props.options))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(78),l=r(o),u=n(27),c=r(u),d=n(3),p=s.default.createClass({displayName:"UpgradeModal",propTypes:{code:d.string,userCount:d.number,userLimit:d.number,onClose:d.func},getCopy:function(){switch(this.props.code){case"user_limit":return{header:"Growing Team?",text:"You have exceeded the number of users associated with"};case"import_limit":return{header:"Need Some CSV Import Goodness?",text:"CSV Import is not available in"};case"sub_account_limit":return{header:"Need Some Sub Account Goodness?",text:"Sub Accounts are only available in the paid version of Bridge."};default:return{}}},render:function(){var e=this.getCopy();return s.default.createElement(l.default,{isOpen:!!this.props.code,className:"upgrade-modal__modal",overlayClassName:"upgrade-modal__overlay",onRequestClose:this.props.onClose,contentLabel:I18n.t("Upgrade")},!!this.props.code&&s.default.createElement("div",{className:"upgrade-modal__body"},s.default.createElement("button",{type:"button",onClick:this.props.onClose,className:"text-right right btn--reset padding-r-m pure-u-2-24 upgrade-modal__close"},s.default.createElement(c.default,{children:I18n.t("Close")}),s.default.createElement(i.Icon,{className:"gs-x gs-1x dark-grey"})),s.default.createElement("div",{className:"upgrade-modal__background"}),s.default.createElement("div",{className:"upgrade-modal__content"},s.default.createElement("p",{className:"upgrade-modal__header"},I18n.t("%{header}",{header:e.header})),s.default.createElement("div",{className:"upgrade-modal__divider"}),s.default.createElement("p",{className:"upgrade-modal__text"},I18n.t("%{text}",{text:e.text})),this.props.userCount&&this.props.userLimit&&s.default.createElement("p",{className:"upgrade-modal__usage"},I18n.t("%{count} out of %{limit}",{count:this.props.userCount,limit:this.props.userLimit})),s.default.createElement("p",{className:"upgrade-modal__text"},I18n.t("Drop us a line for upgrade solutions.")),s.default.createElement("p",{className:"upgrade-modal__contact"},I18n.t("844.358.7156 or "),s.default.createElement("a",{href:"mailto:upgrade@getbridge.com"},"upgrade@getbridge.com")),s.default.createElement("p",{className:"text-center upgrade-modal__actions"},s.default.createElement("button",{className:"upgrade-modal__btn",onClick:this.props.onClose},I18n.t("Close"))))))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=n(1),l=n(18),u=n(358),c=n(147),d=n(303),p=n(375),f=n(12),m=f.FREE_TRIAL_LENGTH,h=o.createClass({displayName:"AccountExpirationOverlayForAdmin",propTypes:{hasSidebar:i.bool},getInitialState:function(){return{justReceivedExtension:!1,grantingExtension:!1,modalIsOpen:!1,isGettingBridge:!1}},render:function(){return o.createElement(d,(0,s.default)({getHeaderText:this.getHeaderText,getBodyText:this.getBodyText,renderButtons:this.renderButtons,canShowTopButtons:!0},this.props),o.createElement(p,{isOpen:this.state.modalIsOpen,closeModal:this.closeModal}))},getHeaderText:function(){return this.state.justReceivedExtension?I18n.t("Success!"):c.usedFreeTrialExtension()?I18n.t("Your free trial extension has expired"):I18n.t("Your Bridge free trial has expired")},getBodyText:function(){return this.state.justReceivedExtension?I18n.t("Youve extended your free trial for another 14 days. This is a one-time extension, so make the most of it! And remember: You can always sign up for a full Bridge account at any time."):c.usedFreeTrialExtension()?I18n.t("We hope you accomplished great things during your extra two weeks with Bridge. Your free trial is officially over, and its time to sign up for a full account. Lets keep the good times rolling."):c.userCanExtendTrial()?I18n.t("They say time flies when youre having fun ... Your %{day}-day free trial is up, but well give you an extra 14 days, just this once, just because. Click below to launch your bonus Bridge time or to sign up for the real deal.",{day:m}):I18n.t("Your companys %{day}-day free trial has expired (boo!), but talk to your learning administrator or someone in HR if you dont think you can live without it. They can request a free two-week extension (yay!) or a full Bridge account (woohoo!). In the meantime, click below to learn more about Bridge!",{day:m})},renderButtons:function(){return this.state.justReceivedExtension?o.createElement("div",null,o.createElement(l,{onClick:this.returnToApp,className:"btn secondary dark"},I18n.t("Cool, thanks!")),this.renderGetBridgeButton()):c.usedFreeTrialExtension()||!c.userCanExtendTrial()?o.createElement("div",null,this.renderGetBridgeButton()):o.createElement("div",null,o.createElement(l,{onClick:this.grantExtension,className:"btn secondary dark",disabled:this.state.grantingExtension},this.state.grantingExtension?I18n.t("Granting extension..."):I18n.t("Instant 14-Day Extension")),this.renderGetBridgeButton())},renderGetBridgeButton:function(){return o.createElement(l,{onClick:!this.state.grantingExtension&&this.getBridge,className:"btn filled white",disabled:this.state.isGettingBridge},this.state.isGettingBridge?I18n.t("Contacting rep..."):I18n.t("Get Bridge"))},grantExtension:function(){var e=this;this.setState({grantingExtension:!0}),u.extendFreeTrial().then(function(){e.setState({justReceivedExtension:!0,grantingExtension:!1})})},returnToApp:function(){window.location.reload()},getBridge:function(){var e=this;this.setState({isGettingBridge:!0}),u.sendGetBridgeEmail().then(function(){e.setState({modalIsOpen:!0}),e.setState({isGettingBridge:!1})})},closeModal:function(){this.setState({modalIsOpen:!1})}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=n(1),l=n(303),u=n(12),c=u.FREE_TRIAL_LENGTH,d=o.createClass({displayName:"AccountExpirationOverlayForLearner",propTypes:{hasSidebar:i.bool},render:function(){return o.createElement(l,(0,s.default)({getHeaderText:this.getHeaderText,getBodyText:this.getBodyText,renderButtons:this.renderButtons,canShowTopButtons:!0},this.props))},getHeaderText:function(){return I18n.t("So you liked learning with Bridge...")},getBodyText:function(){return I18n.t("Your companys %{day}-day free trial has expired (boo!), but talk to your learning administrator or someone in HR if you dont think you can live without it. They can request a free two-week extension (yay!) or a full Bridge account (woohoo!). In the meantime, click below to learn more about Bridge!",{day:c})},renderButtons:function(){return o.createElement("a",{className:"btn filled white",href:"https://www.youtube.com/user/bridgelms",target:"_blank"},I18n.t("Learn More"))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(64),v=r(g),_=n(60),y=r(_),b=n(3336),E=n(24),C=r(E),I=n(3),T=n(4),N=n(12),S=n(20),x=r(S),A=n(77),k=r(A),w="adminsOnly",R=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleTextInputChangedOld=function(e){return function(t){var n={};n[e]=t.target.value,r.props.onChange(n)}},r.handleTextInputChanged=function(e,t){r.props.onChange((0,s.default)({},e,t))},r.handleSupportLevelChanged=function(e){r.props.onChange({supportLevel:e})},r.handleSubAccountSupportLevelChanged=function(e){r.props.onChange({subAccountSupportLevel:e})},r.handleShowCustomSupportInfoChanged=function(e){r.props.onChange({showCustomSupportInfo:e.target.checked})},r.toggleUseCustomSupport=function(e){r.props.onChange({useCustomSupport:e.target.checked})},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return(0,x.default)("learn_sub_account_support_settings")?this.renderNewSupportSettings():this.renderOldSupportSettings()}},{key:"renderNewSupportSettings",value:function(){var e=this.props.inSubAccount?null:I18n.t("Root Account");return h.default.createElement("div",null,h.default.createElement("div",{className:"support-settings__support-levels"},this.renderSupportLevelSelector(e,this.props.inSubAccount,this.props.config.supportLevel,this.handleSupportLevelChanged),!this.props.inSubAccount&&this.renderSupportLevelSelector(I18n.t("Sub Account"),!0,this.props.config.subAccountSupportLevel,this.handleSubAccountSupportLevelChanged)),h.default.createElement("h4",{className:"support-settings__contact-information-header"},"Support Contact Information"),h.default.createElement("div",{className:"support-settings__support-fields"},this.renderInstructureProvidedSupportFields(),h.default.createElement("div",null,this.renderCustomerProvidedSupportFields())))}},{key:"renderSupportLevelSelector",value:function(e,t,n,r){var a=n||w,s=(0,b.getSupportLevelSettings)(t),i=s.find(function(e){return e.value===a});return h.default.createElement("div",{className:"support-settings__support-level"},e&&h.default.createElement("h4",{className:"support-settings__support-level__header"},e),h.default.createElement("div",{className:"support-settings__support-level__chooser"},h.default.createElement("div",{className:"support-settings__support-level__context"},h.default.createElement(C.default,null,h.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("*Instructure* supports"),wrappers:{"*":h.default.createElement("strong",null,"$1")}},"$1"))),h.default.createElement(v.default,{className:"support-settings__support-level__selector",onChange:r,selectedValue:a,children:s.map(function(e){return h.default.createElement(y.default,{key:e.value,value:e.value,label:e.label})})})),h.default.createElement(C.default,null,h.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{account_name} supports %{support_level_info_inverse}",{account_name:"%{account_name}",support_level_info_inverse:"%{support_level_info_inverse}"}),account_name:h.default.createElement("strong",null,this.props.accountName),support_level_info_inverse:h.default.createElement("strong",null,i.inverse)},"$1")))}},{key:"renderOldSupportSettings",value:function(){return h.default.createElement("fieldset",{"data-capybara":"level-of-support"},h.default.createElement("legend",null,I18n.t("Support Settings")),h.default.createElement("label",null,I18n.t("Level of Support")),h.default.createElement(v.default,{className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:this.handleSupportLevelChanged,selectedValue:this.props.config.supportLevel,children:(0,b.getSupportLevelSettings)().map(function(e){return h.default.createElement(y.default,{key:e.value,value:e.value,label:e.label})})}),h.default.createElement("div",null,h.default.createElement("label",{className:"pointer inline-block margin-b-m"},h.default.createElement("input",{type:"checkbox",name:"showCustomSupportInfo",onChange:this.handleShowCustomSupportInfoChanged,checked:this.props.config.showCustomSupportInfo||!1,className:"margin-r-xs"}),I18n.t("Custom Support Contact Info"))),this.props.config.showCustomSupportInfo&&this.renderCustomSupportInfo(),h.default.createElement("div",null,h.default.createElement("label",{className:"pointer inline-block margin-b-m"},h.default.createElement("input",{type:"checkbox",name:"useCustomSupport",onChange:this.toggleUseCustomSupport,checked:this.props.config.useCustomSupport||!1,className:"margin-r-xs","data-capybara":"support-urls"}),I18n.t("Custom Support URLs"))),this.props.config.useCustomSupport&&this.renderCustomSupportFields())}},{key:"renderCustomSupportInfo",value:function(){return h.default.createElement("div",null,h.default.createElement("label",{className:"margin-l-m"},I18n.t("Name")),h.default.createElement("input",{type:"text",value:this.props.config.supportName,name:"supportName",onChange:this.handleTextInputChangedOld("supportName"),className:"block padding-trbl-s \\ input-m margin-l-m margin-b-xl margin-t-s"}),h.default.createElement("label",{className:"margin-l-m"},I18n.t("Phone")),h.default.createElement("input",{type:"text",value:this.props.config.supportPhone,name:"supportPhone",onChange:this.handleTextInputChangedOld("supportPhone"),className:"block padding-trbl-s \\ input-m margin-l-m margin-b-xl margin-t-s"}),h.default.createElement("label",{className:"margin-l-m"},I18n.t("Email")),h.default.createElement("input",{type:"text",value:this.props.config.supportEmail,name:"supportEmail",onChange:this.handleTextInputChangedOld("supportEmail"),className:"block padding-trbl-s \\ input-m margin-l-m margin-b-xl margin-t-s"}))}},{key:"renderInstructureProvidedSupportFields",value:function(){var e=this.props.config.supportLevel||w,t=N.SUPPORT_CONTACT_DEFAULTS[e].chatUrl,n=N.SUPPORT_CONTACT_DEFAULTS[e].supportPhoneNumber;return"lite"!==this.props.accountType&&"free"!==this.props.accountType||(t="",n=""),h.default.createElement("div",{className:"support-settings__support-fields__contact-information"},h.default.createElement("div",null,I18n.t("Instructure supported users will see")),h.default.createElement("fieldset",{className:"support-settings__support-fields__fieldset"},h.default.createElement("legend",{className:"support-settings__support-fields__legend"},I18n.t("Contact Info")),h.default.createElement("div",{className:"support-settings__support-fields__field-group"},h.default.createElement(k.default,{model:this.props.config,field:"customSupportPhoneNumber",onChange:(0,T.partial)(this.handleTextInputChanged,"customSupportPhoneNumber"),label:I18n.t("Phone"),default:n,className:"support-settings__support-fields__field",activeOnEmptyValue:!0}),h.default.createElement(k.default,{model:this.props.config,field:"customSupportTicketUrl",onChange:(0,T.partial)(this.handleTextInputChanged,"customSupportTicketUrl"),label:I18n.t("Support Ticket URL"),default:N.SUPPORT_CONTACT_DEFAULTS[e].supportTicketUrl,className:"support-settings__support-fields__field",activeOnEmptyValue:!0}),h.default.createElement(k.default,{model:this.props.config,field:"customSupportChatUrl",onChange:(0,T.partial)(this.handleTextInputChanged,"customSupportChatUrl"),label:I18n.t("Chat URL"),default:t,className:"support-settings__support-fields__field",activeOnEmptyValue:!0}),h.default.createElement(k.default,{model:this.props.config,field:"customSupportHelpArticlesUrl",onChange:(0,T.partial)(this.handleTextInputChanged,"customSupportHelpArticlesUrl"),label:I18n.t("Help Articles URL"),default:N.SUPPORT_CONTACT_DEFAULTS[e].supportHelpArticlesUrl,className:"support-settings__support-fields__field",activeOnEmptyValue:!0}))))}},{key:"renderCustomerProvidedSupportFields",value:function(){return h.default.createElement("div",{className:"support-settings__support-fields__contact-information"},h.default.createElement("div",null,I18n.t("%{customer} supported users will see",{customer:this.props.accountName})),h.default.createElement("fieldset",{className:"support-settings__support-fields__fieldset"},h.default.createElement("legend",{className:"support-settings__support-fields__legend"},I18n.t("Contact Info")),h.default.createElement("div",{className:"support-settings__support-fields__field-group"},h.default.createElement(k.default,{model:this.props.config,field:"supportPhone",onChange:(0,T.partial)(this.handleTextInputChanged,"supportPhone"),label:I18n.t("Phone"),className:"support-settings__support-fields__field"}),h.default.createElement(k.default,{model:this.props.config,field:"supportEmail",onChange:(0,T.partial)(this.handleTextInputChanged,"supportEmail"),label:I18n.t("Email or Support Ticket URL"),className:"support-settings__support-fields__field"}),h.default.createElement(k.default,{model:this.props.config,field:"customerProvidedSupportChatUrl",onChange:(0,T.partial)(this.handleTextInputChanged,"customerProvidedSupportChatUrl"),label:I18n.t("Chat URL"),className:"support-settings__support-fields__field"}),h.default.createElement(k.default,{model:this.props.config,field:"customerProvidedSupportHelpArticlesUrl",onChange:(0,T.partial)(this.handleTextInputChanged,"customerProvidedSupportHelpArticlesUrl"),label:I18n.t("Help Articles URL"),className:"support-settings__support-fields__field"}),h.default.createElement(k.default,{model:this.props.config,field:"supportName",onChange:(0,T.partial)(this.handleTextInputChanged,"supportName"),label:I18n.t("Name"),className:"support-settings__support-fields__field"}),h.default.createElement("label",{className:"pointer inline-block margin-b-m"},h.default.createElement("input",{type:"checkbox",name:"showCustomSupportInfo",onChange:this.handleShowCustomSupportInfoChanged,checked:this.props.config.showCustomSupportInfo||!1,className:"support-settings__support-fields__checkbox"}),I18n.t("Use Customer Provided Support Contact Info")))))}},{key:"renderCustomSupportFields",value:function(){var e=this.props.config.supportLevel||w,t=this.props.config.customSupportChatUrl||N.SUPPORT_CONTACT_DEFAULTS[e].chatUrl,n=this.props.config.customSupportTicketUrl||N.SUPPORT_CONTACT_DEFAULTS[e].supportTicketUrl,r=this.props.config.customSupportPhoneNumber||N.SUPPORT_CONTACT_DEFAULTS[e].supportPhoneNumber;return"lite"!==this.props.accountType&&"free"!==this.props.accountType||(t="",r=""),h.default.createElement("div",null,h.default.createElement("label",{className:"margin-l-m"},I18n.t("Chat URL")),h.default.createElement("input",{type:"text",value:t,name:"customSupportChatUrl",onChange:this.handleTextInputChangedOld("customSupportChatUrl"),className:"block padding-trbl-s input-m margin-l-m margin-b-xl margin-t-s","data-capybara":"support-chat-url"}),h.default.createElement("label",{className:"margin-l-m"},I18n.t("Support Ticket URL")),h.default.createElement("input",{type:"text",value:n,name:"customSupportTicketUrl",onChange:this.handleTextInputChangedOld("customSupportTicketUrl"),
className:"block padding-trbl-s input-m margin-l-m margin-b-xl margin-t-s"}),h.default.createElement("label",{className:"margin-l-m"},I18n.t("Support Phone Number")),h.default.createElement("input",{type:"text",value:r,name:"customSupportPhoneNumber",onChange:this.handleTextInputChangedOld("customSupportPhoneNumber"),className:"block padding-trbl-s input-m margin-l-m margin-b-xl margin-t-s"}))}}]),t}(h.default.Component);R.propTypes={config:n(1411),accountType:I.string,onChange:I.func,accountName:I.string,inSubAccount:I.bool},R.defaultProps={config:{},accountType:"paid",inSubAccount:!1},t.default=R,e.exports=t.default},function(e,t,n){"use strict";function r(e){e.preventDefault(),e.stopPropagation()}var a=n(47),s=t,i=[];s.capture=function(e){var t=i.indexOf(e);t===-1&&(i.push(e),1===i.length&&a(document).on("dragover drop",r))},s.release=function(e){var t=i.indexOf(e);t>-1&&(i.splice(t),0===i.length&&a(document).off("dragover drop",r))}},function(e,t,n){"use strict";var r=n(4),a=r.assign;e.exports=function(e){var t={},n={initialize:function(){a(t,this.getInitialState())},getInitialState:function(){return null},setState:function(n){a(t,n),e()},replaceState:function(n){var r;for(r in t)t.hasOwnProperty(r)&&delete t[r];a(t,n),e()},clear:function(){this.replaceState(this.getInitialState()||{})}};return{container:t,API:n}}},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(33);e.exports=r({schema:s,perform:function(e){var t=e.type,n=e.id,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({url:"/api/author/"+t+"/"+n+"/attachments",dataType:"json",type:"POST",data:r})},parse:function(e,t){return e(t.attachments[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(8),o=n(7);e.exports=i({schema:n(846),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({url:"/api/media/cdn",dataType:"json",type:"POST",data:{images:[(0,s.default)({url:e,id:1},t)]}})},parse:function(e,t){return e(t.signed_images[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(33),s=n(7);e.exports=r({schema:a,perform:function(e,t){var n=t.type,r=t.id;return s({url:"/api/author/"+n+"/"+r+"/attachments/"+e,type:"DELETE"})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(33),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e,t){var n=t.id,r=t.learnerId;return(0,u.default)({url:"/api/learner/tasks/"+n+"/learners/"+r+"/attachments/"+e,type:"DELETE"})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(33),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e){var t=e.id,n=e.learnerId;return(0,u.default)({url:"/api/learner/tasks/"+t+"/learners/"+n+"/attachments?limit=100",dataType:"json"})},parse:function(e,t){return t.attachments.map(function(t){return e(t)})}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(33),s=n(7);e.exports=r({schema:a,perform:function(e){var t=e.type,n=e.id,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.nextPageURL||"/api/author/"+t+"/"+n+"/attachments";return s({url:a,dataType:"json",data:r.data})},parse:function(e,t){return t.attachments.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(33),s=n(126),i=n(68),o=i.of(a);e.exports=r({schema:a,perform:function(e){var t=function(t){e.onProgress(t.attachments.map(o))};return s({url:"/api/author/"+e.context.type+"/"+e.context.id+"/attachments?limit=50",onProgress:t})},parse:function(e,t){return t.attachments.map(function(t){return e(t)})}})},function(e,t,n){"use strict";function r(e){return u[e]||e}var a=n(8),s=n(33),i=n(126),o=n(68),l=o.of(s),u={course_templates:"courses"};e.exports=a({schema:s,perform:function(e){var t=function(t){e.onProgress(t.attachments.map(l))};return i({url:"/api/learner/"+r(e.context.type)+"/"+e.context.id+"/attachments?limit=50",onProgress:t})},parse:function(e,t){return t.attachments.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(180),i=n(228);e.exports=r({schema:n(45),perform:function(e){return a({url:"/api/author/course_templates/"+e+"?includes[]=has_shared_enrollments",dataType:"json",cache:!1})},parse:function(e,t){return i(s(t,"meta.permissions")),e(t.course_templates[0])}})},function(e,t,n){"use strict";var r=n(25),a=n(1113);e.exports=function(){return new r(function(e){e(a)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(8),o=r(i),l=n(7),u=r(l),c=n(119),d=r(c),p=n(59);t.default=(0,o.default)({displayName:"fetchLtiEmbeddedContentResource",schema:p.LtiResourceSchema,perform:function(e,t,n,r,a){var i,o=a+"_id",l=(i={tool_id:e},(0,s.default)(i,o,t),(0,s.default)(i,"content_url",n),(0,s.default)(i,"roles",r),i),c="/api/learner/lti_embedded_"+a+"_content_launch"+(0,d.default)(l);return(0,u.default)({url:c,dataType:"json",type:"GET"})},parse:function(e,t){return(0,p.normalizeLtiResource)(e,t)}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(7),a=n(8),s=n(84);e.exports=function(e){return a({schema:s,perform:function(){return r({url:"/api/lti_placements",data:{placement:e},dataType:"json",type:"GET"})},parse:function(e,t){return t.lti_placements.map(e)}})()}},function(e,t,n){"use strict";var r=n(8),a=n(33),s=n(7),i=n(25);e.exports=r({schema:a,perform:function(e){var t=e.url,n=e.attachmentIds;return 0===n.length?i.resolve([]):s({url:t,dataType:"json",data:{attachment_ids:Array.isArray(n)?n.join(","):n,limit:Array.isArray(n)?n.length:null}})},parse:function(e,t){return"undefined"!=typeof t.attachments?t.attachments.map(e):[]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(85),u=r(l),c=n(180),d=r(c),p=n(228),f=r(p);t.default=(0,s.default)({schema:u.default,perform:function(e,t){return(0,o.default)({url:"/api/author/tasks/"+e,cache:!1,data:t})},parse:function(e,t){return(0,f.default)((0,d.default)(t,"meta.permissions")),t.tasks.map(e)[0]}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i);e.exports=(0,s.default)({schema:n(279),perform:function(){return(0,o.default)({url:"/api/learner/profile/self",dataType:"json",method:"GET"})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(1438),u=n(278);t.default=(0,s.default)({url:"/api/learner/courses/%@/slides/%@",schema:u.PayloadType,skipNormalize:"*",perform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.default)({url:"/api/learner/courses/"+e+"/slides/"+t,type:"GET",dataType:"json",data:n})},parse:function(e,t){return{course:t.courses[0],slide:Object.assign({},(0,l.parseSlide)(t.slides[0]),{next:t.meta&&t.meta.next,previous:t.meta&&t.meta.previous,course_id:t.courses[0].id})}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(1438),u=n(3275);t.default=(0,s.default)({url:"/api/learner/courses/%@/slides/%@/preview",schema:u.PayloadType,skipNormalize:"*",perform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.default)({url:"/api/learner/courses/"+e+"/slides/"+t+"/preview",type:"GET",dataType:"json",data:n})},parse:function(e,t){return{course:t.courses[0],slide:Object.assign({},(0,l.parseSlide)(t.slides[0]),{course_id:t.courses[0].id,next:t.meta&&t.meta.next,previous:t.meta&&t.meta.previous})}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(126),s=n(68),i=n(119),o=n(247),l=s.of(o);e.exports=r({schema:o,perform:function(e){var t=function(t){e.onProgress(t.tags.map(l))},n=i({scope:e.scope,limit:100});return a({url:"/api/learner/tags"+n,onProgress:t})},parse:function(e,t){return t.tags.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(33),s=n(7);e.exports=r({schema:a,perform:function(e){var t=e.id,n=e.context,r=e.deltaObject;return s({url:"/api/author/"+n.type+"/"+n.id+"/attachments/"+t,type:"PATCH",dataType:"json",data:r})},parse:function(e,t){return t.attachments.map(function(t){return e(t)})[0]}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.asyncParam=function(e,t){return function(n){var r=n.param,a=n.defaultValue;return"function"==typeof e[r]?e[r](t.params):e[r]||a}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(78),o=r(i),l=n(6),u=r(l);e.exports={openDrawerModal:function(){this.setState({drawerModalIsOpen:!0})},closeDrawerModal:function(){this.setState({drawerModalIsOpen:!1})},isDrawerModalOpen:function(){return this.state.drawerModalIsOpen},renderDrawerModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=arguments[3],a=(0,u.default)({"drawer-modal__modal":!0,"drawer-modal__modal--nested":t},n),i=(0,u.default)({"drawer-modal__overlay":!0,"drawer-modal__overlay--nested":t});return s.default.createElement(o.default,{isOpen:this.state.drawerModalIsOpen,shouldCloseOnOverlayClick:!1,className:a,overlayClassName:i,contentLabel:r||""},e)}}},function(e,t,n){"use strict";var r=n(3163),a=function(){return{confirmedImportIDs:[],poller:null,onComplete:null,onUpdate:null,confirmImport:function(e){this.confirmedImportIDs.push(e)},register:function(e,t){this.onUpdate=e,this.onComplete=t,this._pollImportObjects()},unregister:function(){this.onUpdate=null,this.onComplete=null,this._clearPoller()},_isImportInProgress:function(){return 0!==this.confirmedImportIDs.length},_pollImportObjects:function(){(this.onComplete||this.onUpdate)&&r(null,this.confirmedImportIDs).then(this._handleFetchImports.bind(this))},_handleFetchImports:function(e){this._isImportInProgress()&&(e.length>0?(this.onUpdate&&this.onUpdate(),this.poller=setTimeout(this._pollImportObjects.bind(this),1e3)):(this.confirmedImportIDs=[],this.onComplete&&this.onComplete()))},_clearPoller:function(){this.poller&&(clearTimeout(this.poller),this.poller=null)}}};e.exports=a(),e.exports.constructor=a},function(e,t,n){"use strict";var r=n(12),a=n(10),s=a.string,i=a.object,o=a.shape,l=a.oneOfType,u=a.arrayOf,c=a.oneOf,d=a.number;e.exports=o({id:l([d,s]),name:s,duration:d,status:c([r.NOTORIOUS_STATUS_QUEUED,r.NOTORIOUS_STATUS_PROCESSING,r.NOTORIOUS_STATUS_PROCESSED,r.NOTORIOUS_STATUS_FAILED,r.NOTORIOUS_STATUS_SUCCEEDED]),links:i,sources:u(n(453))})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.bool;e.exports=a({currentUser:s,isAuthenticated:i,isMasquerading:i,isPublic:i,logoutPending:i,persistedToken:s,oauthRedirectUrl:s})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,title:r.string,description:r.string,startAt:r.string,endAt:r.string}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string;e.exports=a({id:s,url:s})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=n(454),i=r(s);t.default=(0,a.shape)({learnableTitle:a.string,issuer:a.string,recipient:a.string,earnedAt:a.string,score:a.number,brandingOverride:i.default}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default={procrastination:(0,r.arrayOf)(r.number),activeUsers:(0,r.shape)({used:r.number.isRequired,total:r.number.isRequired}),learningTime:(0,r.shape)({seconds:r.number}),learningItems:(0,r.shape)({completedAll:r.number,completedRequired:r.number,inProgressAll:r.number,notStartedAll:r.number,overdueAll:r.number,permanentlyFailedAll:r.number,totalAll:r.number,totalRequired:r.number}),mostActiveDay:(0,r.shape)({day:r.number,seconds:r.number,visits:r.number}),sessionsByDevice:(0,r.shape)({desktop:r.number,tablet:r.number,phone:r.number}),countsInDateRange:(0,r.shape)({courseTemplates:r.number,programs:r.number,liveCourses:r.number,users:r.number}),hero:(0,r.shape)({accountCompletionCounts:(0,r.shape)({totalEnrollments:r.number.isRequired,completedEnrollments:r.number.isRequired,totalLearners:r.number}).isRequired,teamCompletionCounts:(0,r.shape)({totalEnrollments:r.number.isRequired,completedEnrollments:r.number.isRequired,totalLearners:r.number}).isRequired,results:(0,r.arrayOf)(n(627)).isRequired})},e.exports=t.default},function(e,t){"use strict";e.exports={CREATED:"created",PROCESSING:"processing",DONE:"done",FAILED:"failed"}},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.arrayOf,o=r.oneOf,l=r.bool;e.exports=s({id:a,active:l,userId:a,uid:a,name:a,email:a,avatarUrl:a,startAt:a,state:o(["invited","registered","complete"]),expiresAt:a,sources:i(s({id:a,type:a})),__emberModel__:null})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.number,o=r.arrayOf,l=s({id:a,author:s({fullname:a,id:a}),chapters:o(s({title:a,videos:o(s({durationInSeconds:i,title:a}))})),countries:i,description:a,difficulty:a,durationInSeconds:i,metaDataTopics:a,title:a,views:i,welcomeVideoId:a});e.exports=l},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.arrayOf,o=s({name:a,id:a,options:i(s({id:a.isRequired,name:a.isRequired}))});e.exports=o},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.instanceOf,i=r.object,o=r.shape,l=r.oneOfType;e.exports=o({id:a,file:l([s(File),i])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({productName:r.string,subscriptionType:r.string}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,title:r.string,description:r.string}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.arrayOf,s=r.number,i=r.shape,o=r.string;e.exports={id:o,course:i({attemptsToComplete:a(s),enrollmentSummary:i({total:s.isRequired,created:s.isRequired,active:s.isRequired,complete:s.isRequired,failed:s.isRequired,permanentlyFailed:s.isRequired})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({teamData:(0,r.arrayOf)((0,r.shape)({day:r.number.isRequired,score:r.number.isRequired}))}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,retainQuizId:r.string,title:r.string,type:r.string,subject:r.string,staticOrder:r.bool,answers:(0,r.arrayOf)((0,r.shape)({id:r.string,body:r.string,position:r.number})),chosenAnswers:(0,r.arrayOf)(r.string),correctAnswers:(0,r.arrayOf)(r.string),attachmentUrl:r.string,attachmentAlign:r.string,meta:(0,r.shape)({next:r.string,previous:r.string}),score:r.number,feedback:(0,r.shape)({correct:r.string,incorrect:r.string,both:r.string,useSameFeedback:r.bool})}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({name:r.string,label:r.string,granted:r.bool,isComputed:r.bool}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({id:a,type:a,title:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=n(112),i=r(s),o=n(104),l=r(o),u=(0,a.shape)({id:a.string,userId:a.string,uid:a.string,name:a.string,email:a.string,avatarUrl:a.string,endAt:a.string,completedAt:a.string,state:(0,a.oneOf)(["assigned","complete"]),sources:(0,a.arrayOf)((0,a.shape)({id:a.string,type:a.string})),approval:i.default,defaultApprover:l.default,foreseenApprover:l.default});t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.arrayOf;e.exports=s({id:a,resource:a,events:i(a)})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.bool,i=r.string;e.exports=a({id:i,enrolled:s})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.bool,i=r.string;e.exports=a({id:i,enrolled:s})},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(5),i=s.Icon,o=n(67),l=n(6),u=n(192),c=n(241),d=n(41),p=n(466);e.exports=a.createClass({displayName:"LyndaBreadcrumbs",mixins:[p],propTypes:{category:c,searchTerm:r.string,course:u,isLearnerLibrary:r.bool.isRequired},render:function(){var e=1+!!this.props.course+!(!this.props.category&&!this.props.searchTerm);this.props.course&&d(this.props.category||this.props.searchTerm,"A category or search term must be specified if a course is passed to Lynda breadcrumbs");var t=this.props.course||{},n=this.props.category||{},r=void 0,s=void 0;this.props.searchTerm?(r=I18n.t("Search Results: %{searchTerm}",{searchTerm:this.props.searchTerm}),s=this.getLyndaPath("/course?search="+this.props.searchTerm)):(r=I18n.t("%{category} Training",{category:n.name}),s=this.getLyndaPath("/categories/"+n.id));for(var i=[{text:I18n.t("Overview"),link:this.getLyndaPath("/")},{text:r,link:s},{text:t.title,link:this.getLyndaPath("/")}],o=[],l=0;l<e;l++)o.push(i[l]);return a.createElement("div",{className:"lynda-breadcrumbs","data-capybara":"lynda-breadcrumbs"},o.map(this.renderCrumb))},renderCrumb:function(e,t,n){var r=t===n.length-1,s={className:l({"lynda-breadcrumbs__link":!0,"lynda-breadcrumbs__link--active":r}),to:e.link,children:e.text},u="gs-arrow-right lynda-breadcrumbs__icon",c=r?a.createElement("span",s):a.createElement(o,s);return a.createElement("span",{key:e.text,"data-capybara":"lynda-breadcrumb-link"},c,!r&&a.createElement(i,{className:u}))}})},function(e,t,n){"use strict";var r=n(10),a=r.number,s=r.shape,i=r.string;e.exports=s({id:i,title:i,enrollmentId:a,learnableId:i})},function(e,t,n){"use strict";var r=n(21),a=n(3287),s=n(3288),i=n(7),o=n(25),l=3e3,u=10;e.exports=r({displayName:"/var/web/bridge/jsapp/shared/screenlets/Lynda/shared/stores/LyndaLearnerCourseStore.js",schema:n(866),POLL_FREQ:l,POLL_RETRIES:u,fetch:function(e){var t=this;return a(e).then(function(n){var r=t.cache.getCollection({}).filter(function(t){return t.id===e});0===r.length&&t.cache.addToCollection({},[n])})},fetchAll:function(){var e=this;return s().then(function(t){e.cache.setCollection({},t)})},get:function(e){return this.cache.get(e)},getAll:function(){return this.cache.getCollection({})},hasCourse:function(e){return!!this.get(e)},pollUntilEnrolled:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;a<=0?n():setTimeout(function(){r.fetch(e).then(t,r.pollUntilEnrolled.bind(r,e,t,n,a-1))},l)},delete:function(e,t){var n=this;return i({url:"/api/learner/courses/"+t,type:"DELETE"}).then(function(){n.cache.remove(e)})},enroll:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new o(function(r,a){i({url:"/api/learner/markets/lynda/course_library",data:{courses:[{id:e.courseId,title:e.courseTitle,author:e.courseAuthor,durationInSeconds:e.durationInSeconds}]},type:"POST"}).then(function(s){s.success&&n?t.pollUntilEnrolled(e.courseId,r,a):s.success&&r()},a)})}})},function(e,t,n){"use strict";var r=n(11);e.exports={secondsToHours:function(e){return r.unix(e).utc().format("H[h] m[m]")},secondsToMinutes:function(e){var t=r.unix(e).utc();return t.hours()>0?t.format("H[h] m[m] s[s]"):t.format("m[m] s[s]")}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={Beginner:{text:I18n.t("Beginner"),className:"beginner",id:"beginner"},Intermediate:{text:I18n.t("Intermediate"),className:"intermediate",id:"intermediate"},Advanced:{text:I18n.t("Advanced"),className:"advanced",id:"advanced"},"Beginner + Intermediate":{text:I18n.t("Beginner + Intermediate"),className:"intermediate",id:"beginner + intermediate"},"Intermediate + Advanced":{text:I18n.t("Intermediate + Advanced"),className:"advanced",id:"intermediate + advanced"},"Beginner + Advanced":{text:I18n.t("Beginner + Advanced"),className:"advanced",id:"beginner + advanced"},"Beginner + Intermediate + Advanced":{text:I18n.t("Beginner + Intermediate + Advanced"),className:"advanced",id:"beginner + intermediate + advanced"},"Beginner,Intermediate,Advanced":{text:I18n.t("Appropriate for all"),className:"all",id:"all"},default:{text:e||I18n.t("Unspecified"),className:"all",id:"default"}},n=e;return t[n]||t.default},e.exports=t.default},function(e,t,n){"use strict";var r=n(31),a=n(39);t.getLabel=function(){return r.get("DOMAIN.config.custom_back_to_my_learning_label")?r.get("DOMAIN.config.custom_back_to_my_learning_label"):I18n.t("Back to My Learning")},t.hasHref=function(){return!!r.get("DOMAIN.config.custom_back_to_my_learning_href")},t.getHref=function(){return r.get("DOMAIN.config.custom_back_to_my_learning_href").replace(/:uid:/g,a.getUID())}},function(e,t,n){"use strict";function r(e){return e.split(c).filter(function(e){return e.length>0})}var a=n(178),s=n(41),i=n(3314),o=n(4),l=o.assign,u=" ",c=Object.freeze(/\s+/);t.buildCompositePhrases=function(e){return 0===e.length?[{placeholder:I18n.t('Factual statement - "Golden Gate is a bridge"'),sourceIds:[]}]:e.reduce(function(e,t){if(a(t.distractors).length>0)return e.concat([{fact:t.fact,distractors:t.distractors,sourceIds:[t.id]}]);var n=e[e.length-1],r=n&&!n.distractors;return r?(n.fact=[n.fact].concat(t.fact).join(u),n.sourceIds.push(t.id),e):e.concat([{fact:t.fact,sourceIds:[t.id]}])},[])},t.composeTitle=function(e){return e.map(function(e){return e.fact}).join(u)},t.canJoin=function(e,t){return e&&t&&0===e.distractors.length&&0===t.distractors.length},t.joinPhrase=function(e,n){var r=e.filter(function(e){return e.id===n})[0],a=e.indexOf(r),i=e[a-1];return s(i,"A phrase can only be joined if it is preceded by another."),s(t.canJoin(r,i),"A phrase can only be joined if neither it nor its previous sibling have any distractors defined."),e.filter(function(e){return e.id!==n}).map(function(e){return e===i?l({},e,{fact:[e.fact,r.fact].join(u)}):e})},t.splitPhrase=function(e,t,n){var a=e.filter(function(e){return e.id===t})[0],i=r(a.fact);s(i.length>1,"A phrase can only be split if it contains at least two words."),s(i.length>n,"Token index "+n+" is out-of-bound; the statement contains only "+i.length+" tokens.");var o=l({},a,{fact:i.slice(0,n).join(u)}),c={fact:i.slice(n).join(u)};return e.reduce(function(e,t){return t===a?e.concat([o,c]):e.concat(t)},[])},t.adjustFactInStatement=function(e,t,n){if(0===t.length)return s(0===e.length,"\n      Adjusting a fact with no ID (the placeholder) is correct only if there are\n      no answers defined, however there seems to be "+e.length+" answers\n      defined!\n    "),r(n).map(function(e){return{fact:e}});if(1===t.length)return e.reduce(function(e,s){return s.id!==t[0]?e.concat(s):a(s.distractors).length>0?e.concat([l({},s,{fact:n})]):e.concat(r(n).map(function(e){return{fact:e}}))},[]);var o=r(n).map(function(e){return{fact:e}}),u=t.map(function(t){return e.indexOf(e.filter(function(e){return e.id===t})[0])});return i(e,o,u).permutedSet},t.tokenize=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return!!e&&e.some(function(e){return e.productName===t})}function s(e,t,n){var r=(0,l.cloneDeep)(e)||[],a=(0,l.remove)(r,function(e){return e.productName===t})[0]||{productName:t};return(0,c.default)(n===!1||"string"==typeof n,"Product subscription type must be a string or a Boolean false to disable"),n&&(a.subscriptionType=n,r.push(a)),r}function i(e,t){switch(e){case"learn":return t.accountType;case"perform":return"paid";case"career":return"paid";default:throw new Error("Bad product name")}}function o(){return[{productName:"learn",subscriptionType:"paid"}]}Object.defineProperty(t,"__esModule",{value:!0}),t.isProductEnabled=a,t.updateProduct=s,t.defaultSubscriptionType=i,t.getDefaultAccountProducts=o;var l=n(4),u=n(41),c=r(u)},function(e,t,n){"use strict";function r(e){return e?"string"!=typeof e?String(e):e:""}var a=Object.freeze(["is","is_not"]),s=n(12),i=s.SMART_GROUP_JOIN_TYPE_INTERSECT;t.isInvalid=function(e){return 0===r(e.customFieldId).length||0===r(e.value).length||a.indexOf(e.predicate)===-1},t.isValid=function(e){return!t.isInvalid(e)},t.isCombinationInvalid=function(e,t){var n=e===i,r=n?"is":"is_not";return t.some(function(e){return t.filter(function(t){return t.customFieldId===e.customFieldId&&e.predicate===r}).length>1})},t.serialize=function(e){return{id:e.id,custom_field_id:e.customFieldId,value:e.value,predicate:e.predicate}},t.deserialize=function(e){return{id:e.id,customFieldId:e.custom_field_id,value:e.value,predicate:e.predicate}},t.serializeForRemoval=function(e){return{id:e.id,_destroy:!0}}},function(e,t,n){"use strict";var r=n(21),a=n(25),s=n(3155),i=n(3241),o=r({displayName:"DNSStatusStore",schema:n(191),polls:{},storeOptions:{defaultCacheOptions:{idGenerator:function(e){var t=e.subdomain;return t}}},fetch:function(e){var t=this;return s(e).then(function(e){return t.cache.add(e),e}).catch(function(n){throw t.cache.add({subdomain:e,status:"error"}),n})},get:function(e){return this.cache.get(e)},update:function(e){var t=this;return this.cache.add({subdomain:e,status:"updating"}),i(e).then(function(n){return t.cache.add(n),o.poll(e)}).catch(function(n){throw t.cache.add({subdomain:e,status:"error"}),n})},poll:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new a(function(r,a){var s=function s(){t.fetch(e).then(function(a){t.cache.add(a),"updating"===a.status?t.polls[e]=window.setTimeout(s,n):r(a)},function(n){t.cache.add({subdomain:e,status:"error"}),a(n)})};s()})},cancelPoll:function(e){window.clearTimeout(this.polls[e]),delete this.polls[e]},cancelPolls:function(){var e=this;Object.keys(this.polls).forEach(function(t){e.cancelPoll(t)})}});e.exports=o},function(e,t,n){"use strict";var r=n(21),a=n(25),s=n(3110),i=n(3157),o=r({displayName:"DownloadStore",schema:n(456),create:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,n).then(function(e){return t.cache.add(e),e})},fetch:function(e){var t=this;return i(e).then(function(e){return t.cache.add(e),e})},get:function(e){return this.cache.get(e)},poll:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new a(function(r){var a=function a(){t.fetch(e).then(function(e){switch(e.state){case"done":case"failed":r(e);break;default:window.setTimeout(a,n)}},function(e){401!==e.status&&window.setTimeout(a,n)})};a()})}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3158),o=r(i),l=n(3160),u=r(l),c=n(310),d=r(c),p=(0,s.default)({displayName:"LearnableItemStore",schema:d.default,storeOptions:{defaultCacheOptions:{idGenerator:function(e){return e.itemType+":"+e.id}}},initialize:function(){this.setState({totalPages:0})},fetchAll:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(e,n).then(function(r){var a=r.content,s=r.meta;t.setState({totalPages:s.totalPages}),t.cache.setCollection([e,n],a)})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.cache.getCollection([e,t])},fetchNewContent:function(e,t){var n=this,r=t.search;return(0,u.default)(e,r).then(function(t){var r=t.content;n.cache.setCollection([e,{newOnly:!0}],r)})},getNewContent:function(e){return this.cache.getCollection([e,{newOnly:!0}])},getTotalPages:function(){return this.state.totalPages},deleteLearnable:function(e,t){var n=this.cache.getCollection([e,{}]),r=n.findIndex(function(e){return e.id===t.id});r!==-1&&(n.splice(r,1),this.cache.setCollection([e,{}],n))},updateLearnables:function(e,t){var n=this.cache.getCollection([e,{}]);t.map(function(e){var t=e.result,r=e.relevance,a=n.find(function(e){return e.id===t.id});a?a.relevance=r:n.push({id:t.id,itemId:t.itemId,itemType:t.itemType,name:t.name,relevance:r})}),this.cache.setCollection([e,{}],n)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(316),o=r(i),l=n(3176),u=r(l),c=n(3156),d=r(c),p=n(3175),f=r(p),m=n(3245),h=r(m),g=n(3130),v=r(g),_=n(40),y=r(_),b=n(249),E=r(b),C=n(25),I=r(C),T=n(4),N=n(3),S=n(231),x=["DEFAULT"],A={provider:N.string,otherProvider:N.string,meetingUrl:N.string,accessCode:N.string,phone:N.string,hostKey:N.string,password:N.string,defaultSession:N.bool,applyAll:N.bool,registrationLink:N.string},k=(0,s.default)({displayName:"LiveCourseWebConferenceStore",schema:n(158),newWebConference:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return(0,T.each)(Object.keys(A),function(n){t[n]=e[n]||null}),t},fetchDefaults:function(){var e=this;return(0,d.default)().then(function(t){e.cache.setCollection(x,t)})},fetchAll:function(e){var t=this;return(0,u.default)(e).then(function(n){t.cache.setCollection([e],n)})},fetch:function(e,t){var n=this;return(0,f.default)(e,t).then(function(e){n.cache.add(e)})},getDefaults:function(){return this.cache.getCollection(x)},getAll:function(e){return this.cache.getCollection([e])},get:function(e){return this.cache.get(e)},getByLiveCourseSession:function(e,t){return this.getAll(e).find(function(e){return e.liveCourseSessionId===t})},getByDefaultProvider:function(e){return this.getDefaults().find(function(t){return t.provider===e})},update:function(e,t,n){var r=this,a=(0,E.default)(n,A,!0),s=this.getByLiveCourseSession(e,t);return 0===Object.keys(a).length?(console.warn("You have attempted to update a web conference with invalid parameters.","You may only modify one or more of the following attributes:",Object.keys(A)),null):this.cache.transaction(function(){return s&&r.cache.add((0,T.merge)({},s,a)),(0,h.default)(e,t,(0,y.default)(a)).then(function(t){if(a.applyAll){var n=(0,S.parseQueryString)(window.location.search).filters;o.default.fetchAll(e,{filters:n}),r.fetchAll(e)}s||r.cache.unshiftInCollection([e],t)})})},delete:function(e,t){var n=this,r=this.getByLiveCourseSession(e,t);return r?this.cache.transaction(function(){return n.cache.remove(r.id),(0,v.default)(e,t)}):I.default.resolve()}});e.exports=k},function(e,t,n){"use strict";var r=n(7),a="/api/password_tokens",s=function(e,t){return a+"/"+e+"/"+t},i={create:function(e){return r({url:a,method:"POST",data:{uid:e}})},confirm:function(e){return r({url:s(e,"confirm")}).then(function(t){return{token:e,name:t.users.name,uid:t.users.uid}})},reset:function(e,t){return r({url:s(e,"reset"),method:"POST",data:{password:t}}).then(function(e){return{token:e.links.token,user:e.links.user}})}};e.exports=i},function(e,t,n){"use strict";function r(e,t){return e&&t?e+"-"+t:null}var a=n(21),s=n(476),i=n(34),o=n(7),l=n(178),u=n(25),c="/api/presence",d=n(10),p=d.shape,f=d.arrayOf,m=d.string,h=a({displayName:"PresenceStore",schema:p({id:m,userNames:f(m)}),initialize:function(){this.schedulers={}},clear:function(){this.schedulers={}},create:function(e,t){var n=r(e,t);return n?o({url:c,type:"POST",dataType:"json",data:{current_path:n}}):u.reject()},destroy:function(e,t){var n=r(e,t);return n?o({url:c,type:"DELETE",data:{current_path:n}}):u.reject()},startScheduler:function(e,t){var n=this,a=r(e,t);this.schedulers[a]&&this.stopScheduler(e,t),this.schedulers[a]=new s({tick:function(){return n.create(e,t)},onTick:function(r){return n.setPresentUsers(e,t,r.users)},onStop:function(){return n.destroy(e,t)}}),this.schedulers[a].start()},stopScheduler:function(e,t){var n=r(e,t);this.schedulers[n]&&this.schedulers[n].stop&&(this.schedulers[n].stop(),this.schedulers[n]=null)},setPresentUsers:function(e,t,n){
var a=i.getCurrentUserId(),s=r(e,t);if(s){var o=l(n).filter(function(e){return e.id!==a}).map(function(e){return e.display_name});return this.cache.add({id:s,userNames:o})}},getPresentUsers:function(e,t){var n=this.cache.get(r(e,t));return n?n.userNames:[]},isAnotherUserPresent:function(e,t){var n=this.getPresentUsers(e,t);return n&&0!==n.length}});e.exports=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.defaultRanges={IncompleteLearnersReport:"90d",OverdueLearnersReport:"90d",CompletedLearnersReport:"1w",SignInReport:"1w",AdminDashboard:"7d"};t.defaultRangeFor=function(e){return n[e]}},function(e,t,n){"use strict";var r=n(7),a={enable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account";return this.request("POST",e,t)},fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account";return this.request("GET",e,t)},clear:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account";return this.request("PATCH",e,t)},disable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account";return this.request("DELETE",e,t)},request:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"account",a="account"===n?"/api/support/accounts":"/api/admin/sub_accounts";return r({url:a+"/"+t+"/saml_debugging",method:e})}};e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=r(a),i={enable:function(e){return this.request("POST",e)},fetch:function(e){return this.request("GET",e)},clear:function(e){return this.request("PATCH",e)},disable:function(e){return this.request("DELETE",e)},request:function(e,t){return(0,s.default)({url:"/api/admin/sub_accounts/"+t+"/scim_debugging",method:e})}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(21),o=n(7),l=n(224),u=n(228),c=n(180),d=n(40),p=n(68),f=p.of(n(1412)),m=n(4),h=m.assign,g=n(25),v=i({displayName:"SlideCommentStore",schema:n(1412),getInitialState:function(){return{unsavedItems:{}}},createComment:function(e,t){var n=this;return o({url:this._url(e),method:"POST",dataType:"json",data:{comment:d(t),parent_id:e.parentId}}).then(function(t){var r=n._parseComments(t)[0],a=n.cache.getCollection(e).slice(0);a.unshift(r),n._setCount(e,n.getCount(e)+1),n._setTotalCount(e,n.getTotalCount(e)+1),n.cache.setCollection(e,a)})},deleteComment:function(e,t){var n=this;return o({url:this._url(e)+("/"+t),method:"DELETE",dataType:"json"}).then(function(){var r=1+n.cache.get(t).childrenCount;n._setCount(e,n.getCount(e)-1),n._setTotalCount(e,n.getTotalCount(e)-r),n.cache.setCollection(e,n.cache.getCollection(e).filter(function(e){return e.id!==t}))})},findAll:function(e){var t=this;return o({url:this._url(e),method:"GET",data:{sort:e.sort,parent_id:e.parentId},dataType:"json"}).then(function(n){t._setNextPageUrl(e,n.meta.next),t._setTotalCount(e,n.meta.total_count),t._setCount(e,n.meta.count),t._cacheComments(e,t._parseComments(n))})},loadNext:function(e){var t=this,n=this.getNextPageUrl(e);return n?o({url:n,method:"GET",dataType:"json"}).then(function(n){t._setNextPageUrl(e,n.meta.next),t._setCount(e,n.meta.count),t._cacheComments(e,t._parseComments(n),!0)}):g.resolve()},_cacheComments:function(e,t,n){var r=this;n?this.cache.addToCollection(e,t):this.cache.setCollection(e,t),t.forEach(function(t){if(t.childrenCount){var n=l({},e,{parentId:t.id,sort:"newest"});r._setCount(n,t.childrenCount),r._setNextPageUrl(n,t.nextPageUrl),r._cacheComments(n,t.children)}})},rate:function(e,t,n){var r=this;return o({url:this._url(e)+("/"+t+"/rate"),method:"POST",data:{rating:n},dataType:"json"}).then(function(t){var n=r._parseComments(t)[0],a=r.cache.getCollection(e).slice(0),s=a.filter(function(e){return e.id===n.id})[0];l(s,n),r.cache.setCollection(e,a)})},updateComment:function(e,t,n){var r=this;return o({url:this._url(e)+("/"+t),method:"PUT",dataType:"json",data:{comment:d(n),parent_id:e.parentId}}).then(function(t){var n=r._parseComments(t)[0],a=r.cache.getCollection(e).slice(0),s=a.filter(function(e){return e.id===n.id})[0];l(s,n),r.cache.setCollection(e,a)})},setSaved:function(e,t){var n=h({},this.state.unsavedItems);t?delete n[e]:n[e]=!0,this.setState({unsavedItems:n})},areAllSaved:function(){var e=this.state.unsavedItems;return 0===Object.keys(e||{}).length},clearUnsaved:function(){this.setState({unsavedItems:{}})},getComments:function(e){return this.cache.getCollection(e)},getTotalCount:function(e){return 0|this._simpleGet({totalCount:e.slideId})},_setTotalCount:function(e,t){this._simpleSet({totalCount:e.slideId},t)},getCount:function(e){return 0|this._simpleGet({count:e})},_setCount:function(e,t){this._simpleSet({count:e},t)},getNextPageUrl:function(e){return this._simpleGet({nextPageUrl:e})},_setNextPageUrl:function(e,t){return this._simpleSet({nextPageUrl:e},t)},_simpleGet:function(e){return this.state[JSON.stringify(e)]},_simpleSet:function(e,t){this.setState((0,s.default)({},JSON.stringify(e),t))},_url:function(e){return"/api/learner/courses/"+e.courseId+"/slides/"+e.slideId+"/comments"},_parseComments:function(e){return u(c(e,"meta.permissions")),e.comments.map(f)}});e.exports=v},function(e,t,n){"use strict";var r=n(21),a=n(3120),s=n(3195),i=n(1409),o=n(3134),l=n(3250),u=n(25),c=r({displayName:"TagStore",schema:n(176),create:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getByName(e,n);return"undefined"!=typeof r?u.resolve(r):a(e).then(function(e){return t.cache.add(e),e})},fetch:function(e){var t=this;return i(e).then(function(e){t.cache.add(e)})},fetchAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cache.clear();var n=function(n){e.cache.addToCollection(t,n)};return s(Object.assign({onProgress:n},t))},get:function(e){return this.cache.get(e)},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cache.getCollection(e)},getByName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getAll(t).find(function(t){return t.name===e})},delete:function(e){var t=this;return this.cache.transaction(function(){return t.cache.remove(e),o(e)})},update:function(e,t){var n=this;return this.cache.transaction(function(){var r=n.get(e);return n.cache.add(Object.assign({},r,t)),l(e,t)})}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3209),o=r(i),l=n(3210),u=r(l),c=n(44),d=r(c),p=n(7),f=r(p),m=n(1482),h=r(m),g=n(20),v=r(g),_=n(126),y=r(_),b=n(40),E=r(b),C=(0,d.default)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.performWithoutParsing(t,e)}),I=(0,s.default)({displayName:"LearningItemStore",schema:n(81),fetch:function(e){var t=this;return(0,o.default)(e).then(function(e){t.cache.add(e)})},fetchAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=(0,h.default)(t),(0,v.default)("private_libraries")?(0,y.default)({url:"/api/learner/learning_items",type:"GET",dataType:"json",data:(0,E.default)(t)}).then(u.default.parse).then(function(n){e.cache.setCollection(t,n)}):C.findFirstPage(t).then(u.default.parse).then(function(n){e.cache.setCollection(t,n)})},fetchNext:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t=(0,h.default)(t),C.hasMorePages())return C.findNextPage(t).then(u.default.parse).then(function(n){e.cache.addToCollection(t,n)})},get:function(e){return this.cache.get(e)},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=(0,h.default)(e),this.cache.getCollection(e)},delete:function(e){var t=this;return(0,f.default)({url:"/api/learner/learning_items/"+e,type:"DELETE"}).then(function(){t.cache.remove(e)})}});e.exports=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(139),s=r(a),i=n(21),o=r(i),l=n(44),u=r(l),c=n(3213),d=r(c),p=n(3212),f=r(p),m=n(3218),h=r(m),g=n(3152),v=r(g),_=n(7),y=r(_),b=n(118),E=r(b),C=n(150),I=r(C),T=n(11),N=r(T),S=n(25),x=r(S),A=n(4),k="YYYY-MM-DD HH:mm:ss ZZ",w=(0,u.default)(function(e,t){var n=Object.assign({url:e},t);return v.default.performWithoutParsing(n)},{prefetch:{ignoreInconsistentArgs:!0}}),R=(0,o.default)({displayName:"LearnerLiveCourseSessionStore",initialize:function(){this.trackableAjax=y.default.use((0,E.default)(this.emitChange))},schema:n(161),fetch:function(e,t){var n=this;return(0,f.default)(e,t).then(function(e){n.cache.add(e),n.addToParentCollection([e])})},fetchByUuid:function(e,t){var n=this;return(0,h.default)(e,t).then(function(e){n.cache.add(e),n.addToParentCollection([e])})},fetchAll:function(e){var t=this;return(0,d.default)(e).then(function(n){t.cache.setCollection({liveCourseId:e},n),t.addToParentCollection(n)})},get:function(e){return this.cache.get(e)},fetchForMonthOfYear:function(e,t,n){var r=this,a=n.search,s=n.liveCourseId,i=n.liveCourseUuid,o=n.sessionIds,l=(0,N.default)([t,e]).subtract(6,"days"),u=(0,N.default)([t,e]).endOf("month").add(6,"days"),c=l.format(k),d=u.format(k),p={date:t+" "+e},f=function(e){r.cache.addToCollection(p,e),r.addToParentCollection(e)};return this.cache.setCollection(p,[]),(0,v.default)({startDate:c,endDate:d,noPagination:!0,search:a,liveCourseId:s,liveCourseUuid:i,sessionIds:o,onProgress:f})},getForMonthOfYear:function(e,t){return this.cache.getCollection({date:t+" "+e})},fetchAgendaSessions:function(e,t,n,r){var a=this,s=r.search,i=r.liveCourseId,o=r.liveCourseUuid,l=r.sessionIds,u=(0,N.default)([e,t,n]).format();return w.findFirstPage({startDate:u,search:s,liveCourseId:i,liveCourseUuid:o,sessionIds:l}).then(v.default.parse).then(function(e){a.cache.setCollection("agenda",e),a.addToParentCollection(e)})},fetchNextAgendaSessions:function(){var e=this;return w.hasMorePages()?w.findNextPage().then(v.default.parse).then(function(t){e.cache.addToCollection("agenda",t),e.addToParentCollection(t)}):x.default.resolve()},hasMoreAgendaSessions:function(){return w.hasMorePages()},getAgendaSessions:function(){return this.cache.getCollection("agenda")},getCollection:function(e){return this.cache.getCollection({liveCourseId:e})},setCollection:function(e,t){return this.cache.setCollection({liveCourseId:e},t)},register:function(e){var t=this;return this.cache.transaction(function(){var n=t.cache.get(e),r=t.getAffectedSessions(n),a=r.map(function(e){return Object.assign({},e,{isRegistered:!0,seatsRemaining:(0,A.isNumber)(e.seatsRemaining)?e.seatsRemaining-1:e.seatsRemaining})});return t.cache.addToCollection(null,a),t.trackableAjax({url:"/api/learner/live_course_sessions/"+e+"/registration",type:"POST"}).then(function(e){if(e.linked){var n=e.linked.previous_sessions||[],r=e.linked.associated_sessions||[],a=[].concat((0,s.default)(n),(0,s.default)(r));t.updateSessions(a)}return x.default.resolve()})})},unregister:function(e){var t=this;return this.cache.transaction(function(){var n=t.cache.get(e),r=t.getAffectedSessions(n),a=r.map(function(e){return Object.assign({},e,{isRegistered:!1,seatsRemaining:(0,A.isNumber)(e.seatsRemaining)?e.seatsRemaining+1:e.seatsRemaining})});return t.cache.addToCollection(null,a),t.trackableAjax({url:"/api/learner/live_course_sessions/"+e+"/registration",type:"DELETE"}).then(function(e){if(e.linked){var n=e.linked.associated_sessions||[];t.updateSessions(n)}return x.default.resolve()})})},isRegistering:function(){return this.trackableAjax.hasPendingRequests()},updateSessions:function(e){var t=this,n=e.map(function(e){var n=t.cache.get(e.id);return Object.assign({},n,(0,I.default)(e))});this.cache.addToCollection(null,n)},getAffectedSessions:function(e){var t=e.parentId?this.cache.getCollection(this.parentCollectionKey(e.parentId)):[];return[e].concat((0,s.default)(t))},addToParentCollection:function(e){var t=this,n=(0,A.groupBy)(e,"parentId");Object.keys(n).forEach(function(e){t.cache.addToCollection(t.parentCollectionKey(e),n[e])})},parentCollectionKey:function(e){if(e)return"parent:"+e;throw new Error("Invalid session parent id: could not create key!")}});e.exports=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(320),u=r(l),c=function(){function e(t){if((0,s.default)(this,e),(0,u.default)())this.parser=document.createElement("a"),this.parser.href=t;else try{this.parser=new window.URL(t)}catch(e){}}return(0,o.default)(e,[{key:"hostname",value:function(){return this.parser&&this.parser.hostname}}]),e}();t.default=c,e.exports=t.default},function(e,t){"use strict";e.exports=function(){return document.scrollingElement||document.documentElement}},function(e,t,n){"use strict";var r=n(47),a=n(58),s=function(e){return r.expr.filters.visible(e)&&!r(e).parents().addBack().filter(function(){return"hidden"===r.css(this,"visibility")}).length},i=function(e){var t=e.tabIndex;if(t<0)return!1;var n=e.nodeName.toLowerCase();return(/^(input|select|textarea|button|object)/.test(n)?!e.disabled:"a"===n&&e.href||!a(t))&&s(e)};e.exports=i},function(e,t){"use strict";function n(e,t){var n=window.getComputedStyle(t||document.body,null);return a.font=["font-style","font-variant","font-weight","font-size","font-family"].map(function(e){var t=n.getPropertyValue(e);return"font-size"===e&&(t=t+"/"+n.getPropertyValue("line-height")),t}).join(" "),a.measureText(e).width}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=document.createElement("canvas"),a=r.getContext("2d");e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=n.animate,a=void 0!==r&&r,s=n.offset,i=void 0===s?0:s,l=document.body===e;if(e=l?(0,u.default)("html, body"):(0,u.default)(e),a){var c="object"===("undefined"==typeof a?"undefined":(0,o.default)(a))?a:{duration:300};e.animate({scrollTop:t+i},c)}else e.scrollTop(t+i)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.scrollTop>e.offsetTop?a(t,e.offsetTop,n):t.scrollTop+t.offsetHeight<e.offsetTop+e.offsetHeight&&a(t,e.offsetTop+e.offsetHeight-t.offsetHeight,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(46),o=r(i);t.default=s;var l=n(47),u=r(l);e.exports=t.default},function(e,t){"use strict";var n=function e(t){return t.lastChild?e(t.lastChild):t},r=function e(t,n,r){for(;t;)if(t=r!==!1&&t.firstChild||t.nextSibling||e(t.parentNode,n,!1),t&&(!n||n(t)))return t},a=function(e,t){for(;e;)if(e=e.previousSibling?n(e.previousSibling):e.parentNode,e&&(!t||t(e)))return e};e.exports={getNext:r,getPrevious:a}},function(e,t){"use strict";t.getAccountTypes=function(){return[{value:"free",label:I18n.t("Free")},{value:"paid",label:I18n.t("Enterprise")},{value:"partner",label:I18n.t("Partner")},{value:"pilot",label:I18n.t("Pilot")},{value:"test",label:I18n.t("Test")},{value:"lite",label:I18n.t("Bridge for Teams")}]}},function(e,t){"use strict";function n(e){return JSON.stringify(e)}function r(){var e={};return{run:function(t,r,a){var s=n(t),i=function(){delete e[s]};e[s]&&"function"==typeof e[s].abort&&e[s].abort(),e[s]=r,r.then(i,i),a()}}}r.computeKey=n,e.exports=r},function(e,t,n){"use strict";function r(){return{run:function(e,t,n){var r=a.getFakeXHRLatency();r?(console.debug('ajax: simulating a latency of %dms in request of "%s"',r,e.url),setTimeout(function(){n()},r)):n()}}}var a=n(646);e.exports=r},function(e,t){"use strict";t.getAuthTypes=function(){return[{value:"Basic",label:I18n.t("Basic")},{value:"CAS",label:I18n.t("CAS")},{value:"SAML",label:I18n.t("SAML")},{value:"LDAP",label:I18n.t("LDAP")}]},t.getConfigOptions=function(e){return{CAS:[{value:"url",label:I18n.t("CAS Auth Url")},{value:"logoutPath",label:I18n.t("CAS Logout Path")}],SAML:[{value:"idpEntityId",label:I18n.t("SAML IdP Entity ID - Required")},{value:"idpCertFingerprint",label:I18n.t("SAML Certificate Fingerprint")},{value:"idpCert",label:I18n.t("SAML X509 PEM Certificate")},{value:"idpSsoTargetUrl",label:I18n.t("SAML Single Sign On URL - Required")},{value:"idpSloTargetUrl",label:I18n.t("SAML Single Logout URL")},{value:"logoutRedirectUrl",label:I18n.t("SAML Logout Redirect URL")},{value:"nameIdentifierFormat",label:I18n.t("SAML NameId Format")},{value:"authnContext",label:I18n.t("SAML Authentication Context")},{value:"allowedClockDrift",label:I18n.t("SAML Allowed Clock Drift, in seconds")},{value:"skipConditions",label:I18n.t("Skip conditions validations")},{value:"skipSubjectConfirmation",label:I18n.t("Skip subject confirmation validations")},{value:"customizeSamlEntityId",label:I18n.t("Use customized SAML entity ID")}],LDAP:[{value:"title",label:I18n.t("LDAP Title")},{value:"host",label:I18n.t("LDAP Host")},{value:"port",label:I18n.t("LDAP Port")},{value:"base",label:I18n.t("LDAP Base DN")},{value:"method",label:I18n.t("LDAP Method")},{value:"uid",label:I18n.t("LDAP Unique ID")},{value:"filter",label:I18n.t("LDAP Filter")},{value:"bindDn",label:I18n.t("LDAP Bind DN")},{value:"password",label:I18n.t("LDAP Password")}]}[e]||[]},t.getSamlNameIds=function(){return[{value:"",label:I18n.t("None Specified")},{value:"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent",label:I18n.t("urn:oasis:names:tc:SAML:2.0:nameid-format:persistent")},{value:"urn:oasis:names:tc:SAML:2.0:nameid-format:transient",label:I18n.t("urn:oasis:names:tc:SAML:2.0:nameid-format:transient")},{value:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress",label:I18n.t("urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress")},{value:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",label:I18n.t("urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified")},{value:"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName",label:I18n.t("urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName")},{value:"urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName",label:I18n.t("urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName")},{value:"urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos",label:I18n.t("urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos")},{value:"urn:oasis:names:tc:SAML:2.0:nameid-format:entity",label:I18n.t("urn:oasis:names:tc:SAML:2.0:nameid-format:entity")}]}},function(e,t){"use strict";var n=function(e){for(var t in e)e.hasOwnProperty(t)&&document.body.classList[e[t]?"add":"remove"](t)};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e&&t?u.default.tz(e,t).format("h:mm A z (["+t+"] Z)"):""}function s(e,t){return e&&t?u.default.tz(e,t).format("LLLL z (["+t+"] Z)"):""}function i(e,t){if(e&&t){var n=t.replace(/_/g," ");return u.default.tz(e,t).format("z (["+n+"] Z)")}return""}function o(e,t,n){if(e&&t&&n){var r=function(e){return u.default.tz(e,n).format("LT").toLowerCase()},a=r(e),s=r(t),o=""+i(e,n);return(a+" - "+s+" "+o).trim()}return""}Object.defineProperty(t,"__esModule",{value:!0}),t.formatTimeWithZone=a,t.formatDateWithZone=s,t.formatTimezone=i,t.formatTimeRangeWithZone=o;var l=n(282),u=r(l)},function(e,t,n){"use strict";function r(e){return s(e)?a(e):1===e.score}function a(e){return e.hasOwnProperty("score")}function s(e){return e.type===i.QUESTION_TYPES.SHORT_ANSWER}Object.defineProperty(t,"__esModule",{value:!0}),t.isSlideCorrect=r,t.isAnswered=a,t.isShortAnswer=s;var i=n(12);t.default=r},function(e,t){"use strict";e.exports=function(e,t){var n={},r=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,a=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,s=function(e){var t=e.indexOf(",")!==-1&&e.split(",")||[e],s=t.length-1,i=s,o=null,l=null,u="",c=0,d=!1,p="",f="",m=null,h=0,g=null,v="",_="",y="",b="",E="",C=!1;if(""===e)return!0;do if(o=t[i-s],d=!1,l=o.match(r),l&&(u=l[0],c=l.index),!l||o.substring(0,c).indexOf("(")===-1&&(c||!l[3]&&u!==l.input))C=!1;else{if(f=o,d="not"===l[1],c||(p=l[2],f=o.substring(u.length)),C=p===n.type||"all"===p||""===p,m=f.indexOf(" and ")!==-1&&f.split(" and ")||[f],h=m.length-1,C&&h>=0&&""!==f)do{if(g=m[h].match(a),!g||!n[g[3]]){C=!1;break}if(v=g[2],_=g[5],b=_,y=g[7],E=n[g[3]],y&&(b="px"===y?Number(_):"em"===y||"rem"===y?16*_:g[8]?(_/g[8]).toFixed(2):"dppx"===y?96*_:"dpcm"===y?.3937*_:Number(_)),C="min-"===v&&b?E>=b:"max-"===v&&b?E<=b:b?E===b:!!E,!C)break}while(h--);if(C)break}while(s--);return d?!C:C},i=function(e){var t=window,r=e.type||"screen",a=e.width,s=e.height,i=e.deviceWidth||a,o=e.deviceHeight||s,l=t.screen.colorDepth,u=t.devicePixelRatio;n.type=r,n.width=a,n.height=s,n["aspect-ratio"]=(a/s).toFixed(2),n["device-width"]=i,n["device-height"]=o,n["device-aspect-ratio"]=(i/o).toFixed(2),n.color=l,n["color-index"]=Math.pow(2,l),n.orientation=s>=a?"portrait":"landscape",n.resolution=u&&96*u||t.screen.deviceXDPI||96,n["device-pixel-ratio"]=u||1};return i(t),s(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=function(t,n,r){var a=t[n];return null===a?null:("undefined"==typeof a?"undefined":(0,o.default)(a))===e?null:new Error(r+" prop '"+n+"' must be null or "+e+" but was "+("undefined"==typeof a?"undefined":(0,o.default)(a))+".")};return s(t)}function s(e){var t=function(t,n,r,a,s){return void 0===n[r]&&t?new Error("Required "+s+" '"+r+"' was not specified in "+a+"."):e(n,r,a)},n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(46),o=r(i);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e.propTypes);return(0,s.omit)(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),i=n(127),o=r(i);t.default=(0,o.default)(a),e.exports=t.default},function(e,t,n){"use strict";var r=n(4),a=r.assign;e.exports=function(e,t){switch(t=t||{},t=a({words_connector:I18n.t(", "),two_words_connector:I18n.t(" and "),last_word_connector:I18n.t(" and ")},t),e.length){case 0:return"";case 1:return""+e[0];case 2:return e[0]+t.two_words_connector+e[1];default:return e.slice(0,-1).join(t.words_connector)+t.last_word_connector+e[e.length-1]}}},,,,,,,,,,,,,,,function(e,t){"use strict";e.exports=new Error("Aborted")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){console.error(e+"::asyncProps["+n+"].fetch() has raised an error:"),console.error((t||{}).stack||t)}function s(e,t){var n=Object.keys(t);return void 0===e?null:Object.keys(e).reduce(function(t,r){return n.indexOf(r)===-1&&(t[r]=e[r]),t},{})}function i(e,t){function n(n,r,a,s){var o=g(s),l={params:r,query:a};Object.keys(t).forEach(function(r){var a=t[r];a.fetch&&(o.push(),a.fetch(l).then(function(e){i[r]=e,o.pop()},function(t){if(t!==_){if(!b.onError)throw t;b.onError(t,{transition:n,type:e,asyncPropName:r,asyncProp:a})}}))}),o.seal()}var r=s(e.propTypes,t),i={};return f.createClass({displayName:"BlockingPropResolver["+e.displayName+"]",statics:{asyncProps:t,decoratedPropTypes:r,bareClass:e,willTransitionTo:function(t,r,a,s){e.willTransitionTo?4===e.willTransitionTo.length?e.willTransitionTo(t,r,a,function(){n(t,r,a,s)}):e.willTransitionTo(t,r,a):n(t,r,a,s)},willTransitionFrom:function(){i={}}},render:function(){return f.createElement(h,{initialValues:i,asyncProps:t,render:this.renderContent,onChange:this.reload,contentProps:this.props,onError:a.bind(null,e.displayName)})},renderContent:function(t){return f.createElement(e,(0,p.default)({},this.props,t))},reload:function(){this.forceUpdate()}})}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"isLoading",r=s(e.propTypes,t);return f.createClass({displayName:"NonBlockingPropResolver["+e.displayName+"]",statics:{asyncProps:t,decoratedPropTypes:r,willTransitionTo:e.willTransitionTo,willTransitionFrom:e.willTransitionFrom,bareClass:e},componentWillMount:function(){},render:function(){var n=y({},this.props);return f.createElement(h,{progressive:!0,asyncProps:t,render:this.renderTypeWithResolvedProps,onChange:this.props.onChange||this.reload,contentProps:n,onError:a.bind(null,e.displayName)})},renderTypeWithResolvedProps:function(t,r){var a=y({},(0,c.default)({},n,r),this.props);return f.createElement(e,(0,p.default)({},a,t))},reload:function(){this.forceUpdate()}})}function l(e){var t=e.type,n=e.asyncProps,r=e.loadingPropName;return m(t instanceof Function,"Expected @type to be a React.Component."),Object.keys(n).forEach(function(e){v(n[e],e)}),e.blocking?i(t,n):o(t,n,r)}var u=n(38),c=r(u),d=n(9),p=r(d),f=n(1),m=n(49),h=n(486),g=n(485),v=n(920),_=n(918),y=Object.assign.bind(Object),b=n(487);l.AbortedError=_,e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(46),s=r(a),i=n(49),o=["get","fetch","shouldRefetch","setup","teardown","onFailure"];e.exports=function(e,t){i(!!e&&"object"===("undefined"==typeof e?"undefined":(0,s.default)(e)),"Expected asyncProp["+t+"] to be an object!"),i(e.fetch||e.get,"You must define at least one of #fetch() or #get() for an asyncProp."+(" (asyncProp: "+t+")")),i(!e.setup&&!e.teardown||e.setup&&e.teardown,"You must define either both or none of the #setup() and #teardown() hooks."+(" (asyncProp: "+t+")")),Object.keys(e).forEach(function(e){i(o.indexOf(e)>-1,"Unknown asyncProp attribute "+e+"; "+(" Valid attributes are: "+o+".")+(" (asyncProp: "+t+")"))})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(28),o=r(i),l=n(86),u=n(2),c=s.default.createClass({displayName:"EmbedlyCard",propTypes:{url:u.string,altText:u.string,isSelected:u.bool,theme:u.string},render:function(){var e=(0,o.default)("cce-media-external__embedly",{"cce-media-external__embedly--selected":this.props.isSelected}),t=(0,l.isValidURL)(this.props.url)?this.props.url:"";return s.default.createElement("div",{className:e},s.default.createElement("a",{className:"screenreader-only",href:t,target:"_blank"},this.props.altText||t),s.default.createElement("span",{"aria-hidden":!0},s.default.createElement("a",{className:"embedly-card","data-card-controls":"0","data-card-width":"100%","data-card-theme":this.props.theme,href:t},I18n.t("Loading Embedded Media..."))))}});t.default=c,e.exports=t.default},function(e,t){"use strict";function n(e){if(!e.getElementById("embedly-platform")){var t=e.createElement("script"),n="https:"===e.location.protocol?"https":"http";t.id="embedly-platform",t.src=n+"://cdn.embedly.com/widgets/platform.js";var r=e.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(){var e=document.getElementById("embedly-platform");e&&e.parentNode.removeChild(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUPPORTED_CARDS=["khanacademy.org","viddler.com","livestream.com","streamio.com","kaltura.com","panopto.com","ilosvideos.com","ted.com","hapyak.com","vimeopro.com","kaltura.com","soundcloud.com","spotify.com","flickr.com","imgur.com","instagram.com","dribbble.com","smugmug.com","img.ly","tinypic.com","giphy.com","amazon.com","etsy.com","nytimes.com","abcnews.com","washingtonpost.com","cnbc.com","cnn.com","msnbc.msn.com","nbcnews.com","theguardian.com","video.forbes.com","video.foxnews.com","video.foxbusiness.com","reuters.com","live.huffingtonpost.com","npr.org","drive.google.com","gist.github.com","slideshare.net","scribd.com","pastebin.com","pastie.org","prezi.com","speakerdeck.com","docs.google.com","maps.google.com","google.com/maps","wikipedia.org","twitter.com","accredible.com","docdroid.net","polldaddy.com","screencast.com","sliderocket.com","polleverywhere.com","cl.ly","uservoice.com","wikimedia.org","public.chartblocks.com","branchtrack.com","quora.com","qzzr.com","sway.com","docs.com","kidoju.com","canva.com","goanimate.com","brainshark.com","kaltura.com","panopto.com","showme.com","office.com","d.pr","ior.ad","iorad.com","thinglink.com","verse.com","wirewax.com","genial.ly","codepen.io","jsfiddle.net","list.ly","issuu.com",".pdf"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=c.default.getBlockText(e),n=e.getSelection(),r=n.getEndKey(),a=(0,l.insertAtomicBlock)(e,"embedly",{url:t}),s=a.getCurrentContent(),u=s.merge({blockMap:s.getBlockMap().delete(r)}),d=o.EditorState.push(a,u,"remove-range");return i.default.resolve(d)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),i=r(s),o=n(35),l=n(73),u=n(488),c=r(u);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=(0,o.insertAtomicBlock)(e,"embedly",{url:t});return i.default.resolve(n)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),i=r(s),o=n(73);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=c.default.getBlockText(e),n=e.getSelection(),r=n.getEndKey(),a={original:t,thumb:t},s=(0,l.insertAtomicBlock)(e,"external-image",a),u=s.getCurrentContent(),d=u.merge({blockMap:u.getBlockMap().delete(r)}),p=o.EditorState.push(s,d,"remove-range");return i.default.resolve(p)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),i=r(s),o=n(35),l=n(73),u=n(489),c=r(u);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={original:t,thumb:t},r=(0,o.insertAtomicBlock)(e,"external-image",n);return i.default.resolve(r)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),i=r(s),o=n(73);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(28),u=r(l),c=n(23),d=n(5),p=n(86),f=16;t.default=o.default.createClass({displayName:"ExternalMedia",propTypes:{aspectRatio:s.default.number,original:s.default.string,src:s.default.string,duration:s.default.number,isSelected:s.default.bool,provider:s.default.string},getInitialState:function(){return{frameWidth:null}},componentDidMount:function(){this.setState({frameWidth:this.getFrameWidth()})},componentDidUpdate:function(){var e=this.getFrameWidth();this.state.frameWidth!==e&&this.setState({frameWidth:e})},render:function(){var e=this.props.original||this.props.src;if(!(0,p.isValidURL)(e))return null;var t=this.state.frameWidth;return o.default.createElement("div",{className:"cce-media-external"},o.default.createElement(d.IESafeIframe,{className:(0,u.default)("cce-media-external__iframe",{"cce-media-external__iframe--selected":this.props.isSelected}),src:e,width:null===t?void 0:t,height:this.getFrameHeight(),frameBorder:0,allowFullScreen:!0,"data-duration":this.props.duration}))},getFrameWidth:function(){var e=(0,c.findDOMNode)(this);return e?e.offsetWidth:null},getFrameHeight:function(){var e=this.state.frameWidth,t=this.props.aspectRatio,n=void 0;return n=null===e?void 0:"viostream"===this.props.provider?Math.floor(e/t)+f:Math.floor(e/t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=c.default.getBlockText(e),n=e.getSelection(),r=n.getEndKey(),a=c.default.getDetails(t);return new i.default(function(t,n){c.default.fetchMeta([a.url]).then(function(n){var s=n[0],i={aspectRatio:s.aspectRatio,duration:s.duration,id:a.id,original:a.url,provider:a.type,thumb:s.thumb},u=(0,l.insertAtomicBlock)(e,"external-video",i),c=u.getCurrentContent(),d=c.merge({blockMap:c.getBlockMap().delete(r)}),p=o.EditorState.push(u,d,"remove-range");
t(p)}).catch(function(e){n(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),i=r(s),o=n(35),l=n(73),u=n(328),c=r(u);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return new i.default(function(n,r){var a=u.default.getDetails(t);u.default.fetchMeta([a.url]).then(function(t){var r=t[0],s={aspectRatio:r.aspectRatio,duration:r.duration,id:a.id,original:a.url,provider:a.type,thumb:r.thumb};n((0,o.insertAtomicBlock)(e,"external-video",s))}).catch(function(e){r(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),i=r(s),o=n(73),l=n(328),u=r(l);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(59),u=n(6),c=r(u),d=n(23),p=n(25),f=r(p),m=o.default.createClass({displayName:"LtiMedia",propTypes:{isSelected:s.default.bool,ltiContentItem:l.LtiContentItemSchema,aspectRatio:s.default.number,onFetchLtiContent:s.default.func},getInitialState:function(){return{frameWidth:null}},componentDidMount:function(){this.setState({frameWidth:this.getFrameWidth()})},componentDidUpdate:function(){var e=this.getFrameWidth();this.state.frameWidth!==e&&this.setState({frameWidth:e})},render:function(){var e=this.state.frameWidth,t=this.props,n=t.isSelected,r=t.ltiContentItem,a=t.aspectRatio;return o.default.createElement(l.LtiContentItemView,{ltiContentItem:r,width:null===e?void 0:e,height:null===e?void 0:Math.floor(this.state.frameWidth/a),iFrameClassName:(0,c.default)("cce-media-external__iframe",{"cce-media-external__iframe--selected":n}),onFetchLtiLinkItemLaunchResource:this.fetchAndSaveResource})},fetchAndSaveResource:function(e){var t=this.props.onFetchLtiContent;return t?t(e).then(function(e){return{ltiResource:e,isLoading:!1}},function(e){return{isLoading:!1,isDisabled:"lti_tool_disabled"===e}}):f.default.reject()},getFrameWidth:function(){var e=(0,d.findDOMNode)(this);return e?e.offsetWidth:null}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(25),s=r(a),i=n(4),o=n(164),l={arc:/(^https?:)?\/\/(.+)\.instructuremedia\.com\/lti\/launch?.+custom_arc_media_id=(.+)/},u={arc:function(e,t){var n=800/880;return t&&t.indexOf("custom_arc_launch_type=bare_embed")>-1&&(n=720/420),{thumb:"/images/arc_embedded.png",duration:(0,i.get)(e,"ltiAttributes.custom.mediaDuration",0),aspectRatio:n}}},c={arc:function(e){var t=e.pop();return{id:t,url:e[0]}}},d=function(e){var t=(0,i.get)(e,"ltiAttributes.@type"),n=(0,i.get)(e,"ltiAttributes.mediaType"),r=(0,i.get)(e,"ltiAttributes.url"),a=(0,i.get)(e,"ltiAttributes.placementAdvice.presentationDocumentTarget");if("LtiLinkItem"===t||"application/vnd.ims.lti.v1.ltilink"===n){var s=(0,i.omitBy)((0,i.mapValues)(l,function(e){return r.match(e)}),i.isNull);if(0===Object.keys(s).length)return{type:"unsupported",id:0};var u=Object.keys(s)[0],d=c[u](s[u]);return{type:u,id:d.id,url:d.url,handledByLtiSupportUtil:!0}}return"ContentItem"===t&&"iframe"===a?o.videoSupport.getDetails(r):{type:"unsupported",id:0}},p=function(e){if(!Array.isArray(e))throw"ltiContentItems must be an array";return s.default.resolve().then(function(){return s.default.all(e.map(function(e){var t=d(e);return t.handledByLtiSupportUtil?u[t.type](e,t.url):t.url?o.videoSupport.fetchMeta([t.url]).then(function(e){return e[0]}):{}}))})},f=function(e){return{toolId:e.toolId,ltiAttributes:{url:e.original}}};e.exports={getDetails:d,typeRegExps:l,fetchMeta:p,entityDataToLtiContentItem:f}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.getCurrentContent();return n.getBlocksAsArray().find(function(e){return"atomic"===e.getType()&&e.getEntityAt(0)&&n.getEntity(e.getEntityAt(0)).getData().uploadId===t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(49),i=r(s),o=n(4),l=n(329),u=n(73),c=n(121),d=n(164),p=n(327),f=n(163),m={image:p.handleModalEmbed,video:d.handleModalEmbed,embedly:f.handleModalEmbed},h={};h.handleMediaUpload=function(e,t){var n=t.file,r=t.sourceBlob,a=t.onRequestMediaUpload,s=t.onUploadMedia,i=t.onFailure,o=void 0;a(n).then(function(t){return o=t,(0,c.isAudio)(n)?h.insertMediaBlock(e,{type:"audio",uploadId:o}):(0,c.isImage)(n)?h.insertMediaBlock(e,{type:"image",uploadId:o,src:r}):(0,c.isVideo)(n)?h.insertMediaBlock(e,{type:"video",uploadId:o}):(0,c.isInlineAttachment)(n)&&h.insertMediaBlock(e,{type:"inline",uploadId:o}),s(o)}).then(function(t){var r={uploadId:o,attachmentId:t.id};return(0,c.isImage)(n)&&(r.src=t.location),e.editorState?void h.persistMediaBlock(e,r):void console.warn("Draft.js editor instance seems to no longer exist...","Aborting in-transit media upload.")}).catch(function(t){t&&console.error(t&&t.stack||t),i&&i(t),o&&h.discardMediaBlock(e,{uploadId:o})})},h.handleMediaEmbedding=function(e,t){var n=t.url,r=t.onEmbedFailure,a=(0,c.getEmbedContentType)(n);m[a]&&m[a](e.editorState,n).then(function(t){e.onChange(t)}).catch(function(e){e&&console.error(e&&e.stack||e),r&&r(e)})},h.handleLtiMediaEmbedding=function(e,t){var n=t.ltiContentItem,r=t.onEmbedFailure,a=t.onInsertLink,s=l.ltiSupport.getDetails(n);"unsupported"!==s.type?l.ltiSupport.fetchMeta([n]).then(function(t){var r=t[0];h.insertMediaBlock(e,{type:"lti",ltiContentItem:n,id:s.id,aspectRatio:r.aspectRatio,duration:r.duration,thumb:r.thumb})}).catch(function(e){e&&console.error(e&&e.stack||e),r&&r(e)}):a({url:n.ltiAttributes.url,text:n.ltiAttributes.title})},h.insertMediaBlock=function(e,t){var n=e.onChange,r=e.editorState,a=t.type,s=["audio","external-image","external-video","image","video","lti","embedly","external","inline"];(0,i.default)(s.indexOf(a)>-1,"Media type must be one of: "+JSON.stringify(s)),n((0,u.insertAtomicBlock)(r,a,(0,o.omit)(t,"type")))},h.persistMediaBlock=function(e,t){var n=e.editorState,r=e.onChange,s=t.uploadId,i=t.attachmentId,o=a(n,s);if(!o)return void console.warn("Could not find any media block (marked for persistence) for upload '"+s+"'");var l=n.getCurrentContent(),c=l.getEntity(o.getEntityAt(0)),d=(0,u.updateEntityData)(n,o.getEntityAt(0),Object.assign({},c.getData(),t,{uploadId:null,attachmentId:i}));d&&r(d)},h.discardMediaBlock=function(e,t){var n=e.editorState,r=e.onChange,s=t.uploadId,i=a(n,s);if(i){var o=(0,u.removeAtomicBlock)(n,i);o?r(o):console.warn("Could not find media block (marked for removal) for upload '"+s+"'")}},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(36),u=r(l),c=n(73),d=n(937),p=r(d),f=n(941),m=r(f),h=n(121),g=o.default.createClass({displayName:"BridgeDraftMedia",propTypes:{editorState:s.default.object.isRequired,onChange:s.default.func.isRequired,withFixedToolbar:s.default.bool},getInitialState:function(){return{showingImageMenu:(0,h.selectionContainsImage)(this.props.editorState),showingEmbedMenu:(0,h.selectionContainsEmbedly)(this.props.editorState)}},componentWillReceiveProps:function(e){u.default.is(e.editorState,this.props.editorState)||this.setState({showingImageMenu:(0,h.selectionContainsImage)(e.editorState),showingEmbedMenu:(0,h.selectionContainsEmbedly)(e.editorState)})},render:function(){return o.default.createElement("div",null,this.state.showingImageMenu&&this.renderMenu(!0),this.state.showingEmbedMenu&&this.renderMenu(!1))},renderMenu:function(e){var t=(0,h.getSelectedAtomicBlock)(this.props.editorState),n=t.entity.getData();return o.default.createElement(p.default,{blockKey:t.block.getKey(),withFixedToolbar:this.props.withFixedToolbar},o.default.createElement(m.default,{altText:n.altText||null,linkHref:n.linkHref||null,allowLinks:e,onChange:this.emitChangeOfEntityData.bind(null,t)}))},emitChangeOfEntityData:function(e,t){var n=(e.block,e.entity),r=e.entityKey,a=this.props.editorState,s=(0,c.updateEntityData)(a,r,Object.assign({},n.getData(),t));this.props.onChange(s)}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t="top"===e.direction||"bottom"===e.direction,n="left"===e.direction||"top"===e.direction,r=e.borderWidth*i,a=r/2,o=2*e.size+2*r,l=e.size+r,u=n?l:0,c=n?a:l-a,d=a,p=o/2,f=o-a,m=t?["M",d,u,"L",p,c,"L",f,u]:["M",u,d,"L",c,p,"L",u,f];return s.createElement("svg",{xmlns:"http://www.w3.org/svg/2000",width:t?o:l,height:t?l:o,style:e.style,className:e.className},s.createElement("path",{d:m.join(" "),fill:e.color,stroke:e.borderColor,strokeWidth:e.borderWidth,strokeLinecap:"square"}))}var a=n(2),s=n(1),i=Math.sqrt(2);r.propTypes={color:a.string.isRequired,size:a.number.isRequired,direction:a.oneOf(["top","right","bottom","left"]).isRequired,borderWidth:a.number,borderColor:a.string,style:a.object,className:a.string},r.defaultProps={borderWidth:0,borderColor:"transparent"},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return document.querySelector('[data-block="true"][data-offset-key="'+e+'-0-0"]')}function s(e){return e.getBoundingClientRect().width}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),l=n(1),u=r(l),c=n(23),d=n(5),p=u.default.createClass({displayName:"BlockContextualMenu",propTypes:{blockKey:o.default.string.isRequired,children:o.default.node.isRequired},getInitialState:function(){return{left:"auto",top:"auto",width:"auto"}},componentDidMount:function(){this.calculateCoords()},componentDidUpdate:function(){this.calculateCoords()},render:function(){return u.default.createElement("div",{style:this.state,className:"cce-highlight-menu"},this.props.children)},calculateCoords:function(){var e=a(this.props.blockKey);if(e){var t=(0,d.getNodeOffsets)((0,c.findDOMNode)(this).offsetParent),n=(0,d.getNodeOffsets)(e);this.transitionCoords({left:n.left-t.left+"px",top:n.top-t.top+"px",width:s(e)+"px"})}else this.transitionCoords({left:"auto",top:"auto",width:"auto"})},transitionCoords:function(e){var t=this,n=Object.keys(e).sort().reduce(function(e,n){return e[n]=t.state[n],e},{}),r=Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{});JSON.stringify(n)!==JSON.stringify(r)&&this.setState(e)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(28),u=r(l),c=n(2),d=o.default.createClass({displayName:"Figure",propTypes:{children:c.any,onClick:c.func,selectable:c.bool,contentEditable:c.bool},render:function(){var e=this.props,t=e.children,n=e.contentEditable,r=e.onClick,a=e.selectable,i=(0,u.default)("cce-figure__container",{"cce-figure__container--selectable":a}),l={};return n&&(l.contentEditable=!0,l.suppressContentEditableWarning=!0,l.tabIndex=-1),o.default.createElement("figure",(0,s.default)({className:"cce-figure",onClick:r},l),o.default.createElement("div",{className:i,unselectable:"on"},t))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.selection,n=e.block.getKey();return t.getAnchorKey()===n&&t.getFocusKey()===n}var s=n(9),i=r(s),o=n(2),l=n(1),u=n(23),c=n(35),d=c.EditorState,p=c.ContentState,f=c.SelectionState,m=n(73),h=m.forceAtomicSelection,g=n(491),v=n(121),_=l.createClass({displayName:"MediaBlock",propTypes:{contentState:o.instanceOf(p),block:o.shape({getEntityAt:o.func.isRequired,getKey:o.func.isRequired}).isRequired,blockProps:o.shape({attachment:n(33),thumbnail:n(242),upload:n(202),getEditorState:o.func.isRequired,onChange:o.func.isRequired,onForceEditorBlur:o.func.isRequired}).isRequired,selection:o.shape({getAnchorKey:o.func.isRequired,getFocusKey:o.func.isRequired})},contextTypes:{attachmentStore:o.object,slideId:o.string,onFetchLtiContent:o.func},componentDidMount:function(){this.context.attachmentStore.addChangeListener(this.reload)},componentWillUnmount:function(){this.context.attachmentStore.removeChangeListener(this.reload)},handleClickMedia:function(){var e=this.props.blockProps.getEditorState(),t=this.props.block.getKey(),n=f.createEmpty(t);this.props.blockProps.onChange(d.forceSelection(e,n)),h(u.findDOMNode(this))},render:function(){var e=this.props.contentState,t=e.getEntity(this.props.block.getEntityAt(0)),n=t.getData(),r=n.uploadId,s=n.attachmentId,o=this.context,u=o.attachmentStore,c=o.slideId,d=u.getActiveUploads(c).find(function(e){return e.id===r}),p=u.getAttachments(c).find(function(e){return e.id===s}),f=t.getType(),m={contentType:f,entityData:n,upload:d,attachment:p,status:"external"===f?null:v.getBlockStatus({uploadId:r,attachmentId:s,upload:d,attachment:p})};return l.createElement(g,(0,i.default)({isSelected:a(this.props),onClick:this.handleClickMedia,onForceEditorBlur:this.props.blockProps.onForceEditorBlur,onFetchLtiContent:this.context.onFetchLtiContent},m))},reload:function(){this.forceUpdate()}});e.exports=_},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=r.createClass({displayName:"MediaEncodingFailure",propTypes:{thumbnail:n(242)},getDefaultProps:function(){return{thumbnail:{width:void 0,height:void 0}}},render:function(){var e=this.props.thumbnail,t=e.width,n=e.height;return r.createElement("div",{className:"attachment media-placeholder border-trbl border-yellow",style:{width:t,height:n,borderWidth:"4px"}},r.createElement("div",{className:"bad-media yellow"},r.createElement(s,{className:"gs-caution gs-2x"})),r.createElement("div",{className:"media-placeholder--text yellow"},I18n.t("Oh snap. Sorry, we can't process your media file. It might be corrupted.")))}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(936),u=r(l),c=n(495),d=r(c),p=n(496),f=r(p),m={AltText:1,Link:2},h=function(){return o.default.createElement("div",{className:"cce-media-image-alt-text__separator"})},g=o.default.createClass({displayName:"MediaImageContextualMenu",propTypes:{altText:s.default.string,linkHref:s.default.string,allowLinks:s.default.bool,onChange:s.default.func},getInitialState:function(){return{foregroundWidget:null}},render:function(){var e=this.state.foregroundWidget;return o.default.createElement("div",{className:"cce-media-image-alt-text"},o.default.createElement("div",{className:"cce-media-image-alt-text__content"},(!e||e===m.AltText)&&o.default.createElement(d.default,{key:"Widgets.AltText",altText:this.props.altText,onChange:this.emitChangeAndMoveWidgetToBackground,onEdit:this.moveWidgetToForeground.bind(null,m.AltText),onStopEditing:this.moveWidgetToBackground.bind(null,m.AltText),showEditor:e===m.AltText}),this.props.allowLinks&&!e&&o.default.createElement(h,{key:"Separator1"}),this.props.allowLinks&&(!e||e===m.Link)&&o.default.createElement(f.default,{key:"Widgets.Link",linkHref:this.props.linkHref,onChange:this.emitChangeAndMoveWidgetToBackground,onEdit:this.moveWidgetToForeground.bind(null,m.Link),onStopEditing:this.moveWidgetToBackground.bind(null,m.Link),showEditor:e===m.Link})),o.default.createElement("div",{className:"cce-media-image-alt-text__arrow"},o.default.createElement(u.default,{direction:"bottom",size:10,color:"#FFCC00",borderWidth:1,borderColor:"#DFDFDF"})))},moveWidgetToForeground:function(e){this.state.foregroundWidget!==e&&this.setState({foregroundWidget:e})},moveWidgetToBackground:function(e){this.state.foregroundWidget===e&&this.setState({foregroundWidget:null})},emitChangeAndMoveWidgetToBackground:function(e){this.props.onChange(e),this.setState({foregroundWidget:null})}});e.exports=g},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"MediaLoadingPlaceholder",render:function(){return r.createElement("div",{className:"media-placeholder media-placeholder--not-found"},I18n.t("Loading..."))}});e.exports=a},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"MediaNotFound",render:function(){return r.createElement("div",{className:"media-placeholder media-placeholder--not-found"},I18n.t("It looks like we couldn't finish the upload of this media."))}});e.exports=a},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"MediaSource",propTypes:{source:n(453).isRequired},render:function(){var e=this.props.source;return r.createElement("source",{type:e.mimeType,src:e.url})}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(59);t.default=o.default.createClass({displayName:"LtiToolContentUploader",propTypes:{className:s.default.string,onEmbedMedia:s.default.func,onClose:s.default.func,onFetchLtiResource:s.default.func},getInitialState:function(){return{isLoading:!0}},componentDidMount:function(){this.fetchAndSaveLtiResource(),this.listenForSelectedContent()},componentWillUnmount:function(){this.stopListeningForSelectedContent()},render:function(){return o.default.createElement(l.LtiResourceIframe,{className:this.props.className,ltiResource:this.state.ltiResource,isLoading:this.state.isLoading})},listenForSelectedContent:function(){window.addEventListener("message",this.contentSelected)},stopListeningForSelectedContent:function(){window.removeEventListener("message",this.contentSelected)},contentSelected:function(e){var t=e.data,n=t.content,r=t.ltiType;if(e.origin===window.location.origin&&"ContentItemSelection"===r&&n.length>0){if(!n[0].url)return;this.props.onEmbedMedia({ltiContentItem:{ltiAttributes:n[0],toolId:this.state.ltiResource.toolId}}),this.props.onClose()}},fetchAndSaveLtiResource:function(){var e=this;if(this.props.onFetchLtiResource){var t=this.props.onFetchLtiResource();t&&t.then(function(t){e.setState({ltiResource:t,isLoading:!1})},function(){e.setState({isLoading:!1})})}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(783),o=r(i),l=n(498),u=r(l),c=n(945),d=r(c),p=n(6),f=r(p),m=n(222),h=r(m),g=n(2),v="UrlAndFileUploader",_=s.default.createClass({displayName:"ContentEditorMediaUploader",propTypes:{onUploadMedia:g.func,onEmbedMedia:g.func,onEmbedLtiMedia:g.func,onClose:g.func,onFetchLtiResource:g.func},getInitialState:function(){return{selectedTabId:v,ltiPlacements:[]}},componentWillMount:function(){this.fetchLtiPlacements()},render:function(){return s.default.createElement("div",{className:"slide-editor-media-uploader"},s.default.createElement("i",{className:"gs-x gs-1x media-uploader__close",onClick:this.props.onClose}),s.default.createElement("div",{className:"media-uploader__type"},I18n.t("Add a video, image, or audio file")),s.default.createElement(o.default,null,this.renderStaticTabs(),this.renderLtiTabs()),this.renderTabPage())},renderStaticTabs:function(){return s.default.createElement("a",{className:this.tabClass(v),onClick:this.selectTab.bind(this,v)},I18n.t("URL/Upload"))},renderLtiTabs:function(){var e=this;return this.state.ltiPlacements.map(function(t){var n="LtiToolContentUploader"+t.id;return s.default.createElement("a",{className:e.tabClass(n),onClick:e.selectTab.bind(e,n),key:n},t.iconUrl?s.default.createElement("img",{src:t.iconUrl,alt:t.text}):s.default.createElement("span",null,t.text))})},renderTabPage:function(){var e=this.state.selectedTabId;return e===v?s.default.createElement(u.default,{onUploadMedia:this.props.onUploadMedia,onEmbedMedia:this.props.onEmbedMedia,onClose:this.props.onClose}):e.indexOf("LtiToolContentUploader")>-1?s.default.createElement(d.default,{key:e,className:"lti-tool-content-uploader",onEmbedMedia:this.props.onEmbedLtiMedia,onClose:this.props.onClose,onFetchLtiResource:this.fetchLtiResource}):null},fetchLtiResource:function(){var e=this.state.selectedTabId.match(/LtiToolContentUploader(.*)/)[1];return this.props.onFetchLtiResource(e)},tabClass:function(e){return(0,f.default)({"dark-grey inline-block button-set__button":!0,"horizontal-scrolling-nav__item":!0,active:e===this.state.selectedTabId})},selectTab:function(e){this.setState({selectedTabId:e})},fetchLtiPlacements:function(){var e=this;h.default.fetchAll("editor_nav").then(function(){e.setState({ltiPlacements:h.default.getAll("editor_nav")})})}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return!1}function s(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();if(null===t)return!1;var r=n.getEntity(t);return y[r.getType()]===!0},t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=r(i),l=n(2),u=r(l),c=n(1),d=r(c),p=n(35),f=n(202),m=r(f),h=n(121),g=r(h),v=n(491),_=r(v);t.default=[{strategy:s,component:d.default.createClass({displayName:"InlineMedia",contextTypes:{attachments:u.default.arrayOf(n(33)).isRequired,uploads:u.default.arrayOf(m.default).isRequired},propTypes:{contentState:u.default.instanceOf(p.ContentState),entityKey:u.default.string,children:u.default.node},render:function(){var e=this.props.contentState,t=e.getEntity(this.props.entityKey),n=t.getType(),r=t.getData(),s=r.uploadId,i=r.attachmentId,l=this.context.uploads.filter(function(e){return e.id===s})[0],u=this.context.attachments.filter(function(e){return e.id===i})[0],c={contentType:n,entityData:r,upload:l,attachment:u,status:g.default.isExternalMediaEntity(t)?void 0:g.default.getBlockStatus({uploadId:s,attachmentId:i,upload:l,attachment:u})};return d.default.createElement("span",{contentEditable:!1},d.default.createElement(_.default,(0,o.default)({inline:!0,isSelected:a(this.props)},c)))}})}];var y={audio:!0,"external-image":!0,"external-video":!0,image:!0,video:!0};e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=e.getBlockForKey(t),r=a.ContentState.createFromText(""),s=r.getFirstBlock().getKey(),i=a.SelectionState.createEmpty(s),o=e.getBlockMap().reduce(function(e,t){var a=void 0;return a=t.getKey()===n.getKey()?e.concat([r.getFirstBlock()]):e,a.concat([t])},[]);return e.merge({blockMap:a.ContentState.createFromBlockArray(o).getBlockMap(),selectionAfter:i})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(35);e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=e.getBlockMap().toArray(),n=t[t.length-1];if("atomic"!==n.getType())return e;var r=a.ContentState.createFromText(""),s=t.concat(r.getFirstBlock());return e.merge({blockMap:a.ContentState.createFromBlockArray(s).getBlockMap(),selectionAfter:a.SelectionState.createEmpty(n.getKey())})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(35);e.exports=t.default},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getSelection();if(!n.isCollapsed())return null;var a=e.getCurrentContent(),s=n.getStartKey(),i=a.getBlockForKey(s);if("atomic"===i.getType())return t&r.At?i.getKey():null;var o=i.getLength(),l=n.getStartOffset();if(l===o){var u=a.getBlockAfter(s);if(u&&"atomic"===u.getType())return t&r.After?u.getKey():null}else if(0===l){var c=a.getBlockBefore(s);if(c&&"atomic"===c.getType())return t&r.Before?c.getKey():null}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={Before:1,At:2,After:4};t.Edges=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Forward";return(0,c.default)(d.hasOwnProperty(n),"Invalid direction: must be one of "+Object.keys(d)),d[n].reduce(function(n,r){return n?n:r(e,t)},null)}function s(e,t){var n=e.getBlockAfter(t);return n?e.merge({blockMap:e.getBlockMap().delete(t),selectionAfter:l.SelectionState.createEmpty(n.getKey())}):null}function i(e,t){var n=e.getBlockBefore(t);return n?e.merge({blockMap:e.getBlockMap().delete(t),selectionAfter:l.SelectionState.createEmpty(n.getKey())}):null}function o(e){var t=l.ContentState.createFromText(""),n=l.SelectionState.createEmpty(t.getFirstBlock().getKey());return e.merge({blockMap:t.getBlockMap(),selectionAfter:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var l=n(35),u=n(49),c=r(u),d={Forward:[s,i,o],Backward:[i,s,o]};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1440),s=r(a),i=function(e,t){return"/api/author/course_templates/"+e+"/slides/"+t+"/attachments"},o=(0,s.default)({cacheDisplayName:"SlideAttachmentStore__uploadCache",requestMediaUpload:function(e,t,n){return this.requestItemMediaUpload(t,n)},createAttachmentFromUpload:function(e,t,n){return this.createItemAttachmentFromUpload(i(e,t),e,t,n)},fetchAttachments:function(e,t,n){return this.fetchItemAttachments(i(e,t),t,n)},reloadAttachments:function(e,t,n){return this.reloadItemAttachments(i(e,t),t,n)}});t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"InvalidQuestionBanner",render:function(){return r.createElement("div",{className:"question-editor__invalid-question-banner","data-capybara":"invalid-question-banner"},r.createElement("p",{className:"pink large light"},I18n.t("This question won't appear until you're done filling it out")))}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.trim().replace(T,"").replace(N,I).replace(S,"").replace(x,"")}function s(){return new v({key:y(),type:"unstyled",depth:0,text:"",characterList:p([])})}function i(e){var t=[e.offset,e.offset+e.length],n=t[0],r=t[1];return Array(r-n).fill(0).map(function(e,t){return n+t})}var o=n(14),l=r(o),u=n(15),c=r(u),d=n(36),p=d.List,f=d.OrderedSet,m=n(49),h=n(130),g=n(568),v=n(234),_=n(410),y=n(183),b=n(730),E=n(500),C="&nbsp;",I=" ",T=new RegExp("\r","g"),N=new RegExp(C,"g"),S=new RegExp("&#13;?","g"),x=new RegExp("&#8203;?","g"),A=function(e){return e},k=[s()],w=function(){function e(t){var n=t.visitors,r=t.getInitialState,a=void 0===r?Function.prototype:r,s=t.createStats,i=void 0===s?Function.prototype:s,o=t.trimStats,u=void 0===o?A:o,c=t.strategy,d=void 0===c?null:c;(0,l.default)(this,e),this.visitors=n,this.getInitialState=a,this.createStats=i,this.trimStats=u,this.strategy=d||new E}return(0,c.default)(e,[{key:"run",value:function(e,t){return this.runWithStats(e,t).rawContentState}},{key:"runWithStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createStats(),r=b(_.createFromBlockArray(this.generateBlocksFromMarkup(e,Object.assign({stats:n},t))));return t.verbose&&(console.log("Stats:"),console.log(JSON.stringify(n,null,2))),{stats:this.trimStats(n),rawContentState:r}}},{key:"generateBlocksFromMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{DOMBuilder:null,verbose:!1,stats:null};if(!e||0===e.trim().length)return k;var n=t.DOMBuilder||g,r=n(a(e));return r?this.generateBlocksFromDOM(r,t):(console.warn("Unable to build DOM!",a(e)),null)}},{key:"generateBlocksFromDOM",value:function(e,t){var n=this.strategy.apply(this.visitors,this.getInitialState(),t,e);return 0===n.length?k:n.map(function(e){var t=e.text||"",n=t.split("").map(function(){return h.create({style:f(),entity:null})});return e.inlineStyleRanges.forEach(function(t){i(t).forEach(function(r){n[r]||m(!1,"Inline style range is out-of-bounds!\n\n              This probably means you have mistakenly applied an inline style\n              range over text content that was not tracked in the block you\n              expected (like nested P tags would do).\n\n              Character set length: "+n.length+"\n              Inline style range bounds: ["+t.offset+", "+(t.offset+t.length)+"] ("+t.length+" characters)\n              ------\n              Block: "+JSON.stringify(e,null,2)+"\n            "),n[r]=h.applyStyle(n[r],t.style)})}),e.entityRanges.forEach(function(t){i(t).forEach(function(r){n[r]||m(!1,"Entity range is out-of-bounds!\n\n              This probably means you have mistakenly applied an entity over\n              text content that was not tracked in the block you expected (like\n              nested P tags would do).\n\n              Character set length: "+n.length+"\n              Entity range bounds: ["+t.offset+", "+(t.offset+t.length)+"] ("+t.length+" characters)\n              ------\n              Entity Key: "+t.key+"\n              Block: "+JSON.stringify(e,null,2)+"\n            "),n[r]=h.applyEntity(n[r],t.key)})}),new v({key:y(),type:e.type,depth:e.depth,text:t,characterList:p(n)})})}}]),e}();e.exports=w,e.exports.prepareHTMLString=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,[{key:"apply",value:function(e,t,n,r){var a=Object.assign({},t,{stats:n.stats});return this.visitNode(e,a,r)}},{key:"visitNode",value:function(e,t,n){var r=e.filter(function(e){return e.match(n)}),a=this.visitChildren.bind(this,e,t);return r.reduce(function(e,r){var s=r.enter;try{var i=s(t,n,a);return i?e.concat(i):e}catch(e){throw console.log("Visitor #enter routine failed!"),console.log("Current state:",JSON.stringify(t,null,2)),e}},[])}},{key:"visitChildren",value:function(e,t,n){var r=this;return Array.prototype.reduce.call(n,function(n,a){var s=r.visitNode(e,t,a);return s?n.concat(s):n},[])}}]),e}();t.default=l,e.exports=t.default},function(e,t){"use strict";function n(e){for(var t=0,n=e;n&&n!==n.parentElement&&(n=n.parentElement);)t++;return t}e.exports=n},function(e,t){"use strict";function n(e){return e&&e.id?'//*[@id="'+e.id+'"]':r(e)}function r(e){for(var t=[];e&&(1===e.nodeType||3===e.nodeType);e=e.parentNode){var n=0;if(e&&e.id){t.splice(0,0,'/*[@id="'+e.id+'"]');break}for(var r=e.previousSibling;r;r=r.previousSibling)r.nodeType!==s.DOCUMENT_TYPE_NODE&&r.nodeName===e.nodeName&&++n;var a=1===e.nodeType?e.nodeName.toLowerCase():"text()",i=n?"["+(n+1)+"]":"";t.splice(0,0,a+i)}return t.length?"/"+t.join("/"):null}var a=window,s=a.Node;e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.enter,n=e.exit;return Object.assign(e,{enter:function(e,n){var r=e.textBlocks.peek();if(!r){var s=a({owner:n,position:e.reserveBlockIndex()});e.textBlocks=e.textBlocks.push(s)}return t?t(e,n):null},exit:function(e,t){n&&n(e,t);var r=e.textBlocks.peek();r&&r.owner===t&&(e.textBlocks=e.textBlocks.pop(),e.insertBlock(a.toDraftBlock(r,{type:"unstyled"}),r.position))}})}var a=n(250);e.exports=r},function(e,t,n){"use strict";function r(e){var t=a(e.enter,a.Nil);return s(Object.assign(e,{enter:function(e,n){var r=e.textBlocks.peek();return r.owner===n&&(r.coalescent=!0),t(e,n)}}))}var a=n(331),s=n(332);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.nodeName,n=e.blockType;return a(l.indexOf(n)>-1,'HeadingVisitor does not generate blocks of type "'+n+'"'),a(o.indexOf(t)>-1,'HeadingVisitor does not operate on nodes of type "'+t+'"'),s({nodeName:t,exit:function(e){var t=e.textBlocks.peek(),r=e.textBlocks.count()-1;r>0&&e.stats&&e.stats["inline-headings"]&&(e.stats["inline-headings"]+=1),e.insertBlock(i.toDraftBlock(t,{type:n,depth:0}),t.position)}})}var a=n(49),s=n(332),i=n(250),o=["H1","H2","H3","H4","H5","H6"],l=["header-one","header-two","header-three","header-four","header-five","header-six"];e.exports=r},function(e,t){"use strict";function n(e){var t=e.styleName;return Object.assign(e,{enter:function(e){e.inlineStyles=e.inlineStyles.add(t)},exit:function(e){e.inlineStyles=e.inlineStyles.delete(t)}})}e.exports=n},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.string,i=a.func,o=a.object,l=r.createClass({displayName:"LinkInfo",propTypes:{style:o,url:s,onChange:i.isRequired,onRemove:i.isRequired},render:function(){return r.createElement("div",{onMouseDown:function(e){return e.preventDefault()},className:"cce-rce-link-info",style:this.props.style},r.createElement("a",{target:"_blank",href:this.props.url},this.props.url)," - ",r.createElement("a",{className:"unselectable",onClick:this.props.onChange},I18n.t("Change"))," | ",r.createElement("a",{className:"unselectable",onClick:this.props.onRemove
},I18n.t("Remove")))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=n(2),l=s.default.createClass({displayName:"Modal",propTypes:{onDismiss:o.func.isRequired,children:o.node.isRequired},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},setTimeout(function(){e.isMounted()&&document.body.addEventListener("mousedown",e.dismissOnOuterSpaceClicks,!1)},100)},componentWillUnmount:function(){document.body.removeEventListener("mousedown",this.dismissOnOuterSpaceClicks,!1),this.isMounted=function(){return!1}},render:function(){return this.props.children},dismissOnOuterSpaceClicks:function(e){this.isMounted()&&!e.defaultPrevented&&((0,i.findDOMNode)(this).contains(e.target)||(e.preventDefault(),this.props.onDismiss()))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(4),o=n(35),l=n(2),u=s.default.createClass({displayName:"Overlay",propTypes:{children:l.node.isRequired,updatePosition:l.func,position:l.object},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},this.throttledReposition=(0,i.throttle)(function(){e.isMounted()&&e.calculatePosition()},10),this.calculatePosition(),window.addEventListener("scroll",this.throttledReposition,!0)},componentDidUpdate:function(){this.calculatePosition()},componentWillUnmount:function(){window.removeEventListener("scroll",this.throttledReposition,!0),this.isMounted=function(){return!1}},render:function(){var e=this.props.position;return e?s.default.cloneElement(s.default.Children.only(this.props.children),{style:{top:e?e.top:void 0,left:e?e.left:void 0}}):null},getPosition:function(){return(0,o.getVisibleSelectionRect)(window)},calculatePosition:function(){var e=this.getPosition();if(null!==e){var t=this.props.position;(!t||t.top!==e.top||t.left!==e.left)&&e.top<document.body.scrollHeight&&e.left<document.body.scrollWidth&&this.props.updatePosition(e)}}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return!!y.default.getSelectedLinkSelection(e,t,!1)}function s(e){return!e.length||e.match(E)?e:"http://"+e}function i(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getBlockForKey(t.getStartKey()),a=n.getBlockForKey(t.getEndKey());if(r===a)return r.getText().slice(t.getStartOffset(),t.getEndOffset());if(t.getIsBackward()){var s=a.getText();return s.slice(0,t.getEndOffset())}var i=r.getText();return i.slice(t.getStartOffset(),i.length)}function o(e,t){var n=y.default.getSelectedLinkSelection(e,t);if(!n)return null;var r=e.getCurrentContent(),a=r.getBlockForKey(n.getStartKey()),s=r.getEntity(a.getEntityAt(n.getStartOffset()));return{url:s.getData().url,text:a.getText().slice(n.getStartOffset(),n.getEndOffset())}}var l=n(1),u=r(l),c=n(36),d=r(c),p=n(964),f=r(p),m=n(502),h=r(m),g=n(962),v=r(g),_=n(503),y=r(_),b=n(2),E=/^([a-zA-Z]{3,}:\/\/|mailto:)/,C=u.default.createClass({displayName:"DraftLinks",propTypes:{editorState:b.object,urlValidator:b.func,onFreeze:b.func.isRequired,onThaw:b.func.isRequired,onChange:b.func.isRequired,onForceFocus:b.func.isRequired,onLinkValidationError:b.func.isRequired,getInstantaneousEditorSelection:b.func.isRequired},getInitialState:function(){return{showingLinkInfo:!1,showingLinkModal:!1,instantaneousSelection:null}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUpdate:function(e,t){t.showingLinkModal&&!this.state.showingLinkModal?this.props.onFreeze():!t.showingLinkModal&&this.state.showingLinkModal&&this.props.onThaw()},componentWillReceiveProps:function(e){var t=this;d.default.is(e.editorState,this.props.editorState)||(this.props.editorState.getSelection().getHasFocus()?(clearTimeout(this.showAtCurrentPositionTimeout),this.setState({showingLinkInfo:a(e.editorState),showingLinkModal:!1,instantaneousSelection:null})):this.showAtCurrentPositionTimeout=setTimeout(function(){if(t.isMounted()){var e=t.props.getInstantaneousEditorSelection();t.setState({showingLinkInfo:a(t.props.editorState,e),instantaneousSelection:e})}}))},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){var e=this.props.editorState,t=this.state,n=t.showingLinkInfo,r=t.showingLinkModal,a=t.instantaneousSelection,s=t.overlayPosition,l=o(e,a);return u.default.createElement("div",null,r&&u.default.createElement(f.default,{key:"sharedOverlay",position:s,updatePosition:this.updateModalPosition},u.default.createElement(h.default,{onClose:this.dismissLinkModal,onChange:this.toggleLink,url:l&&l.url,text:l?l.text:i(e)})),n&&!r&&l&&u.default.createElement(f.default,{key:"sharedOverlay",position:s,updatePosition:this.updateModalPosition},u.default.createElement(v.default,{url:l.url,onChange:this.promptForLink,onRemove:this.removeLink})))},promptForLink:function(){this.setState({showingLinkModal:!0,overlayPosition:null})},dismissLinkModal:function(){var e=this.props.editorState,t=this.state.instantaneousSelection;this.toggleLink(o(e,t))},updateModalPosition:function(e){this.setState({overlayPosition:e})},toggleLink:function(e){var t=e.url,n=e.text,r=this.props.urlValidator,a=s(t||"");if(r&&!r(a))return void this.props.onLinkValidationError();var i=y.default.toggleLink(this.props.editorState,{url:a,text:n});i&&(this.props.onChange(i),this.setState({showingLinkInfo:!1,showingLinkModal:!1,instantaneousSelection:null},this.restoreCaret))},removeLink:function(){var e=y.default.removeLink(this.props.editorState);e&&(this.props.onChange(e),this.setState({showingLinkInfo:!1,showingLinkModal:!1,instantaneousSelection:null},this.restoreCaret))},restoreCaret:function(){this.isMounted()&&this.props.onForceFocus()}});e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(1),o=r(i),l=n(35),u=n(504),c=r(u),d=n(967),p=r(d),f=n(73),m=n(965),h=r(m),g=n(2),v=f.KeyCodes.KC_K;t.decorators=[{strategy:c.default,component:o.default.createClass({displayName:"Link",propTypes:{contentState:(0,g.instanceOf)(l.ContentState),entityKey:g.string,children:g.node},render:function(){var e=this.props.contentState,t=e.getEntity(this.props.entityKey),n=t.getData(),r=n.url;return o.default.createElement("a",{target:"_blank",href:r},this.props.children)}})}],t.keyBindings=(0,s.default)({},v,function(e){var t=e.component;return t.promptForLink(),!0}),t.commands={promptForLink:function(e){var t=e.component;t.promptForLink()},insertLink:function(e,t){var n=e.component;n.toggleLink(t)}},t.applyIntegrityEnforcements=function(e){var t=e.getCurrentContent();return l.EditorState.push(e,(0,p.default)(t))},t.component=h.default,t.LinkPrompt=n(502)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.getBlockMap().map(function(t){(0,i.default)(t,function(n){var r=t.getEntityAt(n),a=e.getEntity(r),s=a.getData();"[object Object]"===s.url&&e.mergeEntityData(r,{url:s.href})},e)}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(504),i=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.getCurrentContent(),n=t.getBlocksAsArray();if(!n.some(function(e){return(0,b.default)(e)&&e.getDepth()>0}))return e;var r=I(n),a=r.reduce(function(e,t){return e.concat(s(t))},[]),i=(0,C.default)(a,n),o=t.merge({blockMap:d.BlockMapBuilder.createFromArray(i)});return u.default.is(t,o)?e:(0,p.pushContentToState)(e,o)}function s(e){return e.map(function(t,n){return{block:t,shift:i(t,e[n-1],e.slice(0,n))}}).filter(function(e){var t=e.shift;return 0!==t}).reduce(o,e)}function i(e,t,n){var r=e.getDepth(),a=t&&t.getDepth()||null;if(0===r)return 0;if(t&&(0,b.default)(t)){if(r===a)return 0;if(r-a>1)return a-r+1;if(r-a<1){var s=T(e,n);return s?s.getDepth()-r+1:-r}return 0}return-r}function o(e,t){var n=t.block,r=t.shift,a=[n.getKey()].concat((0,g.default)(n,e));return e.map(function(e){return a.indexOf(e.getKey())>-1?e.set("depth",e.getDepth()+r):e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var l=n(36),u=r(l),c=n(4),d=n(35),p=n(73),f=n(972),m=r(f),h=n(970),g=r(h),v=n(971),_=r(v),y=n(974),b=r(y),E=n(976),C=r(E),I=(0,c.partialRight)(m.default,b.default),T=(0,c.partialRight)(_.default,b.default);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.editorState,r=e.onChange;return r(d.RichUtils.toggleBlockType(n,t)),!0}function s(e,t){var n=e.editorState,r=e.onChange,a=e.pluginOptions;if(a.requireSelectionForInlineStyles===!0&&n.getSelection().isCollapsed())return!1;var s=n.getCurrentInlineStyle(),i=(a.styleAliases||{})[t],o=s.intersect(i||[]);return r(o.count()>0?d.RichUtils.toggleInlineStyle(n,o.first()):d.RichUtils.toggleInlineStyle(n,t)),!0}function i(e,t){var n=e.editorState,r=e.onChange,a=e.pluginOptions;if(a.allowListNesting===!1)return!1;var s=(0,_.default)(n,t.shiftKey?v.Operations.Outdent:v.Operations.Indent,3);return!(!s||f.default.is(s,n))&&(t.preventDefault(),r(s),!0)}var o,l=n(38),u=r(l),c=n(4),d=n(35),p=n(36),f=r(p),m=n(975),h=r(m),g=n(73),v=n(973),_=r(v),y=n(968),b=r(y),E=g.KeyCodes.KC_B,C=g.KeyCodes.KC_I,I=g.KeyCodes.KC_TAB,T=g.KeyCodes.KC_1,N=g.KeyCodes.KC_2;t.keyBindings=(o={},(0,u.default)(o,E,(0,c.partialRight)(s,"BOLD")),(0,u.default)(o,C,(0,c.partialRight)(s,"ITALIC")),(0,u.default)(o,I,i),(0,u.default)(o,T,(0,c.partialRight)(a,"header-two")),(0,u.default)(o,N,(0,c.partialRight)(a,"header-three")),o),t.commands={toggleInlineStyle:s,toggleBlockType:a},t.handleReturn=function(e,t){var n=e.editorState,r=e.onChange,a=n.getSelection(),s=n.getCurrentContent(),i=s.getBlockForKey(a.getStartKey());if((0,h.default)(t)&&"atomic"!==i.getType())return r(d.RichUtils.insertSoftNewline(n)),!0;var o=d.RichUtils.tryToRemoveBlockStyle(n);return!!o&&(r(d.EditorState.push(n,o,"change-block-type")),!0)},t.applyIntegrityEnforcements=function(e){return(0,b.default)(e)}},function(e,t){"use strict";function n(e,t){var n=e.getDepth(),r=e.getKey();return t.reduce(function(e,t){return e.done?e:(t.getKey()===r?e.found=!0:e.found&&t.getDepth()>n?e.keys.push(t.getKey()):e.found&&(e.done=!0),e)},{found:!1,done:!1,keys:[]}).keys}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e.getDepth();return(0,i.default)(t.filter(function(e){return n(e)&&e.getDepth()<r}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(505),i=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e.reduce(function(e,n){var r=(0,i.default)(e);return t(n)?r.push(n):r.length>0&&e.push([]),e},[[]]).filter(function(e){return 0!==e.length})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(505),i=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;(0,l.default)(t===u||t===c,"Invalid operation requested; must either be an indent or an outdent!");var r=Math.max(parseInt(n,10)||0,2)-1,a=e.getSelection();if(!a.isCollapsed())return null;if(0!==a.getStartOffset())return null;var o=a.getAnchorKey(),d=e.getCurrentContent(),p=d.getBlockForKey(o),f=p.getType();if("unordered-list-item"!==f&&"ordered-list-item"!==f)return null;var m=d.getBlockBefore(o);if(!m)return null;var h=m.getType();if("unordered-list-item"!==h&&"ordered-list-item"!==h)return null;var g=p.getDepth();if(t===u&&g===r)return null;var v=s(d,a,t===c?-1:1,Math.min(m.getDepth()+1,r));return i.EditorState.push(e,v,"adjust-depth")}function s(e,t,n,r){var a=t.getStartKey(),s=t.getEndKey(),i=e.getBlockMap(),o=i.toSeq().skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===s}).concat([[s,i.get(s)]]).map(function(e){var t=e.getDepth()+n,a=Math.min(t,r),s=Math.max(0,a);return e.set("depth",s)});return e.merge({blockMap:i.merge(o),selectionBefore:t,selectionAfter:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.Operations=void 0,t.default=a;var i=n(35),o=n(49),l=r(o),u=1,c=2;t.Operations={Indent:u,Outdent:c}},function(e,t){"use strict";function n(e){return e&&r[e.getType()]===!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={"ordered-list-item":!0,"unordered-list-item":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e.which===a.KeyCodes.KC_RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(73);e.exports=t.default},function(e,t){"use strict";function n(e,t){var n=e.reduce(function(e,t){return e[t.getKey()]=t,e},{});return t.map(function(e){return n[e.getKey()]||e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return Math.max(0,Math.min(e||0,2))}function a(e){return l[e]||"unordered-list-item"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(36),i=n(35),o=n(499),l={unordered:"unordered-list-item",ordered:"ordered-list-item"};t.default=new o.Importer({getInitialState:function(){return{textBlocks:(0,s.Stack)(),inlineStyles:(0,s.OrderedSet)()}},visitors:[(0,o.Visitor)((0,o.AppendingTextBlockVisitor)({nodeName:"#text",enter:function(e,t){var n=e.textBlocks.peek(),r=n.text.length,a=t.textContent.length,s=e.inlineStyles.toArray();s.forEach(function(e){n.inlineStyleRanges.push({offset:r,length:a,style:e})}),n.text+=t.textContent}})),(0,o.Visitor)((0,o.TextBlockVisitor)({nodeName:"DIV",exit:function(e){var t=e.textBlocks.peek();t.text.length>0&&e.insertBlock(o.TextBlock.toDraftBlock(t,{type:"unstyled"}),t.position)}})),(0,o.Visitor)((0,o.TextBlockVisitor)({nodeName:"P",exit:function(e){var t=e.textBlocks.peek();e.insertBlock(o.TextBlock.toDraftBlock(t,{type:"paragraph",depth:0}),t.position)}})),(0,o.Visitor)((0,o.AppendingTextBlockVisitor)({nodeName:"SPAN"})),(0,o.Visitor)((0,o.AppendingTextBlockVisitor)({nodeName:"A",enter:function(e,t){var n=e.textBlocks.peek();n.anchors.push({node:t,offset:n.text.length})},exit:function(e,t){var n=t.getAttribute("href");if(n&&0!==n.indexOf("#")){var r={href:n,rel:t.getAttribute("rel"),target:t.getAttribute("target"),url:n},a=i.ContentState.createFromText("").createEntity("LINK","MUTABLE",r).getLastCreatedEntityKey(),s=e.textBlocks.peek(),o=s.anchors.filter(function(e){return e.node===t})[0],l=s.text.length-o.offset;s.entityRanges.push({offset:o.offset,length:l,key:a})}}})),(0,o.Visitor)((0,o.TextBlockVisitor)({nodeName:"LI",exit:function(e,t){var n=e.textBlocks.peek(),s=a(t.listStyleType),i=r(t.depth);e.insertBlock(o.TextBlock.toDraftBlock(n,{type:s,depth:i}),n.position)}})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"B",styleName:"BOLD"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"EM",styleName:"ITALIC"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"I",styleName:"ITALIC"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"STRONG",styleName:"BOLD"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H1",blockType:"header-two"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H2",blockType:"header-three"})),(0,o.Visitor)((0,o.InlineStyleVisitor)((0,o.TextBlockVisitor)({nodeName:"H3",styleName:"BOLD"}))),(0,o.Visitor)((0,o.InlineStyleVisitor)((0,o.TextBlockVisitor)({nodeName:"H4",styleName:"BOLD"}))),(0,o.Visitor)((0,o.InlineStyleVisitor)((0,o.TextBlockVisitor)({nodeName:"H5",styleName:"BOLD"}))),(0,o.Visitor)((0,o.InlineStyleVisitor)((0,o.TextBlockVisitor)({nodeName:"H6",styleName:"BOLD"})))]}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=s(e);return(0,c.convertToRaw)(c.ContentState.createFromBlockArray(p.default.generateBlocksFromDOM(t,f)))}function s(e){var t=function e(t){return new m(t,t.children.map(e))};return t(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=r(i),l=n(15),u=r(l);t.default=a;var c=n(35),d=n(977),p=r(d),f={verbose:!1,stats:null},m=function(){function e(t,n){return(0,o.default)(this,e),this.nodeName=t.type,this.childNodes=n,this.attributes=t.attributes,this.textContent=t.text,this.listStyleType=t.style,this.depth=t.depth-1,this}return(0,u.default)(e,[{key:"getAttribute",value:function(e){return this.attributes[e]}}]),e}();e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.editorState,r=e.onChange,a=t.html;if(!a)return!1;var o=(0,l.default)(a,{});if(!o)return!1;var u=(0,c.default)(o.ast),d=(0,i.convertFromRaw)(u),p=d.getBlockMap(),f=s(n,p,u.entityMap);return r(f),!0}function s(e,t){var n=i.Modifier.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return i.EditorState.push(e,n,"insert-fragment")}Object.defineProperty(t,"__esModule",{value:!0}),t.handlePaste=a;var i=n(35),o=n(1093),l=r(o),u=n(978),c=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children,n=e.attrs;return l.default.createElement("a",{href:n.href,title:n.title,target:n.target,rel:n.rel,children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node,attrs:i.default.shape({href:i.default.string,title:i.default.string})},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.attrs;return l.default.createElement("audio",{src:t.src,"data-attachment-id":t.attachmentId})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={attrs:i.default.shape({src:i.default.string,attachmentId:i.default.string})},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("blockquote",null,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("code",{children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("div",{children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("h1",{children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("h2",{children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("h3",{children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.attrs;return l.default.createElement("iframe",{src:t.src,width:t.width,height:t.height,frameBorder:t.frameBorder,allowFullScreen:t.allowFullScreen})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={attrs:i.default.shape({src:i.default.string,width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),allowFullscreen:i.default.bool})},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.attrs,n=l.default.createElement("img",{src:t.src,alt:t.alt||t.altText,title:t.title});return t.linkHref?l.default.createElement("a",{href:t.linkHref},n):n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={attrs:i.default.shape({alt:i.default.string,altText:i.default.string,linkHref:i.default.string,src:i.default.string,title:i.default.string})},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("li",{children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return l.default.createElement("p",null,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children,n=e.style,r=e.attrs,a=void 0===r?{}:r;return l.default.createElement("span",{style:n,title:a.title,children:t})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={children:i.default.node,style:i.default.object,attrs:i.default.shape({title:i.default.string})},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.attrs;return l.default.createElement("video",{src:t.src,"data-attachment-id":t.attachmentId})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o);a.propTypes={attrs:i.default.shape({src:i.default.string,attachmentId:i.default.string})},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(203),s=r(a);t.default={audio:s.audio,image:s.img,video:s.video},e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.attrs,n=e.atomicBlockElementMap,r=n[t.type];if("function"==typeof r)return r({attrs:t.data});if(i(t)){var a=l(t);return p.img({attrs:{src:a.original,alt:a.altText}})}if(o(t)){var s=l(t);return p.iframe({attrs:{src:s.src}})}return c.default.createElement("div",null)}function i(e){return"external-image"===e.type||"external"===e.type&&"image"===e.data.externalMediaContentType}function o(e){return"external-video"===e.type||"external"===e.type&&"video"===e.data.externalMediaContentType}function l(e){return e?e.data&&e.data.externalMediaMetaData?e.data.externalMediaMetaData:e.data:null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var u=n(1),c=a(u),d=n(203),p=r(d);e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=a(s),o=n(203),l=r(o),u=function(e){var t=e.children;return i.default.createElement("p",null,i.default.createElement("strong",null,t))};t.default={"code-block":l.code,blockquote:l.blockquote,"header-one":l.h1,"header-two":l.h2,"header-three":l.h3,"header-four":u,"header-five":u,"header-six":u,"ordered-list-item":l.li,paragraph:l.p,"unordered-list-item":l.li,unstyled:l.p},e.exports=t.default},function(e,t){"use strict";function n(e,t){switch(t.getType()){case"atomic":var n=t.getEntityAt(0);if(n){var r=e.getEntity(n);return{type:r.getType(),data:r.getData()}}}return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){return null!==t&&"LINK"===t.getType()?i.a({children:e,attrs:Object.assign({},t.getData(),{href:t.getData().url})}):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(203),i=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case"BOLD":return b.default.createElement("strong",null,t);case"ITALIC":return b.default.createElement("em",null,t);case"TINYMCE-BLOCKQUOTE":return b.default.createElement("blockquote",{className:"tinymce-blockquote"},t);case"TINYMCE-INLINE-BLOCK-FRAGMENT":return b.default.createElement("span",{className:"tinymce-inline-block-fragment"},t);case"LINEBREAK":if("string"==typeof t&&t.match(/^\n+$/))return t.split("").map(function(e,t){return b.default.createElement("br",{key:t})});if("string"==typeof t){var n=t.split("\n");return n.map(function(e,t){return t===n.length?b.default.createElement("span",{key:t},e):b.default.createElement("span",{key:t},e,b.default.createElement("br",null))})}return b.default.createElement("br",null);case"TINYMCE-HEADER-ONE":case"TINYMCE-HEADER-TWO":case"TINYMCE-HEADER-THREE":case"TINYMCE-HEADER-FOUR":case"TINYMCE-HEADER-FIVE":case"TINYMCE-HEADER-SIX":return b.default.createElement("span",{className:e.toLowerCase()},t);default:return b.default.createElement("span",null,t)}}function s(e){return e.replace(/^\<div\>/,"").replace(/\<\/div\>$/,"")}function i(e){return e.reduce(function(t,n,r){if(0===n.depth)t.root.push(n);else{var a=l(e.filter(function(e,t){return t<r&&e.getDepth()<n.depth}));a&&u(n,a)?((0,C.default)(!!a&&a.getDepth()<n.depth,"A block of depth "+n.depth+" must be preceded by a block of depth "+(n.depth-1)+"!"),t[a.getKey()]||(t[a.getKey()]=[]),t[a.getKey()].push(n)):t.root.push(n)}return t},{root:[]})}function o(e){return e.reduce(function(t,n,r){var a=n.getType();return r>0&&e[r-1].getType()===a?(t[t.length-1].blocks.push(n),t[t.length-1].key+="-"+n.getKey()):t.push({type:a,blocks:[n],key:n.getKey()}),t},[])}function l(e){return e[e.length-1]}function u(e,t){return q[e.getType()]===!0?q[t.getType()]===!0:B[e.getType()]===!0}Object.defineProperty(t,"__esModule",{value:!0}),t.Defaults=void 0;var c,d=n(70),p=r(d),f=n(14),m=r(f),h=n(15),g=r(h),v=n(38),_=r(v),y=n(1),b=r(y),E=n(49),C=r(E),I=n(544),T=n(1e3),N=r(T),S=n(995),x=r(S),A=n(996),k=r(A),w=n(997),R=r(w),O=n(994),P=r(O),L=n(998),M=r(L),D={atomicBlockElementMap:P.default,atomicRendererFn:x.default,blockAttrFn:R.default,blockElementMap:k.default,entityRendererFn:M.default},U="ordered-list-item",F="unordered-list-item",q=(c={},(0,_.default)(c,U,!0),(0,_.default)(c,F,!0),c),B={atomic:!0,blockquote:!0,unstyled:!0},j=function(){function e(t){var n=t.atomicBlockElementMap,r=t.atomicRendererFn,a=t.blockAttrFn,s=t.blockElementMap,i=t.entityRendererFn,o=t.format;(0,m.default)(this,e),this.blockAttrFn=a||D.blockAttrFn,this.atomicRendererFn=r||D.atomicRendererFn,this.entityRendererFn=i||D.entityRendererFn,this.blockElementMap=s||D.blockElementMap,this.atomicBlockElementMap=n||D.atomicBlockElementMap,this.format=o||"html"}return(0,g.default)(e,[{key:"call",value:function(e){var t=this,n=e.getBlocksAsArray(),r=i(n),a=Object.keys(r).reduce(function(e,t){return e[t]=o(r[t]),e},{}),l=a.root.reduce(function(n,r){return n.concat(t.renderBlockListing(e,a,r))},[]);return"react"===this.format?b.default.createElement("div",{children:l}):s((0,I.renderToStaticMarkup)(b.default.createElement("div",null,l)))}},{key:"renderBlockListing",value:function(e,t,n){var r=n.type,a=n.key,s=n.blocks,i=s.map(this.renderBlock.bind(this,e,t));return r===U?[b.default.createElement("ol",{key:a},i)]:r===F?[b.default.createElement("ul",{key:a},i)]:i}},{key:"renderBlock",value:function(e,t,n){var r=n.getKey(),a=this.getBlockRenderer(n.getType()),s=t[r]?t[r].map(this.renderBlockListing.bind(this,e,t)):null,i=this.applyInlineStyles(e,n),o=this.blockAttrFn(e,n)||{},l=a({block:n,attrs:o,children:i.concat(s),blockElementMap:this.blockElementMap,atomicBlockElementMap:this.atomicBlockElementMap});return l?b.default.cloneElement(l,{key:n.getKey()}):null}},{key:"applyInlineStyles",value:function(e,t){var n=this,r=t.getCharacterList(),a=(0,N.default)(t.getText(),r);return a.map(function(t){var r=(0,p.default)(t,2),a=r[0],s=r[1],i=a?e.getEntity(a):null;return s.map(function(e){var t=(0,p.default)(e,2),r=t[0],a=t[1],s=n.elementWithStyle(r,a);return n.entityRendererFn(s,i)})})}},{key:"elementWithStyle",value:function(e,t){var n=Object.keys(t.toObject());return n.reverse().reduce(function(e,t){return a(t,e)},e)}},{key:"getBlockRenderer",value:function(e){var t=void 0;return t="atomic"===e?this.atomicRendererFn:this.blockElementMap[e],(0,C.default)(!!t,'Block element "'+e+'" is not supported.'),t}}]),e}();t.default=j,t.Defaults=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=null,r=null,a=[],i=0,o=0,l=e.length;o<l;o++){r=n;var u=t.get(o);n=u?u.getEntity():null,o>0&&n!==r&&(a.push([r,s(e.slice(i,o),t.slice(i,o))]),i=o)}return a.push([n,s(e.slice(i),t.slice(i))]),a}function s(e,t){for(var n=l,r=l,a=[],s=0,i=0,u=e.length;i<u;i++){r=n;var c=t.get(i);n=c?c.getStyle():l,i>0&&!o.default.is(n,r)&&(a.push([e.slice(s,i),r]),s=i)}return a.push([e.slice(s),n]),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(36),o=r(i),l=new i.OrderedSet;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(e){var t=void 0,n=void 0;Array.isArray(e)?(t=e[0],n=e[1]||{}):(t=e,n={});var r=Object.assign({id:i.length+1,constructor:t,pluginOptions:n},t);if(i.push(r),t.keyBindings&&Object.assign(c,s(t.keyBindings)),t.keyCommands&&Object.assign(m,s(t.keyCommands)),t.keyBindingFn){var a=new d.default(r,l);p.push(t.keyBindingFn.bind(null,a))}if(t.handleReturn){var o=new d.default(r,l);_.push(t.handleReturn.bind(null,o))}if(t.handlePaste){var u=new d.default(r,l);E.push(t.handlePaste.bind(null,u))}}function n(){return new g.CompositeDecorator(i.filter(function(e){return!!e.decorators}).reduce(function(e,t){return e.concat(t.decorators)},[]))}function r(e,t){var n=i.filter(function(t){return t.constructor===e})[0];(0,u.default)(n,"No registered plugin with that type."),(0,u.default)(n.commands&&n.commands.hasOwnProperty(t),"Plugin does not support the command '"+t+"'.");for(var r=arguments.length,a=Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];n.commands[t].apply(null,[new d.default(n,l)].concat(a))}function a(e,t){var n=t===b.Binding?"keyBindings":"keyCommands";return i.filter(function(t){return t[n]&&t[n].hasOwnProperty(e)}).reduce(function(t,r){var a=r[n][e];return t.push({plugin:r,command:"function"==typeof a?a:a.fn}),t},[])}var i=[],l={editorAgent:null,pluginAgent:null},c={},p=[],m={},_=[],E=[],C=o.default.createClass({displayName:"PluginAgent",propTypes:{editorState:v.object.isRequired,onChange:v.func.isRequired,onFreeze:v.func,onThaw:v.func,urlValidator:v.func,onLinkValidationError:v.func},getDefaultProps:function(){return{onFreeze:Function.prototype,onThaw:Function.prototype}},componentWillMount:function(){
l.pluginAgent=this},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){return o.default.createElement("div",null,i.filter(function(e){return!!e.component}).map(this.renderPluginComponent))},renderPluginComponent:function(e){return o.default.createElement(e.component,{key:e.id,ref:"plugins["+e.id+"]",editorState:this.props.editorState,urlValidator:this.props.urlValidator,onChange:this.props.onChange,onForceFocus:this.callEditorAgentToForceEditorFocus,onFreeze:this.props.onFreeze,onLinkValidationError:this.props.onLinkValidationError,onThaw:this.props.onThaw,getInstantaneousEditorSelection:this.getInstantaneousEditorSelection})},getPluginComponent:function(e){return this.refs["plugins["+e.id+"]"]},callEditorAgentToForceEditorFocus:function(){l.editorAgent.forceFocus()},getInstantaneousEditorSelection:function(){var e=window.getSelection();try{return(0,y.default)(this.props.editorState,this.getEditorNode(),e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset).selectionState}catch(e){return null}},getEditorNode:function(){return h.default.findDOMNode(l.editorAgent.refs.editor)}}),I=o.default.createClass({displayName:"EditorAgent",propTypes:{children:v.node},componentWillMount:function(){l.editorAgent=this},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){var e=o.default.Children.only(this.props.children);return o.default.cloneElement(e,{ref:"editor",keyBindingFn:this.interpretKeyCommands,blockRendererFn:this.renderBlock,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,handlePastedText:this.handlePastedText,onTab:this.handleTab})},renderBlock:function(e){var t=Object.assign({getEditorState:this.getEditorState,onChange:this.emitChange,onForceEditorBlur:this.forceEditorBlur},this.props),n=null;return i.some(function(r){return r.blockRendererFn&&(n=r.blockRendererFn(e,t)),!!n}),n},forceFocus:function(){this.emitChange((0,f.default)(this.getEditorState()))},forceEditorBlur:function(){this.refs.editor.blur()},interpretKeyCommands:function(e){return g.KeyBindingUtil.hasCommandModifier(e)&&c.hasOwnProperty(e.keyCode)?"customKeyBinding__"+e.keyCode:(this.handleKeyPress(e),(0,g.getDefaultKeyBinding)(e))},handleKeyCommand:function(e){var t=void 0;return t=e.match(/^customKeyBinding__(.+)$/)?a(RegExp.$1,b.Binding):a(e,b.Command),t.some(function(e){return e.command(new d.default(e.plugin,l))})},handlePastedText:function(e,t){return E.some(function(n){return n({text:e,html:t})===!0})},handleKeyPress:function(e){return p.some(function(t){return t(e)===!0})},handleReturn:function(e){return _.some(function(t){return t(e)===!0})},handleTab:function(e){var t=a(e.keyCode,b.Binding);return t.some(function(t){return t.command(new d.default(t.plugin,l),e)})},getEditorState:function(){return this.refs.editor.props.editorState},emitChange:function(e){this.refs.editor.props.onChange(e)}});return e&&e.forEach(t),{add:t,executeCommand:r,getDecorator:n,PluginAgent:C,EditorAgent:I,forceFocus:function(){l.editorAgent.forceFocus()},applyIntegrityEnforcements:function(e){return i.filter(function(e){return"function"==typeof e.applyIntegrityEnforcements}).reduce(function(e,t){return t.applyIntegrityEnforcements(e)},e)}}}function s(e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},{})}var i=n(1),o=r(i),l=n(49),u=r(l),c=n(1002),d=r(c),p=n(506),f=r(p),m=n(23),h=r(m),g=n(35),v=n(2),_=n(567),y=r(_),b={Binding:1,Command:2};e.exports=a},function(e,t){"use strict";function n(e,t){this.plugin=e,this.agents=t,this.pluginOptions=e.pluginOptions}function r(e,t){return e.agents[t]&&e.agents[t].isMounted()?e.agents[t]:null}Object.defineProperty(n.prototype,"component",{get:function(){var e=r(this,"pluginAgent");return e?e.getPluginComponent(this.plugin):null}}),Object.defineProperty(n.prototype,"editorState",{configurable:!1,enumerable:!1,get:function(){var e=r(this,"editorAgent");return e?e.refs.editor.props.editorState:null}}),Object.defineProperty(n.prototype,"onChange",{get:function(){var e=r(this,"editorAgent");return e?e.refs.editor.props.onChange:null}}),e.exports=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KC_1=49,t.KC_2=50,t.KC_B=66,t.KC_BACKSPACE=8,t.KC_DELETE=46,t.KC_I=73,t.KC_K=75,t.KC_RETURN=13,t.KC_TAB=9,t.KC_SHIFT=16,t.KC_LEFT=37,t.KC_UP=38,t.KC_RIGHT=39,t.KC_DOWN=40},function(e,t){"use strict";function n(e){var t=window.document.createRange();t.setStart(e,0),t.setEnd(e,0);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){var r=e.getCurrentContent(),i=r.createEntity(t,"IMMUTABLE",(0,s.omit)(n,"type")).getLastCreatedEntityKey();return a.AtomicBlockUtils.insertAtomicBlock(e,i," ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(35),s=n(4);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.getCurrentContent(),r=s.Modifier.removeRange(n,(0,o.default)(t),"backward"),a=s.Modifier.setBlockType(r,r.getSelectionAfter(),"unstyled"),i=s.EditorState.push(e,a,"remove-range");return s.EditorState.forceSelection(i,a.getSelectionAfter())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(35),i=n(333),o=r(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e.getCurrentContent();r.replaceEntityData(t,n);var a=r.getFirstBlock(),i=s.Modifier.mergeBlockData(r,(0,o.default)(a),{entityRefreshHax:(a.getData().entityRefreshHax||0)+1}),l=s.EditorState.push(e,i,"change-block-data");return s.EditorState.forceSelection(l,e.getSelection())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(35),i=n(333),o=r(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(30),u=r(l),c=o.default.createClass({displayName:"LinkInterceptor",propTypes:{children:s.default.node.isRequired},childContextTypes:{bgn_applyCustomLinkTransition:s.default.func},getChildContext:function(){return{bgn_applyCustomLinkTransition:this.applyTransition}},render:function(){return o.default.Children.only(this.props.children)},applyTransition:function(e){e.currentTarget.pathname.startsWith("/talent")||e.currentTarget.pathname.startsWith("/career")||"_blank"!==e.currentTarget.target&&(e.preventDefault(),u.default.transitionTo(e.currentTarget.pathname+e.currentTarget.search))}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return!e.currentUserInfo||!!t.currentUserInfo&&e.currentUserInfo.id!==t.currentUserInfo.id}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),i=r(s);t.default=function(e){var t={locales:{fetch:function(){return c.default.fetchAll()},get:function(){return c.default.getAll()},setup:function(e){c.default.addChangeListener(e)},teardown:function(e){c.default.removeChangeListener(e)}},ltiPlacements:{get:function(){return p.default.getAll(y)},fetch:function(){return p.default.fetchAll(y)},shouldRefetch:a,setup:function(e){p.default.addChangeListener(e)},teardown:function(e){p.default.removeChangeListener(e)}}};return e("perform")?(0,i.default)({},t,{notifications:{setup:function(e){m.default.addChangeListener(e)},teardown:function(e){m.default.removeChangeListener(e)},shouldRefetch:a,fetch:function(){return m.default.fetchAll()},get:function(){return{notifications:m.default.getAll(),fetchStatus:g.default.fetchStatus}}},tasks:{setup:function(e){g.default.addChangeListener(e)},teardown:function(e){g.default.removeChangeListener(e)},shouldRefetch:a,fetch:function(){return g.default.fetchAll()},get:function(){return{tasks:g.default.getAll(),createStatus:g.default.createStatus,saveStatus:g.default.updateStatus,deleteStatus:g.default.deleteStatus,fetchStatus:g.default.fetchStatus}}},teammates:{setup:function(e){_.default.addChangeListener(e)},teardown:function(e){_.default.removeChangeListener(e)},shouldRefetch:a,fetch:function(e){var t=e.currentUserInfo,n=t.isManager,r=t.id;return n?_.default.fetchDirectReports(r):l.default.resolve()},get:function(){return{teammates:_.default.getSearchResults(),searchStatus:_.default.searchStatus,directReports:_.default.getDirectReports()}}},manager:{setup:function(e){_.default.addChangeListener(e)},teardown:function(e){_.default.removeChangeListener(e)},shouldRefetch:a,fetch:function(e){var t=e.currentUserInfo.managerId;return t?_.default.fetch(t):l.default.resolve()},get:function(e){return e.currentUserInfo?_.default.get(e.currentUserInfo.managerId):null}}}):t};var o=n(25),l=r(o),u=n(108),c=r(u),d=n(1019),p=r(d),f=n(507),m=r(f),h=n(510),g=r(h),v=n(511),_=r(v),y=["learner_nav","admin_nav"];e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.id,n=e.placement,r=e.text,a=e.iconUrl,s=function(e){var t=e.className;return l.default.createElement("i",{className:t},l.default.createElement("img",{src:a,className:"global-nav__resource-icon"}))};s.propTypes={className:i.default.string};var o=j[n];return{name:r,logo:s,href:"//"+(0,f.learnURL)()+"/"+o+"/"+t,placement:n}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o),u=n(22),c=r(u),d=n(1009),p=r(d),f=n(136),m=n(20),h=r(m),g=n(43),v=n(1011),_=r(v),y=n(1015),b=r(y),E=n(1020),C=r(E),I=n(1026),T=r(I),N=n(107),S=r(N),x=n(200),A=r(x),k=n(1008),w=r(k),R=n(31),O=r(R),P=n(166),L=r(P),M=n(150),D=r(M),U=n(479),F=r(U),q=function(e){return(0,h.default)((0,A.default)(e))},B=l.default.createClass({displayName:"GlobalNav",propTypes:{accountInfo:i.default.object,children:i.default.node.isRequired,location:i.default.object,currentUserInfo:i.default.object,profile:i.default.object,notifications:i.default.object,tasks:i.default.object,locales:i.default.object,teammates:i.default.object,manager:i.default.object,permissions:i.default.object,ltiPlacements:i.default.array,stopMasquerading:i.default.func,isMasquerading:i.default.bool,preview:i.default.bool,userRoles:i.default.array,customMasqueradingMessage:i.default.string,brandingInfo:i.default.object},getDefaultProps:function(){return{permissions:{}}},render:function(){return l.default.createElement(w.default,null,this.renderPage())},renderPage:function(){var e=this.props,t=e.accountInfo,n=e.currentUserInfo,r=e.notifications,s=e.tasks,i=e.profile,o=e.locales,u=e.teammates,c=e.manager,d=e.ltiPlacements,p=e.stopMasquerading,m=e.isMasquerading,h=e.customMasqueradingMessage,v=e.location,y=e.preview,E=e.brandingInfo,I=(0,T.default)(n,c,u),N=S.default.customHelpMenuItems(),x=N.customSupportChatUrl,A=N.customSupportTicketUrl,k=N.customSupportPhoneNumber,w=n||{};w.hasOwnProperty("purchasedProducts")||(w.purchasedProducts=(0,D.default)((0,f.products)())),w.hasOwnProperty("roles")||(w.roles=this.props.userRoles||[]);var R={learn:"//"+(0,f.learnURL)(),perform:"//"+(0,f.performURL)()+"/talent",career:"//"+(0,f.careerURL)()},M="admin"!==(0,F.default)(v.pathname);return l.default.createElement(g.Page,{currentUserInfo:w,accountInfo:t,location:v.pathname,isFeatureEnabled:q,selectedApp:this.getSelectedApp(v),onLogout:function(){},uploadAvatar:b.default.uploadFile,onPasswordChange:b.default.updatePassword,onProfileChange:this.handleProfileChange,onSuccess:function(e){return(0,P.toast)(e)},onError:function(e){return(0,P.toastOfError)(e)},profile:i||{},languages:this.formatLocales(o),emailUrl:A,phoneInfo:k,chatUrl:x,notifications:(0,_.default)(r),tasks:(0,C.default)(w,s,I),ltiLinks:d?d.map(a):[],productEnabled:f.productEnabled,onMasqueradeStop:m?p:void 0,masqueradeMessage:h,runtime:O.default,preview:y,brandingInfo:E,hosts:R,useDataHighContrast:M},l.default.createElement(L.default,{scope:v.pathname}),l.default.createElement("div",{className:"global-nav__content"},l.default.Children.only(this.props.children)))},getSelectedApp:b.default.getSelectedApp,handleProfileChange:function(e){return b.default.updateProfile(e,this.props.profile)},formatLocales:function(e){return Object.keys(e).map(function(t){return{id:t.toString(),name:e[t].locales[t]}})}}),j={admin_nav:"admin/lti_resource",learner_nav:"learner/lti_resource"};t.default=(0,c.default)({type:B,asyncProps:(0,p.default)(f.productEnabled)}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return t.read?e:e+1}function s(e){o.default.update(Object.assign({},e,{read:!0}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.notifications,n=e.fetchStatus;return t?{dismiss:function(e){return o.default.delete(e)},markRead:s,fetch:function(){return o.default.fetchAll()},fetchStatus:n,notifications:t,count:t.length,unread:t.reduce(a,0)}:{notifications:[]}};var i=n(507),o=r(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(251),o=r(i);t.default=(0,s.default)({schema:o.default,url:"/api/learner/notifications/%@",type:"DELETE"}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(251),o=r(i),l=n(4);t.default=(0,s.default)({schema:o.default,url:"/api/learner/notifications",parse:function(e,t){return t.notifications.map(e).map(function(e){return(0,l.assign)(e,{id:e.id.toString()})})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(251),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/learner/notifications/"+e.id,type:"PUT",data:e})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){(0,E.default)({locale:e}).then(function(e){m.default.updateLocale(e.locale),v.default.activateCurrentLocale()},function(){(0,h.toastOfError)(y.default.t("Oh Snap! We were unable to update your language settings. Please try again later."))})}function s(e,t){return(0,T.default)(e,t)}function i(e){(0,E.default)({a11y:e}).then(function(){l({a11y:e}),m.default.updateA11y(e)},function(){l(null),m.default.updateA11y(!e),(0,h.toastOfError)(y.default.t("Oh Snap! We were unable to update your preferences. Please try again later."))})}function o(e){A.default.update({theme:e}).then(function(){m.default.updateTheme(e)},function(){m.default.updateTheme(e?null:k.THEME_HIGH_CONTRAST),(0,h.toastOfError)(y.default.t("Oh Snap! We were unable to update your preferences. Please try again later."))})}function l(e){window.localStorage[O]=JSON.stringify(e)}function u(e,t){var n=(0,C.omitBy)(e,function(e,n){return t[n]===e});for(var r in n){var s=n[r];switch(r){case"locale":a(s);break;case"a11y":i(s);break;case"theme":o(s);break;case"avatarUrl":c(s);break;default:throw new Error("Not Implemented")}}return R.default.resolve()}function c(e){return m.default.updateAvatarURL(e),(0,E.default)({avatarUrl:e}).catch(function(){(0,h.toastOfError)(y.default.t("Oh Snap! We were unable to update your avatar. Please try again later."))})}function d(e){var t=(0,S.default)(e,{public:!0});return t.upload().then(function(e){c(e.location)},function(t){console.error("Failed to upload image: ",e,t)})}function p(e){var t=e.pathname;return t.startsWith("/author/reports")||t.startsWith("/admin/insights")?"insights":t.startsWith("/support")||t.startsWith("/admin")||t.startsWith("/author/markets")||t.startsWith("/author/users")||t.startsWith("/author/learner")||t.startsWith("/author/groups")||t.startsWith("/author/data-dump")?"admin":t.startsWith("/author")?"author":"career"}Object.defineProperty(t,"__esModule",{value:!0});var f=n(39),m=r(f),h=n(166),g=n(108),v=r(g),_=n(26),y=r(_),b=n(307),E=r(b),C=n(4),I=n(1016),T=r(I),N=n(117),S=r(N),x=n(149),A=r(x),k=n(12),w=n(25),R=r(w),O="learnerActionsUpdateProfileA11y";t.default={updateProfile:u,updatePassword:s,uploadFile:d,getSelectedApp:p},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(1018),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e,t){return(0,o.default)({url:"/api/learner/profile/password",data:{current_password:e,new_password:t},dataType:"json",method:"PUT"})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(508),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/lti_placements",data:{placement:e}})},parse:function(e,t){return t.lti_placements.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=(0,r.shape)({meta:(0,r.shape)({success:r.bool})});t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(1017),o=r(i),l=n(508),u=r(l);t.default=(0,s.default)({displayName:"/var/web/bridge/packages/bridge-global-nav/src/shared/stores/LtiPlacementStore.js",schema:u.default,fetchAll:function(e){var t=this;return(0,o.default)(e).then(function(n){t.cache.setCollection(e,n)})},getAll:function(e){return this.cache.getCollection(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return t.completedAt&&t.source!==u.TaskSource.GOAL?e:e+1}function s(e,t){return e.map(function(e){return(0,l.assign)(e,{assignee:t,author:e.author?e.author:{}})})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=r(i);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.tasks,r=t.createStatus,i=t.saveStatus,l=t.deleteStatus,u=t.fetchStatus,c=arguments[2];return n?(0,o.default)({currentAuthor:e,createStatus:r,createTask:function(e){return d.default.create(e)},deleteStatus:l,deleteTask:function(e){return d.default.delete(e)},fetch:function(){return d.default.fetchAll()},fetchStatus:u,saveStatus:i,saveTask:function(e){return d.default.update(e)},tasks:s(n,e),count:n.length,incomplete:n.reduce(a,0)},c):{tasks:[]}};var l=n(4),u=n(204),c=n(510),d=r(c);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(205),o=r(i),l=n(7),u=r(l),c=n(334),d=r(c),p=n(509),f=r(p);t.default=(0,s.default)({schema:o.default,perform:function(e){var t=(0,d.default)(e);return(0,u.default)({url:"/api/learner/perform_tasks",type:"POST",data:t})},parse:function(e,t){return t.tasks.map(e).map(f.default)[0]}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(205),o=r(i),l=n(7),u=r(l),c=n(334),d=r(c);t.default=(0,s.default)({schema:o.default,perform:function(e){var t=(0,d.default)(e);return(0,u.default)({url:"/api/learner/perform_tasks/"+e.id,type:"DELETE",data:{task:t}})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(205),o=r(i),l=n(509),u=r(l);t.default=(0,s.default)({schema:o.default,url:"/api/learner/perform_tasks",parse:function(e,t){return t.tasks.map(e).map(u.default)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(205),o=r(i),l=n(7),u=r(l),c=n(334),d=r(c);t.default=(0,s.default)({schema:o.default,perform:function(e){var t=(0,d.default)(e);return(0,u.default)({url:"/api/learner/perform_tasks/"+e.id,type:"PUT",data:t})}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=n(204),s=n(4);t.default=(0,r.oneOf)((0,s.values)(a.TaskSource)),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=t?[t,e]:[e];return n&&(r=r.concat(n)),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teammates,s=n.searchStatus,o=n.directReports;return{searchStatus:s,searchTeammates:function(e){return i.default.search(e)},defaultTeammates:a(e,t,o),teammates:r}};var s=n(511),i=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(252),o=r(i),l=n(335),u=r(l);t.default=(0,s.default)({schema:o.default,url:"/api/private/users/%@/direct_reports",parse:function(e,t){return t.direct_reports.map(e).map(u.default)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(252),o=r(i),l=n(335),u=r(l);t.default=(0,s.default)({schema:o.default,url:"/api/learner/users/%@",parse:function(e,t){return t.users.map(e).map(u.default)[0]}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(252),o=r(i),l=n(7),u=r(l),c=n(335),d=r(c);t.default=(0,s.default)({schema:o.default,perform:function(e){var t=e.params;return(0,u.default)({url:"/api/learner/users",data:t})},parse:function(e,t){return t.users.map(e).map(d.default)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(116),u=r(l),c=o.default.createClass({displayName:"AdminLayout",propTypes:{children:s.default.node},render:function(){return o.default.createElement("div",null,o.default.createElement(u.default,null),this.props.children)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(512),o=r(i),l=n(513),u=r(l),c=n(20),d=r(c),p=n(2),f=n(552),m=s.default.createClass({displayName:"ApplicationLayoutWithSidebar",propTypes:{children:p.node.isRequired,path:p.string.isRequired,currentRouteName:p.string.isRequired,className:p.string,masquerading:p.bool,location:p.object,user:p.object},render:function(){return(0,f.isPlatformActive)()?this.renderWithoutNav():s.default.createElement(o.default,{user:this.props.user,masquerading:this.props.masquerading,currentRouteName:this.props.currentRouteName,className:this.props.className,bodyClassName:{"without-sidebar":(0,d.default)("global_nav")},renderToast:!1},s.default.createElement(u.default,{children:this.props.children,path:this.props.path,currentRouteName:this.props.currentRouteName,location:this.props.location,user:this.props.user}))},renderWithoutNav:function(){return s.default.createElement(o.default,{user:this.props.user,masquerading:this.props.masquerading,currentRouteName:this.props.currentRouteName,className:this.props.className},s.default.createElement("div",{className:"content-wrapper full-min-height"},s.default.Children.only(this.props.children)))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(116),u=r(l),c=o.default.createClass({displayName:"AuthorLayout",propTypes:{children:s.default.node},render:function(){return o.default.createElement("div",null,o.default.createElement(u.default,null),this.props.children)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(147),u=r(l),c=n(816),d=r(c),p=n(817),f=r(p),m=o.default.createClass({displayName:"FreeTrialGate",propTypes:{children:s.default.node.isRequired},render:function(){return u.default.shouldShowExpirationOverlayForAdmin()?o.default.createElement(d.default,null):u.default.shouldShowExpirationOverlayForLearner()?o.default.createElement(f.default,null):o.default.Children.only(this.props.children)}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(116),u=r(l),c=o.default.createClass({displayName:"LearnerLayout",propTypes:{children:s.default.node},render:function(){return o.default.createElement("div",null,o.default.createElement(u.default,null),this.props.children)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=o.default.createClass({displayName:"SupportLayout",propTypes:{children:s.default.node},render:function(){return o.default.createElement("div",null,this.props.children)}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(46),o=r(i),l=n(2),u=r(l),c=n(1),d=r(c),p=n(4),f=n(41),m=r(f),h=function(e){var t=e.presets,n=e.defaultPreset;(0,m.default)(t&&"object"===("undefined"==typeof t?"undefined":(0,o.default)(t)),"@presets must be a valid layout preset mapping"),(0,m.default)(n&&Array.isArray(n),"@defaultPreset must be a valid layout preset");var r=Object.keys(t).reduce(function(e,n){return e[n]=t[n].slice().reverse(),e},{}),a=n.slice().reverse();return d.default.createClass({displayName:"LayoutSwitch",propTypes:{layout:u.default.oneOf(Object.keys(r)),children:u.default.node.isRequired},render:function(){var e=r[this.props.layout]||a,t=(0,p.omit)(this.props,["layout"]);return e.reduce(function(e,n){return d.default.createElement(n,(0,s.default)({},t,{children:e}))},this.props.children)}})};t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(206),o=r(i),l=n(86),u=n(2),c=n(5),d=s.default.createClass({displayName:"ContentItemIframeView",propTypes:{ltiContentItem:o.default,width:u.number,height:u.number,iFrameClassName:u.string},render:function(){var e=this.props,t=e.width,n=e.height,r=e.iFrameClassName,a=e.ltiContentItem;return(0,l.isValidURL)(a.ltiAttributes.url)?s.default.createElement("div",{className:"cce-media-external"},s.default.createElement(c.IESafeIframe,{className:r,src:a.ltiAttributes.url,width:t,height:n,frameBorder:0,allowFullScreen:!0})):null}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(514),u=r(l),c=n(206),d=r(c),p=n(2),f=n(4),m=o.default.createClass({displayName:"LtiLinkItemView",propTypes:{ltiContentItem:d.default,width:p.number,height:p.number,iFrameClassName:p.string,onFetchLtiLinkItemLaunchResource:p.func},getInitialState:function(){return{ltiResource:null,isLoading:!0}},componentWillMount:function(){this.fetchLtiLinkItemLaunchResource()},componentWillUpdate:function(e){(0,f.isEqual)(e.ltiContentItem,this.props.ltiContentItem)||this.fetchLtiLinkItemLaunchResource()},fetchLtiLinkItemLaunchResource:function(){var e=this,t=this.props,n=t.onFetchLtiLinkItemLaunchResource,r=t.ltiContentItem;this.setState({isLoading:!0}),n(r).then(function(t){e.setState((0,s.default)({},t))})},render:function(){var e=this.state,t=e.ltiResource,n=e.isLoading,r=this.props,a=r.width,s=r.height,i=r.iFrameClassName;return o.default.createElement(u.default,{ltiResource:t,width:a,height:s,iFrameClassName:i,isLoading:n})}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(206),o=r(i),l=n(1038),u=r(l),c=n(1037),d=r(c),p=n(2),f=n(4),m=s.default.createClass({displayName:"LtiContentItemView",propTypes:{ltiContentItem:o.default,width:p.number,height:p.number,iFrameClassName:p.string,onFetchLtiLinkItemLaunchResource:p.func},render:function(){var e=this.props,t=e.width,n=e.height,r=e.iFrameClassName,a=e.onFetchLtiLinkItemLaunchResource,i=e.ltiContentItem;return this.shouldDisplayContentItemIframeView()?s.default.createElement(d.default,{ltiContentItem:i,width:t,height:n,iFrameClassName:r}):s.default.createElement(u.default,{ltiContentItem:i,width:t,height:n,iFrameClassName:r,onFetchLtiLinkItemLaunchResource:a})},shouldDisplayContentItemIframeView:function(){var e=this.props.ltiContentItem,t=(0,f.get)(e,"ltiAttributes.@type"),n=(0,f.get)(e,"ltiAttributes.mediaType"),r=(0,f.get)(e,"ltiAttributes.placementAdvice.presentationDocumentTarget");return"application/vnd.ims.lti.v1.ltilink"!==n&&"ContentItem"===t&&"iframe"===r}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),s=n(206),i=r(s),o=(0,a.shape)({toolId:a.string,title:a.string,ltiContentItems:(0,a.arrayOf)(i.default)});t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),a=n(35);t.default=a.DefaultDraftBlockRenderMap.merge((0,r.Map)({paragraph:{element:"div"},atomic:{element:"div"}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1044),o=r(i),l=n(153),u=n(69),c=r(u),d=n(5),p=n(391),f=n(2),m=n(28),h=r(m),g=d.constants.RCE_MEDIA_ATTACHMENT_POLLING_FREQUENCY,v=s.default.createClass({displayName:"ContentEditor",propTypes:{slide:n(337).isRequired,attachmentStore:f.object.isRequired,attachments:(0,f.arrayOf)(n(33)).isRequired,uploads:(0,f.arrayOf)(l.MediaUploadSchema).isRequired,titlePlaceholder:f.string,onTitleChange:f.func.isRequired,onContentChange:f.func.isRequired,onCommentingStatusChange:f.func.isRequired,onRequestMediaUpload:f.func.isRequired,onUploadMedia:f.func.isRequired,onReloadAttachments:f.func.isRequired,onFetchLtiResource:f.func,onFetchLtiContent:f.func,titleCentered:f.bool,fullWidth:f.bool,commentsHidden:f.bool,customFontsEnabled:f.bool},getDefaultProps:function(){return{titleCentered:!1,titlePlaceholder:I18n.t("Slide Title"),onFetchLtiResource:Function.prototype,onFetchLtiContent:Function.prototype,customFontsEnabled:!1}},componentDidMount:function(){this.startMediaPoller()},componentWillUnmount:function(){this.stopMediaPoller()},render:function(){var e=this.props,t=e.slide,n=e.titleCentered,r=e.customFontsEnabled,a=t.title||this.props.titlePlaceholder,i=(0,h.default)("cce-slide-editor__title",{"cce-slide-editor__title--centered":n}),l=(0,h.default)("slide-title h1 full-width",{"brand-font":r}),u=(0,h.default)("slide-focus-target slide-title",{"brand-font":r});return s.default.createElement("div",{className:"cce-slide-editor white-bg"},s.default.createElement("div",{className:"pure-g padding-trl-l"},s.default.createElement("div",{className:"pure-u-1","data-capybara":"slide-editor_slide-title"},s.default.createElement(c.default,{className:i,value:t.title,placeholder:this.props.titlePlaceholder,inputClassName:l,onChange:this.props.onTitleChange,centered:this.props.titleCentered},s.default.createElement("h1",{tabIndex:"-1",className:u},a)))),s.default.createElement("div",{className:"padding-rl-l padding-t-s"
},s.default.createElement(o.default,{ref:"RCE",slide:t,attachmentStore:this.props.attachmentStore,attachments:this.props.attachments,uploads:this.props.uploads,onChange:this.emitContentChange,onToggleComments:this.toggleComments,onRequestMediaUpload:this.props.onRequestMediaUpload,onUploadMedia:this.props.onUploadMedia,onFetchLtiResource:this.handleFetchLtiResource,onFetchLtiContent:this.handleFetchLtiContent,fullWidth:this.props.fullWidth,commentsHidden:this.props.commentsHidden,customFontsEnabled:r})),t.allowComments&&this.renderCommentsPlaceholder())},renderCommentsPlaceholder:function(){return s.default.createElement("div",{className:"padding-rbl-l"},s.default.createElement("div",{className:"slide-comments-placeholder border-grey border padding-s","data-capybara":"slide-comments-placeholder"},s.default.createElement("h3",{className:"light upcase x-medium dark-grey border-b border-grey padding-b-s margin-b-s"},s.default.createElement("div",{className:"table full-width"},s.default.createElement("div",{className:"table-cell text-baseline"},s.default.createElement(d.Icon,{className:"gs-comments margin-r-s"})," ",I18n.t("Comments")),s.default.createElement("div",{className:"table-cell text-baseline text-right"},s.default.createElement("button",{type:"button",onClick:this.toggleComments,className:"btn--reset"},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Disable")),s.default.createElement(d.Icon,{className:"gs-x gs-1x dark-grey"}))))),s.default.createElement("div",{className:"blue-grey text-center margin-b-xs"},I18n.t("Commenting is turned on"))))},startMediaPoller:function(){this.mediaPoller=setInterval(this.pollForPendingMedia,g)},stopMediaPoller:function(){this.mediaPoller&&(this.mediaPoller=clearInterval(this.mediaPoller))},pollForPendingMedia:function(){var e=l.MediaUtils.findStaleAttachments({slide:this.props.slide,attachments:this.props.attachments});e.length&&this.props.onReloadAttachments(e)},handleFetchLtiResource:function(e){return this.props.onFetchLtiResource(e)},handleFetchLtiContent:function(e){return this.props.onFetchLtiContent(e)},toggleComments:function(){this.props.onCommentingStatusChange(!this.props.slide.allowComments)},emitContentChange:function(e){this.props.onContentChange({serializedBody:(0,p.convertFromRawToHTML)(e),structuredBody:e})}});e.exports=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"TINYMCE-HEADER-ONE":{fontSize:"1.5em",fontWeight:"bold"},"TINYMCE-HEADER-TWO":{fontSize:"1.5em",fontWeight:"bold"},"TINYMCE-HEADER-THREE":{fontSize:"1.25em",fontWeight:"bold"},"TINYMCE-HEADER-FOUR":{fontSize:"1em",fontWeight:"bold"},"TINYMCE-HEADER-FIVE":{fontSize:"1em",fontWeight:"bold"},"TINYMCE-HEADER-SIX":{fontSize:"1em",fontWeight:"bold"},"TINYMCE-BLOCKQUOTE":{display:"block",marginTop:24,marginBottom:24,marginLeft:32}},e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=void 0;try{e&&(n=B.EditorState.createWithContent((0,B.convertFromRaw)(e),t))}catch(e){console.error("Unable to deserialize editor state:"),console.error(e&&e.stack||e),n=null}return n||B.EditorState.createEmpty(t)}function i(e,t){if(e.getKey()!==t.getFirstBlock().getKey())return!1;if(e.getLength()>0)return!1;var n=t.getBlockAfter(e.getKey());return n&&"atomic"===n.getType()}var o=n(1),l=a(o),u=n(23),c=a(u),d=n(36),p=a(d),f=n(86),m=n(19),h=a(m),g=n(28),v=a(g),_=n(519),y=a(_),b=n(1046),E=a(b),C=n(1041),I=a(C),T=n(1043),N=a(T),S=n(518),x=n(20),A=a(x),k=n(966),w=r(k),R=n(969),O=r(R),P=n(153),L=r(P),M=n(979),D=r(M),U=n(163),F=n(73),q=n(2),B=n(35),j=L.MediaUploadSchema,H=L.MediaUtils,G=H.selectionContainsImage,W=H.contentContainsEmbeddedImage,V=l.default.createClass({displayName:"RCE",childContextTypes:{attachmentStore:q.object.isRequired,attachments:(0,q.arrayOf)(n(33)).isRequired,slideId:q.string,uploads:(0,q.arrayOf)(j).isRequired,onFetchLtiContent:q.func},propTypes:{slide:n(337).isRequired,attachmentStore:q.object,attachments:(0,q.arrayOf)(n(33)).isRequired,uploads:(0,q.arrayOf)(j).isRequired,fullWidth:q.bool,onFetchLtiResource:q.func.isRequired,onFetchLtiContent:q.func.isRequired,onChange:q.func.isRequired,onToggleComments:q.func,onRequestMediaUpload:q.func,onUploadMedia:q.func,commentsHidden:q.bool,customFontsEnabled:q.bool},getChildContext:function(){return{attachmentStore:this.props.attachmentStore,attachments:this.props.attachments,slideId:this.props.slide.id,uploads:this.props.uploads,onFetchLtiContent:this.props.onFetchLtiContent}},getInitialState:function(){var e=this.props.slide,t=(0,F.PluginManager)([[O,{allowListNesting:(0,A.default)("cce_nested_list_items"),requireSelectionForInlineStyles:!0,styleAliases:{BOLD:S.TINYMCE_HEADING_STYLES}}],w,L,D]);return{pluginManager:t,editorFrozen:!1,toolbarFixed:!1,editorState:s(e?e.structuredBody:null,t.getDecorator())}},componentDidMount:function(){document.body.addEventListener("click",this.handleDocumentClick),(0,U.initializeEmbedly)(document)},componentWillUnmount:function(){document.body.removeEventListener("click",this.handleDocumentClick),(0,U.teardownEmbedly)()},componentWillReceiveProps:function(e){e.slide.id!==this.props.slide.id&&this.setState({editorState:s(e.slide.structuredBody,this.state.pluginManager.getDecorator())})},componentDidUpdate:function(e,t){if(e.slide.id===this.props.slide.id){var n=t.editorState.getCurrentContent(),r=this.state.editorState.getCurrentContent();if(!p.default.is(n,r)){var a=(0,B.convertToRaw)(r);W(a)||this.props.onChange(a)}}},render:function(){var e=this.state.editorState,t=this.state.pluginManager,n=t.PluginAgent,r=t.EditorAgent,a=e.getSelection(),s=!a.isCollapsed(),i=e.getCurrentContent().getBlockForKey(a.getStartKey()).getType(),o="atomic"===i;return l.default.createElement("div",null,l.default.createElement(E.default,{slide:this.props.slide,editorState:this.state.editorState,onChangeOfFixedStatus:this.trackToolbarFixedStatus,onEmbedMedia:this.handleMediaEmbedding,onEmbedLtiMedia:this.handleLtiMediaEmbedding,onToggleInlineStyle:this.toggleInlineStyle,onToggleBlockType:this.toggleBlockType,onToggleComments:this.props.onToggleComments,onToggleLink:this.promptForLink,onUploadMedia:this.handleMediaUpload,onFetchLtiResource:this.props.onFetchLtiResource,disabled:o,textSelected:s,fullWidth:this.props.fullWidth,commentsHidden:this.props.commentsHidden}),l.default.createElement(n,{editorState:e,urlValidator:f.isValidURL,onChange:this.trackChange,onFreeze:this.freezeEditor,onThaw:this.thawEditor,onLinkValidationError:this.toastLinkValidationError,withFixedToolbar:this.state.toolbarFixed}),l.default.createElement(y.default,{customFontsEnabled:this.props.customFontsEnabled,className:(0,v.default)("cce-content__editor relative",{"cce-content__editor--with-rooted-list-items":!(0,A.default)("cce_nested_list_items")})},l.default.createElement(r,{attachments:this.props.attachments,uploads:this.props.uploads},l.default.createElement(B.Editor,{readOnly:this.state.editorFrozen,onChange:this.trackChange,editorState:this.state.editorState,blockStyleFn:this.styleBlocks,customStyleMap:N.default,blockRenderMap:I.default,placeholder:I18n.t("Add content here. You can also add video and images using the toolbar above."),spellCheck:!0,autoFocus:!0}))))},handleDocumentClick:function(e){c.default.findDOMNode(this).contains(e.target)||this.resetAtomicSelection()},resetAtomicSelection:function(){var e=this.state.editorState.getCurrentContent(),t=this.state.editorState.getSelection(),n=e.getBlockForKey(t.getStartKey());if("atomic"===n.getType()){var r=e.getFirstBlock().getKey(),a=B.SelectionState.createEmpty(r).set("hasFocus",!1);this.setState({editorState:B.EditorState.set(this.state.editorState,{selection:a,forceSelection:!0,nativelyRenderedContent:null,inlineStyleOverride:null})})}},trackChange:function(e){G(this.state.editorState)!==G(e)?this.setState({editorState:(0,F.regenerateState)(e)}):this.setState({editorState:this.state.pluginManager.applyIntegrityEnforcements(e)})},styleBlocks:function(e){var t=e.getType();return"unstyled"===t?i(e,this.state.editorState.getCurrentContent())?"cce-content__paragraph cce-content__paragraph--leading-atomic-filler":"cce-content__paragraph":"cce-content__"+t},toggleInlineStyle:function(e){this.state.pluginManager.executeCommand(O,"toggleInlineStyle",e)},toggleBlockType:function(e){this.state.pluginManager.executeCommand(O,"toggleBlockType",e)},promptForLink:function(){this.state.pluginManager.executeCommand(w,"promptForLink")},insertLink:function(e){this.state.pluginManager.executeCommand(w,"insertLink",e)},freezeEditor:function(){this.state.editorFrozen||this.setState({editorFrozen:!0})},thawEditor:function(){this.state.editorFrozen&&this.setState({editorFrozen:!1})},handleMediaUpload:function(e){var t=e.file,n=e.sourceBlob;this.state.pluginManager.executeCommand(L,"handleMediaUpload",{file:t,sourceBlob:n,onRequestMediaUpload:this.props.onRequestMediaUpload,onUploadMedia:this.props.onUploadMedia,onFailure:this.toastMediaUploadFailure})},handleMediaEmbedding:function(e){var t=e.url;this.state.pluginManager.executeCommand(L,"handleMediaEmbedding",{url:t,onEmbedFailure:this.toastEmbedFailure})},handleLtiMediaEmbedding:function(e){var t=e.ltiContentItem;this.state.pluginManager.executeCommand(L,"handleLtiMediaEmbedding",{ltiContentItem:t,onEmbedFailure:this.toastEmbedFailure,onInsertLink:this.insertLink})},trackToolbarFixedStatus:function(e){this.setState({toolbarFixed:e})},toastLinkValidationError:function(){(0,h.default)(I18n.t("Oh no! Your link was invalid."),{type:"error"})},toastMediaUploadFailure:function(){(0,h.default)(I18n.t("Oh no! There was a problem uploading your media. Please try again."),{type:"error"})},toastEmbedFailure:function(){(0,h.default)(I18n.t("Oh no! There was a problem embedding your media. Please try again."),{type:"error"})}});e.exports=V},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(23),u=n(4),c=n(888),d=r(c),p=o.default.createClass({displayName:"ScrollSniffer",propTypes:{children:s.default.node,frequency:s.default.number,onScroll:s.default.func.isRequired},getDefaultProps:function(){return{frequency:25}},componentDidMount:function(){var e=this;this.isMounted=function(){return!0};var t=(0,l.findDOMNode)(this),n=(0,d.default)();this.throttledEmitScroll=(0,u.throttle)(function(n){e.isMounted()&&n.target.contains(t)&&e.emitScrollEvent(n)},Math.max(this.props.frequency,1)),n.addEventListener("scroll",this.throttledEmitScroll,!0)},componentWillUnmount:function(){var e=(0,d.default)();e.removeEventListener("scroll",this.throttledEmitScroll,!0),this.throttledEmitScroll=null,this.isMounted=function(){return!1}},render:function(){return o.default.Children.only(this.props.children)},emitScrollEvent:function(e){this.props.onScroll(e)}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(23),u=r(l),c=n(78),d=r(c),p=n(28),f=r(p),m=n(4),h=n(147),g=r(h),v=n(1045),_=r(v),y=n(1047),b=r(y),E=n(518),C=n(153).Components.MediaUploader,I=function(){return[{style:"header-two",label:I18n.t("Heading 1"),className:"gs-heading-1"},{style:"header-three",label:I18n.t("Heading 2"),className:"gs-heading-2"},{style:"unordered-list-item",label:I18n.t("Unordered List"),className:"gs-ul"},{style:"ordered-list-item",label:I18n.t("Ordered List"),className:"gs-ol"}]},T=function(){return[{style:"BOLD",aliases:E.TINYMCE_HEADING_STYLES,className:"gs-bold",label:I18n.t("Bold")},{style:"ITALIC",className:"gs-italic",label:I18n.t("Italic")}]},N=o.default.createClass({displayName:"Toolbar",propTypes:{slide:n(337).isRequired,disabled:s.default.bool,textSelected:s.default.bool,onChangeOfFixedStatus:s.default.func,onEmbedMedia:s.default.func,onEmbedLtiMedia:s.default.func,onToggleBlockType:s.default.func.isRequired,onToggleInlineStyle:s.default.func.isRequired,onToggleComments:s.default.func,onToggleLink:s.default.func,onUploadMedia:s.default.func,onFetchLtiResource:s.default.func,editorState:s.default.object.isRequired,fullWidth:s.default.bool,commentsHidden:s.default.bool},getInitialState:function(){return{mediaUploaderVisible:!1,fixed:!1}},getDefaultProps:function(){return{onUploadMedia:Function.prototype,onEmbedMedia:Function.prototype,onEmbedLtiMedia:Function.prototype,commentsHidden:!1}},componentDidUpdate:function(e,t){t.fixed!==this.state.fixed&&this.props.onChangeOfFixedStatus&&this.props.onChangeOfFixedStatus(this.state.fixed)},render:function(){return o.default.createElement(_.default,{onScroll:this.updatePosition,children:this.renderContent()})},renderContent:function(){var e=this,t=this.props.editorState,n=t.getCurrentInlineStyle(),r=g.default.shouldShowCountdownToast(),a=t.getSelection(),s=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType(),i=(0,f.default)("tinymce-mediaupload-overlay",{"tinymce-mediaupload-overlay--full-width":this.props.fullWidth});return o.default.createElement("div",{className:(0,f.default)("cce-rce-toolbar",{"cce-rce-toolbar--fixed":this.state.fixed,"cce-rce-toolbar--free-trial":this.state.fixed&&r})},o.default.createElement("div",{ref:"placeholder",className:"cce-rce-toolbar__placeholder"}),this.state.mediaUploaderVisible&&o.default.createElement(d.default,{contentLabel:"",isOpen:!0,onRequestClose:this.hideMediaUploader,overlayClassName:"tinymce-mediaupload-modal cce-rce-mediaupload",className:i},o.default.createElement(C,{onUploadMedia:(0,m.flowRight)(this.hideMediaUploader,this.props.onUploadMedia),onEmbedMedia:(0,m.flowRight)(this.hideMediaUploader,this.props.onEmbedMedia),onEmbedLtiMedia:(0,m.flowRight)(this.hideMediaUploader,this.props.onEmbedLtiMedia),onClose:this.hideMediaUploader,onFetchLtiResource:this.props.onFetchLtiResource})),o.default.createElement("div",{className:"cce-rce-toolbar__content-wrapper"},o.default.createElement("div",{"data-capybara":"slide-editor-toolbar",className:" cce-rce-toolbar__content padding-tb-xs indigo flex-row flex-space-around "},T().map(function(t){return o.default.createElement(b.default,{key:t.label,active:n.intersect([t.style].concat(t.aliases||[])).count()>0,label:t.label,icon:t.className,onClick:e.props.onToggleInlineStyle.bind(null,t.style),style:t.style,disabled:e.props.disabled||!e.props.textSelected})}),o.default.createElement(b.default,{onClick:this.props.onToggleLink,icon:"gs-link",label:I18n.t("Link"),disabled:this.props.disabled||!this.props.textSelected}),I().map(function(t){return o.default.createElement(b.default,{key:t.label,active:t.style===s,label:t.label,icon:t.className,onClick:e.props.onToggleBlockType.bind(null,t.style),style:t.style,disabled:e.props.disabled})}),o.default.createElement(b.default,{onClick:this.showMediaUploader,icon:"gs-media",label:I18n.t("Media"),disabled:this.props.disabled}),!this.props.commentsHidden&&o.default.createElement(b.default,{onClick:this.toggleComments,active:this.props.slide.allowComments,icon:"gs-comments button--toggleComments",label:I18n.t("Comments"),disabled:this.props.disabled}))))},showMediaUploader:function(){this.state.mediaUploaderVisible||this.setState({mediaUploaderVisible:!0})},hideMediaUploader:function(){this.state.mediaUploaderVisible&&this.setState({mediaUploaderVisible:!1})},updatePosition:function(e){var t=e&&e.target&&e.target.scrollTop||0,n=u.default.findDOMNode(this.refs.placeholder).offsetTop;t>=n?this.state.fixed||this.setState({fixed:!0}):this.state.fixed&&this.setState({fixed:!1})},toggleComments:function(){this.props.onToggleComments(!this.props.slide.allowComments)}});e.exports=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(18),l=r(o),u=n(6),c=r(u),d=n(2),p=s.default.createClass({displayName:"ToolbarButton",propTypes:{active:d.bool,disabled:d.bool,onClick:d.func,label:d.string,icon:d.string},render:function(){var e=(0,c.default)({"cce-rce-toolbar__button":!0,"cce-rce-toolbar__button--active":this.props.active,"cce-rce-toolbar__button--disabled":this.props.disabled});return s.default.createElement(l.default,{className:e,onMouseDown:this.props.onClick,disabled:this.props.disabled},s.default.createElement("span",{className:"screenreader-only"},this.props.label),s.default.createElement(i.Icon,{className:this.props.icon}))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=o.default.createClass({displayName:"RouteHandler",contextTypes:{routeHandlers:s.default.array.isRequired,routeHandlerCursor:s.default.number.isRequired},childContextTypes:{routeHandlerCursor:s.default.number},getChildContext:function(){return{routeHandlerCursor:this.context.routeHandlerCursor+1}},render:function(){var e=this.context.routeHandlers[this.context.routeHandlerCursor];return e?o.default.createElement(e,this.props):null}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=o.default.createClass({displayName:"RouteHandlerHierarchy",propTypes:{children:s.default.node,routeHandlers:s.default.arrayOf(s.default.func).isRequired},childContextTypes:{routeHandlerCursor:s.default.number,routeHandlers:s.default.array},getChildContext:function(){return{routeHandlerCursor:0,routeHandlers:this.props.routeHandlers}},render:function(){return o.default.Children.only(this.props.children)}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){e.intent.__retriedFromCanExit__=!0}function s(e){return e.intent.__retriedFromCanExit__===!0}function i(e){return e&&"function"==typeof e.then}function o(){var e={params:null,query:null,location:{origin:null,pathname:null,search:null}};return{cloneProps:function(){return{params:Object.assign({},e.params),query:Object.assign({},e.query),location:Object.assign({},e.location)}},updateProps:function(t){Object.assign(e,t)},resetProps:function(){e.location.search=null,e.location.pathname=null,e.location.origin=null,e.query=null,e.params=null},toJSON:function(){return e}}}function l(e){var t=e.indexOf("?");return t>-1?e.slice(t):""}function u(e){return e.split("?")[0]}function c(e){return function(t,n){return Object.keys(t).forEach(function(e){n.push({key:e,value:t[e]})}),e.apply(this,arguments),!0}}function d(e,t){var n=p(e),r=n.handlerInfos.filter(function(e){return e.name===n.targetName}).some(function(e){return e.handler===R.default});return r?(0,P.default)(n.targetName)===t:n.targetName===t}function p(e){if(e.queryParamsOnly){var t=e.state.handlerInfos,n=t[t.length-1];return{handlerInfos:t,targetName:n.name}}return!e.handlerInfos&&e.state?{handlerInfos:e.state.handlerInfos,targetName:e.targetName||e.state.targetName}:{handlerInfos:e.handlerInfos,targetName:e.targetName}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(46),m=r(f),h=n(4),g=n(49),v=r(g),_=n(1056),y=r(_),b=n(524),E=r(b),C=n(338),I=r(C),T=n(25),N=r(T),S=n(1055),x=r(S),A=n(1057),k=r(A),w=n(520),R=r(w),O=n(523),P=r(O),L=n(521),M=r(L),D=["beforeModel","model","afterModel","contextDidChange","setup","reset","events"];t.default=function(e){var t=e.component,n=e.history,r=e.router,p=e.pathname;return function(e){function f(e,n){var a=t.willTransitionTo,s=void 0===a?Function.prototype:a;return new N.default(function(t){var a=(0,k.default)({path:(0,y.default)(n)}),i=function(){a.abortReason===A.RedirectedError?r.redirectTo(a.destination):a.abortReason&&n.abort()},o=(0,h.flow)(i,t);(0,x.default)(o,s,[a,e.params,e.query])})}(0,v.default)(e&&"object"===("undefined"==typeof e?"undefined":(0,m.default)(e)),'Route definition must be an object, not "'+("undefined"==typeof e?"undefined":(0,m.default)(e))+'".'),(0,h.tap)((0,h.intersection)(Object.keys(e),D),function(e){e.length>0&&(0,v.default)(!1,"Route definition contains one or more properties that are reserved for "+("internal use: "+JSON.stringify(e)+". Please consider renaming ")+"them as they are not permitted.")});var g=e.canEnter,_=void 0===g?Function.prototype:g,b=e.canExit,C=void 0===b?null:b,T=e.asyncPropsDidChange,S=void 0===T?Function.prototype:T,w=e.foregroundStatusDidChange,R=void 0===w?Function.prototype:w,O=e.propsDidChange,P=void 0===O?Function.prototype:O,L=e.enter,U=void 0===L?Function.prototype:L,F=e.exit,q=void 0===F?Function.prototype:F,B=o(),j=B.cloneProps,H=B.resetProps,G=B.toJSON,W=B.updateProps,V=!1,Y=!1,z=function(e,t){var n=j();W(t),V&&P.call(e,n)};return Object.assign({},e,{redirectTo:r.redirectTo,transitionTo:r.transitionTo,props:G(),model:function(e,a){var s=this,i=(0,y.default)(a),o={origin:n.location.pathname,pathname:u(i),search:l(i)},c={params:(0,M.default)(a),query:(0,E.default)(o.search),location:o},d=_.call(this,c,a);return d&&"redirect"===d.code?r.transitionTo(d.destination):(d&&(0,v.default)(!1,'Unrecognized entry status code "'+d.code+'".'),t?f(c,a).then(function(){z(s,c),V&&S.call(s)}):(z(this,c),null))},enter:function(e){var t=this;e.then(function(){V=!0,Y=d(e,p),U.call(t)})},isActive:function(){return V},isInForeground:function(){return V&&Y},exit:function(){Y=!1,V=!1,q.call(this),t&&t.willTransitionFrom&&t.willTransitionFrom(),H()},events:{error:function(e){throw e},recalculateForeground:function(e){var t=d(e,p);return t!==Y&&(Y=t,R.call(this)),!0},willTransition:function(e){if(C&&!s(e)){var t=C.call(this,(0,y.default)(e));(0,v.default)(i(t),"Return value must be a Promise."),e.abort(),t.then(function(){a(e),e.retry()})}},finalizeQueryParamChange:c(function(e,t,n){var r=this;if(n.queryParamsOnly){var a=G(),s=d(n,p),i=e,o=(0,I.default)(i),l={params:a.params,query:i,location:Object.assign({},a.location,{search:o})};n.then(function(){Y=s,z(r,l)})}})}})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){function e(e){var t=e.history,n=e.dispatch,a=void 0===n||n;l=t,o=new E.default,o.log=c?function(e){return console.debug("[EmberRouter]: "+e)}:null,o.getHandler=function(e){var t=h[e];return t||"__index__"!==e.slice(-9)?t:m.default},r(f);var s=(0,_.default)({router:o,history:l}),i=s.synchronizeHistoryWithRouter,d=s.synchronizeRouterWithHistory;o.updateURL=function(e){return i(e,"PUSH")},o.replaceURL=function(e){return i(e,"REPLACE")},u=l.listen(function(e,t){d((0,g.default)(e),t)}),a!==!1&&o.transitionTo((0,g.default)(l.location))}function t(){u&&u(),o&&(o=null),l&&(l=null)}function n(e){e.forEach(function(e){var t=s(e),n=t.name,r=t.options;h[n]=r.handler||r,f.push(e)}),o&&r(e)}function r(e){i(e)(o)}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=null,l=null,u=null,c=a.debug===!0,d=function(e){return e.then(function(){return o.trigger("recalculateForeground",e),e})},p=function(e){return e.then(function(){return{location:{pathname:l.location.pathname,search:l.location.search}}})},f=[],h={},v=function(e){return function(){return o[e].apply(o,arguments)}};return{start:e,refresh:(0,y.flow)(v("refresh"),d,p),stop:t,map:n,transitionTo:(0,y.flow)(v("transitionTo"),d,p),redirectTo:(0,y.flow)(v("replaceWith"),d,p)}}function s(e){return"string"==typeof e?{name:e,options:{}}:Array.isArray(e)?{name:e[0],options:e[1]||{}}:e&&"object"===("undefined"==typeof e?"undefined":(0,c.default)(e))&&e.name?{name:e.name,options:e.options||{}}:null}function i(e){function t(e,r){var a=r.path,s=r.name,i=n.filter(function(e){return e.options.parent===s}),o=i.filter(function(e){return e.options.default===!0}),u=(0,l.default)(o,1),c=u[0],d=void 0===c?{path:s+"/__index__"}:c,p=i.filter(function(e){return e.options.default!==!0}),f=0===i.length?void 0:function(e){e("/").to(d.path),p.forEach(function(n){t(e,{path:n.path.slice(s.length),name:n.path})})};e(a).to(s,f)}var n=e.map(s).map(function(e){return{path:e.name,options:e.options}});return function(e){(0,p.default)(!!e,"Route mapping requires router to be active!"),e.map(function(e){n.filter(function(e){return!e.options.parent}).forEach(function(n){t(e,{path:n.path,name:n.path})})})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(70),l=r(o),u=n(46),c=r(u);t.default=a;var d=n(49),p=r(d),f=n(520),m=r(f),h=n(522),g=r(h),v=n(1052),_=r(v),y=n(4),b=n(912),E=r(b);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1054),s=r(a),i=function(e){var t=e.router,n=e.history,r=[],a=[],i=function(){return r.length>0},o=function(){return a.length>0};return{synchronizeRouterWithHistory:function(e,n){if(!i()){a.push(1);var r=function(){return a.pop()};"PUSH"===n||"POP"===n?t.transitionTo(e).then(r,r):"REPLACE"===n&&t.replaceWith(e).then(r,r)}},synchronizeHistoryWithRouter:function(e,t){if(!o()){r.push(1);var a=(0,s.default)(function(){return r.pop()});a(function(){"PUSH"===t||"POP"===t?n.push(e):"REPLACE"===t&&n.replace(e)})}}}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.nameMap,n=(0,m.flow)(_,I(t));return{generatePathFromEmberRouter:function(e){(0,d.default)(e.length>0,"Ember transition must contain at least one argument!");var t=T.extractQuery(e),r=(0,o.default)(t,2),a=r[0],i=r[1],l=T.extractParams(a),u=(0,o.default)(l,2),c=u[0],p=u[1],m=T.interpolatePathname({pathname:n(c),params:p});return y({pathname:s(m),search:(0,f.default)(i)})},generatePathFromHybridLink:function(e){var t=e.to,r=e.params,a=void 0===r?[]:r,i=e.query,o=void 0===i?{}:i,l=N.interpolatePathname({pathname:n(t),params:a});return y({pathname:s(l),search:(0,f.default)(o)})},generatePathFromReactRouter:function(e){var t=e.to,r=e.params,a=void 0===r?{}:r,i=e.query,o=void 0===i?{}:i,l=S.interpolatePathname({pathname:n(t),params:a});return y({pathname:s(l),search:(0,f.default)(o)})}}}function s(e){return e&&"/__index__"===e.slice(-10)?e.slice(0,-10):e}Object.defineProperty(t,"__esModule",{value:!0}),t.createPath=t.resolvePathname=t.ReactRouterTools=t.HybridLinkTools=t.EmberRouterTools=void 0;var i=n(70),o=r(i),l=n(46),u=r(l);t.default=a;var c=n(49),d=r(c),p=n(338),f=r(p),m=n(4),h=/((?:(?:[\w_-]+\.)+))(\1)/,g=/(:[\w\-\_]+)/g,v=/\.index$/,_=function(e){return h.test(e)?e.replace(RegExp.$1,""):e},y=function(e){var t=e.pathname,n=e.search;return n?t+"?"+n:t},b=function(e){var t=e.pathname,n=e.resolve,r=0;return t.replace(g,function(e,t){var a=t.slice(1),s=n(a,r++);return void 0===s&&(0,d.default)(!1,'Unable to map dynamic fragment "'+t+'" to any parameter!'),s})},E=function(e){return v.test(e)},C=function(e){return e.slice(0,-6)},I=(0,m.curry)(function(e,t){return"/"===t[0]?t:e.hasOwnProperty(t)?e[t]:E(t)?I(e,C(t)):((0,d.default)(!1,'Unable to resolve a path for "'+t+'".'),null)}),T={extractParams:function(e){return[e[0],e.slice(1)]},extractQuery:function(e){var t=e[e.length-1];return"object"===("undefined"==typeof t?"undefined":(0,u.default)(t))&&t.hasOwnProperty("queryParams")?[e.slice(0,-1),t.queryParams||{}]:[e,{}]},interpolatePathname:function(e){var t=e.pathname,n=e.params,r=void 0===n?[]:n;return b({pathname:t,resolve:function(e,t){return r[t]}})}},N={interpolatePathname:function(e){var t=e.pathname,n=e.params,r=void 0===n?[]:n,a=r.map(function(e){return e[Object.keys(e)[0]]});return b({pathname:t,resolve:function(e,t){return a[t]}})}},S={interpolatePathname:function(e){var t=e.pathname,n=e.params,r=void 0===n?{}:n;return b({pathname:t,resolve:function(e){return r[e]}})}};t.EmberRouterTools=T,t.HybridLinkTools=N,t.ReactRouterTools=S,t.resolvePathname=I,t.createPath=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=function(e,t){var n=void 0;try{t()}catch(e){n=e}finally{if(e(),n)throw n}};t.default=(0,r.curry)(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=(0,r.curry)(function(e,t){return e.apply(null,t)}),s=function(e){return e.length},i=(0,r.curry)(function(e,t){return e(t),t}),o=function(e,t,n){return s(t)===n.length+1?a(t,n.concat(e)):i(e,a(t,n))};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e.intent&&e.intent.hasOwnProperty("url"))return e.intent.url;var t=(0,i.default)(e),n=Object.assign({},t,{queryParams:e.queryParams});return e.router.recognizer.generate(e.targetName,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(521),i=r(s);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Error("Canceled"),r=new Error("Aborted"),a=new Error("Redirected"),s=function(e){return Object.assign(e,{abort:function(){e.abortReason=r},cancel:function(){e.abortReason=n},redirect:function(t){e.abortReason=a,e.destination=t}})},i=function(e){var t=e.path;return s({path:t,abortReason:null,destination:null})};t.default=i,t.CanceledError=n,t.AbortedError=r,t.RedirectedError=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(165),o=s.default.createClass({displayName:"ReferralStore",storeOptions:{getDefaultCache:function(){return null}},getDefaultProps:function(){return{referralRouteBlacklist:[]}},initialize:function(){this.addChangeListener(function(){i.Storage.setItem("lastTransition",this.state.lastTransition)}.bind(this))},getInitialState:function(){return{lastTransition:i.Storage.getItem("lastTransition")||null}},clear:function(){i.Storage.removeItem("lastTransition")},saveLastTransition:function(e){if(!(this.props.referralRouteBlacklist.indexOf(e.targetName)>-1)){var t=Object.keys(e.params||{}).reduce(function(t,n){return t.concat(Object.keys(e.params[n]).map(function(t){return e.params[n][t]}))},[e.targetName]);if("queryParams"in e&&0!==Object.keys(e.queryParams).length){var n={queryParams:e.queryParams};t=t.concat([n])}this.setState({lastTransition:t})}},getLastTransition:function(){return this.state.lastTransition}});t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e&&new S.Map(e)||null}function s(e){return e&&e.toJS()||null}function i(e){return function(t){if(t){var n=E.default.__nonMutatingUserMerge__(s(e.state.user),t.links.user);e.setState({user:a(n),pandaPushConfig:a(t.panda_push_config)})}else e.props.onEmptyReissuingResponse()}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),l=r(o),u=n(7),c=r(u),d=n(21),p=r(d),f=n(96),m=r(f),h=n(31),g=r(h),v=n(165),_=n(1058),y=r(_),b=n(39),E=r(b),C=n(49),I=r(C),T=n(2),N=r(T),S=n(36),x=n(4),A=p.default.createClass({displayName:"SessionStore",storeOptions:{getDefaultCache:function(){return null}},propTypes:{referralRouteBlacklist:N.default.arrayOf(N.default.string),loginUrl:N.default.string.isRequired,reissueUrl:N.default.string.isRequired,logoutUrl:N.default.string.isRequired,onEmptyReissuingResponse:N.default.func},getDefaultProps:function(){return{referralRouteBlacklist:[],onEmptyReissuingResponse:function(){return window.location.reload(!0)}}},getInitialState:function(){return{referrals:(0,y.default)({referralRouteBlacklist:this.props.referralRouteBlacklist}),user:null,token:null,oauthRedirectUrl:null,pandaPushConfig:null}},initialize:function(){(0,I.default)("string"==typeof this.props.loginUrl,"@loginUrl is required"),(0,I.default)("string"==typeof this.props.reissueUrl,"@reissueUrl is required"),(0,I.default)("string"==typeof this.props.logoutUrl,"@logoutUrl is required"),this._loggingOut=!1,this._reissuingPromise=null,this._deserializeFromStorage(),this._selfSyncToStorage=this._syncToStorage.bind(this),this.addChangeListener(this._selfSyncToStorage)},clear:function(){this.state.referrals.clear(),this.removeChangeListener(this._selfSyncToStorage),
this.discardIdentity(),this._reissuingPromise=null,this._loggingOut=!1},login:function(e){var t=this,n=e.email,r=e.password,a={url:this.props.loginUrl,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({email:n,password:r,is_public:this._isUntrusted()})};return(0,c.default)(a,{yieldObject:!0}).then(function(e){var n=e.payload,r=e.jqXHR;return m.default.batch(t,function(){var e=r.getResponseHeader("X-Bridge-persisted-token"),a=n.links||{},s=a.user;return e&&s&&t.transition({token:e,user:s,oauthRedirectUrl:n.oauth&&n.oauth.redirect_uri||null,pandaPushConfig:n.panda_push_config||null}),s})})},transition:function(e){var t=e.token,n=e.user,r=e.oauthRedirectUrl,s=e.pandaPushConfig;this.setState({token:t,user:a(n),oauthRedirectUrl:r,pandaPushConfig:a(s)})},assumeIdentity:function(e){var t=e.user;(0,I.default)(t&&"object"===("undefined"==typeof t?"undefined":(0,l.default)(t)),"User must be a valid object for me to assume their identity!"),this.setState({user:a(t)})},reissue:function(){var e=this;if(this._reissuingPromise)return this._reissuingPromise;var t=function(){e._reissuingPromise=null},n=(0,c.default)({url:this.props.reissueUrl,data:{is_public:this._isUntrusted()},headers:this._isUntrusted()?{}:{Authorization:"Bearer "+this.state.token}}).then(k(i(this))).then(k(t)).catch(function(n){throw t(),e.discardIdentity(),n});return this._reissuingPromise=n,n},logout:function(){var e=this;return this._loggingOut=!0,(0,c.default)({url:this.props.logoutUrl,type:"POST",dataType:"json"}).then(function(){e._loggingOut=!1,e.discardIdentity()},function(t){throw e._loggingOut=!1,t})},markUntrusted:function(e){v.Storage.setItem("isPublic",e),this.emitChange()},saveLastTransition:function(e){this.state.referrals.saveLastTransition(e)},clearLastTransitions:function(){this.state.referrals.clear()},toJSON:function(){return{user:s(this.state.user),pandaPushConfig:s(this.state.pandaPushConfig),oauthRedirectUrl:this.state.oauthRedirectUrl,untrusted:this._isUntrusted(),authenticated:this._isAuthenticated(),lastTransition:this.state.referrals.getLastTransition()}},_isUntrusted:function(){return v.Storage.getItem("isPublic")===!0},_isAuthenticated:function(){return!(!this.state.token||this._loggingOut)},_deserializeFromStorage:function(){var e=v.Storage.getItem("token")||null,t=v.Storage.getItem("user")||null,n=g.default.get("TOKEN");if(n&&n.links)if(e&&t&&t.permissions){if(n.links.user&&t&&n.links.user.id===t.id){var r=["is_approver"];Object.assign(t,(0,x.pick)(n.links.user,r))}}else e=n.token,t=n.links.user;this.transition({token:e,user:t})},_syncToStorage:function(){this._isUntrusted()||(v.Storage.setItem("token",this.state.token),v.Storage.setItem("user",s(this.state.user)))},discardIdentity:function(){var e=this;this.state.user&&(v.Storage.clear(function(){return e.state.user.get("id")}),v.Storage.removeItem("user")),this.state.token&&v.Storage.removeItem("token"),this.setState({user:null,token:null,oauthRedirectUrl:null,pandaPushConfig:null})}}),k=function(e){return function(t){return e(t),t}};t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1059);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){"use strict";function r(e,t){return(t?t():"")+e}function a(e,t){var n=t()||"";if(!n.length)return[];var r=e===u?Object.keys(u):i._getDefinedKeys();return r.filter(function(e){return e.substr(0,n.length)===n})}var s=n(1062),i=n(525),o=s(),l=o?window:{localStorage:{}},u=l.localStorage,c={adapters:{cookieStorage:i,localStorage:u},setItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=c.getAdapter();a.setItem(r(e,n),JSON.stringify(t))},getItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c.getAdapter(),a=n.getItem(r(e,t));if(void 0!==a){if(n===u&&null===a)return;try{return JSON.parse(a)}catch(e){if("SyntaxError"===e.name)return a;throw e}}},removeItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c.getAdapter();n.removeItem(r(e,t))},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=c.getAdapter();e?a(t,e).forEach(function(e){c.removeItem(e)}):t.clear()},getAdapter:function(){return o?u:i}};e.exports=c},function(e,t){"use strict";e.exports=function(){try{localStorage.setItem("test","test");var e=localStorage.getItem("test");return localStorage.removeItem("test"),"test"===e}catch(e){return!1}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(28),u=r(l),c=n(5),d=o.default.createClass({displayName:"Toast",propTypes:{onClose:s.default.func,onButtonClick:s.default.func,text:s.default.string,subText:s.default.string,buttonText:s.default.string,type:s.default.oneOf(["butter","error","notice","presence"])},getDefaultProps:function(){return{"aria-hidden":!0}},buttonClickAndClose:function(){this.props.onClose(),this.props.onButtonClick()},renderButton:function(){return o.default.createElement("button",{type:"button",className:"btn secondary dark right",children:this.props.buttonText,onClick:this.buttonClickAndClose})},renderCloseIcon:function(){return o.default.createElement("button",{type:"button",className:"btn--reset toaster__close-btn right",onClick:this.props.onClose},o.default.createElement(c.Icon,{className:"gs-x gs-1x"}),o.default.createElement("span",{className:"screenreader-only"},I18n.t("Close")))},renderText:function(){return o.default.createElement("p",{className:"toast-text left"},this.props.text)},renderTextAndSubText:function(){return o.default.createElement("div",{className:"toast-text left"},o.default.createElement("p",{className:"title"},this.props.text),o.default.createElement("p",{className:"subtitle"},this.props.subText))},render:function(){var e=!!this.props.buttonText,t=!!this.props.subText;return o.default.createElement("div",{className:(0,u.default)("toaster toaster--"+(this.props.type||"notice"),{hidden:!this.props.text}),"aria-hidden":!0},o.default.createElement("div",{className:(0,u.default)({toaster__toast:!0,"toaster__toast--large":!0,"large-content-area--presence":!0,centered:!0,clearfix:!0})},t?this.renderTextAndSubText():this.renderText(),e?this.renderButton():this.renderCloseIcon()))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new l.default,n=e.displayDuration||i.default.duration(2,"seconds"),r={updatedAt:null,text:null,type:null,buttonText:null,dontDismiss:!1,closeText:null,icon:null},a=function(e,t){return a.toast(e,t)};return a.addChangeListener=function(e){t.addChangeListener(e)},a.removeChangeListener=function(e){t.removeChangeListener(e)},a.getToast=function(){return{text:r.text,subText:r.subText,type:r.type,buttonText:r.buttonText,onButtonClick:r.onButtonClick,onCloseButtonClick:r.onCloseButtonClick,dontDismiss:r.dontDismiss,closeText:r.closeText,icon:r.icon,className:r.className}},a.actionRequired=function(){return!!r.dontDismiss},a.clearAfterDelay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.default)();if(!r.dontDismiss){var t=(0,i.default)(r.updatedAt),s=t.add(n);s.isBefore(e)&&a.clear()}},a.clear=function(){a.toast(null,{type:null})},a.toast=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(r,{text:e,subText:n.subText,className:n.className||void 0,type:n.type||"notice",buttonText:n.buttonText,updatedAt:(0,i.default)(),onButtonClick:n.onButtonClick||function(){},onCloseButtonClick:n.onCloseButtonClick||function(){},dontDismiss:n.dontDismiss||!1,closeText:n.closeText||I18n.t("Close"),icon:n.icon}),(0,u.ariaAlert)(e),t.emitChange()},a.toastOfError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.toast(e,Object.assign({},t,{type:"error"}))},a.responseError=function(e,t){t||(t=I18n.t("Request failed."));var n=e&&e.responseJSON&&e.responseJSON.errors,r=n?n[0].title:t;a.toast(r,{type:"error"})},a}Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),i=r(s),o=n(96),l=r(o),u=n(86);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){switch(e.type){case"butter":return g.InfoToast;case"error":case"presence":return g.WarningToast;case"notice":return g.SuccessToast;default:return g.Toast}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),i=r(s),o=n(2),l=r(o),u=n(1),c=r(u),d=n(4),p=n(1063),f=r(p),m=n(6),h=r(m),g=n(43),v=n(20),_=r(v),y=function(e){return c.default.createClass({displayName:"Toasts",propTypes:{scope:l.default.any},componentDidMount:function(){this.isMounted=function(){return!0},e.addChangeListener(this.reload)},componentDidUpdate:function(t){t.scope&&this.props.scope&&t.scope!==this.props.scope&&e.clearAfterDelay()},componentWillUnmount:function(){e.removeChangeListener(this.reload),e.clear(),this.isMounted=function(){return!1}},render:function(){var t=e.getToast();if(!t.text)return null;if((0,_.default)("global_nav")){var n=a(t);return c.default.createElement("div",{className:(0,h.default)("toaster",t.className),"data-capybara":"toaster__toast"},c.default.createElement(n,{onClose:(0,d.flowRight)(this.dismiss,t.onCloseButtonClick),onAction:(0,d.flowRight)(this.dismiss,t.onButtonClick),actionText:t.buttonText,closeText:t.closeText,actionRequired:e.actionRequired(),icon:t.icon},c.default.createElement("div",{className:"toast-text left"},c.default.createElement("p",{className:"title"},t.text),c.default.createElement("p",{className:"subtitle"},t.subText))))}return c.default.createElement(f.default,(0,i.default)({},t,{onClose:this.dismiss}))},dismiss:function(){this.isMounted()&&e.clear()},reload:function(){this.forceUpdate()}})};t.default=y,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,r=void 0,a={setCurrentToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.text=e,a.type=t.type||"notice",a.subText=t.subText,a.buttonText=t.buttonText,n=t.onButtonClick,r=t.onCloseButtonClick},clearCurrentToast:function(){a.text=null,a.type=null,a.subText=null,a.buttonText=null,n=null,r=null},clickX:function(){if(!a.isVisible())throw new Error("Attempted to click X on a toast when no toast existed.");r&&r(),a.clearCurrentToast()},clickButton:function(){if(!a.isVisible()||!a.buttonText)throw a.isVisible()?new Error("Attempted to click a custom button on a toast when no custom button existed. Maybe you meant to use `FakeToast.clickX()` instead?"):new Error("Attempted to click a custom button on a toast when no toast existed.");n&&n(),a.clearCurrentToast()},isVisible:function(){return!!a.text},isGenericMessage:function(){return a.isVisible()&&"notice"===a.type},isErrorMessage:function(){return a.isVisible()&&"error"===a.type}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(528),g=r(h),v=n(526),_=r(v),y=n(1068),b=r(y),E=n(28),C=r(E),I=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mimeType,n=e.fileName,r=e.sizeClass,a=e.className,s=t?(0,b.default)(t):(0,_.default)(n);return f.default.createElement(g.default,{className:(0,C.default)(s,r,a)})}}]),t}(f.default.Component);I.propTypes={mimeType:m.string,fileName:m.string,className:m.string,sizeClass:m.string},I.defaultProps={sizeClass:"gs-1-75x"},t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,s.findKey)(i.S3_ACCEPTED_MIME_TYPES,function(t){return t===e});return t?(0,l.default)(t):""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(4),i=n(207),o=n(526),l=r(o);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(2),v=n(4),_=function(e){function t(e){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement("button",(0,s.default)({ref:"btn","data-capybara":"generic-button",type:"button",children:this.props.children},(0,v.omit)(this.props,["params"])))}},{key:"componentDidUpdate",value:function(){this.refs.btn.setAttribute("label",this.props.label)}},{key:"focus",value:function(){this.refs.btn.focus()}}]),t}(h.default.Component);_.propTypes={children:g.any,label:g.string},t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(2),v=n(4),_=n(527),y=r(_),b=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"handleKeyDown",value:function(e){var t=this.props.useArrowKeys;y.default.handleKeyDown(e,{useArrowKeys:t,container:this.refs.constrained})}},{key:"componentDidMount",value:function(){if(document.activeElement){var e=y.default.findTabbable(this.refs.constrained);0!==e.length&&e[0].focus()}}},{key:"render",value:function(){return h.default.createElement("div",(0,s.default)({ref:"constrained",className:this.props.className,onKeyDown:this.handleKeyDown.bind(this)},(0,v.omit)(this.props,["useArrowKeys","ref","onKeyDown","onUnmount"])))}},{key:"componentWillUnmount",value:function(){(0,v.attempt)(this.props.onUnmount)}}]),t}(m.Component);b.propTypes={useArrowKeys:g.bool,children:g.any,onUnmount:g.func,className:g.string},b.defaultProps={useArrowKeys:!1},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(17),o=r(i),l=n(15),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(23),g=r(h),v=n(5),_=n(179),y=r(_),b=n(4),E=n(86),C=n(28),I=r(C),T=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focused:!1,wantsToRemove:!1},n.setDeleteButtonRef=n.setDeleteButtonRef.bind(n),n.wantsToRemove=n.wantsToRemove.bind(n),n.cancelRemove=n.cancelRemove.bind(n),n.updateFocused=n.updateFocused.bind(n),n}return(0,d.default)(t,e),(0,u.default)(t,null,[{key:"defaultProps",get:function(){return{isSelected:!1,canDelete:!1,onDelete:Function.prototype,label:I18n.t("Attachment")}}}]),(0,u.default)(t,[{key:"render",value:function(){var e=(0,I.default)("file-card",{"file-card--focused":this.state.focused,"file-card--selected":this.props.isSelected,"file-card--wants-to-remove":this.state.wantsToRemove});return f.default.createElement("div",{className:e,onFocus:this.updateFocused,onBlur:this.updateFocused,"data-capybara":"attachment_item"},this.isPending()?this.renderPending():this.renderCompleted())}},{key:"renderCompleted",value:function(){return[this.renderFiletypeIcon(),this.renderLink(),this.renderActions()]}},{key:"renderPending",value:function(){var e=this.props.attachment;return f.default.createElement(v.ProgressBar,{type:"bar",intervals:1,current:e.progress||0,progress:e.progress||0})}},{key:"renderFiletypeIcon",value:function(){return f.default.createElement(v.AttachmentIcon,{key:"filetype_icon",className:"tray-layout__icon",fileName:this.props.attachment.name||""})}},{key:"renderLink",value:function(){var e=this.props.attachment;return(0,E.isValidURL)(e.downloadUrl)?f.default.createElement("a",{key:"link",className:"file-card__hyperlink",target:"_blank",href:e.downloadUrl,"data-capybara":"attachment_download_icon"},f.default.createElement("div",{className:"file-card__attachment-text truncated","data-capybara":"attachment_item_name"},this.getFilename()),f.default.createElement("div",{className:"file-card__attachment-text file-card__attachment-extension","data-capybara":"attachment_item_extension"},this.getExtension())):null}},{key:"renderActions",value:function(){var e=this.props,t=e.canDelete,n=e.attachment,r=this.state.wantsToRemove;return r?this.renderRemovalDialog():f.default.createElement("div",{key:"actions",className:"file-card__actions"},(0,E.isValidURL)(n.downloadUrl)&&f.default.createElement("a",{className:"file-card__action file-card__action--download",target:"_blank",href:n.downloadUrl},f.default.createElement(v.Icon,{className:"gs gs-download"}),f.default.createElement(v.ScreenReaderContent,null,I18n.t("Download"))),t&&this.renderDeleteAction())}},{key:"renderDeleteAction",value:function(){return f.default.createElement(v.Button,{className:"file-card__action file-card__action--delete",onClick:this.wantsToRemove,ref:this.setDeleteButtonRef},f.default.createElement(v.Icon,{className:"gs gs-x"}),f.default.createElement(v.ScreenReaderContent,null,I18n.t("Delete")))}},{key:"renderRemovalDialog",value:function(){var e=this.props,t=e.onDelete,n=e.label;return f.default.createElement(v.ConstrainFocus,{key:"removal-dialog",useArrowKeys:!0,className:"file-card__removal-dialog"},f.default.createElement(v.KeyMapper,{onKCEscape:this.cancelRemove},f.default.createElement("div",null,f.default.createElement("span",{className:"file-card__removal-dialog-description"},I18n.t("Delete %{item}?",{item:n})),f.default.createElement("div",{className:"file-card__removal-dialog-actions"},f.default.createElement("button",{ref:y.default,type:"button",onClick:this.cancelRemove,className:"file-card__removal-dialog-action--cancel"},f.default.createElement(v.Text,null,I18n.t("Cancel"))),f.default.createElement("button",{type:"button",onClick:t,className:"file-card__removal-dialog-action--remove"},f.default.createElement(v.Text,null,I18n.t("Remove")))))))}},{key:"getFilename",value:function(){var e=this.props.attachment.name;return e?e.split(".").slice(0,-1).join("."):""}},{key:"getExtension",value:function(){var e=this.props.attachment.name;return e?"."+e.split(".").slice(-1)[0]:""}},{key:"updateFocused",value:function(){var e=g.default.findDOMNode(this).contains(document.activeElement);this.setState({focused:e})}},{key:"isPending",value:function(){var e=this.props.attachment;return!e.completed&&!(0,b.isNil)(e.progress)}},{key:"wantsToRemove",value:function(){this.setState({wantsToRemove:!0})}},{key:"cancelRemove",value:function(){var e=this;this.setState({wantsToRemove:!1},function(){e.deleteButton.focus()})}},{key:"setDeleteButtonRef",value:function(e){this.deleteButton=e}}]),t}(f.default.Component);T.propTypes={attachment:(0,m.shape)({id:m.string.isRequired,name:m.string,progress:m.number,downloadUrl:m.string,completed:m.bool}).isRequired,isSelected:m.bool,canDelete:m.bool,onDelete:m.func,label:m.string},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(381),u=r(l),c=o.default.createClass({displayName:"FixedMediaState",propTypes:{device:u.default,children:s.default.node.isRequired},childContextTypes:{mediaDeviceOverrides:u.default},getChildContext:function(){return{mediaDeviceOverrides:this.props.device}},render:function(){return o.default.Children.only(this.props.children)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=n(1),l=n(23),u=n(892),c=u.getNext,d=u.getPrevious,p=n(889),f=n(47);t.default=o.createClass({displayName:"FocusDisabler",propTypes:{children:i.node.isRequired},componentDidMount:function(){var e=l.findDOMNode(this);f(e).on("focusin",function(t){t.stopImmediatePropagation(),t.relatedTarget?e.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_PRECEDING?c(e,p,!1).focus():d(e,p).focus():e.blur()})},componentWillUnmount:function(){f(l.findDOMNode(this)).off("focusin")},render:function(){return o.createElement("div",(0,s.default)({tabIndex:"0"},this.props),o.Children.only(this.props.children))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(2),u=r(l);t.default=o.default.createClass({displayName:"IESafeIframe",propTypes:{allow:u.default.string},componentDidMount:function(){var e=this.props.allow;e&&this.refs.iframe.setAttribute("allow",e)},render:function(){var e=this,t=Object.keys(this.props).reduce(function(t,n){return"allow"!==n&&(t[n]=e.props[n]),t},{});return o.default.createElement("iframe",(0,s.default)({ref:"iframe",onFocus:c,onBlur:c},t))}});var c=function(e){e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation()};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(2),l=o.string,u=o.bool,c=o.node,d=n(28),p=n(4),f=p.omit,m=i.createClass({displayName:"Item",propTypes:{active:u,selected:u,className:l,children:c},getDefaultProps:function(){return{className:""}},render:function(){var e=d(this.props.className,{"bridge-ui-list__item":!0,"bridge-ui-list__item--active":this.props.active,"bridge-ui-list__item--selected":this.props.selected}),t=f(this.props,["active"]);return i.createElement("div",(0,s.default)({},t,{role:"option",tabIndex:"-1",className:e}))}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i);e.exports=o.default.createClass({displayName:"Loader",propTypes:{className:s.default.string,loaderNumber:s.default.number,loaderSize:s.default.string,children:s.default.node},getDefaultProps:function(){return{className:"",loaderNumber:7,loaderSize:"large",children:null}},render:function(){var e=this.props,t=e.className,n=e.loaderNumber,r=e.loaderSize;return o.default.createElement("div",{className:"loader-container "+t},o.default.createElement("div",{className:"loader-"+r+" loader-"+n+" margin-b-xl"}),this.props.children)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(5),u=n(304),c=r(u),d=n(6),p=r(d);t.default=o.default.createClass({displayName:"NotFound",propTypes:{iconText:s.default.string,contentTitle:s.default.string,contentMessage:s.default.string,contentClass:s.default.string,children:s.default.any},render:function(){var e=this.props,t=e.iconText,n=e.contentTitle,r=e.contentMessage,a=e.children;return c.default.remove(),o.default.createElement("div",{className:"not-found full-height relative"},o.default.createElement("div",{className:(0,p.default)("error__content",this.props.contentClass)},o.default.createElement("div",{className:"error__content__caution"},o.default.createElement(l.Icon,{className:"gs-caution"}),o.default.createElement("span",null," ",t||I18n.t("404 ERROR"))),o.default.createElement("div",{className:"error__content__message"},o.default.createElement("h2",null,n||I18n.t("Sorry, there's nothing here")),o.default.createElement("p",null,r||I18n.t("The requested file or page was not found. Please use the navigation to find a page that exists."))),a))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ARC_TYPE_PROGRESS=t.ARC_TYPE_RANGE=t.SEGMENT_PROGRESS_SHAPE=void 0;var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(5),g=n(56),v=n(71),_=n(89),y=n(323),b=r(y),E=n(28),C=r(E),I=t.SEGMENT_PROGRESS_SHAPE=(0,m.shape)({segment:m.number.isRequired,progress:m.number.isRequired,failed:m.bool}),T=t.ARC_TYPE_RANGE="range",N=t.ARC_TYPE_PROGRESS="progress",S=function(e){return e*Math.PI/180},x=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"segmentAngles",value:function(e,t){var n=this,r=this.props.segments?360/this.props.segments:0,a=(0,v.range)(e||this.props.segments).map(function(e){return n.mapSegment(r,e,t)});if(e&&!this._hasPerSegmentProgress()){var s=this.props.progress*r,i=a.pop();i.stopAngle=i.startAngle+s,this.props.progress>0&&a.push(i)}return this.props.segments>1?a.map(this.addGaps,this):a}},{key:"addGaps",value:function(e){var t=this.props.strokeWidthCurrent;return e.startAngle+=t,e.stopAngle=Math.max(e.stopAngle-t,e.startAngle),e}},{key:"mapSegment",value:function(e,t,n){var r=this.props.progress,a=e*(t+1);if(n===N&&this._hasPerSegmentProgress()){var s=r.find(function(e){return e.segment===t})||{progress:1};a=(t+s.progress)*e}return{startAngle:e*t,stopAngle:a}}},{key:"arcFunc",value:function(e){var t=this.props,n=t.strokeWidth,r=t.strokeWidthCurrent,a=(e===N?r:n)/2;return(0,_.arc)().innerRadius(this.props.r-a).outerRadius(this.props.r+a).cornerRadius(n).startAngle(function(e){return S(e.startAngle)}).endAngle(function(e){return S(e.stopAngle)})}},{key:"draw",value:function(){var e=this.segmentAngles(null,T),t=this.segmentAngles(this.props.currentSegment,N),n=(0,g.select)(this.refs.progressArc).html(""),r=(0,C.default)("segment--progress",{"brand-fill":"white"!==this.props.modifier});this._drawArcs(n,e,"segment--range",T),this._drawArcs(n,t,r,N)}},{key:"_drawArcs",value:function(e,t,n,r){var a=this.props,s=a.cx,i=a.cy,o=a.progress,l=n;r===N&&this._hasPerSegmentProgress()&&(l=function(e,t){var r=o.find(function(e){return e.segment===t})||{};return(0,C.default)(n,{"segment--failed":r.failed})}),e.selectAll("path."+n).data(t).enter().append("path").attr("class",l).attr("d",this.arcFunc(r)).attr("transform","translate("+s+","+i+")")}},{key:"_hasPerSegmentProgress",value:function(){var e=this.props.progress;return e&&"number"!=typeof e}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.iconClasses,a=2*t,s=2*n;return f.default.createElement("div",{className:"progress-circle"},f.default.createElement("svg",{ref:"progressArc",className:"progress-arc",style:{width:(0,b.default)(a),height:(0,b.default)(s+2)},viewBox:"0 0 "+a+" "+s,preserveAspectRatio:"xMidYMid meet"}),r&&f.default.createElement(h.Icon,{className:r}))}}]),t}(f.default.Component);x.propTypes={currentSegment:m.number.isRequired,cx:m.number,cy:m.number,r:m.number,progress:(0,m.oneOfType)([m.number,(0,m.arrayOf)(I)]).isRequired,segments:m.number.isRequired,strokeWidth:m.number,strokeWidthCurrent:m.number,modifier:(0,m.oneOf)(["","white"]),iconClasses:m.string},x.defaultProps={cx:32,cy:30,r:28,segments:1,strokeWidth:4,strokeWidthCurrent:4,modifier:""},t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(23),h=r(m),g=n(2),v=n(547),_=r(v),y=n(28),b=r(y),E=n(4),C=function(e){return!isNaN(e)&&isFinite(e)?99*e+1:0},I=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"dotIndicators",value:function(){return this.intervalDots()}},{key:"displayIntervalDots",value:function(){return this.props.intervals>1&&this.props.intervals<25}},{key:"intervalDots",value:function(){if(!this.displayIntervalDots())return[];var e=(0,E.range)(1,this.props.intervals+1);return this.positionsToDots(e)}},{key:"positionsToDots",value:function(e){var t=this,n=1/this.props.intervals;return e.map(function(e){var r=Math.round(n*e*1e6)/1e6;return{left:99*r+"%",isCompleted:r<t.props.current+.01,isHighlight:t.props.highlights.indexOf(e)>=0}})}},{key:"handleKeyPress",value:function(e){"Enter"!==e.key&&" "!==e.key||(0,E.attempt)(this.props.onSelectInterval,parseInt(e.target.attributes.getNamedItem("name").value,10))}},{key:"handleClick",value:function(e){var t=h.default.findDOMNode(this),n=e.pageX-t.offsetLeft,r=n/parseInt(getComputedStyle(t).getPropertyValue("width"),10),a=Math.round(r*this.props.intervals);(0,E.attempt)(this.props.onSelectInterval,a>0?a:0)}},{key:"getWidth",value:function(e){return C(Math.min(e,1))}},{key:"getCurrentWidth",value:function(){return this.props.isFailed?this.getFurthestWidth():this.getWidth(this.props.current)}},{key:"getFurthestWidth",value:function(){return this.getWidth(this.props.furthest)}},{key:"render",value:function(){return f.default.createElement("div",{className:"progress-bar",onClick:this.handleClick,onKeyPress:this.handleKeyPress},f.default.createElement(_.default,{component:"div",transitionName:"progress",transitionEnter:!1,transitionLeave:!1},f.default.createElement("div",{key:"furthest",className:"progress progress--furthest brand-border",style:{width:this.getFurthestWidth()+"%"}}),f.default.createElement("div",{key:"current","data-capybara":"progress_current",className:"progress progress--current brand-bg brand-border",style:{width:this.getCurrentWidth()+"%"}})),this.renderDotIndicators())}},{key:"renderDotIndicators",value:function(){return this.dotIndicators().map(function(e,t){var n="progress-indicators__circle"+(e.isCompleted?"--completed":"")+(e.isHighlight?"--highlight":""),r=6,a=(0,b.default)({"progress-indicators__wrapper":!0,"progress-indicators__wrapper--completed":e.isCompleted&&!e.isHighlight,"progress-indicators__wrapper--highlight":e.isHighlight&&!e.isCompleted,"progress-indicators__wrapper--completed--highlight":e.isCompleted&&e.isHighlight});return f.default.createElement("div",{className:a,tabIndex:0,style:{left:e.left},key:"indicator-"+t,name:t+1},f.default.createElement("svg",{className:"progress-indicators",viewBox:"0 0 "+2*r+" "+2*r,preserveAspectRatio:"xMidYMid meet","aria-labelledby":"title desc"},f.default.createElement("title",null,"Slide ",t+1," Content"),f.default.createElement("desc",null,"Slide ",t+1," Content"),f.default.createElement("circle",{cx:r,cy:r,r:"2",className:n,"data-capybara":"indicator-"+(t+1)})))})}}]),t}(f.default.Component);I.propTypes={current:g.number.isRequired,furthest:g.number.isRequired,onSelectInterval:g.func,intervals:g.number,highlights:(0,g.arrayOf)(g.number),isFailed:g.bool},I.defaultProps={highlights:[]},t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(323),g=r(h),v=n(28),_=r(v),y=function(e,t,n,r){var a=e*(Math.PI/180),s=parseInt(t+r*Math.cos(a),10),i=parseInt(n+r*Math.sin(a),10);return{x:s,y:i}},b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"pathClassName",value:function(){var e={progress:!0,"brand-stroke":"white"!==this.props.modifier};return this.props.modifier&&(e["progress--"+this.props.modifier]=!0),(0,_.default)(e)}},{key:"circleClassName",value:function(){var e={range:!0};return this.props.modifier&&(e["range--"+this.props.modifier]=!0),(0,_.default)(e);
}},{key:"renderIcon",value:function(){var e=this.props,t=e.iconClasses,n=e.iconUrl;if(n){var r={backgroundImage:"url("+n+")"};return f.default.createElement("div",{className:t,style:r})}return f.default.createElement("i",{className:t})}},{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.r,a=this.props.progress>.5?1:0,s=360*this.props.progress+(this.props.progress>.25?270:-90),i=y(s,t,n,r),o=i.x,l=i.y,u=this.props.progress?"M "+t+" 2 A "+r+" "+r+" 0 "+a+" 1 "+o+" "+l:null,c=2*t,d=2*n;return f.default.createElement("div",{className:"progress-circle","data-capybara":"progress_circle"},f.default.createElement("svg",{className:"progress-arc",style:{width:(0,g.default)(c),height:(0,g.default)(d+2)},viewBox:"0 0 "+c+" "+d,preserveAspectRatio:"xMidYMid meet"},f.default.createElement("circle",{className:this.circleClassName(),cx:t,cy:n,r:r}),f.default.createElement("path",{className:this.pathClassName(),d:u})),this.props.renderIcon&&this.renderIcon())}}]),t}(f.default.Component);b.propTypes={cx:m.number,cy:m.number,progress:m.number.isRequired,r:m.number,modifier:(0,m.oneOf)(["","white"]),renderIcon:m.bool,iconClasses:m.string,iconUrl:m.string},b.defaultProps={cx:32,cy:30,r:28,modifier:""},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(2),v=n(1079),_=r(v),y=n(1080),b=r(y),E=n(1078),C=r(E),I=n(39),T=r(I),N=n(207),S=n(28),x=r(S),A=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"handleIntervalSelect",value:function(e){this.onSelectInterval&&this.onSelectInterval(e)}},{key:"render",value:function(){var e=this.props.type;if(!e)return null;var t=(0,x.default)(this.props.className,{"progress-bar-wrapper":"bar"===e,"progress-bar--overdue":this.props.isOverdue,"progress-bar--optional":this.props.isOptional,"progress-bar--failed":this.props.isFailed});return h.default.createElement("div",{id:this.props.id,className:t},"bar"===e&&this.renderBar(),"circle"===e&&this.renderCircle(),("arcs"===e||this.props.segments)&&this.renderArcs())}},{key:"renderBar",value:function(){return h.default.createElement(_.default,(0,s.default)({},this.props,{current:this.props.current,furthest:this.props.progress}))}},{key:"renderArcs",value:function(){var e=T.default.getTheme()===N.THEME_HIGH_CONTRAST;return h.default.createElement(C.default,(0,s.default)({strokeWidth:e?2:4,strokeWidthCurrent:e?6:4},this.props))}},{key:"renderCircle",value:function(){return h.default.createElement(b.default,this.props)}}]),t}(h.default.Component);A.propTypes={className:g.string,id:g.string,cx:g.number,cy:g.number,isFailed:g.bool,isOptional:g.bool,isOverdue:g.bool,progress:(0,g.oneOfType)([g.number,(0,g.arrayOf)(E.SEGMENT_PROGRESS_SHAPE)]).isRequired,r:g.number,type:(0,g.oneOf)(["bar","circle","arcs"]),current:g.number,intervals:g.number,highlights:(0,g.arrayOf)(g.number),onSelectInterval:g.func,renderIcon:g.bool,iconClasses:g.string,iconUrl:g.string,currentSegment:g.number,segments:g.number,modifier:(0,g.oneOf)(["","white"])},A.defaultProps={isFailed:!1,isOptional:!1,isOverdue:!1,type:"bar",modifier:"",highlights:[]},t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(2),v=n(4),_=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.tagName,t=this.props,n=t.forceSentenceDelimiter,r=t.children,a=this.props.dangerouslySetInnerHTML,i={className:"screenreader-only"},o=(0,v.omit)(this.props,["forceSentenceDelimiter","dangerouslySetInnerHTML","children","tagName"]),l=[];return n&&l.push(this.generateSentenceDelimiter()),l.length?a?console.error("You are attempting to set the dangerouslySetInnerHTML prop","on a ScreenReaderContent component, which prevents it from enabling","further accessibility enhancements.","Try setting that property on a passed child instead."):i.children=[r,l]:i.children=r,h.default.createElement(e,(0,s.default)({children:i.children},i,o))}},{key:"generateSentenceDelimiter",value:function(){return h.default.createElement("em",{role:"presentation","aria-roledescription":"presentation","aria-hidden":!0,children:". "})}}]),t}(h.default.Component);_.propTypes={forceSentenceDelimiter:g.bool,children:g.any,tagName:g.string},_.defaultProps={tagName:"span",forceSentenceDelimiter:!1},t.default=_,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(530),s=n(529),i=n(4),o=i.flowRight,l=i.partial,u=n(2),c=u.node,d=u.func,p=r.createClass({displayName:"SelectableList",propTypes:{children:c,onSelect:d.isRequired,onBlur:d},getInitialState:function(){return{cursor:-1}},getDefaultProps:function(){return{onBlur:Function.prototype}},componentWillUpdate:function(e){e.children!==this.props.children&&this.setState({cursor:-1})},render:function(){return r.createElement(a,{ref:"list",onCursorChange:this.setCursor,cursor:this.state.cursor},r.Children.map(this.props.children,this.renderElement))},renderElement:function(e,t){var n=this.props,a=n.onSelect,i=n.onBlur,u=this.state.cursor,c=l(a,e.key);return r.createElement(s,{key:e.key,onKCUp:o(this.focusPrev,s.consumeEvent),onKCDown:o(this.focusNext,s.consumeEvent),onKCReturn:c,onKCEscape:i,onKCTab:o(i,s.consumeEvent),onKCBackspace:o(i,s.consumeEvent),consumeTheRest:!0},r.cloneElement(e,{active:t===u,onClick:c}))},focusFirst:function(){this.setCursor(0)},focusNext:function(){this.refs.list.focusNext()},focusPrev:function(){this.refs.list.focusPrevious()},focusLast:function(){this.setCursor(r.Children.count(this.props.children)-1)},resetCursor:function(){this.setCursor(-1)},setCursor:function(e){this.state.cursor!==e&&this.setState({cursor:e})}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=function(e){function t(e){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("span",this.props)}}]),t}(f.default.Component);h.propTypes={children:m.any},t.default=h,e.exports=t.default},function(e,t){"use strict";function n(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,a=n.defaultView;return{top:t.top+a.pageYOffset-r.clientTop,left:t.left+a.pageXOffset-r.clientLeft}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return!!window.navigator.userAgent.match(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=t.REGEXP_MOBILE=/Android|iPhone|iPad|iPod/i,a=t.REGEXP_ANDROID=/Android/i,s=t.REGEXP_IOS=/iPhone|iPad|iPod/i,i=t.REGEXP_FIREFOX=/Firefox/i,o=t.REGEXP_IE=/MSIE|Trident/i,l=t.REGEXP_CHROMEBOOK=/\bCrOS\b/;t.isMobile=n.bind(null,r),t.isAndroid=n.bind(null,a),t.isIos=n.bind(null,s),t.isFirefox=n.bind(null,i),t.isIE=n.bind(null,o),t.isChromeBook=n.bind(null,l)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={getCorrectFeedbackDefaultText:function(){return I18n.t("Way to go! You got it right.")},getIncorrectFeedbackDefaultText:function(){return I18n.t("Oh Snap, better luck next time.")},getCombinedFeedbackDefaultText:function(){return I18n.t("Thank you for your response!")},getCsvImportErrorMessage:function(){return I18n.t("Oh Snap! Something broke and we werent able to import your CSV.")},getInsufficientPermissionsErrorMessage:function(){return I18n.t("Sorry! It looks like you don't have permission to perform this action.")}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1087);Object.defineProperty(t,"I18nStringConstants",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;o(),setTimeout(function(){s(e,t)},0)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=document.createElement("div");n.setAttribute("class",c+" screenreader-only"),n.setAttribute("role","alert"),n.setAttribute("aria-live",t||d),i(n,e),document.body.appendChild(n),setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},1e4)}function i(e,t){if(e.textContent)e.textContent=t;else if(e.innerText)e.innerText=t;else{var n=document.createTextNode(t);e.appendChild(n)}}function o(){for(var e=document.getElementsByClassName(c);e.length>0;){var t=e[0];t.parentNode.removeChild(t)}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(531),u=r(l),c="bridge-aria-alert",d="polite";t.default=(0,u.default)(a),e.exports=t.default},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(0===e.indexOf("/"))return!0;try{var t=new window.URL(e);return r.indexOf(t.protocol)>-1}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=t.ALLOWED_URL_SCHEMES=Object.freeze(["ftp:","ftps:","http:","https:","mailto:"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t,n){return!e||(s(e["*"],t)||s(e[n],t))}}function s(e,t){return e&&e.indexOf(t)>-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=r(i),l=n(15),u=r(l),c=n(1098),d=r(c),p=n(1103),f=r(p),m=n(1105),h=r(m),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{validStyles:null};(0,o.default)(this,e);var n=t.validStyles||null;this.boundIsAllowed=a(n),this.boundRewriteStyleMap=f.default.bind(null,this.boundIsAllowed)}return(0,u.default)(e,[{key:"process",value:function(e){return(0,d.default)(e).reduce(this.boundRewriteStyleMap,{styleMap:{},meta:{isBold:!1,isComment:!1,isItalic:!1,isListItem:!1,listItemDepth:null}})}},{key:"serialize",value:function(e,t){var n=t.elementName;return(0,h.default)(this.boundIsAllowed,e,n)}}]),e}();t.default=g,e.exports=t.default},function(e,t){"use strict";function n(e){var t={},n=e.replace(/^([A-Za-z]+:\S+\s+)+/,function(e){return e.split("\n").forEach(function(e){if(e.trim().length>0){var n=e.split(":");t[n[0]]=n.slice(1).join(":")}}),""});return[t,n]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!(0,f.default)(e))return null;var n=(0,d.default)(e),r=(0,o.default)(n,2),a=r[0],i=r[1],l={styleProcessor:t.styleProcessor||new u.default,parseHTML:t.parseHTMLFn||h.default,serialize:t.serializeFn||N.default},c=s(l,(0,I.default)(i));return{meta:a,ast:c}}function s(e,t){var n=e.parseHTML(t),r=(0,x.default)(n,function(t){return(0,v.default)(e,t).concat((0,y.default)(e,t)).concat((0,E.default)(e,t))});return e.serialize(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.StyleProcessor=void 0;var i=n(70),o=r(i);t.default=a;var l=n(1091),u=r(l),c=n(1092),d=r(c),p=n(1096),f=r(p),m=n(1097),h=r(m),g=n(1099),v=r(g),_=n(1101),y=r(_),b=n(1100),E=r(b),C=n(1102),I=r(C),T=n(1106),N=r(T),S=n(1107),x=r(S);t.StyleProcessor=u.default},function(e,t){"use strict";function n(e){return r.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF\u00D8\u00A8\o\u0076\u002D]\s*$/;e.exports=t.default},function(e,t){"use strict";function n(e){var t=e.replace(/^[\u00a0 ]+/,"");return r.some(function(e){return e.test(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=[/^[IVXLMCD]{1,2}\.[ \u00a0]?$/,/^[ivxlmcd]{1,2}\.[ \u00a0]?$/,/^[a-z]{1,2}[\.\)][ \u00a0]?$/,/^[A-Z]{1,2}[\.\)][ \u00a0]?$/,/^[0-9]+\.[ \u00a0]?$/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]?$/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]?$/];e.exports=t.default},function(e,t){"use strict";function n(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){var t=window.document.implementation.createHTMLDocument();return t.documentElement.innerHTML=e,t.getElementsByTagName("body")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){var t=[];return e.replace(r,function(e,n,r){return t.push({name:n,value:r}),""}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=/([\w-]+)\s*:\s*([^;]+)/g;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=[];if("#text"!==t.nodeName&&t.hasAttribute("class")){var r=t.getAttribute("class");/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(r)?n.push({type:i.default.REMOVE_NODE}):n.push({type:i.default.MODIFY_ATTRIBUTE,data:{name:"class",value:null}})}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(253),i=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=[],r=g[t.nodeName];return r&&r(e,t,n),n}function s(e){return e.reduce(function(e,t){return e[t.nodeName]=t.handler,e},{})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(70),o=r(i);t.default=a;var l=n(253),u=r(l),c=n(1104),d=r(c),p=n(1095),f=r(p),m=n(1094),h=r(m),g=s([{nodeName:"#text",handler:function(e,t,n){var r=t.nodeValue;if(0===r.trim().length&&t.parentNode.firstChild===t)n.push({type:u.default.REMOVE_NODE});else{var a=r.replace(/^\u00a0+/,"").replace(/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/,"").replace(/^\u00a0+/,"");a!==r&&n.push({type:u.default.MODIFY_VALUE,data:{value:a}})}}},{nodeName:"A",handler:function(e,t,n){var r=(0,d.default)(t);r?r.href||r.name?(n.push({type:u.default.MODIFY_ATTRIBUTE,data:{name:"href",value:r.href}}),n.push({type:u.default.MODIFY_ATTRIBUTE,data:{name:"name",value:r.name}})):n.push({type:u.default.UNWRAP_NODE}):n.push({type:u.default.REMOVE_NODE})}},{nodeName:"DEL",handler:function(e,t,n){n.push({type:u.default.REMOVE_NODE})}},{nodeName:"P",handler:function(e,t,n){var r=[].filter.call(t.childNodes,function(e){return"SPAN"===e.nodeName&&e.hasAttribute("data-list-style")}),a=(0,o.default)(r,1),s=a[0];if(s){var i=s.getAttribute("data-list-style");(0,h.default)(i)?n.push({type:u.default.MORPH_INTO_LIST_ITEM,data:{style:"unordered"}}):(0,f.default)(i)?n.push({type:u.default.MORPH_INTO_LIST_ITEM,data:{style:"ordered"}}):(console.warn('ms-word-parser: unknown style listing "'+i+'", defaulting to "unordered"'),n.push({type:u.default.MORPH_INTO_LIST_ITEM,data:{style:"ordered"}}))}}},{nodeName:"SPAN",handler:function(e,t,n){t.hasAttribute("data-list-style")&&n.push({type:u.default.REMOVE_NODE})}}]);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.styleProcessor;if("#text"===t.nodeName)return[];var r=t.getAttribute("style");if("string"!=typeof r||0===r.length)return[];var a=[],s=n.process(r),o=s.styleMap,l=s.meta;return l.isComment?a.push({type:i.default.REMOVE_NODE}):(l.isListItem&&a.push({type:i.default.MORPH_INTO_LIST_ITEM,data:{depth:l.listItemDepth}}),l.isBold&&(delete o["font-weight"],a.push({type:i.default.WRAP_NODE,data:{wrapper:"STRONG"}})),l.isItalic&&(delete o["font-style"],a.push({type:i.default.WRAP_NODE,data:{wrapper:"EM"}})),a.push({type:i.default.MODIFY_ATTRIBUTE,data:{name:"style",value:n.serialize(o,{elementName:t.nodeName})}})),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(253),i=r(s);e.exports=t.default},function(e,t){"use strict";function n(e){return r(e,[[/<\!\[if !supportLists\]\>[\s\S]+?<!\[endif\]>/g,function(e){if(e.match(/'mso-list:Ignore'>([^\<]+)/)){var t=RegExp.$1;return'<span data-list-style="'+t+'"></span>'}return""}],/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0===t.length?"":t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("")}]])}function r(e,t){return t.reduce(function(e,t){return t.constructor===RegExp?e.replace(t,""):Array.isArray(t)?e.replace(t[0],t[1]):e},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var r=n.name,a=n.value;switch(r){case"mso-list":var s=/\w+ \w+([0-9]+)/i.exec(a);s&&(t.meta.isListItem=!0,t.meta.listItemDepth=parseInt(s[1],10));break;case"horiz-align":t.styleMap["text-align"]=a;break;case"vert-align":t.styleMap["vertical-align"]=a;break;case"font-color":case"mso-foreground":t.styleMap.color=a;break;case"mso-background":case"mso-highlight":t.styleMap.background=a;break;case"font-weight":case"font-style":"normal"!==a&&(t.styleMap[r]=a,/bold/i.test(a)?t.meta.isBold=!0:/italic/i.test(a)&&(t.meta.isItalic=!0));break;case"mso-element":/^(comment|comment-list)$/i.test(a)&&(t.meta.isComment=!0);break;default:0===r.indexOf("mso-comment")?t.meta.isComment=!0:e(r)&&(t.styleMap[r]=a)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){var t={href:e.getAttribute("href"),name:e.getAttribute("name")};if(t.href&&t.href.indexOf("#_msocom_")!==-1)return null;if(t.href&&0===t.href.indexOf("file://")){var n=t.href.split("#")[1];n&&(t.href="#"+n)}return t.href&&!t.href.length&&(t.href=null),t.name&&!t.name.length?t.name=null:t.name&&!/^_?(?:toc|edn|ftn)/i.test(t.name)&&(t.href=null,t.name=null),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){return Object.keys(t).filter(function(r){return"string"==typeof t[r]&&t[r].length>0&&e(r,n)}).reduce(function(e,n){var r=e.length>0?" ":"";return""+e+r+n+": "+t[n]+";"},"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=function e(t){var n=t.operations.reduce(s,t),r={attributes:p,children:null,text:null,type:n.node.nodeName},a=n.operations.reduce(i,r);return a?(a.text=n.node.textContent,a.children=n.children.map(e).filter(l),a):null};return t(e)}function s(e,t){switch(t.type){case d.default.WRAP_NODE:return{node:document.createElement(t.data.wrapper),children:[Object.assign({},e,{operations:e.operations.filter(function(e){return e!==t})})],operations:[]};default:return e}}function i(e,t){var n=t.type,r=t.data;if(!e)return e;switch(n){case d.default.MODIFY_ATTRIBUTE:return Object.assign({},e,{attributes:o(e.attributes,r.name,r.value)});case d.default.MORPH_INTO_LIST_ITEM:return Object.assign({},e,u({type:"LI",depth:r.depth,style:r.style}));case d.default.REMOVE_NODE:return null;case d.default.UNWRAP_NODE:return Object.assign({},e,{type:"SPAN"});default:return e}}function o(e,t,n){var r=Object.assign({},e);return n?(r[t]=n,r):(delete r[t],r)}function l(e){return null!==e&&(e.text&&e.text.trim().length>0||e.children.length>0||Object.keys(e.attributes).length>0)}function u(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return void 0!==r&&null!==r&&(t[n]=r),t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var c=n(253),d=r(c),p={};e.exports=t.default},function(e,t){"use strict";function n(e,t){return r(t,e)}function r(e,t){var n=e(t);return{node:t,operations:n,children:s.call(t.childNodes,a(r,e))}}function a(e,t){return e.bind(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var s=Array.prototype.map;e.exports=t.default},function(e,t,n){"use strict";e.exports=n(1187)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(286),s=r(a),i=function(){var e=null,t=function(t){return(0,s.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,a){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,a):((0,s.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(i!==!1)}else a(!0)},r=[],a=function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})};return{setPrompt:t,confirmTransitionTo:n,appendListener:a,notifyListeners:i}};t.default=i},,,function(e,t){e.exports={TRANSPARENT:"transparent",BLACK:"#000000",INDIGO:"#071A32",WHITE:"#ffffff",LIGHT_GREY:"#f6f7f9",GREY:"#e8ebf1",MED_GREY:"#c2c6cc",CHART_GREY:"#BAC1CC",DARK_GREY:"#9098a3",BLUE_GREY:"#576474",INPUT_GREY:"#CCCCCC",BLUE:"#3a9cff",BRIGHT_BLUE:"#34bbff",LIGHT_BLUE:"#419FFC",DIM_BLUE:"#89c4ff",CYAN:"#27e9ff",PURPLE:"#6a35c8",PINK:"#ed3685",ORANGE:"#fbb918",YELLOW:"#FBB918",PALE_YELLOW:"#fef1d1",NEUTRAL_PRIMARY:"#337ab7",NEUTRAL_SUCCESS:"#5cb85c",NEUTRAL_INFO:"#5bc0de",NEUTRAL_WARNING:"#f0ad4e",NEUTRAL_DANGER:"#d9534f",BRIDGELOGO_BARS_COLOR:"#071A32",BRIDGELOGO_WORD_COLOR:"#071A32",RED:"#ee354b",GREEN:"#00a05a",LIGHT_GREEN:"#40dfbc",BLEND_PKPU_WIDE_PK:"#ed3685",BLEND_PKPU_WIDE_PU:"#6a35c8",BLEND_PKPU_MEDIUM_PK:"#e12b8a",BLEND_PKPU_MEDIUM_PU:"#7f27be",BLEND_PKPU_NARROW_PK:"#d02a93",BLEND_PKPU_NARROW_PU:"#9228b4",BLEND_CYPU_WIDE_CY:"#27e9ff",BLEND_CYPU_WIDE_PU:"#6a35c8",BLEND_CYPU_MEDIUM_CY:"#32d7f9",BLEND_CYPU_MEDIUM_PU:"#5c49d3",BLEND_CYPU_NARROW_CY:"#39bef2",BLEND_CYPU_NARROW_PU:"#5464da",BLEND_GRBL_WIDE_GR:"#29f7c2",BLEND_GRBL_WIDE_BL:"#3289e1",BLEND_GRBL_MEDIUM_GR:"#29eec4",BLEND_GRBL_MEDIUM_BL:"#30a1da",BLEND_GRBL_NARROW_GR:"#29eac5",BLEND_GRBL_NARROW_BL:"#2ebdd2",BLEND_ORPK_WIDE_OR:"#fbb918",BLEND_ORPK_WIDE_PK:"#ed3685",BLEND_ORPK_MEDIUM_OR:"#fab21d",BLEND_ORPK_MEDIUM_PK:"#ef4c72",BLEND_ORPK_NARROW_OR:"#f9aa23",BLEND_ORPK_NARROW_PK:"#f2675c",INDIGO_GRADIENT_STOP:"#092b4d",BLUE_GRADIENT_STOP:"#26ceff",ORANGE_GRADIENT_STOP:"#ffe600",GREY_GRADIENT_START:"#eff1f5",GREY_GRADIENT_STOP:"#f5f6f9",MED_GREY_GRADIENT_START:"#e9ecf4",LIKERT_LOWEST:"#ea3688",LIKERT_LOW:"#cc3697",LIKERT_NEUTRAL:"#aa36a8",LIKERT_HIGH:"#8735ba",LIKERT_HIGHEST:"#6f36c8",LYNDA_GRADIENT_START:"#f2A829",LYNDA_GRADIENT_STOP:"#fcca2f",GRAPH_GRADIENT_START:"#32d8f9",GRAPH_GRADIENT_STOP:"#6628ca",TRAY_ANIMATION_DURATION_MS:150,BREAKPOINT_S:"35.5rem",BREAKPOINT_S_HEIGHT:"25rem",BREAKPOINT_MOBILE:"47.9375rem",BREAKPOINT_PORTRAIT_MOBILE:"20rem",BREAKPOINT_DESKTOP:"48rem",BREAKPOINT_TABLET_VERTICAL:"60rem",BREAKPOINT_WIDE_DESKTOP:"75rem",BREAKPOINT_HEIGHT:"58.125rem",BREAKPOINT_HEIGHT_TABLET:"55rem",BREAKPOINT_HEIGHT_MOBILE:"43.75rem",BREAKPOINT_WIDE_ENOUGH_TO_EDIT:"64.0625rem",FONT_BASE_SIZE:"16px",BUC_NAV_HEIGHT:"70px"}},function(e,t){e.exports={cs:{locales:{cs:"esky"}},de:{locales:{de:"Deutsch"}},en:{locales:{en:"English (US)"}},"en-AU":{locales:{"en-AU":"English (Australia)"}},"en-GB":{locales:{"en-GB":"English (UK)"}},es:{locales:{es:"Espaol"}},et:{locales:{et:"Eesti"}},fr:{locales:{fr:"Franais"}},"fr-CA":{locales:{"fr-CA":"Franais Canadien"}},hy:{locales:{hy:""}},it:{locales:{it:"Italiano"}},lt:{locales:{lt:"Lietuvi"}},lv:{locales:{lv:"Latvieu"}},nl:{locales:{nl:"Nederlands"}},pl:{locales:{pl:"Polski"}},"pt-BR":{locales:{"pt-BR":"Portugus do Brasil"}},ru:{locales:{ru:"p"}},sv:{locales:{sv:"Svenska"}},th:{locales:{th:""}},tr:{locales:{tr:"Trke"}},zh:{locales:{zh:""}},ko:{locales:{ko:""}},ja:{locales:{ja:""}}}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[s(t,e),"[",r,"]"].join(""):[s(t,e),"[",s(r,e),"]=",s(n,e)].join("")};case"bracket":return function(t,n){return null===n?s(t,e):[s(t,e),"[]=",s(n,e)].join("")};default:return function(t,n){return null===n?s(t,e):[s(t,e),"=",s(n,e)].join("")}}}function a(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function s(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"==typeof e?i(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var o=n(1183),l=n(63);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=l({arrayFormat:"none"},t);var n=a(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:decodeURIComponent(s),n(decodeURIComponent(a),s,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=i(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=l(n,t);var a=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return s(n,t);if(Array.isArray(r)){var i=[];return r.slice().forEach(function(e){void 0!==e&&i.push(a(n,e,i.length))}),i.join("&")}return s(n,t)+"="+s(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.analyze=t.defineAnalyzer=void 0;var a=n(1160),s=r(a),i=n(1159),o=r(i),l={},u=t.defineAnalyzer=function(e,t){l[e]=t},c=t.analyze=function(e){var t=void 0;if(e&&e.$meta){var n=l[e.$meta.type];n&&(t=(0,o.default)(n(e.$meta.args)))}return t||(t={type:"literal",value:(0,s.default)(e)||null}),"function"!=typeof e||e.hasOwnProperty("isRequired")||(t.isRequired=!0),t};u("shape",function(e){var t={};return t.type="shape",t.properties=Object.keys(e).map(function(t){var n=(0,o.default)(c(e[t]));return n.name=t,n}),t}),u("arrayOf",function(e){var t={};return t.type="arrayOf",t.element=c(e),t}),u("oneOfType",function(e){var t={};return t.type="oneOfType",t.types=e.map(c),t})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1156),a=function e(t){return"shape"===t.type?t.properties.reduce(function(t,n){return t[n.name]=e(n),t},{}):"arrayOf"===t.type?[e(t.element)]:"literal"===t.type&&void 0!==t.value?t.value:null};t.default=function(e){return a((0,r.analyze)(e))}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1157),s=r(a),i=function(e){if(e){if(e.$meta)return e.$meta.type;var t=void 0;return Object.keys(s.default).some(function(n){if(s.default[n]===e||s.default[n]&&s.default[n].isRequired===e)return t=n,!0}),t}};t.default=i},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return C.length?C.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){C.length&&C.forEach(function(n){return e.removeEventListener(n,t,!1)})}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(719),c=r(u),d=n(720),p=r(d),f=n(727),m=r(f),h=n(726),g=n(1),v=r(g),_=n(2),y=r(_),b=n(23),E=n(548),C=[];h.transitionEnd&&C.push(h.transitionEnd),h.animationEnd&&C.push(h.animationEnd);var I=({children:y.default.node,name:E.nameShape.isRequired,appear:y.default.bool,enter:y.default.bool,leave:y.default.bool,appearTimeout:y.default.number,enterTimeout:y.default.number,leaveTimeout:y.default.number},function(e){function t(){var n,r,i;a(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=s(this,e.call.apply(e,[this].concat(l))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},i=n,s(r,i)}return i(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,b.findDOMNode)(this);if(!r)return void(t&&t());var a=this.props.name[e]||this.props.name+"-"+e,s=this.props.name[e+"Active"]||a+"-active",i=null,l=void 0;(0,c.default)(r,a),this.queueClassAndNode(s,r);var u=function(e){e&&e.target!==r||(clearTimeout(i),l&&l(),(0,p.default)(r,a),(0,p.default)(r,s),l&&l(),t&&t())};n?(i=setTimeout(u,n),this.transitionTimeouts.push(i)):h.transitionEnd&&(l=o(r,u))},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,m.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,c.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=l({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,v.default.cloneElement(v.default.Children.only(this.props.children),e)},t}(v.default.Component));I.displayName="CSSTransitionGroupChild",I.propTypes={},t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(697),u=r(l),c=n(1),d=r(c),p=n(2),f=r(p),m=n(286),h=(r(m),n(1168)),g=({component:f.default.any,childFactory:f.default.func,children:f.default.node},{component:"span",childFactory:function(e){return e}}),v=function(e){function t(n,r){a(this,t);var i=s(this,e.call(this,n,r));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var n=o({},t.children);return delete n[e],{children:n}})},i.childRefs=Object.create(null),i.state={children:(0,h.getChildMapping)(n.children)},i}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,h.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,h.mergeChildMappings)(n,t)});for(var r in t){var a=n&&n.hasOwnProperty(r);!t[r]||a||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var s in n){var i=t&&t.hasOwnProperty(s);!n[s]||i||this.currentlyTransitioningKeys[s]||this.keysToLeave.push(s)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),i=function(t){e.childRefs[n]=t};s===r&&a&&(i=(0,u.default)(r.ref,i)),t.push(d.default.cloneElement(s,{key:n,ref:i}))}};for(var r in this.state.children)n(r);var a=o({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,d.default.createElement(this.props.component,a,t)},t}(d.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=g,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return s.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function a(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},a=[];for(var s in e)t.hasOwnProperty(s)?a.length&&(r[s]=a,a=[]):a.push(s);var i=void 0,o={};for(var l in t){if(r.hasOwnProperty(l))for(i=0;i<r[l].length;i++){var u=r[l][i];o[r[l][i]]=n(u)}o[l]=n(l)}for(i=0;i<a.length;i++)o[a[i]]=n(a[i]);return o}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=a;var s=n(1)},,,,,,,,,,,,,,,function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){(function(e,r){function a(e,n){var r={seen:[],stylize:i};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,e,r.depth)}function s(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function i(e,t){return e}function o(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(r,e);return y(a)||(a=l(e,a,r)),a}var s=u(e,n);if(s)return s;var i=Object.keys(n),h=o(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),N(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return c(n);if(0===i.length){if(S(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(C(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return e.stylize(Date.prototype.toString.call(n),"date");if(N(n))return c(n)}var v="",_=!1,b=["{","}"];if(m(n)&&(_=!0,b=["[","]"]),S(n)){var E=n.name?": "+n.name:"";v=" [Function"+E+"]"}if(C(n)&&(v=" "+RegExp.prototype.toString.call(n)),T(n)&&(v=" "+Date.prototype.toUTCString.call(n)),N(n)&&(v=" "+c(n)),0===i.length&&(!_||0==n.length))return b[0]+v+b[1];if(r<0)return C(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var I;return I=_?d(e,n,r,h,i):i.map(function(t){return p(e,n,r,h,t,_)}),e.seen.pop(),f(I,v,b)}function u(e,t){if(E(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return _(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,a){for(var s=[],i=0,o=t.length;i<o;++i)R(t,String(i))?s.push(p(e,t,n,r,String(i),!0)):s.push("");return a.forEach(function(a){a.match(/^\d+$/)||s.push(p(e,t,n,r,a,!0))}),s}function p(e,t,n,r,a,s){var i,o,u;if(u=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},u.get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),R(r,a)||(i="["+a+"]"),o||(e.seen.indexOf(u.value)<0?(o=g(n)?l(e,u.value,null):l(e,u.value,n-1),o.indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),E(i)){if(s&&a.match(/^\d+$/))return o;i=JSON.stringify(""+a),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+o}function f(e,t,n){var r=0,a=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function _(e){return"number"==typeof e}function y(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function E(e){return void 0===e}function C(e){return I(e)&&"[object RegExp]"===A(e)}function I(e){return"object"==typeof e&&null!==e}function T(e){return I(e)&&"[object Date]"===A(e)}function N(e){return I(e)&&("[object Error]"===A(e)||e instanceof Error)}function S(e){return"function"==typeof e}function x(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}function w(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,s=r.length,i=String(e).replace(O,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),o=r[n];n<s;o=r[++n])i+=g(o)||!I(o)?" "+o:" "+a(o);return i},t.deprecate=function(n,a){function s(){if(!i){if(r.throwDeprecation)throw new Error(a);r.traceDeprecation?console.trace(a):console.error(a),i=!0}return n.apply(this,arguments)}if(E(e.process))return function(){return t.deprecate(n,a).apply(this,arguments)};if(r.noDeprecation===!0)return n;var i=!1;return s};var P,L={};t.debuglog=function(e){if(E(P)&&(P=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var n=r.pid;L[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else L[e]=function(){};return L[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=_,t.isString=y,t.isSymbol=b,t.isUndefined=E,t.isRegExp=C,t.isObject=I,t.isDate=T,t.isError=N,t.isFunction=S,t.isPrimitive=x,t.isBuffer=n(3722);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",w(),t.format.apply(t,arguments))},t.inherits=n(3430),t._extend=function(e,t){if(!t||!I(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(255))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(376),i=a(s),o=n(26),l=a(o),u=n(47),c=a(u),d=n(7),p=a(d),f=n(108),m=a(f),h=n(3432),g=a(h),v=n(3312),_=n(230),y=r(_),b=n(3318),E=a(b),C=n(3317);a(C);t.default=[{name:"configure ajax global adapter",initialize:function(){p.default.__setAdapter__(E.default)}},{name:"dump uncaught promise rejections to console",initialize:function(){y.on("error",function(e){console.error("Uncaught promise rejection:",e&&e.stack||e)}),window.addEventListener("unhandledrejection",function(e){console.error("Uncaught promise rejection:",e.reason)})}},{name:"I18n",initialize:function(){m.default.setTranslationsForLocale("en",g.default),l.default.setLocale("en"),l.default.enableLookups()}},{name:"stamp ajax requests with the CSRF headers",initialize:v.addCSRFHeaderToAPIRequests},{name:"serialize JSON payloads in ajax requests",initialize:function(){c.default.ajaxPrefilter(function(e,t){e.type.match(/post|put|patch|delete/i)&&(e.contentType="application/json","string"!=typeof t.data&&(e.data=JSON.stringify(t.data)))})}},{name:"setup branding",initialize:function(){i.default.install()},teardown:function(){i.default.uninstall()}},{name:"qa helper",initialize:function(){}}],e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(108),s=r(a);t.default={name:"activate the initial locale",initialize:function(e){s.default.activateCurrentLocale().then(function(){return e()},e)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(138);t.default={name:"release locks onbeforeunload",initialize:function(){window.addEventListener("beforeunload",function(){r.LockStore.data.valueSeq().forEach(function(e){var t=e.lockableType,n=e.lockableId,a=e.id;r.lockRequests.releaseLock({type:t,id:n},a)})},!1)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){i.default.configure({onError:function(e,t){var n=t.asyncProp.onFailure||p.default;l.default.captureException(e,{tags:{where:"PropResolutionFailure"},extra:{lastTransition:c.default.getItem("lastTransition")}}),n(e,t)}})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(326),i=r(s),o=n(229),l=r(o),u=n(87),c=r(u),d=n(1483),p=r(d);t.default={name:"bridge-async-props",initialize:function(){a()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(231),s=n(3424),i=n(2060),o=r(i),l=n(30),u=r(l);t.default={name:"start bridge router",initialize:function(){var e=(0,a.createRouter)({debug:!0}),t=(0,s.createBrowserHistory)(),n=(0,o.default)({router:e,history:t}),r=n.mapping,i=n.nameMap,l=(0,u.default)({history:t,router:e,nameMap:i});return e.map(r),e.start({history:t}),{router:e,history:t,routeActions:l}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(423),s=n(78),i=r(s);t.default=function(e){var t=e.domNode;return{name:"set global application DOM element",initialize:function(){(0,a.setAppContainer)(t),i.default.setAppElement(t)}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(365),g=r(h),v=n(117),_=r(v),y=n(64),b=r(y),E=n(60),C=r(E),I=[{label:I18n.t("Fill Screen"),value:"fill"},{label:I18n.t("Fit to Screen"),value:"fit"},{label:I18n.t("Stretch to Fill"),value:"stretch"},{label:I18n.t("Center"),value:"center"},{label:I18n.t("Tile"),value:"tile"}],T=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.uploadFile=function(e){var t=(0,_.default)(e,{public:!0});return t.upload()},r.updateBrandPhoto=function(e){var t=e.url,n=e.opacity,a=e.style;r.props.onChange({brand_photo_url:t,brand_photo_opacity:n,brand_photo_style:a})},r.updateBrandPhotoUrl=function(e){var t=e.location?{url:e.location,opacity:1,style:"fill"}:{url:null,opacity:null,style:null};r.updateBrandPhoto(t)},r.updateBrandPhotoOpacity=function(e){var t={url:r.props.brandPhotoUrl,opacity:e,style:r.props.brandPhotoStyle};r.updateBrandPhoto(t)},r.updateBrandPhotoStyle=function(e){var t={url:r.props.brandPhotoUrl,opacity:r.props.brandPhotoOpacity,style:e};r.updateBrandPhoto(t)},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.description,r=e.brandPhotoUrl,a=e.brandPhotoOpacity,s=e.brandPhotoStyle;return f.default.createElement("div",null,r&&f.default.createElement(b.default,{className:"cover-slide-settings__combo-box right",onChange:this.updateBrandPhotoStyle,selectedValue:s||"fill",children:I.map(function(e){return f.default.createElement(C.default,{key:e.value,value:e.value,label:e.label})})}),f.default.createElement(g.default,{name:t,url:r,description:n,onChange:this.updateBrandPhotoUrl,onUploadFile:this.uploadFile,onChangeOpacity:this.updateBrandPhotoOpacity,opacity:a,dataCapybara:"brand_photo"}))}}]),t}(f.default.Component);T.propTypes={name:m.string.isRequired,description:m.string.isRequired,brandPhotoUrl:m.string,brandPhotoOpacity:m.number,brandPhotoStyle:m.string,onChange:m.func.isRequired},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(2089),g=r(h),v=n(62),_=r(v),y=n(6),b=r(y),E=n(48),C=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=_.default.isColorEnabled()?_.default.getColor():E.INDIGO,t=(0,b.default)("brand-logo__selector",_.default.getLogoClass(!0)),n=(0,b.default)("brand-logo__selector",_.default.getLogoClass(!1));return f.default.createElement("div",{className:"padding-s border-b border-med-grey logo-selector"},f.default.createElement("span",{className:"left bold logo-selector__title"},I18n.t("Preferred Logo")),f.default.createElement("div",{className:"logo-selector__inputs"},f.default.createElement(g.default,{logoUrl:this.props.primaryBrandLogoUrl,logoClass:t,isSelected:"primary"===this.props.currentSelection,background:E.LIGHT_GREY,onChange:this.props.handleSelection.bind(this,"primary"),dataCapybara:"logo_radio_button_primary"}),f.default.createElement(g.default,{logoUrl:this.props.reverseBrandLogoUrl,logoClass:n,isSelected:"reverse"===this.props.currentSelection,background:e,onChange:this.props.handleSelection.bind(this,"reverse"),dataCapybara:"logo_radio_button_reverse"})))}}]),t}(f.default.Component);C.propTypes={primaryBrandLogoUrl:m.string.isRequired,reverseBrandLogoUrl:m.string.isRequired,currentSelection:m.string.isRequired,handleSelection:m.func.isRequired},t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(5),h=n(2),g=n(24),v=r(g),_=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"eatClick",value:function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation()}},{key:"componentDidMount",value:function(){this.refs.brandingtilecontent.addEventListener("click",this.eatClick,!0)}},{key:"componentWillUnmount",value:function(){this.refs.brandingtilecontent.removeEventListener("click",this.eatClick,!0)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.Handler;return f.default.createElement("div",{className:"branding-tile"},f.default.createElement("div",{className:"branding-tile__wrapper"},f.default.createElement("div",{className:"branding-tile__content",ref:"brandingtilecontent"},f.default.createElement(m.FixedMediaState,{device:{width:1220,height:1e3}},f.default.createElement(m.FocusDisabler,{className:"full-height"},f.default.createElement(n,null))))),this.props.children?this.props.children:f.default.createElement(v.default,{className:"branding-preview__title branding-preview__title--no-link",onClick:this.eatClick},f.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{title}",{title:"%{title}"}),title:t},"$1")))}}]),t}(f.default.Component);_.propTypes={Handler:h.func.isRequired,id:h.string.isRequired,title:h.string.isRequired,children:h.element},t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(43),g=n(30),v=r(g),_=n(6),y=r(_),b=n(12),E=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=(0,y.default)({"branding-editor-link__title":this.props.inverted}),n=function(){return v.default.replaceWith(e.props.to)},r=function(e){e.keyCode===b.KC_RETURN&&n()};return f.default.createElement("div",{"data-capybara":this.props.dataCapybara,className:"branding-editor-link",onClick:n,onKeyDown:r,tabIndex:"0"},this.props.inverted&&f.default.createElement("div",{className:"branding-editor-link__chevron--inverted","aria-label":"Back"},f.default.createElement(h.ChevronLeftIcon,null)),f.default.createElement("div",{className:t},this.props.displayText),!this.props.inverted&&f.default.createElement("div",{className:"branding-editor-link__chevron"},f.default.createElement(h.ChevronRightIcon,null)))}}]),t}(f.default.Component);E.propTypes={displayText:m.string,to:m.string.isRequired,inverted:m.bool,dataCapybara:m.string},E.defaultProps={inverted:!1,dataCapybara:"branding_editor_link"},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(2134),o=r(i),l=n(2136),u=r(l),c=n(4),d={},p=(0,s.default)({displayName:"AdminConfigAuthStore",schema:n(145),storeOptions:{defaultCacheOptions:{idGenerator:function(e){return e.provider}}},newAuth:function(){return{provider:"Basic",model:"User"}},fetch:function(){var e=this;return(0,o.default)().then(function(t){return e.cache.setCollection(d,[t]),t})},get:function(){return this.cache.getCollection(d)[0]},update:function(e){var t=this;return(0,u.default)(e).then(function(n){var r=Object.assign({},e,(0,c.omitBy)(n,c.isUndefined));return t.cache.setCollection(d,[r]),r})}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(742),h=r(m),g=n(3),v=n(6),_=r(v),y=n(50),b=n(43),E=n(2156),C=n(27),I=r(C),T=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.configKey=null,n.selectedItem=null,n.handleItemClick=n.handleItemClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.configKey=e.reportingBy,n.selectedItem=e.selectedItem,n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isLoading&&!e.isLoading&&(this.configKey=e.reportingBy,this.selectedItem=e.selectedItem)}},{key:"handleItemClick",value:function(e){if(this.props.onSelectItem){var t=+e.currentTarget.getAttribute("data-item-index");this.props.onSelectItem(this.props.items[t]),e.preventDefault()}}},{key:"handleKeyDown",value:function(e){"Enter"!==e.key&&" "!==e.key||this.handleItemClick(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isLoading,r=e.showError,a=(0,E.getConfig)(this.configKey,this.selectedItem);return f.default.createElement("div",{className:(0,_.default)("insights-table-wrapper",t)},f.default.createElement(y.Table,{className:"insights-table",forceStatic:!0},this.renderHeader(a),r?this.renderError():this.renderBody(a)),n?this.renderLoading():this.renderNoDataMessage())}},{key:"renderHeader",value:function(e){var t=e.columns;return f.default.createElement(y.Thead,{forceStatic:!0},f.default.createElement(y.Tr,{className:"insights-table__header",forceStatic:!0},t.map(function(e,t){return f.default.createElement(y.Th,{key:t,sortable:!1,forceStatic:!0,"data-capybara":"insights-table-heading-cell"},e.getTitle())})))}},{key:"renderBody",value:function(e){var t=this;return f.default.createElement(y.Tbody,{forceStatic:!0},this.props.items.map(function(n,r){return f.default.createElement(y.Tr,{key:n.type+":"+n.id,className:e.selectable?"insights-table__row":null,onClick:e.selectable?t.handleItemClick:void 0,forceStatic:!0,"data-item-index":r},t.renderCells(e,n,r))}))}},{key:"renderCells",value:function(e,t,n){var r=this,a=e.columns,s=e.getAvatar,i=e.selectable;return a.map(function(e,a){return f.default.createElement(y.Td,{key:a,className:"insights-table__cell",forceStatic:!0},f.default.createElement("div",{className:"insights-table__cell--first flex-row","data-capybara":"insights-table-cell-content"},0===a&&s(t),0===a&&i?f.default.createElement(b.QuietButton,{className:"insights-table__cell__button",onKeyDown:r.handleKeyDown,"data-item-index":n},e.getValue(t)):e.getValue(t)))})}},{key:"renderLoading",value:function(){return f.default.createElement("div",{className:"loader-container","data-capybara":"insights-table-loading"},f.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"}))}},{key:"renderNoDataMessage",value:function(){return 0===this.props.items.length&&f.default.createElement("div",{className:"border-b border-grey centered padding-xxl","data-capybara":"insights-table-empty"},f.default.createElement("div",{className:"text-center blue-grey"},f.default.createElement("div",null,I18n.t("Sorry, we couldn't find any data that matches the applied filters.")),f.default.createElement("div",null,I18n.t('Remove some filters or try switching your "Reporting By" option.'))))}},{key:"renderError",value:function(){return f.default.createElement(y.Tbody,{forceStatic:!0},f.default.createElement(y.Tr,{forceStatic:!0,"data-capybara":"insights-table-error"},f.default.createElement(y.Td,{colSpan:"5",forceStatic:!0},f.default.createElement("div",{className:"insights-table__error-container"},f.default.createElement(I.default,{children:I18n.t("We cannot load the requested information")}),f.default.createElement(b.CautionIcon,{className:"insights-table__error-container__icon"})))))}}]),t}(p.PureComponent);T.propTypes={isLoading:g.bool.isRequired,showError:g.bool.isRequired,items:h.default.isRequired,reportingBy:g.string.isRequired,onSelectItem:g.func.isRequired,selectedItem:g.object,className:g.string},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(742),g=r(h),v=n(261),_=r(v),y=n(26),b=r(y),E=n(6),C=r(E),I=n(43),T=(n(12),n(1253)),N=r(T),S=n(2152),x=r(S),A=n(2151),k=r(A),w=n(2150),R=r(w),O=n(2153),P=r(O),L=n(2149),M=r(L),D=n(52),U=(r(D),n(354)),F=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.filters,r=e.isLoading,a=e.hasError,s=e.onRemoveFilter,i=e.drillDown,o=e.onDrillUp,l=e.onDrillDown,u=e.onPaginationChange,c=e.onPageSizeChange,d=e.onReportingByChange,p=e.onSortByChange,m=e.currentPage,h=e.resultsPerPage,g=e.totalElements,v=e.reportingBy,_=e.results,y=e.selectedFilters,E=(e.onSearchChange,e.search,e.sortBy),T=h*m+1,S=T+_.length-1,A=Math.ceil(g/h),w=i[i.length-1],O=_.length>0&&!a;return f.default.createElement("div",{className:(0,C.default)("insights-reporting-main-content",t)},w?f.default.createElement(R.default,{onNavigate:o,reportingBy:v,trail:i}):f.default.createElement(x.default,{className:"insights-reporting-main-content__select",onChange:d,selected:v}),y.length>0&&f.default.createElement(M.default,{filters:n,onRemoveFilter:s,selectedFilters:y}),w&&this.renderDrillDownHeader(w,v),f.default.createElement("div",{className:"insights-reporting-main-content__toolbar"},!1,f.default.createElement("div",null,f.default.createElement(P.default,{className:"insights-reporting-main-content__select--sort",onChange:p,selected:E}),f.default.createElement(k.default,{className:"insights-reporting-main-content__select--size",onChange:c,selected:h}))),f.default.createElement(N.default,{className:"insights-reporting-main-content__table",isLoading:r,showError:a,items:_,reportingBy:v,onSelectItem:l,selectedItem:w||null}),O&&f.default.createElement("div",{className:"insights-reporting-main-content__pagination"},f.default.createElement("div",{className:"insights-reporting-main-content__pagination__summary"},b.default.t("%{fromRow} - %{toRow} of %{totalElements}",{fromRow:T,toRow:S,totalElements:g})),f.default.createElement(I.Pagination,{currentPage:m,totalPages:A,onChange:u,marginPages:1,groupPages:4})))}},{key:"renderDrillDownHeader",value:function(e,t){return f.default.createElement("div",{className:"insights-reporting-main-content__drill-down-header margin-b-l"},(0,U.getIcon)(e,{className:(0,C.default)("margin-r-s large",(0,U.isGroupItem)(e.type)&&"GROUP"===t&&"insights-reporting-main-content__avatar-group","domain"===e.type&&"TEAM"===t&&"insights-reporting-main-content__avatar-team")}),f.default.createElement(I.TextClip,{lines:1},(0,U.formatTitle)(e)))}}]),t}(p.PureComponent);F.propTypes={className:m.string,filters:(0,m.arrayOf)(_.default).isRequired,drillDown:(0,m.arrayOf)(Object).isRequired,isLoading:m.bool.isRequired,hasError:m.bool.isRequired,results:g.default.isRequired,reportingBy:m.string.isRequired,currentPage:m.number.isRequired,resultsPerPage:m.number.isRequired,totalElements:m.number.isRequired,onDrillUp:m.func.isRequired,onDrillDown:m.func.isRequired,onPaginationChange:m.func.isRequired,onPageSizeChange:m.func.isRequired,onRemoveFilter:m.func.isRequired,onReportingByChange:m.func.isRequired,onSortByChange:m.func.isRequired,selectedFilters:(0,m.arrayOf)(v.SelectedFilter).isRequired,onSearchChange:m.func.isRequired,sortBy:m.string.isRequired,search:m.string.isRequired},t.default=F,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return(0,_.getRanges)({useRollingDates:!0,includePartialDates:!0,includeCustom:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRange=void 0;var s=n(9),i=r(s),o=n(14),l=r(o),u=n(15),c=r(u),d=n(17),p=r(d),f=n(16),m=r(f),h=n(1),g=r(h),v=n(2),_=n(227),y=n(43),b=(t.defaultRange=(0,_.getDefaultRange)(a()),function(e){function t(e){(0,l.default)(this,t);var n=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.focusStartDatePicker=function(){requestAnimationFrame(function(){return n.refs.startDatePicker&&n.refs.startDatePicker.focus()})},n.handleDateRangeChange=function(e){if("custom"===e)n.props.onChange(e,n.props.startDate,n.props.endDate),n.setState({enableDatePickers:!0},n.focusStartDatePicker);else{var t=(0,_.dateRangeFor)(e),r=t.startDate,a=t.endDate;n.props.onChange(e,r,a),n.setState({enableDatePickers:!1})}},n.handleStartDateChange=function(e){n.props.onChange(n.props.range,e,n.props.endDate),n.refs.endDatePicker&&n.refs.endDatePicker.focus()},n.handleEndDateChange=function(e){n.props.onChange(n.props.range,n.props.startDate,e)},n.state={enableDatePickers:"custom"===n.props.range},n}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.range;return g.default.createElement("div",{className:"deep-dive-reporting__sidebar__daterange padding-m"},g.default.createElement(y.SelectMenu,{chevronClassName:"deep-dive-reporting__sidebar__daterange__chevron-icon",className:"deep-dive-reporting__sidebar__daterange__select-menu"},g.default.createElement(y.Menu,{className:"deep-dive-reporting__sidebar__daterange__menu",onChange:this.handleDateRangeChange,value:e},a().map(function(e){return g.default.createElement(y.MenuItem,{key:e.value,value:e.value},e.label)}))),this.renderDatePickers())}},{key:"renderDatePickers",value:function(){var e=this.props,t=e.endDate,n=e.locale,r=e.startDate,a={autoSize:!0,className:"deep-dive-reporting__sidebar__daterange__datepicker",disabled:!this.state.enableDatePickers,iconClassName:"hidden",format:"short",lang:n,required:!0};return g.default.createElement("div",{className:"deep-dive-reporting__sidebar__daterange__custom"},g.default.createElement(y.DatePicker,(0,
i.default)({},a,{max:t,onChange:this.handleStartDateChange,ref:"startDatePicker",value:r})),g.default.createElement("span",{className:"deep-dive-reporting__sidebar__daterange__separator"},"-"),g.default.createElement(y.DatePicker,(0,i.default)({},a,{min:r,onChange:this.handleEndDateChange,ref:"endDatePicker",value:t})))}}]),t}(h.PureComponent));b.propTypes={range:v.string.isRequired,startDate:(0,v.instanceOf)(Date).isRequired,endDate:(0,v.instanceOf)(Date).isRequired,locale:v.string.isRequired,onChange:v.func.isRequired},t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(2),v=n(26),_=r(v),y=n(43),b=n(261),E=n(5),C=n(52),I=r(C),T=n(2160),N=r(T),S=n(6),x=r(S),A=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderNoMatchesFound=function(){var e=n.state.search;return e.length?h.default.createElement("div",{className:"dark-grey",dangerouslySetInnerHTML:{__html:_.default.t("There are no matches for *%{search}*",{search:e,wrappers:['<span class="indigo">$1</span>']})}}):h.default.createElement("div",{className:"dark-grey"},_.default.t("There are no options for %{label}",{label:n.props.label}))},n.renderOption=function(e){var t=n.props,r=t.type,a=t.selected,i=t.onToggleFilter;return h.default.createElement(N.default,(0,s.default)({key:e.value},e,{type:r,selected:a.includes(e.value),onToggle:i}))},n.handleToggle=n.handleToggle.bind(n),n.handleShowAll=n.handleShowAll.bind(n),n.handleSearch=n.handleSearch.bind(n),n.state={collapsed:!0,search:"",showAll:!1},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"handleToggle",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}},{key:"handleShowAll",value:function(){this.setState({showAll:!0})}},{key:"handleSearch",value:function(e){var t=this.props.onSearch;this.setState({search:e}),t(e)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.selected,r=e.type,a=this.state.collapsed,s=n.length,i="label-"+r,o="content-"+r;return h.default.createElement("div",{className:"margin-m margin-t-l"},h.default.createElement(y.QuietButton,{"aria-expanded":!a,"aria-controls":o,className:"deep-dive-reporting__sidebar-filter__group small",id:i,onClick:this.handleToggle},h.default.createElement("h4",null,t),s>0&&a&&this.renderBadge(s),h.default.createElement(E.Icon,{className:(0,x.default)("gs-1x",a?"gs-plus-sign":"gs-minus-sign")})),h.default.createElement("div",{"aria-labelledby":i,className:a&&"hidden",id:o},this.renderGroup()))}},{key:"renderBadge",value:function(e){return h.default.createElement("span",{className:"deep-dive-reporting__sidebar-filter__group__badge"},e)}},{key:"renderGroup",value:function(){var e=this.props,t=e.options,n=e.setScrollViewRef,r=this.state.showAll||t.length<=4,a=this.state.search.length>0||t.length>4;return h.default.createElement("div",{className:"small"},a&&this.renderSearch(),h.default.createElement("div",{className:"deep-dive-reporting__sidebar-filter__options",ref:n},t.length>0?t.slice(0,r?t.length:4).map(this.renderOption):this.renderNoMatchesFound()),!r&&this.renderShowAllButton())}},{key:"renderShowAllButton",value:function(){return h.default.createElement(y.QuietButton,{className:"deep-dive-reporting__sidebar-filter__show-all",focusStyleType:"underline",onClick:this.handleShowAll},_.default.t("Show all"))}},{key:"renderSearch",value:function(){var e=_.default.t("Search for %{label}",{label:this.props.label});return h.default.createElement(I.default,{label:e,onChange:this.handleSearch,placeholderText:e,searchTerm:this.state.search,urlDriven:!1})}}]),t}(m.PureComponent);A.propTypes={type:g.string.isRequired,label:g.string.isRequired,options:(0,g.arrayOf)(b.FilterOption).isRequired,selected:(0,g.arrayOf)(g.string),onSearch:g.func.isRequired,onToggleFilter:g.func.isRequired,setScrollViewRef:g.func},t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(26),g=r(h),v=n(6),_=r(v),y=n(2168),b=n(261),E=r(b),C=n(27),I=r(C),T=n(5),N=n(43),S=n(2159),x=r(S),A=n(1255),k=r(A),w=768,R=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleToggle=n.handleToggle.bind(n),n.state={collapsed:(0,y.getBrowserWidth)()<=w},n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"handleToggle",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}},{key:"render",value:function(){var e=this.state.collapsed,t=this.props,n=t.range,r=t.startDate,a=t.endDate,s=t.locale,i=t.onChangeRange,o=t.filters,l=t.selectedFilters,u=t.onClearAllFilters,c=t.onFilterLoadMore,d=t.onFilterSearch,p=t.onToggleFilter;return f.default.createElement("div",{className:(0,_.default)("deep-dive-reporting__sidebar",e&&"deep-dive-reporting__sidebar--collapsed")},e?this.renderCollapsed():f.default.createElement("div",{className:"deep-dive-reporting__sidebar__wrapper"},f.default.createElement(k.default,{range:n,startDate:r,endDate:a,locale:s,onChange:i}),f.default.createElement("div",{className:"deep-dive-reporting__sidebar__filter"},f.default.createElement(x.default,{filters:o,selectedFilters:l,onClearAllFilters:u,onFilterLoadMore:c,onFilterSearch:d,onToggleFilter:p}))),this.renderToggleButton(e))}},{key:"renderCollapsed",value:function(){return f.default.createElement("div",{className:"deep-dive-reporting__sidebar__wrapper"},f.default.createElement("div",{className:"deep-dive-reporting__sidebar__filter-icon"},f.default.createElement(N.FilterIcon,null)))}},{key:"renderToggleButton",value:function(e){return f.default.createElement(N.QuietButton,{circled:!0,className:(0,_.default)("deep-dive-reporting__sidebar__toggle","margin-b-m","margin-t-m",!e&&"margin-r-m"),onClick:this.handleToggle},f.default.createElement(I.default,{children:e?g.default.t("Expand"):g.default.t("Collapse")}),f.default.createElement(T.Icon,{className:(0,_.default)(e?"gs-expand":"gs-collapse")}))}}]),t}(p.PureComponent);R.propTypes={range:m.string.isRequired,startDate:(0,m.instanceOf)(Date).isRequired,endDate:(0,m.instanceOf)(Date).isRequired,filters:(0,m.arrayOf)(E.default).isRequired,locale:m.string.isRequired,selectedFilters:(0,m.arrayOf)(b.SelectedFilter).isRequired,onChangeRange:m.func.isRequired,onClearAllFilters:m.func.isRequired,onFilterLoadMore:m.func.isRequired,onFilterSearch:m.func.isRequired,onToggleFilter:m.func.isRequired},t.default=R,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(139),s=r(a),i=n(9),o=r(i),l=n(14),u=r(l),c=n(15),d=r(c),p=n(17),f=r(p),m=n(16),h=r(m),g=n(1),v=r(g),_=n(2),y=n(166),b=r(y),E=n(19),C=r(E),I=n(435),T=r(I),N=n(2148),S=r(N),x=n(1257),A=r(x),k=n(2165),w=r(k),R=n(1254),O=r(R),P=n(2167),L=r(P),M=n(1255),D=n(227),U=n(4),F=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleFilterChange=n.handleFilterChange.bind(n),n.handleStateChange=n.handleStateChange.bind(n),n.handleDrillUp=n.handleDrillUp.bind(n),n.handleDrillDown=n.handleDrillDown.bind(n);var r=n.props.query.range||M.defaultRange,a=(0,D.dateRangeFor)(r,{customStart:n.props.query.startDate,customEnd:n.props.query.endDate}),s=a.startDate,i=a.endDate,o=(0,U.assign)({},n.props.query,{range:r,startDate:s,endDate:i},L.default.loadQuery());return w.default.setDefaults(o),w.default.setR2bParams(n.props.r2bParams),n.state=w.default.getState(),w.default.addChangeListener(n.handleStateChange),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state}},{key:"componentDidMount",value:function(){w.default.fetchReports(),w.default.fetchFilters()}},{key:"componentWillUnmount",value:function(){w.default.removeChangeListener(this.handleStateChange),L.default.saveQuery(this.state.query),C.default.clear()}},{key:"handleStateChange",value:function(){var e=w.default.getState();this.setState((0,o.default)({},e))}},{key:"handleDateRangeChange",value:function(e,t,n){w.default.fetchReports({range:e,startDate:t,endDate:n,page:0})}},{key:"handleFilterChange",value:function(e){var t=this.state.query.filters,n=t.findIndex(function(t){return t.type===e.type&&t.value===e.value}),r=n===-1?[].concat((0,s.default)(t),[e]):[].concat((0,s.default)(t.slice(0,n)),(0,s.default)(t.slice(n+1)));w.default.fetchReports({filters:r,page:0})}},{key:"handleClearAllFilters",value:function(){w.default.fetchReports({filters:[],page:0})}},{key:"handleReportingByChange",value:function(e){w.default.fetchReports({reportingBy:e,page:0})}},{key:"handleSearchChange",value:function(e){w.default.fetchReports({search:e,page:0})}},{key:"handleSortByChange",value:function(e){w.default.fetchReports({sortBy:e,page:0})}},{key:"handleResultsPerPageChange",value:function(e){w.default.fetchReports({resultsPerPage:e,page:0})}},{key:"handlePaginationChange",value:function(e){w.default.fetchReports({page:e})}},{key:"handleDrillUp",value:function(e){var t=this.state.query.drillDown;w.default.fetchReports({drillDown:t.slice(0,e),page:t[e].page})}},{key:"handleDrillDown",value:function(e){var t=this.state.query,n=t.drillDown,r=t.page;w.default.fetchReports({drillDown:[].concat((0,s.default)(n),[{item:e,page:r}]),page:0})}},{key:"handleFilterSearch",value:function(e,t){w.default.fetchFilter(e,t)}},{key:"handleFilterLoadMore",value:function(e){return w.default.fetchFilter(e)}},{key:"render",value:function(){var e=this.state,t=e.results,n=e.filters,r=e.isLoading,a=e.isExporting,s=e.query,i=e.totalElements,o=e.hasError,l=s.drillDown,u=l.length>0?l[l.length-1].item.type:null,c=["learner","CourseTemplate","Program","LiveCourse","Task"].includes(u),d=l.map(function(e){var t=e.item;return t});return v.default.createElement(T.default,{className:"deep-dive-reporting deep-dive-reporting--slow-modal"},v.default.createElement("div",{className:"deep-dive-reporting__content-wrapper"},v.default.createElement(b.default,null),v.default.createElement(S.default,{isExporting:a,onClose:this.props.onClose,onExport:w.default.exportReports,showOptions:!c}),v.default.createElement("div",{className:"deep-dive-reporting__content"},v.default.createElement(A.default,{range:s.range,startDate:s.startDate,endDate:s.endDate,filters:n,locale:this.props.locale,onChangeRange:this.handleDateRangeChange,onClearAllFilters:this.handleClearAllFilters,onFilterLoadMore:this.handleFilterLoadMore,onFilterSearch:this.handleFilterSearch,onToggleFilter:this.handleFilterChange,selectedFilters:s.filters}),v.default.createElement("div",{className:"deep-dive-reporting__main pure-u-3-4"},v.default.createElement(O.default,{filters:n,isLoading:r,drillDown:d,onDrillUp:this.handleDrillUp,onDrillDown:this.handleDrillDown,onPaginationChange:this.handlePaginationChange,onSearchChange:this.handleSearchChange,onPageSizeChange:this.handleResultsPerPageChange,onSortByChange:this.handleSortByChange,currentPage:s.page,resultsPerPage:s.resultsPerPage,totalElements:i,onRemoveFilter:this.handleFilterChange,reportingBy:s.reportingBy,results:t,selectedFilters:s.filters,onReportingByChange:this.handleReportingByChange,search:s.search,sortBy:s.sortBy,hasError:o})))))}}]),t}(g.PureComponent);F.propTypes={query:(0,_.shape)({range:_.string,startDate:_.date,endDate:_.date}).isRequired,locale:_.string.isRequired,onClose:_.func.isRequired,r2bParams:(0,_.shape)({domainId:_.string.isRequired,subAccountId:_.string.isRequired,r2bJwt:_.string.isRequired}).isRequired},t.default=F,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(2),u=n(26),c=r(u),d=n(5),p=n(43),f=function(e){return o.default.createElement(p.Button,(0,s.default)({className:"admin-dashboard__deep-dive"},e),o.default.createElement(d.Icon,{className:"gs-diver-head gs-2x margin-r-xxs"}),c.default.t("Deep Dive"))};f.propTypes={href:l.string,onClick:l.func},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(30),g=r(h),v=n(1259),_=r(v),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"getPath",value:function(){var e={to:"react.author.report",params:[{reportId:this.props.reportId}],query:this.props.dateRange};try{return g.default._generatePathForHybridLink(e)}catch(e){return console.error("Unable to generate path for HybridLink:",e&&e.stack||e),null}}},{key:"render",value:function(){var e=this.getPath();return e&&f.default.createElement(_.default,{href:decodeURIComponent(e)})}}]),t}(p.PureComponent);y.propTypes={reportId:m.string,dateRange:(0,m.shape)({range:m.string,start_date:m.date,end_date:m.date})},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(11),o=r(i),l=n(437),u=r(l),c=n(3);t.default=s.default.createClass({displayName:"Explainer",propTypes:{endDate:c.string.isRequired,children:c.node.isRequired},close:function(){this.refs.explainer.close()},render:function(){var e=(0,o.default)(this.props.endDate).format("ll"),t=s.default.Children.toArray(this.props.children);return s.default.createElement(u.default,{ref:"explainer",alwaysShowButton:!0,closeHelp:I18n.t("Hide Explanation")},s.default.createElement("h3",{className:"admin-dashboard-hero__title"},I18n.t("Team Completion Rate")),s.default.createElement("p",{className:"explainer__caption"},I18n.t("This represents the completion rate of every learner in your team. A learner's completion percentage is determined by their total number of completions (as of %{date}) compared to their total number of enrollments (since account creation).",{date:e})),s.default.createElement("div",{className:"explainer__examples"},s.default.createElement("div",{className:"explainer__example"},t[0],s.default.createElement("h4",null,I18n.t("Team vs Company Averages")),s.default.createElement("p",null,I18n.t("Your team's average completion compared to the average of all learners in your company."))),s.default.createElement("div",{className:"explainer__example"},t[1],s.default.createElement("h4",null,I18n.t("Size = Number Enrollments")),s.default.createElement("p",null,I18n.t("Avatar scale reflects the total number of course enrollments. Size shown represents current selection but will vary by selection."))),s.default.createElement("div",{className:"explainer__example"},t[2],s.default.createElement("h4",null,I18n.t("Overflow Indicator")),s.default.createElement("p",null,I18n.t("Represents all additional learners (not shown) that also share the same completion percentage.")))))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(23),v=r(g),_=n(56),y=n(71),b=n(75),E=n(11),C=r(E),I=n(1263),T=r(I),N=n(58),S=r(N),x=n(2185),A=r(x),k=n(743),w=r(k),R=n(111),O=r(R),P=n(1261),L=r(P),M=n(2187),D=r(M),U=n(2186),F=r(U),q=n(5),B=n(65),j=n(267),H=n(98),G=r(H),W=n(319),V=r(W),Y=n(4),z=n(48),K=n(2191),Q=r(K),$=n(107),X=r($),J=n(2192),Z=n(2),ee=["nikki-sixx","dee-snider","david-lee-roth","axl-rose"],te=10,ne=void 0,re=void 0,ae=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={overflowCount:19,multiSelect:!1,multiSelectUserList:[]},n.popupProxy=(0,T.default)(e.svgWidth,e.margin),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.popupProxy.setPopup(this.refs.popup),this.setState({svg:(0,_.select)(v.default.findDOMNode(this)).select("svg.hero-canvas")},this.drawWidget.bind(this))}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.state,a=r.svg,s=r.multiSelect;if((0,Y.isEqual)(e.results,this.props.results)&&(0,Y.isEqual)(e.accountCompletionCounts,this.props.accountCompletionCounts)&&(0,Y.isEqual)(e.teamCompletionCounts,this.props.teamCompletionCounts)||this.drawWidget(),!t.multiSelect&&s){var i=a.selectAll(".data-g").nodes().map(function(e){return[e.__data__.y,e.__data__.r]});(0,J.start)({svg:a,extent:{x0:this.props.margin,x1:this.props.svgWidth-this.props.margin,y0:(0,y.min)(i,function(e){return e[0]-e[1]})-5,y1:(0,y.max)(i,function(e){return e[0]+e[1]})+5},onSelect:this.multiSelectSelectionHappened.bind(this),onCancel:function(){return n.setState({multiSelect:!1})}})}t.multiSelect&&!s&&(0,J.end)()}},{key:"shouldComponentUpdate",value:function(e,t){var n=(0,Y.isEqual)(this.props,e)&&this.state.multiSelect===t.multiSelect&&this.state.multiSelectUserList.length===t.multiSelectUserList.length&&(0,Y.isEqual)(this.state.largeAvatar,t.largeAvatar)&&(0,Y.isEqual)(this.state.smallAvatar,t.smallAvatar);return!n}},{key:"turnOnMultiSelect",value:function(){this.setState({multiSelect:!0}),this.refs.explainer.close()}},{key:"multiSelectSelectionHappened",value:function(){var e=(0,J.action)(),t=e.selected,n=e.noEmail,r={multiSelect:!1};t.length>0&&(r.multiSelectUserList=t,r.multiSelectUnEmailable=n,r.originalBodyOverflow=document.body.style.overflow),this.setState(r),document.body.style.overflow="hidden"}},{key:"closeOverlay",value:function(){this.setState({multiSelectUserList:[]}),document.body.style.overflow=this.state.originalBodyOverflow}},{key:"renderHeroCaption",value:function(){var e=(0,C.default)(this.props.endDate).format("ll");return I18n.t("As of %{date}",{date:e})}},{key:"noEmailCautionMessage",value:function(e){return 0===e?null:I18n.t({one:"*One selected learner will not receive this* due to disabled notifications or no email address",other:"*%{count} selected learners will not receive this* due to disabled notifications or no email address"},{count:e,wrappers:["<b>$1</b>"]}).string}},{key:"render",value:function(){var e=this.props,t=e.svgWidth,n=e.svgHeight,r=this.state,a=r.overflowCount,i=r.largeAvatar,o=r.smallAvatar,l="0 "+-n/2+" "+t+" "+n,u=100*n/t+"%",c=!!this.props.accountCompletionCounts;return h.default.createElement("div",{className:"admin-dashboard-hero","data-capybara":"admin-dashboard-hero"},h.default.createElement("div",{className:"admin-dashboard-hero__title"},I18n.t("Team Completion Rate")),h.default.createElement("div",{className:"admin-dashboard-hero__caption"},this.renderHeroCaption()),h.default.createElement("div",{className:"dashboard-viz--hero-canvas",style:{paddingTop:u}},c&&h.default.createElement(A.default,(0,s.default)({},this.props,{svgHeight:80,showPopup:!this.state.multiSelect})),h.default.createElement(O.default,{ref:"popup",content:this.popupProxy.getPopupContent(),positioningAnchor:this.popupProxy.getAnchor(),reactivePositioning:!0,popupClassName:"hero-popup hero-popup--main",popupOptions:this.popupProxy.getPopupOptions()},h.default.createElement("svg",{viewBox:l,preserveAspectRatio:"xMidYMid meet",id:"canvas",className:"hero-canvas"},h.default.createElement("defs",null,h.default.createElement(G.default.AxlRoseGradient,null),h.default.createElement(G.default.DavidLeeRothGradient,null),h.default.createElement(G.default.DeeSniderGradient,null),h.default.createElement(G.default.NikkiSixxGradient,null),h.default.createElement(G.default,{id:"center-gradient",color1:z.PINK,color2:z.LIGHT_GREEN}))))),X.default.get("notifications")&&h.default.createElement("div",{className:"margin-b-xs",key:"message_multi_user_0"},h.default.createElement("button",{disabled:this.state.multiSelect,className:"admin-dashboard__button",type:"button",onClick:this.turnOnMultiSelect.bind(this)},h.default.createElement(q.Icon,{className:"gs-message gs-1x",label:"message"}),"",I18n.t("Message"))),h.default.createElement(w.default,{key:"message_multi_user_1",ref:"messageoverlay",overlayOpen:this.state.multiSelectUserList.length>0,cautionMessage:this.noEmailCautionMessage(this.state.multiSelectUnEmailable),users:this.state.multiSelectUserList,closeOverlay:this.closeOverlay.bind(this)}),c&&h.default.createElement(L.default,{ref:"explainer",endDate:this.props.endDate},h.default.createElement(A.default,(0,s.default)({},this.props,{svgWidth:215,svgHeight:70,margin:25,showLabels:!1,showScale:!1,tickCount:3,showPopup:!1})),h.default.createElement(F.default,{largeAvatar:i,smallAvatar:o}),h.default.createElement(D.default,{overflowCount:a})))}},{key:"startPopup",value:function(e){this.state.multiSelect||(this.popupProxy.onMouseEnterResult(e),this.forceUpdate())}},{key:"minRadius",value:function(){return 10}},{key:"maxRadius",value:function(){return(0,y.min)([250*te/this.props.results.length,30])}},{key:"drawWidget",value:function(){var e=this.props,t=e.results,n=e.svgWidth,r=e.margin,a=this.state.svg;if(t){a.selectAll("g").remove();var s=(0,b.scaleLinear)().domain([0,1]).range([r,n-r]);this.renderCenterLine(),this.renderCircles(s),(0,J.end)(),this.setState({multiSelect:!1})}}},{key:"renderCircles",value:function(e){var t=this,n=(0,Y.cloneDeep)(this.props.results),r=this.state.svg,a=(0,y.mean)(n,function(e){return e.completedEnrollments/e.totalEnrollments}),s=0,i=void 0,o=(0,b.scaleLinear)().domain([0,(0,y.max)(n,function(e){return e.totalEnrollments})]).range([this.minRadius(),this.maxRadius()]);n.forEach(function(n){n.name||(n.name=n.uid),n.initx=e(a),n.x=e(n.completedEnrollments/n.totalEnrollments),n.inity=n.y=1.2*-t.maxRadius(),n.r=o(n.totalEnrollments),n.lab=n.name,n.margin=s,n.domID="result-"+n.id,n.url=(0,B.userUrl)(n.avatarUrl,n.email,2*n.r,!0)});var l=(0,y.max)(n,function(e){return e.r});ne=l+80,re=l+35,n.sort(function(e,t){return e.r>t.r?-1:e.r<t.r?1:0});var u={x0:e(0),y0:-this.props.svgHeight/2+ne,x1:e(1),y1:this.props.svgHeight/2-re},c=(0,Q.default)(n,u);c.filter(function(e){return e.overflow}).forEach(function(e,t){e.lab="+"+e.overflow,e.domID="overflow-"+(t+1)}),i=r.selectAll(".data-g").data(c).enter().append("g").attr("class","data-g").on("mouseenter",this.startPopup.bind(this)).on("touchstart",this.startPopup.bind(this)).on("mouseleave",function(){t.state.multiSelect||t.popupProxy.onMouseLeaveResult().then(function(){return t.forceUpdate()}).catch(function(){})}).classed("overflow",function(e){return e.overflow}).attr("transform",function(e){return"translate("+(e.initx||e.x)+","+(e.inity||e.y)+")"}),i.filter(function(e){return!(0,S.default)(e.url)}).append("defs").append("pattern").attr("id",function(e){return e.id+"-avatar"}).attr("width",1).attr("height",1).attr("x",0).attr("y",0).append("image").attr("x",0).attr("y",0).attr("width",function(e){return 2*e.r}).attr("height",function(e){return 2*e.r}).attr("xlink:href",function(e){return e.url}),i.append("circle").attr("class","dashboard-viz--avatar-outline").attr("r",function(e){return e.r+2}),i.append("circle").attr("r",function(e){return e.r}).attr("class","data-circle").attr("fill",function(e){return e.overflow?z.BLUE_GREY:"url(#"+(0,j.getUniqueClassName)(e.id,ee)+")"}),i.append("text").attr("text-anchor","middle").attr("class","circle-label").style("font-size",function(e){var t=0;return e.overflow&&e.overflow<10?t=-2:e.overflow&&e.overflow>=100&&(t=-3),.875*e.r+t+"px"}).attr("id",function(e){return e.domID}).attr("dy","0.32em").text(function(e){return e.overflow?e.lab:(0,V.default)(e.lab)}),i.filter(function(e){return!(0,S.default)(e.url)}).append("circle").attr("r",function(e){return e.r}).attr("fill",function(e){return"url(#"+e.id+"-avatar)"}),r.selectAll(".data-g").transition().delay(function(e,t){return 15*t}).duration(1e3).attr("transform",function(e){return"translate("+e.x+","+e.y+")"});var d=r.select(".overflow text");d.size()>0&&this.setState({overflowCount:parseInt(d.text(),10)});var p=r.selectAll(".data-g:not(.overflow)");if(p.size()>0){var f=p.data();this.setState({largeAvatar:f[0],smallAvatar:f[f.length-1]})}}},{key:"renderCenterLine",value:function(){var e=this.props,t=e.svgWidth,n=e.margin,r=this.state.svg,a=3;r.append("g").attr("class","center-g").append("rect").attr("x",n/2).attr("y",-a/2).attr("width",t-n).attr("height",a).attr("fill","url(#center-gradient)")}}]),t}(m.Component);ae.propTypes={svgWidth:Z.number.isRequired,svgHeight:Z.number.isRequired,margin:Z.number.isRequired,spaceBetweenCircles:Z.number.isRequired,results:(0,Z.arrayOf)(n(627)),accountCompletionCounts:(0,Z.shape)({totalEnrollments:Z.number.isRequired,completedEnrollments:Z.number.isRequired,totalLearners:Z.number}).isRequired,teamCompletionCounts:(0,Z.shape)({totalEnrollments:Z.number.isRequired,completedEnrollments:Z.number.isRequired,totalLearners:Z.number}).isRequired,startDate:Z.string.isRequired,endDate:Z.string.isRequired,locale:Z.string.isRequired},ae.defaultProps={svgWidth:800,svgHeight:485,margin:60,spaceBetweenCircles:5},t.default=ae,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EXIT_DELAY=t.ENTER_DELAY=void 0;var a=n(9),s=r(a),i=n(1),o=r(i),l=n(75),u=n(4),c=n(25),d=r(c),p=n(2188),f=r(p),m=n(2189),h=r(m),g=n(2184),v=r(g),_=250,y=300,b={hide:{event:"unfocus"},position:{my:"bottom center",at:"top center",adjust:{x:2,y:0}},show:{event:!1},style:{def:!1,tip:{border:0,width:32,height:20}}};t.ENTER_DELAY=_,t.EXIT_DELAY=y,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=null,a=null,i=null,c=!1;return{setPopup:function(e){if(null===e)throw new Error("PopupProxy needs a valid object.");n=e},onMouseEnterResult:function(e){n.close(),window.clearTimeout(a),window.clearTimeout(i),r=e,a=window.setTimeout(function(){n.open()},_)},onMouseLeaveResult:function(){return new d.default(function(e,t){i=window.setTimeout(function(){return c?t():(n.close(),e())},y)})},onMouseEnterPopup:function(){c=!0},onMouseLeavePopup:function(){i=window.setTimeout(function(){n.close()},y),c=!1},getPopupContent:function(){var n=this.onMouseEnterPopup.bind(this),a=this.onMouseLeavePopup.bind(this);return o.default.createClass({render:function(){if(null===r)return null;if((0,u.has)(r,"averageType"))return o.default.createElement(v.default,(0,s.default)({},r,{onMouseEnter:n,onMouseLeave:a}));if((0,u.has)(r,"overflow")){var i=(0,l.scaleLinear)().domain([t,e-t]).range([0,100]);return o.default.createElement(h.default,(0,s.default)({},r,{scale:i,onMouseEnter:n,onMouseLeave:a}))}return o.default.createElement(f.default,(0,s.default)({},r,{onMouseEnter:n,onMouseLeave:a}))}})},getAnchor:function(){return r&&(0,u.has)(r,"domID")?"#"+r.domID:""},getPopupOptions:function(){return b}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2197),h=r(m),g=n(2198),v=r(g),_=n(743),y=r(_),b=n(58),E=r(b),C=n(1268),I=n(3),T=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={messageUserList:[]},r.openOverlay=function(e){var t=function(e){return e.unsubscribed||(0,E.default)(e.email)||0===e.email.length},n=function(e){return{id:e.id,name:e.name,avatarUrl:e.avatarUrl,email:e.email}};r.setState({messageUserList:e.filter(function(e){return!t(e)}).map(n),unEmailable:e.filter(t).length})},r.closeOverlay=function(){r.setState({messageUserList:[]})},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"noEmailCautionMessage",value:function(e){return 0===e?null:I18n.t({one:"*One selected learner will not receive this* due to disabled notifications or no email address",other:"*%{count} selected learners will not receive this* due to disabled notifications or no email address"},{count:e,wrappers:["<b>$1</b>"]}).string}},{key:"render",value:function(){return f.default.createElement("div",{className:"mobile-dashboard"},f.default.createElement(h.default,{accountCompletionRate:(0,C.completionAverage)(this.props.accountCompletionCounts),teamCompletionRate:(0,C.completionAverage)(this.props.teamCompletionCounts)}),f.default.createElement(v.default,{users:this.props.results,messageStart:this.openOverlay}),f.default.createElement(y.default,{key:"message_multi_user_1",ref:"messageoverlay",overlayOpen:this.state.messageUserList.length>0,cautionMessage:this.noEmailCautionMessage(this.state.unEmailable),users:this.state.messageUserList,closeOverlay:this.closeOverlay}))}}]),t}(p.Component);T.propTypes={results:(0,I.arrayOf)(n(627)),accountCompletionCounts:(0,I.shape)({totalEnrollments:I.number.isRequired,completedEnrollments:I.number.isRequired,totalLearners:I.number}).isRequired,teamCompletionCounts:(0,I.shape)({totalEnrollments:I.number.isRequired,completedEnrollments:I.number.isRequired,totalLearners:I.number}).isRequired},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(3),u=n(65),c=r(u),d=n(13),p=r(d),f=function(e){var t=e.person;return o.default.createElement("div",{className:"dashboard-viz--avatar-divhalo hero-popup-avatar-row"},o.default.createElement(c.default,(0,s.default)({},t,{className:"hero-popup-avatar-row--avatar dashboard-viz--avatar-divhalo__avatar left margin-r-s"})),o.default.createElement("span",{className:"dashboard-viz--avatar-divhalo__label avatar__label"},o.default.createElement(p.default,{className:"block blue-grey",to:"author.learner",params:[{id:t.id}],children:t.name})))};f.propTypes={person:l.object.isRequired},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=i.densifyDaysOfWeek(n);return r[e]=t,r}var a=n(21),s=n(96),i=n(434),o=n(1405),l=n(2209),u=n(4),c=u.assign,d=Object.freeze({csvDays:[],csvTime:"12 AM"}),p=a({displayName:"ImportProfileStore",schema:n(628),storeOptions:{defaultCacheOptions:{idGenerator:function(){return"singleton"}}},initialize:function(){s.throttle(this,10)},fetch:function(){var e=this;o().then(function(t){e.cache.add(t)})},updateTime:function(e){var t=this,n=this.cache.get("singleton"),r=c({},n,{csvTime:e});this.cache.transaction(function(){return t.cache.add(r),l({csvDays:r.csvDays,csvTime:r.csvTime})})},updateDay:function(e,t){var n=this,a=this.cache.get("singleton")||{},s=c({},a,{csvDays:r(e,t,a.csvDays)});this.cache.transaction(function(){return n.cache.add(s),l({csvDays:s.csvDays,csvTime:s.csvTime})})},getSchedule:function(){var e=this.cache.get("singleton");return e?{csvDays:e.csvDays,csvTime:e.csvTime}:d}});e.exports=p},function(e,t,n){"use strict";var r=n(2208),a=n(2207),s=n(21),i=n(305),o=n(4),l=o.assign,u=n(224),c="import_objects#update",d={},p=s({displayName:"ImportStore",schema:n(218),DEFAULT_FETCH_FREQUENCY:3e4,storeOptions:{defaultCacheOptions:{idGenerator:function(){return"singleton"}}},initialize:function(){i.subscribe(c,this.handlePush.bind(this)),this.timeout=this.DEFAULT_FETCH_FREQUENCY},clear:function(){this.unscheduleFetch(),i.unsubscribe(c)},sync:function(){return r()},scheduleFetch:function(e){var t=this;this.unscheduleFetch(),this.timeout=e||this.DEFAULT_FETCH_FREQUENCY,this.poller=setTimeout(function(){t.fetchLatest().then(t.scheduleFetch.bind(t))},this.timeout)},unscheduleFetch:function(){
this.poller&&(clearTimeout(this.poller),this.poller=null)},getTimeoutPeriod:function(){return this.timeout},fetchLatest:function(){var e=this;return a().then(function(t){t&&e.cache.add(t)})},handlePush:function(e,t){this.cache.add(a.parse({imports:[l({id:t.id},e)]}))},optimisticUpdate:function(e){this.cache.add(u(this.getLastSync(),e))},getLastSync:function(){return this.cache.get("singleton")||d}});e.exports=p},function(e,t){"use strict";function n(e){return e&&e.totalEnrollments>0?e.completedEnrollments/e.totalEnrollments:void 0}function r(e){return e.totalLearners&&e.totalLearners>0?e.totalEnrollments/e.totalLearners:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.completionAverage=n,t.enrollmentsAverage=r},function(e,t,n){"use strict";var r=n(31),a=n(7);e.exports=function(){return a({url:"/api/admin/slack_integration",type:"DELETE"}).then(function(e){r.set("DOMAIN.config.slack",e.slack_config)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.reduce(function(e,t){var n=e.find(function(e){return e.audience===t.audience})||{audience:t.audience,categories:[]},r=n.categories.find(function(e){return e.category===t.category})||{category:t.category,notifications:[]},a=[].concat((0,u.default)(r.notifications),[t]),s=[].concat((0,u.default)(n.categories.filter(function(e){return e.category!==t.category})),[(0,o.default)({},r,{notifications:a})]);return[].concat((0,u.default)(e.filter(function(e){return e.audience!==t.audience})),[(0,o.default)({},n,{categories:s})])},[])}function s(e){return c[e]||"gs-books"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=r(i),l=n(139),u=r(l);t.toNotificationStructure=a,t.iconClassName=s;var c={Checkpoints:"gs-tasks",Courses:"gs-book","Live Training":"gs-in-class",People:"gs-users",Programs:"gs-books",Retain:"gs-brain",Surveys:"gs-surveys","User Account":"gs-user"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({enabled:r.bool,replyTo:r.string,fromLabel:r.string}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({enabled:r.bool}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(111),l=n(2229),u=n(4),c=u.omit,d=n(3),p=d.any,f=d.func,m=i.createClass({displayName:"PermissionEditorPopup",propTypes:{roles:l.propTypes.roles,updatePermission:f,resetDefaults:f,onPopupClose:f,onPopupOpen:f,children:p},getDefaultProps:function(){return{roles:[],updatePermission:Function.protoype,resetDefaults:Function.protoype}},render:function(){var e={position:{my:"top right",at:"top right",adjust:{x:-12,y:-12}},style:{tip:!1},hide:{event:"unfocus"}};return i.createElement(o,(0,s.default)({ref:"popup",popupClassName:"permission-editor__popup",content:l,popupOptions:e,onClose:this.closePopup,onRestore:this.handleRestore,autoFocus:".permission-editor__close-popup-btn"},c(this.props,["children"])),this.props.children)},closePopup:function(){this.refs.popup.close()},handleRestore:function(){this.props.resetDefaults(),this.closePopup()}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(6),o=n(2),l=o.string,u=o.bool,c=r.createClass({displayName:"RolePill",propTypes:{id:l,name:l,isAllowed:u,locked:u,changed:u},getDefaultProps:function(){return{id:"",name:"",isAllowed:!1,locked:!1,changed:!1}},classes:function(){return i({"role-pill":!0,"role-pill--changed":this.props.changed})},render:function(){return r.createElement("div",{className:this.classes()},r.createElement("span",{className:"role-pill__name","data-capybara":"role-pill-name"},this.props.name)," ",this.props.locked&&this.renderLock())},renderLock:function(){return r.createElement(s,{className:"gs-1x gs-lock"})}});e.exports=c},function(e,t,n){"use strict";var r=n(1276),a=n(642);t.updatePermission=function(e){var t=e.categoryId,n=e.groupId,a=e.permissionId,s=e.roleId,i=e.newIsAllowed;return r.update(t,n,a,s,i)},t.updatePermissionGroup=function(e){var t=e.categoryId,n=e.groupId,a=e.roleId,s=e.newIsAllowed;return r.updateGroup(t,n,a,s)},t.resetDefaults=function(e){var t=e.categoryId,n=e.groupId,a=e.permissionIds;return r.resetDefaults({categoryId:t,groupId:n,permissionIds:a})},t.createCustomRole=function(e){var t=e.name,n=e.basisRoleId;return a.create({name:t,basisRoleId:n}).then(function(e){r.addRoleWithPermissionsFromBasis({role:e,basisRoleId:n})})},t.deleteCustomRole=function(e){var t=e.roleId;return a.delete({roleId:t}).then(function(){r.removeRole({roleId:t})})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.roleId,n=e.permissionIds,r=e.isCreate;return r?(0,f.default)({roleId:t,permissionIds:n}):(0,h.default)({roleId:t,permissionIds:n})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(21),i=r(s),o=n(4),l=n(197),u=r(l),c=n(3185),d=r(c),p=n(3114),f=r(p),m=n(3131),h=r(m),g=n(3232),v=r(g),_=(0,i.default)({displayName:"PermissionsStore",schema:n(459),fetchAll:function(){var e=this;return(0,d.default)().then(function(t){return e.cache.setCollection({},t),t})},getAll:function(){return this.cache.getCollection({})},updateGroup:function(e,t,n,r){var s=this.cache,i=s.get(e),l=(0,u.default)(i.groups,"id",t),c=l.permissions.map(function(e){var t=(0,u.default)(e.roles,"id",n);return(0,o.assign)(t,{isAllowed:r,changed:!t.changed}),e.id});return s.transaction(function(){return s.add(i),a({roleId:n,permissionIds:c,isCreate:r})})},update:function(e,t,n,r,s){var i=this.cache,l=i.get(e),c=(0,u.default)(l.groups,"id",t),d=(0,u.default)(c.permissions,"id",n),p=(0,u.default)(d.roles,"id",r);return(0,o.assign)(p,{isAllowed:s,changed:!p.changed}),i.transaction(function(){return i.add(l),a({roleId:r,permissionIds:[n],isCreate:s})})},resetDefaults:function(e){var t=this,n=e.categoryId,r=e.groupId,a=e.permissionIds,s=this.cache.get(n),i=(0,u.default)(s.groups,"id",r);return a.forEach(function(e){var t=(0,u.default)(i.permissions,"id",e);t.roles.forEach(function(e){e.static&&e.changed&&(0,o.assign)(e,{isAllowed:!e.isAllowed,changed:!1})})}),this.cache.transaction(function(){return t.cache.add(s),(0,v.default)(a)})},addRoleWithPermissionsFromBasis:function(e){var t=e.role,n=e.basisRoleId,r=this.cache.getCollection({});r.forEach(function(e){e.groups.forEach(function(e){e.permissions.forEach(function(e){var r=e.roles.filter(function(e){return e.id===n})[0],a=(0,o.assign)({},r,t,{locked:!1,changed:!0,static:!1});e.roles.push(a)})})}),this.cache.setCollection({},r)},removeRole:function(e){var t=e.roleId,n=this.cache.getCollection({});n.forEach(function(e){e.groups.forEach(function(e){e.permissions.forEach(function(e){e.roles=e.roles.filter(function(e){return e.id!==t})})})}),this.cache.setCollection({},n)}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(29),s=n(4),i=s.assign,o=n(2265),l=n(1278),u=n(1279),c=n(3),d=c.func,p=r.createClass({displayName:"Form",propTypes:{subAccount:n(83),dns:n(191),onSubmit:d},getDefaultProps:function(){return{subAccount:{},onSubmit:Function.prototype}},getInitialState:function(){return{subAccount:this.props.subAccount}},componentWillReceiveProps:function(){this.setState({subAccount:this.props.subAccount})},componentWillUpdate:function(e){e.subAccount!==this.props.subAccount&&this.setState({subAccount:e.subAccount})},handleChange:function(e){this.setState({subAccount:i(this.state.subAccount,e)})},handleSubmit:function(){this.props.onSubmit(this.state.subAccount)},render:function(){var e=this.state.subAccount,t=!e.id||a("sub_account_update",e.id);return r.createElement("div",{className:"large-content-area--padded centered"},r.createElement(l,null,r.createElement(o,{subAccount:e,dns:this.props.dns,onChange:this.handleChange})),t&&r.createElement(u,{onClick:this.handleSubmit,children:e.id?I18n.t("Update"):I18n.t("Create")}))}});e.exports=p},function(e,t,n){"use strict";var r=n(2),a=n(1),s=a.createClass({displayName:"FormContainer",propTypes:{children:r.node.isRequired},render:function(){return a.createElement("div",{className:"sub-account__form-container","data-capybara":"sub-account__form-container"},a.createElement("div",{className:"sub-account__form padding-r-xxl"},this.props.children))}});e.exports=s},function(e,t,n){"use strict";var r=n(2),a=n(1),s=a.createClass({displayName:"FormSaveButton",propTypes:{onClick:r.func.isRequired,children:r.node.isRequired},render:function(){return a.createElement("button",{type:"submit",className:"sub-account-save-btn btn filled block margin-b-m",onClick:this.props.onClick},this.props.children)}});e.exports=s},function(e,t,n){"use strict";var r=n(1),a=n(29),s=n(102),i=n(54),o=n(2263),l=n(3),u=l.func,c=r.createClass({displayName:"Header",propTypes:{subAccount:n(83),onChange:u,onDisable:u},getDefaultProps:function(){return{subAccount:{},onChange:Function.prototype,onDisable:Function.prototype}},render:function(){var e=this.props.subAccount,t=e.id&&e.isActive&&a("sub_account_disable");return r.createElement(s,{type:"sub-account",hasIcon:!1},r.createElement(i,{name:"layout--item-header__details"},r.createElement("div",null,r.createElement("h1",{className:"sub-account-header__title margin-none light leading-normal","data-capybara":"sub-account-create-header"},e.name||I18n.t("Create Sub Account")))),r.createElement(i,{name:"layout--item-header__actions"},t&&r.createElement(o,{id:e.id,courseCount:e.courseCount,name:e.name,onDisable:this.props.onDisable,userCount:e.userCount})))}});e.exports=c},function(e,t,n){"use strict";var r=n(21),a=n(2275),s=n(2267),i=n(2270),o=r({displayName:"SubAccountAdminStore",schema:n(382),fetchAll:function(e){var t=this;return a(e).then(function(n){t.cache.setCollection({subAccountId:e},n)})},getAll:function(e){return this.cache.getCollection({subAccountId:e})},create:function(e,t){var n=this;return s(e,t).then(function(t){n.cache.addToCollection({subAccountId:e},[t])})},delete:function(e,t){return this.cache.remove(t),i(e,t)}});e.exports=o},function(e,t,n){"use strict";var r=n(21),a=n(2277),s=n(2269),i=n(2272),o=r({displayName:"SubAccountTokenStore",schema:n(245),fetchAll:function(e){var t=this;return a(e).then(function(n){t.cache.setCollection({subAccountId:e},n)})},getAll:function(e){return this.cache.getCollection({subAccountId:e})},create:function(e,t){return s(e,t)},destroy:function(e,t){var n=this;this.cache.transaction(function(){return n.cache.remove(t),i(e,t)})}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(38),i=r(s),o=n(2),l=r(o),u=n(1),c=r(u),d=n(5),p=n(28),f=r(p),m=n(578),h=n(12),g=(a={},(0,i.default)(a,h.LEARNING_ITEM_COURSE_TYPE,"gs-book"),(0,i.default)(a,h.LEARNING_ITEM_LIVE_COURSE_TYPE,"gs-in-class"),(0,i.default)(a,h.LEARNING_ITEM_TASK_TYPE,"gs-tasks"),(0,i.default)(a,h.LEARNING_ITEM_PROGRAM_TYPE,"gs-books"),a);t.default=c.default.createClass({displayName:"LearnableStatus",propTypes:{learnableType:l.default.oneOf([h.LEARNING_ITEM_COURSE_TYPE,h.LEARNING_ITEM_LIVE_COURSE_TYPE,h.LEARNING_ITEM_TASK_TYPE,h.LEARNING_ITEM_PROGRAM_TYPE]).isRequired,status:l.default.oneOf([m.LEARNABLE_LIST_ITEM_STATE_ALERT,m.LEARNABLE_LIST_ITEM_STATE_ACTIVE,m.LEARNABLE_LIST_ITEM_STATE_INACTIVE]).isRequired},render:function(){var e=(0,f.default)("learnable-status",g[this.props.learnableType],{"brand-color":this.props.status===m.LEARNABLE_LIST_ITEM_STATE_ACTIVE});return c.default.createElement(d.Icon,{className:e})}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.urgentCount>0?r.LEARNABLE_LIST_ITEM_STATE_ALERT:e.pendingCount>0?r.LEARNABLE_LIST_ITEM_STATE_ACTIVE:r.LEARNABLE_LIST_ITEM_STATE_INACTIVE};var r=n(578);e.exports=t.default},function(e,t){"use strict";e.exports={path:"/author/courses/:courseId/preview",name:"author.courses.preview"}},function(e,t){"use strict";e.exports={path:"/author/courses/:courseId/preview/:slideId",name:"author.courses.slides.preview"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2328),o=r(i),l=n(106),u=r(l),c=n(147),d=r(c),p=n(29),f=r(p),m=n(6),h=r(m),g=n(19),v=r(g),_=n(314),y=n(2),b=n(4),E=s.default.createClass({displayName:"PreviewScreen",propTypes:{course:y.object,courseId:y.string.isRequired,slideId:y.string,onClickPreview:y.func.isRequired,onSlideTransition:y.func.isRequired,editingMode:y.bool},getInitialState:function(){return{slideIsRefreshable:!1}},onMessage:function(e){e.origin===location.origin&&(e.data.courseId?((0,v.default)(I18n.t("This slide is currently not presentable."),{type:"error"}),this.props.onClickPreview()):e.data.slideId?(this.setState({slideIsRefreshable:!1}),this.props.onSlideTransition(this.props.courseId,e.data.slideId)):e.data.hasOwnProperty("slideIsRefreshable")&&this.setState({slideIsRefreshable:e.data.slideIsRefreshable}))},getPermissions:function(){return{can_create:(0,f.default)("course_template_create"),can_edit:(0,f.default)("course_template_update"),can_view:(0,f.default)("course_template_view")}},render:function(){var e=d.default.shouldShowCountdownToast(),t=(0,h.default)("course-preview--container",{"free-trial":e});return s.default.createElement("div",{className:t},s.default.createElement(o.default,{permissions:this.getPermissions(),hasUnpublishedChanges:this.isCourseDirty(),courseId:this.props.courseId,slideId:this.props.slideId,slideIsRefreshable:this.state.slideIsRefreshable,onClickPreview:this.props.onClickPreview,onMessage:this.onMessage,editingMode:this.props.editingMode,isArchived:(0,b.get)(this.props,"course.isArchived")}))},isCourseDirty:function(){return this.props.course&&this.props.course.hasUnpublishedChanges}});t.default=(0,u.default)(E,function(e){return I18n.t("Previewing: %{courseTitle}",{courseTitle:(0,_.getDisplayTitle)(e.course)})}),e.exports=t.default},function(e,t,n){"use strict";var r=n(2),a=n(1),s=a.createClass({displayName:"Header",propTypes:{children:r.any},render:function(){return a.createElement("div",{className:"sortable-table-header--first-item"},a.createElement("h2",{className:"margin-t-xs margin-b-s left"},I18n.t("Groups")),this.props.children)}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(24),u=r(l),c=n(22),d=r(c),p=n(2391),f=r(p),m=n(856),h=r(m),g=n(2367),v=r(g),_=n(2368),y=r(_),b=n(2370),E=r(b),C=n(2371),I=r(C),T=n(2372),N=r(T),S=n(2369),x=r(S),A=n(2376),k=r(A),w=n(133),R=r(w),O=n(5),P=n(27),L=r(P),M=n(6),D=r(M),U=n(37),F=r(U),q=n(3),B=n(48),j=n(4),H=["Uncompleted","1st","2nd","3rd","4+"],G=[B.LIGHT_GREY,"#25e9fb","#37c3f5","#4d84e0","#6038cd"],W=function(e,t){return e+t},V=function(e){if(!Array.isArray(e))return[];var t=H.length-1,n=e.slice(1,t),r=e.slice(t).reduce(W,0),a=n.reduce(W,0)+r;return r>0&&n.push(r),a>0?[0].concat(n.map(function(e){return e/a})):[]},Y=o.default.createClass({displayName:"QuizStatistics",mixins:[(0,F.default)({mobile:F.default.QUERY_MOBILE})],propTypes:{quizStatistics:(0,q.shape)(h.default),course:n(45),courseId:q.string.isRequired,showQuizReport:q.bool,isLoading:q.bool},getInitialState:function(){return{isAttemptsToCompleteExplainerVisible:!1,isLearnersFailedExplainerVisible:!1,showQuizReport:!1}},render:function(){return o.default.createElement("div",{className:"pure-g-r margin-tb-xl course-summary-dashboard__container"},o.default.createElement("div",{className:"pure-u-1"},this.props.showQuizReport&&this.renderExportLink(),o.default.createElement("h3",{className:"centered-h3"},I18n.t("Quiz Statistics"))),o.default.createElement("div",{key:"row-1",className:"course-summary-widget-row pure-u-1"},this.renderAttemptsToComplete(),this.renderLearnersFailed(),this.renderPermanentlyFailed()),o.default.createElement("div",{key:"row-2",className:"pure-u-1"},o.default.createElement(x.default,{course:this.props.course,courseId:this.props.courseId,isMobile:this.state.media.mobile}),""))},renderExportLink:function(){var e={id:"QuizReport",course_template_id:this.props.courseId};return o.default.createElement(R.default,{className:"padding-t-xs dark-grey right",type:"report",info:e,capybara:"export_quiz_responses"},o.default.createElement(O.Icon,{className:"gs-1x gs-export"}),o.default.createElement(L.default,{children:I18n.t("Quiz Response CSV")}))},renderAttemptsToComplete:function(){var e=this.props.quizStatistics.course,t=e.attemptsToComplete,n=e.enrollmentSummary,r=(0,D.default)("course-summary-widget-row__cell",{"course-summary-widget-row__cell-hover-enabled":!this.state.isAttemptsToCompleteExplainerVisible,"three-wide":this.quizLimitOn(),"two-wide":!this.quizLimitOn()});return o.default.createElement("div",{className:r},o.default.createElement("div",{className:"course-summary-widget-row__cell-container","data-capybara":"pass_attempts"},o.default.createElement("p",{className:"black text-center bold base-plus"},o.default.createElement(u.default,null,I18n.t("Attempts to Pass"))),o.default.createElement("p",{className:"dark-grey text-center medium small"},o.default.createElement(u.default,null,I18n.t("Segmented by which attempt number they passed"))),this.props.isLoading&&o.default.createElement("div",{className:"course-summary-dashboard__widget-loader-container"},o.default.createElement("div",{className:"loader-medium loader-7"})),!this.props.isLoading&&o.default.createElement(v.default,{data:V(t),dataLabels:H,colors:G,drawPercentCallouts:!0,drawLabelsOnPercents:!0}),o.default.createElement(y.default,(0,s.default)({onToggle:this.onAttemptsToPassExplainerToggle},n)),o.default.createElement(k.default,{courseId:this.props.courseId})))},renderLearnersFailed:function(){var e=this.props.quizStatistics.course.enrollmentSummary,t=(0,D.default)("course-summary-widget-row__cell",{"course-summary-widget-row__cell-hover-enabled":!this.state.isLearnersFailedExplainerVisible,"three-wide":this.quizLimitOn(),"two-wide":!this.quizLimitOn()});return o.default.createElement("div",{className:t},o.default.createElement("div",{className:"course-summary-widget-row__cell-container","data-capybara":"failed_learners"},o.default.createElement("p",{className:"black text-center bold base-plus"},o.default.createElement(u.default,null,I18n.t("Required to Retake"))),o.default.createElement("p",{className:"dark-grey text-center medium small"},o.default.createElement(u.default,null,I18n.t("Learners who failed and may still retake course"))),this.props.isLoading&&o.default.createElement("div",{className:"course-summary-dashboard__widget-loader-container"},o.default.createElement("div",{className:"loader-medium loader-7"})),!this.props.isLoading&&o.default.createElement(E.default,e),o.default.createElement(I.default,(0,s.default)({onToggle:this.onLearnersFailedExplainerToggle},e)),o.default.createElement(k.default,{enrollmentState:"failed",courseId:this.props.courseId})))},renderPermanentlyFailed:function(){return this.quizLimitOn()?o.default.createElement("div",{className:"course-summary-widget-row__cell three-wide"},o.default.createElement("div",{className:"course-summary-widget-row__cell-container"},o.default.createElement("p",{className:"black text-center bold base-plus"},o.default.createElement(u.default,null,I18n.t("No Attempts Left"))),o.default.createElement("p",{className:"dark-grey text-center medium small"},o.default.createElement(u.default,null,I18n.t("Learners that can no longer retake"))),this.props.isLoading&&o.default.createElement("div",{className:"course-summary-dashboard__widget-loader-container"},o.default.createElement("div",{className:"loader-medium loader-7"})),!this.props.isLoading&&o.default.createElement(N.default,{count:this.props.quizStatistics.course.enrollmentSummary.permanentlyFailed}))):null},onAttemptsToPassExplainerToggle:function(e){this.setState({isAttemptsToCompleteExplainerVisible:e})},onLearnersFailedExplainerToggle:function(e){this.setState({isLearnersFailedExplainerVisible:e})},quizLimitOn:function(){return!!this.props.course.maxQuizAttempts}}),z=function(e){return(0,j.assign)({},e.course.meta,{courseId:e.courseId})};e.exports=(0,d.default)({type:Y,blocking:!1,asyncProps:{quizStatistics:{fetch:function(e){return f.default.fetch(z(e))},get:function(e){return f.default.get(z(e))},shouldRefetch:function(e,t){return!(0,j.isEqual)(e.course,t.course)}}}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return{margin:{top:50,right:150,bottom:50,left:60},width:500,height:300,yAxisWidth:30,s:10,defaultRetain:[1,3,7,14,21,28]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o),u=n(23),c=n(56),d=n(4),p=n(75),f=n(561),m=n(258),h=n(134),g=r(h);t.default=l.default.createClass({displayName:"RetainChart",statics:a(),propTypes:{teamData:i.default.array},componentDidMount:function(){this.svg=(0,c.select)((0,u.findDOMNode)(this)),this.drawWidget()},componentDidUpdate:function(e){(0,d.isEqual)(e,this.props)||this.drawWidget()},render:function(){var e=this.constructor,t=e.width,n=e.height,r=e.margin,a=t+r.left+r.right,s=n+r.top+r.bottom;return l.default.createElement(g.default,{className:"bridge-retain-all-learner-chart",viewBox:-r.left+" "+-r.top+" "+a+" "+s,startingWidth:a,startingHeight:s,preserveAspectRatio:"xMidYMid meet"})},setupData:function(e){var t=this.constructor,n=t.height,r=t.width,a=t.s,s=t.defaultRetain,i=e[e.length-1].day,o=s[s.length-1],l=Math.max(i,o);this.x=(0,p.scaleLinear)().domain([0,l]).range([0,r]),this.y=(0,p.scaleLinear)().domain([0,100]).range([n,0]),this.retainData=[].slice.call(s),i>o&&this.retainData.push(i),this.retainData=this.retainData.map(function(e){return{day:e,score:100*Math.pow(Math.E,-e/a)}})},drawWidget:function(){var e=this.props.teamData,t=this.svg;if(t&&!(e.length<1)){t.selectAll("g").remove();var n=e.filter(function(e){return e.day<60});if(!(n.length<1)){this.setupData(n),this.drawAxis(),this.drawArea(n,{fillColor:"#A7E5FA",lineColor:"#80C3D9"}),this.drawArea(this.retainData,{fillColor:"#52899C",lineColor:"#DFEAED"});var r=n[n.length-1],a={day:r.day,score:100*Math.pow(Math.E,-r.day/this.constructor.s)};this.drawBubble(a,"#8F7C77",I18n.t("Typical Retention")),this.drawBubble(r,"#80C3D9",I18n.t("Your Team's Retention"))}}},drawArea:function(e,t){var n=t.fillColor,r=t.lineColor,a=this.svg,s=this.x,i=this.y,o=this.constructor.yAxisWidth,l=(0,f.path)();l.moveTo(s(0)+o,i(0)),l.lineTo(s(0)+o,i(100)),e.forEach(function(e){l.lineTo(s(e.day)+o,i(e.score))}),l.lineTo(s(e[e.length-1].day)+o,i(0)),a.append("path").style("stroke","none").style("fill",n).style("fill-opacity",.7).attr("d",l.toString());var u=(0,f.path)();u.moveTo(s(0)+o,i(100)),e.forEach(function(e){u.lineTo(s(e.day)+o,i(e.score))}),a.append("path").style("stroke",r).style("stroke-width",3).style("fill","none").attr("d",u.toString())},drawBubble:function(e,t,n){var r=this.svg,a=this.x,s=this.y,i=this.constructor.yAxisWidth,o=r.append("g").attr("transform","translate("+(a(e.day)+i)+", "+s(e.score)+")");o.append("circle").attr("r","25px").style("fill","#80C3D9").style("fill-opacity","0.4"),o.append("circle").attr("r","20px").attr("stroke","white").style("fill",t),o.append("text").text(Math.round(e.score)+"%").attr("fill","white").attr("font-size","14").attr("text-anchor","middle").attr("alignment-baseline","central"),o.append("text").attr("transform","translate(0,-35)").attr("text-anchor","middle").text(n)},drawAxis:function(){var e=this.constructor,t=e.margin,n=e.height,r=e.width,a=e.yAxisWidth,s=(0,m.axisBottom)(this.x).tickSizeOuter(0).tickPadding(10).tickSize(-n),i=(0,m.axisLeft)(this.y).tickValues([0,25,50,75,100]).tickSize(-r-a).tickSizeOuter(0).tickPadding(30),o=this.svg.append("g").attr("class","axis");o.append("g").attr("transform","translate("+a+", "+n+")").call(s),o.append("text").attr("class","axis-label").attr("transform","translate("+(r/2+a)+", "+(n+t.top-10)+")").style("text-anchor","middle").text(I18n.t("Elapsed days since learning"));var l=o.append("g").attr("transform","translate("+a+", 0)").call(i);l.selectAll("text").style("text-anchor","start").attr("transform","translate(3, -8)"),l.selectAll("line").attr("transform","translate(-"+a+", 0)"),o.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("y",-10).attr("x",0-n/2).style("text-anchor","middle").text(I18n.t("Percent Retention"))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(356);e.exports={get:function(e){return r.getEnrollments(e.params.courseId,e.query.sort,e.query.search,e.params.groupId)},setup:function(e){r.addChangeListener(e)},teardown:function(e){r.removeChangeListener(e)}}},function(e,t,n){"use strict";var r=n(356),a=n(29);e.exports={get:function(e){return a("user_view")?r.getLearners(e.params.courseId,e.query.sort,e.query.search,e.params.groupId):null},setup:function(e){r.addChangeListener(e)},teardown:function(e){r.removeChangeListener(e)}}},function(e,t,n){"use strict";var r=n(1),a=n(50),s=a.Table,i=a.Thead,o=a.Tbody,l=a.Tr,u=a.Th,c=n(27),d=n(52),p=n(12),f=p.COURSE_EXTERNAL_TYPE_SCORM,m=p.SEARCH_USERS,h=n(356),g=n(355),v=n(2380),_=n(366),y=n(19),b=n(3),E=b.array,C=b.arrayOf,I=b.func,T=b.string,N=b.bool,S=b.shape,x=n(34),A=r.createClass({displayName:"Enrollments",propTypes:{enrollments:E,onDelete:I,onEditorCancel:I,searcherName:T,isEnrolling:N,isLoading:N,searchResults:C(n(42)),learners:E,course:n(45),sort:T,search:T,permissions:S({enroll:N,unenroll:N,expire:N,update:N})},getInitialState:function(){return{sort:"name"}},getDefaultProps:function(){return{course:{},searcherName:m,enrollments:[],searchResults:[],isEnrolling:!1,isLoading:!1,permissions:{enroll:!1,unenroll:!1,expire:!1,update:!1}}},render:function(){var e=this.props,t=e.isEnrolling,n=e.course;return r.createElement("div",{className:"enrollment-list","data-capybara":"enrollment_list"},r.createElement("div",{className:"indigo"},r.createElement(d,{searchTerm:this.props.search,placeholderText:I18n.t("Search for enrolled learners")})),r.createElement(s,{onSort:this.sort,sort:this.state.sort,className:"enrollment-list-table"},r.createElement(i,{className:"enrollment-list-item__header"},r.createElement(l,null,r.createElement(u,{sortParam:"name",className:"enrollment-list-table__name"},I18n.t("Name")),r.createElement(u,{sortParam:"score"},I18n.t("Score")),n.expires&&r.createElement(u,{sortParam:"renewDate"},I18n.t("Expires")),r.createElement(u,{sortParam:"dueDate",className:"enrollment-list-table__due-date"},I18n.t("Due Date")),r.createElement(u,{sortParam:"required"},I18n.t("Enrollment")),r.createElement(u,{sortParam:"progress",className:"enrollment-list-table__progress"},I18n.t("Progress")),this.canExportMetadata()&&r.createElement(u,{className:"sortable-table__th--icon",sortable:!1},r.createElement(c,{children:I18n.t("Export Metadata")})),r.createElement(u,{className:"sortable-table__th--icon",sortable:!1},!!this.props.onDelete&&r.createElement(c,{children:I18n.t("Remove Enrollment")})))),r.createElement(o,null,t&&r.createElement(_,{searchColSpan:this.inlineEnrollmentEditorSearchColSpan(),searchResults:this.props.searchResults,searchMemberMessage:I18n.t("Already In Course"),searchMemberPendingMessage:I18n.t("Enrolled through Program. Select to Enroll Immediately."),isLoading:this.props.isLoading,onSearch:this.search,onEnroll:this.enroll,onCancel:this.props.onEditorCancel}),this.props.enrollments.map(this.renderEnrollment))),0===this.props.enrollments.length&&!t&&r.createElement("div",{className:"border-b border-grey centered padding-m"},r.createElement("p",{className:"text-center dark-grey no-enrollments-message","data-capybara":"no-enrollments-message"},this.props.search?I18n.t("There are no learners matching your criteria."):I18n.t("You haven't invited any learners yet."))))},renderEnrollment:function(e){var t=e.links.learner.id,n=this.props.learners.filter(function(e){return e.id===t})[0];return r.createElement(v,{key:"enrollment-"+e.id,enrollment:e,learner:n,course:this.props.course,onRemove:this.unenroll.bind(null,e.id),onMakeOptional:this.makeOptional.bind(null,e.id),onMarkComplete:this.markComplete,onResetEnrollment:this.resetEnrollment,onUpdateScore:this.updateEnrollmentScore,permissions:this.props.permissions})},sort:function(){},enroll:function(e){var t=this,n=this.props,r=n.sort,a=n.search,s=!!this.props.searchResults.filter(function(t){return t.id===e&&t.pendingMember}).length;g.enroll(this.props.course.id,e,r,a,s).then(function(){g.fetchCourse(t.props.course.id)}).catch(function(){y(I18n.t("Oh Snap! We were unable to add this learner. Please try again later."),{type:"error"})})},unenroll:function(e){var t=this;g.unenroll(e).then(function(){g.fetchCourse(t.props.course.id)}).catch(function(){y(I18n.t("Oh Snap! We were unable to remove this learner. Please try again later."),{type:"error"})})},makeOptional:function(e){return g.makeOptional(e).catch(function(){y(I18n.t("Oh Snap! We were unable to update this learner. Please try again later."),{type:"error"})})},markComplete:function(e){return h.completeEnrollment(e).catch(function(){y(I18n.t("Oh Snap! We were unable to mark this learner complete. Please try again later."),{type:"error"})})},resetEnrollment:function(e){return h.resetEnrollment(e).catch(function(){y(I18n.t("Oh Snap! We were unable to reset this learner's progress. Please try again later."),{type:"error"})})},updateEnrollmentScore:function(e,t){return h.updateEnrollment(e,{score:t}).catch(function(){y(I18n.t("Oh Snap! The score cannot be below the passing threshold."),{type:"error"})})},search:function(e){g.searchUsers(e,this.props.course.id)},inlineEnrollmentEditorSearchColSpan:function(){var e=5;return this.props.course.expires&&(e+=1),this.canExportMetadata()&&(e+=1),e.toString()},canExportMetadata:function(){return x.isSupport()&&this.props.course.courseType===f}});e.exports=A},function(e,t,n){"use strict";var r=n(1184),a=n(8),s=n(7),i=n(40);e.exports=a({schema:n(457),perform:function(e,t){return s({url:"/api/author/course_templates/"+e+"/enrollments",dataType:"json",type:"POST",data:{enrollments:(0,r.isArray)(t)?i(t):[i(t)]}})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(13),d=r(c),p=n(442),f=r(p),m=n(262),h=r(m),g=n(5),v=n(43),_=n(902),y=r(_),b=u.default.createClass({displayName:"EditButton",propTypes:{course:n(45),returnToCourseList:o.default.bool},getDefaultProps:function(){return{course:{},returnToCourseList:!1}},getInitialState:function(){return{editUser:{name:"",id:""}}},render:function(){var e=(0,y.default)(b,this.props);return u.default.createElement(v.ActionMenuItem,(0,s.default)({label:this.getEditLabel(),icon:u.default.createElement(g.Icon,{className:"gs-edit gs-buc-button-compat"}),action:this.onEdit,disabled:h.default.isCourseActionDisabled(this.props.course),popupContentsRenderer:this.renderLockedCourseMessage,"data-capybara":"course-edit"},e))},renderLockedCourseMessage:function(){return u.default.createElement("div",{className:"course-locking__item-popup"},u.default.createElement(f.default,{lockableType:"course",user:this.state.editUser}))},onEdit:function(e){var t=this,n=this.props,r=n.course,a=n.returnToCourseList;r.isExternal?d.default.transitionTo("author.course.upload",r.id):h.default.editCourse(r.id,a).catch(function(n){var r=n.lockHolder;t.setState({editUser:{name:r.displayName,id:r.id}}),e()})},getEditLabel:function(){var e=this.props.course;return e.isExternal?I18n.t("Replace"):I18n.t("Edit")}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=n(6),d=r(c),p=n(11),f=r(p),m=n(88),h=r(m),g=n(3257),v=r(g),_=n(61),y=r(_),b=n(189),E=r(b),C=n(598),I=r(C),T=n(5),N=n(262),S=r(N),x=n(298),A=r(x),k=n(65),w=r(k),R=n(27),O=r(R),P=n(214),L=r(P),M=n(271),D=r(M),U=n(1295),F=r(U),q=n(37),B=r(q),j=n(20),H=r(j),G=n(19),W=r(G),V=n(151),Y=n(43),z=n(12),K=n(3),Q=o.default.createClass({
displayName:"ListItem",mixins:[v.default.mixin,h.default.mixin,(0,B.default)({wideEnoughToEdit:B.default.QUERY_WIDE_ENOUGH_TO_EDIT})],propTypes:{course:n(45),removable:K.bool,onRemove:K.func,onArchive:K.func,onUnarchive:K.func,editable:K.bool,enrollable:K.bool,openEnrollEditable:K.bool,messageable:K.bool,previewable:K.bool,cloneable:K.bool,archivable:K.bool,unarchivable:K.bool,onPreview:K.func,onClone:K.func,onChange:K.func,activeItemId:K.string,onAttachmentIconClick:K.func,query:(0,K.shape)({search:K.string,subaccounts:(0,K.arrayOf)(K.string)})},getDefaultProps:function(){return{course:{title:"",matchingTags:[]},editable:!1,enrollable:!1,openEnrollEditable:!1,messageable:!1,removable:!1,previewable:!1,cloneable:!1,archivable:!1,unarchivable:!1,query:{search:"",subaccounts:[]}}},render:function(){var e=this.props.course,t=this.isConfirming(),n=t&&(0,H.default)("learn_course_archive"),r=(0,H.default)("learn_course_archive")&&e.isArchived,a=(0,d.default)({"removable-item":!0,"removable-item--focused":t,"removable-item--focused-inlined":t&&(0,H.default)("learn_course_archive")}),s=(0,d.default)({h3:!0,"course-list__header":!0,"margin-none":!0,unpublished:!e.isPublished}),i=(0,d.default)("course-list__header-link",{indigo:(e.title||"").length>0,"dark-grey":0===(e.title||"").length||r});return o.default.createElement("div",{className:a,"data-capybara":"course-list_item"},o.default.createElement("div",{className:"removable-item__title--large"},o.default.createElement("h2",{className:s},!n&&o.default.createElement(u.default,{to:"author.course",params:[{courseId:e.id}],className:i},o.default.createElement(y.default,{text:e.title||I18n.t("Untitled Course"),highlight:this.props.query.search})),n&&o.default.createElement(y.default,{text:this.getItemTitle(),highlight:this.props.query.search}),!t&&e.courseType!==z.COURSE_NON_EXTERNAL_TYPE&&o.default.createElement(A.default,{name:"SCORM",className:"course-list-item__external external-course"}),!t&&r&&o.default.createElement(A.default,{name:"ARCHIVED",className:"course-list-item__archived archived-course"})),!t&&o.default.createElement("div",{className:"course-list-item__tags margin-t-xs"},(e.matchingTags||[]).map(this.renderTag)),this.renderMetaData()),this.isConfirmingArchive()&&this.renderConfirmArchive(),this.isConfirmingUnarchive()&&this.renderConfirmUnarchive(),this.isConfirmingRemoval()&&this.renderConfirmRemoval(),!t&&this.renderActions())},renderMetaData:function(){var e=this.props.course;if(this.isConfirmingArchive()){var t=I18n.t({one:"enrollment",other:"enrollments"},{count:e.incompleteEnrollmentsCount}),n=I18n.t({one:"learner",other:"learners"},{count:e.enrollmentsCount});return o.default.createElement("div",{className:"dark-grey"},o.default.createElement("strong",null,e.incompleteEnrollmentsCount),I18n.t(" incomplete %{enrollmentsLabel} will be deactivated and ",{enrollmentsLabel:t}),e.enrollmentsCount>1&&I18n.t(" all "),o.default.createElement("strong",null,e.enrollmentsCount),I18n.t(" %{learnersLabel} will no longer have access to this course content.",{learnersLabel:n}),e.retain&&I18n.t(" Completed learners will no longer receive retain exercises."))}if(this.isConfirmingUnarchive()){var r=I18n.t({one:"enrollment",other:"enrollments"},{count:e.enrollmentsCount});return o.default.createElement("div",{className:"dark-grey"},I18n.t("This course will be moved to a draft state, and "),o.default.createElement("strong",null,e.enrollmentsCount),I18n.t(" %{enrollmentsLabel} will remain inactive until published.",{enrollmentsLabel:r}))}return this.isConfirmingRemoval()&&e.hasSharedEnrollments&&(0,H.default)("learn_course_archive")?o.default.createElement("div",{className:"dark-grey"},I18n.t("This course is shared with 1 or more Sub-Accounts with active enrollments.")):this.renderMetaDataList()},renderMetaDataList:function(){var e=this,t=this.props.course,n=(0,f.default)(t.nextSectionDue),r=(0,f.default)(t.updatedAt).format("ll"),a=(0,f.default)(t.archivedAt).format("ll"),s=(0,H.default)("learn_course_archive")&&t.isArchived;return o.default.createElement("ul",{className:"dark-grey light margin-none list--slashed","data-capybara":"learning_item_meta_data"},o.default.createElement("li",null,this.renderAuthorAvatar(),o.default.createElement("span",{className:"medium"},this.renderAuthorNameText())),this.showSubAccount()&&o.default.createElement("li",null,o.default.createElement("span",{className:"medium"},this.renderSubAccountText())),!s&&t.updatedAt&&o.default.createElement("li",{className:"wrap"},I18n.t("Updated %{updatedTime}",{updatedTime:r})),s&&t.archivedAt&&o.default.createElement("li",{className:"wrap"},I18n.t("Archived %{archivedTime}",{archivedTime:a})),(0,H.default)("learn_course_archive")&&t.attachmentsCount>0&&o.default.createElement("li",{className:"wrap"},o.default.createElement(L.default,{anchor:!0,onClick:function(n,r){return e.props.onAttachmentIconClick(t,r)},activeItemId:this.props.activeItemId,itemId:t.id,attachmentsCount:t.attachmentsCount||0})),!t.isPublished&&o.default.createElement("li",{className:"wrap"},o.default.createElement("i",null,I18n.t("Draft; this course has not been published"))),!s&&t.nextSectionDue&&o.default.createElement("li",{className:"wrap"},I18n.t("Next Due %{dueDate}",{dueDate:(0,f.default)(n).format("ll")}),o.default.createElement("span",{className:"pink"}," (",(0,V.dueDateDuration)(n),")")))},renderConfirmArchive:function(){return o.default.createElement("div",{className:"removable-item__buttons"},o.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center","data-capybara":"course-archive_cancel",onClick:this.cancelArchive,children:I18n.t("Cancel")}),o.default.createElement("button",{type:"button",className:"btn--reset pink upcase small padding-rl-s text-center","data-capybara":"course-archive_confirm",onClick:this.props.onArchive,children:I18n.t("Archive")}))},renderConfirmUnarchive:function(){return o.default.createElement("div",{className:"removable-item__buttons"},o.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center","data-capybara":"course-unarchive_cancel",onClick:this.cancelUnarchive,children:I18n.t("Cancel")}),o.default.createElement("button",{type:"button",className:"btn--reset blue upcase small padding-rl-s text-center","data-capybara":"course-unarchive_confirm",onClick:this.props.onUnarchive,children:I18n.t("Restore")}))},renderConfirmRemoval:function(){var e=this.props.course.hasSharedEnrollments,t=(0,d.default)({"removable-item__confirm":!0,"removable-item__confirm--shared":e});return(0,H.default)("learn_course_archive")?o.default.createElement("div",{key:"btns",className:"removable-item__buttons"},o.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center","data-capybara":"course-delete_cancel",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),o.default.createElement("button",{type:"button",className:"btn--reset pink upcase small padding-rl-s text-center","data-capybara":"course-delete_confirm",onClick:this.remove,children:I18n.t("Delete")})):[o.default.createElement("div",{key:"text",className:t},o.default.createElement("div",null,I18n.t("Delete Course?")),e&&o.default.createElement("div",{className:"pink"},I18n.t("This course is shared with 1 or more Sub-Accounts with active enrollments"))),o.default.createElement("div",{key:"btns",className:"removable-item__buttons"},o.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center","data-capybara":"course-delete_cancel",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),o.default.createElement("button",{type:"button",className:"btn--reset pink upcase small padding-rl-s text-center","data-capybara":"course-delete_confirm",onClick:this.remove,children:I18n.t("Delete")}))]},renderTag:function(e){return o.default.createElement(D.default,{key:e,highlight:!0},e)},renderSubAccountText:function(){var e=this.props.query.subaccounts||[],t=this.props.course.subAccount;return e.indexOf(t.id)!==-1?o.default.createElement(y.default,{text:I18n.t("from %{subaccount}",{subaccount:t.name}),highlight:t.name}):I18n.t("from %{subaccount}",{subaccount:t.name})},showSubAccount:function(){return this.props.course.subAccount&&this.props.course.subAccount.notCurrent},renderAuthorNameText:function(){var e=this.props.course,t=e.author,n=e.courseType;if(n===z.COURSE_EXTERNAL_TYPE_LYNDA)return I18n.t("by Lynda");if(t){if(t.name)return I18n.t("by %{authorname}",{authorname:t.name});if(t.uid)return I18n.t("by %{authoruid}",{authoruid:t.uid})}return I18n.t("No Author")},renderAuthorAvatar:function(){var e=this.props.course,t=e.author,n=e.courseType;return n===z.COURSE_EXTERNAL_TYPE_LYNDA?o.default.createElement("img",{className:"lynda--avatar",src:"/images/lynda.png",alt:I18n.t("Lynda")}):t?o.default.createElement(w.default,(0,s.default)({className:"author--avatar"},t)):null},renderActions:function(){var e=this,t=this.props,n=t.course,r=t.archivable,a=t.unarchivable,s=t.editable,i=t.enrollable,l=t.openEnrollEditable,u=t.messageable,c=t.previewable,d=t.onPreview,p=t.cloneable,f=t.onClone,m=t.removable;return(0,H.default)("learn_course_archive")?o.default.createElement(Y.ActionMenu,{primaryActionCount:1,focusStyleType:"filled",alignToPopup:"end",className:"buc-action-menu-compat"},s&&this.state.media.wideEnoughToEdit&&o.default.createElement(F.default,{course:n,returnToCourseList:!0}),c&&o.default.createElement(Y.ActionMenuItem,{label:I18n.t("Preview"),icon:o.default.createElement(T.Icon,{className:"gs-preview gs-buc-button-compat"}),action:d}),i&&o.default.createElement(I.default,{learningItem:n,onChange:this.onChangeOpenEnrollment,disabled:!l&&!s,isActionMenuItem:!0}),u&&o.default.createElement(E.default,{recipientType:"course",recipientName:n.title||I18n.t("Untitled Course"),recipientId:n.id,filters:S.default.getMessageFilters(n),onMessageSend:W.default,onMessageFail:function(e){return(0,W.default)(e,{type:"error"})},isActionMenuItem:!0}),p&&o.default.createElement(Y.ActionMenuItem,{label:I18n.t("Duplicate"),icon:o.default.createElement(T.Icon,{className:"gs-duplicate gs-buc-button-compat"}),action:f,"data-capybara":"course-duplicate"}),r&&o.default.createElement(Y.ActionMenuItem,{label:I18n.t("Archive"),icon:o.default.createElement(Y.ArchiveIcon,{className:"gs-buc-button-compat"}),action:this.confirmArchive}),a&&o.default.createElement(Y.ActionMenuItem,{label:I18n.t("Un-Archive"),icon:o.default.createElement(Y.UnarchiveIcon,{className:"gs-buc-button-compat"}),action:this.confirmUnarchive}),m&&o.default.createElement(Y.ActionMenuItem,{label:I18n.t("Delete"),icon:o.default.createElement(T.Icon,{className:"gs-trash gs-buc-button-compat"}),action:this.confirmRemoval})):o.default.createElement("div",{className:"removable-item__remove"},o.default.createElement(L.default,{className:"margin-r-s",onClick:function(){return e.props.onAttachmentIconClick(n)},activeItemId:this.props.activeItemId,itemId:n.id,attachmentsCount:n.attachmentsCount||0}),o.default.createElement("div",{className:"removable-item__spacer"},this.props.removable&&o.default.createElement("button",{type:"button",onClick:this.confirmRemoval,className:"btn--reset dark-grey small","data-capybara":"course-delete_x"},o.default.createElement(O.default,{children:I18n.t("Delete")}),o.default.createElement(T.Icon,{className:"gs-x gs-1x dark-grey"}))))},getItemTitle:function(){var e=this.props.course.title||I18n.t("Untitled Course");return this.isConfirmingRemoval()?I18n.t("Delete %{title}?",{title:e}):this.isConfirmingArchive()?I18n.t("Archive %{title}?",{title:e}):this.isConfirmingUnarchive()?I18n.t("Un-archive %{title}?",{title:e}):e},isConfirming:function(){return this.isConfirmingArchive()||this.isConfirmingUnarchive()||this.isConfirmingRemoval()},onChangeOpenEnrollment:function(e){this.props.onChange({openEnrollment:e.target.checked})}});e.exports=Q},function(e,t,n){"use strict";var r=n(224),a=n(12);t.parse=function(e){var t=r({},e);return t.isBlocked=[a.COURSE_EXTERNAL_STATUS_PENDING,a.COURSE_EXTERNAL_STATUS_FAILED,a.COURSE_EXTERNAL_STATUS_ATTACHED,a.COURSE_EXTERNAL_STATUS_PUBLISHPENDING].indexOf(t.externalStatus)>-1,t.isPublishable=e.hasUnpublishedChanges&&!t.isBlocked,t.hasUnpublishedChanges=t.isPublished&&t.isPublishable,t.isExternal=t.courseType!==a.COURSE_NON_EXTERNAL_TYPE,t.canDiscardChanges=t.isPublished||!t.isPublishable,t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(13),h=r(m),g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.group;return f.default.createElement("nav",{className:"button-set-nav"},f.default.createElement("div",{className:"large-content-area--padded centered button-set"},f.default.createElement(h.default,{to:"author.group.members",params:[{groupId:e.id}],className:"dark-grey inline-block button-set__button",children:I18n.t("Members")}),f.default.createElement(h.default,{to:"author.group.content",params:[{groupId:e.id}],className:"dark-grey inline-block button-set__button",children:I18n.t("Relevant Content")})))}}]),t}(f.default.PureComponent);g.propTypes={group:n(51).isRequired},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(189),h=r(m),g=n(24),v=r(g),_=n(1304),y=r(_),b=n(29),E=r(b),C=n(12),I=n(2),T=n(51),N=r(T),S=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderSmartGroupRules=function(){return f.default.createElement(y.default,{onGroupChange:r.props.onGroupChange,group:r.props.group})},r.renderAddMember=function(){return f.default.createElement("button",{type:"button",className:"add-btn add-btn--detail","aria-label":I18n.t("Add User to Group"),onClick:r.props.onAddLearner},f.default.createElement(v.default,null,f.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *User*"),wrappers:{"*":f.default.createElement("span",{className:"add-btn__text"},"$1")}},"$1")))},r.renderMessageBox=function(){var e=r.props,t=e.group,n=e.doesNotHaveLearners,a=t.usersCount,s=t.messageableCount,i=a!==s,o=[{value:"",label:I18n.t("You can message %{count} of %{total} people in this group",{count:s,total:a}),count:s}];return f.default.createElement(h.default,{wrapperClassName:"message-box--smart-group margin-r-s",recipientType:"group",recipientName:t.displayTitle,recipientId:t.id,disabled:n,filters:i?o:[],round:!0})},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.group,t=e.directMessagingEnabled&&(0,E.default)("user_message_send",e),n=e.type===C.GROUP_TYPES.GROUP&&(0,E.default)("membership_create",e),r=e.type===C.GROUP_TYPES.SMART&&(0,E.default)("smart_group_update",e);return f.default.createElement("div",{className:"inline-block"},t&&this.renderMessageBox(),n&&this.renderAddMember(),r&&this.renderSmartGroupRules())}}]),t}(f.default.Component);S.propTypes={doesNotHaveLearners:I.bool,onAddLearner:I.func,onGroupChange:I.func,group:N.default.isRequired},t.default=S,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.shape,i=a.string,o=n(29),l=n(13),u=n(133),c=n(12),d=c.GROUP_TYPES,p=n(37),f=n(114),m=r.createClass({displayName:"GroupUserActions",mixins:[p({mobile:p.QUERY_MOBILE})],propTypes:{sort:i,group:s({id:i.isRequired,type:i.isRequired}).isRequired},render:function(){var e=!(this.state.media.mobile||f.isMobile()),t=this.props.group;return r.createElement("div",null,e&&(t.type===d.GROUP?this.renderManagedMembershipControls():this.renderAutomaticMembershipControls()))},renderManagedMembershipControls:function(){var e=this.props.group;return r.createElement("div",null,o("membership_create",e)&&r.createElement(l,{to:"author.group.upload",params:[{contextId:e.id}],queryParams:{uploadType:"import"},className:"margin-t-s margin-rl-m right"},I18n.t("Add via CSV")),o("membership_destroy",e)&&r.createElement(l,{to:"author.group.upload",params:[{contextId:e.id}],queryParams:{uploadType:"deport"},className:"margin-t-s right"},I18n.t("Remove via CSV")),o("group_export",e)&&r.createElement(u,{className:"margin-t-s margin-r-m right",type:"report",info:this.reportParams(this.props),children:I18n.t("Export Enrollments"),capybara:"export_csv"}))},renderAutomaticMembershipControls:function(){var e=this.props.group,t=e.type,n=t===d.SMART&&o("smart_group_export",e)||t===d.DOMAIN&&o("domain_group_export",e)||t===d.TEAM&&o("team_export",e);return r.createElement("div",null,n&&r.createElement(u,{className:"margin-t-s margin-r-m right",type:"report",info:this.reportParams(this.props),children:I18n.t("Export Enrollments"),capybara:"export_csv"}))},reportParams:function(e){return{id:"GroupEnrollmentsReport",sort:e.sort,group_id:e.group.id}}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(12),o=n(50),l=n(3094),u=r(l),c=n(2413),d=r(c),p=n(29),f=r(p),m=n(109),h=r(m),g=n(2),v=s.default.createClass({displayName:"GroupUserListing",propTypes:{group:n(51).isRequired,learners:(0,g.arrayOf)(n(42)).isRequired,searchTerm:g.string,isEnrolling:g.bool,onEnroll:g.func,onUnenroll:g.func,onCancelEnrollment:g.func},componentDidMount:function(){h.default.addChangeListener(this.reload)},componentWillUnmount:function(){h.default.removeChangeListener(this.reload)},render:function(){var e=this.props.group;return s.default.createElement("div",{"data-capybara":"group-member-table"},s.default.createElement(o.Table,null,s.default.createElement(o.Thead,null,s.default.createElement(o.Tr,{mobileClassNames:"pure-g"},s.default.createElement(o.Th,{sortParam:"name",className:"th-40",mobileClassNames:"pure-u-7-8"},I18n.t("Name")),s.default.createElement(o.Th,{sortable:!1,className:"th-10",mobileClassNames:"pure-u-1-8"},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Remove User From Group"))))),s.default.createElement(o.Tbody,null,this.props.isEnrolling&&s.default.createElement(o.Tr,{key:"editor"},s.default.createElement(o.Td,null,s.default.createElement(u.default.Widget,{onSearch:this.search,onEnroll:this.emitEnroll,searchResults:h.default.getFoundInGroup(e.id),disabledResults:this.props.learners.map(function(e){return e.id}),disabledMessage:I18n.t("Already In Group"),placeHolderText:I18n.t("Enter a name to find a user")})),s.default.createElement(o.Td,null,s.default.createElement(u.default.CloseButton,{onClick:this.props.onCancelEnrollment}))),this.props.learners.map(this.renderLearner.bind(null,{canRemove:e.type===i.GROUP_TYPES.GROUP&&(0,f.default)("membership_destroy",e)})))))},renderLearner:function(e,t){var n=e.canRemove;return s.default.createElement(d.default,{key:"learner__"+t.id,user:t,onRemove:this.props.onUnenroll,searchTerm:this.props.searchTerm,canRemove:n})},reload:function(){this.forceUpdate()},search:function(e){h.default.searchInGroup(e,this.props.group.id)},emitEnroll:function(e){this.props.learners.map(function(e){return e.id}).indexOf(e)===-1&&this.props.onEnroll(e,h.default.get(e))}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(52),s=r.createClass({displayName:"GroupUserSearch",render:function(){return r.createElement(a,{label:I18n.t("Search"),placeholderText:I18n.t("Search for users in this group")})}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,N.default)(t,"indigo left margin-none padding-tb-xs margin-r-xs");return y.default.createElement("h1",{className:n},e)}function s(e){return y.default.createElement("div",null,e.type===b.GROUP_TYPES.TEAM?y.default.createElement(M.default,null,I18n.t("Manager:")):y.default.createElement(M.default,null,I18n.t("Owner:"))," ",y.default.createElement(U.default,{to:"author.learner",params:[{id:e.teamOwnerId}]},e.teamOwnerName))}function i(e,t){return e&&e.length>0?e:t}function o(e){return!([b.GROUP_TYPES.DOMAIN,b.GROUP_TYPES.TEAM].indexOf(e.type)>-1)&&(e.type===b.GROUP_TYPES.SMART?(0,I.default)("smart_group_update",e):(0,I.default)("group_update",e))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),u=r(l),c=n(14),d=r(c),p=n(15),f=r(p),m=n(17),h=r(m),g=n(16),v=r(g),_=n(1),y=r(_),b=n(12),E=n(2),C=n(29),I=r(C),T=n(6),N=r(T),S=n(102),x=r(S),A=n(54),k=r(A),w=n(124),R=r(w),O=n(69),P=r(O),L=n(24),M=r(L),D=n(13),U=r(D),F=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.group,n=e.onTitleChange,r=e.children,l=I18n.t("Untitled Group"),c=i(t.name,l);return y.default.createElement(x.default,{type:"group"},y.default.createElement(k.default,{name:"layout--item-header__details"},y.default.createElement(R.default,(0,u.default)({className:"layout--item-header__icon--group left avatar--medium"},t)),y.default.createElement("div",{className:"layout--item-header__info"},o(t)?y.default.createElement(P.default,{value:t.name,onChange:n,placeholder:l,className:"editable-text--header indigo left",maxLength:"255",inputClassName:"h1 indigo margin-none"},a(c)):a(c,"editable-text--header"),t.teamOwnerId&&s(t))),r)}}]),t}(y.default.Component);F.propTypes={group:n(51).isRequired,onTitleChange:E.func,children:E.node},t.default=F,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(873),s=n(196),i=n(643),o=n(19),l=r.createClass({displayName:"SmartGroupRuleActions",propTypes:{group:n(51).isRequired},componentDidMount:function(){i.addChangeListener(this.reload)},componentWillUnmount:function(){i.removeChangeListener(this.reload)},render:function(){var e=i.isDirty(),t=i.getAll(),n=i.getOverriddenJoinType()||this.props.group.joinType,s=e,o=e&&!t.some(a.isInvalid)&&!a.isCombinationInvalid(n,t);return r.createElement("div",{className:"inline-block"},r.createElement("button",{type:"button",className:"btn secondary margin-r-xs",onClick:this.reset,disabled:!s,children:I18n.t("Reset")}),r.createElement("button",{type:"button",className:"btn filled",onClick:this.save,disabled:!o,children:I18n.t("Save")}))},reload:function(){this.forceUpdate()},save:function(){var e=this,t=i.getSerializedChanges();t.join_type||(t.join_type=this.props.group.joinType),s.update(this.props.group.id,t).then(function(){i.populate(s.get(e.props.group.id).rules),o(I18n.t("Your group has been saved."))},function(){o(I18n.t("There was a problem saving your group."),{type:"error"})})},reset:function(){i.discardChanges()}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=n(2415),o=n(2417),l=n(4),u=l.partial,c=n(643),d=r.createClass({displayName:"RuleEditor",propTypes:{customFields:s(n(276)).isRequired,group:n(51).isRequired,rules:s(n(462)).isRequired},componentDidMount:function(){c.addChangeListener(this.reload),c.populate(this.props.rules)},componentWillUpdate:function(e){e.group.joinType!==this.props.group.joinType&&c.resetJoinTypeOverride()},componentWillUnmount:function(){c.clear(),c.removeChangeListener(this.reload)},render:function(){var e=this.props.group,t=this.getActiveRules();return r.createElement("div",{className:"pure-g centered rule-select-container large-content-area"},r.createElement("div",{className:"pure-u-1"},r.createElement(i,{value:c.getOverriddenJoinType()||e.joinType,onChange:this.changeJoinType}),r.createElement("div",null,t.map(this.renderRule))),r.createElement("div",{className:"pure-u-1"},r.createElement("div",{className:"pure-u-7-24 relative","data-capybara":"smart-group-rule-editor__rule-custom-field"}),r.createElement("div",{className:"pure-u-1-6"}),r.createElement("div",{className:"pure-u-11-24 relative"},r.createElement("button",{type:"button",className:"btn--reset blue label centered",onClick:this.addRule,children:I18n.t("Add Rule")}))))},renderRule:function(e){return r.createElement(o,{key:e.id,customFields:this.props.customFields,rule:e,onChange:u(this.updateRule,e.id),onRemove:u(this.removeRule,e.id)})},reload:function(){this.forceUpdate()},getActiveRules:function(){return c.getAll()},changeJoinType:function(e){e===this.props.group.joinType?c.resetJoinTypeOverride():c.overrideJoinType(e)},addRule:function(){c.add()},updateRule:function(e,t){c.adjust(e,t)},removeRule:function(e){c.remove(e)}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(5),l=o.Icon,u=n(124),c=n(13),d=n(61),p=n(2),f=p.string,m=p.bool,h=p.func,g=n(782),v=g.Column,_=i.createClass({displayName:"AuthorGroupsGroupListingEntry",propTypes:{group:n(51).isRequired,canRemove:m,onRemove:h,searchTerm:f},render:function(){var e=this.props.group;return i.createElement(g,{ref:"entry",group:e,onRemove:this.emitRemoval,removalMessage:I18n.t("Disband Group?"),removalVerb:I18n.t("Disband")},i.createElement(v,{mobileClassNames:"pure-u-5-8"},i.createElement(c,{to:"author.group",params:[{groupId:e.id}],className:"indigo block",dataCapybara:"group_link"},i.createElement(u,(0,s.default)({},e,{className:"left margin-r-s"})),i.createElement("span",{className:"avatar__label"},i.createElement(d,{highlight:this.props.searchTerm,text:e.name||I18n.t("Untitled")})),e.archivedAt&&i.createElement("span",{className:"avatar__label-extra"}," ",I18n.t("(Archived)")))),i.createElement(v,{mobileClassNames:"pure-u-1-4"},e.usersCount),i.createElement(v,{className:"text-right",mobileClassNames:"pure-u-1-8"},this.props.canRemove&&i.createElement("button",{type:"button",onClick:this.promptForRemoval,className:"btn--reset padding-xs","data-capybara":"delete_x"},i.createElement("span",{className:"screenreader-only"},I18n.t("Remove")),i.createElement(l,{className:"gs-x gs-1x dark-grey"}))))},promptForRemoval:function(){this.refs.entry.confirmRemoval()},emitRemoval:function(){this.props.onRemove(this.props.group.id)}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(24),h=r(m),g=n(18),v=r(g),_=n(3),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.actionText,n=e.text,r=e.title,a=e.actionModifierClass;return f.default.createElement("div",{className:"drawer-modal__content session-editor__confirmation"},f.default.createElement("div",{className:"session-editor__confirmation__message"},f.default.createElement("span",{className:"session-editor__confirmation__message__title"},f.default.createElement("span",null,r)),f.default.createElement("span",null,n)),f.default.createElement("div",{className:"session-editor__confirmation__actions"},f.default.createElement(v.default,{className:"session-editor__confirmation__actions--cancel",onClick:this.props.close},f.default.createElement(h.default,null,I18n.t("Cancel"))),f.default.createElement(v.default,{className:"session-editor__confirmation__actions--confirm session-editor__confirmation__actions--"+a,onClick:this.props.action},f.default.createElement("span",null,t))))}}]),t}(f.default.Component);y.propTypes={title:_.string,text:_.string,actionText:_.string,action:_.func,close:_.func,actionModifierClass:_.string},y.defaultProps={actionModifierClass:""},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(e){var r=a.tz(e,n);if(r.isValid())return r.format(t)}}var a=n(11),s="LL",i="ddd, ll",o="LT",l=o+" (z)",u="MMM D-",c="MMM D, YYYY",d="D, YYYY";t.formatTime=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t&&n?l:o;return r(e,a,t)},t.formatDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];return r(e,t?i:s,n)},t.formatDateRange=function(e,t,n){var r=a.tz(e,n),s=a.tz(t,n),o="";return r.isValid()&&s.isValid()&&(o=r.month()!==s.month()?r.format(u)+s.format(c):r.day()!==s.day()?r.format(u)+s.format(d):r.format(i)),o}},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=a.shape,o=n(26),l=n(13),u=r.createClass({displayName:"MarketplaceHeader",propTypes:{className:s,selected:i({name:s,prettyname:s})},getDefaultProps:function(){return{className:""}},render:function(){return r.createElement("div",{className:"marketplace-header "+this.props.className},r.createElement(l,{to:"author.markets",className:"marketplace-header__to-marketplace"},o.t("Marketplace")),r.createElement(l,{to:"author.markets."+this.props.selected.name,className:"marketplace-header__nav-location"}," ",this.props.selected.prettyname," "))}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(9),i=r(s),o=n(14),l=r(o),u=n(15),c=r(u),d=n(17),p=r(d),f=n(16),m=r(f),h=n(38),g=r(h),v=n(1),_=r(v),y=n(2510),b=r(y),E=n(1359),C=r(E),I=n(82),T=r(I),N=n(2523),S=r(N),x=n(2524),A=r(x),k=n(2528),w=r(k),R=n(1313),O=r(R),P=n(749),L=n(6),M=r(L),D=n(4),U=n(3),F=n(12),q=F.PROGRAM_ADD_CONTENT_MODES_ENUM.SEARCH_COURSE,B=F.PROGRAM_ADD_CONTENT_MODES_ENUM.SEARCH_ILT,j=F.PROGRAM_ADD_CONTENT_MODES_ENUM.SEARCH_TASK,H=F.PROGRAM_ADD_CONTENT_MODES_ENUM.SELECT_LTI_CONTENT_ITEM,G=(a={},(0,g.default)(a,q,S.default),(0,g.default)(a,B,A.default),(0,g.default)(a,j,w.default),(0,g.default)(a,H,O.default),a),W=function(e){function t(){(0,l.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderAddRow=function(){return _.default.createElement("div",{className:"program-edit__add-learning-objects__item__add-row"},e.renderCourseButton(),e.renderILTButton(),e.renderTaskButton(),e.renderLtiPlacementButtons(),_.default.createElement("div",{className:"program-edit__add-learning-objects__item__add-row__line"}),e.renderProgramSectionButton())},e.renderContentButton=function(t,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return _.default.createElement(b.default,(0,i.default)({isSelected:e.props.isSelected,tooltip:t,icon:n,disabled:!a,onClick:r},s))},e.renderCourseButton=function(){return e.renderContentButton(I18n.t("Course"),F.PROGRAM_ITEM_ICONS.CourseTemplate,(0,D.partial)(e.insertNewItemOfType,q),!0,{dataCapybara:"add-course-button"})},e.renderILTButton=function(){var t=e.props.canAddILT?I18n.t("Live Training"):I18n.t("Live Training cannot be added");return e.renderContentButton(t,F.PROGRAM_ITEM_ICONS.LiveCourse,(0,D.partial)(e.insertNewItemOfType,B),e.props.canAddILT,{dataCapybara:"add-ilt-button"})},e.renderTaskButton=function(){var t=e.props.canAddTask?I18n.t("Checkpoint"):I18n.t("Checkpoint cannot be added");return e.renderContentButton(t,F.PROGRAM_ITEM_ICONS.Task,(0,D.partial)(e.insertNewItemOfType,j),e.props.canAddTask,{dataCapybara:"add-checkpoint-button"})},e.renderProgramSectionButton=function(){var t=I18n.t("Insert section header");return e.renderContentButton(t,F.PROGRAM_ITEM_ICONS.ProgramSection,e.props.createNewProgramSection,!0,{dataCapybara:"add-section-button"})},e.renderLtiPlacementButtons=function(){return e.props.placements.map(function(t){var n=t.text;return e.renderContentButton(n,F.PROGRAM_ITEM_ICONS.LtiTool,(0,
D.partial)(e.insertNewItemOfType,H,t),!0,{key:t.id,iconUrl:t.iconUrl,dataCapybara:"add-lti-button"})})},e.renderItemCreate=function(t){var n=e.props.searchResults,r=(0,i.default)({},e.props,{key:"__insertContent__",onAdd:e.addItem,onClose:e.toggleAddingNewItem,searchResults:e.getSearchResults(n,t),ltiPlacementForContentSelection:e.state.ltiPlacementBeingInserted});return _.default.createElement(G[t],r)},e.addItem=function(){var t;e.setState({itemTypeBeingInserted:null}),(t=e.props).addItem.apply(t,arguments)},e.toggleAddingNewItem=function(){e.setState({itemTypeBeingInserted:null},e.props.toggleAddingNewItem)},e.insertNewItemOfType=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.setState({itemTypeBeingInserted:t,ltiPlacementBeingInserted:n})},e.state={itemTypeBeingInserted:null,ltiPlacementBeingInserted:null},e}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){!e.isSelected&&this.state.itemTypeBeingInserted&&this.setState({itemTypeBeingInserted:null})}},{key:"render",value:function(){var e=this.state.itemTypeBeingInserted,t=(0,M.default)({"program-edit__add-learning-objects__item__content":!0,"program-edit__add-learning-objects__item__content--inserting":!!e});return _.default.createElement("div",{className:t},_.default.createElement(C.default,{duration:150,rotatedAngle:-45,rotated:this.props.isSelected,className:"btn--reset program-edit__add-learning-objects__item__button-rotator"},_.default.createElement(T.default,{disableTooltip:!0,buttonClassName:"btn--reset program-edit__add-learning-objects__item__button",iconClassName:"gs-2x",icon:"plus",label:I18n.t("Add content"),onClick:this.toggleAddingNewItem,"data-capybara":"add-program-items-button"})),e?this.renderItemCreate(e):this.renderAddRow())}},{key:"getSearchResults",value:function(e,t){switch(t){case q:return e.courseSearchResults;case B:return e.iltSearchResults;case j:return e.taskSearchResults;default:return[]}}}]),t}(_.default.Component);W.propTypes=(0,i.default)({isSelected:U.bool},P.commonPropTypes),W.defaultProps={isSelected:!1,placements:[]},t.default=W,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(2),i=s.func,o=s.bool,l=s.any,u=n(2512),c=n(2513),d=n(48),p=d.BLUE,f=r.createClass({displayName:"CrossfadeExpander",propTypes:{children:l,isExpanded:o,onExpand:i},getDefaultProps:function(){return{isExpanded:!1,onExpand:Function.prototype}},render:function(){var e="gs-image",t=null;this.props.isExpanded&&(e="gs-arrow-up",t=p);var n=a("crossfade-expander",{"crossfade-expander--open":this.props.isExpanded});return r.createElement("div",null,r.createElement(u,{expandTo:this.props.isExpanded?1:0},this.props.children),r.createElement("div",{ref:"toggle",className:n},r.createElement(c,{onClick:this.props.onExpand,icon:e,color:t})))}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(5),v=n(13),_=r(v),y=n(20),b=r(y),E=n(57),C=r(E),I=n(749),T=r(I),N=n(2517),S=r(N),x=n(2518),A=r(x),k=n(2521),w=r(k),R=n(2519),O=r(R),P=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.renderEditButton=function(){var e=r.props,t=e.program,n=e.programItem,a=(0,b.default)("learn_course_archive")&&n.isArchived;if(n.editable&&(0,b.default)("program_item_links")){var i={CourseTemplate:r.props.canEditCourse&&!a,LiveCourse:r.props.canEditILT,Task:r.props.canEditTask,"Lti::ContentItem":!1};if(!i[n.itemType])return null;var o=void 0;switch(n.itemType){case"CourseTemplate":o={to:"author.courses.slides",params:[{courseId:n.id}]};break;case"LiveCourse":o={to:"author.live-course.sessions",params:[{liveCourseId:n.id}]};break;case"Task":o={to:"author.checkpoint",params:[{taskId:n.id}]}}return h.default.createElement(_.default,(0,s.default)({className:"program-course-list-item__edit-button",queryParams:{programId:t.id,programTitle:r.displayTitle(t)},dataCapybara:"edit-button"},o),h.default.createElement(g.Icon,{className:"gs-edit gs-1x dark-grey"}))}return null},r.renderItem=function(e){var t=r.props.programItem,n=r.programHasDueDate();switch(t.itemType){case"CourseTemplate":return h.default.createElement(S.default,{programItem:t,isConfirmingRemoval:e,dueDateSetByProgram:n});case"LiveCourse":return h.default.createElement(A.default,{programItem:t});case"Task":return h.default.createElement(w.default,{programItem:r.props.programItem,dueDateSetByProgram:n});case"Lti::ContentItem":return h.default.createElement(O.default,{programItem:r.props.programItem})}return null},r.programHasDueDate=function(){if(!(0,b.default)("learn_program_due_date"))return!1;var e=r.props.program,t=e.dueDateType,n=e.defaultDaysUntilDue,a=e.defaultDueOnDate;return"fixed"===t&&!!a||n>0},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement(T.default,(0,s.default)({},this.props,{renderItem:this.renderItem,renderActions:this.renderEditButton}))}},{key:"displayTitle",value:function(e){var t=e.title;return t&&0!==t.length?t:I18n.t("Untitled Program")}}]),t}(h.default.Component);P.propTypes=(0,s.default)({program:C.default},I.commonPropTypes),t.default=P,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1456),o=r(i),l=n(2526),u=r(l),c=n(2525),d=r(c),p=n(19),f=r(p),m=n(3),h="Lti::ContentItem",g=s.default.createClass({displayName:"LtiContentItemSelector",propTypes:{program:n(57),ltiPlacementForContentSelection:n(84),onAdd:m.func.isRequired,onClose:m.func.isRequired},componentDidMount:function(){this.setState({ltiContentItemAttributes:{}})},getInitialState:function(){return{ltiContentItemAttributes:null}},getToolTitle:function(){var e=this.props.ltiPlacementForContentSelection;return e.text||I18n.t("LTI Tool")},createAndAddLtiContentItem:function(){var e=this;o.default.create(this.props.ltiPlacementForContentSelection.ltiToolId,this.state.ltiContentItemAttributes).then(function(t){e.props.onAdd(h,t.id)}).catch(this.handleErrors)},nextModal:function(e){this.setState({ltiContentItemAttributes:e})},cancelSelection:function(){this.props.onClose()},handleErrors:function(){(0,f.default)(I18n.t("Sorry, the content you picked could not be saved because it was invalid."),{type:"error"}),this.props.onClose()},render:function(){var e=this.props,t=e.program,n=e.ltiPlacementForContentSelection,r=this.state.ltiContentItemAttributes;return s.default.createElement("div",null,s.default.createElement("div",{className:"flex-row program-search-item"},s.default.createElement("div",{className:"program-search-item__lti-content-item-placeholder"},I18n.t("The content you choose will be inserted here."))),s.default.createElement(u.default,{placement:n,programId:t.id,ltiContentItemAttributes:r,toolTitle:this.getToolTitle(),onNext:this.nextModal,onClose:this.cancelSelection,onError:this.handleErrors}),s.default.createElement(d.default,{ltiContentItemAttributes:r,toolTitle:this.getToolTitle(),onSave:this.createAndAddLtiContentItem,onClose:this.cancelSelection}))}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){t.endAt!==n&&d.default.update(e,t.id,{endAt:n})}function s(e,t,n){t.expiresAt!==n&&d.default.update(e,t.id,{expiresAt:n})}function i(e,t){return u.default.update("Program",e,t)}function o(e,t,n,r){return u.default.create("Program",e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.updateEnrollmentDueDate=a,t.updateEnrollmentExpiresAt=s,t.updateGroups=i,t.addGroups=o;var l=n(385),u=r(l),c=n(751),d=r(c)},function(e,t,n){"use strict";function r(){return{total:0,data:[]}}function a(e){var t=e.data;t.sort(function(e,t){return e-t});var n=Math.floor((t.length-1)/2);return t.length%2?e.median=t[n]:e.median=(t[n]+t[n+1])/2,delete e.data,e}var s=n(4),i=s.minBy,o=s.values,l=n(11),u=16,c={week:{key:"week",ptsPerBar:7},month:{key:"month",ptsPerBar:30},year:{key:"year",ptsPerBar:Math.Infinity}},d=c.week.ptsPerBar+3,p=function(e,t,n){n||(n=u);var r=t/n,a=e/r,s=i(o(c),function(e){return a>e.ptsPerBar?e.ptsPerBar:0});return s.key},f=function(e,t){t||(t=c.week.key);var n,s=[];return e.forEach(function(e){var a=l(e.date)[t]();n&&a===n.number||(n=r(),n.number=a,n.first_date=e.date,n.period_start_date=l(e.date).startOf(t).toDate(),n.date=n.period_start_date,s.push(n)),n.last_date=e.date,n.period_end_date=l(e.date).endOf(t).startOf("day").toDate(),n.total+=e.count,n.data.push(e.count)}),s.map(a)},m=function(e){return e&&e.length>d},h=function(e,t){var n="string"==typeof t?t:p(e.length,t);if(e)return f(e,n)};t.shouldAggregate=m,t.aggregate=h,t._getResolution=p,t._getResolution=p,t.RESOLUTIONS=c,t.MIN_RESOLUTION=c.week},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(4),s=n(227),i=n(196),o=r(i),l=n(473),u=r(l),c=n(640),d=r(c),p=n(829),f=r(p),m=n(624),h=r(m),g=n(1409),v=r(g),_=n(625),y=r(_),b=n(623),E=r(b),C=n(25),I=r(C),T=n(280),N=r(T),S=n(2586),x=r(S),A={toQuery:a.identity,loadConfig:{getter:function(){return null},setter:function(e,t){d.default.setActive(t,e)}}},k=(0,a.defaultsDeep)({loadConfig:{fetcher:function(){return I.default.resolve(null)},getter:function(e){return{id:e}}},toQuery:a.head},A),w=function(e){return function(t){var n=(0,a.head)(t)||{id:null},r=n.id;u.default.set(x.default.currentReport(),e,r)}};e.exports={course:(0,a.defaultsDeep)({param:"course_template_id",loadConfig:{fetcher:function(e){return(0,f.default)(e).then(N.default.course)}}},A),live_training:(0,a.defaultsDeep)({param:"live_course_id",loadConfig:{fetcher:function(e){return(0,E.default)(e).then(N.default.live_training)}}},A),group:(0,a.defaultsDeep)({param:"group_id",loadConfig:{fetcher:function(e){return o.default.fetch(e).then(function(){return N.default.group(o.default.get(e))})},getter:function(e){return N.default.group(o.default.get(e))}}},A),program:(0,a.defaultsDeep)({param:"program_id",loadConfig:{fetcher:function(e){return(0,h.default)(e).then(N.default.program)}}},A),tag:(0,a.defaultsDeep)({param:"tag_id",loadConfig:{fetcher:function(e){return(0,v.default)(e).then(N.default.tag)}}},A),type:(0,a.defaultsDeep)({param:"type"},A),team:(0,a.defaultsDeep)({param:"team_id",loadConfig:{fetcher:function(e){return o.default.fetch(e).then(function(){return N.default.group(o.default.get(e))})},getter:function(e){return N.default.group(o.default.get(e))}}},A),learner:(0,a.defaultsDeep)({param:"user_id",loadConfig:{fetcher:function(e){return(0,y.default)({params:{id:e}}).then(function(e){return e[0]}).then(N.default.learner)}}},A),range:(0,a.defaultsDeep)({param:"range",loadConfig:{getter:function(e){return(0,a.includes)(s.RANGE_KEYS,e)&&{id:e}},setter:w("range")},toQuery:a.head},k),end_date:(0,a.defaultsDeep)({param:"end_date",loadConfig:{setter:w("end_date")},toQuery:a.head},k),start_date:(0,a.defaultsDeep)({param:"start_date",loadConfig:{setter:w("start_date")}},k)}},function(e,t,n){"use strict";function r(e){for(var t=e.query,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,a.pick)(t,r);return o.range=t.range||(0,s.defaultRangeFor)(e.reportId),o}var a=n(4),s=n(880);t.forTableReport=function(e){return r(e,"sort","fake_data","group_id","program_id","course_template_id","live_course_id","type","tag_id","team_id","start_date","end_date","user_id")},t.forChartReport=function(e){return r(e,"fake_data","group_id","program_id","course_template_id","live_course_id","type","tag_id","team_id","start_date","end_date","user_id")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t){return i.default.markDirty(e),t}}var s=n(248),i=r(s),o=n(1462),l=r(o),u=n(19),c=r(u),d=n(13),p=r(d);t.publishChangesInTask=function(e){i.default.publish(e).then(null,function(e){console.error(e),(0,c.default)(I18n.t("Oh Snap! We were unable to publish this checkpoint. Please try again later."),{type:"error"})})},t.cloneTask=function(e){i.default.clone(e).then(function(e){p.default.transitionTo("author.checkpoint.edit",e)})},t.updateTaskContent=function(e,t){i.default.updateContent(e,t,{onSuccess:a(e)})},t.updateTask=function(e,t){return i.default.update(e,t)},t.requestMediaUpload=function(e,t){return l.default.requestMediaUpload(e,t)},t.createAttachment=function(e,t){return l.default.createAttachmentFromUpload(e,t).then(a(e))},t.reloadAttachments=function(e,t){l.default.reloadAttachments(e,t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(4),u=n(6),c=r(u),d=function(e){return e.preventDefault(),e.stopPropagation(),e},p=o.default.createClass({displayName:"Approver",propTypes:{onClick:s.default.func.isRequired,selected:s.default.bool,children:s.default.node,disabled:s.default.bool},getDefaultProps:function(){return{selected:!1,disabled:!1}},render:function(){var e=this.props,t=e.selected,n=e.children,r=e.onClick,a=e.disabled,s=(0,l.flow)(d,r),i=(0,c.default)({"requires-approval-settings__approver":!0,disabled:a}),u=(0,c.default)({checkbox:!0,"checkbox--checked":t,"checkbox--disabled":a,"requires-approval-settings__checkbox":!0});return o.default.createElement("li",{className:i,onClick:s},o.default.createElement("label",{className:u},o.default.createElement("span",{className:"checkbox__display-checkbox"}),o.default.createElement("input",{className:"screenreader-only",checked:t,readOnly:!0,type:"checkbox"})),n)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,_.default)({type:w,blocking:!0,asyncProps:{searchResults:{setup:function(t){e.addChangeListener(t)},teardown:function(t){e.removeChangeListener(t)},get:function(){return t()}}}})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),i=r(s);t.configureSearchableApprover=a;var o=n(1),l=r(o),u=n(90),c=r(u),d=n(426),p=r(d),f=n(18),m=r(f),h=n(27),g=r(h),v=n(22),_=r(v),y=n(5),b=n(104),E=r(b),C=n(3),I=n(12),T=n(66),N=r(T),S=n(1319),x=r(S),A=n(28),k=r(A),w=l.default.createClass({displayName:"SearchableApprover",propTypes:{selected:C.bool,title:C.string.isRequired,description:C.string.isRequired,type:b.ApproverType.isRequired,approver:E.default,onClick:C.func.isRequired,onChange:C.func.isRequired,onSearch:C.func.isRequired,onCancel:C.func,openEditorAfterSelection:C.bool,searchResults:(0,C.oneOfType)([(0,C.arrayOf)(n(42)),(0,C.arrayOf)(n(51))]).isRequired,children:C.node,disabled:C.bool},getInitialState:function(){return{showEditor:!1}},getDefaultProps:function(){return{selected:!1,onCancel:Function.prototype,openEditorAfterSelection:!1}},componentWillReceiveProps:function(e){e.openEditorAfterSelection&&e.selected&&!this.props.selected?this.showAndFocusEditor():!e.selected&&this.state.showEditor&&this.setState({showEditor:!1})},render:function(){var e=this.props,t=e.title,n=e.selected,r=e.onClick,a=e.children,s=e.disabled,i=this.state.showEditor;return l.default.createElement(x.default,{onClick:r,selected:n,disabled:s},l.default.createElement("div",{className:this._getClassNameWithDeletedModifier("approver-type")},t),i?this.renderAutocomplete():l.default.createElement("div",null,this.renderDescriptionOrApprover(),a))},renderAutocomplete:function(){var e=this,t=this.props.searchResults;return l.default.createElement("div",{className:"requires-approval-settings__autocomplete"},l.default.createElement(c.default,{ref:function(t){e.editor=t},className:"requires-approval-settings__autocomplete-search-bar",inputClassName:"requires-approval-settings__autocomplete-input",autocomplete:"list",onInput:this.emitSearch,onBlur:this.onCancel,onCancel:this.onCancel,onSelect:this.onChange,placeholder:I18n.t("Enter a name to find"),children:(t||[]).map(this.renderAutocompleteResult)}),l.default.createElement(y.Icon,{className:"requires-approval-settings__autocomplete-icon"}))},renderAutocompleteResult:function(e){return l.default.createElement(c.default.Option,{key:"result-"+e.id,className:"search-results__result",value:e.id,label:e.name},l.default.createElement(p.default,{approverType:this.props.type,approver:e}))},renderDescriptionOrApprover:function(){var e=this.props,t=e.approver,n=e.description;return t?this.renderSelectedApprover():l.default.createElement("p",{className:"requires-approval-settings__approver-description"},n)},renderSelectedApprover:function(){var e=this.props,t=e.approver,n=e.type,r=e.disabled;return l.default.createElement("div",{className:"requires-approval-settings__default-approver"},l.default.createElement(p.default,{avatarClassName:this._getClassNameWithDeletedModifier("default-approver-avatar"),nameClassName:this._getClassNameWithDeletedModifier("default-approver-name"),approverType:n,approver:t,key:t.id}),!r&&l.default.createElement(m.default,{className:"margin-rl-s padding-none text-right btn--reset",onClick:this.removeApprover},l.default.createElement(g.default,{children:I18n.t("Remove approver")}),l.default.createElement(y.Icon,{className:"gs-x gs-3-4 black"})))},emitSearch:(0,N.default)(function(e){this.props.onSearch(e.trim())},I.ADMIN_USER_FINDER_THROTTLE_MS),onChange:function(e){this.setState({showEditor:!1}),this.props.onChange({type:this.props.type,id:e})},removeApprover:function(){this.showAndFocusEditor()},showAndFocusEditor:function(){var e=this;this.setState({showEditor:!0},function(){e.editor.focusInput()})},onCancel:function(){this.setState({showEditor:!1}),this.props.onCancel()},_getClassNameWithDeletedModifier:function(e){var t,n=this.props.approver,r=this.state.showEditor,a=n&&n.deletedAt&&!r;return(0,k.default)((t={},(0,i.default)(t,"requires-approval-settings__"+e,!0),(0,i.default)(t,"requires-approval-settings__"+e+"--deleted",a),t))}});t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(4),u=n(104),c=r(u),d=n(2615),p=r(d),f=n(2614),m=r(f),h=n(2613),g=r(h),v={Manager:function(e){return o.default.createElement(p.default,(0,l.omit)(e,"openEditorAfterSelection"))},User:m.default,Group:g.default},_=o.default.createClass({displayName:"ApproverTypes",propTypes:{approverType:u.ApproverType,approver:c.default,onChange:s.default.func,canEdit:s.default.bool},getInitialState:function(){return{selectedType:this.props.approverType,openEditorAfterSelection:!1}},componentWillReceiveProps:function(e){this.setState({selectedType:e.approverType})},render:function(){return o.default.createElement("ul",{className:"unstyled"},this.renderApprovalTypes())},renderApprovalTypes:function(){var e=this;return Object.keys(v).map(function(t){var n=v[t],r=e.normalizeType(e.state.selectedType)===t,a=e.normalizeType(e.props.approverType)===t,s=r&&a,i=s?e.props.approver:null;return o.default.createElement(n,{key:t,selected:r,openEditorAfterSelection:e.state.openEditorAfterSelection,approver:i,onClick:e.changeApprovalType.bind(e,t),onCancel:e.reset,onChange:e.props.onChange,disabled:!e.props.canEdit})})},changeApprovalType:function(e){this.props.canEdit&&e!==this.state.selectedType&&(clearTimeout(this.resetTimeout),this.setState({selectedType:e,openEditorAfterSelection:!0}))},reset:function(){var e=this;this.resetTimeout=setTimeout(function(){e.setState({selectedType:e.props.approverType,openEditorAfterSelection:!1})},200)},normalizeType:function(e){return e?e:"Manager"}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(132),u=r(l),c=n(55),d=r(c),p=n(1321),f=r(p),m=n(2616),h=r(m),g=o.default.createClass({displayName:"RequiresApprovalSettings",propTypes:{task:n(85).isRequired,canEdit:s.default.bool,onChange:s.default.func.isRequired},getDefaultProps:function(){return{canEdit:!1}},getInitialState:function(){return{showTurnOffConfirmation:!1}},componentWillReceiveProps:function(e){var t=e.task,n=this.state.showTurnOffConfirmation,r=t.id!==this.props.task.id;(r||!t.requiresApproval&&n)&&this.setState({showTurnOffConfirmation:!1})},render:function(){var e=this.props,t=e.canEdit,n=e.task,r=this.state.showTurnOffConfirmation,a=n.requiresApproval&&!r;return o.default.createElement("div",{className:"requires-approval-settings"},o.default.createElement(u.default.Cell,{key:"task-approvers-0"},I18n.t("Requires Approval")),o.default.createElement(u.default.Cell,{key:"task-approvers-1","data-capybara":"task-settings__requires-approval"},o.default.createElement(d.default,{disabled:!t||r,checked:a,onChange:this.onRequiresApprovalChange})),a&&o.default.createElement(u.default.CellAdditional,null,o.default.createElement(f.default,{approverType:n.defaultApproverType,approver:n.defaultApprover,onChange:this.onApproverChange,canEdit:t})),r&&o.default.createElement(h.default,{pendingApprovalCount:this.learnersPendingApprovalCount(),onCancel:this.cancelTurnOff,onConfirm:this.turnOff}))},onRequiresApprovalChange:function(e){var t=e.target.checked,n=this.learnersPendingApprovalCount(),r=n>0&&!t;r?this.setState({showTurnOffConfirmation:!0}):this.props.onChange({requiresApproval:t,defaultApproverId:null,defaultApproverType:null})},onApproverChange:function(e){this.props.canEdit&&this.props.onChange({defaultApproverId:e.id,defaultApproverType:e.type})},turnOff:function(){this.props.onChange({requiresApproval:!1,defaultApproverId:null,defaultApproverType:null})},cancelTurnOff:function(){this.setState({showTurnOffConfirmation:!1})},learnersPendingApprovalCount:function(){return this.props.task.pendingApprovalCount}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(22),u=r(l),c=n(4),d=n(93),p=r(d),f=n(1449),m=r(f),h=n(1451),g=r(h),v=n(81),_=r(v),y=n(157),b=r(y),E=n(1457),C=r(E),I=n(160),T=r(I),N=o.default.createClass({displayName:"AuthorLearner",propTypes:{learningItems:s.default.arrayOf(_.default),learner:b.default,notificationTypes:s.default.arrayOf(T.default)},render:function(){return o.default.createElement(p.default,this.props)}});t.default=(0,u.default)({type:N,blocking:!0,asyncProps:{learner:{setup:function(e){g.default.addChangeListener(e)},teardown:function(e){g.default.removeChangeListener(e)},fetch:function(e){return g.default.fetch(e.params.id)},get:function(e){return g.default.get(e.params.id)},shouldRefetch:function(e,t){return(0,c.get)(e,"params.id")!==(0,c.get)(t,"params.id")}},learningItems:{setup:function(e){m.default.addChangeListener(e)},teardown:function(e){m.default.removeChangeListener(e)},fetch:function(e){return m.default.fetchAll(e.params.id)},get:function(e){return m.default.getAll(e.params.id)},shouldRefetch:function(e,t){return(0,c.get)(e,"params.id")!==(0,c.get)(t,"params.id")}},notificationTypes:{fetch:function(){return C.default.fetchAll()},get:function(){return C.default.getAll()}}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.array,i=a.func,o=n(2651),l=r.createClass({displayName:"CustomFields",propTypes:{fields:s,onUpdate:i},render:function(){var e=this;return r.createElement("div",{className:"margin-tb-m padding-t-m border-grey border-t clearfix"},r.createElement("div",{className:"large-content-area centered clearfix padding-rl-m"},r.createElement("div",{className:"pure-g-r"},this.getColumns().map(function(t,n){return r.createElement(o,{key:"col-"+n,fields:t,onUpdate:e.props.onUpdate})}))))},getColumns:function(){var e=this.props.fields;return[e.slice(0,Math.ceil(e.length/2)),e.slice(Math.ceil(e.length/2))]}});e.exports=l},function(e,t,n){"use strict";var r=n(21),a=n(7),s=n(2659),i=n(44),o=i(function(e,t,n){var r=n.sort,a=void 0===r?null:r,i=n.search,o=void 0===i?null:i;return s.performWithoutParsing(t,{sort:a,search:o,nextPageURL:e})}),l=r({displayName:"NotificationStore",schema:n(357),sendCustomMessage:function(e,t,n,r){var s={recipient_type:"learner",recipient_id:e,body:t},i=a({url:"/api/author/messages",type:"POST",data:{message:s},dataType:"json"});i.then(n,r)},sendWelcomeMessage:function(e,t,n){var r=a({url:"/api/author/notifications/"+e+"/welcome",type:"POST",dataType:"json"});r.then(t,n)},sendPasswordMessage:function(e,t,n){var r=a({url:"/api/author/notifications/"+e+"/password",type:"POST",dataType:"json"});r.then(t,n)},fetchAll:function(e,t){var n=this;return o.findFirstPage(e,t).then(function(r){n.cache.setCollection({learner:e,query:t},s.parse(r))})},fetchNext:function(e,t){var n=this;o.hasMorePages()&&o.findNextPage(e,t).then(function(r){n.cache.addToCollection({learner:e,query:t},s.parse(r))})},getAll:function(e,t){return this.cache.getCollection({learner:e,query:t})}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s=n(38),i=r(s),o=n(2),l=r(o),u=n(1),c=r(u),d=n(11),p=r(d),f=n(6),m=r(f),h=n(24),g=r(h),v=n(66),_=r(v),y=n(62),b=r(y),E=n(187),C=r(E),I=n(58),T=r(I),N=n(12),S=n(376),x=r(S),A=16,k=80,w=32,R=(a={},(0,i.default)(a,N.LEARNING_ITEM_COURSE_TYPE,"certificate__content--course"),(0,i.default)(a,N.LEARNING_ITEM_PROGRAM_TYPE,"certificate__content--program"),(0,i.default)(a,N.LEARNING_ITEM_TASK_TYPE,"certificate__content--task"),(0,i.default)(a,N.LEARNING_ITEM_LIVE_COURSE_TYPE,"certificate__content--live-training"),a),O=c.default.createClass({displayName:"Certificate",propTypes:{certificate:n(847),isPrinting:l.default.bool.isRequired,onPrint:l.default.func.isRequired,learnableType:l.default.oneOf([N.LEARNING_ITEM_COURSE_TYPE,N.LEARNING_ITEM_PROGRAM_TYPE,N.LEARNING_ITEM_TASK_TYPE,N.LEARNING_ITEM_LIVE_COURSE_TYPE]),useWindowHeight:l.default.bool},getInitialState:function(){return{hidden:!0,isPrinting:!1,styles:{certificate:{}}}},LANDSCAPE_RATIO:8.5/11,MAX_WIDTH:775,SCALE:.8,componentWillMount:function(){x.default.install()},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},this.debouncedResizeCertificate=(0,_.default)(function(){e.resizeCertificate()},100),window.addEventListener("resize",this.debouncedResizeCertificate),this.setState({hidden:!1},function(){e.resizeCertificate()})},componentWillUnmount:function(){window.removeEventListener("resize",this.debouncedResizeCertificate),this.isMounted=function(){return!0}},earnedAt:function(){return(0,p.default)(this.props.certificate.earnedAt).format("LL")},getMaxHeight:function(){var e=this.props.useWindowHeight?window.innerHeight:this.refs.wrapper.offsetHeight,t=this.refs.nav&&this.refs.nav.offsetHeight||k,n=t/k,r=e-t;return window.innerWidth>568&&window.innerHeight>400&&(r-=w*n*2),r},getInlineStyles:function(){if(this.props.isPrinting||this.state.hidden)return{certificate:{}};var e=this.refs.certificateContainer,t=e.offsetWidth,n=Math.min(t*this.LANDSCAPE_RATIO,this.getMaxHeight());t=n/this.LANDSCAPE_RATIO;var r=t/this.MAX_WIDTH*this.SCALE*A;return{certificate:{height:n,width:t,fontSize:r+"px"}}},resizeCertificate:function(){this.isMounted()&&this.setState({styles:this.getInlineStyles()},function(){this.resizeTitle(this.refs.recipient,3),this.resizeTitle(this.refs.learnableTitle,2)})},getContainerClassName:function(){return b.default.isColorEnabled()?null:R[this.props.learnableType]},resizeTitle:function(e,t){var n=this.refs.body.clientHeight/2.8;do e.style.fontSize=t+"em",t-=.2;while(e.clientHeight>n&&t>=0)},render:function(){var e=this.props.certificate,t=e.learnableTitle,n=e.recipient,r=e.score,a=this.state.styles,s=b.default.getLogoUrl(!0);return c.default.createElement("div",{ref:"wrapper",className:(0,m.default)({certificate__wrapper:!0,"full-height":!0,"is-printing":this.props.isPrinting,"theme-light":b.default.isColorEnabled()})},c.default.createElement("header",{ref:"nav",className:"certificate__navigation"},c.default.createElement(C.default,{className:"certificate__exit-link",hasBackIcon:!0}),c.default.createElement("div",{className:"certificate__navigation-title"},c.default.createElement("h1",{className:"certificate__heading"},c.default.createElement(g.default,null,c.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Certificate: %{learnable_title}",{learnable_title:"%{learnable_title}"}),learnable_title:t},"$1")))),c.default.createElement("div",{className:"certificate__print-button"},c.default.createElement("button",{type:"button",className:"btn--themed secondary certificate",onClick:this.props.onPrint},c.default.createElement(g.default,null,I18n.t("Print"))))),c.default.createElement("div",{className:"certificate__container brand-font",ref:"certificateContainer"},c.default.createElement("div",{ref:"certificate",style:a.certificate,className:(0,m.default)("certificate",{hidden:this.state.hidden})},c.default.createElement("div",{className:(0,m.default)("certificate__content brand-border",this.getContainerClassName()),"data-capybara":"certificate"},c.default.createElement("div",{className:"certificate__header"},!!s&&c.default.createElement("img",{className:"certificate__logo",src:s,alt:b.default.getName(),"data-capybara":"logo"}),c.default.createElement("h2",null,I18n.t("Certificate of Achievement"))),c.default.createElement("div",{className:"certificate__body",ref:"body"},c.default.createElement("div",{className:"certificate__section"},c.default.createElement("h3",null,I18n.t("Awarded To")),c.default.createElement("div",{className:"certificate__recipient",ref:"recipient"},n)),c.default.createElement("div",{className:"certificate__section"},c.default.createElement("h3",null,I18n.t("For Completing")),c.default.createElement("div",{className:"certificate__learnable",ref:"learnableTitle"},t))),c.default.createElement("div",{className:"certificate__footer"},c.default.createElement("div",{className:"text-center"},c.default.createElement("h4",null,I18n.t("Completion date")),c.default.createElement("span",{className:"block"},this.earnedAt())),!(0,T.default)(r)&&c.default.createElement(g.default,{className:"text-center certificate__score"},c.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("*Score* **%{score}%**",{score:"%{score}"}),wrappers:{"*":c.default.createElement("h4",null,"$1"),"**":c.default.createElement("span",{className:"block"},"$1")},score:r},"$1")))))),c.default.createElement("div",{className:"certificate__mask"}))}});n(2674)(O),e.exports=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(1326),u=r(l),c=n(380),d=r(c),p="certificate__page",f=o.default.createClass({displayName:"CertificateContainer",propTypes:{certificate:n(847),learnableType:s.default.string.isRequired},getInitialState:function(){return{isPrinting:!1}},componentDidMount:function(){document.body.classList.add(p)},componentWillUnmount:function(){document.body.classList.remove(p)},print:function(){var e=this;this.setState({isPrinting:!0},function(){window.print(),e.setState({isPrinting:!1})})},render:function(){return o.default.createElement(u.default,{certificate:this.props.certificate,isPrinting:this.state.isPrinting,onPrint:this.print,learnableType:this.props.learnableType,useWindowHeight:!0})}});t.default=(0,d.default)(f,function(e){return e.certificate&&e.certificate.brandingOverride}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=n(456),o=n(849),l=o.CREATED,u=o.PROCESSING,c=o.DONE,d=o.FAILED,p=n(2683),f=n(2685),m=n(2686),h=n(34),g=n(13),v={};v[l]=m,v[u]=m,v[c]=p,v[d]=f;var _=r.createClass({displayName:"DownloadView",propTypes:{download:i.isRequired,closeWindow:s,confirmClose:s,addBeforeUnloadHandler:s,removeBeforeUnloadHandler:s},getDefaultProps:function(){return{closeWindow:function(){window.close();
},confirmClose:function(e){return window.confirm(e)},addBeforeUnloadHandler:function(e){window.addEventListener("beforeunload",e,!1)},removeBeforeUnloadHandler:function(e){window.removeEventListener("beforeunload",e)}}},componentDidMount:function(){this.props.addBeforeUnloadHandler(this.handleUnload),this.props.download.state===c&&this.addDownloadIframe()},componentDidUpdate:function(e){this.didJustComplete(e,this.props)&&this.addDownloadIframe()},didJustComplete:function(e,t){return e.download.state!==c&&t.download.state===c},addDownloadIframe:function(){var e=document.createElement("iframe");this.refs.iframeContainer.appendChild(e),e.src=this.props.download.url},componentWillUnmount:function(){this.props.removeBeforeUnloadHandler(this.handleUnload)},isDownloadProcessing:function(){return[l,u].indexOf(this.props.download.state)!==-1},doClose:function(){this.props.closeWindow(),g.transitionTo(h.getPostAuthRoute())},handleClose:function(){this.isDownloadProcessing()?this.props.confirmClose(this.getConfirmMessage())&&this.doClose():this.doClose()},handleUnload:function(e){if(this.isDownloadProcessing()){var t=this.getConfirmMessage();return e.returnValue=t,t}},getConfirmMessage:function(){return I18n.t("Are you sure? Your download isnt ready yet.")},render:function(){var e=v[this.props.download.state];return r.createElement("div",null,r.createElement(e,{onClose:this.handleClose}),r.createElement("div",{ref:"iframeContainer",className:"hidden"}))}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(97),o=r(i),l=n(54),u=r(l),c=n(792),d=r(c),p=n(424),f=r(p),m=n(2726),h=r(m),g=n(1481),v=n(2),_=n(12),y=n(81),b=r(y),E=n(296),C=r(E),I=n(28),T=r(I),N=n(20),S=r(N),x=s.default.createClass({displayName:"MyLearning",propTypes:{isLoading:v.bool,onRemoveItem:v.func,onAttachmentIconClick:v.func,learningItems:(0,v.arrayOf)(b.default),recentLibraryItems:(0,v.arrayOf)(b.default),activeItemId:v.string,searchTerm:v.string,viewStyle:v.string,onChangeFilters:v.func,onChangeViewStyle:v.func,onViewAll:v.func,query:(0,v.shape)({filters:h.default.propTypes.filters,search:v.string,viewAll:v.string})},getDefaultProps:function(){return{query:{},viewStyle:_.MY_LEARNING_STYLE_LIST,onRemoveItem:Function.prototype,onAttachmentIconClick:Function.prototype,onChangeFilters:Function.prototype}},isSearching:function(){return!!this.props.query.search||!!this.props.query.filters},render:function(){var e=(0,T.default)("my-learning-items",{"my-learning-items--branded layout--item-header__info":(0,S.default)("learn_learning_header_branding")});return s.default.createElement("div",{className:e},s.default.createElement(C.default,null),s.default.createElement(o.default,{headerClassName:""}," ",s.default.createElement(u.default,{name:"layout--list__content--without-container"},s.default.createElement(h.default,{searchTerm:this.props.searchTerm,filters:this.props.query.filters,viewStyle:this.props.viewStyle,onChangeFilters:this.props.onChangeFilters,onChangeViewStyle:this.props.onChangeViewStyle,className:"my-learning-items__header-actions"}),s.default.createElement(f.default,{filterLabels:(0,g.filterLabels)(),filters:this.props.query.filters,onChangeFilters:this.props.onChangeFilters,className:"my-learning-items__active-filter-box"}),this.props.isLoading?this.renderLoading():this.renderCourseList())))},renderLoading:function(){return s.default.createElement("div",{className:"loader-container"},s.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"}))},renderCourseList:function(){return s.default.createElement(d.default,{onAttachmentIconClick:this.props.onAttachmentIconClick,onRemoveItem:this.props.onRemoveItem,isSearching:this.isSearching(),highlight:this.props.query.search,learningItems:this.props.learningItems,recentLibraryItems:this.props.recentLibraryItems,activeItemId:this.props.activeItemId,noItemsText:I18n.t("You currently don't have anything assigned."),style:this.props.viewStyle,onViewAll:this.props.onViewAll})}});n(2727)(x),e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(97),o=r(i),l=n(54),u=r(l),c=n(2),d=n(62),p=r(d),f=n(6),m=r(f),h=n(146),g=r(h),v=n(12),_=n(5),y=n(1393),b=r(y),E=n(4),C=n(11),I=r(C),T=n(87),N=r(T),S=n(20),x=r(S),A=n(387),k=n(237),w=k.TrayLayout,R=k.TrayOutlet,O=k.ContentOutlet,P=n(606),L=n(22),M=s.default.createClass({displayName:"ViewAll",propTypes:{viewAllCategory:c.string,libraryItems:(0,c.arrayOf)(g.default),learningItems:(0,c.arrayOf)(n(81)),searchTerm:c.string,onChangeFilters:c.func,onViewAll:c.func,onRemoveItem:c.func,tags:(0,c.arrayOf)(n(247)),isLoading:c.bool},getInitialState:function(){return{query:this.getFilterParams()||{},trayIsOpen:!1}},getFilterParams:function(){return N.default.getItem("myLearning"+this.props.viewAllCategory+"FilterParams",N.default.SCOPE_USER)},sortItems:function(e){var t=this.state.query.sort;return t&&("title"===t?e=e.sort(function(e,t){var n=e.title.toLowerCase(),r=t.title.toLowerCase();return n<r?-1:n>r?1:0}):"-title"===t?e=e.sort(function(e,t){var n=e.title.toLowerCase(),r=t.title.toLowerCase();return n>r?-1:n<r?1:0}):"-added"===t&&(e=e.sort(function(e,t){var n=(0,I.default)(e.createdAt),r=(0,I.default)(t.createdAt);return n<r?-1:n>r?1:0}))),e},searchItems:function(e){var t=this.state.query;if(t.search){var n=new RegExp(".*"+t.search+".*","i");return e.filter(function(e){return e.title&&e.title.match(n)||e.description&&e.description.match(n)})}return e},render:function(){return s.default.createElement("div",{className:"my-learning-items"},s.default.createElement(w,{isOpen:this.state.trayIsOpen},s.default.createElement(O,{className:"library"},this.renderContent()),s.default.createElement(R,{onCloseClick:this.closeTray},s.default.createElement(P,{tags:this.props.tags,onTagClick:this.toggleTagFilter,isLoading:this.props.isLoading}))))},filterTags:function(){var e=A.getSelected().map(function(e){return e.name}),t=this.props.libraryItems;return(0,x.default)("learn_new_cards")&&(t=this.props.learningItems),e.length>0?t.filter(function(t){return(0,E.find)(t.tags,function(t){return(0,E.includes)(e,t)})}):t},renderContent:function(){var e=p.default.getLogoUrl(!0),t="layout--list__header";(0,x.default)("learn_new_cards")&&(t="layout--list__viewall-header");var n=(0,m.default)("brand-logo","brand-logo--placeholder",p.default.getLogoClass(!0)),r=this.searchItems(this.sortItems(this.filterTags())),a=this.getFilterParams();return s.default.createElement(o.default,{headerClassName:t},s.default.createElement(u.default,{name:"layout--list__before-header"},!!e&&s.default.createElement("span",{className:n},s.default.createElement("img",{src:e,alt:p.default.getName(),onLoad:p.default.handleLogoLoaded.bind(p.default,!0)})),this.renderBackLink()),s.default.createElement(u.default,{name:"layout--list__header-text"},this.renderHeader()),s.default.createElement(u.default,{name:"layout--list__content--without-container"},s.default.createElement(b.default,{showHeader:!1,onChangeParams:this.changeParams,onChangeSearch:this.changeParams,onRemoveItem:this.props.onRemoveItem,includeFilters:!1,urlDriven:!1,searchPlaceHolder:I18n.t("Search for %{category} learning items",{category:this.getHeaderString()}),libraryItems:r,searchTerm:a&&a.search||"",query:this.state.query,noItemsAddedIn:this.getNoItemsAddedString(),noItemsFoundIn:this.getNoItemsFoundString(),onTagRemoved:this.removeTagFilter,onTagTrayToggle:this.toggleTray,trayIsOpen:this.state.trayIsOpen})))},closeTray:function(){this.setState({trayIsOpen:!1})},openTray:function(){this.setState({trayIsOpen:!0})},toggleTray:function(){this.state.trayIsOpen?this.closeTray():this.openTray()},toggleTagFilter:function(e){var t=A.getByName(e);A.toggleSelected(t,!1),this.forceUpdate()},removeTagFilter:function(e){var t=A.getByName(e);A.removeSelected(t,!1),this.forceUpdate()},changeParams:function(e){var t=this.state.query;"filters"in e?0===e.filters.length?t.filters=void 0:t.filters=e.filters:"sort"in e?t.sort=e.sort:"search"in e&&(t.search=e.search),N.default.setItem("myLearning"+this.props.viewAllCategory+"FilterParams",(0,E.assign)({filters:t.filters,search:t.search},e),N.default.SCOPE_USER),this.setState({query:t})},getNoItemsAddedString:function(){switch(this.props.viewAllCategory){case v.MY_LEARNING_VIEWALL_ENUM.ACTIONABLE:return I18n.t("No items have been added to Needs Your Attention learning items.");case v.MY_LEARNING_VIEWALL_ENUM.REQUIRED:return I18n.t("No items have been added to Required learning items.");case v.MY_LEARNING_VIEWALL_ENUM.OPTIONAL:return I18n.t("No items have been added to Added By You learning items.");case v.MY_LEARNING_VIEWALL_ENUM.COMPLETED:return I18n.t("No items have been added to Completed learning items.");case v.MY_LEARNING_VIEWALL_ENUM.RECENT:return I18n.t("No items have been added to Recently Added learning items.");default:return I18n.t("No items have been added to learning items.")}},getNoItemsFoundString:function(){var e=this.props.searchTerm;switch(this.props.viewAllCategory){case v.MY_LEARNING_VIEWALL_ENUM.ACTIONABLE:return I18n.t("There are no matches for *%{searchTerm}* in Needs Your Attention learning items.",{searchTerm:e,wrappers:['<span class="search-highlight">$1</span>']});case v.MY_LEARNING_VIEWALL_ENUM.REQUIRED:return I18n.t("There are no matches for *%{searchTerm}* in Required learning items.",{searchTerm:e,wrappers:['<span class="search-highlight">$1</span>']});case v.MY_LEARNING_VIEWALL_ENUM.OPTIONAL:return I18n.t("There are no matches for *%{searchTerm}* in Optional learning items.",{searchTerm:e,wrappers:['<span class="search-highlight">$1</span>']});case v.MY_LEARNING_VIEWALL_ENUM.COMPLETED:return I18n.t("There are no matches for *%{searchTerm}* in Added By You Learning items.",{searchTerm:e,wrappers:['<span class="search-highlight">$1</span>']});case v.MY_LEARNING_VIEWALL_ENUM.RECENT:return I18n.t("There are no matches for *%{searchTerm}* in Recently Added learning items.",{searchTerm:e,wrappers:['<span class="search-highlight">$1</span>']});default:return I18n.t("There are no matches for *%{searchTerm}* in learning items.",{searchTerm:e,wrappers:['<span class="search-highlight">$1</span>']})}},getHeaderString:function(){switch(this.props.viewAllCategory){case v.MY_LEARNING_VIEWALL_ENUM.ACTIONABLE:return"Needs Your Attention";case v.MY_LEARNING_VIEWALL_ENUM.REQUIRED:return"Required";case v.MY_LEARNING_VIEWALL_ENUM.OPTIONAL:return"Added By You";case v.MY_LEARNING_VIEWALL_ENUM.COMPLETED:return"Completed";case v.MY_LEARNING_VIEWALL_ENUM.RECENT:return"Recently Added";default:return this.props.viewAllCategory}},renderHeader:function(){return I18n.t("%{category}",{category:this.getHeaderString()})},goBack:function(){this.props.onViewAll(v.MY_LEARNING_VIEWALL_ENUM.NONE)},renderBackLink:function(){return s.default.createElement("button",{className:"my-learning__viewall__exit-link block btn--reset",onClick:this.goBack},s.default.createElement(_.Icon,{className:"gs-arrow-left gs-1x margin-r-xs"}),s.default.createElement("span",{className:"button-focus-flat__label","data-capybara":"back_to_mylearning"},I18n.t("Back to My Learning")))}});e.exports=L({type:M,asyncProps:{tags:{fetch:function(){return A.fetchAll("learning_items",!1)},get:function(){return A.getAll()}}}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(161),u=r(l),c=n(27),d=r(c),p=n(11),f=r(p),m=n(6),h=r(m),g=n(137),v=r(g),_=n(19),y=r(_),b=n(753),E=s.default.createClass({displayName:"RegisterButton",propTypes:{session:u.default.isRequired},render:function(){var e=this.props.session,t=(0,b.hasSeatsAvailable)(e),n=(0,h.default)("live-training-calendar__action-button",{"live-training-calendar__action-button--registered":e.isRegistered,"live-training-calendar__action-button--unregistered":!e.isRegistered});return e.liveCourse?s.default.createElement(o.default,{className:n,disabled:!t&&!e.isRegistered,onClick:this.handleClick},this.renderNormalPrompt(t),this.renderScreenReaderPrompt(t)):(console.warn("Warning: LiveCourse not defined for RegisterButton:",e),null)},renderScreenReaderPrompt:function(e){return s.default.createElement(d.default,null,this.getScreenReaderButtonText(e))},renderNormalPrompt:function(e){return s.default.createElement("span",{"aria-hidden":"true"},this.getButtonText(e))},getScreenReaderButtonText:function(e){var t=this.props.session,n=t.liveCourse,r=t.isRegistered,a=t.startAt,s=n.title,i=(0,f.default)(a).format("LLLL");return r?I18n.t("Unregister from %{title} on %{startAt}",{title:s,startAt:i}):e?I18n.t("Register for %{title} on %{startAt}",{title:s,startAt:i}):I18n.t("No Seats Available for %{title} on %{startAt}",{title:s,startAt:i})},getButtonText:function(e){var t=this.props.session.isRegistered;return t?I18n.t("Unregister"):e?I18n.t("Register"):I18n.t("No Seats Available")},getProvider:function(){var e=this.props.session.webConference||{},t=e.provider,n=e.otherProvider;return n||t||I18n.t("None")},handleClick:function(){var e=this,t=this.props.session;return(0,b.toggleRegistration)(t).then(function(){return e.ariaAlertRegistrationChange(t)}).then(function(){return e.renderToast(t)})},hasRegistrationLink:function(e){return e&&e.registrationLink&&!/javascript:/.test(e.registrationLink)},renderToast:function(e){if(e.isRegistered)y.default.clear();else{var t=e.webConference,n=this.getProvider();this.hasRegistrationLink(t)&&(0,y.default)(I18n.t("Wait there's more!"),{subText:I18n.t("You will also need to register with %{provider}",{provider:n}),onButtonClick:function(){window.open(t.registrationLink)},buttonText:I18n.t("Go to %{provider}",{provider:n}),type:"error"})}},ariaAlertRegistrationChange:function(e){var t=e.liveCourse.title,n=(0,f.default)(e.startAt).format("LLLL");e.isRegistered?(0,v.default)(I18n.t("Successfully unregistered for %{title} on %{startAt}",{title:t,startAt:n}),"assertive"):(0,b.hasSeatsAvailable)(e)&&(0,v.default)(I18n.t("Successfully registered for %{title} on %{startAt}",{title:t,startAt:n}),"assertive")}});t.default=E,e.exports=t.default},function(e,t){"use strict";function n(){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(e)return e.bind(navigator)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return{s:10,defaultRetain:[1,3,7,14,21,28]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=r(s),o=n(1),l=r(o),u=n(23),c=n(56),d=n(75),p=n(561),f=n(258),m=n(134),h=r(m),g=n(37),v=r(g);t.default=l.default.createClass({displayName:"RetainChart",mixins:[(0,v.default)({mobile:v.default.QUERY_MOBILE})],statics:a(),propTypes:{teamData:i.default.array},componentDidMount:function(){this.svg=(0,c.select)((0,u.findDOMNode)(this)),this.drawWidget()},componentDidUpdate:function(){this.drawWidget()},render:function(){this.state.media.mobile?(this.svgHeight=200,this.svgWidth=250,this.margin=25):(this.svgHeight=200,this.svgWidth=500,this.margin=25);var e="-"+this.margin+" -"+this.margin+" "+(this.svgWidth+2*this.margin)+" "+(this.svgHeight+2*this.margin);return l.default.createElement(h.default,{className:"bridge-retain-learner-chart",viewBox:e,preserveAspectRatio:"xMidYMid meet",startingWidth:this.svgWidth,startingHeight:this.svgHeight})},drawWidget:function(){var e=this.props.teamData;if(0!==e.length){var t=this.svg,n=this.svgHeight,r=this.svgWidth;if(t){t.selectAll("g").remove();var a=this.constructor,s=a.s,i=a.defaultRetain,o=e.filter(function(e){return e.day<60});if(0!==o.length){var l=o[o.length-1].day,u=i[i.length-1],c=Math.max(l,u);this.x=(0,d.scaleLinear)().domain([0,1.1*c]).range([0,r]),this.y=(0,d.scaleLinear)().domain([0,100]).range([n,0]),this.retainData=[].slice.call(i),l>u&&this.retainData.push(l),this.retainData=this.retainData.map(function(e){return{day:e,score:100*Math.pow(Math.E,-e/s)}}),this.drawAxis(),this.drawLine(this.retainData,"retainData"),this.drawLine(o,"teamData"),this.drawBubble(o[o.length-1],"teamBubble")}}}},drawLine:function(e,t){var n=this.svg,r=this.x,a=this.y,s=n.append("g").attr("class",t),i=(0,p.path)();i.moveTo(r(0),a(100)),e.forEach(function(e){i.lineTo(r(e.day),a(e.score))}),s.append("path").style("stroke-width","4px").style("fill","none").attr("d",i.toString()),s.selectAll(".vertex").data(e).enter().append("circle").attr("cx",function(e){return r(e.day)}).attr("cy",function(e){return a(e.score)}).attr("r","4px").attr("class","vertex")},drawBubble:function(e,t){var n=this.svg,r=this.x,a=this.y,s=n.append("g").attr("class",t).attr("transform","translate("+r(e.day)+", "+a(e.score)+")");s.append("circle").attr("class","bubble-border").attr("r","25px").style("fill-opacity","0.4"),s.append("circle").attr("class","bubble-center").attr("r","20px").attr("stroke","white"),s.append("text").text(Math.round(e.score)+"%").attr("fill","white").attr("font-size","14").attr("text-anchor","middle").attr("alignment-baseline","central")},drawAxis:function(){var e=this.svg,t=this.x,n=this.y,r=this.svgHeight,a=this.svgWidth,s=this.margin,i=this.retainData,o=e.append("g").attr("class","axis"),l=(0,f.axisTop)(t).tickValues(i.map(function(e){return e.day})).tickFormat("").tickSizeOuter(0);o.append("g").attr("transform","translate(0, "+r+")").call(l),o.append("text").attr("class","axis-label").attr("transform","translate("+a/2+", "+(r+s-10)+")").style("text-anchor","middle").text(I18n.t("Elapsed days since learning"));var u=(0,f.axisRight)(n).tickValues([25,50,75,100]).tickFormat("");o.append("g").call(u),o.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("y",-10).attr("x",0-r/2).style("text-anchor","middle").text(I18n.t("Percent Retention"))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(43),l=n(137),u=r(l),c=n(266),d=r(c),p=n(91),f=r(p),m=n(6),h=r(m),g=n(77),v=r(g),_=n(20),y=r(_),b=n(31),E=r(b),C=s.default.createClass({displayName:"LoginView",propTypes:{uidPlaceholder:i.string,isFailed:i.bool,isPublic:i.bool,onForgotPassword:i.func,onLogin:i.func,onTogglePublic:i.func,passwordPlaceholder:i.string,layoutClasses:i.string,autoFocus:i.bool,showPasswordReset:i.bool,showPublicToggle:i.bool},getDefaultProps:function(){return{isFailed:!1,isPublic:!1,onForgotPassword:Function.prototype,onLogin:Function.prototype,onTogglePublic:Function.prototype,layoutClasses:"full-min-height",autoFocus:!0,showPasswordReset:!0,showPublicToggle:!0}},getInitialState:function(){return{formData:{uid:"",password:""}}},componentWillReceiveProps:function(e){e.isFailed&&(0,u.default)(I18n.t("Snap! You've got the wrong login ID or password."))},render:function(){var e=(0,y.default)("learn_login_branding"),t=this.props,n=t.isFailed,r=t.layoutClasses,a=t.showPasswordReset,i=t.isPublic,l=t.showPublicToggle,u=t.uidPlaceholder,c=t.passwordPlaceholder,p=(0,h.default)({"auth-layout__input":!0,"brand-border":n}),m=e?I18n.t("Username"):I18n.t("Login ID"),g=u||m,_=c||I18n.t("Password"),b=e?I18n.t("Forgot your password?"):I18n.t("I forgot my password"),C=e?I18n.t("Sign In"):I18n.t("Enter"),I=(0,h.default)("auth-layout__i-forgot auth-layout--anim-in__i-forgot",{pink:n}),T=e?I18n.t("Sign in to Bridge"):I18n.t("Welcome"),N=(0,h.default)("h1 text-center",{"screenreader-only":e});return s.default.createElement(d.default,{className:r,showBridgeLogo:!e,showLoader:!0},s.default.createElement("h1",{className:N},T),e&&!E.default.get("ACCOUNT.config.hide_login_bridge_logo")&&s.default.createElement(o.BridgeLogo,{className:"auth-layout__bridge-logo--horizontal auth-layout--anim-in__bridge-logo--horizontal brand-color"}),s.default.createElement("form",{className:"auth-layout__login-form",onSubmit:this.handleSubmit},s.default.createElement(v.default,{model:this.state.formData,field:"uid",label:g,className:"auth-layout__uid auth-layout--anim-in__uid "+p,error:n}),s.default.createElement(v.default,{model:this.state.formData,field:"password",type:"password",label:_,className:"auth-layout__password auth-layout--anim-in__password "+p,error:n}),l&&s.default.createElement(f.default,{className:"auth-layout__checkbox auth-layout--anim-in__checkbox",checked:i,onChange:this.handleTogglePublic},s.default.createElement("span",{className:"auth-layout__public auth-layout--anim-in__public"},I18n.t("I'm using a public computer"))),s.default.createElement("button",{type:"submit",className:"auth-layout__submit-btn auth-layout--anim-in__submit-btn brand-bg brand-border","data-capybara":"login_button"},C),a&&s.default.createElement("a",{className:I,id:"forgot-password-link",href:"javascript:void(0)",onClick:this.handleForgotPassword},b)))},handleSubmit:function(e){var t=this.state.formData,n=t.uid,r=t.password;e.preventDefault(),(0,u.default)(""),this.props.onLogin(n,r)},handleTogglePublic:function(){this.props.onTogglePublic(!this.props.isPublic)},handleForgotPassword:function(e){e.preventDefault(),this.props.onForgotPassword(this.state.formData.uid)}});n(2800)(C),t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(54),h=r(m),g=n(13),v=r(g),_=n(102),y=r(_),b=n(3),E=n(84),C=r(E),I=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderTools=function(){var e=r.props,t=e.placements,n=e.placementRouteName;return t.map(function(e){return f.default.createElement(v.default,{key:e.id,className:"lti-placement-list__item",to:n,params:[{placementId:e.id}]},e.iconUrl&&f.default.createElement("img",{"aria-hidden":"true",className:"lti-placement-list__item-icon",src:e.iconUrl}),f.default.createElement("span",{className:"lti-placement-list__item-text"},e.text))})},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.placements,t=e?e.length:0;return f.default.createElement("div",null,f.default.createElement(y.default,{type:"lti-placement-list",hasIcon:!1},f.default.createElement(h.default,{name:"layout--item-header__details"},f.default.createElement("h1",{className:"margin-none"},I18n.t("Learning Tools Interoperability")),f.default.createElement("div",null,I18n.t("Total LTIs: %{count}",{count:t})))),f.default.createElement("div",{className:"lti-placement-list"},e&&this.renderTools()))}}]),t}(f.default.Component);I.propTypes={placements:(0,b.arrayOf)(C.default).isRequired,placementRouteName:b.string.isRequired},t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(34),s=r(a),i=n(878),o=r(i),l=n(13),u=r(l),c=function(e,t){return o.default.reset(e,t).then(function(e){s.default.storeIdentity(e.token,e.user)})},d=function(e,t){return c(e,t).then(function(){u.default.transitionTo(s.default.getPostAuthRoute())})};e.exports={handleReset:d,savePassword:c}},function(e,t,n){"use strict";var r=n(878),a=n(13),s=n(19),i=n(22);e.exports={data:{fetch:function(e){return r.confirm(e.params.token).then(null,function(){throw a.transitionTo("login"),s(I18n.t("Invalid token!"),{type:"error"}),i.AbortedError})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(6),o=r(i),l=n(66),u=r(l),c=n(18),d=r(c),p=n(3),f=n(77),m=r(f),h=n(1486),g=r(h),v=n(12),_=n(20),y=r(_),b=s.default.createClass({displayName:"Form",propTypes:{onSubmit:p.func.isRequired,passwordPlaceholder:p.string,passwordConfirmationPlaceholder:p.string,submitButtonLabel:p.string},getInitialState:function(){return{isSubmitted:!1,isValid:!0,formData:{password:"",passwordConfirmation:""}}},render:function(){var e=this,t=this.state,n=t.error,r=t.formData,a=this.props.passwordPlaceholder||I18n.t("Password"),i=this.props.passwordConfirmationPlaceholder||I18n.t("Confirm Password"),l=(0,u.default)(function(){return e.validatePasswords()},v.GENERAL_DEBOUNCE_MS),c=(0,o.default)("btn alert filled centered block margin-tb-m brand-bg brand-border",{"auth-layout__submit-btn":(0,y.default)("learn_login_branding")});return s.default.createElement("form",{className:"auth-layout__login-form",onSubmit:this.handleSubmit},s.default.createElement("label",{htmlFor:"password",className:"screenreader-only"},I18n.t("Password")),s.default.createElement(m.default,{model:r,field:"password",type:"password",className:"auth-layout__input auth-layout__password",label:a,onChange:l,error:!!n}),s.default.createElement("label",{htmlFor:"confirm-password",className:"screenreader-only"},I18n.t("Confirm Password")),s.default.createElement(m.default,{model:r,field:"passwordConfirmation",type:"password",className:"auth-layout__input auth-layout__confirm-password",label:i,onChange:l,error:!!n}),s.default.createElement("p",{className:(0,o.default)({invisible:!n})+" margin-t-s margin-b-xxl error-msg"},n),s.default.createElement(d.default,{type:"submit",className:c,children:this.props.submitButtonLabel||I18n.t("Save and Log in")}))},handleSubmit:function(e){e.preventDefault(),this.validatePasswords()&&!this.state.isSubmitted&&(this.setState({isSubmitted:!0}),this.props.onSubmit(this.state.formData.password))},validatePasswords:function(){var e=this.state.formData,t=e.password,n=e.passwordConfirmation,r=null;return(t||n)&&(r=t!==n?I18n.t("Uh oh, those passwords don't match."):(0,g.default)(t)),this.setState({error:r}),!r}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(266),o=r(i),l=n(24),u=r(l),c=n(67),d=r(c),p=s.default.createClass({displayName:"SignedOutView",render:function(){return s.default.createElement(o.default,null,s.default.createElement("h1",{className:"h1"},s.default.createElement(u.default,null,I18n.t("Thank you for using Bridge"))),s.default.createElement(d.default,{to:"login",className:"btn filled"},I18n.t("Login")))}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.func,i=a.shape,o=a.string,l=n(64),u=n(60),c=n(324),d=c.getScormRegistrationInstancingOptions,p=c.getScormScoLaunchTypes,f=c.getScormScoreRollupModes;e.exports=r.createClass({displayName:"exports",propTypes:{scormSettings:i({registrationInstancingOption:o,scoLaunchType:o,scoreRollupMode:o}),onRegistrationChange:s,onLaunchChange:s,onRollupChange:s},render:function(){var e=this.props,t=e.scormSettings,n=e.onRegistrationChange,a=e.onLaunchChange,s=e.onRollupChange;return r.createElement("div",{className:"padding-rl-s"},r.createElement("label",{key:"label"},I18n.t("Registration Instancing")),",",r.createElement(l,{key:"combobox",dataCapybara:"config-scorm-registration-instancing-option",className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:n,selectedValue:t.registrationInstancingOption,children:d().map(function(e){return r.createElement(u,{key:e.value,value:e.value,label:e.label()})})}),r.createElement("label",null,I18n.t("Course Launch Type")),r.createElement(l,{dataCapybara:"config-scorm-sco-launch-type",className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:a,selectedValue:t.scoLaunchType,children:p().map(function(e){return r.createElement(u,{key:e.value,value:e.value,label:e.label()})})}),r.createElement("label",null,I18n.t("Score Rollup Mode")),r.createElement(l,{dataCapybara:"config-scorm-score-rollup-mode",className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:s,selectedValue:t.scoreRollupMode,children:f().map(function(e){return r.createElement(u,{key:e.value,value:e.value,label:e.label()})})}))}})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.number,o=r.shape;e.exports=o({id:a,accountId:a,location:a,name:a,fileModifiedAt:a,publishOnUpload:s,registrationInstancingOption:a,addToLearnerLibrary:s,defaultDaysUntilDue:i,scoLaunchType:a,scoreRollupMode:a,status:a})},function(e,t,n){"use strict";var r=n(1),a=n(67),s=n(18),i=n(475),o=n(2875),l=n(19),u=n(50),c=u.Table,d=u.Thead,p=u.Tr,f=u.Th,m=u.Tbody,h=n(3),g=h.string,v=r.createClass({displayName:"WebhookView",propTypes:{webhook:n(193),account:n(72),permissions:n(101),title:g},getInitialState:function(){return{webhook:{name:"",url:"",authentication:{bearer:{token:null},hmac:{secret:null}},resources:[]},resources:[{key:"course_templates",name:I18n.t("Courses"),events:[{key:"created",name:I18n.t("Created")},{key:"updated",name:I18n.t("Updated")},{key:"deleted",name:I18n.t("Deleted")}]},{key:"enrollments",name:I18n.t("Enrollments"),events:[{key:"created",name:I18n.t("Created")},{key:"updated",name:I18n.t("Updated")},{key:"completed",name:I18n.t("Completed")},{key:"deleted",name:I18n.t("Deleted")}]},{key:"live_courses",name:I18n.t("Live Trainings"),events:[{key:"created",name:I18n.t("Created")},{key:"updated",name:I18n.t("Updated")},{key:"deleted",name:I18n.t("Deleted")}]},{key:"live_course_session_registrations",name:I18n.t("Live Training Session Registrations"),events:[{key:"created",name:I18n.t("Created")},{key:"updated",name:I18n.t("Updated")},{key:"deleted",name:I18n.t("Deleted")}]},{key:"programs",name:I18n.t("Programs"),events:[{key:"created",name:I18n.t("Created")},{key:"updated",name:I18n.t("Updated")},{key:"deleted",name:I18n.t("Deleted")}]},{key:"program_enrollments",name:I18n.t("Program Enrollments"),events:[{key:"created",name:I18n.t("Created")},{key:"updated",name:I18n.t("Updated")},{key:"completed",name:I18n.t("Completed")},{key:"deleted",name:I18n.t("Deleted")}]},{key:"users",name:I18n.t("Users"),events:[{key:"created",name:I18n.t("Created")},{key:"updated",name:I18n.t("Updated")},{key:"deleted",name:I18n.t("Deleted")}]}]}},componentWillReceiveProps:function(e){e.webhook&&(this.markEventsSelected(e.webhook.resources),this.setState({webhook:e.webhook}))},render:function(){var e=this.props.account,t=this.state.webhook;return r.createElement("div",{className:"support-account padding-t-m"},r.createElement("div",{className:"layout--list__header"},r.createElement("h2",{className:"layout--list__header-text medium"},I18n.t("Webhook Detail"))),r.createElement("div",{className:"layout--list__content"},r.createElement("div",{className:"form-group margin-b-m margin-l-m"},r.createElement("div",null,r.createElement("label",null,r.createElement("span",{className:"inline-block padding-b-xs"},I18n.t("Name")),r.createElement("div",{className:"clearfix"},r.createElement("input",{className:"block padding-trbl-s input-m",type:"text",id:"webhook-name",value:t.name||"",onChange:this.onPropertyChange.bind(this,"name"),placeholder:I18n.t("Best wehbook evar!")})))))),r.createElement("div",{className:"layout--list__content"},r.createElement("div",{className:"form-group margin-b-m margin-l-m"},r.createElement("div",null,r.createElement("label",null,r.createElement("span",{className:"inline-block padding-b-xs"},I18n.t("Payload URL")),r.createElement("div",{className:"clearfix"},r.createElement("input",{className:"block padding-trbl-s input-m",type:"text",id:"webhook-url",value:t.url||"",onChange:this.onPropertyChange.bind(this,"url"),placeholder:I18n.t("https://example.com/postreceive")}))))),r.createElement("div",{className:"form-group margin-b-m margin-l-m"},r.createElement("div",null,r.createElement("label",null,r.createElement("span",{className:"inline-block padding-b-xs"},I18n.t("HMAC Secret")),r.createElement("div",{className:"clearfix"},r.createElement("input",{type:"password",className:"block padding-trbl-s input-m",id:"webhook-secret",value:t.authentication.hmac.secret||"",onChange:this.hmacSecretChanged,placeholder:I18n.t("An optional string to be used as an HMAC key")}))))),r.createElement("div",{
className:"form-group margin-b-m margin-l-m"},r.createElement("div",null,r.createElement("label",null,r.createElement("span",{className:"inline-block padding-b-xs"},I18n.t("Bearer Token")),r.createElement("div",{className:"clearfix"},r.createElement("input",{type:"password",className:"block padding-trbl-s input-m",id:"webhook-secret",value:t.authentication.bearer.token||"",onChange:this.bearerTokenChanged,placeholder:I18n.t("An optional string for the Authorization header")}))))),r.createElement("div",{className:"webhook__footer"},r.createElement(a,{to:"support.account.webhook",params:{accountId:e.id},className:"admin-dashboard__button margin-tb-xs"},I18n.t("Cancel")),r.createElement(s,{params:{accountId:e.id},onClick:this.onSaveClick,className:"admin-dashboard__button margin-tb-xs"},I18n.t("Save"))),t.id&&this.renderWebhookResources()))},renderWebhookResources:function(){return r.createElement(c,null,r.createElement(d,null,r.createElement(p,{mobileClassNames:"pure-g"},r.createElement(f,{className:"th-80",mobileClassNames:"pure-u-4-5"},I18n.t("Resource")),r.createElement(f,{className:"th-20",mobileClassNames:"pure-u-1-5"},I18n.t("Events")))),r.createElement(m,null,this.state.resources.map(this.renderWebhookResource)))},renderWebhookResource:function(e){return r.createElement(o,{key:e.key,name:e.name,account:this.props.account,webhook:this.props.webhook||this.state.webhook,value:e.key,events:e.events,onCheckboxChange:this.onResourceCheckboxChange,onEventCancel:this.onEventCancelClick})},markEventsSelected:function(e){var t=this,n=this.state.resources;e.forEach(function(e){var r=t.getDisplayedResource(n,e.resource);r&&e.events.forEach(function(e){var t=r.events.find(function(t){return t.key===e});t?t.selected=!0:t.selected=!1})}),this.setState({resources:n})},onResourceCheckboxChange:function(e){e.selected=!e.selected,this.setState({resources:this.state.resources})},onEventCancelClick:function(e){var t=this.state.resources,n=this.getDisplayedResource(t,e).events,r=this.getSavedResource(e);n.forEach(function(e){r&&r.events.some(function(t){return t===e.key})?e.selected=!0:e.selected=!1}),this.setState({resources:t})},getSavedResource:function(e){var t=this.state.webhook;return t?t.resources.find(function(t){return t.resource===e}):null},getDisplayedResource:function(e,t){return e.find(function(e){return e.key===t})},onPropertyChange:function(e,t){var n=this.state.webhook;n[e]=this.resolveEventValue(t),this.setState({webhook:n})},bearerTokenChanged:function(e){var t=this.state.webhook;t.authentication.bearer.token=this.resolveEventValue(e),this.setState({webhook:t})},hmacSecretChanged:function(e){var t=this.state.webhook;t.authentication.hmac.secret=this.resolveEventValue(e),this.setState({webhook:t})},resolveEventValue:function(e){return"string"==typeof e?e:e.target.value},onSaveClick:function(){var e=this,t=this.props.account,n=this.state.webhook;n.id?i.update(t.id,n.id,n).then(function(){l(I18n.t("Webhook updated!"))},function(){l(I18n.t("An error occurred while updating the webhook."),{type:"error"})}):i.create(t.id,n).then(function(t){e.setState({webhook:t}),l(I18n.t("Webhook created!"))},function(){l(I18n.t("An error occurred while adding the webhook."),{type:"error"})})}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2878),o=r(i),l=n(421),u=r(l),c=n(2876),d=r(c),p=n(291),f=r(p),m=n(64),h=r(m),g=n(60),v=r(g),_=n(595),y=r(_),b=n(441),E=r(b),C=n(373),I=r(C),T=n(818),N=r(T),S=n(3096),x=r(S),A=n(72),k=r(A),w=n(108),R=r(w),O=n(3),P=n(872),L=n(1439),M=n(896),D=n(20),U=r(D),F=n(324),q=n(4),B=n(19),j=r(B),H=n(11),G=r(H),W=n(12),V=n(2877),Y=r(V),z="YYYY-MM-DD",K=function(e){var t={};return(0,M.getConfigOptions)(e).forEach(function(n){var r=e.toLowerCase()+n.value.charAt(0).toUpperCase()+n.value.slice(1);t[r]=n.label}),t};e.exports=s.default.createClass({displayName:"exports",propTypes:{account:k.default,dns:n(191),permissions:n(101),isNew:O.bool,onSubmit:O.func},getDefaultProps:function(){return{dns:{status:"none"},permissions:{},isNew:!1}},getInitialState:function(){return{account:this.props.account}},renderWebhooks:function(){var e=this.state.account;return(0,U.default)("webhooks_v2")?s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"webhooksEnabled","data-capybara":"account-config-webhooksEnabled-checkbox",onObjectUpdated:this.handleFormInputChanged,checked:e.config.webhooksEnabled||!1}),I18n.t(" Enable Event Stream (Services dependent on the stream, like webhooks, need it activated.)"))):(e.config.webhooks=e.config.webhooks||{},s.default.createElement("div",null,s.default.createElement("h4",{className:"medium"},I18n.t("Webhook Integrations")),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block padding-l-s margin-b-xs"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config.webhooks,field:"courseCompletedEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.webhooks.courseCompletedEnabled}),I18n.t("Course Completed"))),e.config.webhooks.courseCompletedEnabled&&s.default.createElement("div",null,s.default.createElement("label",{className:"padding-l-s"},I18n.t("URL"),s.default.createElement(u.default,{value:e.config.webhooks.courseCompletedUrl,formObject:e.config.webhooks,field:"courseCompletedUrl",onObjectUpdated:this.handleFormInputChanged,type:"url",className:"padding-trbl-s input-m margin-l-s"})))))},render:function(){var e=this.state.account,t=this.props,n=t.dns,r=t.permissions,a=t.isNew;return e.host=e.host||{},e.config=e.config||{},e.config.scorm=e.config.scorm||{},e.config.calendar=e.config.calendar||{},e.importProfile=e.importProfile||{},e.domain=e.domain||{},e.notificationProfile=e.notificationProfile||{},e.createdAt=e.createdAt||(new Date).toJSON(),e.config.expirationDate=e.config.expirationDate||(0,G.default)(new Date).add(W.FREE_TRIAL_LENGTH,"days").format(z),s.default.createElement("form",{className:"account-profile",onSubmit:this.onSubmit},s.default.createElement("label",null,I18n.t("Customer Name"),s.default.createElement(u.default,{value:e.name,autoFocus:!0,"data-capybara":"account-name-input",id:"account-name",formObject:e,field:"name",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("Subdomain"),s.default.createElement("div",null,s.default.createElement(u.default,{value:e.host.subdomain,id:"account-subdomain",formObject:e.host,field:"subdomain",onObjectUpdated:this.handleFormInputChanged,"data-capybara":"subdomain-input",className:"padding-trbl-s input-m margin-b-xl margin-t-s text-right"}),s.default.createElement("span",null,".bridgeapp.com"),s.default.createElement(y.default,{dns:n,onRetry:f.default.updateDNS}))),s.default.createElement("label",null,I18n.t("Cluster"),s.default.createElement("div",null,s.default.createElement(u.default,{disabled:!0,value:e.cluster,className:"padding-trbl-s input-m margin-b-xl margin-t-s text-right"}))),!this.props.isNew&&s.default.createElement("label",{className:"block margin-b-l"},I18n.t("Creation Date:")," ",s.default.createElement("b",null,(0,G.default)(e.createdAt).format("MMM Do YYYY"))," (",(0,G.default)(e.createdAt).fromNow(),")"),s.default.createElement(d.default,{account:e,handleAccountTypeChanged:this.handleAccountTypeChanged,handleExpirationDateChanged:this.handleExpirationDateChanged,handleFormInputChanged:this.handleFormInputChanged}),s.default.createElement("label",null,I18n.t("Default Language")),s.default.createElement(E.default,{className:"input-m margin-b-xl",selectedValue:e.config.locale,onChange:this.handleLocaleChanged,locales:R.default.getAll()}),s.default.createElement("label",null,I18n.t("Default Timezone")),s.default.createElement("div",{className:"account-profile__time-zone"},s.default.createElement(I.default,{id:"account-timezone-selector",className:"account-profile__time-zone__selector",value:e.config.timeZone,onChange:this.handleTimeZoneChanged})),s.default.createElement("label",null,I18n.t("Contact Name"),s.default.createElement(u.default,{value:e.config.contactName,id:"account-contact-name",formObject:e.config,field:"contactName",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("Contact Email"),s.default.createElement(u.default,{value:e.config.contactEmail,id:"account-contact-email",formObject:e.config,field:"contactEmail",onObjectUpdated:this.handleFormInputChanged,type:"email",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("Contact Phone"),s.default.createElement(u.default,{value:e.config.contactPhone,id:"account-contact-phone",formObject:e.config,field:"contactPhone",onObjectUpdated:this.handleFormInputChanged,type:"tel",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),!(0,U.default)("learn_sub_account_support_settings")&&s.default.createElement(N.default,{config:e.config,accountType:e.accountType,accountName:e.name,onChange:this.handleConfigsChanged}),s.default.createElement("fieldset",null,s.default.createElement("legend",null,"Enterprise Settings"),!this.props.isNew&&s.default.createElement(o.default,{vanityDomain:e.host.vanityDomain,vanityState:e.host.vanityDomainState,onUrlChange:this.handleVanityUrlChanged,onStateChange:this.handleVanityUrlStateChanged}),s.default.createElement("label",null,I18n.t("Salesforce ID"),s.default.createElement(u.default,{value:e.config.salesforceId,formObject:e.config,field:"salesforceId",onObjectUpdated:this.handleFormInputChanged,type:"tel",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("Lynda Org ID"),s.default.createElement(u.default,{value:e.config.lyndaOrgId,formObject:e.config,field:"lyndaOrgId",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("div",{hidden:""===this.getLyndaOrgId().trim()},s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"lyndaLibraryEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.lyndaLibraryEnabled}),I18n.t(" Enable Lynda Library for Learners"))),s.default.createElement("label",null,I18n.t("Session reissue time, in seconds"),s.default.createElement(u.default,{value:e.config.sessionReissueSeconds,formObject:e.config,field:"sessionReissueSeconds",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("Session expiration time, in seconds"),s.default.createElement(u.default,{value:e.config.sessionExpireSeconds,formObject:e.config,field:"sessionExpireSeconds",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("Session timeout redirect URL"),s.default.createElement(u.default,{value:e.config.sessionTimeoutRedirectUrl,formObject:e.config,field:"sessionTimeoutRedirectUrl",onObjectUpdated:this.handleFormInputChanged,placeholder:"https://www.example.com",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("URLs allowed to host Bridge in a frame"),s.default.createElement(u.default,{value:e.config.iframeHost,formObject:e.config,field:"iframeHost",onObjectUpdated:this.handleFormInputChanged,placeholder:"https://www.example.com https://www.example2.com",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,I18n.t("Terms of Use")),s.default.createElement(h.default,{className:"combo-box--tac combo-box--message-filter padding-t-xs",onChange:this.handleTacTypeChanged,selectedValue:e.domain.tacType,children:(0,L.getTacTypes)().map(function(e){return s.default.createElement(v.default,{key:e.value,value:e.value,label:e.label})})}),s.default.createElement("textarea",{value:e.domain.tacCustomBody||"",hidden:"custom"!==e.domain.tacType,onChange:this.handleTacCustomBodyChanged,id:"account-tac-custom-body",className:"support-account__modal-textarea margin-t-s",placeholder:I18n.t("Custom Terms of Use")}),s.default.createElement("div",{className:"margin-t-xl"}),s.default.createElement("label",null,I18n.t("Auth Type")),s.default.createElement(h.default,{className:"combo-box--message-filter padding-t-xs",onChange:this.handleProviderChanged,dataCapybara:"auth-type",selectedValue:e.config.auth.provider,children:(0,M.getAuthTypes)().map(function(e){return s.default.createElement(v.default,{key:e.value,value:e.value,label:e.label})})}),this.renderAuthTypes(e),s.default.createElement("div",{className:"margin-t-xl"}),s.default.createElement("div",{hidden:"Basic"===e.config.auth.provider},s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox","data-capybara":"account-config-createUsersFromAuthHash-checkbox",formObject:e.config,field:"createUserFromAuthHash",onObjectUpdated:this.handleFormInputChanged,checked:e.config.createUserFromAuthHash||!1}),I18n.t(" Create users from external authorization"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e,field:"active",onObjectUpdated:this.handleFormInputChanged,checked:e.active||!1}),I18n.t(" Active"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement("input",{"data-capybara":"account-config-product-learn-checkbox",type:"checkbox",value:"learn",onChange:this.handleProductChanged,checked:(0,P.isProductEnabled)(e.config.products,"learn")}),I18n.t(" Enable Learn"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement("input",{"data-capybara":"account-config-product-perform-checkbox",type:"checkbox",value:"perform",onChange:this.handleProductChanged,checked:(0,P.isProductEnabled)(e.config.products,"perform")}),I18n.t(" Enable Perform"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement("input",{"data-capybara":"account-config-product-career-checkbox",type:"checkbox",value:"career",onChange:this.handleProductChanged,checked:(0,P.isProductEnabled)(e.config.products,"career")}),I18n.t(" Enable Career"))),s.default.createElement("div",{hidden:!e.active},s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.notificationProfile,field:"notifications",onObjectUpdated:this.handleFormInputChanged,checked:e.notificationProfile.notifications&&e.active||!1}),I18n.t(" Send Email Notifications"))),s.default.createElement("div",{hidden:!e.notificationProfile.notifications},s.default.createElement("label",{className:"margin-l-m"},I18n.t("Custom From Label"),s.default.createElement(u.default,{value:e.notificationProfile.fromLabel,formObject:e.notificationProfile,field:"fromLabel",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-l-m margin-b-xl margin-t-s"})),s.default.createElement("label",{className:"margin-l-m"},I18n.t("Reply To Address"),s.default.createElement(u.default,{value:e.notificationProfile.replyTo,formObject:e.notificationProfile,field:"replyTo",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-l-m margin-b-xl margin-t-s"})))),(0,U.default)("slack")&&s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m",hidden:!e.active},s.default.createElement(u.default,{type:"checkbox",formObject:e.notificationProfile,field:"chatNotifications",onObjectUpdated:this.handleFormInputChanged,checked:e.notificationProfile.chatNotifications&&e.active||!1}),I18n.t(" Send Slack Notifications"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"autoCsv",onObjectUpdated:this.handleFormInputChanged,checked:e.config.autoCsv}),I18n.t(" Enable Automatic CSV Import"))),e.config.autoCsv&&s.default.createElement(Y.default,{account:e,handleFormInputChanged:this.handleFormInputChanged}),s.default.createElement("div",{className:"margin-b-m"}),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"cloneable",onObjectUpdated:this.handleFormInputChanged,checked:e.config.cloneable}),I18n.t(" Cloneable"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"importPasswords",onObjectUpdated:this.handleFormInputChanged,checked:e.config.importPasswords}),I18n.t(" Allow admins to import passwords in CSV"))),(0,U.default)("office365_calendar")&&s.default.createElement("div",null,s.default.createElement("h4",{className:"medium"},I18n.t("Calendar Integrations")),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block padding-l-s margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config.calendar,field:"office365",onObjectUpdated:this.handleFormInputChanged,checked:e.config.calendar.office365}),I18n.t(" Office 365")))),this.renderWebhooks(),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"progressiveFinanceCustomization",onObjectUpdated:this.handleFormInputChanged,checked:e.config.progressiveFinanceCustomization}),I18n.t(" Enable custom link for Progressive Finance"))),s.default.createElement(x.default,{customBackToMyLearningLabel:e.config.customBackToMyLearningLabel,customBackToMyLearningHref:e.config.customBackToMyLearningHref,onChange:this.handleConfigsChanged}),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"dataDumpEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.dataDumpEnabled}),I18n.t(" Enable data dump"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"dataDumpSubaccountEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.dataDumpSubaccountEnabled}),I18n.t(" Enable sub account data dump"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"learnerLibraryEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.learnerLibraryEnabled}),I18n.t(" Enable learner library"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"learnerLibraryImagesDisabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.learnerLibraryImagesDisabled}),I18n.t(" Disable background images in learner library"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"learnerCalendarEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.learnerCalendarEnabled}),I18n.t(" Show Learner Calendar"))),s.default.createElement("div",null,s.default.createElement("label",null,s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"bridgeRetain",onObjectUpdated:this.handleFormInputChanged,checked:e.config.bridgeRetain}),I18n.t(" Enable Bridge Retain")),s.default.createElement("div",{className:"margin-bl-m"},I18n.t("Notifications must be on for Retain to work"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"externalCourseIdEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.externalCourseIdEnabled}),I18n.t(" Enable external IDs for Learning Items"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"limitedAuthoring",onObjectUpdated:this.handleFormInputChanged,checked:e.config.limitedAuthoring}),I18n.t(" Limit content editing to owners"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"limitedManagers",onObjectUpdated:this.handleFormInputChanged,checked:e.config.limitedManagers}),I18n.t(" Limit manager permissions (no authoring or enrolling)"))),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"hideLoginBridgeLogo",onObjectUpdated:this.handleFormInputChanged,checked:e.config.hideLoginBridgeLogo}),I18n.t(" Hide Bridge logo on login page"))),s.default.createElement("div",null,s.default.createElement("label",{key:"label"},I18n.t("SCORM: registration instancing option")),",",s.default.createElement(h.default,{key:"combobox",dataCapybara:"config-scorm-registration-instancing-option",className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:this.handleScormRegistrationInstancingOptionChanged,selectedValue:e.config.scorm.registrationInstancingOption,children:(0,F.getScormRegistrationInstancingOptions)().map(function(e){return s.default.createElement(v.default,{key:e.value,value:e.value,label:e.label()})})}),s.default.createElement("label",null,I18n.t("SCORM: course launch type")),s.default.createElement(h.default,{dataCapybara:"config-scorm-sco-launch-type",className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:this.handleScormScoLaunchTypeChanged,selectedValue:e.config.scorm.scoLaunchType,children:(0,F.getScormScoLaunchTypes)().map(function(e){return s.default.createElement(v.default,{key:e.value,value:e.value,label:e.label()})})}),s.default.createElement("label",null,I18n.t("SCORM: score rollup mode")),s.default.createElement(h.default,{dataCapybara:"config-scorm-score-rollup-mode",className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:this.handleScormScoreRollupModeChanged,selectedValue:e.config.scorm.scoreRollupMode,children:(0,F.getScormScoreRollupModes)().map(function(e){return s.default.createElement(v.default,{key:e.value,value:e.value,label:e.label()})})})),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",formObject:e.config,field:"elasticSearchEnabled",onObjectUpdated:this.handleFormInputChanged,checked:e.config.elasticSearchEnabled}),I18n.t(" Enable ElasticSearch indexing and search"),s.default.createElement("em",null," - Hack Week Experiment")))),(r.update||a)&&s.default.createElement("button",{className:"btn filled block margin-t-m",onClick:this.handleSubmit,"data-capybara":"submit-button",type:"submit"},a?I18n.t("Save"):I18n.t("Update")))},renderAuthTypes:function(e){switch(e.config.auth.provider){case"CAS":return this.renderCAS(e);case"SAML":return this.renderSAML(e);case"LDAP":return this.renderLDAP(e)}return null},renderCAS:function(e){var t=K(e.config.auth.provider);return s.default.createElement("div",null,s.default.createElement("label",null,t.casUrl,s.default.createElement(u.default,{value:e.config.auth.url,formObject:e.config.auth,field:"url",onObjectUpdated:this.handleFormInputChanged,type:"url",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.casLogoutPath,s.default.createElement(u.default,{value:e.config.auth.logoutPath,formObject:e.config.auth,field:"logoutPath",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})))},renderSAML:function(e){var t=K(e.config.auth.provider),n=void 0===e.config.auth.customizeSamlEntityId||e.config.auth.customizeSamlEntityId;return s.default.createElement("div",null,s.default.createElement("label",null,t.samlIdpEntityId,s.default.createElement(u.default,{value:e.config.auth.idpEntityId,formObject:e.config.auth,field:"idpEntityId",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-l margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.samlIdpCertFingerprint,s.default.createElement(u.default,{value:e.config.auth.idpCertFingerprint,formObject:e.config.auth,field:"idpCertFingerprint",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-l margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.samlIdpCert,s.default.createElement("textarea",{value:e.config.auth.idpCert,onChange:this.handleSamlIdpCertChanged,id:"account-saml-certificate",className:"support-account__saml-certificate"})),s.default.createElement("label",null,t.samlIdpSsoTargetUrl,s.default.createElement(u.default,{value:e.config.auth.idpSsoTargetUrl,formObject:e.config.auth,field:"idpSsoTargetUrl",onObjectUpdated:this.handleFormInputChanged,type:"url",className:"block padding-trbl-s input-l margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.samlIdpSloTargetUrl,s.default.createElement(u.default,{value:e.config.auth.idpSloTargetUrl,formObject:e.config.auth,field:"idpSloTargetUrl",onObjectUpdated:this.handleFormInputChanged,type:"url",className:"block padding-trbl-s input-l margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.samlLogoutRedirectUrl,s.default.createElement(u.default,{value:e.config.auth.logoutRedirectUrl,formObject:e.config.auth,field:"logoutRedirectUrl",onObjectUpdated:this.handleFormInputChanged,type:"url",className:"block padding-trbl-s input-l margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.samlNameIdentifierFormat),s.default.createElement(h.default,{className:"combo-box input-l margin-b-xl margin-t-s",dataCapybara:"auth-nameid-format",type:"urn",onChange:this.handleSamlIdentifierFormatChanged,selectedValue:e.config.auth.nameIdentifierFormat,children:(0,M.getSamlNameIds)().map(function(e){return s.default.createElement(v.default,{key:e.value,value:e.value,label:e.label})})}),s.default.createElement("label",null,t.samlAuthnContext,s.default.createElement(u.default,{value:e.config.auth.authnContext,formObject:e.config.auth,field:"authnContext",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-l margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.samlAllowedClockDrift,s.default.createElement(u.default,{value:e.config.auth.allowedClockDrift,formObject:e.config.auth,field:"allowedClockDrift",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-l margin-b-xl margin-t-s"})),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",checked:e.config.auth.skipConditions,formObject:e.config.auth,field:"skipConditions",onObjectUpdated:this.handleFormInputChanged})," "+t.samlSkipConditions)),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",checked:e.config.auth.skipSubjectConfirmation,formObject:e.config.auth,field:"skipSubjectConfirmation",onObjectUpdated:this.handleFormInputChanged})," "+t.samlSkipSubjectConfirmation)),s.default.createElement("div",null,s.default.createElement("label",{className:"pointer inline-block margin-b-m"},s.default.createElement(u.default,{type:"checkbox",checked:n,formObject:e.config.auth,field:"customizeSamlEntityId",onObjectUpdated:this.handleFormInputChanged})," "+t.samlCustomizeSamlEntityId)))},renderLDAP:function(e){var t=K(e.config.auth.provider);return s.default.createElement("div",null,s.default.createElement("label",null,I18n.t("LDAP Title"),s.default.createElement(u.default,{value:e.config.auth.title,formObject:e.config.auth,field:"title",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapHost,s.default.createElement(u.default,{value:e.config.auth.host,formObject:e.config.auth,field:"host",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapPort,s.default.createElement(u.default,{value:e.config.auth.port,formObject:e.config.auth,field:"port",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapBase,s.default.createElement(u.default,{value:e.config.auth.base,formObject:e.config.auth,field:"base",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapMethod,s.default.createElement(u.default,{value:e.config.auth.method,formObject:e.config.auth,field:"method",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapUid,s.default.createElement(u.default,{value:e.config.auth.uid,formObject:e.config.auth,field:"uid",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapFilter,s.default.createElement(u.default,{value:e.config.auth.filter,formObject:e.config.auth,field:"filter",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapBindDn,s.default.createElement(u.default,{value:e.config.auth.bindDn,formObject:e.config.auth,field:"bindDn",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",null,t.ldapPassword,s.default.createElement(u.default,{value:e.config.auth.password,type:"password",formObject:e.config.auth,field:"password",onObjectUpdated:this.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})))},handleFormInputChanged:function(){this.setState({account:this.state.account})},handleExpirationDateChanged:function(e){this.setState(function(t){var n=t.account;return n.config.expirationDate=(0,G.default)(e).format("YYYY-MM-DD"),{account:n}})},handleScormRegistrationInstancingOptionChanged:function(e){this.setState(function(t){var n=t.account;return n.config.scorm.registrationInstancingOption=e,{account:n}})},handleScormScoLaunchTypeChanged:function(e){this.setState(function(t){var n=t.account;return n.config.scorm.scoLaunchType=e,{account:n}})},handleScormScoreRollupModeChanged:function(e){this.setState(function(t){var n=t.account;return n.config.scorm.scoreRollupMode=e,
{account:n}})},handleAccountTypeChanged:function(e){this.setState(function(t){var n=t.account;return n.accountType=e,(0,P.isProductEnabled)(n.config.products,"learn")&&(n.config.products=(0,P.updateProduct)(n.config.products,"learn",(0,P.defaultSubscriptionType)("learn",n))),{account:n}})},handleConfigsChanged:function(e){var t=this;this.setState(function(n){var r=n.account;return r.config=(0,q.assign)(t.state.account.config,e),{account:r}})},handleVanityUrlChanged:function(e){this.setState(function(t){var n=t.account;return n.host.vanityDomain=e,{account:n}})},handleVanityUrlStateChanged:function(e){this.setState(function(t){var n=t.account;return n.host.vanityDomainState=e,{account:n}})},handleLocaleChanged:function(e){this.setState(function(t){var n=t.account;return n.config.locale=e,{account:n}})},handleTimeZoneChanged:function(e){this.setState(function(t){var n=t.account;return n.config.timeZone=e?e:null,{account:n}})},handleTacTypeChanged:function(e){"none"===e?(0,j.default)(I18n.t("Please do not save this setting for an account until you have confirmed with legal that the client has signed a contract addendum to support this."),{type:"error"}):j.default.clear(),this.setState(function(t){var n=t.account;return n.domain.tacType=e,{account:n}})},handleTacCustomBodyChanged:function(e){var t=e.target.value;this.setState(function(e){var n=e.account;return n.domain.tacCustomBody=t,{account:n}})},handleProductChanged:function(e){var t=e.target.value,n=e.target.checked;this.setState(function(e){var r=e.account;return r.config.products=(0,P.updateProduct)(r.config.products,t,n&&(0,P.defaultSubscriptionType)(t,r)),{account:r}})},handleProviderChanged:function(e){this.setState(function(t){var n=t.account;return n.config.auth.provider=e,{account:n}})},handleSamlIdpCertChanged:function(e){var t=e.target.value;this.setState(function(e){var n=e.account;return n.config.auth.idpCert=t,{account:n}})},handleSamlIdentifierFormatChanged:function(e){this.setState(function(t){var n=t.account;return n.config.auth.nameIdentifierFormat=e,{account:n}})},handleChangeAutoCsvDays:function(e,t){this.setState(function(n){var r=n.account;return r.importProfile.csvDays[e]=t,{account:r}})},handleChangeAutoCsvTime:function(e){this.setState(function(t){var n=t.account;return n.importProfile.csvTime=e,{account:n}})},handleSubmit:function(e){e.preventDefault(),this.props.onSubmit(this.state.account)},getLyndaOrgId:function(){return this.state.account.config.lyndaOrgId||""}})},function(e,t,n){"use strict";var r=n(29);e.exports=function(e){return(e.adminToken&&e.visitUrl&&r("account_visit"))===!0}},function(e,t,n){"use strict";var r=n(21),a=n(2893),s=n(19),i=n(5),o=i.utils.I18nStringConstants,l=n(44),u=function(e){this.searching=!1;var t=403===e.status?o.getInsufficientPermissionsErrorMessage():I18n.t("Oh Snap! We were unable to perform the search. Please try again later.");s(t,{type:"error"})},c=r({displayName:"UserAccountStore",schema:n(581),searching:!1,getInitialState:function(){return{paginator:l(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.performWithoutParsing({nextPageURL:e,data:t})})}},fetchAll:function(e){var t=this;return this.searching=!0,this.state.paginator.findFirstPage(e.query).then(function(n){decodeURI(window.location.pathname).endsWith(e.path)&&(t.searching=!1,t.cache.setCollection(e.query,a.parse(n)))}).catch(u.bind(this))},fetchNext:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.paginator.hasMorePages()&&(this.searching=!0,this.emitChange(),this.state.paginator.findNextPage(t).then(function(n){e.searching=!1,e.cache.add(t,a.parse(n)),0===n.users.length&&e.emitChange()}).catch(u.bind(this)))},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cache.getCollection(e)}});e.exports=c},function(e,t,n){"use strict";var r=n(21),a=n(265),s=n(1347),i=n(2937),o=n(2938),l=n(582),u=n(2939),c=n(2940),d=n(197),p=n(155),f=p.AGGREGATE_GROUP_ID,m=p.INITIAL_SLIDER_VALUE,h=r({displayName:"SurveyResultsStore",schema:n(1419),getInitialState:function(){return{questions:[],groups:[],groupResults:[],placeholders:[0],threshold:m,inspectedQuestionId:null}},fetch:function(e,t){var n=this,r={},s=function(){return a.findAll(e).then(function(e){var t=e.questions;r.questions=u.parse(t)})},o=function(){return c(e,t)},d=function(e){var t=i.parse({questions:r.questions,groupResults:e.groupResults});r.groupResults=[t].concat(e.groupResults),r.groups=l.parse(r.groupResults)};return a.cache.clear(),this.replaceState(this.getInitialState()),s().then(o).then(d).then(function(){n.setState(r)})},setMaximumVisibilityThreshold:function(e){this.setState({threshold:e})},getMaximumVisibilityThreshold:function(){return this.state.threshold},setInspectedQuestionId:function(e){null===e&&this.state.inspectedQuestionId?this.setState({inspectedQuestionId:null}):d(this.state.questions,"id",e)&&this.setState({inspectedQuestionId:e})},getInspectedQuestionId:function(){return this.state.inspectedQuestionId},getGroups:function(){return this.state.groups},getPlottableResults:function(e){var t=this.state,n=t.questions,r=t.groupResults,a=t.threshold,i=s.parse({questions:n,groupResults:this._applyGroupFilters(r,e),threshold:a});return this._insertPlaceholderQuestions(i),i},_applyGroupFilters:function(e,t){return t&&t.length||(t=[f]),e.filter(function(e){return t.indexOf(e.id)>-1})},_insertPlaceholderQuestions:function(e){var t,n,r=this.state.inspectedQuestionId,a=[0];r&&(t=d(e,"questionId",r),n=e.indexOf(t),n>-1&&a.push(n+2)),a.forEach(function(t){e.splice(t,0,o.parse(t))})}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.length>0?e.reduce(function(e,t){return e+(t.score||0)},0)/e.length:0}function s(e){return e.length?(0,d.min)((0,c.default)(e,"score"))||0:0}function i(e,t){var n=e.id;return t.reduce(function(e,t){var r=(0,l.default)(t.answers,"questionId",n);return e.concat({questionId:n,groupId:t.id,score:r?r.score:null})},[])}var o=n(197),l=r(o),u=n(651),c=r(u),d=n(71),p=n(3);t.input={threshold:p.number,questions:[{id:p.string,text:p.string}],groups:[{id:p.string,name:p.string,answers:[{questionId:p.string,score:p.number}]}]},t.output=[{questionId:p.string,questionText:p.string,questionPosition:p.number,avgScore:p.number,minScore:p.number,active:p.bool,answers:[{groupId:p.string,score:p.number}]}],t.parse=function(e){var t=e.questions,n=e.groupResults,r=e.threshold;return t.reduce(function(e,t){var o=i(t,n),l=a(o),u=s(o),c=!0;return void 0!==r&&(c=u<=r),e.concat({questionId:t.id,questionText:t.statement,questionPosition:t.position,answers:o,avgScore:l,minScore:u,active:c})},[])}},function(e,t,n){"use strict";var r=n(213),a={fetchSurveys:function(e){return r.findFirstPage(e)},fetchMoreSurveys:function(e){return r.findNextPage(e)},deleteSurvey:function(e){return r.deleteRecord(e.id)},createSurvey:function(){return r.createRecord({})}};e.exports=a},function(e,t,n){"use strict";var r=n(47),a=n(199),s=n(162),i=n(66),o=n(4),l=o.omit,u=n(7),c=n(21),d=n(118),p=n(126),f=n(68),m=f.of(n(463)),h=function(e){return s(a,e)},g=h("/api/learner/survey/distributions/%@/questions"),v=h("/api/learner/survey/distributions/%@/questions/%@/answer"),_=!1,y=["id","submission_id","question_id"],b=c({displayName:"SurveyQuestionStore",schema:n(463),initialize:function(){this.adapter=u.use([d(this.emitChange)])},isLoaded:function(){return _},isSaving:function(){return this.adapter.hasPendingRequests()},findAll:function(e){var t=this;return _=!1,this.emitChange(),p({url:g(e),dataType:"json",onProgress:function(n){var r=n.questions.map(m);t.cache.addToCollection({distributionId:e},r)}}).then(function(e){return _=!0,e})},get:function(e){return this.cache.getCollection({distributionId:e})},updateRecord:function(e,t,n){var a=r.extend(!0,{},this.cache.get(t),n);this.cache.add(a),this.persistRecord(e,t)},persistRecord:i(function(e,t){var n=this,r=l(this.cache.get(t).response,y);this.adapter({url:v(e,t),type:"PATCH",dataType:"json",data:{response:r}}).then(function(){n.emitChange()})},500,!0)});e.exports=b},function(e,t,n){"use strict";var r=n(1),a=n(69),s=n(6),i=n(2),o=i.string,l=i.bool,u=i.func,c=i.shape,d=r.createClass({displayName:"HeaderBarTitle",propTypes:{survey:c({title:o,isLoaded:l}),isLoaded:l,isEditable:l,onChange:u},getDefaultProps:function(){return{survey:{title:"",isLoaded:!1},isEditable:!1,onChange:Function.prototype}},titleClasses:function(){var e=this.props.survey.title||"",t={"authoring-heading__title":!0};return e.length<25?t["authoring-heading__title--short"]=!0:e.length<40&&(t["authoring-heading__title--medium"]=!0),s(t)},render:function(){return r.createElement("span",{"data-capybara":"survey-title"},this.props.survey.isLoaded&&r.createElement(a,{value:this.props.survey.title,readOnly:!this.props.isEditable,onChange:this.props.onChange,className:this.titleClasses(),inputClassName:"authoring-heading__title-input",maxLength:"255"},this.props.survey.title||I18n.t("Untitled Survey")))}});e.exports=d},function(e,t){"use strict";e.exports=["lowest","low","neutral","high","highest"]},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(2948),i=n(2949),o=n(761),l=n(2),u=l.bool,c=l.func,d=l.oneOf,p=l.shape,f=l.string,m=n(58),h=r.createClass({displayName:"Likert",propTypes:{isActive:u.isRequired,onAnswer:c.isRequired,question:p({id:f.isRequired,answerType:d(o.validTypes),response:p({answer:f})})},getDefaultProps:function(){return{question:{id:"",response:{answer:null}},onAnswer:Function.prototype}},getInitialState:function(){return{hoverLevel:null}},currentTouchId:null,handleHoverEnd:function(){this.setState({hoverLevel:null})},handleHoverStart:function(e){this.setState({hoverLevel:e})},handleSelect:function(e){this.props.onAnswer(this.props.question,e)},handleTouchEnd:function(e){var t=this.getIdentifiedTouch(e.changedTouches);t&&(this.currentTouchId=null,m(this.state.hoverLevel)||this.handleSelect(this.state.hoverLevel),this.setState({hoverLevel:null}),e.preventDefault())},handleTouchMove:function(e){var t=this.getIdentifiedTouch(e.changedTouches);t&&(this.simulateHover(t.clientX),e.preventDefault())},handleTouchStart:function(e){var t;t=e.changedTouches[0],t&&this.props.isActive&&(this.currentTouchId=t.identifier,this.simulateHover(t.clientX),e.preventDefault())},getCurrentTouchId:function(){return this.props.isActive?this.currentTouchId:(this.currentTouchId=null,this.setState({hoverLevel:null}),null)},getIdentifiedTouch:function(e){for(var t,n=this.getCurrentTouchId(),r=0;r<e.length;r++)if(t=e[r],t.identifier===n)return t;return null},getLevels:function(){var e=this,t=o().filter(function(t){return t.value===e.props.question.answerType})[0];return t&&t.answers?t.answers:[]},simulateHover:function(e){var t,n=a.findDOMNode(this).getBoundingClientRect(),r=n.width/this.getLevels().length;n.left<e&&e<n.right?(t=Math.floor((e-n.left)/r),this.setState({hoverLevel:t})):this.setState({hoverLevel:null})},render:function(){var e=this,t=this.getLevels(),n=this.props.question.response,a=n&&parseInt(n.answer,10);return r.createElement("div",{className:"likert",onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart},r.createElement(s,{hoverLabel:t[this.state.hoverLevel],hoverLevel:this.state.hoverLevel,label:t[a],level:a}),r.createElement("div",{className:"likert__levels"},t.map(function(t,n){return r.createElement(i,{isActive:e.props.isActive,isHovered:n===e.state.hoverLevel,isSelected:n===a,key:"meter-"+n,label:t,level:n,onHoverEnd:e.handleHoverEnd,onHoverStart:e.handleHoverStart,onSelect:e.handleSelect,scope:e.props.question?e.props.question.id.toString():""})})),r.createElement("div",{className:"likert__labels"},r.createElement("div",{className:"likert__labels__lowest"},t[0]),r.createElement("div",{className:"likert__labels__highest"},t[t.length-1])))}});e.exports=h},function(e,t,n){"use strict";var r=n(1),a=n(2955),s=n(2956),i=n(2),o=i.bool,l=i.func,u=i.number,c=r.createClass({displayName:"Submit",propTypes:{isActive:o,onActivate:l,onShowRequired:l.isRequired,onSubmit:l.isRequired,unansweredQuestionCount:u.isRequired},getDefaultProps:function(){return{onActivate:Function.prototype,onShowRequired:Function.prototype,onSubmit:Function.prototype}},componentDidMount:function(){this.props.isActive&&this.props.onActivate(this)},componentDidUpdate:function(){this.props.isActive&&this.props.onActivate(this)},render:function(){return r.createElement("div",null,this.renderChild())},isFinished:function(){return 0===this.props.unansweredQuestionCount},renderChild:function(){return this.isFinished()?r.createElement(a,this.props):r.createElement(s,this.props)}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(1),o=n(2960),l=n(6),u=n(4),c=u.assign,d=n(162),p=n(199),f=n(37),m=n(2),h=m.string,g=m.shape,v=m.bool,_=m.object,y=m.func,b=m.arrayOf,E=d(p,"/author/surveys/%@/preview/bare"),C={mobile:f.QUERY_PORTRAIT_MOBILE,tablet:f.QUERY_MOBILE,desktop:f.QUERY_DESKTOP},I=i.createClass({displayName:"PreviewView",mixins:[new f(C)],propTypes:{survey:g({id:h,title:h,isLoaded:v}),selectedQuestion:g({id:h}),questions:b(_),permissions:_,onClickPreview:y.isRequired,onMessage:y.isRequired,permisssions:_,renderAllButtons:v,responsiveState:h},getDefaultProps:function(){return{survey:{},questions:[],selectedQuestion:{}}},getInitialState:function(){return{isCollapsed:!1,responsiveState:"default"}},componentDidMount:function(){window.addEventListener("message",this.props.onMessage,!1)},componentWillUnmount:function(){window.removeEventListener("message",this.props.onMessage,!1)},getIframeStyles:function(){var e=this.state.responsiveState,t=e&&this.state.media[e],n={mobile:["320px","568px"],tablet:["768px"],default:["100%"]},r=(0,s.default)(n[t?"default":e],2),a=r[0],i=r[1];return i||(i="100%"),{width:a,height:i}},componentWillReceiveProps:function(){this.state.originalFrameURL||this.setState({originalFrameURL:this.getFrameURL()})},getFrameURL:function(){var e=E(this.props.survey.id),t=this.props.selectedQuestion.id,n=t?"?questionId="+t:"";return e+n},getQuestionsWithResponses:function(){var e=this.state.responses;return this.props.questions.map(function(t){return c({},t,{response:e[t.id]})})},render:function(){var e=l({"survey-preview":!0,"survey-preview--with-header":!this.state.isCollapsed});return i.createElement("div",{className:"full-viewport-height overflow-hidden chart-grey-bg"},i.createElement(o,{permissions:this.props.permissions,media:this.state.media,survey:this.props.survey,question:this.props.selectedQuestion,renderAllButtons:this.props.renderAllButtons,onToggleVisibility:this.toggleHeaderVisibility,onClickPreview:this.props.onClickPreview,onClickResponsivePicker:this.setResponsiveState,activeResponsiveState:this.state.responsiveState,isCollapsed:this.state.isCollapsed}),i.createElement("div",{className:e},i.createElement("iframe",{src:this.state.originalFrameURL||this.getFrameURL(),style:this.getIframeStyles()})))},toggleHeaderVisibility:function(){this.setState({isCollapsed:!this.state.isCollapsed})},setResponsiveState:function(e){this.setState({responsiveState:e})}});e.exports=I},function(e,t,n){"use strict";var r=n(1),a=n(30),s=n(6),i=n(13),o=n(5),l=o.Icon,u=n(94),c=n(27),d=n(299),p=n(180),f=n(2),m=f.shape,h=f.string,g=f.bool,v=f.func,_=f.object,y=r.createClass({displayName:"SurveyHeaderActions",propTypes:{permissions:m({survey:m({edit:g,duplicate:g})}),media:m({mobile:g}),survey:n(244),handleClickPreview:v.isRequired,handleDuplicate:v.isRequired,dark:g,question:_,className:h},getDefaultProps:function(){return{permissions:{survey:{}},media:{mobile:!1},survey:{},dark:!1}},isLocked:function(){return!!this.props.survey.isLocked},renderEditButton:function(){var e=s({btn:!0,"round-button-set__button":!0,disabled:this.isLocked()}),t=s({"gs-edit":!0,"dark-grey":!this.props.dark,white:this.props.dark});return r.createElement(u,null,r.createElement(u.Trigger,null,r.createElement("button",{className:e,type:"button",onClick:!this.isLocked()&&this.handleEdit},r.createElement(l,{className:t,"aria-hidden":"true"}),r.createElement(c,{children:I18n.t("Edit Survey")}))),r.createElement(u.Content,{dark:!this.isLocked()},!this.isLocked()&&r.createElement("p",{className:"semi-bold x-small"},I18n.t("Edit Survey")),this.isLocked()&&r.createElement("div",{className:"indigo border-trbl border-white"},r.createElement("p",{className:"padding-trbl-m"},I18n.t("Editing is not available once your survey has data tied to it.")))))},renderDuplicateButton:function(){var e=s({"gs-duplicate":!0,"dark-grey":!this.props.dark,white:this.props.dark});return r.createElement(u,null,r.createElement(u.Trigger,null,r.createElement("button",{className:"btn round-button-set__button",onClick:this.props.handleDuplicate,type:"button"},r.createElement(l,{className:e,"aria-hidden":"true"}),r.createElement(c,{children:I18n.t("Duplicate Survey")}))),r.createElement(u.Content,{dark:!0},r.createElement("p",{className:"semi-bold x-small"},I18n.t("Duplicate Survey"))))},renderPreviewButton:function(){var e=s({"dark-grey":!this.props.dark});return r.createElement(d,{buttonClassName:"round-button-set__button",iconClass:e,dark:this.props.dark,active:this.props.dark,onClick:this.props.handleClickPreview})},handleEdit:function(){var e=p(this.props,"question.id"),t=this.props.survey.id;e?a.transitionTo("react.author.survey.question",{surveyId:t,questionId:e}):i.transitionTo("react.author.survey.questions",t)},render:function(){var e=this.props.className+" right round-button-set";return r.createElement("span",{className:e},this.renderPreviewButton(),!this.props.media.mobile&&this.props.permissions.survey.duplicate&&this.renderDuplicateButton(),!this.props.media.mobile&&this.props.permissions.survey.edit&&this.renderEditButton())}});e.exports=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{routeFiles:n(1744),handlerFiles:n(1743),handlerFileNames:null},{routeFiles:n(3737),handlerFileNames:null}].map(function(e){return Object.assign(e,{handlerFileNames:e.handlerFiles?e.handlerFiles.keys():e.routeFiles.keys()})}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1753),s=r(a),i=n(4),o=function(e){return!!e},l=function(e){return function(t){if(0===e.length){var n=void 0,r=!0;try{n=e()}catch(e){r=!1,t(e)}r&&t(null,n)}else e(t)}};t.default={startWith:function(e,t){var n=(0,i.flatten)(e).filter(o).map(function(e){return e.initialize}).filter(o).map(l);s.default.series(n,function(e,n){e?t(e):t(null,n.reduce(function(e,t){return Object.assign(e,t)},{}))})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(7),s=r(a),i=n(41),o=r(i),l=n(13),u=r(l),c=n(19),d=r(c),p=n(583),f=r(p),m=n(4),h=n(12),g=n(5),v=g.utils.I18nStringConstants,_="import",y="/api/admin/users/import",b=function(e){return"/api/admin/users/imports/"+e};t.confirmImport=function(e,t,n,r){var a=b(e),i="deport"===t?"deport":"confirm",l=n.contextId,u=n.contextType;return r&&(0,o.default)(!!l,"Missing contextId for the import!"),(0,o.default)(!!u,"Missing contextType of the import!"),(0,s.default)({url:a+"/"+i,type:"POST",data:{context_type:u,context_id:l}})},t.cancelImport=function(e){return(0,s.default)({url:b(e),type:"DELETE"})},t.goBack=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f.default.performCancellation([e,t].filter(function(e){return!!e}),n)},t.uploadCSVMapping=function(e){function n(e){return(0,s.default)({url:y,type:"POST",dataType:"json",data:{upload_type:b,context_type:l,context_id:c,file:{url:e.location,fields:i.get("fieldMap"),has_headers:i.get("hasHeaders")}}})}function r(e){var t={queryParams:{uploadType:b,importId:e.imports[0]?e.imports[0].id:void 0}},n=!!p.match(/author.enrollments/);c&&h.ENROLLABLE_IMPORT_CONTEXTS.includes(l)&&n?u.default.transitionTo(p,l,c,t):c?u.default.transitionTo(p,c,t):h.ENROLLABLE_IMPORT_CONTEXTS.includes(l)&&n?u.default.transitionTo(p,l,t):u.default.transitionTo(p,t)}function a(e){var n=(0,m.get)(e,"responseJSON.errors[0]",{});if("feature_limit"===n.code)return C("import_limit");var r=403===e.status?v.getInsufficientPermissionsErrorMessage():v.getCsvImportErrorMessage();return(0,d.default)(r,{type:"error"}),t.goBack(f,c,!0)}var i=e.csvPreview,o=e.csvUpload,l=e.contextType,c=e.contextId,p=e.confirmRoute,f=e.cancelRoute,g=e.uploadType,b=void 0===g?_:g,E=e.customUpload,C=e.openUpgradeModal;o.upload.then(function(e){return(E||n)(e,i)}).then(r,a)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.duration,r=e.timingFunction,a=e.rotated,s=e.rotatedAngle,i=e.className,o=a?s:0,l={transition:"transform "+n+"ms "+r,transform:"rotate("+o+"deg)"};return f.default.createElement("div",{className:i},f.default.createElement("div",{style:l},t))}}]),t}(f.default.Component);h.propTypes={rotated:m.bool.isRequired,rotatedAngle:m.number.isRequired,duration:m.number,timingFunction:m.string,className:m.string,children:m.node},h.defaultProps={duration:400,timingFunction:"ease-out"},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(38),i=r(s),o=n(2),l=r(o),u=n(1),c=r(u),d=n(144),p=r(d),f=n(42),m=r(f),h=n(2972),g=r(h),v=n(2973),_=r(v),y=n(2971),b=r(y),E=n(2974),C=r(E),I=n(2975),T=r(I),N=n(12),S=(a={},(0,i.default)(a,N.APPROVAL_EVENT_TYPE_APPROVER_ASSIGNED,g.default),(0,i.default)(a,N.APPROVAL_EVENT_TYPE_COMMENT_ADDED,_.default),(0,i.default)(a,N.APPROVAL_EVENT_TYPE_APPROVED,b.default),(0,i.default)(a,N.APPROVAL_EVENT_TYPE_REJECTED,C.default),(0,i.default)(a,N.APPROVAL_EVENT_TYPE_REQUESTED,T.default),a);t.default=c.default.createClass({displayName:"Approval::Events",propTypes:{approvalEvents:l.default.arrayOf(p.default.isRequired),learner:m.default.isRequired},renderApprovalEvent:function(e){var t=this.props.learner,n=S[e.eventType];return n?c.default.createElement(n,{learner:t,approvalEvent:e,key:e.id}):null},render:function(){return this.props.approvalEvents?c.default.createElement("ul",{className:"approval__events"},this.props.approvalEvents.map(this.renderApprovalEvent)):null}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(173),s=n(18),i=n(2),o=i.func,l=i.bool,u=i.string,c=r.createClass({displayName:"AvailabilityEditor",propTypes:{canEdit:l,onChange:o,value:u.isRequired,isReadOnly:l},getDefaultProps:function(){return{canEdit:!0,onChange:Function.prototype,isReadOnly:!1}},render:function(){var e=!this.props.isReadOnly&&this.props.canEdit;return r.createElement("div",null,e?this.renderSelector():this.renderLabel())},getAvailabilities:function(){return[{key:"enrolled",label:I18n.t("Upon Registration")},{key:"complete",label:I18n.t("Upon Completion")}]},getValue:function(){var e=this;return this.getAvailabilities().filter(function(t){return t.key===e.props.value})[0].label},renderSelector:function(){var e=this;return r.createElement(a,{ref:"popdown"},r.createElement(a.Trigger,null,r.createElement("button",{className:"availability__trigger"},r.createElement("span",{className:"availability__value availability__value--editable"},this.getValue()))),r.createElement(a.Content,{className:"availability__selector"},this.getAvailabilities().map(function(t){return r.createElement(s,{key:t.key,className:"availability__selection",onClick:e.pickAvailability.bind(e,t.key)},t.label)})))},renderLabel:function(){return r.createElement("span",{className:"availability__value"},this.getValue())},pickAvailability:function(e){this.refs.popdown.closeModal(),this.props.onChange(e)}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(24),h=r(m),g=n(18),v=r(g),_=n(6),y=r(_),b=n(3),E=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderActionArea=function(){return e.state.isConfirming?e.renderConfirmationButtons():e.renderActionButton()},e.renderActionButton=function(){return f.default.createElement(v.default,{className:"layout--banner__button",onClick:e.onActionClicked},f.default.createElement("span",null,e.props.actionText))},e.renderConfirmationButtons=function(){return f.default.createElement("div",{className:"banner--confirming__buttons"},f.default.createElement(v.default,{onClick:e.onActionCanceled,className:"banner--confirming__buttons--cancel"},f.default.createElement(h.default,null,I18n.t("Cancel"))),f.default.createElement(v.default,{onClick:e.onActionConfirmed,className:"banner--confirming__buttons--confirm"},f.default.createElement("span",null,e.props.confirmActionText)))},e.onActionClicked=function(){e.props.confirmAction?e.setState({isConfirming:!0}):e.props.onAction()},e.onActionConfirmed=function(){e.props.onAction()},e.onActionCanceled=function(){e.setState({isConfirming:!1})},e.state={isConfirming:!1},e}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state.isConfirming,t=(0,y.default)("banner",{"banner--confirming":e});return f.default.createElement("div",{className:t},f.default.createElement("div",{className:"layout--banner"},f.default.createElement("div",{className:"layout--banner__text"},f.default.createElement("span",null,e?this.props.confirmText:this.props.messageText)),f.default.createElement("div",{className:"layout--banner__actions"},this.props.showAction&&this.renderActionArea())))}}]),t}(f.default.Component);E.propTypes={messageText:b.string,actionText:b.string,confirmText:b.string,confirmActionText:b.string,showAction:b.bool,confirmAction:b.bool,onAction:b.func},E.defaultProps={showAction:!0,confirmAction:!1,onAction:Function.prototype},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(806),o=r(i),l=function(){return s.default.createElement("div",{className:"bridge-retain-overlay__graphic graph-graphic"},s.default.createElement("div",{className:"bridge-retain-overlay__graphic__wrapper"},s.default.createElement(o.default,{className:"graph-graphic__axis-label graph-graphic__retained",size:.03},I18n.t("Percentage Retained")),s.default.createElement(o.default,{className:"graph-graphic__axis-label graph-graphic__days",size:.04},I18n.t("Number of Days")),s.default.createElement(o.default,{className:"graph-graphic__label graph-graphic__retention",size:.055},I18n.t("Retention Rate with Bridge Retain")),s.default.createElement(o.default,{className:"graph-graphic__label graph-graphic__avg-retention",size:.055},I18n.t("Average Retention Rate")),s.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 684 525",className:"bridge-retain-overlay__retain-graph",preserveAspectRatio:"xMidYMid meet"},s.default.createElement("line",{x1:"41.71",y1:"143.01",x2:"67.26",y2:"143.01",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"41.71",y1:"255.51",x2:"67.26",y2:"255.51",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"41.71",y1:"368.01",x2:"67.26",y2:"368.01",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"201.41",y1:"487.62",x2:"201.41",y2:"462.05",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"362.08",y1:"487.62",x2:"362.08",y2:"462.05",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"522.76",y1:"487.62",x2:"522.76",y2:"462.05",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"683.43",y1:"487.62",x2:"683.43",y2:"462.05",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"41.71",y1:"33.07",x2:"67.26",y2:"33.07",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"40.18",y1:"487.83",x2:"684.01",y2:"487.83",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("line",{x1:"40.73",y1:"488.05",x2:"40.73",y2:"33.28",fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"1"}),s.default.createElement("path",{className:"bridge-retain-overlay__retain-normal-line",d:"M52.65,44.35c6.64,75.36,6.16,155.09,20.2,229.36,4.28,22.66,15.38,78.35,32.05,92.34,10.06,8.44,40.88,34.81,53.71,38.17,21.09,5.54,25.37,8.77,46.78,13.05,123.5,24.73,271.71,8.42,413.84,15",fill:"none",stroke:"#f5fcfc",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"6"}),s.default.createElement("path",{className:"bridge-retain-overlay__retain-enhanced-line",d:"M60.62,48.46C67.7,65.85,73.6,98.38,87,111c14.67,13.79,63.94,26.19,84,30.7,23.78,5.34,48.2.92,72.64,3,27.09,2.27,50.69,11.53,77.39,18.18C415.84,186.43,531.74,170,630,170",fill:"none",stroke:"#071932",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"6"}),s.default.createElement("ellipse",{cx:"610",cy:"168.23",rx:"36",ry:"36",fill:"#ffffff",fillOpacity:"0.5"}),s.default.createElement("ellipse",{cx:"610",cy:"168.23",rx:"30",ry:"30",fill:"#071932",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"3"}),s.default.createElement("ellipse",{cx:"610",cy:"430",rx:"20",ry:"20",fill:"#f5fcfc"}),s.default.createElement("text",{x:"650",y:"520",className:"bridge-retain-overlay__axis-label"},"50"),s.default.createElement("text",{x:"35",y:"520",className:"bridge-retain-overlay__axis-label"},"0"),s.default.createElement("text",{x:"25",y:"20",className:"bridge-retain-overlay__axis-label"},"100%"))))};t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=function(){return s.default.createElement("div",{className:"bridge-retain-overlay__graphic"},s.default.createElement("div",{className:"bridge-retain-overlay__graphic__wrapper"},s.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"bridge-retain-overlay__phone-svg--1",viewBox:"0 0 338.24 738.24"},s.default.createElement("defs",null,s.default.createElement("clipPath",{id:"a"},s.default.createElement("polygon",{points:"2.96 2.99 3.95 2.99 2.96 3.99 2.96 2.99",fill:"none"})),s.default.createElement("clipPath",{id:"c",transform:"translate(-3.23 -16.72)"},s.default.createElement("polygon",{points:"0.99 0.99 0 0.99 0.99 0 0.99 0.99",fill:"none",clipPath:"url(#a)"})),s.default.createElement("linearGradient",{id:"d",x1:"-445.39",y1:"15.89",x2:"-445.39",y2:"16.89",gradientTransform:"translate(127301.59 -8508.8) scale(285.45 541)",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{offset:"0"}),s.default.createElement("stop",{offset:"1"})),s.default.createElement("clipPath",{id:"f",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"334.45",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"g",transform:"translate(-3.23 -16.72)"
},s.default.createElement("rect",{x:"49.23",y:"340.69",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"h",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"346.93",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"i",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"334.45",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"j",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"340.69",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"k",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"346.93",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"l",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"334.45",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"m",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"340.69",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"n",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"346.93",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"o",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"422.92",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"p",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"429.16",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"q",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"435.4",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"r",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"422.92",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"s",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"429.16",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"t",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"435.4",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"u",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"422.92",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"v",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"429.16",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"w",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"435.4",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"x",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"515.69",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"y",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"521.93",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"z",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"528.17",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"aa",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"515.69",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ab",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"521.93",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ac",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"528.17",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ad",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"515.69",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ae",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"521.93",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"af",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"528.17",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ag",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"604.16",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ah",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"610.4",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ai",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"49.23",y:"616.64",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"aj",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"604.16",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ak",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"610.4",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"al",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"55.47",y:"616.64",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"am",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"604.16",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"an",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"610.4",width:"2.67",height:"2.67",fill:"none"})),s.default.createElement("clipPath",{id:"ao",transform:"translate(-3.23 -16.72)"},s.default.createElement("rect",{x:"61.71",y:"616.64",width:"2.67",height:"2.67",fill:"none"}))),s.default.createElement("path",{d:"M295.48,23.5a42,42,0,0,1,42,42V709a42,42,0,0,1-42,42H51.9a42,42,0,0,1-42-42V65.5a42,42,0,0,1,42-42H295.48",transform:"translate(-3.23 -16.72)",stroke:"#fff",strokeWidth:"4",fill:"#86d0c9"}),s.default.createElement("path",{d:"M5,123.24H5A1.78,1.78,0,0,1,6.78,125v27A1.78,1.78,0,0,1,5,153.8H5A1.78,1.78,0,0,1,3.23,152V125A1.78,1.78,0,0,1,5,123.24Z",transform:"translate(-3.23 -16.72)",fill:"#fff"}),s.default.createElement("path",{d:"M5,190.86H5a1.78,1.78,0,0,1,1.78,1.78v21.44A1.78,1.78,0,0,1,5,215.86H5a1.78,1.78,0,0,1-1.77-1.78V192.64A1.78,1.78,0,0,1,5,190.86Z",transform:"translate(-3.23 -16.72)",fill:"#fff"}),s.default.createElement("path",{d:"M5,252H5a1.78,1.78,0,0,1,1.78,1.78v21.44A1.78,1.78,0,0,1,5,277H5a1.78,1.78,0,0,1-1.77-1.77V253.78A1.78,1.78,0,0,1,5,252Z",transform:"translate(-3.23 -16.72)",fill:"#fff"}),s.default.createElement("ellipse",{cx:"169.99",cy:"38.9",rx:"6.25",ry:"6.48",fill:"#fff"}),s.default.createElement("path",{d:"M150.29,76H197a7.41,7.41,0,0,1,7.41,7.41v0h0a7.41,7.41,0,0,1-7.41,7.41H150.29a7.41,7.41,0,0,1-7.41-7.41h0A7.41,7.41,0,0,1,150.25,76Z",transform:"translate(-3.23 -16.72)",fill:"#fff"}),s.default.createElement("ellipse",{cx:"170.69",cy:"694.4",rx:"21.28",ry:"22.08",fill:"none",stroke:"#fff",strokeMiterlimit:"10",strokeWidth:"4"}),s.default.createElement("path",{d:"M233.54,16.72h50.69a1.85,1.85,0,0,1,1.85,1.85h0a1.85,1.85,0,0,1-1.82,1.88H233.54a1.85,1.85,0,0,1-1.85-1.85h0a1.85,1.85,0,0,1,1.82-1.88Z",transform:"translate(-3.23 -16.72)",fill:"#fff"}),s.default.createElement("rect",{x:"26.35",y:"105.28",width:"284",height:"543",fill:"#227F85",fillOpacity:"0.5"}),s.default.createElement("path",{d:"M29.72,295.45h285",transform:"translate(-3.23 -16.72)",fill:"none",stroke:"#fff"}),s.default.createElement("path",{d:"M29.72,385.54h285",transform:"translate(-3.23 -16.72)",fill:"none",stroke:"#fff"}),s.default.createElement("path",{d:"M29.72,475.62h285",transform:"translate(-3.23 -16.72)",fill:"none",stroke:"#fff"}),s.default.createElement("path",{d:"M29.72,565.62h285",transform:"translate(-3.23 -16.72)",fill:"none",stroke:"#fff"}),s.default.createElement("foreignObject",{x:"80.73",y:"311.28",width:"201.52",height:"27",className:"question-text"},s.default.createElement("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"large"},I18n.t("1"))),s.default.createElement("foreignObject",{x:"80.73",y:"492.37",width:"201.52",height:"27",className:"question-text"},s.default.createElement("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"large"},I18n.t("2"))),s.default.createElement("foreignObject",{x:"80.73",y:"400.28",width:"201.52",height:"27",className:"question-text"},s.default.createElement("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"large"},I18n.t("3"))),s.default.createElement("foreignObject",{x:"80.73",y:"581.37",width:"201.52",height:"27",className:"question-text"},s.default.createElement("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"large"},I18n.t("4"))),s.default.createElement("path",{d:"M49.49,164.71H294.23a5,5,0,0,1,4.93,5h0a5,5,0,0,1-4.93,5H49.49a5,5,0,0,1-4.93-5h0A5,5,0,0,1,49.49,164.71Z",transform:"translate(-3.23 -16.72)",fill:"#071a32",fillOpacity:"0.4"}),s.default.createElement("path",{d:"M49.49,164.71H191.66a5,5,0,0,1,4.93,5h0a5,5,0,0,1-4.93,5H49.49a5,5,0,0,1-4.93-5h0A5,5,0,0,1,49.49,164.71Z",transform:"translate(-3.23 -16.72)",fill:"#fff"}),s.default.createElement("foreignObject",{x:"41.22",y:"179.28",width:"254.86",height:"74",className:"question-text"},s.default.createElement("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"large"},I18n.t("Arrange these steps in the right order."))),s.default.createElement("g",{clipPath:"url(#f)"},s.default.createElement("rect",{x:"41",y:"312.73",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#g)"},s.default.createElement("rect",{x:"41",y:"318.98",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#h)"},s.default.createElement("rect",{x:"41",y:"325.22",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#i)"},s.default.createElement("rect",{x:"47.24",y:"312.73",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#j)"},s.default.createElement("rect",{x:"47.24",y:"318.98",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#k)"},s.default.createElement("rect",{x:"47.24",y:"325.22",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#l)"},s.default.createElement("rect",{x:"53.48",y:"312.73",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#m)"},s.default.createElement("rect",{x:"53.48",y:"318.98",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#n)"},s.default.createElement("rect",{x:"53.48",y:"325.22",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#o)"},s.default.createElement("rect",{x:"41",y:"401.2",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#p)"},s.default.createElement("rect",{x:"41",y:"407.44",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#q)"},s.default.createElement("rect",{x:"41",y:"413.68",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#r)"},s.default.createElement("rect",{x:"47.24",y:"401.2",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#s)"},s.default.createElement("rect",{x:"47.24",y:"407.44",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#t)"},s.default.createElement("rect",{x:"47.24",y:"413.68",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#u)"},s.default.createElement("rect",{x:"53.48",y:"401.2",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#v)"},s.default.createElement("rect",{x:"53.48",y:"407.44",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#w)"},s.default.createElement("rect",{x:"53.48",y:"413.68",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#x)"},s.default.createElement("rect",{x:"41",y:"493.97",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#y)"},s.default.createElement("rect",{x:"41",y:"500.22",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#z)"},s.default.createElement("rect",{x:"41",y:"506.46",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#aa)"},s.default.createElement("rect",{x:"47.24",y:"493.97",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ab)"},s.default.createElement("rect",{x:"47.24",y:"500.22",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ac)"},s.default.createElement("rect",{x:"47.24",y:"506.46",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ad)"},s.default.createElement("rect",{x:"53.48",y:"493.97",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ae)"},s.default.createElement("rect",{x:"53.48",y:"500.22",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#af)"},s.default.createElement("rect",{x:"53.48",y:"506.46",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ag)"},s.default.createElement("rect",{x:"41",y:"582.44",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ah)"},s.default.createElement("rect",{x:"41",y:"588.68",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ai)"},s.default.createElement("rect",{x:"41",y:"594.92",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#aj)"},s.default.createElement("rect",{x:"47.24",y:"582.44",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ak)"},s.default.createElement("rect",{x:"47.24",y:"588.68",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#al)"},s.default.createElement("rect",{x:"47.24",y:"594.92",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#am)"},s.default.createElement("rect",{x:"53.48",y:"582.44",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#an)"},s.default.createElement("rect",{x:"53.48",y:"588.68",width:"12.67",height:"12.67",fill:"#fff"})),s.default.createElement("g",{clipPath:"url(#ao)"},s.default.createElement("rect",{x:"53.48",y:"594.92",width:"12.67",height:"12.67",fill:"#fff"}))),s.default.createElement("img",{src:"/images/Phone.svg",className:"bridge-retain-overlay__phone-svg--2"}),s.default.createElement("img",{src:"/images/Phone.svg",className:"bridge-retain-overlay__phone-svg--3"}),s.default.createElement("img",{src:"/images/Phone.svg",className:"bridge-retain-overlay__phone-svg--4"}),s.default.createElement("img",{src:"/images/Phone.svg",className:"bridge-retain-overlay__phone-svg--5"})))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(78),o=r(i),l=n(4),u=n(3),c=r(u),d=n(2981),p=r(d),f=n(3254),m=r(f),h=n(12),g=s.default.createClass({displayName:"BridgeRetainOverlay",propTypes:{children:c.default.node,pages:c.default.arrayOf(c.default.component.isRequired).isRequired,finishButton:c.default.node,onClose:c.default.func},getInitialState:function(){return{currentPage:0}},componentWillMount:function(){document.addEventListener("keydown",this.handleKeyDown)},componentDidMount:function(){var e=this;setTimeout(function(){e.focusTitle()},50)},componentWillUnmount:function(){document.removeEventListener("keydown",this.handleKeyDown)},handleKeyDown:function(e){e.keyCode===h.KC_ESCAPE&&this.props.onClose()},changePage:function(e){this.setState({currentPage:e},this.focusTitle)},navigateToNextPage:function(){this.changePage(this.state.currentPage+1)},renderPage:function(){var e=this.state.currentPage;return s.default.createElement(this.props.pages[e])},renderButtons:function(){return(0,l.times)(this.props.pages.length).map(this.renderButton)},renderButton:function(e){var t=this.props.pages[e];return s.default.createElement(p.default,{key:e,isActive:this.state.currentPage===e,position:e,onClick:this.changePage,title:t.getTitle&&t.getTitle()})},renderNextButton:function(){var e=this.state.currentPage===this.props.pages.length-1;return e?this.props.finishButton:s.default.createElement("button",{className:"btn dark secondary constrained",onClick:this.navigateToNextPage},I18n.t("Next"))},render:function(){return s.default.createElement(o.default,{isOpen:!0,className:"bridge-retain-modal",contentLabel:""},s.default.createElement("div",{className:"bridge-retain-overlay"},s.default.createElement("div",{className:"bridge-retain-overlay__background"}),s.default.createElement("div",{className:"bridge-retain-overlay__details"},this.props.children,this.renderPage(),s.default.createElement("div",{className:"bridge-retain-overlay__buttons"},this.renderButtons()),s.default.createElement("div",{className:"bridge-retain-overlay__bottom"},this.renderNextButton()))))},focusTitle:function(){var e=document.getElementById("onboardingTitle");e&&e.focus()}});t.default=(0,m.default)({className:"layout--dialog--app-wrap-dialog-is-open",targetNode:document.getElementById("application")})(g),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(2982),d=r(c),p=n(2983),f=r(p),m=n(111),h=r(m),g=n(5),v=n(82),_=r(v),y=n(6),b=r(y),E=n(43),C=n(902),I=r(C),T={position:{my:"top center",at:"bottom center"},hide:{event:"unfocus"},style:{def:!1,tip:{border:0,width:32,height:20}}},N=u.default.createClass({displayName:"BridgeRetainPopup",propTypes:{className:o.default.string,disabled:o.default.bool,hasQuizzes:o.default.bool,retain:o.default.bool,bridgeRetainOnboardingPending:o.default.bool,onAddClick:o.default.func,onRetainChange:o.default.func,onOverlayClose:o.default.func,isActionMenuItem:o.default.bool},getDefaultProps:function(){return{bridgeRetainOnboardingPending:!1,disabled:!1}},getInitialState:function(){return{overlayOpen:!1,popupOpen:!1,warningEnabled:!0}},render:function(){var e=this.props,t=e.bridgeRetainOnboardingPending,n=e.isActionMenuItem,r=this.state.overlayOpen;if(!n&&(r||t))return u.default.createElement(f.default,{onCloseOverlay:this.closeOverlay,onRetainClick:this.handleRetainClick});var a=this.props,i=a.className,o=a.disabled,l=a.hasQuizzes,c=a.retain,p=a.onAddClick,m=this.state.popupOpen,v=this.getShowWarning(),y=m&&v,C=(0,I.default)(N,this.props),S=(0,b.default)("bridge-retain-popup__button",{"bridge-retain-popup__button--highlight":y},i),x=(0,b.default)("gs-caution","bridge-retain-popup__caution-icon",{orange:y});return n?u.default.createElement(E.ActionMenuItem,(0,s.default)({label:I18n.t("Bridge Retain"),icon:u.default.createElement("span",null,u.default.createElement(g.Icon,{className:"gs-brain gs-buc-button-compat"}),v&&u.default.createElement(g.Icon,{className:x,"aria-hidden":"true"})),ignoreOutsideClicks:".bridge-retain-modal",popupContentsRenderer:this.renderPopupContents},C)):u.default.createElement(h.default,{ref:"popup",popupClassName:"bridge-retain-popup",popupOptions:T,content:d.default,disabled:o,retain:c,showWarning:v,hasQuizzes:l,onRetainChange:this.handleChangeRetain,onAddClick:p,onPopupOpen:this.onPopupOpen,onPopupClose:this.onPopupClose,onOpenOverlay:this.openOverlay},u.default.createElement(_.default,{buttonClassName:S,label:I18n.t("Bridge Retain"),icon:"brain",iconClassName:"bridge-retain-popup__icon"},v&&u.default.createElement(g.Icon,{className:x,"aria-hidden":"true"})))},renderPopupContents:function(){var e=this.props,t=e.bridgeRetainOnboardingPending,n=e.disabled,r=e.hasQuizzes,a=e.retain,s=e.onAddClick,i=this.state.overlayOpen;return i||t?u.default.createElement(f.default,{onCloseOverlay:this.closeOverlay,onRetainClick:this.handleRetainClick}):u.default.createElement("div",{className:"bridge-retain-popup action-menu-item-retain-popup"},u.default.createElement(d.default,{disabled:n,retain:a,showWarning:this.getShowWarning(),hasQuizzes:r,onRetainChange:this.handleChangeRetain,onAddClick:s,onOpenOverlay:this.openOverlay}))},getShowWarning:function(){var e=this.props,t=e.disabled,n=e.hasQuizzes,r=e.retain,a=this.state.warningEnabled;return!t&&!n&&r&&a},handleChangeRetain:function(e){this.changeRetain(e.target.checked)},changeRetain:function(e){this.props.isActionMenuItem||this.setState({warningEnabled:!1}),this.props.onRetainChange(e)},onPopupOpen:function(){this.setState({popupOpen:!0})},onPopupClose:function(){this.setState({popupOpen:!1,warningEnabled:!0})},closeOverlay:function(){this.props.onOverlayClose(),this.setState({overlayOpen:!1})},openOverlay:function(){this.setState({overlayOpen:!0})},handleRetainClick:function(){var e=this;this.props.onOverlayClose(),this.changeRetain(!0),this.setState({overlayOpen:!1},function(){e.refs.popup&&e.refs.popup.open()})}});t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t){return e.get("fields").filter(function(e){return e.index===t})[0]}return new s.default({initialize:function(){var t=this;e.primaryField.addObserver("isScanning",this.emitChange),e.addObserver("hasHeaders",this.emitChange),e.get("primaryField.isAssigned")&&this.assignField(e.get("primaryField.index"),"primary"),e.get("primaryFieldDupes.isAssigned")&&this.assignField(e.get("primaryFieldDupes.index"),"primaryDupes"),e.get("managerField.isAssigned")&&this.assignField(e.get("managerField.index"),"manager"),e.get("learnableField.isAssigned")&&this.assignField(e.get("learnableField.index"),"lernable"),e.get("fields").filter(function(e){return!!e.isAssigned}).forEach(function(e){t.assignFieldToColumn(e.get("index"),e.get("id"))})},clear:function(){e.primaryField.removeObserver("isScanning",this.emitChange),e.removeObserver("hasHeaders",this.emitChange)},getInitialState:function(){return{activeColumnIndex:null,lastRowIndex:(e.get("data")||[]).length-1}},getUploadType:function(){return e.get("uploadType")},getDropHeaders:function(){return e.get("headers").map(function(e,n){return t(n)})},getLastRowIndex:function(){return this.state.lastRowIndex},setActiveColumnIndex:function(e){e!==this.state.activeColumnIndex&&this.setState({activeColumnIndex:e})},getActiveColumnIndex:function(){return this.state.activeColumnIndex},hasInvalidPrimaryColumn:function(){return!!e.get("primaryField.isFailed")},assignField:function(t,n){switch(n){case"primaryDupes":e.primaryFieldDupes.set("index",t);break;case"manager":e.managerField.set("index",t);break;case"learnable":e.learnableField.set("index",t);break;case"primary":default:e.primaryField.set("index",t)}this.emitChange()},assignFieldToColumn:function(n,r){var a=t(n);if(a&&a.set("index",null),r){var s=void 0;s=r===e.get("primaryField.id")?e.get("primaryField"):r===e.get("managerField.id")?e.get("managerField"):r===e.get("primaryFieldDupes.id")?e.get("primaryFieldDupes"):r===e.get("learnableField.id")?e.get("learnableField"):e.get("fields").filter(function(e){return e.id===r})[0],s?s.set("index",n):console.warn("Expected field with id %s to exist, it does not. The available fields are: %s",r,JSON.stringify(e.get("fields").map(function(e){return e.get("id")})))}this.emitChange()}})};var a=n(21),s=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=r(i),l=n(6),u=r(l),c=n(19),d=r(c),p=n(18),f=r(p),m=n(5),h=n(12),g=n(3316),v=r(g),_=n(415),y=r(_),b=n(3),E=n(4),C=s.default.createClass({displayName:"FieldListItem",propTypes:{isPrimary:b.bool,primaryFieldDidDrag:b.func,primaryFieldDidDrop:b.func,onRemove:b.func,className:b.string,field:(0,b.instanceOf)(y.default)},getInitialState:function(){return{editing:!1}},getDefaultProps:function(){return{isPrimary:!1}},componentDidUpdate:function(e,t){!t.editing&&this.state.editing&&o.default.findDOMNode(this.refs.editingWidget).focus()},render:function(){var e=this.props.field,t=(0,u.default)(this.props.className||"",{"field-list-item":!0,"field-list-item--assigned":e.get("isAssigned"),"field-list-item--editing":this.state.editing,"field-list-item--new":!this.state.editing&&e.get("showAsButton"),"field-list-item--primary":this.props.isPrimary}),n=!e.get("isAssigned")&&!e.get("showAsButton"),r=void 0;return r=this.state.editing?this.renderEditingWidget():e.get("showAsButton")?this.renderButton():this.renderField(),s.default.createElement("li",{draggable:n,className:t,onDragStart:this.emitDragged,onDragEnd:this.emitDropped,onClick:this.edit,children:r})},renderEditingWidget:function(){var e=this.props.field;return s.default.createElement("input",{ref:"editingWidget",type:"text",className:"thin",value:this.state.editing?this.state.newText:e.get("text"),onChange:this.updateFieldText,placeholder:I18n.t("New Field"),onKeyUp:this.handleKeyPresses,onBlur:this.saveChanges})},renderButton:function(){return s.default.createElement("span",null,I18n.t("New Field"))},renderField:function(){var e=this.props.field;return s.default.createElement("div",null,e.get("icon")?s.default.createElement(m.Icon,{className:e.get("icon")}):e.get("text"),e.get("deletable")&&s.default.createElement(f.default,{className:"btn--reset small padding-none padding-l-s",onClick:this.remove},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Delete")),s.default.createElement(m.Icon,{className:"gs-x gs-half middle"})))},handleKeyPresses:function(e){switch(e.keyCode){case h.KC_RETURN:this.saveChanges();break;case h.KC_ESCAPE:this.discardChanges()}},saveChanges:function(){var e=this,t=(0,E.trim)(this.state.newText);return 0===t.length?void this.discardChanges():t.toLowerCase()===I18n.t("password")?((0,d.default)(I18n.t("Please don't create a field for storing user passwords! Instead, speak to your Administrator about importing passwords using a CSV."),{type:"error"}),void this.discardChanges()):(this.props.field.set("text",this.state.newText),this.props.field.save().then(null,function(){e.setState({editing:!0})}),void this.setState({editing:!1}))},discardChanges:function(){this.setState({editing:!1,newText:null})},emitDragged:function(e){(0,v.default)(e,{id:this.props.field.get("id")}),e.dataTransfer.effectAllowed="move",this.props.isPrimary&&this.props.primaryFieldDidDrag()},emitDropped:function(){this.props.isPrimary&&this.props.primaryFieldDidDrop()},edit:function(){this.props.field.get("isCustom")&&!this.state.editing&&this.setState({newText:this.props.field.get("text"),editing:!0})},updateFieldText:function(e){this.setState({newText:e.target.value})},remove:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.field)}});e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(91),o=r(i),l=n(3),u=n(572),c=r(u),d=n(1370),p=r(d),f=n(1368),m=r(f),h=n(1163),g=n(6),v=r(g),_={observe:function(e,t){e&&(e.addObserver("*",t),e.primaryField.addObserver("*",t),e.primaryFieldDupes.addObserver("*",t),e.managerField.addObserver("*",t),e.learnableField.addObserver("*",t))},unobserve:function(e,t){e&&(e.managerField.removeObserver("*",t),e.primaryField.removeObserver("*",t),e.primaryFieldDupes.removeObserver("*",t),e.learnableField.removeObserver("*",t),e.removeObserver("*",t))}},y={setHasHeaders:function(e){this.props.csvPreview.set("hasHeaders",e.target.checked)},removeField:function(e){var t=this,n=this.props.csvPreview.get("fields"),r=n.indexOf(e);this.props.csvPreview.setProperties({fields:this.props.csvPreview.fields.filter(function(t){return t!==e})}),e.delete().then(function(){e.destroy()},function(){t.props.csvPreview.setProperties({fields:[].concat(t.props.csvPreview.fields).insertAt(Math.min(r,t.props.csvPreview.fields.length),e)})})},forceDragonState:function(e,t){var n={};switch(t){case"manager":n.isDraggingManagerField=e;break;case"learnable":n.isDraggingLearnableField=e;break;case"primaryDupes":n.isDraggingPrimaryFieldDupes=e;break;default:n.isDraggingPrimaryField=e}t||(n={isDraggingPrimaryField:e,isDraggingPrimaryFieldDupes:e,isDraggingManagerField:e,isDraggingLearnableField:e}),this.setState(n)},markFieldBeingDragged:function(e){this.forceDragonState(!0,e)},markFieldDropped:function(e){this.forceDragonState(!1,e)}},b=s.default.createClass({displayName:"Preview",mixins:[y],propTypes:{contextType:l.string.isRequired,csvPreview:(0,l.instanceOf)(c.default).isRequired,onEmberDataChange:l.func,autoCsv:l.bool,onTabChange:l.func,activeTab:l.number,tabs:l.func},getInitialState:function(){return{isDraggingPrimaryField:!1,isDraggingPrimaryFieldDupes:!1,isDraggingManagerField:!1,isDraggingLearnableField:!1,activeTab:0}},getDefaultProps:function(){return{onEmberDataChange:function(){console.warn("It seems like this method is not being passed down anymore, which"," means this component is no longer mounted by Ember and this","functionality is no longer necessary as it was Ember-implementation"," specific.","","Please remove me.")}}},componentDidMount:function(){_.observe(this.props.csvPreview,this.props.onEmberDataChange)},componentDidUpdate:function(e){this.props.csvPreview!==e.csvPreview&&(_.unobserve(e.csvPreview,this.props.onEmberDataChange),_.observe(this.props.csvPreview,this.props.onEmberDataChange))},componentWillUnmount:function(){_.unobserve(this.props.csvPreview,this.props.onEmberDataChange)},componentWillReceiveProps:function(e){var t=e.activeTab,n=e.csvPreview,r=null!==n.get("managerField.index"),a=null!==n.get("learnableField.index"),s=n.get("isValid"),i=n.get("primaryField.isFailed");s&&t<1&&(t=1),s&&(r||a)&&(t=2),i&&(t=0),"function"==typeof this.props.onTabChange&&this.props.onTabChange(t),this.setState({activeTab:t})},render:function(){var e=this.props.csvPreview,t=e.get("isDeport")||"domain"!==this.props.contextType&&!this.props.tabs,n=t;return s.default.createElement("div",{className:"csv-preview","data-capybara":"csv_section"},n&&this.renderCheckbox(),t&&!this.props.tabs?this.renderWithOnlyLoginKey():this.renderTabs(),s.default.createElement(p.default,{csvPreview:e,isDraggingPrimaryField:this.state.isDraggingPrimaryField,isDraggingPrimaryFieldDupes:this.state.isDraggingPrimaryFieldDupes,isDraggingManagerField:this.state.isDraggingManagerField,isDraggingLearnableField:this.state.isDraggingLearnableField,forceDragonState:this.forceDragonState}))},renderCheckbox:function(){var e=this.props.csvPreview;return s.default.createElement("div",{className:"csv-preview__checkbox-wrapper"},s.default.createElement(o.default,{checked:e.get("hasHeaders"),onChange:this.setHasHeaders},I18n.t("This file has column headers")))},renderWithOnlyLoginKey:function(){var e=this.props,t=e.csvPreview,n=e.contextType,r=(0,v.default)({clearfix:!t.get("isImport")||"domain"!==n});return s.default.createElement("div",{className:r},s.default.createElement("h2",{className:"csv-preview__field-description"},I18n.t("Login ID")," ",s.default.createElement("span",{className:"csv-preview__field-description__required"},I18n.t("required"))),s.default.createElement(m.default,{className:"left",field:t.get("primaryField"),isPrimary:!0,primaryFieldDidDrag:this.markFieldBeingDragged.bind(this,"primary"),primaryFieldDidDrop:this.markFieldDropped.bind(this,"primary")}),s.default.createElement("p",{
className:"padding-t-xxs"},I18n.t("Drag the Login ID key to the column containing the unique identifier.")))},renderTabs:function(){var e=this.props.csvPreview,t=this.state.activeTab,n=e.get("isValid");return this.props.tabs?this.props.tabs.bind(this)():s.default.createElement("div",{className:"csv-preview__account-users-header"},s.default.createElement(o.default,{className:"csv-preview__checkbox",checked:e.get("hasHeaders"),onChange:this.setHasHeaders},I18n.t("This file has column headers")),s.default.createElement("div",{className:"tab-container active-"+t},s.default.createElement(h.Tabs,{onSelect:this.props.onTabChange,selectedIndex:t,forceRenderTabPanel:!0},s.default.createElement(h.TabList,null,s.default.createElement(h.Tab,null,s.default.createElement("span",{className:"csv-preview__field-description"},I18n.t("Assign Login ID")," ",s.default.createElement("span",{className:"pink super"},"* ",s.default.createElement("span",{className:"screenreader-only"},I18n.t("required")))),s.default.createElement("span",{className:"active-border active-border-1"})),s.default.createElement(h.Tab,{disabled:!n},s.default.createElement("span",{className:"csv-preview__field-description"},I18n.t("Assign Manager ID")),s.default.createElement("span",{className:"active-border active-border-2"})),s.default.createElement(h.Tab,{disabled:!n},s.default.createElement("span",{className:"csv-preview__field-description"},I18n.t("Add Other Data Fields")),s.default.createElement("span",{className:"active-border active-border-3"}))),s.default.createElement("div",{className:"csv-preview__tab-panel-container"},s.default.createElement(h.TabPanel,null,s.default.createElement("ul",{className:"csv-preview__field-list left"},s.default.createElement(m.default,{field:e.get("primaryField"),isPrimary:!0,primaryFieldDidDrag:this.markFieldBeingDragged.bind(this,"primary"),primaryFieldDidDrop:this.markFieldDropped.bind(this,"primary")})),s.default.createElement("p",{className:"left margin-t-xs"},I18n.t("Drag the Login ID key to the column containing the unique identifier."))),s.default.createElement(h.TabPanel,null,s.default.createElement("ul",{className:"csv-preview__field-list left","data-capybara":"manager_key"},s.default.createElement(m.default,{field:e.get("managerField"),isPrimary:!0,primaryFieldDidDrag:this.markFieldBeingDragged.bind(this,"manager"),primaryFieldDidDrop:this.markFieldDropped.bind(this,"manager")})),s.default.createElement("p",{className:"left margin-t-xs"},I18n.t("Drag the Manager ID key to the column that matches the manager's unique identifier."))),s.default.createElement(h.TabPanel,null,this.renderSortedFields(e)),this.renderSortedFields(e,!0)))))},renderSortedFields:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.get("sortedFields");return s.default.createElement("div",{"aria-hidden":t,style:{visibility:t?"hidden":"visible"}},s.default.createElement("p",null,I18n.t("Drag the format boxes to the matching columns.")),s.default.createElement("ul",{className:"csv-preview__field-list margin-t-s","data-capybara":"csv-import-pills"},n.map(this.renderField)))},renderField:function(e){return s.default.createElement(m.default,{key:e.get("id")+"--"+e.get("name"),field:e,onRemove:this.removeField})}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(1372),o=r(i),l=n(1371),u=r(l),c=n(6),d=r(c),p=n(572),f=r(p),m=n(1367),h=r(m),g=n(3),v=n(2991),_=n(2990),y=r(_),b=s.default.createClass({displayName:"CSVTable",mixins:[y.default],propTypes:{csvPreview:(0,g.instanceOf)(f.default).isRequired,forceDragonState:g.func,isDraggingPrimaryField:g.bool,isDraggingPrimaryFieldDupes:g.bool,isDraggingManagerField:g.bool,isDraggingLearnableField:g.bool},componentWillMount:function(){this.store=new h.default(this.props.csvPreview),this.store.addChangeListener(this.reload)},componentWillUnmount:function(){this.store.removeChangeListener(this.reload),this.store=null},reload:function(){this.forceUpdate()},render:function(){return s.default.createElement("div",{className:"csv-table-container",onDragEnter:this.activateColumnFromEvent,onDragOver:this.consumeDragonIfRelevant,onDragLeave:this.deactivateColumn,onDrop:this.applyMappingFromDragon,children:this.renderTable()})},renderTable:function(){var e=this.props.csvPreview,t=this.store.getDropHeaders(),n="deport"===this.store.getUploadType(),r=!n,a=(0,d.default)({"csv-table":!0,"csv-table--deport":n});return s.default.createElement("table",{className:a},s.default.createElement("thead",null,s.default.createElement("tr",null,t.map(this.renderPrimaryDropHeaderCell)),s.default.createElement("tr",{className:n?"primaryDropDeportRow":""},t.map(this.renderPrimaryDropHeader)),r&&s.default.createElement("tr",null,t.map(this.renderDropHeaderCell)),e.get("hasHeaders")&&s.default.createElement("tr",{className:"med-grey"},e.get("headers").map(this.renderHeaderCell))),s.default.createElement("tbody",null,!e.get("hasHeaders")&&s.default.createElement("tr",null,e.get("headers").map(this.renderContentCell.bind(null,!1))),e.get("otherRows").map(this.renderContentRow)))},renderPrimaryDropHeaderCell:function(e,t){var n=void 0,r=void 0,a=this.props.csvPreview.get("primaryField"),i=t===a.get("index")?a:null,o=(0,v.generateClassNameForColumn)(this,t,{primaryDropDescription:!0});return i?i.get("hasDuplicates")?(n=I18n.t("Login ID cannot contain duplicate IDs"),r="duplicate-ids"):i.get("hasEmptyIds")&&(n=I18n.t("Login ID cannot contain empty IDs"),r="empty-ids"):n="",s.default.createElement("th",{key:t,className:o,"data-capybara":r},s.default.createElement("div",null,n))},renderPrimaryDropHeader:function(e,t){var n=this,r=this.props.csvPreview.get("primaryField"),a=this.props.csvPreview.get("managerField"),i=this.props.csvPreview.get("learnableField"),l=this.props.csvPreview.get("primaryFieldDupes"),u=(0,v.generateClassNameForColumn)(this,t,{primaryDrop:!0,primaryDropDeport:"deport"===this.store.getUploadType()}),c=null,d=void 0;return r.get("index")===t&&(c=r,d="primary"),l.get("index")===t&&(c=l,d="primaryDupes"),a.get("index")===t&&(c=a,d="manager"),i.get("index")===t&&(c=i,d="learnable"),s.default.createElement("th",{key:t,className:u},s.default.createElement(o.default,{field:c,uploadType:this.store.getUploadType(),fieldDidDrag:function(){return n.removePrimaryField(d)},fieldDidDrop:function(){return n.resetPrimaryDraggingState(d)}}))},renderDropHeaderCell:function(e,t){var n=this.props.csvPreview.get("primaryField.index")===t||this.props.csvPreview.get("managerField.index")===t||this.props.csvPreview.get("primaryFieldDupes.index")===t||this.props.csvPreview.get("learnableField.index")===t,r=(0,v.generateClassNameForColumn)(this,t,{otherDrop:!0});return s.default.createElement("th",{key:t,className:r},s.default.createElement(u.default,{field:e,primaryIsAttached:n,fieldDidDrag:this.removeFieldFromColumn}))},renderHeaderCell:function(e,t){var n=(0,v.generateClassNameForColumn)(this,t,{"first-row":!0});return s.default.createElement("th",{key:e,className:n},e)},renderContentRow:function(e,t){var n=t===this.store.getLastRowIndex()-1;return s.default.createElement("tr",{key:t},e.map(this.renderContentCell.bind(null,n)))},renderContentCell:function(e,t,n){var r=(0,v.generateClassNameForColumn)(this,n,{bottom:e});return s.default.createElement("td",{key:t+"-"+n,className:r},t)}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(6),o=r(i),l=n(5),u=n(415),c=r(u),d=n(2),p=s.default.createClass({displayName:"TableDropHeader",propTypes:{field:(0,d.instanceOf)(c.default),fieldDidDrag:d.func.isRequired,primaryIsAttached:d.bool},getDefaultProps:function(){return{field:null,primaryIsAttached:!1}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){var e=(0,o.default)({"csv-table-drop-header":!0,"csv-table-drop-header--assigned":this.isAssigned()});return s.default.createElement("div",{className:e,draggable:this.isAssigned(),onDragStart:this.dragStart},this.isAssigned()&&s.default.createElement(l.Icon,{className:"gs-check left selected"}),this.renderText())},isAssigned:function(){return this.props.field&&this.props.field.get("isAssigned")},renderText:function(){return this.isAssigned()?this.props.field.get("text"):this.props.primaryIsAttached?I18n.t("No Label Applied"):I18n.t("Drop Here")},dragStart:function(e){var t=this,n=JSON.stringify({id:this.props.field.get("id")});try{e.dataTransfer.setData("application/json",n)}catch(t){e.dataTransfer.setData("Text",n)}setTimeout(function(){t.isMounted()&&t.props.fieldDidDrag(t.props.field)})}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2),o=n(6),l=r(o),u=n(24),c=r(u),d=n(5),p=n(415),f=r(p),m=s.default.createClass({displayName:"TablePrimaryHeader",propTypes:{uploadType:(0,i.oneOf)(["deport","import"]).isRequired,field:(0,i.instanceOf)(f.default),fieldDidDrag:i.func.isRequired,fieldDidDrop:i.func.isRequired},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},renderScanning:function(e){return s.default.createElement("span",null,s.default.createElement(c.default,null,I18n.t("Verifying login ID")),s.default.createElement("span",{className:"screenreader-only"},I18n.t("%{percent}% complete",{percent:e})),s.default.createElement("div",{className:"primary__progress","aria-hidden":"true",style:{width:e+"%"}},s.default.createElement("div",{className:"primary__progress__text"},"Verifying login ID")))},duplicateMessage:function(e,t){if(e>0){var n=e>1e4?I18n.t("10,000+"):e.toLocaleString();return I18n.t({one:"1 Duplicate Found",other:"%{countStr} Duplicates Found"},{count:e,countStr:n})}if(t>0){var r=t>1e4?I18n.t("10,000+"):t.toLocaleString();return I18n.t({one:"1 Empty Id Found",other:"%{countStr} Empty Ids Found"},{count:t,countStr:r})}},render:function(){var e=this.props,t=e.field,n=e.uploadType,r=(0,l.default)("csv-table-primary-header",{"csv-table-primary-header--deport":"import"!==n,"csv-table-primary-header--import":"import"===n,"csv-table-primary-header--assigned":!!t,"csv-table-primary-header--scanning":!!t&&t.get("isScanning"),"csv-table-primary-header--failed":!!t&&t.get("isFailed")});return s.default.createElement("div",{className:r,draggable:!!t,onDragStart:this.dragStart,onDragEnd:this.dragEnd,children:this.renderField(),"data-capybara":"primary-assigned"})},renderField:function(){var e=this.props.field;return e||"import"===this.props.uploadType?e?e.get("isScanning")?this.renderScanning(e.get("scanPercent")):e.get("isFailed")?this.duplicateMessage(e.get("duplicateCount"),e.get("emptyIdCount")):s.default.createElement("div",{className:"clearfix"},s.default.createElement("span",{className:"left margin-l-s margin-t-xs"},e.get("text")),s.default.createElement(d.Icon,{className:"right margin-r-s "+e.get("icon")})):null:I18n.t("Drop Here")},dragStart:function(e){var t=this,n=JSON.stringify({id:this.props.field.get("id")});try{e.dataTransfer.setData("application/json",n)}catch(t){e.dataTransfer.setData("Text",n)}setTimeout(function(){t.isMounted()&&t.props.fieldDidDrag()},0)},dragEnd:function(){this.props.fieldDidDrop()}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(30),o=r(i),l=n(4),u=r(l),c=n(235),d=r(c),p=n(3009),f=r(p),m=n(814),h=r(m),g=n(3011),v=r(g),_=n(461),y=r(_),b=n(473),E=r(b),C=n(6),I=r(C),T=n(227),N=n(37),S=r(N),x=n(11),A=r(x),k=n(2),w=n(776),R=r(w);t.default=s.default.createClass({displayName:"FilterBar",mixins:[(0,S.default)({largerThanPhones:S.default.QUERY_LARGER_THAN_PHONES,mobile:S.default.QUERY_MOBILE})],propTypes:{showDomainSelector:k.bool,onDomainChange:k.func,domainConfig:k.array,selectedDomain:k.string,config:k.object.isRequired,query:k.object,filters:y.default.isRequired,stagedFilters:y.default.isRequired,selectedItems:k.any,reportId:k.string,filterState:k.any,allowedFilters:k.array,range:k.string,media:k.object,lightBackground:k.bool},getDefaultProps:function(){return{config:{},showDomainSelector:!1}},getInitialState:function(){return{openRefine:!1,inCustomDateRangeFlow:!1}},componentWillReceiveProps:function(e){this.props.reportId!==e.reportId&&this.setState({openRefine:!1})},toggleFilters:function(){this.setState({openRefine:!this.state.openRefine})},getFilterCount:function(){return u.default.reduce(this.props.filters,function(e,t){return e+t.length},0)},getDatePickerFormat:function(){return this.props.media.mobile?"MMM D":void 0},getRange:function(){return this.props.range||o.default.getQueryItem("range")||(0,T.getDefaultRange)(this.props.config.ranges)},rememberSelectedRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.props.reportId;E.default.set(r,"range",e),E.default.set(r,"start_date",t),E.default.set(r,"end_date",n)},handleTimeRangeSelectorChange:function(e){var t=this;if("custom"===e){var n=this.getStartDate(),r=this.getEndDate();o.default.updateQuery({start_date:n.toISOString(),end_date:r.toISOString(),range:"custom"},function(){t.setState({inCustomDateRangeFlow:!0},function(){t.refs.startDatePicker.focus()})}),this.rememberSelectedRange("custom",n,r)}else o.default.updateQuery({start_date:void 0,end_date:void 0,range:e}),this.setState({inCustomDateRangeFlow:!1}),this.rememberSelectedRange(e)},getStartDate:function(){var e=o.default.getQueryItem("start_date");return e?new Date(e):(0,T.dateRangeFor)(this.getRange()).startDate},handleStartDateChange:function(e){var t=this,n=A.default.max((0,A.default)(e).startOf("day"),(0,A.default)("1969-01-01").startOf("day")),r=(0,A.default)(this.getStartDate());if(!n.isSame(r,"day")){var a=(0,A.default)(this.getEndDate());if(a<n){var s=A.default.duration(a-r);a=n.clone().add(s).endOf("day")}o.default.updateQuery({end_date:a.toISOString(),start_date:n.toISOString(),range:"custom"},function(){t.state.inCustomDateRangeFlow&&t.setState({inCustomDateRangeFlow:!1},function(){t.refs.endDatePicker.focus()})}),this.rememberSelectedRange("custom",n,a)}},getEndDate:function(){var e=o.default.getQueryItem("end_date");return e?new Date(e):(0,T.dateRangeFor)(this.getRange()).endDate},handleEndDateChange:function(e){var t=A.default.min((0,A.default)(e).endOf("day"),(0,A.default)().add(10,"years").endOf("day")),n=(0,A.default)(this.getEndDate());if(!t.isSame(n,"day")){var r=(0,A.default)(this.getStartDate());if(r>t){var a=A.default.duration(n-r);r=t.clone().subtract(a).startOf("day")}o.default.updateQuery({start_date:r.toISOString(),end_date:t.toISOString(),range:"custom"}),this.setState({inCustomDateRangeFlow:!1}),this.rememberSelectedRange("custom",r,t)}},shouldAllowFineTune:function(){var e=this.props.reportId;return"SignInReport"!==e&&"AdminDashboard"!==e},render:function(){var e=(0,I.default)({"report-filter__section":!0,"report-filter__section--refine":!0,"report-filter__section--open":this.state.openRefine}),t=this.props.lightBackground?"blue-grey":"white";return s.default.createElement("div",null,s.default.createElement("div",{className:"report-filter",ref:"filterBar"},s.default.createElement("div",{className:"report-filter__container","data-capybara":"filter_header"},this.props.showDomainSelector&&s.default.createElement("div",{className:"report-filter__section"},s.default.createElement(R.default,{config:this.props.domainConfig,onDomainChange:this.props.onDomainChange,selectedValue:this.props.selectedDomain})),s.default.createElement("div",{className:"report-filter__section"},s.default.createElement(h.default,{ref:"timeRangeKeySelector",options:this.props.config.ranges,selected:this.getRange(),onChange:this.handleTimeRangeSelectorChange,iconOnly:this.state.media.mobile,color:t})),s.default.createElement("div",{className:"report-filter__section"},s.default.createElement("span",{className:"report-filter-date__picker","data-capybara":"start_date_picker"},s.default.createElement(d.default,{ref:"startDatePicker",className:"report-filter-date__input report-filter-date__start",value:this.getStartDate(),onChange:this.handleStartDateChange,allowPast:!0,format:this.getDatePickerFormat()}))),s.default.createElement("div",{className:"report-filter__section"},s.default.createElement("i",{className:"gs-next-divider med-grey gs-2x"})),s.default.createElement("div",{className:"report-filter__section"},s.default.createElement("span",{className:"report-filter-date__picker","data-capybara":"end_date_picker"},s.default.createElement(d.default,{ref:"endDatePicker",className:"report-filter-date__input report-filter-date__end",value:this.getEndDate(),onChange:this.handleEndDateChange,allowPast:!0,format:this.getDatePickerFormat()}))),this.shouldAllowFineTune()&&s.default.createElement("div",{className:e,onClick:this.toggleFilters},s.default.createElement(f.default,{active:this.state.openRefine,filterCount:this.getFilterCount(),onClick:this.toggleFilters})))),this.shouldAllowFineTune()&&s.default.createElement(v.default,{isOpen:this.state.openRefine,close:this.toggleFilters,filters:this.props.filters,stagedFilters:this.props.stagedFilters,selectedItems:this.props.selectedItems,allowedFilters:this.props.allowedFilters,media:this.props.media,filterState:this.props.filterState}))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(12),s=a.GROUP_TYPE_VALUES,i=n(124),o=n(3),l=o.oneOf,u=o.string,c=o.shape,d=r.createClass({displayName:"GroupAvatarWithName",propTypes:{group:c({id:u,type:l(s),name:u})},render:function(){var e=this.props.group;return r.createElement("div",null,r.createElement(i,{id:e.id,name:e.name,type:e.type,className:"left margin-r-s"}),r.createElement("span",{className:"avatar__label"},e.name))}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(30),s=n(50),i=s.Table,o=s.Thead,l=s.Tbody,u=s.Tr,c=s.Th,d=s.Td,p=n(198),f=n(3),m=f.bool,h=f.string,g=f.func,v=f.arrayOf,_=f.node,y=r.createClass({displayName:"ColumnGroup",propTypes:{children:_},render:function(){return r.createElement(u,null,this.props.children)}}),b=r.createClass({displayName:"Body",propTypes:{emptyStateMessage:h,children:_,emptyStateColSpan:h},getDefaultProps:function(){return{emptyStateColSpan:"4"}},render:function(){var e=0;return r.Children.forEach(this.props.children,function(t){t&&(e+=1)}),r.createElement(l,null,0===e&&r.createElement(u,{mobileClassNames:"pure-u-8-8"},r.createElement(d,{colSpan:this.props.emptyStateColSpan,mobileClassNames:"pure-u-7-8 padding-tb-xxs"},r.createElement("p",{className:"text-center dark-grey no-groups-message"},this.props.emptyStateMessage||I18n.t("There are no groups.")))),this.props.children)}}),E=r.createClass({displayName:"GroupListing",statics:{ColumnGroup:y,Column:c,Body:b},propTypes:{canRemoveGroups:m,isAddingGroup:m,onRemove:g,sort:h,searchResults:v(n(42)),children:_},getDefaultProps:function(){return{onRemove:Function.prototype}},render:function(){return r.createElement("div",{className:"group-list"},r.createElement(i,{sort:a.getQueryItem("sort"),className:"group-list-table"},r.createElement(o,{className:"group-list-item__header"},p(this.props.children,y)),p(this.props.children,b)))}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(69),l=r(o),u=n(13),c=r(u),d=n(6),p=r(d),f=n(188),m=r(f),h=n(2),g=s.default.createClass({displayName:"Header",propTypes:{className:h.string,icon:h.string,title:h.string,slashlist:(0,h.arrayOf)((0,h.oneOfType)([h.string,h.object])),navigation:(0,h.shape)({name:h.string,link:h.string,params:h.array,className:h.string}),canEdit:h.bool,onTitleChange:h.func,children:h.node,titleIsTextArea:h.bool,printTitle:h.string,actions:h.node},getDefaultProps:function(){return{slashlist:[],navigation:{},onTitleChange:Function.prototype,titleIsTextArea:!1}},getInitialState:function(){return{title:this.props.title}},render:function(){var e=(0,p.default)("content-header",this.props.className);return s.default.createElement("header",{className:e},s.default.createElement("div",{className:"content-header__sections"},s.default.createElement("div",{className:"content-header-section__top"},this.renderNavigation(),this.renderActions()),this.props.printTitle&&this.renderPrintTitle(),s.default.createElement("div",{className:"content-header-section__icon-text"},this.renderIcon(),this.renderTitleColumn())),this.props.children)},renderNavigation:function(){var e=this.props.navigation,t=(0,p.default)("content-header-section__nav-link",e.className);return this.showNavigation()&&s.default.createElement(c.default,{to:e.link,params:e.params,className:t},s.default.createElement(i.Icon,{className:"content-header-section__nav-icon"}),e.name)},renderIcon:function(){var e=(0,p.default)("content-header-section__icon",this.props.icon);return this.props.icon&&s.default.createElement("span",{className:"content-header-section__icon-wrapper"},s.default.createElement(i.Icon,{"aria-hidden":"true",className:e}))},renderPrintTitle:function(){return s.default.createElement("div",{className:"print-only content-header__print-title"},this.props.printTitle)},renderTitleColumn:function(){return s.default.createElement("div",{className:"content-header-section__title-column"},this.props.titleIsTextArea?this.renderEditableTextFrdVersion():this.renderEditableTextVersion(),this.renderSlashList())},renderEditableTextFrdVersion:function(){return s.default.createElement(m.default,{disabled:!this.props.canEdit,value:this.state.title,onChange:this.updateTitle,onBlur:this.textareaTitleChange,maxLength:"255",className:"content-header-section__title",multiline:!1})},renderEditableTextVersion:function(){return s.default.createElement(l.default,{value:this.props.title,readOnly:!this.props.canEdit,onChange:this.props.onTitleChange,maxLength:"255",inputClassName:"content-header-section__title",fitToContent:!0},s.default.createElement("span",{className:"content-header-section__title"},this.props.title))},renderSlashList:function(){var e=this.props.slashlist;return e&&e.length>0&&s.default.createElement("ul",{className:"content-header-section__list--slashed"},e.map(function(e,t){return s.default.createElement("li",{key:t},e)}))},renderActions:function(){return s.default.createElement("div",{className:"content-header-section__actions"},this.props.actions)},textareaTitleChange:function(e){this.props.onTitleChange(e.target.value)},updateTitle:function(e){this.setState({title:e.target.value})},resetTitle:function(){this.setState({title:this.props.title})},showNavigation:function(){return this.props.navigation&&this.props.navigation.link}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(196),d=r(c),p=n(25),f=r(p),m=n(3035),h=r(m),g=n(19),v=r(g),_=n(29),y=r(_),b=n(53),E=r(b),C=n(4),I=n(12),T=u.default.createClass({displayName:"LearnableGroups",mixins:[(0,E.default)(function(e){return e.fetchNext?e.fetchNext(e.params[e.learnableIdParam],e.query.sort,e.query.search):e.learnableGroupStore.fetchNext(e.params[e.learnableIdParam],e.query.sort,e.query.search)})],propTypes:{isLoading:o.default.bool,isEnrolling:o.default.bool,learnable:o.default.shape({id:o.default.string}),groups:o.default.arrayOf(n(51)),searchResults:o.default.arrayOf(n(309)),permissions:o.default.shape({addGroup:o.default.bool}),query:o.default.shape({sort:o.default.string,search:o.default.string}),learnableType:o.default.string,learnableIdParam:o.default.string,learnableGroupStore:o.default.shape({hasEnrollment:o.default.func}),showRegistered:o.default.bool,useDrawerEditor:o.default.bool,getPropsForLearnable:o.default.func,fetchNext:o.default.func,unenroll:o.default.func,updateGroups:o.default.func,createGroups:o.default.func},getDefaultProps:function(){return{getPropsForLearnable:Function.prototype}},shouldComponentUpdate:function(e){return!e.isLoading},render:function(){return u.default.createElement(h.default,(0,s.default)({canAddGroup:this.props.permissions.addGroup,groups:this.props.groups,searchResults:this.props.searchResults,removableGroupTypes:this.getRemovableGroupTypes(),search:this.props.query.search,onSearch:this.search,onAddGroup:this.enroll,onCreateGroups:this.createGroups,onUpdateGroups:this.updateGroups,onRemoveGroup:this.unenroll,isEnrolling:this.props.isEnrolling,showRegistered:this.props.showRegistered,useDrawerEditor:this.props.useDrawerEditor},this.props.getPropsForLearnable(this.props.learnable)))},getRemovableGroupTypes:function(){var e=this.props.learnableType,t=[];return(0,y.default)(e+"_group_enrollment_destroy")&&t.push(I.GROUP_TYPES.GROUP),(0,y.default)(e+"_domain_group_enrollment_destroy")&&t.push(I.GROUP_TYPES.DOMAIN),(0,y.default)(e+"_smart_group_enrollment_destroy")&&t.push(I.GROUP_TYPES.SMART),(0,y.default)(e+"_team_enrollment_destroy")&&t.push(I.GROUP_TYPES.TEAM),t},search:function(e){d.default.lookup(e,this.props.learnableType)},createGroups:function e(t){var e=this.props.createGroups,n=this.props.learnable.id;return e(n,t).then(this.handleGroupSuccess.bind(this,t),this.handleGroupFailure)},updateGroups:function e(t){var e=this.props.updateGroups,n=this.props.learnable.id;return e(n,t).then(this.handleGroupSuccess.bind(this,t),this.handleGroupFailure)},enrollGroups:function(e){var t=this.props.learnableGroupStore,n=this.props.learnable.id;return t.enroll(n,e).then(this.handleGroupSuccess.bind(this,e),this.handleGroupFailure.bind(this,e))},enroll:function(e){this.enrollGroups([{result:{id:e},relevance:"enrolled"}])},unenroll:function e(t){var n=this.props,r=n.learnableGroupStore,e=n.unenroll,a=n.query,s=a.sort,i=a.search,o=this.props.learnable.id;return e?e({learnableId:o,sort:s,search:i},t):r.unenroll(o,s,i,t).then(null,function(){(0,v.default)(I18n.t("Oh Snap! We were unable to remove your group. Please try again later."),{type:"error"})})},handleGroupSuccess:function(e){var t=(0,C.some)(e,{relevance:"enrolled"});return t&&(0,v.default)(I18n.t("Enrolling the group. For a large group, it may take a few moments before individual learners appear.")),f.default.resolve()},handleGroupFailure:function(){return(0,v.default)(I18n.t("Oh Snap! We were unable to enroll your group. Please try again later."),{type:"error"}),f.default.reject()}});e.exports=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(4),s=n(22),i=r(s),o=n(1377),l=r(o),u=n(196),c=r(u),d=function(e){var t=e.learnableGroupStore,n=e.learnableIdParam,r=e.learnableType,s=e.showRegistered,o=e.useDrawerEditor,u=e.getPropsForLearnable;return(0,i.default)({type:l.default,asyncProps:{groups:{setup:function(e){t.addChangeListener(e)},fetch:function(e){return t.fetch(e.params[n],e.query.sort,e.query.search)},shouldRefetch:function(e,t){return!(0,a.isEqual)(e.query,t.query)},get:function(e){return t.getAll(e.params[n],e.query.sort,e.query.search)},teardown:function(e){t.removeChangeListener(e)}},isEnrolling:{get:function(){return t.isEnrolling()}},searchResults:{setup:function(e){c.default.addChangeListener(e)},get:function(){return c.default.getFound()},teardown:function(e){c.default.removeChangeListener(e)}},learnableGroupStore:{get:function(){return t}},learnableType:{get:function(){return r}},learnableIdParam:{get:function(){return n}},showRegistered:{get:function(){return s}},useDrawerEditor:{get:function(){return o}},getPropsForLearnable:{get:function(){return u}}}})};e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.props=void 0;var a=n(2),s=r(a),i={canAddGroup:s.default.bool,onAddGroup:s.default.func,dueOnDateEnabled:s.default.bool,getOverdueMessage:s.default.func};t.default=s.default.shape(i),t.props=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(27),d=r(c),p=n(450),f=r(p),m=n(788),h=r(m),g=u.default.createClass({displayName:"Listing",propTypes:{learnableId:o.default.string,enrollments:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,state:o.default.string,sources:o.default.array.isRequired})).isRequired,onUnenroll:o.default.func,editorOutlet:o.default.node,canUnenroll:o.default.bool,canExpire:o.default.bool,search:o.default.string,entryComponent:o.default.func,entryProps:o.default.object,children:o.default.node},getDefaultProps:function(){return{enrollments:[],onUnenroll:Function.prototype,entryComponent:h.default}},renderColumns:function(){return[u.default.createElement(p.Column,{key:"name",sortParam:"name"},I18n.t("Name"))].concat(this.props.children).concat([u.default.createElement(p.Column,{key:"unenroll",className:"sortable-table__th--icon",sortable:!1},this.props.canUnenroll&&u.default.createElement(d.default,{children:I18n.t("Remove Enrollment")}))])},render:function(){var e=this.props.editorOutlet;return u.default.createElement("div",{className:"padding-t-xs clear"},u.default.createElement(f.default,null,u.default.createElement(p.ColumnGroup,{mobileClassNames:"hidden"},this.renderColumns()),u.default.createElement(p.Body,null,e,this.props.enrollments.map(this.renderEnrollment))),0===this.props.enrollments.length&&!e&&u.default.createElement("div",{className:"border-b border-grey centered padding-m"},u.default.createElement("p",{className:"text-center dark-grey no-enrollments-message"},this.props.search?I18n.t("There are no learners matching your criteria."):I18n.t("You haven't invited any learners yet."))))},renderEnrollment:function(e){var t=this.props.canUnenroll&&"complete"!==e.state&&e.sources.every(function(e){return"Program"!==e.type}),n=this.props.entryComponent;return u.default.createElement(n,(0,s.default)({key:e.id,learnableId:this.props.learnableId,enrollment:e,onUnenroll:this.props.onUnenroll.bind(null,e.id),canUnenroll:t,canExpire:this.props.canExpire},this.props.entryProps))}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(4),s=n(22),i=r(s),o=n(3037),l=r(o),u=n(109),c=r(u),d=n(29),p=r(d),f=n(25),m=r(f),h=function(e){var t=e.enrollmentStore,n=e.learnableIdParam,r=e.searchInLearnable,s=e.getFoundInLearnable,o=e.getPropsForLearnable,u=e.onUnenroll;return(0,i.default)({type:l.default,asyncProps:{enrollments:{setup:function(e){t.addChangeListener(e)},fetch:function(e){return(0,p.default)("user_view")?t.fetch(e.params[n],e.query.sort,e.query.search):m.default.resolve([])},shouldRefetch:function(e,t){return!(0,a.isEqual)(e.query,t.query)},get:function(e){return t.getAll(e.params[n],e.query.sort,e.query.search)},teardown:function(e){t.removeChangeListener(e)}},isEnrolling:{get:function(){return t.isEnrolling()}},searchResults:{setup:function(e){c.default.addChangeListener(e)},get:function(e){return s(e.params[n])},teardown:function(e){c.default.removeChangeListener(e)}},searchInLearnable:{get:function(){return r}},enrollmentStore:{get:function(){return t}},getPropsForLearnable:{get:function(){return o}},learnableIdParam:{get:function(){return n}},onUnenroll:{get:function(){return u}}}})};e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(4),o=r(i),l=n(26),u=r(l),c=n(5),d=n(24),p=r(d),f=n(284),m=n(25),h=r(m),g=n(3053),v=r(g),_=n(3049),y=r(_),b=n(3051),E=r(b),C=n(3056),I=r(C),T=n(137),N=r(T),S=n(197),x=r(S),A=n(899),k=r(A),w=n(6),R=r(w),O=n(278),P=r(O),L=n(2),M=s.default.createClass({displayName:"QuestionPartial",propTypes:{course:L.object,slide:P.default.isRequired,navigatingTo:(0,L.oneOf)(["next","previous"]),onChange:L.func.isRequired,onNextSlide:L.func.isRequired,
onPreviousSlide:L.func.isRequired,onSubmitQuestion:L.func.isRequired,onSubmissionError:L.func.isRequired},getInitialState:function(){return{submitting:!1}},getDefaultProps:function(){return{slide:{}}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},getSlide:function(){return this.props.slide},getFeedback:function(){var e=this.props.slide.feedback||{};return this.isAnswered()&&this.isShortAnswer()?((0,N.default)(u.default.t("Thank you for your response!")),u.default.t("Thank you for your response!")):this.isAnswered()&&e.use_same_feedback&&e.both?((0,N.default)(e.both),e.both):this.isCorrect()?e.correct?((0,N.default)(e.correct),e.correct):((0,N.default)(u.default.t("You answered this question correctly!")),u.default.t("Correct")):e.incorrect?((0,N.default)(e.incorrect),e.incorrect):((0,N.default)(u.default.t("You answered this question incorrectly!")),u.default.t("Incorrect"))},getChosenAnswers:function(){var e=this.getSlide();if(this.isShortAnswer())return e.chosen_answers;var t=e.answers;return e.chosen_answers.map(function(e){return(0,x.default)(t,"id",e)})},getCorrectAnswers:function(){var e=this.getSlide();return this.isShortAnswer()?e.correct_answers:e.correct_answers.map(function(e,t){return{id:e,position:t+1}})},hasMultipleChoiceSubject:function(){var e=this.getSlide();return null!==e.subject&&e.subject.length>0},isAnswered:function(){return this.props.slide.hasOwnProperty("score")},isCorrect:function(){return(0,k.default)(this.getSlide())},isMultipleChoice:function(){return"multiple_choice"===this.getSlide().type||"true_false"===this.getSlide().type},isMultipleAnswer:function(){return"multiple_answer"===this.getSlide().type},isReorder:function(){return"reorder"===this.getSlide().type},isShortAnswer:function(){return"short_answer"===this.getSlide().type},handleReorderAnswerListReorder:function(e){this.isAnswered()||this.mutateSlide(function(t){t.chosen_answers=e})},handleAnswerListSelect:function(e){var t=this;this.isAnswered()||this.mutateSlide(function(n){if(t.isMultipleChoice())n.chosen_answers=[e];else{var r=n.chosen_answers.indexOf(e);r>-1?n.chosen_answers.splice(r,1):n.chosen_answers.push(e)}})},handleShortAnswerText:function(e){this.isAnswered()||this.mutateSlide(function(t){t.chosen_answers=[e.target.value]})},submitResponse:function(){var e=this;return this.state.submitting?h.default.resolve():(this.setState({submitting:!0}),this.props.onSubmitQuestion(this.getSlide()).then(function(t){if(e.isMounted()){var n;e.isShortAnswer()?n=e.getChosenAnswers():Array.isArray(t.answers)&&(n=e.isReorder()?o.default.sortBy(t.answers,"position"):o.default.filter(t.answers,{correct:!0})),e.mutateSlide(function(r){e.isShortAnswer()?r.correct_answers=n:r.correct_answers=o.default.map(n,"id"),r.score=t.score,e.setState({submitting:!1})})}},this.props.onSubmissionError))},emitChange:function(){this.props.onChange()},mutateSlide:function(e){e(this.getSlide()),this.emitChange()},render:function(){var e=this.getSlide(),t=e.answers,n=this.getChosenAnswers(),r=this.getCorrectAnswers(),a=!n.length||""===n[0],i=this.isAnswered(),o=this.isReorder(),l=this.isMultipleChoice(),d=this.isMultipleAnswer(),f=this.isShortAnswer(),m=this.hasMultipleChoiceSubject(),h=e.attachment_align||"top";return s.default.createElement("div",null,s.default.createElement("div",{className:"question-prompt brand-font","data-capybara":"question-prompt"},s.default.createElement("div",{className:"quiz-question-intro quiz-question-intro--"+h},"bottom"!==h&&this.renderQuestionImage(),s.default.createElement("div",{className:"quiz-question-intro__title constrain-width centered"},s.default.createElement("h2",{className:m?"question-prompt__title--with-subject":"","data-capybara":"question-title"},e.title),m&&s.default.createElement("h3",{className:"question-prompt__subject"},e.subject)),"bottom"===h&&this.renderQuestionImage()),s.default.createElement("div",{className:"centered constrain-width--padded"},o&&s.default.createElement(v.default,{answers:t,chosenAnswers:n,correctAnswers:r,onReorder:this.handleReorderAnswerListReorder}),f&&s.default.createElement(I.default,{chosenAnswer:n[0],correctAnswer:r[0],onChange:this.handleShortAnswerText}),d&&s.default.createElement(y.default,{isAnswered:i,answers:t,chosenAnswers:n,correctAnswers:r,onSelect:this.handleAnswerListSelect}),l&&s.default.createElement(E.default,{isAnswered:i,answers:t,chosenAnswers:n,correctAnswers:r,onSelect:this.handleAnswerListSelect}))),s.default.createElement("div",{className:"text-center margin-tb-xxl dark"},e.previous&&!i&&this.props.course.openBook&&s.default.createElement("button",{type:"button",className:this.getButtonClasses("previous"),disabled:this.props.navigatingTo,onClick:this.props.onPreviousSlide},s.default.createElement("span",{className:"screenreader-only"},s.default.createElement(p.default,null,u.default.t("Back"))),s.default.createElement(c.Icon,{className:"gs-arrow-left gs-1x","aria-hidden":!0})),!i&&s.default.createElement("button",{type:"button",className:"btn--themed centered padding-rl-xxl nextStep question-prompt__submit-btn brand-bg brand-border","data-capybara":"answer_submit",disabled:a,onClick:this.submitResponse},s.default.createElement(p.default,null,u.default.t("Submit")),s.default.createElement(c.Icon,{className:"gs-arrow-right gs-1x padding-l-xs"}))))},renderQuestionImage:function(){var e=this.props.slide;return s.default.createElement("div",{className:"quiz-question-intro__image"},e.attachment_url&&s.default.createElement(f.RichContent,{className:"margin-b-m"},s.default.createElement("img",{src:e.attachment_url,alt:e.attachment_alt_text||u.default.t("Question Image"),"data-capybara":"quiz-image"})))},getButtonClasses:function(e){var t="previous"===e,n="next"===e;return(0,R.default)("btn--themed "+e+"Step brand-border",{"brand-bg":this.props.navigatingTo===e,"brand-color":this.props.navigatingTo!==e,filled:this.props.navigatingTo===e,"btn--round":t,"margin-r-xs":t,"question-prompt__back-btn":t,"secondary dark":t&&!this.isAnswered(),"padding-rl-xxl":n,"question-prompt__continue-btn":n})}});t.default=M,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){return n.indexOf("_")>-1?t[(0,w.default)(n)]=e[n]:t[n]=e[n],t},{})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),i=r(s),o=n(1),l=r(o),u=n(6),c=r(u),d=n(3062),p=r(d),f=n(1382),m=r(f),h=n(593),g=r(h),v=n(3259),_=r(v),y=n(883),b=r(y),E=n(386),C=r(E),I=n(789),T=r(I),N=n(30),S=r(N),x=n(19),A=r(x),k=n(480),w=r(k),R=n(26),O=r(R),P=n(278),L=r(P),M=n(2),D=r(M),U=n(3),F=n(655),q=n(25),B=r(q),j=n(315),H=n(20),G=r(H),W=5e3,V="course",Y=l.default.createClass({displayName:"Slide",mixins:[_.default],propTypes:{course:U.object.isRequired,data:L.default.isRequired,onSubmitQuestion:U.func,onSubmissionError:U.func,onCompleteCourse:U.func,preview:U.bool,query:(0,U.shape)({reset:D.default.oneOf(["1"])}),onToggleResourcesTray:U.func},getDefaultProps:function(){return{onSubmitQuestion:function(){return B.default.resolve({answers:[]})},onSubmissionError:function(e){console.error("Error submitting response: ",e)},query:{}}},getInitialState:function(){return{navigatingTo:null,warnOfChanges:!1}},componentWillMount:function(){this.navigationTimeout=null},componentDidMount:function(){b.default.addChangeListener(this.checkForChanges),"1"===this.props.query.reset&&(0,A.default)(O.default.t("Sorry, the course youre taking has been updated. Start from the beginning to make sure you didnt miss anything!"))},componentWillReceiveProps:function(e){this.appendAttachmentsIfPossible(e),e.data.slide.id!==this.props.data.slide.id&&this.finishNavigation()},componentWillUnmount:function(){this.clearNavigationTimeout(),b.default.removeChangeListener(this.checkForChanges)},appendAttachmentsIfPossible:function(e){e.data.slide.body&&!e.data.slide.structured_body&&this.appendAttachments(e.data.slide)},goToNextSlide:function(){if(!this.state.navigatingTo&&!this.hasUnsavedComments()){var e=this.props.data.slide;if(this.startNavigation("next"),e.next)this.transitionToSlide(e.course_id,e.next);else if((0,G.default)("learn_scorm_cover_slide")&&(0,j.isExternal)(this.props.course)){var t=this.props.course.id;S.default.transitionTo("learner.course.external",{courseId:t},this.props.query)}else this.props.preview||this.props.onCompleteCourse(e.course_id)}},goToPreviousSlide:function(){if(!this.state.navigatingTo&&!this.hasUnsavedComments()){var e=this.props.data.slide;e.previous&&(this.startNavigation("previous"),this.transitionToSlide(e.course_id,e.previous))}},transitionToSlide:function(e,t){this.props.preview&&(0,F.isInIframe)()&&(0,F.messageTarget)().postMessage({slideId:t},location.origin);var n=this.props.preview?"learner.course.slide.preview":"learner.course.slide";S.default.transitionTo(n,{courseId:e,slideId:t},this.props.query)},hasUnsavedComments:function(){this.state.warnOfChanges&&b.default.clearUnsaved();var e=b.default.areAllSaved();return!e&&(this.setState({warnOfChanges:!0}),!0)},startNavigation:function(e){this.navigationTimeout=setTimeout(this.finishNavigation,W),this.setState({navigatingTo:e})},finishNavigation:function(){this.clearNavigationTimeout(),this.setState({navigatingTo:null},function(){window.scrollTo(0,0)})},clearNavigationTimeout:function(){this.navigationTimeout&&(clearTimeout(this.navigationTimeout),this.navigationTimeout=null)},isAnswered:function(){var e=this.props.data.slide;return e.hasOwnProperty("score")},render:function(){var e=this.props.data,t=e.course,n=e.slide,r=this.props,s=r.preview,o=r.query,u=t.progress,d="slide"===n.type,f="cover"===n.type,h=this.isAnswered(),v=this.state.warnOfChanges;return f?l.default.createElement(g.default,(0,i.default)({},a(n.cover_slide_data),{onNextSlide:this.goToNextSlide,query:o,preview:s,maxQuizAttempts:this.props.course.maxQuizAttempts,attemptsCount:this.props.course.attemptsCount})):l.default.createElement("div",{className:(0,c.default)({"content-wrapper":!0,"full-height":!0,"full-min-height":!0,"page--slide":d&&!h,"page--slide-answered":d,"page--question":!d&&!h,"page--question-answered":!d&&h}),"data-capybara":"course_slide"},l.default.createElement(T.default,{course:this.props.course,query:o,showTitle:d,onNextSlide:this.goToNextSlide,onPreviousSlide:this.goToPreviousSlide,preview:s,progress:u,slide:n,title:n.title,onToggleResourcesTray:this.props.onToggleResourcesTray},l.default.createElement("div",null,l.default.createElement("div",{className:"pure-g-r"},l.default.createElement("div",{className:"pure-u-4-24"}),l.default.createElement("div",{className:"pure-u-16-24 margin-b-xxl"},d?l.default.createElement("div",{className:"centered constrain-width learner-slide-content"},l.default.createElement(p.default,{slide:n,navigatingTo:this.state.navigatingTo,onNextSlide:this.goToNextSlide,onPreviousSlide:this.goToPreviousSlide,warnOfChanges:v,onFetchLtiContent:this.fetchLtiContent})):l.default.createElement(m.default,{onChange:this.reload,course:this.props.course,slide:n,navigatingTo:this.state.navigatingTo,onNextSlide:this.goToNextSlide,onPreviousSlide:this.goToPreviousSlide,onSubmitQuestion:this.props.onSubmitQuestion,onSubmissionError:this.props.onSubmissionError})),l.default.createElement("div",{className:"pure-u-4-24"})))))},reload:function(){this.forceUpdate()},checkForChanges:function(){b.default.areAllSaved()&&this.setState({warnOfChanges:!1})},fetchLtiContent:function(e){var t=this.props.course;return C.default.fetch(e,V,t.id)}});n(3063)(Y),t.default=Y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(1385),u=r(l),c=n(3064),d=r(c),p=n(3067),f=r(p),m=n(3066),h=r(m),g=n(1390),v=r(g),_=n(1387),y=r(_),b=n(1388),E=r(b),C=n(81),I=r(C),T=n(12),N=o.default.createClass({displayName:"LearningItem",propTypes:{activeItemId:s.default.string,highlight:s.default.string,isLearner:s.default.bool,item:I.default,itemLink:s.default.string,onAttachmentIconClick:s.default.func.isRequired,onRemoveItem:s.default.func,permissions:u.default.propTypes.permissions,shouldRenderProgramLink:s.default.bool,showAllDetails:s.default.bool,showDescription:s.default.bool,programId:s.default.string,headerLevel:s.default.string,isProgram:s.default.bool},render:function(){switch(this.props.item.learnableType){case T.LEARNING_ITEM_COURSE_TYPE:return this.renderCourse();case T.LEARNING_ITEM_LIVE_COURSE_TYPE:return this.renderLiveCourse();case T.LEARNING_ITEM_PROGRAM_TYPE:return this.renderProgram();case T.LEARNING_ITEM_SURVEY_TYPE:return this.renderSurvey();case T.LEARNING_ITEM_TASK_TYPE:return this.renderTask();case T.LEARNING_ITEM_LTI_CONTENT_ITEM_TYPE:return this.renderLtiContentItem();case T.LEARNING_ITEM_PROGRAM_SECTION_TYPE:return this.renderProgramSection();default:return null}},renderCourse:function(){return o.default.createElement(u.default,{key:this.props.item.id,learningItem:this.props.item,isLearner:this.props.isLearner,itemLink:this.props.itemLink,activeItemId:this.props.activeItemId,permissions:this.props.permissions,onRemove:this.props.onRemoveItem,onAttachmentIconClick:this.props.onAttachmentIconClick,highlight:this.props.highlight,showAllDetails:this.props.showAllDetails,showDescription:this.props.showDescription,programId:this.props.programId,headerLevel:this.props.headerLevel})},renderLiveCourse:function(){var e=this.props.shouldRenderProgramLink,t=!this.props.isLearner&&!this.props.permissions.viewLiveCourses;return o.default.createElement(d.default,{learningItem:this.props.item,shouldRenderProgramLink:e,isLearner:this.props.isLearner,onAttachmentIconClick:this.props.onAttachmentIconClick,noLink:t,key:this.props.item.id,activeItemId:this.props.activeItemId,highlight:this.props.highlight,showDescription:this.props.showDescription,headerLevel:this.props.headerLevel})},renderProgram:function(){return o.default.createElement(h.default,{key:this.props.item.id,learningItem:this.props.item,isLearner:this.props.isLearner,permissions:this.props.permissions,highlight:this.props.highlight,showDescription:this.props.showDescription,onRemove:this.props.onRemoveItem})},renderSurvey:function(){return o.default.createElement(f.default,{surveyDistribution:this.props.item,key:this.props.item.id,highlight:this.props.highlight,headerLevel:this.props.headerLevel})},renderTask:function(){var e=!this.props.isLearner&&!this.props.permissions.viewTasks;return o.default.createElement(v.default,{learningItem:this.props.item,isLearner:this.props.isLearner,noLink:e,key:this.props.item.id,highlight:this.props.highlight,programId:this.props.programId,activeItemId:this.props.activeItemId,onAttachmentIconClick:this.props.onAttachmentIconClick,headerLevel:this.props.headerLevel})},renderLtiContentItem:function(){return o.default.createElement(y.default,{key:this.props.item.id,learningItem:this.props.item,programId:this.props.programId,highlight:this.props.highlight,headerLevel:this.props.headerLevel})},renderProgramSection:function(){return o.default.createElement(E.default,{key:this.props.item.id,learningItem:this.props.item,programId:this.props.programId,highlight:this.props.highlight,headerLevel:this.props.headerLevel,isProgram:this.props.isProgram})}});t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(13),s=r(a),i=n(24),o=r(i),l=n(26),u=r(l),c=n(1),d=r(c),p=n(6),f=r(p),m=n(151),h=n(103),g=r(h),v=n(294),_=r(v),y=n(433),b=r(y),E=n(125),C=r(E),I=n(214),T=r(I),N=n(225),S=r(N),x=n(605),A=r(x),k=n(61),w=r(k),R=n(271),O=r(R),P=n(11),L=r(P),M=n(58),D=r(M),U=n(1471),F=n(12),q=n(2),B=n(1389),j=r(B),H=n(94),G=r(H),W=n(298),V=r(W),Y=d.default.createClass({displayName:"LearningItemCourse",propTypes:{learningItem:n(81).isRequired,itemLink:b.default.propTypes.itemLink,preventItemLink:q.bool,onRemove:q.func,onAttachmentIconClick:q.func.isRequired,isSingleLine:q.bool,isLearner:q.bool,titlePlaceholder:q.string,activeItemId:q.string,showDescription:q.bool,permissions:(0,q.shape)({viewCourses:q.bool,viewLiveCourses:q.bool}),highlight:q.string,showAllDetails:q.bool,programId:q.string,headerLevel:q.string},getDefaultProps:function(){return{isSingleLine:!1,isLearner:!0,permissions:{},showDescription:!0,showAllDetails:!1,headerLevel:"h2"}},getInitialState:function(){return{wantToRemove:!1,giveFocus:!1}},render:function(){var e=this.isTitleOnly();return d.default.createElement("li",{className:this.buildClassName(),"data-capybara":"learning_item"},d.default.createElement("div",{className:"learning-item-list-item__wrapper"},this.renderProgress(),this.renderCourseStatus(),d.default.createElement("div",{className:(0,f.default)("learning-item-list-item__details",{"full-height":e})},d.default.createElement("div",{className:(0,f.default)({"full-height":e})},d.default.createElement("div",{className:this.lineClassName()},this.renderTitle(),!e&&this.renderMetaData()),this.renderScore(),this.renderDescription(),this.renderMatchingTags()),this.renderAttachmentButton())),this.renderRemoval())},shouldPreventItemLink:function(){return this.props.preventItemLink||!this.props.isLearner&&!this.props.permissions.viewCourses||C.default.isArchived(this.props.learningItem)||C.default.isLocked(this.props.learningItem)},renderTitle:function(){var e=this.props.learningItem,t=C.default.isFailed(e),n=this.shouldPreventItemLink(),r=this.props.headerLevel;return d.default.createElement(r,{className:"h3 margin-none"},n&&d.default.createElement("span",null,this.renderHighlightedText(this.title())),C.default.isArchived(e)&&d.default.createElement(G.default,null,d.default.createElement(G.default.Trigger,null,d.default.createElement(V.default,{name:u.default.t("ARCHIVED"),className:"learning-item-list-item__archived"})),d.default.createElement(G.default.Content,{dark:!0},d.default.createElement("p",{className:"warning-message"},u.default.t("This course is not currently available.")))),!n&&d.default.createElement(b.default,{itemLink:this.props.itemLink,courseId:e.learnableId,isEnrolled:e.isEnrolled!==!1,enrollmentUuid:e.data.uuid,programId:this.props.programId,linkText:this.title(),highlight:this.props.highlight,dataCapybara:"learning_item_link"}),t&&d.default.createElement("div",{className:"learning-item-list-item__pass-threshold",dangerouslySetInnerHTML:{__html:this.passThresholdLabel()}}))},renderProgress:function(){var e=this.props.learningItem,t=C.default.isOverdue(e),n=C.default.isFailed(e),r=C.default.isStarted(e),a=e.data.furthestProgress;return r&&0===a&&(a=.01),this.shouldShowProgress()&&d.default.createElement(g.default,{type:"circle",progress:a,renderIcon:!0,iconClasses:(0,f.default)({"course-status__icon":!0,"brand-color":!t,"gs-book":!0}),isFailed:n,className:"learning-item-list-item__status",isOverdue:t,isOptional:C.default.isOptional(e)})},renderCourseStatus:function(){var e=this.props,t=e.learningItem,n=e.isSingleLine,r=C.default.isComplete(t),a=C.default.isArchived(t);if(C.default.isFailed(t))return d.default.createElement(A.default,{permanentlyFailed:t.permanentlyFailed,archived:a});if(!C.default.isStarted(t)){var s=(0,f.default)({"learning-item-list-item__status":!0,"learning-item--no-border":this.shouldShowProgress(),"course-status--completed":r&&!a,"course-status--archived":a});return d.default.createElement(_.default,{isCompleted:r,isFailed:!1,isOverdue:C.default.isOverdue(t),isArchived:a,isLocked:C.default.isLocked(t),hasCertificate:this.shouldShowCertificate(),className:s,modifier:n?"blue":""})}return null},renderScore:function(){var e=this.props,t=e.learningItem,n=e.isSingleLine;return C.default.isCompletedOrFailed(t)&&n&&d.default.createElement("div",{className:"text-right"},d.default.createElement(o.default,null,d.default.createElement(u.default.ComponentInterpolator,{string:u.default.t("Your Score %{learning_item_data_score}*%*",{learning_item_data_score:"%{learning_item_data_score}"}),wrappers:{"*":d.default.createElement("span",{className:"superscript"},"$1")},learning_item_data_score:d.default.createElement("b",{className:"learnerScore"},t.data.score)},"$1")))},renderAttachmentButton:function(){var e=this,t=this.props,n=t.learningItem,r=t.isSingleLine;return!r&&d.default.createElement("div",{className:"learning-item-list-item__attachments text-right"},d.default.createElement(T.default,{onClick:function(t,r){return e.props.onAttachmentIconClick(n,F.LEARNING_ITEM_COURSE_TYPE,r)},activeItemId:this.props.activeItemId,itemId:n.id,attachmentsCount:this.attachmentsCount(),disabled:C.default.isArchived(n)}))},renderDescription:function(){var e=this.props.learningItem;return e.description&&this.props.showDescription&&d.default.createElement("div",{className:"learning-item-list-item__description",ref:this.addOverflowFade()},this.renderHighlightedText(e.description))},renderMatchingTags:function(){var e=this.props.learningItem;return!this.state.wantToRemove&&e.matchingTags&&e.matchingTags.length>0&&d.default.createElement("div",{className:"learning-item-list-item__tags margin-t-xs"},e.matchingTags.map(this.renderTag))},renderTag:function(e){return d.default.createElement(O.default,{key:e,highlight:!0},e)},renderMetaData:function(){var e=this.props.learningItem,t=C.default.isFailed(e),n=C.default.isPermanentlyFailed(e),r=(0,f.default)({pink:!C.default.isArchived(e),bold:!0});return d.default.createElement("ul",{className:"learning-item-list-item__meta","data-capybara":"learning_item_meta"},this.renderRenewBy(e),n&&[this.renderArchived(e),d.default.createElement("li",{key:"permanentlyFailed",className:r},d.default.createElement(o.default,null,u.default.t("Failed")))],t&&!n&&d.default.createElement("li",{className:"medium"},d.default.createElement(o.default,null,u.default.t("Last Attempt Failed"))),!n&&this.renderDueDate(e),C.default.isComplete(e)&&[this.renderExpiresAt(e),this.renderArchived(e),d.default.createElement("li",{key:"completed"},d.default.createElement(o.default,null,d.default.createElement(u.default.ComponentInterpolator,{string:u.default.t("Completed %{learning_item_service_format_time_since_learning_item_completed_at}",{learning_item_service_format_time_since_learning_item_completed_at:"%{learning_item_service_format_time_since_learning_item_completed_at}"}),learning_item_service_format_time_since_learning_item_completed_at:C.default.formatTimeSince(e.completedAt)},"$1"))),this.renderCertificate(e)],!n&&this.renderTimeRemaining(e),C.default.isCompletedOrFailed(e)&&d.default.createElement("li",null,d.default.createElement(o.default,null,d.default.createElement(u.default.ComponentInterpolator,{string:u.default.t("Your Score %{learning_item_data_score}%",{learning_item_data_score:"%{learning_item_data_score}"}),learning_item_data_score:e.data.score},"$1"))))},renderTimeRemaining:function(e){var t=e.data,n=t.timeRemaining,r=t.estimatedTime,a=C.default.isStarted(e)&&!e.wasOriginallyLibraryItem?L.default.duration(n,"minutes").humanize():L.default.duration(r,"minutes").humanize();return C.default.isComplete(e)?null:d.default.createElement("li",{"data-capybara":"time-remaining"},C.default.isStarted(e)&&!e.wasOriginallyLibraryItem||n>0?u.default.t("About %{timeEstimate} remaining",{timeEstimate:a}):u.default.t("Takes about %{timeEstimate}",{timeEstimate:a}))},renderCertificate:function(e){return this.shouldShowCertificate()&&this.props.isLearner&&d.default.createElement("li",{key:"link"},d.default.createElement(s.default,{to:"course-certificate",params:[{courseId:e.learnableId}],className:"learning-item-list-item__meta--link brand-color"},d.default.createElement(o.default,null,u.default.t("view certificate"))))},renderArchived:function(e){return C.default.isArchived(e)&&d.default.createElement("li",{key:"archived"},d.default.createElement(o.default,null,u.default.t("Archived")))},renderExpiresAt:function(e){var t=C.default.formatTime(e.data.expiresAt);return e.data.expiresAt&&d.default.createElement("li",{key:"expires",className:"learning-item-list-item__expires"},(0,L.default)(e.data.expiresAt).isBefore((0,L.default)())?d.default.createElement(o.default,null,d.default.createElement(u.default.ComponentInterpolator,{string:u.default.t("Expired %{formatted_time}",{formatted_time:"%{formatted_time}"}),formatted_time:t},"$1")):d.default.createElement(o.default,null,d.default.createElement(u.default.ComponentInterpolator,{string:u.default.t("Expires %{formatted_time}",{formatted_time:"%{formatted_time}"}),formatted_time:t},"$1")))},renderRenewBy:function(e){return e.data.timeRemaining>0&&e.data.renewBy&&d.default.createElement("li",{key:"expires",className:"learning-item-list-item__renew"},d.default.createElement(o.default,null,d.default.createElement(u.default.ComponentInterpolator,{string:u.default.t("Renew by %{learning_item_service_format_time_learning_item_data_renew_by}",{learning_item_service_format_time_learning_item_data_renew_by:"%{learning_item_service_format_time_learning_item_data_renew_by}"}),learning_item_service_format_time_learning_item_data_renew_by:C.default.formatTime(e.data.renewBy)},"$1")))},renderDueDate:function(e){var t=e.data.endAt?(0,m.dueDateText)(e.data.endAt):u.default.t("No due date");return C.default.isRequired(e)&&!C.default.isComplete(e)&&d.default.createElement("li",null,d.default.createElement("span",{className:"learning-item-list-item__due-date"},t))},renderRemoval:function(){return d.default.createElement(j.default,{onClick:this.willRemoveItem,onCancel:this.cancelRemove,onRemove:this.deleteItem,wantToRemove:this.state.wantToRemove,giveFocus:this.state.giveFocus,isRemovable:this.isRemovable(),itemLabel:"Course"})},renderHighlightedText:function(e){return d.default.createElement(w.default,{text:e,highlight:this.props.highlight})},willRemoveItem:function(){this.setState({wantToRemove:!0})},cancelRemove:function(){this.setState({wantToRemove:!1,giveFocus:!0})},deleteItem:function(){this.props.onRemove(this.props.learningItem)},passThresholdLabel:function(){var e=this.props.learningItem.data.passingThreshold,t=u.default.t("%{score}% Required to Pass",{score:parseInt(e,10)});if(this.props.learningItem.data.maxQuizAttempts){var n=this.props.learningItem.data,r=n.maxQuizAttempts,a=n.attemptsCount;t=(0,U.attemptsLeftText)(t,r,a)}return t},isTitleOnly:function(){var e=this.props,t=e.isSingleLine,n=e.learningItem,r=e.showAllDetails;return!r&&(t||C.default.shouldShowTitleOnly(n))},shouldShowCertificate:function(){return!this.props.isSingleLine&&this.props.learningItem.data.hasCertificate},shouldShowProgress:function(){var e=this.props,t=e.isSingleLine,n=e.learningItem;return!t&&C.default.isStarted(n)},isRemovable:function(){var e=this.props,t=e.learningItem,n=e.onRemove;return!!n&&C.default.canLearnerUnEnroll(t)},title:function(){var e=this.props,t=e.learningItem,n=e.titlePlaceholder;return t.title||n||u.default.t("Untitled Course")},attachmentsCount:function(){var e=this.props,t=e.learningItem,n=e.isLearner;return!n&&t.data.attachmentsCountAuthor||t.data.attachmentsCount||0},buildClassName:function(){var e=this.props.learningItem;return(0,f.default)({"learning-item-list-item":!0,"learning-item-list-item--completed":C.default.isComplete(e)&&!C.default.isArchived(e),"learning-item-list-item--overdue":C.default.isOverdue(e),"learning-item-list-item--locked":C.default.isLocked(e),"learning-item-list-item--archived":C.default.isArchived(e),"learning-item-list-item--want-to-remove":this.state.wantToRemove})},lineClassName:function(){return(0,f.default)({"learning-item-list-item__title--centered":this.isTitleOnly(),"learning-item-list-item__title":!this.isTitleOnly()})},addOverflowFade:function(){var e=!(0,D.default)(this.props.programId)||this.props.learningItem.data.required||"complete"===this.props.learningItem.state||"locked"===this.props.learningItem.state,t="theme-light"===document.body.className?"LIGHT_GREY":"GREY";return(0,S.default)(2,e?"WHITE":t)}});e.exports=Y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(6),u=r(l),c=n(2998),d=r(c),p=o.default.createClass({displayName:"LearningItemGroup",propTypes:{header:s.default.string,slug:s.default.string,feature:s.default.string,children:s.default.node,headerClassName:s.default.string,listClassName:s.default.string,noResultsText:s.default.string,collapseAfter:s.default.number},slug:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props,e=n.slug,r=n.header;if(t&&e)return e.replace(/-/,"_");if(e)return e;if(!r)return null;var a=t?"_":"-";return r.toLowerCase().replace(/ /g,a)},header:function e(){var t=this.props,e=t.header,n=t.headerClassName;if(!e)return null;var r=this.slug()?"learning-item-group__header--"+this.slug():"",a=(0,u.default)("learning-item-group__header",r,n);return o.default.createElement("h2",{className:a},e)},noResults:function(){return this.props.noResultsText?o.default.createElement("section",{className:"learning-item-group learning-item-group--empty","data-capybara":"course-list_group_empty"},o.default.createElement("p",{className:"black dark-grey text-center padding-tb-s"},this.props.noResultsText)):null},render:function(){var e=this.props,t=e.children,n=e.feature,r=e.listClassName;if(0===o.default.Children.count(t))return this.noResults();var a=this.slug()?"learning-item-group--"+this.slug():"",s=n?"learning-item-group--"+n:"",i=(0,u.default)("learning-item-group",a,s),l=(0,u.default)("learning-item-group__list",r),c=this.props.header?this.props.header.replace(/ /g,"_")+"_group":"program_course_list";return o.default.createElement("section",{className:i,"data-capybara":c},this.header(),o.default.createElement(d.default,{listClassName:l,children:t,visibleCount:this.props.collapseAfter,showMoreLabel:function(e){return I18n.t("See All (%{count} More)",{count:e})},showLessLabel:I18n.t("See Less")}))}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(800),o=r(i),l=n(6),u=r(l),c=n(225),d=r(c),p=n(58),f=r(p),m=n(125),h=r(m),g=n(81),v=r(g),_=n(61),y=r(_),b=n(13),E=r(b),C=n(4),I=n(3),T=n(12);t.default=s.default.createClass({displayName:"LearningItemList::LearningItemLtiContentItem",propTypes:{learningItem:v.default.isRequired,programId:I.string,className:I.string,noLink:I.bool,highlight:I.string,headerLevel:I.string},getDefaultProps:function(){return{headerLevel:"h2"}},render:function(){var e=(0,u.default)({"learning-item-list-item":!0,"learning-item-list-item--completed":this.isComplete(),"learning-item-list-item--locked":this.isLocked()},this.props.className);return s.default.createElement("li",{className:e},s.default.createElement("div",{className:"learning-item__wrapper"},this.renderStatus(),s.default.createElement("div",{className:"learning-item__details"},this.renderTitle(),this.renderDescription())))},renderStatus:function(){var e=this.props.learningItem,t=(0,u.default)({"learning-item-list-item__status":!0,"learning-item--no-border":!0,"learning-item--completed":this.isComplete(),"learning-item--locked":this.isLocked()});return s.default.createElement(o.default,{isComplete:this.isComplete(),isLocked:this.isLocked(),iconUrl:(0,C.get)(e,"data.icon.@id"),className:t})},renderTitle:function(){var e=this.props,t=e.learningItem,n=e.programId,r=e.noLink,a=this.isLocked(),i=t.title,o=this.props.headerLevel;return s.default.createElement("div",{className:"learning-item-list-item__title"},s.default.createElement(o,{className:"h3 margin-none"},a||r?this.renderHighlightedText(i):s.default.createElement(E.default,{to:"learner.lti_content_item",queryParams:{programId:n},params:[{ltiContentItemId:t.learnableId}],className:"course-list-item__course-link"},this.renderHighlightedText(i))))},renderDescription:function(){
var e=this.props.learningItem;return e.description&&s.default.createElement("div",{className:"learning-item-list-item__description",ref:this.addOverflowFade()},this.renderHighlightedText(e.description))},renderHighlightedText:function(e){return s.default.createElement(y.default,{text:e,highlight:this.props.highlight})},addOverflowFade:function(){var e=!(0,f.default)(this.props.programId)||this.props.learningItem.state===T.STATUS_COMPLETE||this.props.learningItem.state===T.STATUS_LOCKED,t="theme-light"===document.body.className?"LIGHT_GREY":"GREY";return(0,d.default)(2,e?"WHITE":t)},isComplete:function(){return h.default.isComplete(this.props.learningItem)},isLocked:function(){return h.default.isLocked(this.props.learningItem)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(24),o=r(i),l=n(27),u=r(l),c=n(81),d=r(c),p=n(6),f=r(p),m=n(3);t.default=s.default.createClass({displayName:"LearningItemList::LearningItemProgramSectionItem",propTypes:{learningItem:d.default.isRequired,programId:m.string,className:m.string,noLink:m.bool,highlight:m.string,isProgram:m.bool},render:function(){if(!this.props.isProgram)return null;var e=(0,f.default)("learning-item-list-program-section",this.props.className);return s.default.createElement("li",{className:e},this.renderTitle(),this.renderDescription())},renderTitle:function(){var e=this.props.learningItem.title;return s.default.createElement("h2",{className:"learning-item-list-program-section__title"},s.default.createElement("div",{"aria-hidden":"true",className:"learning-item-list-program-section__title__swatch"}),!e&&s.default.createElement(u.default,null,s.default.createElement(o.default,null,I18n.t("New program section"))),e)},renderDescription:function(){return s.default.createElement("div",{className:"learning-item-list-program-section__description"},this.props.learningItem.description)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(24),o=r(i),l=n(5),u=n(179),c=r(u),d=n(2),p=s.default.createClass({displayName:"LearningItemRemovalDialog",propTypes:{itemLabel:d.string.isRequired,onClick:d.func.isRequired,onCancel:d.func.isRequired,onRemove:d.func.isRequired,isRemovable:d.bool.isRequired,wantToRemove:d.bool.isRequired,giveFocus:d.bool},getDefaultProps:function(){return{giveFocus:!1}},render:function(){return this.props.isRemovable?this.props.wantToRemove?s.default.createElement(l.ConstrainFocus,{useArrowKeys:!0},s.default.createElement(l.KeyMapper,{onKCEscape:this.props.onCancel},s.default.createElement("div",{className:"border-grey border-l text-right padding-l-xs"},s.default.createElement("p",{className:"text-center"},I18n.t("Remove %{item}",{item:this.props.itemLabel})),s.default.createElement("div",{className:"text-center"},s.default.createElement("button",{ref:c.default,type:"button",onClick:this.props.onCancel,className:"btn--reset small bold upcase dark-grey margin-l-s margin-r-s"},s.default.createElement(o.default,null,I18n.t("Cancel"))),s.default.createElement("button",{type:"button",onClick:this.props.onRemove,className:"btn--reset small bold upcase pink margin-l-s margin-r-s"},s.default.createElement(o.default,null,I18n.t("Remove"))))))):s.default.createElement("button",{type:"button",ref:this.props.giveFocus&&c.default,onClick:this.props.onClick,className:"learning-item-list-item__remove text-right btn--reset padding-r-m","data-capybara":"learning_item_remove"},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Delete %{item}",{item:this.props.itemLabel})),s.default.createElement(l.Icon,{className:"gs-x gs-1x dark-grey"})):null}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(26),o=r(i),l=n(28),u=r(l),c=n(13),d=r(c),p=n(446),f=r(p),m=n(61),h=r(m),g=n(214),v=r(g),_=n(3068),y=r(_),b=n(6),E=r(b),C=n(225),I=r(C),T=n(58),N=r(T),S=n(125),x=r(S),A=n(81),k=r(A),w=n(3),R=n(12);t.default=s.default.createClass({displayName:"LearningItemList::LearningItemTask",propTypes:{learningItem:k.default.isRequired,onAttachmentIconClick:w.func,isLearner:w.bool,noLink:w.bool,highlight:w.string,programId:w.string,isSingleLine:w.bool,showTaskEventsLink:w.bool,showApprovedIcon:w.bool,className:w.string,progressIconClass:w.string,showApprovalStateLabel:w.bool,activeItemId:w.string,headerLevel:w.string},getDefaultProps:function(){return{isLearner:!0,isSingleLine:!1,showTaskEventsLink:!1,progressIconClass:"gs-tasks",showApprovedIcon:!0,showApprovalStateLabel:!1,onAttachmentIconClick:function(){},headerLevel:"h2"}},isSingleLine:function(){if(this.props.isSingleLine)return!0;var e=this.props.learningItem.data,t=e.approval,n=e.requiresApproval;return!(this.isComplete()||t||n)},render:function(){var e=this.props.learningItem,t=(0,E.default)({"learning-item-list-item":!0,"learning-item-list-item__task":!0,"learning-item-list-item--completed":this.isComplete(),"learning-item-list-item--locked":x.default.isLocked(e)},this.props.className);return s.default.createElement("li",{className:t,"data-capybara":"learning_item"},s.default.createElement("div",{className:"learning-item-list-item__wrapper"},this.renderStatus(),this.renderTaskDetails()))},renderMetaData:function(){return s.default.createElement(y.default,{learningItem:this.props.learningItem})},renderTaskDetails:function(){var e=this.props,t=e.showApprovalStateLabel,n=e.isSingleLine,r=!n&&!t;return s.default.createElement("div",{className:"learning-item-list-item__details"},this.renderDetails(),r&&this.renderAttachmentButton(),t&&this.renderApprovalStateLabel())},renderDetails:function(){return s.default.createElement("div",null,this.renderTitle(),!this.props.isSingleLine&&this.renderMetaData(),this.renderDescription(),this.props.showTaskEventsLink&&this.renderEventsLink())},renderAttachmentButton:function(){var e=this,t=this.props,n=t.activeItemId,r=t.learningItem;return s.default.createElement("div",{className:"learning-item-list-item__attachments text-right"},s.default.createElement(v.default,{onClick:function(t,n){return e.props.onAttachmentIconClick(r,R.LEARNING_ITEM_TASK_TYPE,n)},activeItemId:n,itemId:r.id,attachmentsCount:this.attachmentsCount()}))},attachmentsCount:function(){var e=this.props.isLearner,t=this.props.learningItem.data;return(e?t.attachmentsCount:t.attachmentsCountAuthor)||0},renderStatus:function(){var e=this.props.learningItem;return s.default.createElement(f.default,{approval:e.data.approval,className:"learning-item-list-item__status",isComplete:this.isComplete(),isLocked:x.default.isLocked(e),hasCertificate:e.data.hasCertificate,isOverdue:this.isOverdue()})},renderTitle:function(){var e=this.props,t=e.learningItem,n=e.noLink,r=this.props.learningItem.title||o.default.t("Untitled Checkpoint"),a=x.default.isLocked(t),i=this.isSingleLine(),l=(0,u.default)({"learning-item-list-item__title":!i}),c=this.props.headerLevel;return s.default.createElement("div",{className:l},s.default.createElement(c,{className:"h3 margin-none"},n||a?this.renderHighlightedText(r):s.default.createElement(d.default,{to:this.navigationLink(),params:this.navigationParams(),queryParams:{programId:this.props.programId},className:"course-list-item__course-link",dataCapybara:"learning_item_link"},this.renderHighlightedText(r))))},renderEventsLink:function(){return s.default.createElement(d.default,{to:this.navigationLink(),params:this.navigationParams(),className:"label learning-item-list-item__events-link"},o.default.t("View Comments / Activity"))},renderDescription:function(){var e=this.props.learningItem;return e.description&&s.default.createElement("div",{className:"learning-item-list-item__description",ref:this.addOverflowFade()},this.renderHighlightedText(e.description))},renderApprovalStateLabel:function(){return s.default.createElement("span",{className:"learning-item-list-item__approval-state-label upcase dark-grey small","data-capybara":"approval-state-label"},this.getApprovalStatusDescription())},addOverflowFade:function(){var e=!(0,N.default)(this.props.programId)||this.props.learningItem.data.required||"complete"===this.props.learningItem.state||"locked"===this.props.learningItem.state,t="theme-light"===document.body.className?"LIGHT_GREY":"GREY";return(0,I.default)(2,e?"WHITE":t)},navigationLink:function(){return this.props.isLearner?"learner.checkpoint":"author.checkpoint"},navigationParams:function(){return[{taskId:this.props.learningItem.learnableId}]},renderHighlightedText:function(e){return s.default.createElement(h.default,{text:e,highlight:this.props.highlight})},isComplete:function(){var e=this.props.learningItem;return x.default.isComplete(e)},isOverdue:function(){var e=this.props.learningItem;return x.default.isOverdue(e)},isApproved:function(){var e=this.props.learningItem,t=e.data.approval;return t&&t.state===R.APPROVAL_STATE_APPROVED},getApprovalStatusDescription:function(){var e=this.props.learningItem,t=e.data.approval;if(!t)return null;switch(t.state){case R.APPROVAL_STATE_INCOMPLETE:return o.default.t("Requires approval");case R.APPROVAL_STATE_REQUESTED:return o.default.t("Pending approval");case R.APPROVAL_STATE_REJECTED:return o.default.t("Retry");case R.APPROVAL_STATE_APPROVED:return o.default.t("Approved");default:return null}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(1394),s=n(2),i=s.object,o=s.array,l=s.bool,u=s.string,c=r.createClass({displayName:"LibraryListCards",propTypes:{libraryItems:o,searchTerm:u,showBackgroundImages:l,noItemsFoundIn:i,noItemsAddedIn:u},getDefaultProps:function(){return{libraryItems:[],searchTerm:"",showBackgroundImages:!0,noItemsFoundIn:null,noItemsAddedIn:I18n.t("No items have been added to the Learning Library.")}},render:function(){var e=this,t=this.props,n=t.libraryItems,s=t.searchTerm;if(n&&n.length)return r.createElement("div",{className:"library-list-cards centered"},r.createElement("ul",{className:"library-list-row unstyled"},this.props.libraryItems.map(function(t){return r.createElement(a,{key:t.id,libraryItem:t,highlight:e.props.searchTerm,showBackgroundImage:e.props.showBackgroundImages})})));if(s){var i=this.props.noItemsFoundIn;return null===i&&(i=I18n.t("There are no matches for *%{searchTerm}* in the Learning Library.",{searchTerm:s,wrappers:['<span class="search-highlight">$1</span>']})),r.createElement("div",{className:"library-list-cards--none x-medium dark-grey padding-tb-m text-center"},r.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))}return r.createElement("div",{className:"library-list-cards--none x-medium dark-grey padding-tb-m text-center"},this.props.noItemsAddedIn)}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(26),o=n(12),l=o.LEARNING_ITEM_COURSE_TYPE,u=o.LEARNING_ITEM_PROGRAM_TYPE,c=o.LEARNING_ITEM_LIVE_COURSE_TYPE,d="content_type.",p=d+l,f=d+u,m=d+c,h=function(){var e;return e={"status.not_started":i.t("Not Started Yet"),"status.in_progress":i.t("In Progress"),"status.completed":i.t("Completed"),"duration.lt_10":i.t("Less than 10 min"),"duration.between_10_and_30":i.t("10-30 min"),"duration.between_30_and_50":i.t("30-50 min"),"duration.gt_50":i.t("More than 50 min"),"other.certificate":i.t("Has Certificate"),"other.scorm":i.t("SCORM Content")},(0,s.default)(e,p,i.t("Course")),(0,s.default)(e,f,i.t("Program")),(0,s.default)(e,m,i.t("Live Training")),e};e.exports={filterLabels:h,ITEM_TYPE_COURSE:p,ITEM_TYPE_PROGRAM:f,ITEM_TYPE_LIVE_COURSE:m}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(424),o=r(i),l=n(296),u=r(l),c=n(3069),d=r(c),p=n(1391),f=r(p),m=n(3070),h=r(m),g=n(1392),v=n(136),_=n(2),y=n(589),b=r(y),E=n(1479),C=r(E),I=n(43),T=n(20),N=r(T),S=n(30),x=r(S),A=n(11),k=r(A),w=s.default.createClass({displayName:"LibraryList",propTypes:{libraryItems:_.array,onChangeParams:_.func,onChangeSearch:_.func,onTagRemoved:_.func,onTagTrayToggle:_.func,onRemoveItem:_.func,urlDriven:_.bool,searchPlaceHolder:_.string,searchTerm:_.string,noItemsFoundIn:_.object,noItemsAddedIn:_.string,trayIsOpen:_.bool,showHeader:_.bool,includeFilters:_.bool,query:(0,_.shape)({search:_.string,sort:_.string,filters:(0,_.oneOfType)([_.string,(0,_.arrayOf)(_.string)])})},getDefaultProps:function(){return{query:{},onChangeParams:Function.prototype,showHeader:!0,includeFilters:!0,urlDriven:!0}},renderCards:function(){var e=this,t=this.props.libraryItems;return t&&0!==t.length?t.map(function(t){var n=(0,C.default)(t),r="Start";t.completedAt?r="Review":t.itemType&&!t.isEnrolled?r="Enroll":n.progress>0&&(r="Resume");var a=null,i=null;return n.required||n.complete||!e.props.onRemoveItem||(a=I18n.t("Remove"),i=e.props.onRemoveItem),s.default.createElement(I.LearningCard,{grow:!0,key:t.id,size:"small",actionText:r,onAction:e.handleLaunch,removeText:a,onRemove:i,data:n})}):[]},handleLaunch:function(e){switch(e.type){case"course":e.isEnrolled?x.default.transitionTo("learner.course.launch",{courseId:e.learnableId}):x.default.transitionTo("learner.course.enroll",{courseUuid:e.uuid});break;case"program":e.isEnrolled?x.default.transitionTo("learner.program",{programId:e.learnableId}):x.default.transitionTo("learner.program.enroll",{programUuid:e.uuid});break;case"checkpoint":x.default.transitionTo("learner.checkpoint",{taskId:e.learnableId});break;case"ilt":e.isEnrolled?x.default.transitionTo("learner.live_training_calendar",{liveCourseId:e.learnableId,date:(0,k.default)().format("YYYY-MM-DD")}):x.default.transitionTo("learner.live_course.enroll",{liveCourseUuid:e.uuid});break;case"survey":x.default.transitionTo("react.learner.survey",{distributionId:e.distributionId})}},renderContent:function(){if((0,N.default)("learn_new_cards"))return s.default.createElement(b.default,{noResultsText:this.props.noItemsFoundIn,searchTerm:this.props.searchTerm},this.renderCards());var e=!(0,v.areLearnerLibraryImagesDisabled)();return s.default.createElement(f.default,{libraryItems:this.props.libraryItems,searchTerm:this.props.searchTerm,showBackgroundImages:e,noItemsFoundIn:this.props.noItemsFoundIn,noItemsAddedIn:this.props.noItemsAddedIn})},render:function(){var e="large-content-area centered";(0,N.default)("learn_new_cards")&&(e="mylearning-content-area centered");var t=(0,N.default)("learn_my_learning_tabbed_nav")?s.default.createElement(u.default,null):s.default.createElement(u.default,{header:s.default.createElement("h1",{className:"layout--list__header-text"},I18n.t("Learning Library"))});return s.default.createElement("div",null,this.props.showHeader&&t,s.default.createElement(d.default,{sort:this.props.query.sort,filters:this.props.query.filters,includeFilters:this.props.includeFilters,searchTerm:this.props.searchTerm,onChangeParams:this.props.onChangeParams,onChangeSearch:this.props.onChangeSearch,urlDriven:this.props.urlDriven,searchPlaceHolder:this.props.searchPlaceHolder,onTagTrayToggle:this.props.onTagTrayToggle,trayIsOpen:this.props.trayIsOpen}),s.default.createElement("div",{className:e},s.default.createElement("div",{className:"library-filters"},s.default.createElement(h.default,{onTagRemoved:this.props.onTagRemoved}),s.default.createElement(o.default,{filters:this.props.query.filters,filterLabels:(0,g.filterLabels)(),onChangeFilters:this.props.onChangeParams})),this.renderContent()))}});n(3071)(w),e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(23),u=r(l),c=n(11),d=r(c),p=n(3072),f=r(p),m=n(3073),h=r(m),g=n(3074),v=r(g),_=n(6),y=r(_),b=n(13),E=r(b),C=n(5),I=n(2),T=n(4),N=["onKeyDown"],S=o.default.createClass({displayName:"LibraryListItem",propTypes:{libraryItem:n(146).isRequired,highlight:I.string,showBackgroundImage:I.bool,onRemove:I.func},getDefaultProps:function(){return{libraryItem:{},showBackgroundImage:!0}},getInitialState:function(){return{overlayVisible:!1}},render:function(){var e=this.props,t=e.libraryItem,n=e.highlight,r=e.showBackgroundImage,a=this.isLiveCourse(),i=!1,l=this.isSurvey(),u=(0,y.default)({"library-list-item":!0,"library-list-item--new":!0,"library-list-item--multi":"Program"===t.itemType});return o.default.createElement("li",(0,s.default)({className:u},(0,T.pick)(this.props,N),{"data-capybara":"learning_item"}),o.default.createElement("div",this.state.overlayVisible?{"aria-hidden":"true"}:{},o.default.createElement(h.default,{libraryItem:t,onShowOverlayClick:this.showOverlayClicked,hideOverlayToggle:a||i||l,showBackgroundImage:r,overlayVisible:this.state.overlayVisible}),o.default.createElement(f.default,{libraryItem:t,highlight:n,hideProgress:a||i||l,onRemove:this.props.onRemove})),this.renderOverlay())},renderOverlay:function(){var e=this;if(!this.state.overlayVisible)return null;var t=this.props.libraryItem;return o.default.createElement(C.ConstrainFocus,{onUnmount:function(){u.default.findDOMNode(e).querySelector(".library-list-item__arrow button").focus()}},o.default.createElement(v.default,{libraryItem:t,onCloseClick:this.toggleOverlay}))},isLiveCourse:function(){return"LiveCourse"===this.props.libraryItem.itemType},isTask:function(){return"Task"===this.props.libraryItem.itemType},isSurvey:function(){return"Surveys::Survey"===this.props.libraryItem.itemType},showOverlayClicked:function(){this.isLiveCourse()?this.navigateToLiveTraining():this.toggleOverlay()},navigateToLiveTraining:function(){var e=this.props.libraryItem;e.isEnrolled?E.default.transitionTo("learner.live_training_calendar",{queryParams:{liveCourseId:this.props.libraryItem.itemId,date:(0,d.default)().format("YYYY-MM-DD")}}):E.default.transitionTo("learner.live_course.enroll",this.props.libraryItem.data.uuid)},toggleOverlay:function(){var e=!this.state.overlayVisible;this.setState({overlayVisible:e})}});e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(78),o=r(i),l=n(18),u=r(l),c=n(3081),d=r(c),p=n(3),f=n(3080),m=r(f);e.exports=s.default.createClass({displayName:"exports",propTypes:{ltiTools:(0,p.arrayOf)(n(159)),permissions:(0,p.shape)({lti_tool_create:p.bool,lti_tool_destroy:p.bool}),accountId:p.string.isRequired,onRemove:p.func,onEnableToggle:p.func,addTool:p.func},getDefaultProps:function(){return{permissions:{lti_tool_create:!1,lti_tool_destroy:!1}}},getInitialState:function(){return{toolFormIsOpen:!1}},render:function(){var e=this.props,t=e.accountId,n=e.permissions,r=e.ltiTools;return s.default.createElement("div",{className:"support-account layout--list"},s.default.createElement("div",{className:"layout--list__header"},s.default.createElement("h1",{className:"layout--list__header-text"},"LTI Tools"),n.lti_tool_create&&s.default.createElement(u.default,{className:"add-btn add-btn--detail",onClick:this.openForm,children:I18n.t("+ Add Tool")})),s.default.createElement("div",{className:"layout--list__content"},s.default.createElement(d.default,{tools:r,permissions:n,accountId:t,onRemove:this.props.onRemove,onEnableToggle:this.props.onEnableToggle})),s.default.createElement(o.default,{isOpen:this.state.toolFormIsOpen,onRequestClose:this.closeForm,className:"support-account__modal",overlayClassName:"support-account__modal-overlay",contentLabel:I18n.t("Add Tool")},s.default.createElement(m.default,{closeForm:this.closeForm,accountId:t,addTool:this.props.addTool})))},openForm:function(){this.setState({toolFormIsOpen:!0})},closeForm:function(){this.setState({toolFormIsOpen:!1})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(6),l=r(o),u=n(20),c=r(u),d=n(114),p=r(d);t.default=s.default.createClass({displayName:"ContentOutlet",propTypes:{children:i.node.isRequired,className:i.string},render:function(){var e=p.default.isMobile()||!(0,c.default)("global_nav"),t=(0,l.default)("tray-layout__content",this.props.className,{"tray-layout__content--slide":e,"tray-layout__content--shrink":!e});return s.default.createElement("div",{className:t},this.props.children)}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(3),i=s.bool,o=s.node,l=s.func,u=n(27),c=n(18),d=n(5),p=d.Icon,f=d.KeyMapper,m=d.ConstrainFocus,h=n(6),g=n(48),v=g.TRAY_ANIMATION_DURATION_MS,_=n(20),y=r.createClass({displayName:"TrayOutlet",propTypes:{isOpen:i,children:o,onCloseClick:l.isRequired},getInitialState:function(){return{isClosing:!1}},componentWillReceiveProps:function(e){var t=this,n=this.props.isOpen&&e.isOpen===!1;n&&this.setState({isClosing:n},function(){setTimeout(function(){t.setState({isClosing:!1})},v)})},componentDidUpdate:function(e){this.props.isOpen&&!e.isOpen&&this.refs.close.focus()},shouldComponentUpdate:function(e,t){return!t||!t.isClosing},render:function(){return r.createElement(m,null,r.createElement(f,{onKCEscape:this.props.onCloseClick,children:this.renderContent()}))},renderContent:function(){var e=this.props.isOpen,t=h("tray-layout__tray",{hidden:!e,"tray-layout--global-nav":_("global_nav")});return r.createElement("div",{className:t,"aria-hidden":e?"false":"true"},r.createElement(c,{className:"btn--reset tray-layout__close-btn","data-capybara":"close-tray-btn",onClick:this.props.onCloseClick,ref:"close"},r.createElement(p,{className:"gs-x gs-1x dark-grey"}),r.createElement(u,{children:a.t("Close")})),r.createElement("div",{className:"tray-layout__tray__children"},e&&this.props.children))}});e.exports=y},function(e,t,n){"use strict";function r(e){return e}function a(e){return function(t){return e(t)}}var s=n(41),i=["displayName","input","output","parse"],o=n(3),l=o.any;e.exports=function(e){return Object.keys(e).forEach(function(e){s(i.indexOf(e)>-1,'Unknown model specification attribute "'+e+'".\n       A specification may only be composed of: '+i.join(", ")+".")}),{parse:a(e.parse||r),input:e.input,output:e.output,propTypeValidator:l}}},function(e,t,n){"use strict";var r=n(4),a=r.assign;e.exports=a(function(){},{transitionTo:function(){},replaceWith:function(){},isActive:function(){},goBack:function(){}})},function(e,t,n){"use strict";var r=n(656),a=n(36),s=n(4),i=s.assign,o=n(150),l=a.Map(),u=a.Map(),c={clients:l,tokens:u},d=function(e,t,n){var r=new t(e);return r.addExtension({outgoing:function(t,r){return"/meta/subscribe"!==t.channel?r(t):(t.ext=t.ext||{},t.ext.auth={token:n().getIn([e,t.subscription])},r(t))}}),r},p=t.Middleware={filterActions:function(e,t){return t=[].concat(t),function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.action;t.indexOf(a)!==-1&&e(n,i(r,{action:a}))}},justAttributes:function(e){return function(t){var n=t.attributes,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(o(n),r)}},attributesForActions:function(e,t){return p.filterActions(p.justAttributes(e),t)}};t.subscribe=function(e,t){var n=e.channel,a=e.token,s=e.url,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Client;i.tokens=i.tokens.setIn([s,n],a);var l=i.clients.get(s);l||(l=d(s,o,function(){return i.tokens}),i.clients=i.clients.set(s,l));var u=l.subscribe(n,t);return u.then(null,function(e){var t=e.message;console.error(t)}),u}},function(e,t,n){"use strict";var r=n(7),a=n(25),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e<=1?0:25*Math.pow(e,2)},i=function(){function e(){var e=u[0];if(e){var n="undefined"!=typeof e.request?e.request:d(e.params);e.attempts++,n.then(function(t){o(e),e.resolve(t)}).catch(function(t){var n=e.attempts>=c||i(e);n&&(o(e),e.reject(t))}).then(t)}}function t(){u.length>0?m=setTimeout(e,s(u[0].attempts)):(u.resolve(),f(u),p())}function n(e){var t=e instanceof a,n={attempts:0};return t?n.request=e:n.params=Object.assign({type:"PUT"},e),n.promise=new a(function(e,t){n.resolve=e,n.reject=t}),n}function i(e){return u.indexOf(e)===-1}function o(e){var t=u.indexOf(e);t>-1&&u.splice(t,1)}var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{retryCount:3,adapter:r,callback:function(){}},u=[],c=l.retryCount||3,d=l.adapter||r,p=""==typeof l.callback||Function.prototype,f=function(e){return e.promise=new a(function(t,n){e.resolve=t,e.reject=n}),e},m=void 0;return f(u),{add:function(t){var r=n(t);return u.push(r),1===u.length&&e(),r.promise},get:function(){return u},clear:function(){m&&(m=clearTimeout(m)),u.splice(0)},promise:u.promise}};e.exports={create:i,getAttemptInterval:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(!u){var t=document.createElement("div");t.classList.add("full-height"),u=(0,l.getAppContainer)().appendChild(t)}try{var n=document.getElementsByClassName("global-nav__content")[0];try{n&&n.parentElement&&(n.parentElement.scrollTop=0)}catch(e){console.warn("ScrollTop Error: "+e)}document.body.scrollTop=0,o.default.render(e,u)}catch(e){console.error("RenderError:",e&&e.stack||e);try{o.default.unmountComponentAtNode(u)}catch(e){console.error(":barf:")}finally{u.remove(),u=null}}}function s(){if(u)try{o.default.unmountComponentAtNode(u)}catch(e){console.error(":barf:")}finally{u.remove(),u=null}}Object.defineProperty(t,"__esModule",{value:!0}),t.unmount=s;var i=n(23),o=r(i),l=n(423),u=void 0;t.default=function(e){return Object.assign({},e,{renderComponent:a})}},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(40),i=n(45);e.exports=r({schema:i,perform:function(e){return a({url:"/api/author/course_templates",dataType:"json",type:"POST",data:{course_templates:[s(e)]}})},parse:function(e,t){return e(t.course_templates[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(218),o=r(i);t.default=(0,s.default)({url:"/api/admin/users/imports/%@",schema:o.default,parse:function(e,t){return t.imports.map(e)[0]}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i),l=n(628),u=r(l);e.exports=(0,s.default)({schema:u.default,perform:function(){return(0,o.default)({url:"/api/admin/import_profile",dataType:"json"})},parse:function(e,t){return e(t.import_profile)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(112),o=r(i),l=n(7),u=r(l),c=n(40),d=r(c),p=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/approver/approvals/next",data:(0,d.default)(e)})},parse:function(e,t){var n=t.approvals;return e(n[0])}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(112),o=r(i),l=n(7),u=r(l),c=n(40),d=r(c),p=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/approver/approvals/previous",data:(0,d.default)(e)})},parse:function(e,t){var n=t.approvals;return e(n[0])}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),s=r(a),i=n(8),o=r(i),l=n(31),u=r(l),c=n(7),d=r(c);t.default=(0,o.default)({schema:n(857),perform:function(e,t){var n=e.domainId,r=e.subAccountId,a=e.r2bJwt,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.userId,l=i.excludeUserWithExpiredQuiz,c=u.default.get("R2B_HOST");if(!c)return s.default.reject(new Error("R2B_HOST is not configured"));var p={account:u.default.get("ACCOUNT.database"),"domain-id":n,"sub-account-id":r,"course-id":t};return o&&(p["user-id"]=o),l&&(p["exclude-user-with-expired-quiz"]=l),(0,d.default)({url:c+"/course_template/retain",data:p,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)}})}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(176),perform:function(e){return a({url:"/api/author/tags/"+e})},parse:function(e,t){var n=t.tags;return e(n[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return"function"==typeof e?e.apply(t,n):void 0}function s(e,t,n){var r=e[t];e[t]=function(){return n.apply(this,arguments),a(r,this,arguments)}}function i(e,t,n){var r=e[t];e[t]=function(){return n.call(this,r,arguments)}}function o(){var e=v.default._generatePathForHybridLink({to:h.default.getPostAuthRoute()});return v.default.isPathActive(e)}function l(e){return(0,f.values)(e.asyncProps).forEach(function(e){var t=!1,n=function(e){o()&&(t=!0),e()};s(e,"fetch",function(){t=!1});var r=void 0;s(e,"setup",function(e){r=n.bind(this,e),c.default.addChangeListener(r)}),s(e,"teardown",function(){c.default.removeChangeListener(r)}),i(e,"shouldRefetch",function(e,n){return t||a(e,this,n)})}),(0,p.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=n(39),c=r(u),d=n(22),p=r(d),f=n(4),m=n(34),h=r(m),g=n(30),v=r(g);e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.arrayOf,s=r.bool,i=r.number,o=r.shape,l=r.string;e.exports=o({contactName:l,contactEmail:l,contactPhone:l,importPasswords:s,supportLevel:l,subAccountSupportLevel:l,showCustomSupportInfo:s,supportName:l,supportPhone:l,supportEmail:l,customerProvidedSupportHelpArticlesUrl:l,customerProvidedSupportChatUrl:l,lyndaOrgId:l,locale:l,timeZone:l,autoCsv:s,scormSftp:s,limitedAuthoring:s,limitedManagers:s,bridgeRetain:s,salesforceId:l,progressiveFinanceCustomization:s,dataDumpEnabled:s,dataDumpSubaccountEnabled:s,cloneable:s,learnerLibraryEnabled:s,learnerCalendarEnabled:s,createUserFromAuthHash:s,iframeHost:l,sessionReissueSeconds:i,sessionExpireSeconds:i,sessionTimeoutRedirectUrl:l,userLimit:i,expirationDate:l,usedFreeTrialExtension:s,useCustomSupport:s,customSupportChatUrl:l,customSupportTicketUrl:l,customSupportPhoneNumber:l,customSupportHelpArticlesUrl:l,customBackToMyLearningLabel:l,customBackToMyLearningHref:l,calendar:o({office365:s}),auth:n(145),products:a(n(854)),lyndaLibraryEnabled:s,externalCourseIdEnabled:s,learnerLibraryImagesDisabled:s,scorm:o({registrationInstancingOption:l,scoLaunchType:l,scoreRollupMode:l}),passwordResetAllowed:s,passwordMinimumLength:i,passwordRequiresNumbers:s,passwordRequiresSymbols:s,passwordRequiresUppercase:s,webhooksEnabled:s,webhooks:o({courseCompletedEnabled:s,courseCompletedUrl:l}),elasticSearchEnabled:s,hideLoginBridgeLogo:s})},function(e,t,n){"use strict";var r=n(10),a=r.object,s=r.string,i=r.number,o=r.array,l=r.shape;e.exports=l({id:s,body:s,attachmentUrl:s,attachmentAltText:s,rating:i,ratingSum:i,createdAt:s,editedAt:s,user:a,children:o,childrenCount:i,nextPageUrl:s})},function(e,t,n){"use strict";var r=n(10),a=r.number,s=r.shape;e.exports=s({totalEnrollments:a,completedEnrollments:a,unfinishedEnrollments:a,createdEnrollments:a,inProgressEnrollments:a,overdueEnrollments:a,failedEnrollments:a,permanentlyFailedEnrollments:a})},function(e,t,n){"use strict";var r=n(25),a=n(10),s=a.shape,i=a.string,o=a.instanceOf,l=a.bool;e.exports=s({id:i,type:i,url:i,upload:o(r),autoCsv:l,file:o(window.File)})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.number,i=r.shape;e.exports=i({id:a,name:a,type:a,usersCount:s,registeredCount:s,relevance:a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=r.arrayOf,s=r.bool,i=r.oneOf,o=r.shape,l=r.string,u=o({id:l,userId:l,uid:l,name:l,required:s,state:i(["invited","registered","complete"])}),c=o({id:l,enrollmentId:l,markedCompleteAt:l}),d=o({id:l,startAt:l,endAt:l,registrations:a(c)}),p=o({domainId:l,subAccountId:l,r2bJwt:l});t.LiveCourseEnrollment=u,t.LiveCourseSession=d,t.Meta=p,t.default=o({id:l,title:l,description:l,meta:p,enrollments:a(u),concludedSessions:a(d),futureSessions:a(d)})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.arrayOf,i=r.string;e.exports=a({
subscriptions:s(a({url:i,channel:i,token:i}))})},function(e,t,n){"use strict";var r=n(10),a=r.arrayOf,s=r.number,i=r.object,o=r.shape,l=r.string,u=r.array;e.exports={id:l,timeStamp:i,course:o({averageScore:s,questionBreakdown:a(o({id:s.isRequired,position:s.isRequired,title:l,questionType:l.isRequired,avgScore:s.isRequired,attemptCount:s.isRequired,answers:u})).isRequired})}},function(e,t,n){"use strict";var r=n(10),a=r.arrayOf,s=r.shape,i=r.string,o=r.number;e.exports=s({groupResults:a(s({id:i,name:i,completedCount:o,recipientsCount:o,type:i,answers:a(s({questionId:i,score:o}))})),links:s({reportUrl:i})})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string;e.exports=a({id:s,distributionId:s,recipientId:s,createdAt:s,submittedAt:s})},function(e,t,n){"use strict";var r=n(10);e.exports=(0,r.shape)({id:r.string,name:r.string,type:r.string,usersCount:r.number})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=(0,r.shape)({id:r.string,title:r.string,description:r.string,deletedAt:r.string,courseType:r.string,slideTotal:r.number,openBook:r.bool}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.number,o=r.bool;e.exports=a({id:s,index:i,courseId:s,courseType:s,description:s,estimatedTime:i,learnableId:s,passingThreshold:i,slideTotal:i,thirdPartyCourseId:s,title:s,completedAt:s,deletedAt:s,endAt:s,expiresAt:s,hasCertificate:o,isEnrolled:o,required:o,progress:i,renewBy:s,score:i,state:s,timeRemaining:i,sessionsCount:i,attachmentsCount:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0;var r=n(10),a={allow_comments:r.bool,answers:(0,r.arrayOf)((0,r.shape)({id:r.string,body:r.string})),attachment_align:r.string,attachment_alt_text:r.string,attachment_url:r.string,attachments:(0,r.arrayOf)(r.object),body:r.string,chosen_answers:(0,r.arrayOf)(r.string),correct_answers:(0,r.arrayOf)(r.string),cover_slide_data:(0,r.shape)({dark:r.bool,background_color:r.string,primary_color:r.string}),feedback:(0,r.shape)({correct:r.string,incorrect:r.string,both:r.string,use_same_feedback:r.bool}),id:r.string,serialized_body:r.string,structured_body:r.object,subject:r.string,score:r.number,title:r.string,type:r.string};t.default=(0,r.shape)(a),t.Type=a},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({tracker:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(3),l=n(67),u=r(l),c=n(12),d=n(4),p=n(1432),f=r(p),m=n(468),h=r(m),g=n(466),v=r(g),_=n(52),y=r(_),b=n(30),E=r(b),C=n(296),I=r(C),T=n(20),N=r(T);e.exports=s.default.createClass({mixins:[v.default],displayName:"LyndaCategoriesPage",propTypes:{marketplaceCategories:(0,o.arrayOf)(n(241)).isRequired,isLoading:o.bool,isLearnerLibrary:o.bool},getInitialState:function(){return{needsSpace:!1}},render:function(){if(this.props.isLoading)return s.default.createElement(i.Loader,null);var e=this.props.marketplaceCategories.map(function(e){var t=(0,d.cloneDeep)(e);return t.icon=c.LYNDA_ICONS[e.id]||"book",t}),t=s.default.createElement("h1",{className:"layout--list__header-text"},I18n.t("My Learning")),n=s.default.createElement(I.default,{header:t});return(0,N.default)("learn_learning_header_branding")&&(n=s.default.createElement(I.default,null)),s.default.createElement("div",{className:"lynda-categories","data-capybara":"lynda-categories"},!(0,N.default)("learn_my_learning_tabbed_nav")&&s.default.createElement("div",{className:"lynda-categories__logo-header","data-capybara":"lynda-logo-header"},s.default.createElement("img",{className:"lynda-categories__logo-header__img","data-capybara":"lynda-logo-header__image",src:"/images/lynda-logo-square.png",alt:I18n.t("Lynda")})),s.default.createElement("div",{className:"lynda-search__controls"},(0,N.default)("learn_my_learning_tabbed_nav")&&this.props.isLearnerLibrary&&n,s.default.createElement("div",{className:"library-actions padding-b-xxl"},s.default.createElement("div",{className:"pure-g-r large-content-area centered","data-capybara":"lynda-search-field"},s.default.createElement("div",{className:"pure-u-1-2"},s.default.createElement(y.default,{debounceRate:0,onCarriageReturn:this.searchAll,urlDriven:!1,placeholderText:I18n.t("Search for Lynda courses")}))))),s.default.createElement("div",null,this.displayTitle(),s.default.createElement("div",{className:"lynda-categories__category-list","data-capybara":"lynda-categories__category-list"},e.map(this.renderCategory))))},displayTitle:function(){return!!(0,h.default)()==!1?s.default.createElement("div",{className:"lynda-categories__preview-banner"},s.default.createElement(f.default,null)):s.default.createElement("h3",{className:"lynda-categories__category-list-heading lynda-categories__text-center","data-capybara":"lynda-categories__category-list-heading"},I18n.t("Select a category below to browse"))},renderCategory:function(e){return s.default.createElement(u.default,{className:"lynda-categories__category",key:e.id,to:this.getLyndaPath("/categories/"+e.id)},s.default.createElement("div",{title:e.name,"data-capybara":"lynda-category-link"},s.default.createElement("div",{className:"lynda-categories__category-top"},s.default.createElement("div",{className:"lynda-categories__category-name-wrapper"},s.default.createElement("div",{className:"lynda-categories__category-name","data-capybara":"lynda-category-name"},e.name)),s.default.createElement(i.Icon,{className:"gs-"+e.icon+" lynda-categories__category-icon"})),s.default.createElement("div",{className:"lynda-categories__course-count","data-capybara":"lynda-category-count"},I18n.t("%{courseCount} Courses",{courseCount:e.courseCount}))))},searchAll:function(e){E.default.transitionTo(this.getLyndaPath("/course"),null,{search:e})}})},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(102),i=n(54),o=n(22),l=n(3291),u=n(3),c=u.string,d=u.arrayOf,p=u.shape,f=u.func,m=u.bool,h=n(4),g=h.find,v=n(1430),_=n(865),y=n(1437),b=y.normalizeToCourseSummary,E=n(868),C=n(5),I=C.Loader,T=n(468),N=r.createClass({displayName:"LyndaCoursePage",propTypes:{course:n(851),marketplaceCategories:d(n(241)),renderAddButton:f.isRequired,params:p({categoryId:c,courseId:c.isRequired}).isRequired,query:p({search:c}),isLearnerLibrary:m.isRequired},loadIFrame:function(e){if(e){var t=a.findDOMNode(e),n="https://www.lynda.com/player/embed/"+this.props.course.welcomeVideoId+"\n                 ?fs=3&h="+t.clientHeight+"&w="+t.clientWidth+"\n                 &ps=paused&utm_medium=referral&utm_source=embed+video&utm_campaign=ldc-website&utm_content=vid-87513";t.setAttribute("src",n)}},render:function(){if(!this.props.course||!this.props.marketplaceCategories.length)return r.createElement(I,null);var e=this.props.course,t=this.props.params.categoryId,n=b(e,t),a=void 0;return t&&"0"!==t&&(a=this.getSelectedCategory(t)),r.createElement("div",{className:"lynda-course"},r.createElement("div",{className:"lynda-course__top"},r.createElement(s,{type:"markets",hasIcon:!1,customClass:"layout--item-header__details--lynda"},r.createElement(i,{name:"layout--item-header__details"},a?r.createElement(_,{category:a,course:n,isLearnerLibrary:this.props.isLearnerLibrary}):r.createElement(_,{searchTerm:this.props.query.search,course:n,isLearnerLibrary:this.props.isLearnerLibrary}),this.renderTitle()))),r.createElement("div",{className:"lynda-course__body"},r.createElement("div",{className:"lynda-course__info-wrapper"},r.createElement("div",{className:"lynda-course__video-wrapper"},r.createElement("iframe",{ref:this.loadIFrame,className:"lynda-course__preview-video",allowFullScreen:"true",frameBorder:"0"}))),r.createElement("div",{className:"lynda-course__info"},r.createElement("div",{className:"lynda-course__summary-info-wrapper"},r.createElement("div",{className:"lynda-course__summary-info"},r.createElement("div",{className:"lynda-course__author"},I18n.t("by %{fullname}",{fullname:e.author.fullname})),r.createElement(v,{className:"lynda-course__difficulty",difficulty:e.difficulty}),r.createElement("div",{className:"lynda-course__time"},E.secondsToHours(e.durationInSeconds)),r.createElement("div",{className:"lynda-course__viewers"},r.createElement("b",null,e.views),"",I18n.t("Viewers in"),"",r.createElement("b",null,e.countries),"",I18n.t("Countries")))),r.createElement("div",{className:"lynda-course__course-info"},r.createElement("div",{className:"lynda-course__chapter-info"},e.chapters.map(this.renderChapter)),r.createElement("div",{className:"lynda-course__description"},r.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}),this.renderTopics(e.metaDataTopics))))))},renderTitle:function(){var e=this.props.course,t=T();return r.createElement("div",{className:"lynda-course__title-container"},r.createElement("h1",{className:"lynda-course__title"},e.title),t&&this.props.renderAddButton(this.props.course))},renderChapter:function(e){var t=e.title.replace(/^[0-9]+\.\s/,"");return r.createElement("div",{key:e.title,className:"lynda-course__chapter"},r.createElement("h3",{className:"lynda-course__chapter-title"},t),r.createElement("div",null,e.videos.map(this.renderVideoInfo)))},renderVideoInfo:function(e,t){return r.createElement("div",{key:t},r.createElement("div",{className:"lynda-course__video-duration"},E.secondsToMinutes(e.durationInSeconds)),r.createElement("div",{className:"lynda-course__video-title"}," ",e.title))},renderTopics:function(e){if(!e)return null;var t=e.split("\n");return r.createElement("div",null,r.createElement("h3",{className:"lynda-course__topics-title"},I18n.t("Topics include:")),t.map(function(e,t){return r.createElement("div",{className:"lynda-course__topic",key:t},e)}))},getSelectedCategory:function(e){var t=this.props.marketplaceCategories,n=g(t,{id:e});return n||console.error("A category was not found with the specified parameters and\n      data: "+e),n}});e.exports=o({type:N,asyncProps:{course:{fetch:function(e){return l.fetch(e.params.courseId)},get:function(e){return l.get(e.params.courseId)},shouldRefetch:function(e,t){return e.params.courseId!==t.params.courseId}}}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(102),o=r(i),l=n(54),u=r(l),c=n(52),d=r(c),p=n(4),f=r(p),m=n(3),h=n(22),g=r(h),v=n(1434),_=r(v),y=n(3282),b=r(y),E=n(1431),C=r(E),I=n(192),T=r(I),N=n(3292),S=r(N),x=n(865),A=r(x),k=n(5),w=n(468),R=r(w),O=n(1436),P=r(O),L=n(240),M=r(L),D=n(53),U=r(D),F=20,q={id:!0,authorId:!0,difficulty:!0,durationInSeconds:!0,categoryId:!0},B=void 0,j=s.default.createClass({displayName:"SearchLyndaPage",mixins:[(0,M.default)(function(){var e=this.getSelectedCategory();return e?I18n.t("%{title} - Lynda - Learning Library - Bridge",{title:e.name}):I18n.t("Lynda - Learning Library - Bridge")}),(0,U.default)(function(e,t,n){n.setState({numDisplayed:n.state.numDisplayed+F})})],propTypes:{marketplaceCategories:(0,m.arrayOf)(n(241)).isRequired,isLearnerLibrary:m.bool,params:(0,m.shape)({categoryId:m.string.isRequired}).isRequired,query:(0,m.shape)({filter_id:m.string,search:m.string}),filters:(0,m.arrayOf)(n(852)),courseSummaries:(0,m.arrayOf)(T.default),basket:(0,m.arrayOf)(T.default)},getInitialState:function(){return{numDisplayed:F}},render:function(){var e=this.getSelectedCategory();return e?s.default.createElement("div",{className:"lynda-search"},s.default.createElement("div",{className:"lynda-search__top"},s.default.createElement(o.default,{type:"markets",hasIcon:!1},s.default.createElement(u.default,{name:"layout--item-header__details"},s.default.createElement(A.default,{category:e,isLearnerLibrary:this.props.isLearnerLibrary}),s.default.createElement("h1",{"data-capybara":"lynda-search__top-category-name"},e.name))),s.default.createElement("div",{className:"lynda-search__controls"},s.default.createElement("div",{className:"lynda-search__controls__inner","data-capybara":"lynda-search-field"},s.default.createElement(d.default,{debounceRate:150,placeholderText:I18n.t("Search for Lynda courses")})))),s.default.createElement("div",{className:"lynda-search__body markets__lynda__body"},this.props.filters?s.default.createElement(b.default,this.props):null,this.props.courseSummaries&&this.props.courseSummaries.length?this.renderBody():s.default.createElement(k.Loader,null))):s.default.createElement(k.Loader,null)},renderBody:function(){var e=this.getFilteredCourses(),t=(0,R.default)();return s.default.createElement("div",{className:"lynda-search__courses"},e.map(this.renderCourseSummary.bind(this,t)),e.length?null:I18n.t("No search results found..."))},renderCourseSummary:function(e,t,n){if(this.state.numDisplayed<=n)return null;var r=B.statusForCourse(t,this.props.basket);return s.default.createElement(C.default,{key:t.id,lyndaOrgId:e,course:t,courseStatus:r,isLearnerLibrary:this.props.isLearnerLibrary,searchTerm:this.props.query.search,categoryId:this.getSelectedCategory().id})},getSelectedCategory:function(){var e=this.props.marketplaceCategories;return e?(0,p.find)(e,{id:this.props.params.categoryId}):null},getFilteredCourses:function(){if(this.props.query.search){var e=this.courseContains.bind(null,this.props.query.search);return this.props.courseSummaries.filter(e)}return this.props.courseSummaries},componentWillMount:function(){var e=this;B=new P.default(this.props.isLearnerLibrary),B.setup(function(){e.isMounted()&&e.forceUpdate()})},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},componentWillReceiveProps:function(e){f.default.isEqual(e.params,this.props.params)||this.setState({numDisplayed:F})},courseContains:function(e,t){return Object.keys(t).some(function(n){if(!q[n]&&t[n]){var r=t[n].toString().toLowerCase();return r.indexOf(e.toString().toLowerCase())!==-1}})}});t.default=(0,g.default)({type:j,asyncProps:{courseSummaries:{fetch:function(e){return _.default.fetch({categoryId:e.params.categoryId,filter:e.query.filter_id})},get:function(e){return _.default.get({categoryId:e.params.categoryId,filter:e.query.filter_id})},shouldRefetch:function(e,t){return e.query.filter_id!==t.query.filter_id||e.params.categoryId!==t.params.categoryId}},filters:{fetch:function(e){return S.default.fetch(e.params.categoryId)},get:function(e){return S.default.get(e.params.categoryId)},shouldRefetch:function(e,t){return e.params.categoryId!==t.params.categoryId}}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(102),o=r(i),l=n(30),u=r(l),c=n(54),d=r(c),p=n(3),f=n(22),m=r(f),h=n(1434),g=r(h),v=n(1431),_=r(v),y=n(192),b=r(y),E=n(865),C=r(E),I=n(4),T=r(I),N=n(5),S=n(468),x=r(S),A=n(18),k=r(A),w=n(466),R=r(w),O=n(1436),P=r(O),L=n(53),M=r(L),D=20,U=void 0,F=s.default.createClass({displayName:"SearchLyndaPage",mixins:[R.default,(0,M.default)(function(e,t,n){n.setState({numDisplayed:n.state.numDisplayed+D})})],propTypes:{isLearnerLibrary:p.bool,query:(0,p.shape)({search:p.string}),courseSummaries:(0,p.arrayOf)(b.default),basket:(0,p.arrayOf)(b.default),isLoading:p.bool},getInitialState:function(){return{numDisplayed:D,isLoading:!0}},render:function(){return s.default.createElement("div",{className:"lynda-search"},s.default.createElement("div",{className:"lynda-search__top"},s.default.createElement(o.default,{type:"markets",hasIcon:!1,customClass:"layout--item-header__details--lynda"},s.default.createElement(d.default,{name:"layout--item-header__details"},s.default.createElement(C.default,{searchTerm:this.props.query.search,isLearnerLibrary:this.props.isLearnerLibrary}),s.default.createElement("h1",{className:"lynda-search__top-category-bar","data-capybara":"lynda-search__top-category-name"},I18n.t("Search Results: %{searchTerm}",{searchTerm:this.props.query.search}),s.default.createElement(k.default,{onClick:this.newSearch,className:"btn right lynda-search__new-search-button"},I18n.t("New Search")))))),s.default.createElement("div",{className:"lynda-search__body__no-side-filter markets__lynda__body"},this.state.isLoading?s.default.createElement(N.Loader,null):this.renderBody()))},renderBody:function(){var e=(0,x.default)();return s.default.createElement("div",{className:"lynda-search__courses__no-side-filter"},this.props.courseSummaries.map(this.renderCourseSummary.bind(this,e)),this.props.courseSummaries.length?null:I18n.t("No search results found..."))},renderCourseSummary:function(e,t,n){if(this.state.numDisplayed<=n)return null;var r=U.statusForCourse(t,this.props.basket);return s.default.createElement(_.default,{key:t.id,lyndaOrgId:e,course:t,courseStatus:r,isLearnerLibrary:this.props.isLearnerLibrary,searchTerm:this.props.query.search})},newSearch:function(){u.default.transitionTo(this.getLyndaPath(""))},componentWillMount:function(){var e=this;U=new P.default(this.props.isLearnerLibrary),U.setup(function(){e.isMounted()&&e.forceUpdate()})},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},componentWillReceiveProps:function(e){T.default.isEqual(e.query,this.props.query)||this.setState({numDisplayed:D}),this.setState({isLoading:e.isLoading})}});t.default=(0,m.default)({type:F,asyncProps:{courseSummaries:{fetch:function(e){return g.default.fetch({searchTerm:e.query.search})},get:function(e){return g.default.get({searchTerm:e.query.search})},shouldRefetch:function(e,t){return e.query.search!==t.query.search}}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=n(869),o=r.createClass({displayName:"CourseDifficulty",propTypes:{difficulty:s,className:s},render:function(){var e=i(this.props.difficulty);return r.createElement("div",{className:"lynda-course-summary__difficulty "+this.props.className,"data-capybara":"course-difficulty"},r.createElement("div",{className:"lynda-course-summary__difficulty__inner "+e.className},r.createElement("span",{className:"v-bar"}),r.createElement("span",{className:"v-bar"}),r.createElement("span",{className:"v-bar"})),e.text)}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(67),o=r(i),l=n(467),u=r(l),c=n(867),d=r(c),p=n(91),f=r(p),m=n(3),h=n(1430),g=r(h),v=n(61),_=r(v),y=n(19),b=r(y),E=n(225),C=r(E),I=n(868),T=r(I),N=n(466),S=r(N),x=n(5),A=n(6),k=r(A),w=s.default.createClass({displayName:"CourseSummary",mixins:[S.default],propTypes:{course:n(192),categoryId:m.string,searchTerm:m.string,courseStatus:(0,m.shape)({isChecked:m.bool,isAdded:m.bool,isPending:m.bool}),isLearnerLibrary:m.bool,lyndaOrgId:m.string},shouldComponentUpdate:function(e,t){var n=function(e,t){return JSON.stringify(e)!==JSON.stringify(t)};return n(e,this.props)||n(t,this.state)},componentWillReceiveProps:function(e){this.setState({isAdded:e.courseStatus.isAdded})},getInitialState:function(){return{isHovered:!1,isPending:!1,isAdded:this.props.courseStatus.isAdded}},renderCourseHeader:function(){if(this.isActive())return s.default.createElement("div",{className:"lynda-course-summary__course-header",onClick:this.addToLearning},s.default.createElement("div",{className:"lynda-course-summary__course-header-wrapper"},this.renderHeaderAction(),this.displayTime()));var e=(0,k.default)({"lynda-course-summary__course-header--no-hover":!0,"lynda-course-summary__course-header--no-hover--preview":this.state.isHovered});return s.default.createElement("div",{className:e,onMouseEnter:this.mouseOver,onMouseLeave:this.mouseOut,ref:"header"},this.displayCourseHeader())},renderHeaderAction:function(){var e=this.state.isAdded,t=this.props.courseStatus.isChecked;return this.isPending()&&!e?s.default.createElement(x.Loader,{className:"lynda-course-summary__course-header__loader",loaderNumber:8,loaderSize:"medium"}):this.props.isLearnerLibrary?s.default.createElement("div",{className:"lynda-course-summary__course-header__action-label"},e?I18n.t("Added to My Learning"):I18n.t("Add to My Learning")):e?s.default.createElement("div",{className:"lynda-course-summary__course-header__action-label"},I18n.t("Added to Course Index")):s.default.createElement(f.default,{onChange:this.toggleCourse,className:"lynda-course-summary__course-header__checkbox",checked:t})},displayCourseHeader:function(){return this.state.isHovered?this.displayPreview():this.displayTime()},displayTime:function(){var e=this.props.course,t=T.default.secondsToHours(e.durationInSeconds);return s.default.createElement("span",{className:"lynda-course-summary__course-header__time","data-capybara":"course-header-time"},t)},displayPreview:function(){return s.default.createElement("span",{className:"lynda-course-summary__course-header__time centered","data-capybara":"course-header-time"},I18n.t("PREVIEW MODE"))},mouseOver:function(){this.setState({isHovered:!0})},mouseOut:function(){this.setState({isHovered:!1})},isPending:function(){return this.props.isLearnerLibrary?this.state.isPending:this.props.courseStatus.isPending},render:function(){var e=this.props.course,t=this.props.courseStatus.isChecked,n=this.state.isAdded,r=(0,k.default)({"lynda-course-summary":!0,"lynda-course-summary--learner-library":this.props.isLearnerLibrary,"lynda-course-summary--pending":this.isPending(),"lynda-course-summary--is-added":n,"lynda-course-summary--is-checked":t&&this.isActive()}),a=void 0;return a=this.props.categoryId?this.getLyndaPath("/course/"+this.props.categoryId+"/"+e.id):this.getLyndaPath("/course/0/"+e.id+"?search="+this.props.searchTerm),s.default.createElement("div",{className:r,key:e.id,"data-capybara":"lynda-course-summary"},this.renderCourseHeader(),s.default.createElement("div",{className:"lynda-course-summary__course-inner"},s.default.createElement("div",{className:"lynda-course-summary__course-title","data-capybara":"lynda-course-summary-title",ref:(0,C.default)(3,"WHITE")},s.default.createElement(o.default,{className:"lynda-course-summary__course-title__link",to:a,title:e.title},s.default.createElement(_.default,{text:e.title,highlight:this.props.searchTerm,onlyHighlightWordsStart:!1}))),s.default.createElement("div",{className:"lynda-course-summary__course-author","data-capybara":"course-header-author"},"by ",s.default.createElement("span",{className:"author-link",title:e.authorName},s.default.createElement(_.default,{text:e.authorName,highlight:this.props.searchTerm,onlyHighlightWordsStart:!1}))),s.default.createElement(g.default,{difficulty:e.difficulty})))},isActive:function(){return!!this.props.lyndaOrgId},toggleCourse:function(){u.default.get(this.props.course.id)?u.default.remove(this.props.course).catch(b.default.bind(null,I18n.t("Oh snap! There was a problem removing the course, please try again later."),{type:"error"})):u.default.addCourse(this.props.course).catch(b.default.bind(null,I18n.t("Oh snap! There was a problem adding the course to your basket, please try again later."),{type:"error"}))},addToLearning:function(){var e=this.props,t=e.course,n=e.isLearnerLibrary,r=this.state.isAdded,a={courseId:t.id,courseTitle:t.title,courseAuthor:t.authorName};!n||r||this.isPending()||(this.setState({isPending:!0}),d.default.enroll(a,!0).then(this.addToLearningSucceeded,this.addToLearningFailed))},addToLearningSucceeded:function(){this.setState({isPending:!1,isAdded:!0})},addToLearningFailed:function(){this.setState({isPending:!1}),(0,b.default)(I18n.t("Oh snap! There was a problem adding the course, please try again later."),{type:"error"})}});t.default=w,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"PreviewBanner",render:function(){return r.createElement("div",{className:"lynda-preview-banner__preview-mode rounded-corners-default"},r.createElement("div",{className:"large semi-bold"},I18n.t("Lynda.com preview mode")),r.createElement("div",{className:"lynda-preview-banner__preview-mode__foot-note"},I18n.t("A subscription is needed to add courses to your course index. Contact your administrator for more details.")))}});e.exports=a},function(e,t,n){"use strict";var r=n(21),a=n(3283);e.exports=r({displayName:"LyndaCategoryStore",schema:n(241),fetchAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a().then(function(n){return e.cache.setCollection(t,n)})},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cache.getCollection(e)}})},function(e,t,n){"use strict";var r=n(21),a=n(3285),s={},i=n(869);e.exports=r({displayName:"LyndaCourseSummaryStore",schema:n(192),fetch:function(e){var t=this;return a(e).then(function(n){n.forEach(function(e){if(e.difficulty){var t=i(e.difficulty);"all"===t.id?s[e.id]=e.difficulty:s[e.id]||(s[e.id]=e.difficulty)}}),t.cache.setCollection(e,n)})},get:function(e){var t=this.cache.getCollection(e);return t?t.map(function(e){return e.difficulty=s[e.id]||e.difficulty,e}):void 0}})},function(e,t,n){"use strict";var r=n(21),a=n(3289),s=n(44),i=r({displayName:"MarketStore",schema:n(458),storeOptions:{defaultCacheOptions:{idGenerator:function(e){return e.name}}},getInitialState:function(){return{paginator:s(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.performWithoutParsing({nextPageURL:e,data:t})})}},fetchAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.state.paginator.findFirstPage(t).then(function(n){e.cache.setCollection(t,a.parse(n))})},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cache.getCollection(e)}});e.exports=i},function(e,t,n){"use strict";function r(e){var t=this;this.isLearnerLibrary=e,this.setup=function(e){t.isLearnerLibrary?s.fetchAll().then(function(){e()}):i.fetchAllLynda().then(function(){e()})},this.statusForCourse=function(e,n){var r=void 0,o=void 0,l=void 0;return t.isLearnerLibrary?(r=s.hasCourse(e.id),o=!1,l=!1):(o=a.basketHas(n,e.id),r=i.hasLyndaCourse(e.id),l=a.isPending(e.id)),{isAdded:r,isChecked:o,isPending:l}}}var a=n(467),s=n(867),i=n(148);e.exports=r},function(e,t){"use strict";e.exports={normalizeToCourseSummary:function(e,t){return{id:e.id,title:e.title,authorName:e.authorName||e.author.fullname,authorId:e.authorId||e.author.id,durationInSeconds:e.durationInSeconds,difficulty:e.difficulty,categoryId:e.categoryId||t}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t="reorder"===e.type?(e.answers||[]).map(function(e){return e.id}):[];return Object.assign({},e,{chosen_answers:e.chosen_answers||t,correct_answers:e.correct_answers||[]})}function s(e){return Object.assign({},e,{attachments:l.default.parse({attachments:e.attachments})})}function i(e){if("slide"===e.type&&e.body){var t=document.createElement("div"),n=void 0,r=void 0;for(e.body&&(t.innerHTML=e.body),n=t.querySelectorAll("a"),r=n.length;r--;)n[r].target="_blank",n[r].rel="noreferrer";return Object.assign({},e,{body:t.innerHTML})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.parseSlide=void 0;var o=n(833),l=r(o),u=n(4);t.parseSlide=(0,u.flow)(a,s,i)},function(e,t){"use strict";t.getTacTypes=function(){return[{value:"domestic",label:I18n.t("Domestic")},{value:"international",label:I18n.t("International")},{value:"custom",label:I18n.t("Custom")},{value:"none",label:I18n.t("None")}]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),s=r(a),i=n(9),o=r(i),l=n(696),u=r(l),c=n(4),d=n(25),p=r(d),f=n(21),m=r(f),h=n(95),g=r(h),v=n(96),_=r(v),y=n(138),b=n(666),E=r(b),C=n(117),I=r(C),T=n(833),N=r(T),S=n(33),x=r(S),A=n(10),k=function(e){var t=e.cacheDisplayName,n=(0,u.default)(e,["cacheDisplayName"]);return(0,m.default)((0,o.default)({},n,{schema:x.default,initialize:function(){this.uploadCache=(0,g.default)(this.emitChange,{displayName:t,schema:(0,A.shape)({id:A.string,attachmentId:A.string,uploader:(0,A.instanceOf)(E.default),policy:A.object,createdAt:(0,A.instanceOf)(Date)})})},requestItemMediaUpload:function(e,t){var n=this,r=(0,I.default)(t,{onChange:this.emitChange});return r.getPolicy(r.isMultiPart()).then(function(t){var a=t.conditions.signature;return n.uploadCache.addToCollection(e,[{id:a,uploader:r,policy:t,createdAt:new Date}]),a})},createItemAttachmentFromUpload:function(e,t,n,r){var a=this;return new p.default(function(i,o){var l=a.uploadCache.get(r),u=l.uploader,d=l.policy,p=function(n){var r=n.location;return(0,y.lockAwareAjax)({url:e,type:"POST",dataType:"json",data:{location:r,name:u.content.name,content_type:u.getContentType()},lockOptions:{id:t,lastModifiedAt:l.createdAt}})},f=function(e){var t=N.default.parse(e),r=(0,s.default)(t,1),i=r[0];return _.default.batch(a,function(){a.cache.addToCollection(n,[i]),a.uploadCache.add((0,c.assign)(l,{attachmentId:i.id}))}),i};(u.isMultiPart()?u.performMultiPartUpload(d):u.performUpload(d)).then(p).then(f).then(i).catch(function(e){a.uploadCache.remove(r),o(e)})})},fetchItemAttachments:function(e,t,n){var r=this;return(0,N.default)({url:e,attachmentIds:n}).then(function(e){r.injectPreloadedAttachments(t,e)})},reloadItemAttachments:function(e,t,n){var r=this;(0,N.default)({url:e,attachmentIds:n}).then(function(e){var n=e.reduce(function(e,t){return e[t.id]=t,e},{}),a=r.cache.getCollection(t).map(function(e){return e.id in n?n[e.id]:e});r.cache.setCollection(t,a)})},injectPreloadedAttachments:function(e,t){this.uploadCache.setCollection(e,[]),this.cache.setCollection(e,t)},injectManyPreloadedAttachments:function(e){var t=this;_.default.batch(this,function(){e.forEach(function(e){t.injectPreloadedAttachments(e.id,e.attachments||[])})})},getAttachments:function(e){return this.cache.getCollection(e)},getActiveUploads:function(e){return this.uploadCache.getCollection(e).map(function(e){var t={id:e.id,attachmentId:e.attachmentId};return e.uploader.isMultiPart()&&(t.progress=e.uploader.getProgress()),t})}}))};t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(139),s=r(a),i=n(25),o=r(i),l=n(21),u=r(l),c=n(95),d=r(c),p=n(44),f=r(p),m=n(7),h=r(m),g=n(118),v=r(g),_=n(1473),y=r(_),b=n(379),E=r(b),C=n(641),I=r(C),T=function(e){var t=e.fragment,n=e.groupSchema,r=e.learnableTitle,a=e.fetchLearnableGroups,i=e.unenrollLearnableGroup,l=e.createTransientGroup,c=(0,f.default)(function(e,t,n,r){return a.performWithoutParsing({learnableId:t,nextPageURL:e,sort:n,search:r})}),p=(0,u.default)({displayName:"LearnableGroupStore",schema:n,initialize:function(){this.trackableAjax=h.default.use((0,v.default)(this.emitChange)),this.transientsCache=(0,d.default)(this.emitChange,{displayName:r+"GroupStore__transients",schema:n})},clear:function(){this.transientsCache.clear()},fetch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return c.findFirstPage(e,n,r).then(a.parse).then(function(a){t.cache.setCollection([e,n,r],a),t.transientsCache.setCollection([e],[])})},fetchNext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c.hasMorePages()&&c.findNextPage(e,n,r).then(a.parse).then(function(a){t.cache.addToCollection([e,n,r],a)})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,y.default)([this.cache.getCollection([e,t,n]),this.transientsCache.getCollection([e])])},enroll:function(e,n){var a=this,s=n.filter(function(e){return"enrolled"===e.relevance}),i=n.filter(function(e){return"enrolled"!==e.relevance});return i.length>0&&o.default.all(i.map(function(t){var n=t.result.id,a=t.relevance;return I.default.createRecord(r,e,n,"Group",a)})).then(function(){a.transientsCache.addToCollection([e],i.map(function(e){
var t=e.result,n=e.relevance;return l(Object.assign({},t,{relevance:n}))}))}),0===s.length?o.default.resolve():this.trackableAjax({url:"/api/author/"+t+"/"+e+"/groups",type:"POST",data:{enrollments:s.map(function(e){var t=e.result.id;return{group_id:t}})}}).then(function(){return o.default.all(s.map(function(e){var t=e.result.id;return(0,E.default)(t)}))}).then(function(t){a.transientsCache.addToCollection([e],t.map(function(e){return l(Object.assign({},e,{relevance:"enrolled"}))}))})},isEnrolling:function(){return this.trackableAjax.hasPendingRequests()},hasEnrollment:function(e,t){return this.getAll(e).some(function(e){return e.id===t})},unenroll:function(e,t,n,r){var a=this;return this.cache.transaction(function(){var o=a.cache.get(r);return a.cache.remove(r),o&&"domain"===o.type&&(o.relevance=void 0,a.cache.setCollection([e,t,n],[o].concat((0,s.default)(a.getAll(e,t,n))))),a.transientsCache.transaction(function(){return a.transientsCache.remove(r),i(e,r)})})}});return p};e.exports=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3148),o=r(i),l=n(144),u=r(l),c=(0,s.default)({displayName:"ApprovalEventStore",schema:u.default,fetchAll:function(e){var t=this;return(0,o.default)(e).then(function(n){t.cache.setCollection(e,n)})},getAll:function(e){return this.cache.getCollection(e)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3150),o=r(i),l=n(144),u=r(l),c=(0,s.default)({displayName:"ApproverApprovalEventStore",schema:u.default,fetchAll:function(e){var t=this;return(0,o.default)(e).then(function(n){t.cache.setCollection(e,n)})},getAll:function(e){return this.cache.getCollection(e)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=n(10),i=n(21),o=r(i),l=n(95),u=r(l),c=n(3149),d=r(c),p=n(3239),f=r(p),m=(0,o.default)({displayName:"ApproverApprovalStore",schema:n(112),initialize:function(){this.metaCache=(0,u.default)(null,{displayName:"ApproverApprovalStore:Meta",schema:(0,s.shape)({id:s.string,approvalsCount:s.number,nextPendingApprovalId:s.string})})},fetch:function(e,t){var n=this;return(0,d.default)(e,t).then(function(e){var t=e.approval,r=e.approvalsCount,a=e.nextPendingApprovalId;return n.cache.add(t),n.metaCache.add({id:t.id,approvalsCount:r,nextPendingApprovalId:a}),t})},get:function(e){return this.cache.get(e)},getApprovalsCount:function(e){return(0,a.get)(this.metaCache.get(e),"approvalsCount")},getNextPendingApprovalId:function(e){return(0,a.get)(this.metaCache.get(e),"nextPendingApprovalId")},update:function(e,t){var n=this,r=this.get(e);return(0,f.default)(e,t).then(function(e){var a=e.nextUpId;return t.state&&n.cache.add(Object.assign({},r,{state:t.state})),a})}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r=n(21),a=n(3234),s=n(66),i=1e3,o=r({displayName:"AuthorCourseSearchStore",schema:n(45),initialize:function(){this.debouncedSearch=s(this.performSearch,i)},getInitialState:function(){return{searching:!1}},clear:function(){this.debouncedSearch.cancel()},search:function(e){var t=e.contextType,n=e.contextId,r=e.term;this.cache.setCollection({contextType:t,contextId:n},[]),r&&this.setState({searching:!0}),this.debouncedSearch({contextType:t,contextId:n,term:r})},isSearching:function(){return this.state.searching},getAll:function(e){var t=e.contextType,n=e.contextId;return this.cache.getCollection({contextType:t,contextId:n})},performSearch:function(e){var t=this,n=e.contextType,r=e.contextId,s=e.term;a({contextType:n,contextId:r,term:s}).then(function(e){t.cache.setCollection({contextType:n,contextId:r},e)},function(){}).then(function(){t.setState({searching:!1})})}});e.exports=o,e.exports.SEARCH_DEBOUNCE_WAIT=i},function(e,t,n){"use strict";var r=n(21),a=n(3153),s=r({displayName:"ClusterStore",storeOptions:{getDefaultCache:function(){return null}},getInitialState:function(){return{clusters:[]}},fetchAll:function(){var e=this;return a().then(function(t){e.setState({clusters:t})})},getAll:function(){return this.state.clusters}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.id,n=e.type,r=e.autoCsv;return(0,c.default)(!!n,"You must provide a `type` in order to retrieve or manipulate an upload."),n+"-"+t+"-"+(r?"auto":"manual")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(21),i=r(s),o=n(25),l=r(o),u=n(41),c=r(u),d=(0,i.default)({displayName:"CsvUploadStore",storeOptions:{defaultCacheOptions:{schema:n(1414),idGenerator:a}},initialize:function(){var e="/api/admin/import_profile/file",t={type:"domain",url:e,upload:l.default.resolve({location:e}),autoCsv:!0};this.cache.add(t)},getUpload:function(e){return this.cache.get(a(e))},saveUpload:function(e){this.cache.add(e)},deleteUpload:function(e){this.cache.remove(a(e))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500;return new u(function(r,a){function s(){i(e,{data:{user_id:t}}).then(function(e){e.length?r(e[0]):setTimeout(s,n)},a)}s()})}var a=n(21),s=n(7),i=n(3159),o=n(44),l=n(118),u=n(25),c=o(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{sort:null,search:null};return i.performWithoutParsing(t,{nextPageURL:e,data:{sort:n.sort,search:n.search}})}),d=2500,p=a({displayName:"GroupLearnerStore",schema:n(42),POLLING_FREQUENCY:d,getInitialState:function(){return{polling:!1,trackableAjax:s.use(l(this.emitChange))}},fetch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.findFirstPage(e,n).then(function(r){t.cache.setCollection([e,n],i.parse(r))})},fetchNext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.hasMorePages()&&c.findNextPage(e,n).then(function(r){t.cache.addToCollection([e,n],i.parse(r))})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.cache.getCollection([e,t])},enroll:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.state.trackableAjax({url:"/api/author/groups/"+e+"/learners",type:"POST",data:{users:[{user_id:t}]}}).then(function(){return n.setState({polling:!0}),r(e,t)}).then(function(t){n.setState({polling:!1}),n.cache.unshiftInCollection([e,a],t)},function(e){n.setState({polling:!1}),console.error("Learner enrollment into group failed:",e)})},isEnrolling:function(){return this.state.trackableAjax.hasPendingRequests()||this.state.polling},unenroll:function(e,t){var n=this;return this.cache.transaction(function(){return n.cache.remove(t),s({url:"/api/author/groups/"+e+"/learners/"+t,type:"DELETE"})})}});e.exports=p},function(e,t,n){"use strict";var r=n(21),a=n(3165),s=n(44),i=n(7),o=s(function(e,t){return a.performWithoutParsing(t,e)}),l=r({displayName:"LearnerItemStore",schema:n(81),fetchAll:function(e){return o.findFirstPage(e).then(a.parse).then(this.cache.setCollection.bind(this,e))},fetchNext:function(e){if(o.hasMorePages())return o.findNextPage(e).then(a.parse).then(this.cache.addToCollection.bind(this,e))},getAll:function(e){return this.cache.getCollection(e)},delete:function(e,t){var n=this;return i({url:"/api/author/learners/"+e+"/learner_items/"+t,type:"DELETE"}).then(function(){n.cache.remove(t)})}});e.exports=l},function(e,t,n){"use strict";var r=n(21),a=n(7),s=n(118),i=n(44),o=n(1482),l=n(68),u=l.of(n(146)),c="/api/learner/library_items",d="/api/learner/library_items/recent",p=r({displayName:"LearnerLibraryItemStore",schema:n(146),initialize:function(){var e=this;this.adapter=a.use([s(this.emitChange)]),this.paginator=i(function(t,n){return e.adapter({url:t||c,data:n})})},isSaving:function(){return this.adapter.hasPendingRequests()},fetchRecent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter({url:d,data:e}).then(function(e){return e.library_items.map(u)})},fetchAll:function(e){var t=this;return e=o(e),this.paginator.findFirstPage(e).then(function(n){var r=n.library_items.map(u);t.cache.setCollection({query:e},r)})},fetchNext:function(e){var t=this;return e=o(e),this.paginator.hasMorePages()?this.paginator.findNextPage(e).then(function(n){var r=n.library_items.map(u);t.cache.addToCollection({query:e},r)}):void 0},get:function(e){return this.cache.get(e)},getAll:function(e){return e=o(e),this.cache.getCollection({query:e})}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.STATIC_CUSTOM_FIELD_VALUES=void 0;var a=n(21),s=r(a),i=n(3164),o=r(i),l=n(157),u=r(l),c=n(40),d=r(c),p=n(7),f=r(p),m=(t.STATIC_CUSTOM_FIELD_VALUES=["email","uid","hrisId","hireDate","jobTitle","firstName","lastName","fullName","sortableName","unsubscribed"],(0,s.default)({displayName:"LearnerStore",schema:u.default,fetch:function(e){var t=this;return(0,o.default)(e).then(function(e){return t.cache.add(e),e})},get:function(e){return this.cache.get(e)},save:function(e){var t=this,n=e.learnerId,r=e.attributes;return this.cache.transaction(function(){var e=t.cache.get(n);return t.cache.add(Object.assign({},e,r)),(0,f.default)({url:"/api/author/users/"+n+"?with_deleted=true&includes[]=course_summary&includes[]=custom_fields&includes[]=manager",type:"PATCH",data:{user:(0,d.default)(r)}}).then(function(e){t.cache.add(o.default.parse(e))})})},restore:function(e){var t=this,n=e.learnerId;return(0,f.default)({url:"/api/author/users/"+n+"/restore?includes[]=course_summary&includes[]=custom_fields&includes[]=manager",type:"POST"}).then(function(e){t.cache.add(o.default.parse(e))})}}));t.default=m},function(e,t,n){"use strict";var r=n(126),a=n(7),s=n(21),i=n(10),o=i.any,l=s({displayName:"LearnerSurveyDistributionStore",schema:o,getInitialState:function(){return{loadedAll:!1}},isLoaded:function(){return this.state.loadedAll},findAll:function(){var e=this;return this.setState({loadedAll:!1}),r({url:"/api/learner/survey/distributions",dataType:"json",onProgress:function(t){e.cache.addToCollection({},t.distributions)}}).then(function(t){return e.setState({loadedAll:!0}),t})},getAll:function(){return this.cache.getCollection({})},find:function(e){var t=this;return a({url:"/api/learner/survey/distributions/"+e,dataType:"json"}).then(function(e){t.cache.add(e.distributions[0])})},get:function(e){return this.cache.get(e)}});e.exports=l},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500;return new c(function(r,a){function s(){i(e,o).then(function(e){e.length?r(e[0]):setTimeout(s,n)},a)}var o={data:{user_id:t}};s()})}var a=n(21),s=n(7),i=n(3166),o=n(44),l=n(118),u=n(40),c=n(25),d=n(4),p=d.merge,f=o(function(e,t,n,r){var a={};return n&&(a.sort=n),r&&(a.search=r),i.performWithoutParsing(t,{nextPageURL:e,data:a})}),m=2500,h=a({displayName:"LiveCourseEnrollmentStore",schema:n(850),POLLING_FREQUENCY:m,getInitialState:function(){return{polling:!1}},initialize:function(){this.trackableAjax=s.use(l(this.emitChange))},fetch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return f.findFirstPage(e,n,r).then(function(a){t.cache.setCollection([e,n,r],i.parse(a))})},fetchNext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f.hasMorePages()&&f.findNextPage(e,n,r).then(function(a){t.cache.addToCollection([e,n,r],i.parse(a))})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cache.getCollection([e,t,n])},update:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=this.cache.get(t);o&&this.cache.transaction(function(){return r.cache.addToCollection([e,a,i],[p(o,n)]),s({url:"/api/author/live_courses/"+e+"/learners/"+t,type:"PATCH",data:{enrollments:[u(n)]}})})},enroll:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.trackableAjax({url:"/api/author/live_courses/"+e+"/learners",type:"POST",data:{enrollments:[{user_id:t}]}}).then(function(){return n.setState({polling:!0}),r(e,t)}).then(function(t){n.setState({polling:!1}),n.cache.unshiftInCollection([e,a,s],t)})},isEnrolling:function(){return this.trackableAjax.hasPendingRequests()||this.state.polling},unenroll:function(e,t){var n=this;return this.cache.transaction(function(){return n.cache.remove(t),s({url:"/api/author/live_courses/"+e+"/learners/"+t,type:"DELETE"})})}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3172),o=r(i),l=n(3173),u=r(l),c=n(3244),d=r(c),p=n(3112),f=r(p),m=n(3129),h=r(m),g=n(4),v=n(11),_=r(v),y=n(25),b=r(y),E=n(40),C=r(E),I=n(44),T=r(I),N=n(1400),S=r(N),x=n(12),A=S.default.Middleware.attributesForActions,k=(0,T.default)(function(e,t,n,r){var a={};return n&&(a.sort=n),r&&(a.search=r),o.default.performWithoutParsing(t,{nextPageURL:e,data:a})}),w=(0,s.default)({displayName:"LiveCourseSessionRegistrationStore",schema:n(219),fetchForPrint:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,u.default)(e).then(function(a){t.cache.setCollection({sessionId:e,sort:n,search:r},a)})},fetchAll:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,o.default)(e).then(function(a){t.cache.setCollection({sessionId:e,sort:n,search:r},a)})},fetch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return k.findFirstPage(e,n,r).then(function(a){t.cache.setCollection({sessionId:e,sort:n,search:r},o.default.parse(a))})},fetchNext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(k.hasMorePages())return k.findNextPage(e,n,r).then(function(a){t.cache.addToCollection({sessionId:e,sort:n,search:r},o.default.parse(a))})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cache.getCollection({sessionId:e,sort:t,search:n})},get:function(e){return this.cache.get(e)},register:function(e,t,n){var r=this.handleTimeout.bind(this,e,n);return this.setState({pollTimeout:setTimeout(r,x.PANDA_PUSH_TIMEOUT)}),(0,f.default)(e,t)},unregister:function(e,t){var n=this,r=this.cache.get(t);return r?this.cache.transaction(function(){return n.cache.remove(t),(0,h.default)(e,t)}):b.default.reject()},markAttendance:function(e,t,n){var r=this,a={markedCompleteAt:n?(0,_.default)().format():null};return this.cache.transaction(function(){r.cache.add((0,g.merge)({id:t},r.get(t),a));var n=(0,C.default)({liveCourseSessionRegistration:a});return(0,d.default)(e,t,n)})},subscribe:function(e,t,n,r){if(!this.state.subscription&&e){var a=this.addPushedEnrollment.bind(this,t,n,r),s=A(a,"create");this.setState({subscription:S.default.subscribe(e,s)})}},unsubscribe:function(){this.state.subscription&&(this.state.subscription.cancel(),this.setState({subscription:null}))},addPushedEnrollment:function(e,t,n,r){var a={sessionId:e,sort:null,search:null},s={id:""+r.id,uid:r.learner.uid,avatarUrl:r.learner.avatarUrl,name:r.learner.name,email:r.learner.email,markedCompleteAt:r.markedCompleteAt};this.cache.unshiftInCollection(a,s),clearTimeout(this.state.pollTimeout),this.setState({waitingForPush:!1,pollTimeout:null}),n&&n(s)},handleTimeout:function(e,t){this.fetchAll(e).then(function(){t&&t()})}});e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(59),o=n(3180),l=r(o),u=n(3179),c=r(u),d=n(44),p=r(d),f={},m=(0,p.default)(function(e,t,n,r,a){var s={};return r&&(s.sort=r),a&&(s.search=a),c.default.performWithoutParsing(t,n,{nextPageUrl:e,data:s})}),h=(0,s.default)({displayName:"LtiContentItemAdminLaunchListStore",schema:i.LtiContentItemAdminLaunchListSchema,storeOptions:{defaultCacheOptions:{idGenerator:function(e){return""+e.toolId}}},fetchAll:function(e){var t=this;return(0,l.default)(e).then(function(e){return t.cache.setCollection(f,e),e})},getAll:function(){return this.cache.getCollection(f)},fetch:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return m.findFirstPage(e,t,r,a).then(c.default.parse).then(function(e){n.cache.setCollection([t,r,a],e)})},fetchNext:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(m.hasMorePages())return m.findNextPage(e,t,r,a).then(c.default.parse).then(function(e){var s=e[0].ltiContentItems,i=n.cache.get(t);i.ltiContentItems=i.ltiContentItems.concat(s),n.cache.addToCollection([t,r,a],[i])})},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cache.getCollection([e,t,n])[0]}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3113),o=r(i),l=n(3178),u=r(l),c=n(59),d=(0,s.default)({displayName:"LtiContentItemStore",schema:c.LtiContentItemSchema,create:function(e,t){return(0,o.default)(e,t)},fetch:function(e){var t=this;return(0,u.default)(e).then(function(e){return t.cache.add(e),e})},get:function(e){return this.cache.get(e)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(21),o=r(i),l=n(3146),u=r(l),c=n(3182),d=r(c),p=n(3246),f=r(p),m=n(249),h=r(m),g=n(160),v=r(g),_=n(3),y=n(4),b={email:_.bool,slack:_.bool};t.default=(0,o.default)({displayName:"/var/web/bridge/jsapp/shared/stores/NotificationTypeStore.js",schema:v.default,fetchAll:function(){var e=this;return(0,u.default)().then(function(t){e.cache.setCollection({},t)})},fetch:function(e){var t=this;return(0,d.default)(e).then(function(e){t.cache.addToCollection({},[e])})},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cache.getCollection(e)},get:function(e){return this.cache.get(e)},update:function e(t,n){var r=this,a=this.cache.get(t),e=(0,y.pickBy)((0,h.default)(n,b),function(e){return void 0!==e});return a.channels=(0,s.default)({},a.channels,e),this.cache.transaction(function(){return r.cache.add(a),(0,f.default)(t,{channels:e})})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RANGE_KEYS=void 0,t.default=function(e){var t=e.prefix,n=e.store;return new c({prefix:t,store:n})};var a=n(4),s=n(41),i=r(s),o=n(880),l=t.RANGE_KEYS=["range","start_date","end_date"],u=function(e,t){return e+":"+t},c=function(e){var t=e.prefix,n=e.store;this.prefix=t,this.store=n};c.prototype.getAll=function(e){return this.get(e)},c.prototype.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t!==!1&&(0,i.default)((0,a.includes)(l,t),'unrecognized key "'+t+'"');var n=u(this.prefix,e),r=this.store.getItem(n,this.store.SCOPE_USER)||{},s=r&&r[t]?r[t]:"";return"custom"!==r.range&&(delete r.start_date,delete r.end_date),t!==!1?s:r},c.prototype.set=function(e,t,n){(0,i.default)((0,a.includes)(l,t),'unrecognized key "'+t+'"');var r=u(this.prefix,e),s=this.get(e);""===n?delete s[t]:(0,a.set)(s,t,n),this.store.setItem(r,s,this.store.SCOPE_USER)},c.prototype.initialize=function(){var e=this;Object.keys(o.defaultRanges).forEach(function(t){e.set(t,"range",(0,o.defaultRangeFor)(t))})},c.prototype.clear=function(){this.store.clear(this.store.SCOPE_USER)}},function(e,t,n){"use strict";var r=n(21),a=n(3188),s=n(44),i=n(10),o=i.oneOfType,l=r({displayName:"ReportDataStore",fromServer:!1,schema:o([n(3270),n(3269),n(3268)]),getInitialState:function(){return{paginator:s(function(e,t,n){return a.performWithoutParsing({type:t,filters:n,nextPageURL:e})})}},fetch:function(e,t){var n=this;return this.state.paginator.findFirstPage(e,t).then(a.parse).then(function(r){return n.cache.setCollection({type:e,filters:t},r.data),r})},fetchNext:function(e,t){var n=this;this.state.paginator.hasMorePages()&&this.state.paginator.findNextPage(e,t).then(a.parse).then(function(r){n.cache.addToCollection({type:e,filters:t},r.data)})},get:function(e,t){return this.cache.getCollection({type:e,filters:t})},getUrlParams:function(e){return a.getUrlParams(e)}});e.exports=l},function(e,t,n){"use strict";var r=n(21),a=n(3192),s=r({displayName:"SharedSurveyStore",schema:n(244),getRecent:function(){return this.cache.getCollection({sort:"recently_closed",limit:5})},fetchRecent:function(){var e=this;return a("recently_closed",5).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.cache.setCollection({sort:"recently_closed",limit:5},t),t})}});e.exports=s},function(e,t,n){"use strict";function r(e){var t=Object.keys(u).filter(function(e){return e.match(/^CONTEXT_/)}).map(function(e){return u[e]});l(t.indexOf(e)>-1,"Taggable context type must be one of "+JSON.stringify(t)+", not "+e+".")}function a(e){l(e.length>0,"Tag name must not be empty!")}var s=n(21),i=n(7),o=n(118),l=n(41),u=e.exports=s({displayName:"/var/web/bridge/jsapp/shared/stores/TaggingStore.js",storeOptions:{getDefaultCache:function(){return null}},CONTEXT_COURSE:"course_template",getInitialState:function(){return{ajax:i.use([o(this.emitChange)])}},isBusy:function(){return this.state.ajax.hasPendingRequests()},create:function(e){var t=e.name,n=e.contextId,s=e.contextType;return r(s),a(t),this.state.ajax({type:"POST",url:"/api/author/taggings",data:{tags:[{name:t,context_id:n,context_type:s}]}}).then(function(){})},destroy:function(e){var t=e.name,n=e.contextId,s=e.contextType;return r(s),a(t),this.state.ajax({type:"DELETE",url:"/api/author/taggings",data:{name:t,context_id:n,context_type:s}}).then(function(){})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1440),s=r(a),i=function(e){return"/api/author/tasks/"+e+"/instructions_attachments"},o=(0,s.default)({cacheDisplayName:"TaskInstructionsAttachmentStore__uploadCache",requestMediaUpload:function(e,t){return this.requestItemMediaUpload(e,t)},createAttachmentFromUpload:function(e,t){return this.createItemAttachmentFromUpload(i(e),e,e,t)},fetchAttachments:function(e,t){return this.fetchItemAttachments(i(e),e,t)},reloadAttachments:function(e,t){return this.reloadItemAttachments(i(e),e,t)}});t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(21),a=n(3201),s=n(3200),i=r({displayName:"WebhookAttemptsStore",schema:n(277),fetchAll:function(e,t){var n=this;return a(e,t).then(function(r){n.cache.setCollection({accountId:e,webhookId:t},r)})},getAll:function(e,t){return this.cache.getCollection({accountId:e,webhookId:t})},fetch:function(e,t,n){var r=this;return s(e,t,n).then(function(e){return r.cache.add(e),e})},get:function(e){return this.cache.get(e)}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(246),o=r(i),l=n(3103),u=r(l),c=n(3104),d=r(c),p=(0,s.default)({displayName:"ApprovalSummaryStore",schema:o.default,fetchAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.default)(t).then(function(n){e.cache.setCollection(t,n)})},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cache.getCollection(e)},fetch:function(e,t){var n=this;return(0,d.default)(e,t).then(function(e){var t=e.summary,r=e.nextUp;n.cache.add(t),r&&(n.cache.add(r),n.cache.setCollection(n._nextUpKey(t.id),[r]))})},get:function(e){return this.cache.get(e)},getNextUp:function(e){var t=this.cache.getCollection(this._nextUpKey(e));return t?t[0]:null},_nextUpKey:function(e){return e+":nextUp"}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3207),o=r(i),l=(0,s.default)({displayName:"CoursePreviewStore",schema:n(1422),fetch:function(e){var t=this;return(0,o.default)(e).then(function(e){t.cache.add(e)})},get:function(e){return this.cache.get(e)}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3214),o=r(i),l=n(3203),u=r(l),c=(0,s.default)({displayName:"LearnerLtiContentItemStore",schema:n(634),fetch:function(e){var t=this;return(0,o.default)(e).then(function(e){return t.cache.add(e),e})},get:function(e){return this.cache.get(e)},complete:function(e){var t=e.id;return(0,u.default)(t)}});e.exports=c},function(e,t,n){"use strict";var r=n(21),a=n(95),s=n(3220),i=n(3219),o=n(81),l=n(7),u=n(3184),c=n(25),d=2500,p=r({displayName:"LearnerProgramStore",schema:n(312),POLLING_FREQUENCY:d,getInitialState:function(){return{polling:!1}},initialize:function(){this.nextItemsCache=a(null,{displayName:"LearnerProgramStore__nextItems",schema:o})},clear:function(){this.nextItemsCache.clear()},fetch:function(e){var t=this;return s(e).then(function(e){t.cache.add(e)})},get:function(e){return this.cache.get(e)},enroll:function(e){var t=this;return l({url:"/api/learner/open_programs/"+e+"/enrollment",type:"POST"}).then(function(){return t.setState({polling:!0}),t.pollForNewlyEnrolledLearner(e)}).then(function(){t.setState({polling:!1})})},fetchByUuid:function(e){var t=this;return i(e).then(function(n){t.cache.setCollection(e,[n])})},getByUuid:function(e){return this.cache.getCollection(e)[0]},pollForNewlyEnrolledLearner:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return new c(function(n,r){function a(){u(e).then(function(e){e[0]&&e[0].enrolled?n(e[0]):setTimeout(a,t)},r)}a()})}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(3223),o=r(i),l=n(7),u=r(l),c=(0,s.default)({displayName:"LearnerTaskStore",schema:n(313),fetch:function(e){var t=this;return(0,o.default)(e).then(function(e){return t.cache.add(e),e})},get:function(e){return this.cache.get(e)},complete:function(e,t){var n={url:"/api/learner/tasks/"+e+"/complete",type:"POST"};return t&&(n.data={evidences:t}),(0,u.default)(n)}});e.exports=c},function(e,t){"use strict";function n(e){return Object.keys(e).reduce(function(t,n){return null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]),t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return Math.max.apply(Math,e)}e.exports=function(e){return String(n(e.map(function(e){return parseInt(e.id,10)||0}).concat([0]))+1)}},function(e,t){"use strict";function n(e,t,n){var r=t-n,a=e;return r>0&&(a&&(a+=" / "),a+=I18n.t({one:"*1 Attempt Remaining*",other:"%{count} Attempts Remaining"},{count:r,wrappers:["<em>$1</em>"]})),a}e.exports={attemptsLeftText:n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account",n=function(e){return"subaccount"===e?function(){return l.default.inheritsSupportPrivileges()}:function(){return l.default.isSupport()}}(t);return{dns:{setup:function(e){d.default.addChangeListener(e)},teardown:function(e){d.default.removeChangeListener(e),d.default.cancelPolls()},fetch:function(t){var r=(0,u.get)(t,e);return n()&&r?d.default.poll(r).catch(function(){(0,f.default)(I18n.t("Error fetching DNS status"),{type:"error"})}):i.default.resolve({status:"none"})},get:function(t){var r=(0,u.get)(t,e);return n()&&r?d.default.get(r):{status:"none"}},shouldRefetch:function(t,n){var r=(0,u.get)(t,e),a=(0,u.get)(n,e),s=r!==a;return s&&d.default.cancelPoll(r),s}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(25),i=r(s),o=n(39),l=r(o),u=n(4),c=n(874),d=r(c),p=n(19),f=r(p);e.exports=t.default},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e.reduce(function(e,n){return n.forEach(function(n){e.some(function(e){return e[t]===n[t]})||e.push(n)}),e},[])}e.exports=n},function(e,t,n){"use strict";function r(e){var t;switch(e.learnableType){case"CourseTemplate":t=e.state===a.STATUS_COMPLETE?1:e.data.furthestProgress||0;break;case"Program":t=(e.data.programIndex-1)/e.data.itemCount;break;default:t=0}return{id:e.id,itemType:e.learnableType,itemId:e.learnableId,title:e.title,description:e.description,data:e.data,features:e.data.features||[],createdAt:e.createdAt,updatedAt:null,completedAt:e.completedAt,estimatedTime:e.data.estimatedTime||0,matchingTags:e.matchingTags,tags:e.tags,password:null,isEnrolled:!0,state:e.state,coverSlideData:null,progress:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(12);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(138),s=n(1403),i=r(s),o=n(3118),l=r(o),u=n(127),c=r(u),d=(0,c.default)(function(e){return(0,i.default)(e).then(function(e){return a.LockActions.acquire({type:"CourseTemplate",id:e.id}).then(function(){return e})}).then(function(e){return(0,l.default)(e.id,{type:"slide"}).then(function(t){return{slide:t,courseTemplate:e}})})});e.exports=d},function(e,t,n){"use strict";function r(e,t,n){var r=a(e,t),s=a(e,n),i=r.x1-s.x0,l=s.x1-r.x0,u=i>0&&l>0,c=r.y1-s.y0,d=s.y1-r.y0,p=c>0&&d>0;if(u&&p){var f=(0,o.min)([Math.abs(i),Math.abs(l)]),m=(0,o.min)([Math.abs(c),Math.abs(d)]);return{x:f,y:m}}return!1}function a(e,t){var n=t.parentNode.getScreenCTM().inverse().multiply(t.getScreenCTM()),r=t.getBBox(),a=[0,0,0,0].map(function(){return e.createSVGPoint()});a[0].x=r.x,a[0].y=r.y,a[1].x=r.x+r.width,a[1].y=r.y,a[2].x=r.x,a[2].y=r.y+r.height,a[3].x=r.x+r.width,a[3].y=r.y+r.height;var s=a.map(function(e){return e.matrixTransform(n)}),i=(0,o.min)(s,function(e){return e.x}),l=(0,o.min)(s,function(e){return e.y}),u=(0,o.max)(s,function(e){return e.x}),c=(0,o.max)(s,function(e){return e.y});return{x0:i,y0:l,x1:u,y1:c}}function s(e,t){return Number(e.x)<0&&Number(t.x)>0?-1:Number(e.x)>0&&Number(t.x)<0?1:Number(e.y)-Number(t.y)}function i(e,t){var n=Math.PI/2-t;return[e*Math.cos(n),-e*Math.sin(n)]}Object.defineProperty(t,"__esModule",{value:!0}),t.boxOverlap=r,t.getBBoxWithTransform=a,t.byXY=s,t.clockfaceToR=i;var o=n(71)},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=n(1399),o={emberRouter:s,router:s},l={emberRouter:i,router:i},u=function(e){return r.createClass({childContextTypes:o,getChildContext:function(){return l},render:function(){return r.createElement(e,this.props)}})};e.exports=u},function(e,t){"use strict";e.exports=function(e){var t=e.fn,n=e.keyFn,r=e.threshold,a=void 0===r?100:r,s={},i=function(){var e=[].slice.call(arguments),r=n.apply(null,e),i=t.bind.apply(t,[this].concat(e));clearTimeout(s[r]),s[r]=setTimeout(i,a||100)};return i.cancel=function(){Object.keys(s).forEach(function(e){s[e]=clearTimeout(s[e]);
})},i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return!e||e.length<50?e:e.substring(0,46)+"..."}function s(e){var t={CourseTemplate:{type:"course",defaultTitle:function(){return I18n.t("Untitled Course")}},"Surveys::Survey":{type:"survey",defaultTitle:function(){return I18n.t("Untitled Survey")}},Program:{type:"program",defaultTitle:function(){return I18n.t("Untitled Program")}},LiveCourse:{type:"ilt",defaultTitle:function(){return I18n.t("Untitled Live Training")}},"Lti::ContentItem":{type:"ilt",defaultTitle:function(){return I18n.t("Untitled Live Training")}},Task:{type:"checkpoint",defaultTitle:function(){return I18n.t("Untitled Checkpoint")}}},n={};if(n.features=[],n.steps=[],n.coverSlide={},n.sessionCount=0,n.progress=0,n.complete=e.state===i.STATUS_COMPLETE,e.learnableType){switch(e.learnableType){case"CourseTemplate":e.state===i.STATUS_COMPLETE?n.progress=1:n.progress=e.data.furthestProgress||0;break;case"Program":n.progress=(e.data.programIndex-1)/e.data.itemCount;break;case"LiveCourse":n.sessionCount=e.data.sessions.length}if(n.progress=Math.round(100*n.progress),n.description=e.description||"",n.id=e.learnableId,n.learningItemId=e.id,n.title=a(e.title)||t[e.learnableType].defaultTitle(),n.learnableId=e.learnableId,n.state=e.state,n.type=t[e.learnableType].type,n.estimatedTime=e.data.estimatedTime,n.lengthInMinutes=e.data.estimatedTime,n.isEnrolled=!0,n.isArchived=l.default.isArchived(e),n.required=l.default.isRequired(e),e.data.currentCourse&&(n.estimatedTime=e.data.currentCourse.estimatedTime||0,n.lengthInMinutes=e.data.currentCourse.estimatedTime||0),n.tags=e.tags,n.coverSlide.backgroundImageUrl=e.imageUrl,e.endAt&&(n.dueDate=new Date(e.endAt),n.endDate=n.dueDate),e.data&&(e.data.endAt&&(n.dueDate=new Date(e.data.endAt),n.endDate=n.dueDate),e.data.expiresAt&&(n.dueDate=new Date(e.data.expiresAt),n.endDate=n.dueDate),e.data.currentCourse&&e.data.currentCourse.endAt&&(n.dueDate=new Date(e.data.currentCourse.endAt),n.endDate=n.dueDate),e.data.distributionId&&(n.distributionId=e.data.distributionId),e.data.features?n.features=e.data.features:(e.data.quizPositions&&e.data.quizPositions.length>0&&n.features.push("has_quizzes"),e.data.hasCertificate&&n.features.push("has_certificate")),e.data.closesAt&&(n.dueDate=new Date(e.data.closesAt),n.endDate=n.dueDate),e.data.itemCounts&&e.data.itemCounts.map(function(e){n.steps.push({type:t[e.itemType].type,count:e.count})})),n.alert=!1,l.default.isOverdue(e)){var r=new Date;if(n.dueDate.getTime()<r.getTime()){n.alert=!0;var s=Math.floor((r.getTime()-n.dueDate.getTime())/864e5);n.subtitle=I18n.t({zero:"Less than 1 day overdue",one:"1 day overdue",other:"%{count} days overdue"},{count:s})}}}return e.itemType&&(n.id=e.itemId,n.type=t[e.itemType].type,n.features=e.features,n.description=e.description||"",n.title=a(e.title)||t[e.itemType].defaultTitle(),n.learnableId=e.itemId,n.estimatedTime=e.estimatedTime,n.lengthInMinutes=e.estimatedTime,n.tags=e.tags,n.state=e.state,n.progress=Math.round(100*e.progress),n.isEnrolled=e.isEnrolled,n.uuid=e.data.uuid,n.required=!1,e.data.itemCounts&&e.data.itemCounts.map(function(e){n.steps.push({type:t[e.itemType].type,count:e.count})}),e.coverSlideData&&(n.coverSlide.backgroundImageUrl=e.coverSlideData.backgroundImageUrl),e.data.hasCertificate&&n.features.push("has_certificate"),isNaN(e.data.sessionsCount)||(n.sessionCount=e.data.sessionsCount)),(0,u.areLearnerLibraryImagesDisabled)()&&(n.coverSlide={}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n(12),o=n(125),l=r(o),u=n(136);e.exports=t.default},function(e,t){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(t.indexOf(e[n])===-1)return!1;return!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(26),o=n(12),l=o.LEARNING_ITEM_COURSE_TYPE,u=o.LEARNING_ITEM_PROGRAM_TYPE,c=o.LEARNING_ITEM_LIVE_COURSE_TYPE,d=o.LEARNING_ITEM_SURVEY_TYPE,p=o.LEARNING_ITEM_TASK_TYPE,f=o.COURSE_STATUS_PERMANENTLY_FAILED,m="learnable_types.",h=m+l,g=m+u,v=m+c,_=m+d,y=m+p,b="status.",E=b+f,C=function(){var e,t=(e={},(0,s.default)(e,h,i.t("Course")),(0,s.default)(e,g,i.t("Program")),(0,s.default)(e,v,i.t("Live Training")),(0,s.default)(e,_,i.t("Survey")),(0,s.default)(e,y,i.t("Checkpoint")),(0,s.default)(e,E,i.t("Permanently Failed")),e);return t};e.exports.filterLabels=C,e.exports.LEARNABLE_TYPE_COURSE=h,e.exports.LEARNABLE_TYPE_PROGRAM=g,e.exports.LEARNABLE_TYPE_LIVE_COURSE=v,e.exports.LEARNABLE_TYPE_SURVEY=_,e.exports.LEARNABLE_TYPE_TASK=y,e.exports.STATUS_TYPE_PERMANENTLY_FAILED=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(4),o=i.assign;e.exports=function(e){var t=e.filters,n=e;if(t){var r={};t.forEach(function(e){var t=e.split("."),n=(0,s.default)(t,2),a=n[0],i=n[1];r[a]=r[a]||[],r[a].push(i)}),n=o({},n,{filters:r})}return Object.keys(n).sort().reduce(function(e,t){return e[t]=n[t],e},{})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,c.get)(t,"type.displayName"),r=(0,c.get)(t,"asyncPropName"),a=(0,c.get)(t,"transition.abort"),i=(0,c.get)(t,"transition.path");n&&r&&console.error('Resolving of prop "%s" has failed:',n+"["+r+"]",e),a&&(console.info("Aborting transition."),a(e)),i&&i!==s.default.getPostAuthRoute()?o.default.transitionTo(s.default.getPostAuthRoute()).then(function(){(0,p.default)(u.default.t("Sorry, something went wrong"),{type:"error"})}):(0,p.default)(u.default.t("Sorry, something went wrong"),{type:"error"})};var a=n(34),s=r(a),i=n(13),o=r(i),l=n(26),u=r(l),c=n(4),d=n(19),p=r(d);e.exports=t.default},function(e,t,n){"use strict";var r=n(26),a=n(58),s=function(e){return a(e)?r.t("Complete"):r.t("Continue")};e.exports={getNextButtonText:s}},function(e,t,n){"use strict";var r=n(87),a=n(30),s=n(4),i=s.assign,o=function(e){var t=a.getQuery();r.setItem("libraryFilterParams",i({filters:t.filters,search:t.search},e),r.SCOPE_USER)};e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,o.passwordRequirements)();return t.passwordRequiresSymbols&&d.test(e)?I18n.t("Your password must have at least one symbol."):t.passwordRequiresNumbers&&!c.test(e)?I18n.t("Your password must have at least one number."):t.passwordRequiresUppercase&&e===e.toLowerCase()?I18n.t("Your password must have at least one uppercase letter."):t.passwordMinimumLength&&e.length<t.passwordMinimumLength?I18n.t("Your password must be at least %{length} characters long.",{length:t.passwordMinimumLength}):null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1489),i=r(s),o=n(136),l=n(127),u=r(l),c=/\d+/,d=(0,i.default)("^(?:\\p{L}|\\p{N})+$");t.default=(0,u.default)(a),e.exports=t.default},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return function(t){return a.markDirty(e),t}}var a=n(1498),s=n(660),i=n(952),o=n(128),l=o.QUESTION_TYPES,u=n(19),c=n(137),d=n(30),p=n(13),f=n(220),m=f.isGradedQuestion;t.goBackToCourse=function(e){p.transitionTo("author.course",e)},t.goBackToCourses=function(){p.transitionTo("author.courses")},t.updateCourse=function(e,t){a.update(e,t)},t.previewCourse=function(e,t){d.transitionTo("author.courses.slides.preview",{courseId:e,slideId:t})},t.publishChangesInCourse=function(e){a.publish(e).then(null,function(e){console.error(e),u(I18n.t("Oh Snap! We were unable to publish this course. Please try again later."),{type:"error"})})},t.cloneCourse=function(e){a.clone(e).then(function(e){d.transitionTo("author.courses.slides",{courseId:e})})},t.createSlide=function(e,t){return s.create(e,t).then(function(n){return m(t)&&a.updateQuizCount(e,1),r(e)(n)})},t.activateSlide=function(e,t,n){d.transitionTo("author.courses.slide",{courseId:e,slideId:t},n)},t.moveSlide=function(e,t,n){s.adjustPosition(e,t,n).then(r(e))},t.cloneSlide=function(e,t){return s.clone(e,t).then(r(e),function(e){console.error(e),u(I18n.t("Oh Snap! We were unable to clone this slide. Please try again later."),{type:"error"})})},t.updateSlide=function(e,t,n){s.update(e,t,n).then(r(e))},t.updateCoverSlide=function(e,t){s.updateCoverSlide(e,t).then(r(e))},t.changeSlideType=function(e,t,n){s.update(e,t,{type:n}).then(r(e))},t.updateSlideTitle=function(e,t,n){s.update(e,t,{title:n}).then(r(e))},t.updateSlideContent=function(e,t,n){s.updateContent(e,t,n,{onSuccess:r(e),onError:function(){u(I18n.t("Oh Snap! We were unable to update this slide. Please try again later."),{type:"error"})}})},t.updateSlideCommentingStatus=function(e,t,n){s.update(e,t,{allowComments:n}).then(r(e))},t.addSlideAnswer=function(e,t){s.addAnswer(e,t).then(r(e))},t.updateSlideAnswer=function(e,t,n,a){s.updateAnswer(e,t,n,a).then(r(e))},t.updateAndAddSlideAnswer=function(e,t,n,a){s.updateAnswer(e,t,n,a,{addBlankAnswer:!0}).then(r(e))},t.swapSlideAnswers=function(e,t,n){s.swapAnswers(e,t,n).then(r(e))},t.removeSlideAnswer=function(e,t,n){s.removeAnswer(e,t,n).then(r(e))},t.addSlideImage=function(e,t,n){s.addImage(e,t,n).then(r(e))},t.removeSlideImage=function(e,t){s.removeImage(e,t).then(r(e))},t.removeSlide=function(e,t){var n=s.get(t).type;return s.remove(e,t).then(function(){m(n)&&a.updateQuizCount(e,-1),r(e)(),c(n!==l.SLIDE?I18n.t("Question has been deleted"):I18n.t("Slide has been deleted"))},function(){u(n!==l.SLIDE?I18n.t("Oh Snap! We were unable to delete this slide. Please try again later."):I18n.t("Oh Snap! We were unable to delete this question. Please try again later."),{type:"error"})})},t.requestMediaUpload=function(e,t,n){return i.requestMediaUpload(e,t,n)},t.createAttachment=function(e,t,n){return i.createAttachmentFromUpload(e,t,n).then(r(e))},t.reloadAttachments=function(e,t,n){i.reloadAttachments(e,t,n)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(21),o=n(96),l=n(3400),u=n(40),c=n(7),d=n(4),p=d.assign,f=d.omit,m=n(41),h=n(138),g=h.LockStore,v=i({displayName:"CourseStore",schema:n(45),getInitialState:function(){return{dirtyCourses:{}}},fetch:function(e){return l(e).then(this.cache.add)},get:function(e){return this.cache.get(e)},update:function(e,t){var n=this,r=this.cache.get(e);m(r,"Course must exist in order to update!"),this.cache.transaction(function(){return n.cache.add(p(r,t)),c({url:"/api/author/course_templates/"+e,type:"PATCH",data:{course_template:u(t)}})})},markDirty:function(e){this.setState({dirtyCourses:p({},this.state.dirtyCourses,(0,s.default)({},e,!0))})},markClean:function(e){this.setState({dirtyCourses:f(this.state.dirtyCourses,e)})},isCourseDirty:function(e){var t=this.get(e);return t&&t.hasUnpublishedChanges||this.state.dirtyCourses[e]===!0},publish:function(e){var t=this,n=this.get(e);return m(n,"Course must exist in order to publish!"),c({url:"/api/author/course_templates/"+e+"/publish",type:"POST",beforeSend:function(t){var n=g.get({type:"CourseTemplate",id:e});n&&t.setRequestHeader("X-Lock-Id",n.id)}}).then(function(n){o.batch(t,function(){var r=l.parse(n);t.cache.add(r),r.hasUnpublishedChanges||t.markClean(e)})})},clone:function(e){return c({type:"POST",url:"/api/author/course_templates/"+e+"/clone"}).then(function(e){return e.course_templates[0].id})},updateQuizCount:function(e,t){var n=this.get(e);n.quizzesCount+=t,this.cache.add(n)}});e.exports=v},function(e,t,n){"use strict";function r(e){return[o.REORDER,o.ORDERED_LIST].indexOf(e)>-1}var a=n(23),s=n(3369),i=n(128),o=i.QUESTION_TYPES;t.create=function(){return s({childNodeSelector:".question-editor__answer",isEnabled:function(){return this.props.question&&r(this.props.question.type)},getNode:function(){return a.findDOMNode(this.refs.answerWidget)},onChange:function(e){var t=this.props.question.answers[e],n=t?t.id:null;this.isMounted()&&this.state.draggedAnswerId!==n&&this.setState({draggedAnswerId:n})},onCommit:function(e){var t=e.from,n=e.to;if(t!==n){var r=this.props.question.answers[t],a=this.props.question.answers[n];r&&a&&this.props.onSwapAnswers({sourceId:r.id,targetId:a.id})}}})}},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string,i=r.bool;e.exports=a({correct:s,incorrect:s,both:s,useSameFeedback:i,showFeedbackEditor:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(1),o=n(6),l=n(128),u=l.QUESTION_TYPES,c=n(220),d=n(391),p=d.convertFromRawToReact,f=d.RendererDefaults,m=n(2),h=m.bool,g=m.func,v=n(3381),_=n(3379),y=n(153),b=y.MediaUtils,E=i.createClass({displayName:"SlidePreview",propTypes:{isActive:h,onActivate:g,slide:n(110).isRequired},shouldComponentUpdate:function(e){return this.props.slide!==e.slide||this.props.isActive!==e.isActive||this.props.onActivate!==e.onActivate},render:function(){var e=this.props,t=e.slide,n=e.onActivate,r=this.isDisplayInvalid(),a=o({"slide-template-preview":!0,"slide-template-preview--selected":this.props.isActive,"slide-template-preview--question":t.type!==u.SLIDE,"slide-template-preview--invalid":r,active:this.props.isActive});return i.createElement("li",{onClick:n,"aria-roledescription":n?"link":"listitem",className:a},i.createElement("div",{className:"slide-template-preview__content"},i.createElement("div",{className:"screenreader-only"},this.getScreenReaderDescription()),c.isEnriched(t.type)&&i.createElement(_,{slideType:t.type,displayInvalid:r}),i.createElement("div",{"aria-hidden":"true",className:o({block:!0,"no-link-style":!0,black:!0,"slide-template-preview__wrapper":!0,"slide-template-preview__wrapper--invalid":r,"gs-caution":r})},i.createElement("h1",{className:r?"hidden":""},t.title),t.type===u.SLIDE&&i.createElement("div",{className:"body"},this.renderPreview()))),i.createElement("div",{className:o({"slide-template-preview__title":!0,"slide-template-preview__title--blank":0===(t.title||"").length}),children:this.getDisplayableTitle()}))},renderPreview:function(){var e=this.props.slide;if(e.structuredBody){var t=this.renderMediaThumbnail;return p(e.structuredBody,{blockElementMap:Object.assign({},f.blockElementMap,{unstyled:function(e){var t=e.children;return i.createElement("div",{children:t})},paragraph:function(e){var t=e.children;return i.createElement("div",{style:{margin:"1em 0"},children:t})}}),atomicRendererFn:function(e){var n=e.attrs;return n.data?t(n):null},entityRendererFn:function(e,n){return n&&"LINK"===n.getType()?i.createElement("a",{children:e,href:n.getData().url}):n&&(b.isUploadedMediaEntity(n)||b.isExternalMediaEntity(n))?t(n):e}})}return i.createElement("div",{dangerouslySetInnerHTML:{__html:e.body}})},renderMediaThumbnail:function(e){var t=b.isExternalMediaEntity(e);if(t){var n=b.getExternalMediaData(e)||{};return i.createElement(v,{type:e.type,externalData:n})}var r=this.props.slide.attachments.filter(function(t){return t.id===e.data.attachmentId}),a=(0,s.default)(r,1),o=a[0];return i.createElement(v,{type:e.type,attachment:o})},isDisplayInvalid:function(){var e=!!this.props.slide.id,t=c.isQuestionValid(this.props.slide);return e?!this.props.isActive&&!t:!t},getScreenReaderDescription:function(){var e=this.props.slide.title,t=this.isDisplayInvalid()?I18n.t("This question won't appear until you're done filling it out."):"",n=e&&t?" - ":"";return""+e+n+t},getDisplayableTitle:function(){var e=this.props.slide;return e.type===u.VOCABULARY?I18n.t("Vocabulary"):e.title?e.title:e.type===u.SLIDE?I18n.t("Slide Title"):I18n.t("Quiz Question")}});e.exports=E},function(e,t,n){"use strict";var r=n(1),a=n(91),s=n(24),i=n(5),o=i.Icon,l=n(295),u=n(2),c=u.string,d=u.bool,p=u.func,f=n(128),m=f.QUESTION_TYPES,h=n(28),g=n(3395),v=n(663),_=v.SlideAnswerSchema,y=r.createClass({displayName:"Answer",propTypes:{questionType:c.isRequired,answer:_.isRequired,isBeingDragged:d,canRemove:d,onRemove:p,onChange:p.isRequired,isQuestionInvalid:d},render:function(){var e=this.props,t=e.questionType,n=e.answer,a=n.position,s=this.props.isQuestionInvalid&&0===String(n.body||"").length,i=[m.REORDER,m.ORDERED_LIST].indexOf(t)>-1,u=h("question-editor__answer pure-g margin-tb-s rounded-corners-default",{"question-editor__answer--dragging":this.props.isBeingDragged,"question-editor__answer--invalid":s,"question-editor__answer--sortable":i,"white-bg":!i}),c=t===m.ORDERED_LIST?I18n.t("List Item %{position}",{position:a}):I18n.t("Answer %{position}",{position:a});return r.createElement("li",{className:u},i?this.renderSortableHandle():this.renderCheckableHandle(),r.createElement(g,{opaque:i},r.createElement("div",{className:"pure-u-22-24 padding-rbl-s padding-t-m contain-content brand-font"},r.createElement(l,{controlled:!0,value:n.body||"",placeholder:c,modifierClasses:["full-width"],className:"question-editor-answer__body",onChange:this.emitChangeOfBody})),r.createElement("div",{className:"pure-u-1-24 padding-t-xs text-right"},r.createElement("button",{type:"button",disabled:!this.props.canRemove,onClick:this.props.canRemove&&this.props.onRemove,className:"border-none transparent-bg padding-s dark-grey"},r.createElement("span",{className:"screenreader-only"},I18n.t("Delete this answer")),r.createElement(o,{className:"gs-x gs-1x"})))))},renderSortableHandle:function(){var e=this.props.answer;return r.createElement("div",{className:"pure-u-2-24 padding-s drag-handle bold h2 dark-grey margin-none"},e.position)},renderCheckableHandle:function(){var e=this.props.answer;return r.createElement("div",{className:"pure-u-2-24 padding-s"},r.createElement(a,{checked:e.correct,onChange:this.emitChangeOfCorrectness},r.createElement("span",{className:"screenreader-only"},r.createElement(s,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("Check to mark %{answer_body} as the correct answer",{answer_body:"%{answer_body}"}),answer_body:r.createElement("i",null,e.body)},"$1")))))},emitChangeOfBody:function(e){this.props.onChange({body:e})},emitChangeOfCorrectness:function(e){this.props.onChange({correct:e.target.checked})}});e.exports=y},function(e,t,n){"use strict";var r=n(1),a=n(18),s=n(5),i=s.Icon,o=n(27),l=n(611),u=n(284),c=u.RichContent,d=n(111),p=n(3391),f=n(2),m=f.bool,h=f.func,g=f.string,v=r.createClass({displayName:"QuestionEditorImage",propTypes:{url:g,align:g,altText:g,activated:m,onAddImage:h.isRequired,onRemoveImage:h.isRequired,onToggleImage:h,onSetImageAlign:h,onSetImageAltText:h},getDefaultProps:function(){return{url:null,activated:!1,onToggleImage:Function.prototype,onSetImageAlign:Function.prototype,onSetImageAltText:Function.prototype}},getInitialState:function(){return{showAddingImage:!1,showEditingImage:!1}},componentWillReceiveProps:function(e){this.setState(this.getInitialState()),e.activated&&(e.url?this.setState({showEditingImage:!0}):this.setState({showAddingImage:!0}))},handlePopupClose:function(){this.refs.popup.close()},render:function(){return this.state.showAddingImage?this.renderImageAdder():this.props.url?this.renderImage():null},renderImage:function(){return r.createElement(c,{ref:"questionEditorImage",className:"question-editor__image margin-b-m",tabIndex:"0"},r.createElement("img",{src:this.props.url,"data-capybara":"quiz-image",onClick:this.toggleImage}),this.state.showEditingImage&&this.renderImageEditor())},renderImageAdder:function(){return r.createElement("div",{className:"grey-bg margin-b-m border-dashed border-dark-grey text-center padding-m"},r.createElement("button",{className:"btn--reset dark-grey right",onClick:this.cancelAddImage},r.createElement(i,{className:"gs-x gs-1x dark-grey"}),r.createElement(o,null,I18n.t("Close"))),r.createElement(i,{className:"gs-upload gs-3x dark-grey"}),r.createElement(l,{onSelection:this.addImage}))},renderImageEditor:function(){var e={prerender:!1,show:{ready:!0,event:!1},hide:{event:!1},position:{my:"bottom center",at:"top center"},reactivePositioning:!0};return r.createElement(d,{ref:"popup",popupClassName:"question-editor__image-editor__popup",popupOptions:e,content:p,align:this.props.align,altText:this.props.altText,onSetImageAlign:this.props.onSetImageAlign,onSetImageAltText:this.props.onSetImageAltText,onPopupOpen:this.activateImageControls,onPopupClose:this.deactivateImageControls,onClose:this.handlePopupClose},r.createElement("div",{className:"question-editor__image-editor",onClick:this.toggleImage,ref:"contentWidget"},r.createElement("div",{className:"question-editor__image-editor__controls"},r.createElement(a,{className:"btn secondary filled margin-r-xxs",onClick:this.replaceImage},I18n.t("Replace")),r.createElement(a,{className:"btn alert filled margin-l-xxs",onClick:this.removeImage},r.createElement(i,{className:"gs-image-delete gs-1x white margin-r-xxs"}),I18n.t("Remove")))))},activateImageControls:function(){this.state.showEditingImage||this.toggleImage()},deactivateImageControls:function(){this.state.showEditingImage&&this.toggleImage()},toggleImage:function(){this.props.onToggleImage()},cancelAddImage:function(){this.props.url?this.setState({showAddingImage:!1,showEditingImage:!0}):this.toggleImage()},addImage:function(e){this.props.url&&this.props.onRemoveImage(),this.props.onAddImage(e),this.setState({showAddingImage:!1})},replaceImage:function(e){e.stopPropagation(),this.setState({showAddingImage:!0,showEditingImage:!1})},removeImage:function(e){e.stopPropagation(),this.props.onRemoveImage(),this.setState({showAddingImage:!1,showEditingImage:!1})}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3403);Object.defineProperty(t,"ImporterV1",{enumerable:!0,get:function(){return r(a).default}});var s=n(3404);Object.defineProperty(t,"Importer",{enumerable:!0,get:function(){return r(s).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=u.default.createClass({displayName:"Heartbeat",propTypes:{active:o.default.bool,url:o.default.string.isRequired,onChange:o.default.func.isRequired,frequency:o.default.number,retryIntervalFactor:o.default.number},getInitialState:function(){return{retryCount:0,revision:null,connected:null}},getDefaultProps:function(){return{active:!0,frequency:6e4,retryIntervalFactor:500}},componentDidMount:function(){this.isMounted=function(){return!0},this.props.active&&this.check()},componentDidUpdate:function(e,t){t.connected===this.state.connected&&t.revision===this.state.revision||this.props.onChange({connected:this.state.connected,revision:this.state.revision}),e.active&&!this.props.active?this.cancel():!e.active&&this.props.active&&this.scheduleCheck()},componentWillUnmount:function(){this.cancel(),this.isMounted=function(){return!1}},render:function(){return null},check:function(){(0,s.default)({url:this.props.url,type:"HEAD"},{yieldObject:!0}).then(this.handleSuccess,this.handleFailure)},cancel:function(){this.scheduler&&(this.scheduler=clearTimeout(this.scheduler))},handleSuccess:function(e){var t=e.jqXHR;this.setState({connected:!0,retryCount:0,revision:t.getResponseHeader("X-Bridge-Revision")}),this.scheduleCheck()},handleFailure:function(){this.setState({connected:!1,retryCount:this.state.retryCount+1,revision:null}),this.scheduleCheck()},scheduleCheck:function(){var e=this;this.scheduler||(this.scheduler=setTimeout(function(){e.isMounted()&&(e.scheduler=null,e.check())},this.getRetryInterval()))},getRetryInterval:function(){return this.state.connected?this.props.frequency:Math.min(Math.pow(2,this.state.retryCount-1)*this.props.retryIntervalFactor,this.props.frequency)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.getCurrentUserId;e&&e.id===t()?f(I18n.t("Looks like youre already editing this course in another location"),{type:"butter"}):e?f(I18n.t("Uh-oh, the way is shut. %{name} is currently editing this course. Youll have to try back later",{name:e.displayName}),{type:"butter"}):f(I18n.t("Oops, looks like you cant edit the course right now. Try back later"),{type:"butter"})}var a=n(34),s=n(665),i=n(1508),o=i.acquireLock,l=i.releaseLock,u=i.renewLock,c=n(25),d=n(5),p=d.utils.I18nStringConstants,f=n(19);e.exports={acquire:function(e){var t=this,n=e.type,a=e.id,i=e.showToast,l=void 0===i||i;return o({type:n,id:a}).then(function(e){return s.set({type:n,id:a},e)},function(e){if(l)if(403===e.status)f(p.getInsufficientPermissionsErrorMessage(),{type:"error"});else{var n=e.lockHolder;r(n,t.getUser)}throw e})},getUser:function(){return a.getCurrentUserId()},renew:function(e){var t=e.type,n=e.id,r=s.get({type:t,id:n});return r?u({type:t,id:n},r.id).then(function(){return r}):c.resolve()},release:function(e){var t=e.type,n=e.id,r=s.get({type:t,id:n});return r?l({type:t,id:n},r.id).then(function(){return s.delete({type:t,id:n})}):c.resolve()},setConflictToast:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(4),s=n(150),i=r(s),o=n(127),l=r(o);e.exports=(0,l.default)(function(e){return(0,i.default)((0,a.get)(e.responseJSON,"errors.0.meta.holder"))})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s=n(38),i=r(s),o=n(8),l=r(o),u=n(3414),c=r(u),d=n(7),p=r(d),f=n(150),m=r(f),h=n(4),g=n(5),v=g.constants.LOCKABLE_COURSE_TEMPLATE,_=g.constants.LOCKABLE_TASK,y=(a={},(0,i.default)(a,v,"author/course_templates"),(0,i.default)(a,_,"author/tasks"),a),b=function(e){if(409===e.status){var t=(0,h.get)(e,"responseJSON.errors.0.meta.holder");t&&(e.lockHolder=(0,m.default)(t))}throw e};t.acquireLock=(0,l.default)({schema:c.default,perform:function(e){var t=e.type,n=e.id;return(0,p.default)({url:"/api/"+y[t]+"/"+n+"/lock",type:"POST"}).then(null,b)},parse:function(e,t){return e(t.lock)}}),t.renewLock=function(e,t){var n=e.type,r=e.id;return(0,p.default)({url:"/api/"+y[n]+"/"+r+"/lock",type:"PUT",beforeSend:function(e){e.setRequestHeader("X-Lock-Id",t)}}).then(null,b)},t.releaseLock=function(e,t){var n=e.type,r=e.id;return(0,p.default)({url:"/api/"+y[n]+"/"+r+"/lock",type:"DELETE",beforeSend:function(e){e.setRequestHeader("X-Lock-Id",t)}}).then(null,b)}},function(e,t){"use strict";function n(e){return"string"==typeof e&&"/"===e[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=n(1509),i=r(s);t.default=(0,a.curry)(function e(t,n){var r=t.specs,a=t.nameMap,s=[];return n.parent&&(0,i.default)(n.parent)?s.push(n.parent):n.parent&&s.push(e({specs:r,nameMap:a},a[n.parent])),n.default?s.push("__index__"):s.push(n.path),s.join("/").replace(/\/+/g,"/")}),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.computedProperties||{},r=t.objectDidInstantiate||Function.prototype,s=t.objectDidUpdate||Function.prototype,o=function(e,t){var n=e.toJSON();Object.assign(e,t),s.call(e,n),a(e)};return e.create=function(t){var n=new e(t);return r.call(n),n},e.prototype.get=function(e){return(0,i.get)(this,e)},e.prototype.getProperties=function(e){var t=this;return arguments.length>1||!Array.isArray(e)?this.getProperties([].slice.call(arguments)):e.reduce(function(e,n){return e[n]=t[n],e},{})},e.prototype.destroy=function(){return null},e.prototype.set=function(e,t){return o(this,(0,i.set)(Object.assign({},this),e,t)),this},e.prototype.setProperties=function(e){return o(this,e),this},e.prototype.setPropertiesIfChanged=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{equalityCheckFn:i.isEqual};if(!e)return!1;var n=this.getProperties(Object.keys(e)),r=t&&t.equalityCheckFn||i.isEqual;return!r(n,e)&&(o(this,e),!0)},e.prototype.toJSON=function(){return this.getProperties(Object.keys(this).concat(Object.keys(n)))},e.prototype.addObserver=function(e,t,n){return this.__observers__||(this.__observers__=[]),this.__observers__.some(function(e){return e[0]===t&&e[1]===n})||this.__observers__.push([t,n]),this},e.prototype.removeObserver=function(e,t,n){return this.__observers__&&(this.__observers__=this.__observers__.filter(function(e){return!(e[0]===t&&e[1]===n)})),this},Object.keys(n).forEach(function(t){Object.defineProperty(e.prototype,t,{configurable:!1,enumerable:!0,get:n[t]})}),Object.defineProperty(e.prototype,"__observers__",{configurable:!1,enumerable:!1,writable:!0}),e}function a(e){var t=e.__observers__||[];t.forEach(function(e){"function"==typeof e[1]?e[1].call(e[0]):e[0]()})}function s(e){return null===e||void 0===e}Object.defineProperty(t,"__esModule",{value:!0}),t.emitChangeOf=void 0,t.default=r,t.isNone=s;var i=n(4);t.emitChangeOf=a},function(e,t){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return n(a(e))}function a(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./AdminBranding/index.js":2067,"./AdminBrandingEdit/index.js":2069,"./AdminBrandingEdit/screens/Content/index.js":2071,"./AdminBrandingEdit/screens/Landing/index.js":2073,"./AdminBrandingEdit/screens/LearningHeader/index.js":2075,"./AdminBrandingEdit/screens/Screen/index.js":2078,"./AdminBrandingEdit/screens/Signin/index.js":2080,"./AdminConfig/index.js":2094,"./AdminConfig/screens/Api/index.js":2100,"./AdminConfig/screens/Apps/index.js":2102,"./AdminConfig/screens/Auth/index.js":2114,"./AdminConfig/screens/Settings/index.js":2131,"./AdminCsvLog/index.js":2137,"./AdminCsvLogs/index.js":2140,"./AdminDashboardRedirect/index.js":2142,"./AdminImportProfile/index.js":2144,"./AdminImportProfileConfirmImport/index.js":2146,"./AdminInsights/components/DeepDiveReporting/MainContent/Table/index.js":1253,"./AdminInsights/components/DeepDiveReporting/MainContent/index.js":1254,"./AdminInsights/components/DeepDiveReporting/Sidebar/index.js":1257,"./AdminInsights/components/DeepDiveReporting/index.js":1258,"./AdminInsights/index.js":2170,"./AdminInsights/shared/components/Hero/Explainer/index.js":1261,"./AdminInsights/shared/components/Hero/index.js":1262,"./AdminInsights/shared/components/MobileHero/index.js":1264,"./AdminIntegrations/index.js":2211,"./AdminIntegrations/screens/Slack/index.js":2213,"./AdminMasquerade/index.js":2216,"./AdminNotifications/screens/Index/index.js":2224,"./AdminPermissions/index.js":2233,"./AdminSubAccounts/screens/Index/index.js":2241,"./AdminSubAccounts/screens/New/index.js":2243,"./AdminSubAccounts/screens/Show/index.js":2246,"./AdminSubAccounts/screens/Show/screens/Admins/index.js":2252,"./AdminSubAccounts/screens/Show/screens/Lti/index.js":2254,"./AdminSubAccounts/screens/Show/screens/Summary/index.js":2256,"./AdminSubAccounts/screens/Show/screens/Support/index.js":2261,"./AdminTags/screens/Index/index.js":2283,"./AdminTags/screens/Show/index.js":2288,"./ApproverApprovals/screens/Finished/index.js":2291,
"./ApproverApprovals/screens/Index/index.js":2293,"./ApproverApprovals/screens/Next/index.js":2295,"./ApproverApprovals/screens/Previous/index.js":2297,"./ApproverTask/index.js":2302,"./AuthCallback/index.js":2304,"./AuthVisit/index.js":2306,"./AuthorCourseConfirmImport/index.js":2308,"./AuthorCourseImport/index.js":2310,"./AuthorCourses/screens/ChangeLog/index.js":2314,"./AuthorCourses/screens/Index/index.js":2319,"./AuthorCourses/screens/LearnersUpload/index.js":2322,"./AuthorCourses/screens/Preview/screens/Course/index.js":2324,"./AuthorCourses/screens/Preview/screens/Slide/index.js":2325,"./AuthorCourses/screens/Show/index.js":2338,"./AuthorCourses/screens/Show/screens/AffiliatedAccounts/index.js":2340,"./AuthorCourses/screens/Show/screens/Attachments/index.js":2342,"./AuthorCourses/screens/Show/screens/Groups/index.js":2344,"./AuthorCourses/screens/Show/screens/Groups/screens/Index/index.js":2351,"./AuthorCourses/screens/Show/screens/Groups/screens/Show/index.js":2355,"./AuthorCourses/screens/Show/screens/Learners/index.js":2359,"./AuthorCourses/screens/Show/screens/Placement/index.js":2362,"./AuthorCourses/screens/Show/screens/Summary/components/QuizStatistics/index.js":1289,"./AuthorCourses/screens/Show/screens/Summary/components/RetainChart/index.js":1290,"./AuthorCourses/screens/Show/screens/Summary/index.js":2377,"./AuthorCourses/screens/Upload/index.js":2386,"./AuthorCoursesNew/index.js":2392,"./AuthorCoursesUpload/index.js":2394,"./AuthorDataDumps/index.js":2396,"./AuthorGroup/index.js":2400,"./AuthorGroup/screens/Content/index.js":2405,"./AuthorGroup/screens/Members/index.js":2410,"./AuthorGroup/shared/components/GroupActions/index.js":1299,"./AuthorGroup/shared/components/GroupUserActions/index.js":1300,"./AuthorGroup/shared/components/GroupUserListing/index.js":1301,"./AuthorGroup/shared/components/GroupUserSearch/index.js":1302,"./AuthorGroup/shared/components/SmartGroupRuleActions/index.js":1304,"./AuthorGroup/shared/components/SmartGroupRuleEditor/index.js":1305,"./AuthorGroupConfirmImport/index.js":2418,"./AuthorGroupImport/index.js":2420,"./AuthorGroupUpload/index.js":2422,"./AuthorGroups/index.js":2425,"./AuthorGroups/shared/components/GroupListingEntry/index.js":1306,"./AuthorLiveCourse/index.js":2427,"./AuthorLiveCourse/screens/AffiliatedAccounts/index.js":2429,"./AuthorLiveCourse/screens/Attachments/index.js":2431,"./AuthorLiveCourse/screens/Groups/index.js":2433,"./AuthorLiveCourse/screens/Learners/index.js":2437,"./AuthorLiveCourse/screens/Placement/index.js":2439,"./AuthorLiveCourse/screens/SessionCards/index.js":2452,"./AuthorLiveCourseLearnersConfirmImport/index.js":2457,"./AuthorLiveCourseLearnersImport/index.js":2459,"./AuthorLiveCourseLearnersUpload/index.js":2461,"./AuthorLiveCourseNew/index.js":2463,"./AuthorLiveCourseSession/index.js":2469,"./AuthorLiveCourseSession/screens/Attendees/index.js":2476,"./AuthorLiveCourses/index.js":2479,"./AuthorLtiContentItem/index.js":2484,"./AuthorMarkets/screens/Index/index.js":2487,"./AuthorMarkets/screens/Lynda/index.js":2489,"./AuthorMarkets/screens/Lynda/screens/Basket/index.js":2491,"./AuthorMarkets/screens/Lynda/screens/Categories/index.js":2493,"./AuthorMarkets/screens/Lynda/screens/Course/index.js":2495,"./AuthorMarkets/screens/Lynda/screens/Search/index.js":2497,"./AuthorMarkets/screens/Lynda/screens/SearchAll/index.js":2499,"./AuthorMarkets/screens/OpenSesame/index.js":2502,"./AuthorProgramLearnersConfirmImport/index.js":2504,"./AuthorProgramLearnersImport/index.js":2506,"./AuthorProgramLearnersUpload/index.js":2508,"./AuthorPrograms/screens/Edit/components/CrossfadeExpander/index.js":1311,"./AuthorPrograms/screens/Edit/components/Item/index.js":1312,"./AuthorPrograms/screens/Edit/components/ItemListComponents/LtiContentItemSelector/index.js":1313,"./AuthorPrograms/screens/Edit/index.js":2530,"./AuthorPrograms/screens/Index/index.js":2534,"./AuthorPrograms/screens/New/index.js":2536,"./AuthorPrograms/screens/Show/index.js":2545,"./AuthorPrograms/screens/Show/screens/AdminLaunchList/index.js":2549,"./AuthorPrograms/screens/Show/screens/AffiliatedAccounts/index.js":2551,"./AuthorPrograms/screens/Show/screens/Groups/index.js":2557,"./AuthorPrograms/screens/Show/screens/Learners/index.js":2563,"./AuthorPrograms/screens/Show/screens/Placements/index.js":2565,"./AuthorReport/index.js":2583,"./AuthorReports/index.js":2592,"./AuthorTaskLearnersConfirmImport/index.js":2594,"./AuthorTaskLearnersImport/index.js":2596,"./AuthorTaskLearnersUpload/index.js":2598,"./AuthorTasks/screens/Edit/index.js":2601,"./AuthorTasks/screens/Index/index.js":2607,"./AuthorTasks/screens/New/index.js":2609,"./AuthorTasks/screens/Show/components/RequiresApprovalSettings/ApproverTypes/index.js":1321,"./AuthorTasks/screens/Show/components/RequiresApprovalSettings/index.js":1322,"./AuthorTasks/screens/Show/index.js":2621,"./AuthorTasks/screens/Show/screens/AffiliatedAccounts/index.js":2623,"./AuthorTasks/screens/Show/screens/Attachments/index.js":2625,"./AuthorTasks/screens/Show/screens/Groups/index.js":2627,"./AuthorTasks/screens/Show/screens/Learners/index.js":2630,"./AuthorTasks/screens/Show/screens/Placement/index.js":2632,"./AuthorUsers/screens/Index/index.js":2638,"./AuthorUsers/screens/Show/index.js":1323,"./AuthorUsers/screens/Show/screens/Details/index.js":2642,"./AuthorUsers/screens/Show/screens/Notifications/index.js":2647,"./AuthorUsers/screens/Show/shared/components/CustomFields/index.js":1324,"./AuthorUsersImport/index.js":2660,"./AuthorUsersImportConfirm/index.js":2662,"./AuthorUsersUpload/index.js":2664,"./Certificate/screens/CourseCertificate/index.js":2666,"./Certificate/screens/LiveCourseCertificate/index.js":2668,"./Certificate/screens/ProgramCertificate/index.js":2670,"./Certificate/screens/TaskCertificate/index.js":2672,"./Certificate/shared/components/Certificate/index.js":1326,"./Certificate/shared/components/CertificateContainer/index.js":1327,"./Download/screens/Failed/index.js":2676,"./Download/screens/New/index.js":2678,"./Download/screens/Show/index.js":2680,"./EnrollmentImport/index.js":2687,"./EnrollmentImportConfirm/index.js":2689,"./EnrollmentUpload/index.js":2691,"./Error/index.js":2693,"./ForgotPassword/index.js":2696,"./LearnerCourse/screens/Archived/index.js":2700,"./LearnerCourse/screens/Finished/index.js":2702,"./LearnerCourse/screens/LearnerCourseCurrentSlide/index.js":2704,"./LearnerCourse/screens/LearnerCourseCurrentSlidePreview/index.js":2706,"./LearnerCourse/screens/LearnerCourseDetail/index.js":2708,"./LearnerCourse/screens/LearnerCourseExternal/index.js":2710,"./LearnerCourse/screens/LearnerCourseSlide/index.js":2714,"./LearnerCourse/screens/LearnerCourseSlidePreview/index.js":2716,"./LearnerCourseEnroll/index.js":2720,"./LearnerCoursesLaunch/index.js":2722,"./LearnerIntegrations/index.js":2724,"./LearnerItems/components/MyLearning/index.js":1329,"./LearnerItems/components/ViewAll/index.js":1330,"./LearnerItems/index.js":2728,"./LearnerLibraries/index.js":2731,"./LearnerLibraries/screens/LearnerLibrary/index.js":2733,"./LearnerLibraries/screens/Lynda/index.js":2735,"./LearnerLibraries/screens/Lynda/screens/Categories/index.js":2737,"./LearnerLibraries/screens/Lynda/screens/Course/index.js":2739,"./LearnerLibraries/screens/Lynda/screens/Search/index.js":2741,"./LearnerLibraries/screens/Lynda/screens/SearchAll/index.js":2743,"./LearnerLiveTrainingCalendar/index.js":2752,"./LearnerLtiContentItem/Finished/index.js":2754,"./LearnerLtiContentItem/index.js":2756,"./LearnerProfile/index.js":2765,"./LearnerProgram/index.js":2774,"./LearnerProgramEnroll/index.js":2776,"./LearnerRetainQuiz/screens/Archived/index.js":2778,"./LearnerRetainQuiz/screens/Complete/components/RetainChart/index.js":1333,"./LearnerRetainQuiz/screens/Complete/index.js":2780,"./LearnerRetainQuiz/screens/Expired/index.js":2782,"./LearnerRetainQuiz/screens/Launch/index.js":2784,"./LearnerRetainQuiz/screens/Question/index.js":2786,"./LearnerTask/index.js":2794,"./LearnerTask/screens/Finished/index.js":2796,"./LearnerTaskRedirect/index.js":2798,"./Login/components/LoginView/index.js":1334,"./Login/index.js":2801,"./Logout/index.js":2804,"./LtiPlacements/Admin/screens/Index/index.js":2806,"./LtiPlacements/Admin/screens/Show/index.js":2808,"./LtiPlacements/Learner/screens/Index/index.js":2810,"./LtiPlacements/Learner/screens/Show/index.js":2812,"./NoUser/index.js":2815,"./NotFound/index.js":2817,"./Password/screens/Reset/index.js":2819,"./Password/screens/Setup/index.js":2821,"./Perform/index.js":2824,"./SignedOut/components/SignedOutView/index.js":1339,"./SignedOut/index.js":2826,"./SupportAccount/screens/Index/index.js":2831,"./SupportAccount/screens/New/index.js":2833,"./SupportAccount/screens/Show/index.js":2835,"./SupportAccount/screens/Show/screens/ContentManagement/index.js":2837,"./SupportAccount/screens/Show/screens/Details/index.js":2843,"./SupportAccount/screens/Show/screens/Features/index.js":2845,"./SupportAccount/screens/Show/screens/Features/shared/stores/AccountFeatureStore/index.js":755,"./SupportAccount/screens/Show/screens/LTI/index.js":2852,"./SupportAccount/screens/Show/screens/Support/index.js":2854,"./SupportAccount/screens/Show/screens/Webhook/index.js":2856,"./SupportAccount/screens/Show/screens/Webhook/screens/Attempts/Index/index.js":2858,"./SupportAccount/screens/Show/screens/Webhook/screens/Attempts/Show/index.js":2863,"./SupportAccount/screens/Show/screens/Webhook/screens/Attempts/index.js":2865,"./SupportAccount/screens/Show/screens/Webhook/screens/Index/index.js":2869,"./SupportAccount/screens/Show/screens/Webhook/screens/New/index.js":2871,"./SupportAccount/screens/Show/screens/Webhook/screens/Show/index.js":2873,"./SupportCloneAccount/index.js":2885,"./SupportUserAccount/index.js":2891,"./Surveys/screens/AuthorSurvey/index.js":2899,"./Surveys/screens/AuthorSurveyPreview/index.js":2901,"./Surveys/screens/AuthorSurveyPreviewBare/index.js":2903,"./Surveys/screens/AuthorSurveyQuestions/index.js":2908,"./Surveys/screens/AuthorSurveyQuestions/screens/Question/index.js":2913,"./Surveys/screens/AuthorSurveyQuestionsPreview/index.js":2915,"./Surveys/screens/AuthorSurveyResults/index.js":2935,"./Surveys/screens/AuthorSurveys/index.js":2943,"./Surveys/screens/LearnerSurvey/index.js":758,"./Surveys/shared/components/LearnerSurvey/SurveyView/Likert/index.js":1352,"./Surveys/shared/components/LearnerSurvey/SurveyView/Submit/index.js":1353,"./Surveys/shared/components/LearnerSurvey/SurveyView/index.js":759,"./UberHax/index.js":2961,"./index.js":1356};r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=1743},function(e,t,n){function r(e){return n(a(e))}function a(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./AdminBranding/route.js":2068,"./AdminBrandingEdit/route.js":2070,"./AdminBrandingEdit/screens/Content/route.js":2072,"./AdminBrandingEdit/screens/Landing/route.js":2074,"./AdminBrandingEdit/screens/LearningHeader/route.js":2076,"./AdminBrandingEdit/screens/Screen/route.js":2079,"./AdminBrandingEdit/screens/Signin/route.js":2081,"./AdminConfig/route.js":2095,"./AdminConfig/screens/Api/route.js":2101,"./AdminConfig/screens/Apps/route.js":2103,"./AdminConfig/screens/Auth/route.js":2115,"./AdminConfig/screens/Settings/route.js":2132,"./AdminCsvLog/route.js":2138,"./AdminCsvLogs/route.js":2141,"./AdminDashboardRedirect/route.js":2143,"./AdminImportProfile/route.js":2145,"./AdminImportProfileConfirmImport/route.js":2147,"./AdminInsights/route.js":2171,"./AdminIntegrations/route.js":2212,"./AdminIntegrations/screens/Slack/route.js":2214,"./AdminMasquerade/route.js":2217,"./AdminNotifications/screens/Index/route.js":2225,"./AdminPermissions/route.js":2234,"./AdminSubAccounts/screens/Index/route.js":2242,"./AdminSubAccounts/screens/New/route.js":2244,"./AdminSubAccounts/screens/Show/route.js":2247,"./AdminSubAccounts/screens/Show/screens/Admins/route.js":2253,"./AdminSubAccounts/screens/Show/screens/Lti/route.js":2255,"./AdminSubAccounts/screens/Show/screens/Summary/route.js":2257,"./AdminSubAccounts/screens/Show/screens/Support/route.js":2262,"./AdminTags/screens/Index/route.js":2284,"./AdminTags/screens/Show/route.js":2289,"./Application/route.js":2290,"./ApproverApprovals/screens/Finished/route.js":2292,"./ApproverApprovals/screens/Index/route.js":2294,"./ApproverApprovals/screens/Next/route.js":2296,"./ApproverApprovals/screens/Previous/route.js":2298,"./ApproverTask/route.js":2303,"./AuthCallback/route.js":2305,"./AuthVisit/route.js":2307,"./AuthorCourseConfirmImport/route.js":2309,"./AuthorCourseImport/route.js":2311,"./AuthorCourses/screens/ChangeLog/route.js":2315,"./AuthorCourses/screens/Index/route.js":2320,"./AuthorCourses/screens/LearnersUpload/route.js":2323,"./AuthorCourses/screens/Preview/screens/Course/route.js":1285,"./AuthorCourses/screens/Preview/screens/Slide/route.js":1286,"./AuthorCourses/screens/Show/route.js":2339,"./AuthorCourses/screens/Show/screens/AffiliatedAccounts/route.js":2341,"./AuthorCourses/screens/Show/screens/Attachments/route.js":2343,"./AuthorCourses/screens/Show/screens/Groups/route.js":2345,"./AuthorCourses/screens/Show/screens/Groups/screens/Index/route.js":2352,"./AuthorCourses/screens/Show/screens/Groups/screens/Show/route.js":2356,"./AuthorCourses/screens/Show/screens/Learners/route.js":2360,"./AuthorCourses/screens/Show/screens/Placement/route.js":2363,"./AuthorCourses/screens/Show/screens/Summary/route.js":2378,"./AuthorCourses/screens/Upload/route.js":2387,"./AuthorCoursesNew/route.js":2393,"./AuthorCoursesUpload/route.js":2395,"./AuthorDataDumps/route.js":2397,"./AuthorGroup/route.js":2401,"./AuthorGroup/screens/Content/route.js":2406,"./AuthorGroup/screens/Members/route.js":2411,"./AuthorGroupConfirmImport/route.js":2419,"./AuthorGroupImport/route.js":2421,"./AuthorGroupUpload/route.js":2423,"./AuthorGroups/route.js":2426,"./AuthorLiveCourse/route.js":2428,"./AuthorLiveCourse/screens/AffiliatedAccounts/route.js":2430,"./AuthorLiveCourse/screens/Attachments/route.js":2432,"./AuthorLiveCourse/screens/Groups/route.js":2434,"./AuthorLiveCourse/screens/Learners/route.js":2438,"./AuthorLiveCourse/screens/Placement/route.js":2440,"./AuthorLiveCourse/screens/SessionCards/route.js":2453,"./AuthorLiveCourseLearnersConfirmImport/route.js":2458,"./AuthorLiveCourseLearnersImport/route.js":2460,"./AuthorLiveCourseLearnersUpload/route.js":2462,"./AuthorLiveCourseNew/route.js":2464,"./AuthorLiveCourseSession/route.js":2470,"./AuthorLiveCourseSession/screens/Attendees/route.js":2477,"./AuthorLiveCourses/route.js":2480,"./AuthorLtiContentItem/route.js":2485,"./AuthorMarkets/screens/Index/route.js":2488,"./AuthorMarkets/screens/Lynda/route.js":2490,"./AuthorMarkets/screens/Lynda/screens/Basket/route.js":2492,"./AuthorMarkets/screens/Lynda/screens/Categories/route.js":2494,"./AuthorMarkets/screens/Lynda/screens/Course/route.js":2496,"./AuthorMarkets/screens/Lynda/screens/Search/route.js":2498,"./AuthorMarkets/screens/Lynda/screens/SearchAll/route.js":2500,"./AuthorMarkets/screens/OpenSesame/route.js":2503,"./AuthorProgramLearnersConfirmImport/route.js":2505,"./AuthorProgramLearnersImport/route.js":2507,"./AuthorProgramLearnersUpload/route.js":2509,"./AuthorPrograms/screens/Edit/route.js":2531,"./AuthorPrograms/screens/Index/route.js":2535,"./AuthorPrograms/screens/New/route.js":2537,"./AuthorPrograms/screens/Show/route.js":2546,"./AuthorPrograms/screens/Show/screens/AdminLaunchList/route.js":2550,"./AuthorPrograms/screens/Show/screens/AffiliatedAccounts/route.js":2552,"./AuthorPrograms/screens/Show/screens/Groups/route.js":2558,"./AuthorPrograms/screens/Show/screens/Learners/route.js":2564,"./AuthorPrograms/screens/Show/screens/Placements/route.js":2566,"./AuthorReport/route.js":2584,"./AuthorReports/route.js":2593,"./AuthorTaskLearnersConfirmImport/route.js":2595,"./AuthorTaskLearnersImport/route.js":2597,"./AuthorTaskLearnersUpload/route.js":2599,"./AuthorTasks/screens/Edit/route.js":2602,"./AuthorTasks/screens/Index/route.js":2608,"./AuthorTasks/screens/New/route.js":2610,"./AuthorTasks/screens/Show/route.js":2622,"./AuthorTasks/screens/Show/screens/AffiliatedAccounts/route.js":2624,"./AuthorTasks/screens/Show/screens/Attachments/route.js":2626,"./AuthorTasks/screens/Show/screens/Groups/route.js":2628,"./AuthorTasks/screens/Show/screens/Learners/route.js":2631,"./AuthorTasks/screens/Show/screens/Placement/route.js":2633,"./AuthorUsers/screens/Index/route.js":2639,"./AuthorUsers/screens/Show/route.js":2641,"./AuthorUsers/screens/Show/screens/Details/route.js":2643,"./AuthorUsers/screens/Show/screens/Notifications/route.js":2648,"./AuthorUsersImport/route.js":2661,"./AuthorUsersImportConfirm/route.js":2663,"./AuthorUsersUpload/route.js":2665,"./Certificate/screens/CourseCertificate/route.js":2667,"./Certificate/screens/LiveCourseCertificate/route.js":2669,"./Certificate/screens/ProgramCertificate/route.js":2671,"./Certificate/screens/TaskCertificate/route.js":2673,"./Download/screens/Failed/route.js":2677,"./Download/screens/New/route.js":2679,"./Download/screens/Show/route.js":2681,"./EnrollmentImport/route.js":2688,"./EnrollmentImportConfirm/route.js":2690,"./EnrollmentUpload/route.js":2692,"./Error/route.js":2694,"./ForgotPassword/route.js":2697,"./Landing/route.js":2699,"./LearnerCourse/screens/Archived/route.js":2701,"./LearnerCourse/screens/Finished/route.js":2703,"./LearnerCourse/screens/LearnerCourseCurrentSlide/route.js":2705,"./LearnerCourse/screens/LearnerCourseCurrentSlidePreview/route.js":2707,"./LearnerCourse/screens/LearnerCourseDetail/route.js":2709,"./LearnerCourse/screens/LearnerCourseExternal/route.js":2711,"./LearnerCourse/screens/LearnerCourseSlide/route.js":2715,"./LearnerCourse/screens/LearnerCourseSlidePreview/route.js":2717,"./LearnerCourseEnroll/route.js":2721,"./LearnerCoursesLaunch/route.js":2723,"./LearnerIntegrations/route.js":2725,"./LearnerItems/route.js":2729,"./LearnerLibraries/route.js":2732,"./LearnerLibraries/screens/LearnerLibrary/route.js":2734,"./LearnerLibraries/screens/Lynda/route.js":2736,"./LearnerLibraries/screens/Lynda/screens/Categories/route.js":2738,"./LearnerLibraries/screens/Lynda/screens/Course/route.js":2740,"./LearnerLibraries/screens/Lynda/screens/Search/route.js":2742,"./LearnerLibraries/screens/Lynda/screens/SearchAll/route.js":2744,"./LearnerLiveTrainingCalendar/route.js":2753,"./LearnerLtiContentItem/Finished/route.js":2755,"./LearnerLtiContentItem/route.js":2757,"./LearnerProfile/route.js":2766,"./LearnerProgram/route.js":2775,"./LearnerProgramEnroll/route.js":2777,"./LearnerRetainQuiz/screens/Archived/route.js":2779,"./LearnerRetainQuiz/screens/Complete/route.js":2781,"./LearnerRetainQuiz/screens/Expired/route.js":2783,"./LearnerRetainQuiz/screens/Launch/route.js":2785,"./LearnerRetainQuiz/screens/Question/route.js":2787,"./LearnerTask/route.js":2795,"./LearnerTask/screens/Finished/route.js":2797,"./LearnerTaskRedirect/route.js":2799,"./Login/route.js":2802,"./Logout/route.js":2805,"./LtiPlacements/Admin/screens/Index/route.js":2807,"./LtiPlacements/Admin/screens/Show/route.js":2809,"./LtiPlacements/Learner/screens/Index/route.js":2811,"./LtiPlacements/Learner/screens/Show/route.js":2813,"./NoUser/route.js":2816,"./NotFound/route.js":2818,"./Password/screens/Reset/route.js":2820,"./Password/screens/Setup/route.js":2822,"./Perform/route.js":2825,"./SignedOut/route.js":2827,"./SupportAccount/screens/Index/route.js":2832,"./SupportAccount/screens/New/route.js":2834,"./SupportAccount/screens/Show/route.js":2836,"./SupportAccount/screens/Show/screens/ContentManagement/route.js":2838,"./SupportAccount/screens/Show/screens/Details/route.js":2844,"./SupportAccount/screens/Show/screens/Features/route.js":2846,"./SupportAccount/screens/Show/screens/LTI/route.js":2853,"./SupportAccount/screens/Show/screens/Support/route.js":2855,"./SupportAccount/screens/Show/screens/Webhook/route.js":2857,"./SupportAccount/screens/Show/screens/Webhook/screens/Attempts/Index/route.js":2859,"./SupportAccount/screens/Show/screens/Webhook/screens/Attempts/Show/route.js":2864,"./SupportAccount/screens/Show/screens/Webhook/screens/Attempts/route.js":2866,"./SupportAccount/screens/Show/screens/Webhook/screens/Index/route.js":2870,"./SupportAccount/screens/Show/screens/Webhook/screens/New/route.js":2872,"./SupportAccount/screens/Show/screens/Webhook/screens/Show/route.js":2874,"./SupportCloneAccount/route.js":2886,"./SupportUserAccount/route.js":2892,"./Surveys/screens/AuthorSurvey/route.js":2900,"./Surveys/screens/AuthorSurveyPreview/route.js":2902,"./Surveys/screens/AuthorSurveyPreviewBare/route.js":2904,"./Surveys/screens/AuthorSurveyQuestions/route.js":2909,"./Surveys/screens/AuthorSurveyQuestions/screens/Question/route.js":2914,"./Surveys/screens/AuthorSurveyQuestionsPreview/route.js":2916,"./Surveys/screens/AuthorSurveyResults/route.js":2936,"./Surveys/screens/AuthorSurveys/route.js":2944,"./Surveys/screens/LearnerSurvey/route.js":2945,"./UberHax/route.js":2962};r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=1744},,,,,,,,,function(e,t,n){(function(e,n,r,a){!function(e,n){n(t)}(this,function(t){"use strict";function s(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),a=0;a<n;a++)r[a]=e[t+a];return r}function i(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function o(e){setTimeout(e,0)}function l(e){return function(t){var n=s(arguments,1);e(function(){t.apply(null,n)})}}function u(e){return dt(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}i(r)&&"function"==typeof r.then?r.then(function(e){c(n,null,e)},function(e){c(n,e.message?e:new Error(e))}):n(null,r)})}function c(e,t,n){try{e(t,n)}catch(e){mt(d,e)}}function d(e){throw e}function p(e){return ht&&"AsyncFunction"===e[Symbol.toStringTag]}function f(e){return p(e)?u(e):e}function m(e){return function(t){var n=s(arguments,1),r=dt(function(n,r){var a=this;return e(t,function(e,t){f(e).apply(a,n.concat(t))},r)});return n.length?r.apply(this,n):r}}function h(e){var t=Et.call(e,It),n=e[It];try{e[It]=void 0;var r=!0}catch(e){}var a=Ct.call(e);return r&&(t?e[It]=n:delete e[It]),a}function g(e){return Nt.call(e)}function v(e){return null==e?void 0===e?xt:St:(e=Object(e),At&&At in e?h(e):g(e))}function _(e){if(!i(e))return!1;var t=v(e);return t==wt||t==Rt||t==kt||t==Ot}function y(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Pt}function b(e){return null!=e&&y(e.length)&&!_(e)}function E(){}function C(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function I(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function T(e){return null!=e&&"object"==typeof e}function N(e){return T(e)&&v(e)==Ut}function S(){return!1}function x(e,t){return t=null==t?Qt:t,!!t&&("number"==typeof e||$t.test(e))&&e>-1&&e%1==0&&e<t}function A(e){return T(e)&&y(e.length)&&!!Cn[v(e)]}function k(e){return function(t){return e(t)}}function w(e,t){var n=Ht(e),r=!n&&jt(e),a=!n&&!r&&Kt(e),s=!n&&!r&&!a&&kn(e),i=n||r||a||s,o=i?I(e.length,String):[],l=o.length;for(var u in e)!t&&!Rn.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||x(u,l))||o.push(u);return o}function R(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||On;return e===n}function O(e,t){return function(n){return e(t(n))}}function P(e){if(!R(e))return Pn(e);var t=[];for(var n in Object(e))Mn.call(e,n)&&"constructor"!=n&&t.push(n);return t}function L(e){return b(e)?w(e):P(e)}function M(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function D(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function U(e){var t=L(e),n=-1,r=t.length;return function(){var a=t[++n];return n<r?{value:e[a],key:a}:null}}function F(e){if(b(e))return M(e);var t=Dt(e);return t?D(t):U(e)}function q(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function B(e){return function(t,n,r){function a(e,t){if(l-=1,e)o=!0,r(e);else{if(t===Lt||o&&l<=0)return o=!0,r(null);s()}}function s(){for(;l<e&&!o;){var t=i();if(null===t)return o=!0,void(l<=0&&r(null));l+=1,n(t.value,t.key,q(a))}}if(r=C(r||E),e<=0||!t)return r(null);var i=F(t),o=!1,l=0;s()}}function j(e,t,n,r){B(t)(e,f(n),r)}function H(e,t){return function(n,r,a){return e(n,t,r,a)}}function G(e,t,n){function r(e,t){e?n(e):++s!==i&&t!==Lt||n(null)}n=C(n||E);var a=0,s=0,i=e.length;for(0===i&&n(null);a<i;a++)t(e[a],a,q(r))}function W(e){return function(t,n,r){return e(Un,t,f(n),r)}}function V(e,t,n,r){r=r||E,t=t||[];var a=[],s=0,i=f(n);e(t,function(e,t,n){var r=s++;i(e,function(e,t){a[r]=t,n(e)})},function(e){r(e,a)})}function Y(e){return function(t,n,r,a){return e(B(n),t,f(r),a)}}function z(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function K(e){return function(t,n,r){for(var a=-1,s=Object(t),i=r(t),o=i.length;o--;){var l=i[e?o:++a];if(n(s[l],l,s)===!1)break}return t}}function Q(e,t){return e&&Wn(e,t,L)}function $(e,t,n,r){for(var a=e.length,s=n+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}function X(e){return e!==e}function J(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}function Z(e,t,n){return t===t?J(e,t,n):$(e,X,n)}function ee(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function te(e){return"symbol"==typeof e||T(e)&&v(e)==Yn}function ne(e){if("string"==typeof e)return e;if(Ht(e))return ee(e,ne)+"";if(te(e))return Qn?Qn.call(e):"";var t=e+"";return"0"==t&&1/e==-zn?"-0":t}function re(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}function ae(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:re(e,t,n)}function se(e,t){for(var n=e.length;n--&&Z(t,e[n],0)>-1;);return n}function ie(e,t){for(var n=-1,r=e.length;++n<r&&Z(t,e[n],0)>-1;);return n}function oe(e){return e.split("")}function le(e){return tr.test(e)}function ue(e){return e.match(yr)||[]}function ce(e){return le(e)?ue(e):oe(e)}function de(e){return null==e?"":ne(e)}function pe(e,t,n){if(e=de(e),e&&(n||void 0===t))return e.replace(br,"");if(!e||!(t=ne(t)))return e;var r=ce(e),a=ce(t),s=ie(r,a),i=se(r,a)+1;return ae(r,s,i).join("")}function fe(e){return e=e.toString().replace(Tr,""),e=e.match(Er)[2].replace(" ",""),e=e?e.split(Cr):[],e=e.map(function(e){return pe(e.replace(Ir,""))})}function me(e,t){var n={};Q(e,function(e,t){function r(t,n){var r=ee(a,function(e){return t[e]});r.push(n),f(e).apply(null,r)}var a,s=p(e),i=!s&&1===e.length||s&&0===e.length;if(Ht(e))a=e.slice(0,-1),e=e[e.length-1],n[t]=a.concat(a.length>0?r:e);else if(i)n[t]=e;else{if(a=fe(e),0===e.length&&!s&&0===a.length)throw new Error("autoInject task functions require explicit parameters.");s||a.pop(),n[t]=a.concat(r)}}),Vn(n,t)}function he(){this.head=this.tail=null,this.length=0}function ge(e,t){e.length=1,e.head=e.tail=t}function ve(e,t,n){function r(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(u.started=!0,Ht(e)||(e=[e]),0===e.length&&u.idle())return mt(function(){u.drain()});for(var r=0,a=e.length;r<a;r++){var s={data:e[r],callback:n||E};t?u._tasks.unshift(s):u._tasks.push(s)}mt(u.process)}function a(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var a=e[n],s=Z(o,a,0);s>=0&&o.splice(s),a.callback.apply(a,arguments),null!=t&&u.error(t,a.data)}i<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var s=f(e),i=0,o=[],l=!1,u={_tasks:new he,concurrency:t,payload:n,saturated:E,unsaturated:E,buffer:t/4,empty:E,drain:E,error:E,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){u.drain=E,u._tasks.empty()},unshift:function(e,t){r(e,!0,t)},remove:function(e){u._tasks.remove(e)},process:function(){if(!l){for(l=!0;!u.paused&&i<u.concurrency&&u._tasks.length;){var e=[],t=[],n=u._tasks.length;u.payload&&(n=Math.min(n,u.payload));for(var r=0;r<n;r++){var c=u._tasks.shift();e.push(c),t.push(c.data)}i+=1,o.push(e[0]),0===u._tasks.length&&u.empty(),i===u.concurrency&&u.saturated();var d=q(a(e));s(t,d)}l=!1}},length:function(){return u._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return u._tasks.length+i===0},pause:function(){u.paused=!0},resume:function(){u.paused!==!1&&(u.paused=!1,mt(u.process))}};return u}function _e(e,t){return ve(e,1,t)}function ye(e,t,n,r){r=C(r||E);var a=f(n);Sr(e,function(e,n,r){a(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function be(){var e=ee(arguments,f);return function(){var t=s(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=E,ye(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=s(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}function Ee(e,t,n,r){var a=[];e(t,function(e,t,r){n(e,function(e,t){a=a.concat(t||[]),r(e)})},function(e){r(e,a)})}function Ce(e){return function(t,n,r){return e(Sr,t,f(n),r)}}function Ie(e){return e}function Te(e,t){return function(n,r,a,s){s=s||E;var i,o=!1;n(r,function(n,r,s){a(n,function(r,a){r?s(r):e(a)&&!i?(o=!0,i=t(!0,n),s(null,Lt)):s()})},function(e){e?s(e):s(null,o?i:t(!1))})}}function Ne(e,t){return t}function Se(e){return function(t){var n=s(arguments,1);n.push(function(t){var n=s(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&z(n,function(t){console[e](t)}))}),f(t).apply(null,n)}}function xe(e,t,n){function r(e){if(e)return n(e);var t=s(arguments,1);t.push(a),o.apply(this,t)}function a(e,t){return e?n(e):t?void i(r):n(null)}n=q(n||E);var i=f(e),o=f(t);a(null,!0)}function Ae(e,t,n){n=q(n||E);var r=f(e),a=function(e){if(e)return n(e);var i=s(arguments,1);return t.apply(this,i)?r(a):void n.apply(null,[null].concat(i))};r(a)}function ke(e,t,n){Ae(e,function(){return!t.apply(this,arguments)},n)}function we(e,t,n){function r(e){return e?n(e):void i(a)}function a(e,t){return e?n(e):t?void s(r):n(null)}n=q(n||E);var s=f(t),i=f(e);i(a)}function Re(e){return function(t,n,r){return e(t,r)}}function Oe(e,t,n){Un(e,Re(f(t)),n)}function Pe(e,t,n,r){B(t)(e,Re(f(n)),r)}function Le(e){return p(e)?e:dt(function(t,n){var r=!0;t.push(function(){var e=arguments;r?mt(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function Me(e){return!e}function De(e){return function(t){return null==t?void 0:t[e]}}function Ue(e,t,n,r){var a=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){a[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],s=0;s<t.length;s++)a[s]&&n.push(t[s]);r(null,n)})}function Fe(e,t,n,r){var a=[];e(t,function(e,t,r){n(e,function(n,s){n?r(n):(s&&a.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,ee(a.sort(function(e,t){return e.index-t.index}),De("value")))})}function qe(e,t,n,r){var a=b(t)?Ue:Fe;a(e,t,f(n),r||E)}function Be(e,t){function n(e){return e?r(e):void a(n)}var r=q(t||E),a=f(Le(e));n()}function je(e,t,n,r){r=C(r||E);var a={},s=f(n);j(e,t,function(e,t,n){s(e,t,function(e,r){return e?n(e):(a[t]=r,void n())})},function(e){r(e,a)})}function He(e,t){return t in e}function Ge(e,t){var n=Object.create(null),r=Object.create(null);t=t||Ie;var a=f(e),i=dt(function(e,i){var o=t.apply(null,e);He(n,o)?mt(function(){i.apply(null,n[o])}):He(r,o)?r[o].push(i):(r[o]=[i],a.apply(null,e.concat(function(){var e=s(arguments);n[o]=e;var t=r[o];delete r[o];for(var a=0,i=t.length;a<i;a++)t[a].apply(null,e)})))});return i.memo=n,i.unmemoized=e,i}function We(e,t,n){n=n||E;var r=b(t)?[]:{};e(t,function(e,t,n){f(e)(function(e,a){arguments.length>2&&(a=s(arguments,1)),r[t]=a,n(e)})},function(e){n(e,r)})}function Ve(e,t){We(Un,e,t)}function Ye(e,t,n){We(B(t),e,n)}function ze(e,t){if(t=C(t||E),!Ht(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)f(e[n])(t)}function Ke(e,t,n,r){var a=s(e).reverse();ye(a,t,n,r)}function Qe(e){var t=f(e);return dt(function(e,n){
return e.push(function(e,t){if(e)n(null,{error:e});else{var r;r=arguments.length<=2?t:s(arguments,1),n(null,{value:r})}}),t.apply(this,e)})}function $e(e,t,n,r){qe(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}function Xe(e){var t;return Ht(e)?t=ee(e,Qe):(t={},Q(e,function(e,n){t[n]=Qe.call(this,e)})),t}function Je(e){return function(){return e}}function Ze(e,t,n){function r(e,t){if("object"==typeof t)e.times=+t.times||s,e.intervalFunc="function"==typeof t.interval?t.interval:Je(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||s}}function a(){l(function(e){e&&u++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(a,o.intervalFunc(u)):n.apply(null,arguments)})}var s=5,i=0,o={times:s,intervalFunc:Je(i)};if(arguments.length<3&&"function"==typeof e?(n=t||E,t=e):(r(o,e),n=n||E),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var l=f(t),u=1;a()}function et(e,t){We(Sr,e,t)}function tt(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}var a=f(t);Fn(e,function(e,t){a(e,function(n,r){return n?t(n):void t(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,ee(t.sort(r),De("value")))})}function nt(e,t,n){var r=f(e);return dt(function(a,s){function i(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),l=!0,s(r)}var o,l=!1;a.push(function(){l||(s.apply(null,arguments),clearTimeout(o))}),o=setTimeout(i,t),r.apply(null,a)})}function rt(e,t,n,r){for(var a=-1,s=sa(aa((t-e)/(n||1)),0),i=Array(s);s--;)i[r?s:++a]=e,e+=n;return i}function at(e,t,n,r){var a=f(n);Bn(rt(0,e,1),t,a,r)}function st(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Ht(e)?[]:{}),r=C(r||E);var a=f(n);Un(e,function(e,n,r){a(t,e,n,r)},function(e){r(e,t)})}function it(e,t){var n,r=null;t=t||E,Mr(e,function(e,t){f(e)(function(e,a){n=arguments.length>2?s(arguments,1):a,r=e,t(!e)})},function(){t(r,n)})}function ot(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function lt(e,t,n){n=q(n||E);var r=f(t);if(!e())return n(null);var a=function(t){if(t)return n(t);if(e())return r(a);var i=s(arguments,1);n.apply(null,[null].concat(i))};r(a)}function ut(e,t,n){lt(function(){return!e.apply(this,arguments)},t,n)}var ct,dt=function(e){return function(){var t=s(arguments),n=t.pop();e.call(this,t,n)}},pt="function"==typeof e&&e,ft="object"==typeof n&&"function"==typeof n.nextTick;ct=pt?e:ft?n.nextTick:o;var mt=l(ct),ht="function"==typeof Symbol,gt="object"==typeof r&&r&&r.Object===Object&&r,vt="object"==typeof self&&self&&self.Object===Object&&self,_t=gt||vt||Function("return this")(),yt=_t.Symbol,bt=Object.prototype,Et=bt.hasOwnProperty,Ct=bt.toString,It=yt?yt.toStringTag:void 0,Tt=Object.prototype,Nt=Tt.toString,St="[object Null]",xt="[object Undefined]",At=yt?yt.toStringTag:void 0,kt="[object AsyncFunction]",wt="[object Function]",Rt="[object GeneratorFunction]",Ot="[object Proxy]",Pt=9007199254740991,Lt={},Mt="function"==typeof Symbol&&Symbol.iterator,Dt=function(e){return Mt&&e[Mt]&&e[Mt]()},Ut="[object Arguments]",Ft=Object.prototype,qt=Ft.hasOwnProperty,Bt=Ft.propertyIsEnumerable,jt=N(function(){return arguments}())?N:function(e){return T(e)&&qt.call(e,"callee")&&!Bt.call(e,"callee")},Ht=Array.isArray,Gt="object"==typeof t&&t&&!t.nodeType&&t,Wt=Gt&&"object"==typeof a&&a&&!a.nodeType&&a,Vt=Wt&&Wt.exports===Gt,Yt=Vt?_t.Buffer:void 0,zt=Yt?Yt.isBuffer:void 0,Kt=zt||S,Qt=9007199254740991,$t=/^(?:0|[1-9]\d*)$/,Xt="[object Arguments]",Jt="[object Array]",Zt="[object Boolean]",en="[object Date]",tn="[object Error]",nn="[object Function]",rn="[object Map]",an="[object Number]",sn="[object Object]",on="[object RegExp]",ln="[object Set]",un="[object String]",cn="[object WeakMap]",dn="[object ArrayBuffer]",pn="[object DataView]",fn="[object Float32Array]",mn="[object Float64Array]",hn="[object Int8Array]",gn="[object Int16Array]",vn="[object Int32Array]",_n="[object Uint8Array]",yn="[object Uint8ClampedArray]",bn="[object Uint16Array]",En="[object Uint32Array]",Cn={};Cn[fn]=Cn[mn]=Cn[hn]=Cn[gn]=Cn[vn]=Cn[_n]=Cn[yn]=Cn[bn]=Cn[En]=!0,Cn[Xt]=Cn[Jt]=Cn[dn]=Cn[Zt]=Cn[pn]=Cn[en]=Cn[tn]=Cn[nn]=Cn[rn]=Cn[an]=Cn[sn]=Cn[on]=Cn[ln]=Cn[un]=Cn[cn]=!1;var In="object"==typeof t&&t&&!t.nodeType&&t,Tn=In&&"object"==typeof a&&a&&!a.nodeType&&a,Nn=Tn&&Tn.exports===In,Sn=Nn&&gt.process,xn=function(){try{return Sn&&Sn.binding("util")}catch(e){}}(),An=xn&&xn.isTypedArray,kn=An?k(An):A,wn=Object.prototype,Rn=wn.hasOwnProperty,On=Object.prototype,Pn=O(Object.keys,Object),Ln=Object.prototype,Mn=Ln.hasOwnProperty,Dn=H(j,1/0),Un=function(e,t,n){var r=b(e)?G:Dn;r(e,f(t),n)},Fn=W(V),qn=m(Fn),Bn=Y(V),jn=H(Bn,1),Hn=m(jn),Gn=function(e){var t=s(arguments,1);return function(){var n=s(arguments);return e.apply(null,t.concat(n))}},Wn=K(),Vn=function(e,t,n){function r(e,t){_.push(function(){l(e,t)})}function a(){if(0===_.length&&0===h)return n(null,m);for(;_.length&&h<t;){var e=_.shift();e()}}function i(e,t){var n=v[e];n||(n=v[e]=[]),n.push(t)}function o(e){var t=v[e]||[];z(t,function(e){e()}),a()}function l(e,t){if(!g){var r=q(function(t,r){if(h--,arguments.length>2&&(r=s(arguments,1)),t){var a={};Q(m,function(e,t){a[t]=e}),a[e]=r,g=!0,v=Object.create(null),n(t,a)}else m[e]=r,o(e)});h++;var a=f(t[t.length-1]);t.length>1?a(m,r):a(r)}}function u(){for(var e,t=0;y.length;)e=y.pop(),t++,z(c(e),function(e){0===--b[e]&&y.push(e)});if(t!==p)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function c(t){var n=[];return Q(e,function(e,r){Ht(e)&&Z(e,t,0)>=0&&n.push(r)}),n}"function"==typeof t&&(n=t,t=null),n=C(n||E);var d=L(e),p=d.length;if(!p)return n(null);t||(t=p);var m={},h=0,g=!1,v=Object.create(null),_=[],y=[],b={};Q(e,function(t,n){if(!Ht(t))return r(n,[t]),void y.push(n);var a=t.slice(0,t.length-1),s=a.length;return 0===s?(r(n,t),void y.push(n)):(b[n]=s,void z(a,function(o){if(!e[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+a.join(", "));i(o,function(){s--,0===s&&r(n,t)})}))}),u(),a()},Yn="[object Symbol]",zn=1/0,Kn=yt?yt.prototype:void 0,Qn=Kn?Kn.toString:void 0,$n="\\ud800-\\udfff",Xn="\\u0300-\\u036f\\ufe20-\\ufe23",Jn="\\u20d0-\\u20f0",Zn="\\ufe0e\\ufe0f",er="\\u200d",tr=RegExp("["+er+$n+Xn+Jn+Zn+"]"),nr="\\ud800-\\udfff",rr="\\u0300-\\u036f\\ufe20-\\ufe23",ar="\\u20d0-\\u20f0",sr="\\ufe0e\\ufe0f",ir="["+nr+"]",or="["+rr+ar+"]",lr="\\ud83c[\\udffb-\\udfff]",ur="(?:"+or+"|"+lr+")",cr="[^"+nr+"]",dr="(?:\\ud83c[\\udde6-\\uddff]){2}",pr="[\\ud800-\\udbff][\\udc00-\\udfff]",fr="\\u200d",mr=ur+"?",hr="["+sr+"]?",gr="(?:"+fr+"(?:"+[cr,dr,pr].join("|")+")"+hr+mr+")*",vr=hr+mr+gr,_r="(?:"+[cr+or+"?",or,dr,pr,ir].join("|")+")",yr=RegExp(lr+"(?="+lr+")|"+_r+vr,"g"),br=/^\s+|\s+$/g,Er=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Cr=/,/,Ir=/(=.+)?(\s*)$/,Tr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;he.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},he.prototype.empty=function(){for(;this.head;)this.shift();return this},he.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},he.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},he.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):ge(this,e)},he.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):ge(this,e)},he.prototype.shift=function(){return this.head&&this.removeLink(this.head)},he.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},he.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},he.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var Nr,Sr=H(j,1),xr=function(){return be.apply(null,s(arguments).reverse())},Ar=W(Ee),kr=Ce(Ee),wr=function(){var e=s(arguments),t=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,t)}},Rr=W(Te(Ie,Ne)),Or=Y(Te(Ie,Ne)),Pr=H(Or,1),Lr=Se("dir"),Mr=H(Pe,1),Dr=W(Te(Me,Me)),Ur=Y(Te(Me,Me)),Fr=H(Ur,1),qr=W(qe),Br=Y(qe),jr=H(Br,1),Hr=function(e,t,n,r){r=r||E;var a=f(n);Bn(e,t,function(e,t){a(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},a=Object.prototype.hasOwnProperty,s=0;s<t.length;s++)if(t[s]){var i=t[s].key,o=t[s].val;a.call(n,i)?n[i].push(o):n[i]=[o]}return r(e,n)})},Gr=H(Hr,1/0),Wr=H(Hr,1),Vr=Se("log"),Yr=H(je,1/0),zr=H(je,1);Nr=ft?n.nextTick:pt?e:o;var Kr=l(Nr),Qr=function(e,t){var n=f(e);return ve(function(e,t){n(e[0],t)},t,1)},$r=function(e,t){var n=Qr(e,t);return n.push=function(e,t,r){if(null==r&&(r=E),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Ht(e)||(e=[e]),0===e.length)return mt(function(){n.drain()});t=t||0;for(var a=n._tasks.head;a&&t>=a.priority;)a=a.next;for(var s=0,i=e.length;s<i;s++){var o={data:e[s],priority:t,callback:r};a?n._tasks.insertBefore(a,o):n._tasks.push(o)}mt(n.process)},delete n.unshift,n},Xr=W($e),Jr=Y($e),Zr=H(Jr,1),ea=function(e,t){t||(t=e,e=null);var n=f(t);return dt(function(t,r){function a(e){n.apply(null,t.concat(e))}e?Ze(e,a,r):Ze(a,r)})},ta=W(Te(Boolean,Ie)),na=Y(Te(Boolean,Ie)),ra=H(na,1),aa=Math.ceil,sa=Math.max,ia=H(at,1/0),oa=H(at,1),la=function(e,t){function n(t){var n=f(e[a++]);t.push(q(r)),n.apply(null,t)}function r(r){return r||a===e.length?t.apply(null,arguments):void n(s(arguments,1))}if(t=C(t||E),!Ht(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var a=0;n([])},ua={applyEach:qn,applyEachSeries:Hn,apply:Gn,asyncify:u,auto:Vn,autoInject:me,cargo:_e,compose:xr,concat:Ar,concatSeries:kr,constant:wr,detect:Rr,detectLimit:Or,detectSeries:Pr,dir:Lr,doDuring:xe,doUntil:ke,doWhilst:Ae,during:we,each:Oe,eachLimit:Pe,eachOf:Un,eachOfLimit:j,eachOfSeries:Sr,eachSeries:Mr,ensureAsync:Le,every:Dr,everyLimit:Ur,everySeries:Fr,filter:qr,filterLimit:Br,filterSeries:jr,forever:Be,groupBy:Gr,groupByLimit:Hr,groupBySeries:Wr,log:Vr,map:Fn,mapLimit:Bn,mapSeries:jn,mapValues:Yr,mapValuesLimit:je,mapValuesSeries:zr,memoize:Ge,nextTick:Kr,parallel:Ve,parallelLimit:Ye,priorityQueue:$r,queue:Qr,race:ze,reduce:ye,reduceRight:Ke,reflect:Qe,reflectAll:Xe,reject:Xr,rejectLimit:Jr,rejectSeries:Zr,retry:Ze,retryable:ea,seq:be,series:et,setImmediate:mt,some:ta,someLimit:na,someSeries:ra,sortBy:tt,timeout:nt,times:ia,timesLimit:at,timesSeries:oa,transform:st,tryEach:it,unmemoize:ot,until:ut,waterfall:la,whilst:lt,all:Dr,any:ta,forEach:Oe,forEachSeries:Mr,forEachLimit:Pe,forEachOf:Un,forEachOfSeries:Sr,forEachOfLimit:j,inject:ye,foldl:ye,foldr:Ke,select:qr,selectLimit:Br,selectSeries:jr,wrapSync:u};t.default=ua,t.applyEach=qn,t.applyEachSeries=Hn,t.apply=Gn,t.asyncify=u,t.auto=Vn,t.autoInject=me,t.cargo=_e,t.compose=xr,t.concat=Ar,t.concatSeries=kr,t.constant=wr,t.detect=Rr,t.detectLimit=Or,t.detectSeries=Pr,t.dir=Lr,t.doDuring=xe,t.doUntil=ke,t.doWhilst=Ae,t.during=we,t.each=Oe,t.eachLimit=Pe,t.eachOf=Un,t.eachOfLimit=j,t.eachOfSeries=Sr,t.eachSeries=Mr,t.ensureAsync=Le,t.every=Dr,t.everyLimit=Ur,t.everySeries=Fr,t.filter=qr,t.filterLimit=Br,t.filterSeries=jr,t.forever=Be,t.groupBy=Gr,t.groupByLimit=Hr,t.groupBySeries=Wr,t.log=Vr,t.map=Fn,t.mapLimit=Bn,t.mapSeries=jn,t.mapValues=Yr,t.mapValuesLimit=je,t.mapValuesSeries=zr,t.memoize=Ge,t.nextTick=Kr,t.parallel=Ve,t.parallelLimit=Ye,t.priorityQueue=$r,t.queue=Qr,t.race=ze,t.reduce=ye,t.reduceRight=Ke,t.reflect=Qe,t.reflectAll=Xe,t.reject=Xr,t.rejectLimit=Jr,t.rejectSeries=Zr,t.retry=Ze,t.retryable=ea,t.seq=be,t.series=et,t.setImmediate=mt,t.some=ta,t.someLimit=na,t.someSeries=ra,t.sortBy=tt,t.timeout=nt,t.times=ia,t.timesLimit=at,t.timesSeries=oa,t.transform=st,t.tryEach=it,t.unmemoize=ot,t.until=ut,t.waterfall=la,t.whilst=lt,t.all=Dr,t.allLimit=Ur,t.allSeries=Fr,t.any=ta,t.anyLimit=na,t.anySeries=ra,t.find=Rr,t.findLimit=Or,t.findSeries=Pr,t.forEach=Oe,t.forEachSeries=Mr,t.forEachLimit=Pe,t.forEachOf=Un,t.forEachOfSeries=Sr,t.forEachOfLimit=j,t.inject=ye,t.foldl=ye,t.foldr=Ke,t.select=qr,t.selectLimit=Br,t.selectSeries=jr,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(1186).setImmediate,n(255),function(){return this}(),n(346)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(93),d=r(c),p=n(664),f=r(p),m=n(3413),h=r(m),g=n(31),v=r(g),_=n(3090),y=r(_),b=n(166),E=r(b),C=n(34),I=r(C),T=n(149),N=r(T),S=n(108),x=r(S),A=n(376),k=r(A),w=n(39),R=r(w),O=n(13),P=r(O),L=n(22),M=r(L),D=n(4),U=n(657),F=n(20),q=r(F),B=n(279),j=r(B),H=(0,U.pendo)(),G=function(){H&&H.pageLoad&&H.pageLoad()},W=u.default.createClass({displayName:"Root",propTypes:{pathname:o.default.string.isRequired,path:o.default.string.isRequired,query:o.default.object.isRequired,currentRouteName:o.default.string.isRequired,layout:o.default.string,auth:o.default.shape({authenticated:o.default.bool,masquerading:o.default.bool,user:o.default.object,postMasqueradeRoute:o.default.string}),profile:j.default,location:o.default.shape({pathname:o.default.string.isRequired}).isRequired},componentWillMount:function(){k.default.install()},componentDidMount:function(){G(),x.default.addChangeListener(this.reload)},componentWillReceiveProps:function(e){!e.auth.masquerading&&this.props.auth.masquerading&&this.redirectToHome(e.auth.postMasqueradeRoute),e.location.pathname!==this.props.location.pathname&&G();var t=(0,D.get)(this.props,"profile.locale"),n=(0,D.get)(e,"profile.locale");n!==t&&n!==R.default.getLocale()&&this.updateUserLocale(e.profile.locale)},componentWillUnmount:function(){x.default.removeChangeListener(this.reload)},render:function(){var e=this.props,t=e.auth,n=e.profile,r=e.pathname,a=e.query,i=(0,D.omit)(this.props,["auth","profile","isLoading"]);return u.default.createElement("div",{className:"full-height"},u.default.createElement(h.default,{url:"/api/heartbeat",onChange:this.reloadApplicationOnRevisionChange,revision:v.default.get("CURRENT_REVISION"),active:!0,location:this.props.location}),u.default.createElement(y.default,{authenticated:t.authenticated,query:a}),!(0,q.default)("global_nav")&&u.default.createElement(E.default,{scope:r}),u.default.createElement(f.default,(0,s.default)({},i,{masquerading:t.masquerading,user:(0,s.default)({},t.user,(0,D.omit)(n,"id"))}),u.default.createElement(d.default,i)))},reloadApplicationOnRevisionChange:function(){window.location.reload(!0)},redirectToHome:function(e){P.default.transitionTo(e),k.default.install()},updateUserLocale:function(e){R.default.updateLocale(e),x.default.activateCurrentLocale()},reload:function(){this.forceUpdate()}});t.default=(0,M.default)({type:W,asyncProps:{auth:{setup:function(e){I.default.addChangeListener(e)},get:function(){return{authenticated:I.default.isAuthenticated(),masquerading:I.default.isMasquerading(),postMasqueradeRoute:I.default.getPostAuthRoute(),user:I.default.getCurrentUserProfileData()}},teardown:function(e){I.default.removeChangeListener(e)}},profile:{setup:function(e){N.default.addChangeListener(e)},fetch:function(){return N.default.fetch()},get:function(){return N.default.get()},teardown:function(e){N.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(552),s=r(a),i=n(2057),o=r(i),l=n(1357),u=r(l),c=n(1242),d=r(c),p=n(1246),f=r(p),m=n(1243),h=r(m),g=n(2058),v=r(g),_=n(1244),y=r(_),b=n(1245),E=r(b),C=n(1247),I=r(C);if(s.default.isPlatformActive())s.default.use({application:"bridge-learn",definition:o.default});else{var T=[d.default,h.default,v.default,E.default,f.default,(0,I.default)({domNode:document.getElementById("application")}),y.default];u.default.startWith(T,function(e){e?(console.error("Boot error!"),console.error(e&&e.stack||e)):console.debug("GetSmart: up and running!")})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),s=r(a),i=n(1357),o=r(i),l=n(1242),u=r(l),c=n(1243),d=r(c),p=n(2059),f=r(p),m=n(1244),h=r(m),g=n(1246),v=r(g),_=n(1245),y=r(_),b=n(1247),E=r(b),C=n(1402);t.default=function(e,t){var n=e.domNode;return{bootstrap:function(){return s.default.resolve()},mount:function(){return new s.default(function(e,r){var a=[u.default,(0,f.default)({state:t}),d.default,y.default,v.default,(0,E.default)({domNode:n}),h.default];o.default.startWith(a,function(n,s){n?r(n):(t.routeActions=s.routeActions,t.teardownFns=a.map(function(e){return e.teardown}).filter(function(e){return!!e}).concat([C.unmount,s.router.stop]),e())})})},locationDidChange:function(e){t.routeActions.transitionTo(e.pathname+e.search)},unmount:function(){return t.teardownFns.forEach(function(e){return e()}),t.restoreGlobal(),s.default.resolve()}}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"disable console logging",initialize:function(){["debug","info","log","warn","error"].forEach(function(e){console[e]=function(){}})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=Object.keys(e).reduce(function(e,t){return Object.assign(e,(0,i.default)({},t,window[t]))},{});return Object.assign(window,e),c.default.reset(window.FEATURES||{}),p.default.reset(),function(){Object.assign(window,t)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),i=r(s),o=n(7),l=r(o),u=n(639),c=r(u),d=n(34),p=r(d);t.default=function(e){var t=e.state;return{name:"fetch the application runtime",initialize:function(e){return(0,l.default)({url:"/runtime"}).then(function(n){t.restoreGlobal=a(n),e()})}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(46),o=r(i),l=n(9),u=r(l),c=n(1),d=n(49),p=n(2055),f=n(31),m=n(3099),h=n(231),g=h.RouteHandlerHierarchy,v=n(799),_=n(1356),y=n(3418),b=y.collectAncestors,E=y.inferLayout,C=y.scanRoutes,I=y.HANDLER_TYPE_REACT_ROUTER,T=y.HANDLER_TYPE_BRIDGE_ROUTER;e.exports=function(e){var t=e.history,n=e.router,r=C(_)({features:f.get("FEATURES",{})}),a=r.specs,i=r.nameMap,l=function(e){return{location:e.props.location,path:e.props.location.pathname,pathname:e.props.location.pathname,currentRouteName:e.props.location.pathname,params:e.props.params,query:e.props.query}},h=function(e){var r=e.spec,s=e.component,o=i[r.name],d=b(a,r).map(function(e){return e.handler}),f=E(a,r);return m({component:s,history:t,router:n,pathname:o})({propsDidChange:function(){this.isInForeground()&&this.render()},asyncPropsDidChange:function(){this.isInForeground()&&this.render()},enter:function(){this.isInForeground()&&this.render()},foregroundStatusDidChange:function(){this.isInForeground()&&this.render()},render:function(){this.renderComponent(c.createElement(v,{location:this.props.location},c.createElement(g,{routeHandlers:d},c.createElement(p,(0,u.default)({},l(this),{layout:f})))))}})},y=function(e){return Array.isArray(e.handler)?[e.handler[0],e.handler[1]]:"function"==typeof e.handler?[I,e.handler]:[(0,o.default)(e.handler),null]},N=function(e){var r=y(e),a=(0,s.default)(r,2),i=a[0],o=a[1];switch(i){case T:return m({history:t,router:n})(o);case I:return h({spec:e,component:o});default:return d(!1,'Unrecognized handler type "'+i+'".'),null}},S=a.map(function(e){var t=i[e.name],n=i[e.parent];return[t,{parent:"/"===t?null:n||"/",default:e.default,handler:N(e)}]});return{mapping:S,nameMap:i}}},,,,function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=r.createClass({displayName:"LogoDrop",render:function(){return r.createElement("div",{className:"brand-logo-drop pure-g"},r.createElement("div",{className:"brand-logo-drop__drop-area pure-u-1-2"},r.createElement(s,{className:"gs-arrow-up gs-1x brand-logo-drop__drop-area-icon"}),r.createElement("p",{className:"small semi-bold"},I18n.t("Simple Logo Upload")),r.createElement("p",{className:"small"},I18n.t("Drag in this logo"))),r.createElement("div",{className:"pure-u-1-2"},r.createElement("img",{src:"/images/brand-your-logo.png",className:"brand-logo-drop__hand",alt:I18n.t("Drag This Logo")})))}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(769),h=r(m),g=n(778),v=r(g),_=n(186),y=r(_),b=n(62),E=r(b),C=n(378),I=n(5),T=n(2),N=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"renderItems",value:function(){var e=this.props.screens.map(function(e){return y.default.getScreen(e)});return e.map(function(e){var t=e.Handler;return f.default.createElement(h.default.Item,{key:"item_"+e.id,className:"brand-carousel__item"},f.default.createElement(v.default,null),f.default.createElement("div",{className:"brand-carousel__item-content"},f.default.createElement(I.FixedMediaState,{device:{width:1025,height:612.5}},f.default.createElement(t,{preview:!0}))))})}},{key:"render",value:function(){var e=E.default.isColorEnabled()?"theme-light":"";return f.default.createElement("div",{className:"border-t border-grey"},f.default.createElement("h3",{className:"padding-tb-xl brand-carousel__header","data-capybara":"carousel_header"},this.props.unpublished?I18n.t("Learners are still seeing Bridge like this:"):I18n.t("Lookin' good. Learners now see Bridge like this:")),f.default.createElement("div",{className:"brand-carousel__slider "+e},f.default.createElement(h.default,{className:"brand-carousel__clip shadow"},this.renderItems())))}}]),t}(f.default.Component);N.propTypes={unpublished:T.bool,screens:(0,T.arrayOf)(T.string)},N.defaultProps={unpublished:!1,screens:C.all},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2064),h=r(m),g=n(2065),v=r(g),_=n(13),y=r(_),b=n(24),E=r(b),C=n(62),I=r(C),T=n(378),N=n(29),S=r(N),x=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=I.default.isColorEnabled()||I.default.isFontEnabled(),t=I.default.getUpdatedAt(),n=I.default.hasUnpublishedChanges(),r=I.default.getLogoUrl(!0),a=e||n||r,s=(0,S.default)("account_self_update");return f.default.createElement("div",{className:"brand-settings"},f.default.createElement("div",{className:"pure-g border-t border-grey brand-settings__call-to-action"},f.default.createElement("div",{className:"pure-u-2-3 padding-tb-l brand-settings__status"},a&&t&&f.default.createElement("p",null,I18n.t("Branding update was last applied %{date}",{date:t})),!a&&f.default.createElement("h3",null,I18n.t("Brand the content that learners see.")),n&&f.default.createElement("p",null,I18n.t("There are changes in content branding that have not yet been applied."))),s&&f.default.createElement("div",{className:"pure-u-1-3 padding-tb-l brand-settings__action-btn"},f.default.createElement(y.default,{to:"admin.branding.edit",className:"btn "+(a?"secondary":"filled")},a?I18n.t("Edit Branding"):I18n.t("Customize for Learners")))),a?f.default.createElement(v.default,{unpublished:n,screens:T.all}):f.default.createElement("div",null,f.default.createElement("div",{className:"pure-g border-t border-grey"},f.default.createElement("div",{className:"pure-u-1-2 padding-trb-xxl"},f.default.createElement("h3",{className:"brand-settings__header margin-b-xs"},f.default.createElement(E.default,null,f.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Your Logo... %{br}Everywhere Learners Go",{br:"%{br}"}),br:f.default.createElement("br",null)},"$1"))),f.default.createElement("p",null,f.default.createElement(E.default,null,I18n.t("After a simple upload, your logo is placed everywhere the learner goes. For best results use a PNG file.")))),f.default.createElement("div",{className:"pure-u-1-2 padding-tb-xxl"},f.default.createElement(h.default,null))),f.default.createElement("div",{className:"pure-g border-t border-grey"},f.default.createElement("div",{className:"pure-u-1-2 padding-trb-xxl"},f.default.createElement("img",{src:"/images/brand-light-screen.png",className:"brand-settings__screen-shot shadow",alt:I18n.t("Custom Brand Theme")})),f.default.createElement("div",{className:"pure-u-1-2 padding-tb-xxl"},f.default.createElement("h3",{className:"brand-settings__header margin-b-xs"},f.default.createElement(E.default,null,f.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Give Learners the %{br}Look You Want",{br:"%{br}"}),br:f.default.createElement("br",null)},"$1"))),f.default.createElement("p",null,f.default.createElement(E.default,null,I18n.t("Stick with our colors or customize the look of Bridge to match your brand. Then preview all the touchpoints your learners will see.")))))))}}]),t}(f.default.Component);t.default=x,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2066),h=r(m),g=n(97),v=r(g),_=n(54),y=r(_),b=n(177),E=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){(0,b.redirectIfFreeOrLiteAccount)()}},{key:"render",value:function(){return f.default.createElement(v.default,null,f.default.createElement(y.default,{name:"layout--list__header-text"},I18n.t("Content Branding")),f.default.createElement("div",{className:"sortable-table-header--first-item"},f.default.createElement(h.default,null)))}}]),t}(p.Component);t.default=E,e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.branding",path:"/admin/branding",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(177),o=n(93),l=r(o),u=n(62),c=r(u),d=n(376),p=r(d);t.default=s.default.createClass({displayName:"AdminBrandingEdit",componentWillMount:function(){(0,i.redirectIfFreeOrLiteAccount)(),c.default.fetch()},componentDidMount:function(){c.default.toggleDraft(!0),c.default.addChangeListener(this.reloadOnOptionChange)},componentWillUnmount:function(){c.default.toggleDraft(!1),c.default.removeChangeListener(this.reloadOnOptionChange)},render:function(){return s.default.createElement(l.default,this.props)},reloadOnOptionChange:function(){p.default.install(),this.forceUpdate()}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.branding.edit",path:"/admin/branding/edit"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(416),h=r(m),g=n(573),v=r(g),_=n(378),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement(h.default,{editor:"content"},f.default.createElement(v.default,{screens:_.course,clickable:!1,tileSize:"medium"}))}}]),t}(f.default.Component);t.default=y,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.branding.content",path:"content",parent:"admin.branding.edit"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(416),h=r(m),g=n(573),v=r(g),_=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement(h.default,null,f.default.createElement(v.default,{clickable:!0,linkTo:"admin.branding.edit.screen"}))}}]),t}(f.default.Component);t.default=_,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={default:!0,parent:"admin.branding.edit"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(416),h=r(m),g=n(573),v=r(g),_=n(378),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement(h.default,{editor:"header"},f.default.createElement(v.default,{screens:_.learning,clickable:!1,tileSize:"medium"}))}}]),t}(f.default.Component);t.default=y,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.branding.header",path:"header",parent:"admin.branding.edit"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(67),u=r(l),c=n(30),d=r(c),p=n(27),f=r(p),m=n(5),h=n(6),g=r(h),v=n(20),_=r(v),y=n(24),b=r(y),E=o.default.createClass({displayName:"ScreenPreview",propTypes:{Handler:s.default.func,title:s.default.string},eatClick:function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation()},redirectToIndex:function(){d.default.transitionTo("admin.branding.edit")},componentDidMount:function(){this.refs.screenContainer.addEventListener("click",this.eatClick,!0)},componentWillUnmount:function(){this.refs.screenContainer.removeEventListener("click",this.eatClick,!0)},render:function(){var e=this.props,t=e.Handler,n=e.title;return o.default.createElement("div",{className:"branding-preview",onClick:this.redirectToIndex},!(0,_.default)("learn_custom_brand_color_updates")&&o.default.createElement(u.default,{to:"admin.branding.edit",className:"branding-preview__index-link"},o.default.createElement(m.Icon,{className:"gs-catalog gs-1x"})," ",I18n.t("All Pages")),o.default.createElement("div",{className:(0,g.default)("branding-preview__wrapper",{"branding-preview__wrapper--temp":!(0,_.default)("learn_custom_brand_color_updates")})},o.default.createElement("div",{className:"branding-preview__box"},(0,_.default)("learn_custom_brand_color_updates")&&o.default.createElement(u.default,{to:"admin.branding.edit",className:"branding-preview__box__link"},o.default.createElement(f.default,{children:I18n.t("Close Preview")}),o.default.createElement(m.Icon,{className:"gs-x branding-preview__box__icon"})),o.default.createElement("div",{className:"branding-preview__content",onClick:this.eatClick,ref:"screenContainer"},o.default.createElement(m.FixedMediaState,{device:{width:1200,height:1e3}},o.default.createElement(t,null)))),o.default.createElement(b.default,{
className:"branding-preview__title branding-preview__title--no-link",onClick:this.eatClick},o.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{title}",{title:"%{title}"}),title:n},"$1"))))}});e.exports=E},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(186),i=n(2077),o=n(416),l=a.createClass({displayName:"Screen",propTypes:{params:r.shape({screenId:r.string.isRequired}).isRequired},render:function(){var e=this.props.params.screenId,t=s.getScreen(e),n=t.Handler,r=t.title,l=r();return a.createElement(o,{screenId:e},a.createElement(i,{Handler:n,title:l}))}});e.exports=l},function(e,t){"use strict";e.exports={name:"admin.branding.edit.screen",path:":screenId",parent:"admin.branding.edit"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(416),h=r(m),g=n(573),v=r(g),_=n(378),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement(h.default,{editor:"signin"},f.default.createElement(v.default,{screens:_.signin,clickable:!1,tileSize:"medium"}))}}]),t}(f.default.Component);t.default=y,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.branding.signin",path:"signin",parent:"admin.branding.edit"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(117),s=r(a);t.default={uploadFile:function(e){return(0,s.default)(e,{public:!0}).upload()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(67),h=r(m),g=n(1250),v=r(g),_=n(2),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,r=e.Handler,a=e.linkTo;return f.default.createElement(v.default,{id:t,Handler:r,title:n},f.default.createElement(h.default,{to:a,params:{screenId:this.props.id},className:"branding-tile__link",children:f.default.createElement("span",{className:"branding-preview__title"},n)}))}}]),t}(f.default.Component);y.propTypes={Handler:_.func.isRequired,id:_.string.isRequired,title:_.string.isRequired,linkTo:_.string.isRequired},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(20),g=r(h),v=n(55),_=r(v),y=n(781),b=r(y),E=n(740),C=r(E),I=n(901),T=r(I),N=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement(C.default,{displayText:I18n.t("Course Content")},f.default.createElement("div",{className:"header-comment content-branding-settings"},(0,g.default)("learn_maintain_course_branding_in_sub")&&this.renderSubAccountContentBranding(),(0,g.default)("learn_custom_fonts")&&this.renderFontBranding()))}},{key:"renderSubAccountContentBranding",value:function(){var e=this.props,t=e.maintainBrandingInSubAccount,n=e.onMaintainBrandingInSubAccountChange;return f.default.createElement("label",null,f.default.createElement("div",{className:"content-branding-settings__subaccount"},f.default.createElement("div",{className:"bold"},I18n.t("Maintain Sub-Account Branding")),f.default.createElement("div",null,f.default.createElement(_.default,{checked:!!t,onChange:function(){return n(!t)}}))))}},{key:"renderFontBranding",value:function(){var e=this.props,t=e.font,n=e.onFontChange;return f.default.createElement("div",{className:"content-branding-settings__font"},f.default.createElement("div",{className:"bold"},I18n.t("Branded Course Font")),f.default.createElement("p",{className:"small dark-grey margin-t-xs ",dangerouslySetInnerHTML:{__html:I18n.t("Visit *Google Fonts* for a better browsing experience. Font families with bold and italic are recommended. The default font is Avenir.",{wrappers:['<a href="https://fonts.google.com/" target="_blank">$1</a>']})}}),f.default.createElement(b.default,{className:"margin-t-s",id:"google-font-selector",onChange:n,value:t}))}}]),t}(f.default.Component);N.propTypes={maintainBrandingInSubAccount:m.bool,onMaintainBrandingInSubAccountChange:m.func.isRequired,font:(0,T.default)("string").isRequired,onFontChange:m.func.isRequired},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(739),g=r(h),v=n(43),_=n(4),y=n(12),b=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.updateConfig=function(){var e=n.state.title;n.props.onChange({custom_text:e})},n.toggleTitle=function(){n.setState({isToggleOn:!n.state.isToggleOn,title:n.state.isToggleOn?null:""},n.updateConfig)},n.updateCustomTitle=function(e){var t=e.target.value;n.setState({title:t},n.debouncedSave)},n.clearTitleInput=function(){n.setState({title:""},n.updateConfig)},n.renderEditor=function(){var e=n.state.title;return f.default.createElement("div",{className:"padding-s border-b border-med-grey title-editor"},f.default.createElement(v.TextInput,{value:e||"",name:"inputSimple",className:"title-editor__text-input",maxLength:64,onChange:n.updateCustomTitle}),f.default.createElement("div",{className:"title-editor__clear-icon",onClick:n.clearTitleInput},f.default.createElement(v.ClearIcon,null)))},n.state={isToggleOn:null!==e.title,title:e.title},n.debouncedSave=(0,_.debounce)(n.updateConfig,y.GENERAL_DEBOUNCE_MS),n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state.isToggleOn,t=this.props.disabled;return f.default.createElement("div",null,f.default.createElement(g.default,{title:I18n.t("Custom Title"),description:I18n.t('Replace "Learning" with a title of your own. For example, "Acme University".'),checked:e,onChange:this.toggleTitle,showBorders:!e,disabled:t,disabledTooltipMessage:I18n.t("Turn off Brand Logo to enable Custom Title."),dataCapybara:"custom_title_toggle"}),e&&this.renderEditor())}}]),t}(f.default.Component);b.propTypes={title:m.string,onChange:m.func.isRequired,showBorders:m.bool,disabled:m.bool},b.defaultProps={title:null,showBorders:!0,disabled:!1},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(1),o=r(i),l=n(55),u=r(l),c=n(590),d=r(c),p=n(365),f=r(p),m=n(2082),h=r(m),g=n(62),v=n(325),_=r(v),y=n(2),b=n(20),E=r(b),C=n(1251),I=r(C),T=n(3335),N=r(T),S=["image/gif","image/png"],x={width:760,height:200},A=o.default.createClass({displayName:"GeneralBrandingSettings",propTypes:{branding:(0,y.shape)({color_enabled:y.bool,primary_color:y.string,primary_logo_url:y.string,reverse_logo_url:y.string,primary_logo_width:y.number,primary_logo_height:y.number,reverse_logo_width:y.number,reverse_logo_height:y.number}),onChange:y.func.isRequired},getDefaultProps:function(){return{branding:{color_enabled:!1},onChange:Function.prototype}},getInitialState:function(){return{}},toggleColor:function(){this.props.onChange({color_enabled:!this.props.branding.color_enabled})},updateColor:function(e){this.props.onChange({primary_color:(0,N.default)(e,g.defaultColor)})},updateNavColor:function(e){this.props.onChange({navigation_color:(0,N.default)(e,g.defaultNavColor)})},updatePrimaryLogo:function(e){this.updateLogo("primary",e)},updateReverseLogo:function(e){this.updateLogo("reverse",e)},updateLogo:function(e,t){var n;this.props.onChange((n={},(0,s.default)(n,e+"_logo_url",t.location||null),(0,s.default)(n,e+"_logo_width",t.width||null),(0,s.default)(n,e+"_logo_height",t.height||null),n))},showHelpText:function(){this.setState({showHelpText:!0})},hideHelpText:function(){this.setState({showHelpText:!1})},shouldRenderSubEditorLinks:function(){return(0,E.default)("learn_login_branding")||(0,E.default)("learn_learning_header_branding")||this.shouldRenderContentBrandingLink()},shouldRenderContentBrandingLink:function(){return(0,E.default)("learn_custom_fonts")||(0,E.default)("learn_maintain_course_branding_in_sub")},render:function(){var e=(0,_.default)(this.props.branding.primary_color),t=(0,_.default)(this.props.branding.navigation_color);return o.default.createElement("div",null,o.default.createElement("div",{className:"padding-s border-b border-med-grey"},o.default.createElement("label",{className:"block clearfix"},o.default.createElement("span",{className:"left"},(0,E.default)("learn_custom_brand_color_updates")?I18n.t("Brand Colors"):I18n.t("Customize Color")),o.default.createElement("span",{className:"right"},o.default.createElement(u.default,{checked:this.props.branding.color_enabled,onChange:this.toggleColor})),(0,E.default)("learn_custom_brand_color_updates")&&o.default.createElement("span",{className:"left"},o.default.createElement("p",{className:"x-small dark-grey margin-t-xs",style:{width:220}},I18n.t("Affects buttons, link colors, and many other primary focus areas.")))),this.props.branding.color_enabled&&o.default.createElement("div",{className:"relative"},o.default.createElement("label",{className:"block clearfix padding-t-s"},o.default.createElement("span",{className:"left"},I18n.t("Theme Color")),o.default.createElement("span",{className:"right"},o.default.createElement(d.default,{value:e,defaultValue:g.defaultColor,onChange:this.updateColor,onFocus:this.showHelpText,onBlur:this.hideHelpText}))),!(0,E.default)("learn_custom_brand_color_updates")&&this.state.showHelpText&&o.default.createElement("p",{className:"branding-color-help-text text-right small bold blue margin-t-xs absolute"},I18n.t("Enter company hex color")),!(0,E.default)("learn_custom_brand_color_updates")&&o.default.createElement("p",{className:"x-small dark-grey margin-t-xs",style:{opacity:this.state.showHelpText?.25:1}},I18n.t("Affects buttons, link colors, and many other primary focus areas."))),(0,E.default)("global_nav_branding")&&this.props.branding.color_enabled&&o.default.createElement("div",{className:"relative"},o.default.createElement("label",{className:"block clearfix padding-t-s"},o.default.createElement("span",{className:"left"},I18n.t("Navigation Bar")),o.default.createElement("span",{className:"right"},o.default.createElement(d.default,{value:t,defaultValue:g.defaultNavColor,onChange:this.updateNavColor}))))),o.default.createElement(f.default,{name:I18n.t("Primary Logo"),url:this.props.branding.primary_logo_url,description:I18n.t("Appears on light backgrounds such as course headers and email notifications. PNG required."),onChange:this.updatePrimaryLogo,onUploadFile:h.default.uploadFile,allowedTypes:S,dataCapybara:"primary_logo",recommendedSize:x}),(!this.props.branding.color_enabled||(0,E.default)("learn_login_branding"))&&o.default.createElement(f.default,{name:I18n.t("Reversed Logo"),url:this.props.branding.reverse_logo_url,darkBackground:!0,description:I18n.t("Appears on dark backgrounds such as on login and splash screens. PNG required."),onChange:this.updateReverseLogo,onUploadFile:h.default.uploadFile,allowedTypes:S,dataCapybara:"reverse_logo",recommendedSize:x}),this.shouldRenderSubEditorLinks()&&o.default.createElement("div",{className:"border-t border-med-grey"},(0,E.default)("learn_login_branding")&&o.default.createElement(I.default,{displayText:I18n.t("Sign In and Splash"),to:"admin.branding.signin",dataCapybara:"signin_link"}),(0,E.default)("learn_learning_header_branding")&&o.default.createElement(I.default,{displayText:I18n.t("Learning Header"),to:"admin.branding.header",dataCapybara:"header_link"}),this.shouldRenderContentBrandingLink()&&o.default.createElement(I.default,{displayText:I18n.t("Course Content"),to:"admin.branding.content",dataCapybara:"fonts_link"})))}});t.default=A,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(27),s=n(13),i=n(5),o=i.Icon,l=n(6),u=n(2),c=u.bool,d=u.func,p=r.createClass({displayName:"HeaderBar",propTypes:{isSaving:c,isPublishing:c,hasUnpublishedChanges:c,onPublish:d},getDefaultProps:function(){return{isSaving:!1,isPublishing:!1,hasUnpublishedChanges:!1,onPublish:Function.prototype}},getSaveStatus:function(){return this.props.isPublishing?I18n.t("Publishing"):this.props.isSaving?I18n.t("Saving"):this.props.hasUnpublishedChanges?I18n.t("Changes saved"):I18n.t("Changes published")},renderButtons:function(){var e=this.props.isSaving||this.props.isPublishing||!this.props.hasUnpublishedChanges,t=l({"branding-editor__publish-button":!0,btn:!0,dark:!0,secondary:!0,disabled:e}),n=this.props.isPublishing?I18n.t("Updating..."):I18n.t("Publish");return r.createElement("button",{className:t,type:"button",onClick:!e&&this.props.onPublish},n)},render:function(){return r.createElement("div",{className:"authoring-heading white padding-t-s padding-l-m border-none shadow","data-capybara":"authoring_heading"},r.createElement("span",{className:"large authoring-heading__title","data-capybara":"authoring_heading_title"},I18n.t("Custom Branding")),r.createElement("span",{className:"authoring-heading__save-status","data-capybara":"authoring_save_status"},this.getSaveStatus()),r.createElement(s,{to:"admin.branding",className:"authoring-heading__menu-button"},r.createElement(a,{children:I18n.t("Close")}),r.createElement(o,{className:"gs-x gs-half white"})),r.createElement("span",{className:"right margin-r-m margin-t-xxs"},this.renderButtons()))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(740),h=r(m),g=n(739),v=r(g),_=n(2),y=n(901),b=r(y),E=n(1249),C=r(E),I=n(1248),T=r(I),N=n(2092),S=r(N),x=n(62),A=r(x),k=n(48),w=n(2085),R=r(w),O=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleLogoToggleChange=function(){var e=r.props,t=e.primaryBrandLogoUrl,n=e.headerBranding,a=function(e){var n=null;return e===n&&(n=t?"primary":"reverse"),n},s=function(e,t){return t&&!e?"default":null},i=a(n.brand_logo);r.props.onChange({brand_logo:i,title_contrast:s(i,n.brand_photo_url)})},r.handleLogoSelection=function(e){e!==r.props.headerBranding.brand_logo&&r.props.onChange({brand_logo:e})},r.handleBrandPhotoChange=function(e){var t=e.brand_photo_url,n=e.brand_photo_opacity,a=e.brand_photo_style,s=r.props.headerBranding,i=s.title_contrast;!t||s.brand_logo?i=null:s.brand_logo||i||(i="default"),r.props.onChange({brand_photo_url:t,brand_photo_opacity:n,brand_photo_style:a,title_contrast:i})},r.shouldRenderLogoSelection=function(){var e=r.props,t=e.headerBranding,n=e.primaryBrandLogoUrl,a=e.reverseBrandLogoUrl;return t.brand_logo&&n&&a},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.headerBranding,n=e.primaryBrandLogoUrl,r=e.reverseBrandLogoUrl,a=e.onChange,s=this.shouldRenderLogoSelection(),i=I18n.t("Swap the title for your logo. Upload logos in the previous screen.");return f.default.createElement(h.default,{displayText:I18n.t("Learning Header")},(n||r)&&f.default.createElement(v.default,{title:I18n.t("Brand Logo"),description:i,checked:!!t.brand_logo,onChange:this.handleLogoToggleChange,showBorders:!s,disabled:null!==t.custom_text,disabledTooltipMessage:I18n.t("Turn off Custom Title to enable Brand Logo."),dataCapybara:"brand_logo_title"}),s&&f.default.createElement(C.default,{primaryBrandLogoUrl:n,reverseBrandLogoUrl:r,currentSelection:t.brand_logo,handleSelection:this.handleLogoSelection}),f.default.createElement(R.default,{title:t.custom_text,onChange:a,disabled:!!t.brand_logo}),f.default.createElement(T.default,{name:I18n.t("Brand Photo"),description:I18n.t("Enhances the learning header with a photo. JPGs without text and logos work \t            best since the image will be cropped to fit within different screen sizes."),brandPhotoUrl:t.brand_photo_url,brandPhotoOpacity:t.brand_photo_opacity,brandPhotoStyle:t.brand_photo_style,onChange:this.handleBrandPhotoChange}),t.title_contrast&&f.default.createElement(S.default,{title:t.custom_text?t.custom_text:I18n.t("Learning"),reverseColor:A.default.isColorEnabled()?A.default.getColor():k.INDIGO,selectedValue:t.title_contrast,onChange:a}))}}]),t}(f.default.Component);O.propTypes={headerBranding:(0,_.shape)({brand_logo:(0,b.default)("string").isRequired,brand_photo_url:(0,b.default)("string").isRequired,brand_photo_opacity:(0,b.default)("number").isRequired,brand_photo_style:(0,b.default)("string").isRequired,custom_text:(0,b.default)("string").isRequired,title_contrast:(0,b.default)("string").isRequired}).isRequired,primaryBrandLogoUrl:(0,b.default)("string").isRequired,reverseBrandLogoUrl:(0,b.default)("string").isRequired,onChange:_.func.isRequired},O.defaultProps={headerBranding:{brand_logo:null,brand_photo_url:null,brand_photo_opacity:null,brand_photo_style:null,custom_text:null,title_contrast:null},primaryBrandLogoUrl:null,reverseBrandLogoUrl:null},t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(6),g=r(h),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e={backgroundColor:""+this.props.background},t=(0,g.default)("logo-selector__radio-button",{"border border-med-grey":!this.props.isSelected,"logo-selector__radio-button--selected":this.props.isSelected}),n=(0,g.default)("logo-selector__radio-button__logo border-b border-med-grey",{"logo-selector__radio-button__logo--unselected":!this.props.isSelected});return f.default.createElement("div",{className:t,onClick:this.props.onChange,"data-capybara":this.props.dataCapybara},f.default.createElement("div",{className:n,style:e},f.default.createElement("img",{className:this.props.logoClass,src:this.props.logoUrl,"aria-hidden":"true"})),f.default.createElement("div",{className:"logo-selector__radio-button__input"},f.default.createElement("input",{type:"radio",checked:this.props.isSelected,readOnly:!0})))}}]),t}(f.default.Component);v.propTypes={logoUrl:m.string.isRequired,logoClass:m.string.isRequired,background:m.string,isSelected:m.bool.isRequired,onChange:m.func.isRequired,dataCapybara:m.string},v.defaultProps={dataCapybara:"logo_radio_button"},t.default=v,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(186),s=n(11),i=n(6),o=n(62),l=n(2),u=l.string,c=l.number;e.exports=a.addScreen("email-notification",function(){return I18n.t("Email Notification")},r.createClass({displayName:"exports",propTypes:{courseTitle:u,message:u,requiredScore:c},getDefaultProps:function(){return{requiredScore:90}},getCourseTitle:function(){return this.props.courseTitle||I18n.t("%{year} Goal Planning",{year:s().add(3,"months").format("YYYY")})},renderEmail:function(){var e=o.getLogoUrl(!0),t=i("brand-logo email-preview","brand-logo--placeholder",o.getLogoClass(!0)),n=this.props.message||I18n.t("%{user}, you're enrolled in a new course:",{user:"Jeff Winger"});return r.createElement("table",{style:{fontFamily:"'Avenir', 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif",minWidth:"450px",maxWidth:"650px",width:"100%",background:"white",color:"#082a4c",margin:"0 auto"}},r.createElement("tbody",null,e&&r.createElement("tr",null,r.createElement("td",null,r.createElement("span",{className:t},r.createElement("img",{src:e,alt:o.getName(),onLoad:o.handleLogoLoaded.bind(o,!0)})))),r.createElement("tr",null,r.createElement("th",{style:{fontSize:"30px",fontWeight:100,textAlign:"left",padding:"20px 0"}},n)),r.createElement("tr",null,r.createElement("td",{style:{borderTop:"1px solid #e8ebf1",borderBottom:"1px solid #e8ebf1",padding:"22px 0",lineHeight:"24px"}},r.createElement("a",{className:"brand-color",style:{fontSize:"20px",textDecoration:"none",fontWeight:900}},this.getCourseTitle()),r.createElement("br",null),r.createElement("strong",null,I18n.t("Due Date"),":")," ",s().add(1,"months").format("LLLL"),r.createElement("br",null),r.createElement("strong",null,I18n.t("Required Score"),":")," ",this.props.requiredScore,"%")),r.createElement("tr",null,r.createElement("td",{className:"text-center"},r.createElement("a",{className:"brand-bg brand-border btn filled margin-t-m"},I18n.t("Go to Course"))))))},render:function(){return r.createElement("div",{className:"full-height scroll-y light-grey-bg",style:{padding:"0 125px"}},r.createElement("div",{className:"white-bg"},r.createElement("div",{className:"padding-trl-l padding-b-xs dark-grey margin-b-m border-grey border-b"},r.createElement("b",null,I18n.t("New Course - %{course}",{course:this.getCourseTitle()}))," ",r.createElement("br",null),s().format("LLL")," ",r.createElement("br",null),r.createElement("b",null,I18n.t("From"),":")," ",r.createElement("a",null,"Pointy Haired Boss")),r.createElement("div",{style:{paddingBottom:300}},this.renderEmail())))}}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(740),h=r(m),g=n(739),v=r(g),_=n(2),y=n(901),b=r(y),E=n(1249),C=r(E),I=n(1248),T=r(I),N=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleToggleChange=function(){var e=function(e){var t=null;return e===t&&(t=r.props.primaryBrandLogoUrl?"primary":"reverse"),t};r.props.onChange({brand_logo:e(r.props.signinBranding.brand_logo)})},r.handleLogoSelection=function(e){e!==r.props.signinBranding.brand_logo&&r.props.onChange({brand_logo:e})},r.shouldRenderLogoSelection=function(){var e=r.props,t=e.signinBranding,n=e.primaryBrandLogoUrl,a=e.reverseBrandLogoUrl;return t.brand_logo&&n&&a},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.signinBranding,n=e.primaryBrandLogoUrl,r=e.reverseBrandLogoUrl,a=e.onChange,s=I18n.t("Swap the Bridge logo for your own. Upload logos in the previous screen."),i=this.shouldRenderLogoSelection();return f.default.createElement(h.default,{displayText:I18n.t("Sign In and Splash")},(n||r)&&f.default.createElement(v.default,{title:I18n.t("Brand Logo"),description:s,checked:!!t.brand_logo,onChange:this.handleToggleChange,showBorders:!i,dataCapybara:"brand_logo_toggle"}),i&&f.default.createElement(C.default,{primaryBrandLogoUrl:n,reverseBrandLogoUrl:r,currentSelection:t.brand_logo,handleSelection:this.handleLogoSelection}),f.default.createElement(T.default,{name:I18n.t("Brand Photo"),description:I18n.t("Enhances the sign in form with a photo. JPGs without text and logos work \t            best since the image will be cropped to fit within different screen sizes."),brandPhotoUrl:t.brand_photo_url,brandPhotoOpacity:t.brand_photo_opacity,brandPhotoStyle:t.brand_photo_style,onChange:a}))}}]),t}(f.default.Component);N.propTypes={signinBranding:(0,_.shape)({brand_logo:(0,b.default)("string").isRequired,brand_photo_url:(0,b.default)("string").isRequired,brand_photo_opacity:(0,b.default)("number").isRequired,brand_photo_style:(0,b.default)("string").isRequired}).isRequired,primaryBrandLogoUrl:(0,b.default)("string").isRequired,reverseBrandLogoUrl:(0,b.default)("string").isRequired,onChange:_.func.isRequired},N.defaultProps={signinBranding:{brand_logo:null,brand_photo_url:null,brand_photo_opacity:null,brand_photo_style:null},primaryBrandLogoUrl:null,reverseBrandLogoUrl:null},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.changeTitleContrast=function(e){r.props.onChange({title_contrast:e})},r.setDefaultContrast=function(){r.changeTitleContrast("default")},r.setAccentContrast=function(){r.changeTitleContrast("accent")},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.reverseColor,r=e.selectedValue,a={backgroundColor:""+n};return f.default.createElement("div",{className:"padding-s"},f.default.createElement("span",null,I18n.t("Title Contrast")),f.default.createElement("div",{className:"contrast-selector"},f.default.createElement("div",{className:"contrast-selector__button",onClick:this.setDefaultContrast},f.default.createElement("input",{type:"radio",checked:"default"===r,readOnly:!0}),f.default.createElement("div",{className:"contrast-selector__text contrast-selector__text--primary"},t)),f.default.createElement("div",{className:"contrast-selector__button",onClick:this.setAccentContrast},f.default.createElement("input",{type:"radio",checked:"accent"===r,readOnly:!0}),f.default.createElement("div",{className:"contrast-selector__text contrast-selector__text--reverse",style:a},t))))}}]),t}(f.default.Component);h.propTypes={title:m.string.isRequired,reverseColor:m.string.isRequired,selectedValue:m.string.isRequired,onChange:m.func.isRequired},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(1),u=r(l),c=n(62),d=r(c),p=n(2086),f=r(p),m=n(2091),h=r(m),g=n(2084),v=r(g),_=n(2088),y=r(_),b=n(4),E=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,null,[{key:"build",value:function(e){var t=d.default.getBranding(!1);switch(e){case"signin":var n=function(e){d.default.saveDraftAndFetch({signin:(0,b.assign)({},t.signin,e)})};return u.default.createElement(h.default,{signinBranding:t.signin,primaryBrandLogoUrl:t.primary_logo_url,reverseBrandLogoUrl:t.reverse_logo_url,onChange:n});case"content":var r=function(e){d.default.saveDraftAndFetch({font:e})},a=function(e){d.default.saveDraftAndFetch({maintain_branding_in_sub_account:e})};return u.default.createElement(v.default,{maintainBrandingInSubAccount:t.maintain_branding_in_sub_account,onMaintainBrandingInSubAccountChange:a,font:t.font,onFontChange:r});case"header":var s=function(e){d.default.saveDraftAndFetch({header:(0,b.assign)({},t.header,e)})};return u.default.createElement(y.default,{headerBranding:t.header,primaryBrandLogoUrl:t.primary_logo_url,reverseBrandLogoUrl:t.reverse_logo_url,onChange:s});default:var i=function(e){d.default.saveDraftAndFetch(e)};return u.default.createElement(f.default,{branding:t,onChange:i})}}}]),e}();t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(93),u=r(l),c=n(67),d=r(c),p=n(22),f=r(p),m=n(471),h=r(m),g=n(1252),v=r(g),_=n(417),y=r(_),b=n(185),E=r(b),C=n(120),I=r(C),T=n(3),N=o.default.createClass({displayName:"AdminConfig",propTypes:{subAccount:n(275),auth:n(145),apps:(0,T.arrayOf)(E.default),isLoading:T.bool},getDefaultProps:function(){return{subAccount:h.default.newSubAccount(),auth:v.default.newAuth()}},render:function(){var e=this.props,t=e.subAccount,n=e.auth,r=e.apps,a=e.isLoading;return o.default.createElement("div",null,o.default.createElement("header",{className:"layout--item-header"},o.default.createElement("div",{className:"layout--item-header__content"},o.default.createElement("block",{className:"layout--item-header__details"},o.default.createElement("h1",{className:"h1 clearfix margin-none"},o.default.createElement("span",{className:"admin-config__account-name inline-block padding-t-xs"},t.name)),o.default.createElement("div",null,o.default.createElement("span",{className:"dark-grey margin-r-xs"},I18n.t("Creation Date:")),o.default.createElement("span",{className:"admin-config__account-created-at"},(0,I.default)(t.createdAt,"date")))))),o.default.createElement("nav",{className:"border-b border-grey margin-b-s-desktop horizontal-scrolling-nav"},o.default.createElement("div",{className:"large-content-area--padded centered clearfix button-set horizontal-scrolling-nav__container"},o.default.createElement(d.default,{to:"admin.config.settings",className:"dark-grey inline-block button-set__button"},I18n.t("Settings")),o.default.createElement(d.default,{to:"admin.config.auth",className:"dark-grey inline-block button-set__button"},I18n.t("Auth")),o.default.createElement(d.default,{to:"admin.config.api",className:"dark-grey inline-block button-set__button"},I18n.t("API")),o.default.createElement(d.default,{to:"admin.config.apps",className:"dark-grey inline-block button-set__button"},I18n.t("Apps")))),o.default.createElement(u.default,(0,s.default)({},this.props,{subAccount:t,auth:n,apps:r,isLoading:a})))}});t.default=(0,f.default)({type:N,asyncProps:{subAccount:{setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)},fetch:function(){return h.default.fetch()},get:function(){return h.default.get()}},auth:{setup:function(e){v.default.addChangeListener(e)},teardown:function(e){v.default.removeChangeListener(e)},fetch:function(){return v.default.fetch()},get:function(){return v.default.get()}},apps:{setup:function(e){y.default.addChangeListener(e)},teardown:function(e){y.default.removeChangeListener(e)},fetch:function(){return y.default.fetchAll()},get:function(){return y.default.getAll()}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.config",path:"/admin/config",ember:{parentPath:["admin"],sink:!0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(591),o=r(i),l=n(3),u=s.default.createClass({displayName:"ApiTokenCreatedModal",propTypes:{apiToken:n(216),onClose:l.func.isRequired},componentDidMount:function(){this.props.apiToken&&this.copyTextModal.openModal()},componentDidUpdate:function(e){null===e.apiToken&&this.props.apiToken!==e.apiToken&&this.copyTextModal.openModal()},render:function(){var e=this;return s.default.createElement(o.default,{ref:function(t){e.copyTextModal=t},title:I18n.t("Successfully created your new API token! Please copy and paste these credentials somewhere, since they won't be visible again."),items:this.copiableItems(),onClose:this.props.onClose,className:"api-tokens-created-modal"})},copiableItems:function(){var e=this.props.apiToken;return e?[{value:e.key,description:I18n.t("Key")},{value:e.secret,description:I18n.t("Secret")},{value:"Basic "+e.encoded,description:I18n.t("Authorization (encoded token)")
}]:[]}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(841),u=r(l),c=n(77),d=r(c),p=n(3),f=n(4),m=n(34),h=r(m),g=s.default.createClass({displayName:"ApiTokenEditor",mixins:[u.default],propTypes:{apiToken:n(216),roles:(0,p.arrayOf)(n(175)),onClose:p.func.isRequired,onSave:p.func.isRequired,isSaving:p.bool},getInitialState:function(){return{errors:{}}},componentDidMount:function(){this.props.apiToken&&this.openDrawerModal()},componentDidUpdate:function(e){this.props.apiToken!==e.apiToken&&(null===e.apiToken?this.openDrawerModal():null===this.props.apiToken&&this.closeModal())},render:function(){return this.props.apiToken?this.renderDrawerModal(this.renderApiTokenEditor(),!1,"api-tokens-editor",this.getTitle()):null},renderApiTokenEditor:function(){return s.default.createElement("div",null,this.renderHead(),this.renderBody())},renderHead:function(){return s.default.createElement("div",{className:"drawer-modal__head"},s.default.createElement("div",{className:"drawer-modal__content"},s.default.createElement("h2",null,this.getTitle()),s.default.createElement("div",{className:"drawer-modal__menu"},s.default.createElement(o.default,{className:"btn secondary",children:I18n.t("Cancel"),disabled:this.props.isSaving,onClick:this.props.onClose}),s.default.createElement(o.default,{className:"btn filled",children:this.props.isSaving?I18n.t("Saving"):I18n.t("Save"),disabled:this.props.isSaving,onClick:this.save}))))},renderBody:function(){var e=this.props.apiToken,t=this.state.errors;return s.default.createElement("div",{className:"drawer-modal__content drawer-modal__content--flex"},s.default.createElement("div",{className:"drawer-modal__content__col"},s.default.createElement("h3",null,I18n.t("Details")),s.default.createElement("div",{className:"margin-t-s"},s.default.createElement(d.default,{model:e,field:"key",label:I18n.t("Key"),type:"text",placeholder:I18n.t("Automatically generated"),disabled:!0,className:"input-field--medium"}),s.default.createElement(d.default,{model:e,field:"roleId",label:I18n.t("Role"),options:this.roleOptions(),activeOnEmptyValue:!0,onChange:this.roleChanged,type:"select",placeholder:"",className:"input-field--medium"}),s.default.createElement(d.default,{model:e,field:"description",label:I18n.t("Token Name"),type:"text",maxLength:"255",className:"input-field--medium api-tokens-editor__name",error:t.description,onBlur:this.descriptionBlurred})),s.default.createElement("div",{className:"margin-t-xs"},s.default.createElement(d.default,{model:e,field:"expiresAt",label:I18n.t("Expiration Date"),placeholder:I18n.t("No expiration"),type:"date",className:"input-field--time input-field--medium"}))))},descriptionBlurred:function(){var e=this.props.apiToken,t=this.state.errors,n=(e.description||"").trim();n?delete t.description:t.description=I18n.t("Please enter a valid name"),e.description=n,this.setState({errors:t})},roleChanged:function(e){e||(this.props.apiToken.roleId=null)},isValid:function(){return this.descriptionBlurred(),0===Object.keys(this.state.errors).length},save:function(){this.isValid()&&this.props.onSave()},closeModal:function(){this.closeDrawerModal(),this.setState({errors:{}})},getTitle:function(){return this.props.apiToken.id?I18n.t("Edit API Token"):I18n.t("Add API Token")},roleOptions:function(){var e=(0,f.sortBy)(this.props.roles,function(e){return e.name?e.name.toLowerCase():e.name}),t=(0,f.compact)([{name:I18n.t("Learner"),id:""},h.default.isSupportUser()?{name:I18n.t("SCIM"),id:"scim"}:null]);return t.concat(e).map(function(e){return{label:e.name,value:e.id}})}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2099),o=r(i),l=n(3),u=n(162),c=r(u),d=n(4),p=s.default.createClass({displayName:"ApiTokenList",propTypes:{apiTokens:(0,l.arrayOf)(n(216)),roles:(0,l.arrayOf)(n(175)),onEdit:l.func,onDelete:l.func},render:function(){var e=this.props.apiTokens;return s.default.createElement("table",{className:"sortable-table api-tokens-table"},s.default.createElement("thead",{className:"sortable-table__thead"},s.default.createElement("tr",{className:"sortable-table__tr"},s.default.createElement("th",{className:"th-40  sortable-table__th"},s.default.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Name/Token Number"))),s.default.createElement("th",{className:"th-20  sortable-table__th"},s.default.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Expiration"))),s.default.createElement("th",{className:"th-20 sortable-table__th"},s.default.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Role"))),s.default.createElement("th",{className:"text-center"}))),s.default.createElement("tbody",{className:"sortable-table__tbody"},(0,d.sortBy)(e,function(e){return parseInt(e.id,10)}).map(this.renderApiTokenRow),0===e.length&&s.default.createElement("tr",{className:"border-b border-grey centered padding-m"},s.default.createElement("td",{colSpan:"4",className:"text-center dark-grey"},I18n.t("There are no API tokens for this account.")))))},renderApiTokenRow:function(e){var t=this.props,n=t.roles,r=t.onDelete,a=t.onEdit;return s.default.createElement(o.default,{key:e.id,apiToken:e,roles:n,onEdit:(0,c.default)(a,e),onRemove:(0,c.default)(r,e)})}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(18),l=r(o),u=n(88),c=r(u),d=n(11),p=r(d),f=n(4),m=n(3),h=n(37),g=r(h),v=n(6),_=r(v),y=s.default.createClass({displayName:"ApiTokenRow",mixins:[c.default.mixin,(0,g.default)({isMobile:g.default.MEDIA_QUERY_MOBILE})],propTypes:{apiToken:n(216),roles:(0,m.arrayOf)(n(175)),onEdit:m.func.isRequired,onRemove:m.func.isRequired},renderRemovalForm:function(){var e=(0,_.default)({"pure-g":this.state.media.isMobile}),t=(0,_.default)("padding-none",{"pure-u-1":this.state.media.isMobile});return s.default.createElement("tr",{className:e},s.default.createElement("td",{colSpan:"4",className:t},s.default.createElement("div",{className:"removable-item removable-item--focused api-tokens-table__delete-row"},s.default.createElement("div",{className:"removable-item__title sortable-table__td"},this.renderTokenName(),this.renderTokenKey()),s.default.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Delete API token?")}),s.default.createElement("div",{className:"removable-item__buttons"},s.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center",children:I18n.t("Cancel"),onClick:this.cancelRemoval}),s.default.createElement("button",{type:"button",className:"btn--reset upcase small padding-rl-s text-center confirm-remove-learner pink",children:I18n.t("Delete"),onClick:this.remove})))))},render:function(){var e=this.props.apiToken,t="btn--reset padding-xs";return this.isConfirmingRemoval()?this.renderRemovalForm():s.default.createElement("tr",{key:e.id,className:"sortable-table__tr","data-capybara":"api_token_row"},s.default.createElement("td",{className:"sortable-table__td api-tokens-table__name-key"},this.renderTokenName(),this.renderTokenKey()),s.default.createElement("td",{className:"sortable-table__td"},this.formatDate(e.expiresAt)),s.default.createElement("td",{className:"sortable-table__td"},this.tokenRole()),s.default.createElement("td",{className:"text-center sortable-table__td"},s.default.createElement(l.default,{className:t,onClick:this.props.onEdit,"data-capybara":"edit_button"},s.default.createElement(i.Icon,{className:"gs-edit gs-1x dark-grey"})),s.default.createElement(l.default,{className:t,onClick:this.confirmRemoval,"data-capybara":"delete_button"},s.default.createElement(i.Icon,{className:"gs-x gs-1x dark-grey"}))))},renderTokenName:function(){var e=this.props.apiToken;return null===e.description||void 0===e.description?s.default.createElement("div",{className:"api-tokens-table__name dark-grey"},I18n.t("No Name")):s.default.createElement("div",{className:"api-tokens-table__name"},e.description)},renderTokenKey:function(){return s.default.createElement("div",{className:"api-tokens-table__key"},this.props.apiToken.key)},tokenRole:function(){var e=this.props.apiToken.roleId,t=(0,f.find)(this.props.roles,{id:e});return t?t.name:"scim"===e?I18n.t("SCIM"):I18n.t("Learner")},formatDate:function(e){return null===e||void 0===e?I18n.t("N/A"):(0,p.default)(e).format("LL")}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(18),l=r(o),u=n(3),c=n(2098),d=r(c),p=n(2097),f=r(p),m=n(2096),h=r(m),g=n(22),v=r(g),_=n(3297),y=r(_),b=n(642),E=r(b),C=n(19),I=r(C),T=n(4),N=s.default.createClass({displayName:"Api",propTypes:{apiTokens:(0,u.arrayOf)(n(216)),roles:(0,u.arrayOf)(n(175)),isSelfLoading:u.bool},getInitialState:function(){return{apiTokenBeingEdited:null,newlyCreatedApiToken:null,isSaving:!1}},render:function(){var e=this.props,t=e.isSelfLoading,n=e.apiTokens,r=e.roles,a=this.state,o=a.apiTokenBeingEdited,u=a.newlyCreatedApiToken,c=a.isSaving;return t&&!this.cachedRolesExist()?s.default.createElement(i.Loader,null):s.default.createElement("div",{className:"admin-config centered"},s.default.createElement("div",{className:"layout--list"},s.default.createElement("div",{className:"layout--list__header"},s.default.createElement("h2",{className:"layout--list__header-text medium"},I18n.t("API Tokens")),s.default.createElement(l.default,{className:"add-btn add-btn--detail",children:I18n.t("+ Add Token"),onClick:this.onCreate})),s.default.createElement("div",{className:"layout--list__content"},s.default.createElement(d.default,{apiTokens:n,roles:r,onEdit:this.onEdit,onDelete:this.onDelete})),s.default.createElement(f.default,{apiToken:o,roles:r,onClose:this.closeModal,onSave:this.onSave,isSaving:c}),s.default.createElement(h.default,{apiToken:u,onClose:this.closeModal})))},onCreate:function(){I.default.clear(),this.setState({apiTokenBeingEdited:{}})},onEdit:function(e){I.default.clear(),this.setState({apiTokenBeingEdited:(0,T.cloneDeep)(e)})},onSave:function(){var e=this,t=this.state.apiTokenBeingEdited;this.setState({isSaving:!0}),t.id?y.default.update(t).then(function(){e.closeModal(),(0,I.default)(I18n.t("Successfully updated the API token."))},function(){e.closeModal(),(0,I.default)(I18n.t("There was an issue updating the API token."),{type:"error"})}):y.default.create(t).then(function(t){e.closeModal(),e.setState({newlyCreatedApiToken:t})},function(){e.closeModal(),(0,I.default)(I18n.t("There was an issue creating your new API token."),{type:"error"})})},onDelete:function(e){I.default.clear(),y.default.delete(e,!0)},closeModal:function(){this.setState({apiTokenBeingEdited:null,newlyCreatedApiToken:null,isSaving:!1})},cachedRolesExist:function(){return this.props.roles.length>0}});t.default=(0,v.default)({type:N,loadingPropName:"isSelfLoading",asyncProps:{apiTokens:{setup:function(e){y.default.addChangeListener(e)},teardown:function(e){y.default.removeChangeListener(e)},fetch:function(){return y.default.fetchAll()},get:function(){return y.default.getAll()}},roles:{fetch:function(){return E.default.fetchAll({excludes:["custom"]})},get:function(){return E.default.getAll()}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.config.api",path:"api",parent:"admin.config",ember:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(31),l=r(o),u=n(2104),c=r(u),d=n(2111),p=r(d),f=n(2106),m=r(f),h=n(2112),g=r(h),v=n(2107),_=r(v),y=n(2110),b=r(y),E=n(471),C=r(E),I=n(417),T=r(I),N=n(185),S=r(N),x=n(3),A=n(20),k=r(A),w=s.default.createClass({displayName:"Apps",propTypes:{subAccount:n(275),apps:(0,x.arrayOf)(S.default),isLoading:x.bool},getDefaultProps:function(){return{subAccount:C.default.newSubAccount()}},render:function(){return this.props.isLoading?s.default.createElement(i.Loader,null):this.renderApps()},renderApps:function(){var e=this.props.subAccount,t=T.default.get("arc"),n=T.default.get("vimeo"),r=T.default.get("youtube"),a=T.default.get("dropbox"),i=l.default.get("DOMAIN.root");return s.default.createElement("div",{className:"admin-config large-content-area--main-container centered"},s.default.createElement(b.default,null),i&&s.default.createElement(_.default,{subAccount:e}),s.default.createElement(c.default,{app:t}),(0,k.default)("learn_youtube_vimeo_integrations")&&s.default.createElement(p.default,{app:n}),(0,k.default)("learn_youtube_vimeo_integrations")&&s.default.createElement(g.default,{app:r}),(0,k.default)("learn_youtube_vimeo_integrations")&&s.default.createElement(m.default,{app:a}),s.default.createElement("div",{className:"clear margin-b-l"}))},reload:function(){this.forceUpdate()}});t.default=w,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.config.apps",path:"apps",parent:"admin.config",ember:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(2105),u=r(l),c=n(417),d=r(c),p=n(185),f=r(p),m=s.default.createClass({displayName:"ArcIntegration",propTypes:{app:f.default},getInitialState:function(){return{isArcOn:!!this.props.app,status:null}},render:function(){var e=this.props.app,t=this.state,n=t.isArcOn,r=t.status;return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"arc",title:I18n.t("Arc"),description:I18n.t("Arc is the next-generation online video platform that unmutes learning by turning oneway, passive video into inclusive, productive discussion."),logoFilename:"arc-logo-horizontal.svg",logoSize:"small short",toggleOff:this.removeIntegration,toggleOn:this.onEdit,default:n,editLink:!0,toast:r,toastSuccess:I18n.t("We have successfully connected with your Arc account."),toastError:I18n.t("We are having issues connecting with your Arc account. Please check your credentials."),ref:"integration"}),s.default.createElement(u.default,{app:e||{},onCancel:this.onCancel,onSave:this.onSave,ref:"modal"}))},onEdit:function(){this.refs.modal.openModal()},onCancel:function(){this.state.isArcOn||this.refs.integration.disable()},onSave:function(e){this.setState({status:e,isArcOn:"success"===e})},removeIntegration:function(){d.default.update("arc",null),this.setState({status:null,isArcOn:!1})}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(5),u=n(77),c=r(u),d=n(27),p=r(d),f=n(143),m=r(f),h=n(417),g=r(h),v=n(185),_=r(v),y=n(4),b=n(3),E=n(12),C=n(19),I=r(C),T=s.default.createClass({displayName:"ArcIntegrationModal",mixins:[m.default],propTypes:{app:_.default,onCancel:b.func,onSave:b.func},getDefaultProps:function(){return{app:{},onCancel:Function.prototype,onSave:Function.prototype}},getInitialState:function(){return{errors:{}}},onCancel:function(){this.closeModal(),this.props.onCancel()},onBlur:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props.app,r=this.state.errors,a=(n[e]||"").trim(),s=!t||t.test(a);a&&s?delete r[e]:r[e]=I18n.t("Please enter a valid %{field}",{field:e}),n[e]=a,this.setState({errors:r})},onSave:function e(){var t=this,n=this.props,r=n.app,e=n.onSave,a=this.state.errors;this.onBlur("subdomain",E.REGEX_FORMAT_SUBDOMAIN),this.onBlur("key"),this.onBlur("secret"),this.isValid()&&(this.setState({isSaving:!0}),g.default.update("arc",r).then(function(){t.closeModal(),e("success")},function(e){var n=(0,y.get)(e,"responseJSON.errors[0].code"),r=(0,y.get)(e,"responseJSON.errors[0].title");"lti_integration_config_error"===n?(a.subdomain=r,t.setState({errors:a})):(0,I.default)(I18n.t("We are having issues connecting with your Arc account. Please check your credentials and try again."),{type:"error"})}).then(function(){t.setState({isSaving:!1})}))},isValid:function(){return(0,y.isEmpty)(this.state.errors)},render:function(){var e={className:"admin-config__integration-modal",onRequestClose:this.onCancel};return this.renderModal(this.renderModalContent(),e)},renderModalContent:function(){var e=this,t=this.props.app,n=this.state,r=n.errors,a=n.isSaving;return s.default.createElement("div",{className:"admin-config"},s.default.createElement("button",{type:"button",onClick:this.onCancel,className:"text-right right btn--reset padding-r-m pure-u-2-24 admin-config__integration-close-btn"},s.default.createElement(p.default,{children:I18n.t("Close")}),s.default.createElement(l.Icon,{className:"gs-x gs-1x dark-grey"})),s.default.createElement("div",{className:"admin-config__integration-form"},s.default.createElement("img",{src:"/images/arc-logo-horizontal.svg",alt:"Arc Logo",className:"admin-config__integration-logo admin-config__integration-logo--small admin-config__integration-logo--short"}),s.default.createElement("div",{className:"admin-config__integration-form-fields"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(c.default,{model:t,field:"subdomain",type:"text",className:"input-field--subdomain-prefix",label:I18n.t("Subdomain"),onBlur:function(){e.onBlur("subdomain",E.REGEX_FORMAT_SUBDOMAIN)},error:r.subdomain}),s.default.createElement("span",{className:"input-field__subdomain-suffix"},I18n.t(".instructuremedia.com"))),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(c.default,{model:t,field:"key",type:"text",className:"input-field--long",label:I18n.t("Key"),onBlur:function(){e.onBlur("key")},error:r.key})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(c.default,{model:t,field:"secret",type:"text",className:"input-field--long",label:I18n.t("Secret"),onBlur:function(){e.onBlur("secret")},error:r.secret}))),s.default.createElement("div",{className:"admin-config__field-wrap admin-config__btns"},s.default.createElement(o.default,{className:"btn filled",children:I18n.t("Save"),onClick:this.onSave,disabled:a}))))}});t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(741),o=r(i),l=n(185),u=r(l),c=s.default.createClass({displayName:"DropboxIntegration",propTypes:{app:u.default},getInitialState:function(){return{currentApp:this.props.app||{}}},componentWillReceiveProps:function(e){e.app!==this.props.app&&this.setState({currentApp:e.app||{}})},render:function(){return s.default.createElement(o.default,{currentApp:this.state.currentApp,isEnabled:!!this.props.app,name:"dropbox",title:I18n.t("Dropbox"),description:I18n.t("Allow Dropbox users to select and link to files within the editor."),disclaimer:I18n.t("This app is not created by, affiliated with, or supported by Dropbox, LLC."),logoFilename:"Dropbox.svg",logoSize:"small short",toastSuccess:I18n.t("We have successfully connected to Dropbox."),toastError:I18n.t("We are having issues connecting to Dropbox.")})}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(2108),u=r(l),c=n(471),d=r(c),p=s.default.createClass({displayName:"LyndaIntegration",propTypes:{subAccount:n(275)},getDefaultProps:function(){return{subAccount:d.default.newSubAccount()}},getInitialState:function(){return{isLyndaOn:!!this.props.subAccount.config.lyndaOrgId,status:null}},render:function(){var e=this.props.subAccount,t=this.state,n=t.isLyndaOn,r=t.status;return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"lynda",title:I18n.t("Lynda"),description:I18n.t("Lynda.com is a leading online learning company that helps anyone learn business, software, technology and creative skills to achieve personal and professional goals."),logoFilename:"lynda-logo-long.png",toggleOff:this.removeIntegration,toggleOn:this.onEdit,default:n,editLink:!0,toast:r,toastSuccess:I18n.t("We have successfully saved your Lynda.com credentials."),toastError:I18n.t("We are having issues saving your Lynda.com credentials."),ref:"integration"}),s.default.createElement(u.default,{subAccount:e,onCancel:this.onCancel,onSave:this.onSave,ref:"modal"}))},onEdit:function(){this.refs.modal.openModal()},onCancel:function(){this.state.isLyndaOn||this.refs.integration.disable()},onSave:function(e){this.setState({status:e,isLyndaOn:"success"===e})},removeIntegration:function(){d.default.update({config:{lyndaLibraryEnabled:!1,lyndaOrgId:null}}),this.setState({status:null,isLyndaOn:!1})}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(5),u=n(77),c=r(u),d=n(27),p=r(d),f=n(143),m=r(f),h=n(471),g=r(h),v=n(4),_=n(3),y=n(19),b=r(y),E=s.default.createClass({displayName:"LyndaIntegrationModal",mixins:[m.default],propTypes:{subAccount:n(275),onCancel:_.func,onSave:_.func},getDefaultProps:function(){return{subAccount:g.default.newSubAccount(),onCancel:Function.prototype,onSave:Function.prototype}},getInitialState:function(){return{errors:{}}},onCancel:function(){this.closeModal(),this.props.onCancel()},onLyndaOrgIdBlur:function(){var e=this.props.subAccount,t=this.state.errors,n=(e.config.lyndaOrgId||"").trim();n?delete t.lyndaOrgId:t.lyndaOrgId=I18n.t("Please enter a valid organization ID"),e.config.lyndaOrgId=n,this.setState({errors:t})},onSave:function e(){var t=this,n=this.props,r=n.subAccount,e=n.onSave,a=r.config,s=a.lyndaOrgId,i=a.lyndaLibraryEnabled;this.onLyndaOrgIdBlur(),this.isValid()&&(this.setState({isSaving:!0}),g.default.update({config:{lyndaOrgId:s,lyndaLibraryEnabled:i}}).then(function(){t.closeModal(),e("success")},function(){(0,b.default)(I18n.t("We are having issues saving your Lynda.com credentials."),{type:"error"})}).then(function(){t.setState({isSaving:!1})}))},isValid:function(){return(0,v.isEmpty)(this.state.errors)},render:function(){var e={className:"admin-config__integration-modal",onRequestClose:this.onCancel};return this.renderModal(this.renderModalContent(),e)},renderModalContent:function(){var e=this.props.subAccount,t=this.state,n=t.errors,r=t.isSaving;return s.default.createElement("div",{className:"admin-config"},s.default.createElement("button",{type:"button",onClick:this.onCancel,className:"text-right right btn--reset padding-r-m pure-u-2-24 admin-config__integration-close-btn"},s.default.createElement(p.default,{children:I18n.t("Close")}),s.default.createElement(l.Icon,{className:"gs-x gs-1x dark-grey"})),s.default.createElement("div",{className:"admin-config__integration-form"},s.default.createElement("img",{src:"/images/lynda-logo-long.png",alt:I18n.t("Lynda"),className:"admin-config__integration-logo"}),s.default.createElement("div",{className:"admin-config__integration-form-fields"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(c.default,{model:e.config,field:"lyndaOrgId",label:I18n.t("Lynda Organization ID"),type:"text",onBlur:this.onLyndaOrgIdBlur,error:n.lyndaOrgId})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(c.default,{model:e.config,field:"lyndaLibraryEnabled",type:"toggle",label:I18n.t("Enable Lynda Library for Learners")}))),s.default.createElement("div",{className:"admin-config__field-wrap admin-config__btns"},s.default.createElement(o.default,{className:"btn filled",children:I18n.t("Save"),onClick:this.onSave,disabled:r}))))}});t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(5),u=n(27),c=r(u),d=n(143),p=r(d),f=n(3),m=s.default.createClass({displayName:"ModalForAppIntegration",mixins:[p.default],propTypes:{onCancel:f.func,onSave:f.func,logoFilename:f.string,title:f.string,isSaving:f.bool,children:f.any},getDefaultProps:function(){return{onCancel:Function.prototype,onSave:Function.prototype}},onCancel:function(){this.closeModal(),this.props.onCancel()},render:function(){var e={className:"admin-config__integration-modal",onRequestClose:this.onCancel};return this.renderModal(this.renderModalContent(),e)},renderModalContent:function(){var e=this.props,t=e.children,n=e.isSaving,r=e.logoFilename,a=e.title;return s.default.createElement("div",{className:"admin-config"},s.default.createElement("button",{type:"button",onClick:this.onCancel,className:"text-right right btn--reset padding-r-m pure-u-2-24 admin-config__integration-close-btn"},s.default.createElement(c.default,{children:I18n.t("Close")}),s.default.createElement(l.Icon,{className:"gs-x gs-1x dark-grey"})),s.default.createElement("div",{className:"admin-config__integration-form"},s.default.createElement("img",{src:"/images/"+r,alt:I18n.t("%{title} Logo",{title:a}),className:"admin-config__integration-logo admin-config__integration-logo--small admin-config__integration-logo--short"}),t,s.default.createElement("div",{className:"admin-config__field-wrap admin-config__btns"},s.default.createElement(o.default,{className:"btn filled",children:I18n.t("Save"),onClick:this.props.onSave,disabled:n}))))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(31),o=r(i),l=n(115),u=r(l),c=n(2113),d=r(c),p=s.default.createClass({displayName:"SlackIntegration",propTypes:{},getInitialState:function(){return{status:null}},componentWillMount:function(){window.addEventListener("message",this.popupListener)},componentWillUnmount:function(){window.removeEventListener("message",this.popupListener)},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(u.default,{name:"slack",title:I18n.t("Slack"),description:I18n.t("Enable real-time notifications through Slack."),disclaimer:I18n.t("This app is not created by, affiliated with, or supported by Slack Technologies, Inc."),logoFilename:"slack_rgb.png",btnFilename:"slack_btn.png",addServiceUrl:"/integrations/slack/new",popup:!0,toggleOff:this.toggleOff,default:this.getSlackConfig().enabled,toast:this.state.status,toastSuccess:I18n.t("We have successfully connected with your Slack account. You can enable notifications in the Settings tab."),toastError:I18n.t("We are having issues connecting with your Slack account. Please check your credentials.")}))},toggleOff:function(){(0,d.default)(),o.default.set("DOMAIN.config.slack",{}),this.setState({status:null})},getSlackConfig:function(){return o.default.get("DOMAIN.config.slack",{})},popupListener:function(e){if(e.origin===window.location.origin&&"integrationStatus"===e.data.type){for(var t in e.data.newRuntimeConfig)o.default.set(t,e.data.newRuntimeConfig[t]);var n="1"===e.data.value?"success":"error";this.setState({status:n})}}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(741),o=r(i),l=n(185),u=r(l),c=s.default.createClass({displayName:"VimeoIntegration",propTypes:{app:u.default},getInitialState:function(){return{currentApp:this.props.app||{}}},componentWillReceiveProps:function(e){e.app!==this.props.app&&this.setState({currentApp:e.app||{}})},render:function(){return s.default.createElement(o.default,{currentApp:this.state.currentApp,isEnabled:!!this.props.app,name:"vimeo",title:I18n.t("Vimeo"),description:I18n.t("Vimeo is a video-sharing platform that allows users to upload, watch and share videos."),disclaimer:I18n.t("This app is not created by, affiliated with, or supported by Vimeo, LLC."),logoFilename:"vimeo_logo_blue.png",logoSize:"small short",toastSuccess:I18n.t("We have successfully connected to Vimeo."),toastError:I18n.t("We are having issues connecting to Vimeo.")})}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(741),o=r(i),l=n(185),u=r(l),c=n(3258),d=r(c),p=n(77),f=r(p),m=n(4),h=/^[a-z0-9_-]+$/i,g=s.default.createClass({displayName:"YoutubeIntegration",mixins:[d.default],propTypes:{app:u.default},getInitialState:function(){return{currentApp:this.props.app||{},errors:{}}},componentWillReceiveProps:function(e){e.app!==this.props.app&&this.setState({currentApp:e.app||{}})},render:function(){var e=this,t=this.state,n=t.currentApp,r=t.errors;return s.default.createElement(o.default,{currentApp:n,isEnabled:!!this.props.app,name:"youtube",title:I18n.t("YouTube"),description:I18n.t("YouTube is a video-sharing platform that allows users to upload, watch and share videos."),disclaimer:I18n.t("This app is not created by, affiliated with, or supported by YouTube, LLC."),logoFilename:"yt_logo_rgb_light.png",logoSize:"small short",toastSuccess:I18n.t("We have successfully connected to YouTube."),toastError:I18n.t("We are having issues connecting to YouTube."),validateFields:this.validateFields,hasErrors:this.hasErrors,onCancel:this.onCancel},s.default.createElement("div",{className:"admin-config__integration-form-fields"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(f.default,{model:n,field:"channelName",type:"text",className:"input-field--long",label:I18n.t("Channel ID (optional)"),details:I18n.t("Limit results of YouTube searches to the channel. This ID can be found in the channel's URL."),onBlur:function(){return e.onBlur(n,"channelName",h,I18n.t("channel ID"),!0)},error:r.channelName}))))},onCancel:function(){this.setState({errors:{}})},validateFields:function(){this.onBlur(this.state.currentApp,"channelName",h,I18n.t("channel ID"),!0)},hasErrors:function(){return!(0,m.isEmpty)(this.state.errors)}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.default)({url:"/api/admin/slack_integration",type:"DELETE"}).then(function(e){s.default.set("DOMAIN.config.slack",e.slack_config)})};var a=n(31),s=r(a),i=n(7),o=r(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(5),u=n(2126),c=r(u),d=n(2128),p=r(d),f=n(2127),m=r(f),h=n(2118),g=r(h),v=n(2119),_=r(v),y=n(2129),b=r(y),E=n(2130),C=r(E),I=n(2120),T=r(I),N=n(2121),S=r(N),x=n(2122),A=r(x),k=n(2123),w=r(k),R=n(2124),O=r(R),P=n(2125),L=r(P),M=n(2116),D=r(M),U=n(2117),F=r(U),q=n(20),B=r(q),j=n(3),H=n(99),G=o.default.createClass({displayName:"Auth",propTypes:{auth:n(145),isLoading:j.bool},componentWillReceiveProps:function(e){var t=(0,H.getAuthType)(e.auth);t!==this.state.authType&&this.setState({authType:t})},getInitialState:function(){return{authType:(0,H.getAuthType)(this.props.auth)}},render:function(){var e=this.props.auth,t=this.state.authType,n={auth:e,onCancel:this.onCancel};return this.props.isLoading?o.default.createElement(l.Loader,null):t===H.AUTH_TYPE_OKTA?o.default.createElement(C.default,(0,s.default)({logoFilename:"okta.png",subprovider:t},n)):t===H.AUTH_TYPE_PING?o.default.createElement(C.default,(0,s.default)({logoFilename:"ping.png",
subprovider:t},n)):t===H.AUTH_TYPE_ONELOGIN?o.default.createElement(C.default,(0,s.default)({logoFilename:"onelogin.png",subprovider:t},n)):t===H.AUTH_TYPE_SAML?o.default.createElement(C.default,(0,s.default)({logoFilename:"saml.png"},n)):t===H.AUTH_TYPE_GOOGLEOIDC?o.default.createElement(S.default,n):t===H.AUTH_TYPE_CAS?o.default.createElement(_.default,n):t===H.AUTH_TYPE_LDAP?o.default.createElement(w.default,n):t===H.AUTH_TYPE_OAUTH?o.default.createElement(L.default,n):t===H.AUTH_TYPE_AUTHMONGER_SAML?o.default.createElement(F.default,n):this.renderAuthOptions()},renderAuthOptions:function(){return o.default.createElement("div",{className:"admin-config large-content-area--main-container centered"},o.default.createElement(c.default,{onEnable:this.onEnable}),o.default.createElement(p.default,{onEnable:this.onEnable}),o.default.createElement(m.default,{onEnable:this.onEnable}),o.default.createElement(T.default,{onEnable:this.onEnable}),o.default.createElement(g.default,{onEnable:this.onEnable}),o.default.createElement(b.default,{onEnable:this.onEnable}),o.default.createElement(A.default,{onEnable:this.onEnable}),o.default.createElement(O.default,{onEnable:this.onEnable}),(0,B.default)("learn_authmonger_saml")&&o.default.createElement(D.default,{onEnable:this.onEnable}),o.default.createElement("div",{className:"clear margin-b-l"}))},onEnable:function(e){this.setState({authType:e})},onCancel:function(){this.setState({authType:H.AUTH_TYPE_BASIC})}});t.default=G,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.config.auth",path:"auth",parent:"admin.config",ember:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"AuthmongerSamlIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"authmonger-saml",title:(0,u.getAuthLabel)(u.AUTH_TYPE_AUTHMONGER_SAML),description:I18n.t("SAML provides an open-standard format for authentication and authorization between an identity provider and service provider."),logoFilename:"saml.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_AUTHMONGER_SAML)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(77),o=r(i),l=n(353),u=r(l),c=n(3),d=n(99),p=n(12),f=s.default.createClass({displayName:"AuthmongerSamlIntegrationForm",propTypes:{auth:n(145),onCancel:c.func},getInitialState:function(){return{errors:{}}},getValidations:function(){return{idpMetadataUrl:{label:I18n.t("URL"),format:p.REGEX_FORMAT_URI}}},render:function(){var e=this,t=this.props.auth,n=this.state.errors,r=Object.assign({errors:n,provider:d.AUTH_TYPE_OAUTH,subprovider:d.AUTH_TYPE_AUTHMONGER_SAML,logoFilename:"saml.png",onError:function(t){return e.setState({errors:t})},validations:this.getValidations(),ref:"form"},this.props);return s.default.createElement(u.default,r,s.default.createElement("div",{className:"admin-config__center-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"idpMetadataUrl",label:I18n.t("Identity Provider Metadata URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("idpMetadataUrl")},error:n.idpMetadataUrl}),s.default.createElement(o.default,{model:t,field:"providerUuid",label:I18n.t("Identity Provider UUID"),type:"text",onBlur:function(){return e.refs.form.onBlur("providerUuid")},error:n.providerUuid}))))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"CasIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"cas",title:(0,u.getAuthLabel)(u.AUTH_TYPE_CAS),description:I18n.t("CAS provides enterprise single sign-on service for the Web."),logoFilename:"cas.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_CAS)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(77),o=r(i),l=n(353),u=r(l),c=n(3),d=n(12),p=n(99),f=s.default.createClass({displayName:"CasIntegrationForm",propTypes:{auth:n(145),onCancel:c.func},getInitialState:function(){return{errors:{}}},getValidations:function(){return{url:{label:I18n.t("URL"),format:d.REGEX_FORMAT_URI},logoutPath:{label:I18n.t("path")}}},render:function(){var e=this,t=this.props.auth,n=this.state.errors,r=Object.assign({errors:n,provider:p.AUTH_TYPE_CAS,logoFilename:"cas.png",onError:function(t){return e.setState({errors:t})},validations:this.getValidations(),ref:"form"},this.props);return s.default.createElement(u.default,r,s.default.createElement("div",{className:"admin-config__center-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"url",label:I18n.t("Auth URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("url")},error:n.url})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"logoutPath",label:I18n.t("Logout Path"),type:"text",onBlur:function(){return e.refs.form.onBlur("logoutPath")},error:n.logoutPath}))))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"GoogleOidcIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"google-oidc",title:(0,u.getAuthLabel)(u.AUTH_TYPE_GOOGLEOIDC),description:I18n.t("Google Sign-In is your gateway to connecting with Google's users and services in a secure manner."),logoFilename:"googleoidc.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_GOOGLEOIDC)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(77),o=r(i),l=n(353),u=r(l),c=n(31),d=r(c),p=n(3),f=n(99),m=d.default.get("AUTHMONGER_URL")+"/google-oidc/callback",h=s.default.createClass({displayName:"GoogleOidcIntegrationForm",propTypes:{auth:n(145),onCancel:p.func},getInitialState:function(){return{errors:{}}},getValidations:function(){return{clientId:{},clientSecret:{}}},render:function(){var e=this,t=this.props.auth,n=this.state.errors,r=Object.assign({errors:n,provider:f.AUTH_TYPE_OAUTH,subprovider:f.AUTH_TYPE_GOOGLEOIDC,logoFilename:"googleoidc.png",onError:function(t){return e.setState({errors:t})},validations:this.getValidations(),ref:"form"},this.props);return s.default.createElement(u.default,r,s.default.createElement("p",{className:"admin-config__instructions text-center"},I18n.t("Please add "),s.default.createElement("strong",{className:"nowrap"},m),I18n.t(" as an authorized redirect URI.")),s.default.createElement("div",{className:"admin-config__center-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"clientId",label:I18n.t("Client ID"),type:"text",onBlur:function(){return e.refs.form.onBlur("clientId")},error:n.clientId})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"clientSecret",label:I18n.t("Client Secret"),type:"text",onBlur:function(){return e.refs.form.onBlur("clientSecret")},error:n.clientSecret}))))}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"LdapIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"ldap",title:(0,u.getAuthLabel)(u.AUTH_TYPE_LDAP),description:I18n.t("LDAP provides an easy way to access and maintain distributed directory information services."),logoFilename:"ldap.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_LDAP)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(77),o=r(i),l=n(353),u=r(l),c=n(3),d=n(12),p=n(99),f=s.default.createClass({displayName:"LdapIntegrationForm",propTypes:{auth:n(145),onCancel:c.func},getInitialState:function(){return{errors:{}}},getValidations:function(){return{host:{label:I18n.t("hostname"),format:d.REGEX_FORMAT_HOST},port:{label:I18n.t("number"),format:d.REGEX_FORMAT_INTEGER},base:{label:I18n.t("distinguished name"),format:d.REGEX_FORMAT_DISTINGUISHED_NAME},method:{message:I18n.t("Please choose a method")},uid:{label:I18n.t("unique identifier")},bindDn:{label:I18n.t("distinguished name"),format:d.REGEX_FORMAT_DISTINGUISHED_NAME,optional:!0}}},getMethodOptions:function(){return[{label:I18n.t("Choose One"),value:""},{label:I18n.t("Plain"),value:"plain"},{label:I18n.t("SSL"),value:"ssl"},{label:I18n.t("TLS"),value:"tls"}]},render:function(){var e=this,t=this.props.auth,n=this.state.errors,r=Object.assign({errors:n,provider:p.AUTH_TYPE_LDAP,logoFilename:"ldap.png",onError:function(t){return e.setState({errors:t})},validations:this.getValidations(),ref:"form"},this.props);return s.default.createElement(u.default,r,s.default.createElement("input",{type:"password",className:"hidden","aria-hidden":!0})," ",s.default.createElement("div",{className:"admin-config__left-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"title",label:I18n.t("Title"),type:"text",error:n.title})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"host",label:I18n.t("Host"),type:"text",onBlur:function(){return e.refs.form.onBlur("host")},error:n.host})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"port",label:I18n.t("Port"),type:"text",onBlur:function(){return e.refs.form.onBlur("port")},error:n.port})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"base",label:I18n.t("Base DN"),type:"text",onBlur:function(){return e.refs.form.onBlur("base")},error:n.base})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"method",label:I18n.t("Method"),placeholder:"",type:"select",options:this.getMethodOptions(),onChange:function(){return e.refs.form.onBlur("method")},error:n.method}))),s.default.createElement("div",{className:"admin-config__right-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"uid",label:I18n.t("Unique ID"),type:"text",onBlur:function(){return e.refs.form.onBlur("uid")},error:n.uid})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"filter",label:I18n.t("Filter"),type:"text",error:n.filter})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"bindDn",label:I18n.t("Bind DN"),type:"text",onBlur:function(){return e.refs.form.onBlur("bindDn")},error:n.bindDn})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"password",label:I18n.t("Password"),type:"password",error:n.password,autoComplete:"new-password"}))),s.default.createElement("div",{className:"clear"}))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"OAuthIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"oauth",title:(0,u.getAuthLabel)(u.AUTH_TYPE_OAUTH),description:I18n.t("An open protocol to allow secure authorization in a simple and standard method from web, mobile and desktop applications."),logoFilename:"oauth.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_OAUTH)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(77),o=r(i),l=n(353),u=r(l),c=n(31),d=r(c),p=n(3),f=n(99),m=n(12),h=d.default.get("AUTHMONGER_URL")+"/oauth2/callback",g=s.default.createClass({displayName:"OAuthIntegrationForm",propTypes:{auth:n(145),onCancel:p.func,subprovider:p.string},getInitialState:function(){return{auth:{tokenAsHeader:!0},errors:{}}},getValidations:function(){return{clientId:{label:I18n.t("Client ID")},clientSecret:{label:I18n.t("Client Secret")},authorizeUrl:{label:I18n.t("URL"),format:m.REGEX_FORMAT_URI},tokenUrl:{label:I18n.t("URL"),format:m.REGEX_FORMAT_URI},profileUrl:{label:I18n.t("URL"),format:m.REGEX_FORMAT_URI}}},render:function(){var e=this,t=this.props,n=t.auth,r=t.subprovider,a=this.state.errors,i=Object.assign({errors:a,provider:f.AUTH_TYPE_OAUTH,logoFilename:"oauth.png",onError:function(t){return e.setState({errors:t})},validations:this.getValidations(),ref:"form"},this.props);return s.default.createElement(u.default,i,!r&&s.default.createElement("div",null,s.default.createElement("h2",null,I18n.t("OAuth 2.0 / OpenID Connect")),s.default.createElement("p",null,I18n.t("To configure an OAuth 2.0 provider you need the authorize, profile, and token URLs. You also need a Client ID and Secret. If the provider can configure valid callback or redirect URLs, use "),s.default.createElement("strong",{className:"nowrap"},h))),s.default.createElement("div",{className:"admin-config__left-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"clientId",label:I18n.t("Client ID"),type:"text",onBlur:function(){return e.refs.form.onBlur("clientId")},error:a.clientId})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"authorizeUrl",label:I18n.t("Authorize URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("authorizeUrl")},error:a.authorizeUrl})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"profileUrl",label:I18n.t("Profile URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("profileUrl")},error:a.profileUrl})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"loginAttribute",label:I18n.t("Login Attribute"),type:"text",onBlur:function(){return e.refs.form.onBlur("loginAttribute")},error:a.loginAttribute}))),s.default.createElement("div",{className:"admin-config__right-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"clientSecret",label:I18n.t("Client Secret"),type:"text",onBlur:function(){return e.refs.form.onBlur("clientSecret")},error:a.clientSecret})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"tokenUrl",label:I18n.t("Token URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("tokenUrl")},error:a.tokenUrl})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"scope",label:I18n.t("Scope"),type:"text",onBlur:function(){return e.refs.form.onBlur("scope")},error:a.scope})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:n,field:"justInTimeProvisioning",label:I18n.t("Just in Time Provisioning"),type:"toggle",onBlur:function(){return e.refs.form.onBlur("justInTimeProvisioning")},error:a.justInTimeProvisioning})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:this.withTokenDefault(n),field:"tokenAsHeader",label:I18n.t("Use Access Token as Auth Header for User Profile Requests"),type:"toggle",onBlur:function(){return e.refs.form.onBlur("tokenAsHeader")},error:a.tokenAsHeader}))),s.default.createElement("div",{className:"clear"}))},withTokenDefault:function(e){var t=this.state.auth.tokenAsHeader,n=void 0===e.tokenAsHeader?t:e.tokenAsHeader;return Object.assign(e,{tokenAsHeader:n})}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"OktaIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"okta",title:(0,u.getAuthLabel)(u.AUTH_TYPE_OKTA),description:I18n.t("Millions of people rely on Okta to securely connect to the technologies and services that let them do their most important work."),logoFilename:"okta.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_OKTA)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"OneLoginIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"oneLogin",title:(0,u.getAuthLabel)(u.AUTH_TYPE_ONELOGIN),description:I18n.t("OneLogin simplifies Identity and Access Management (IAM) for a more efficient, secure enterprise, delivering an identity management software solution in the cloud trusted by thousands of customers."),logoFilename:"onelogin.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_ONELOGIN)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"PingIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"ping",title:(0,u.getAuthLabel)(u.AUTH_TYPE_PING),description:I18n.t("We provide a unified Identity Defined Security platform that's built to the highest standards of scalability, security and performance."),logoFilename:"ping.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_PING)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(115),o=r(i),l=n(3),u=n(99),c=s.default.createClass({displayName:"SamlIntegration",propTypes:{onEnable:l.func},render:function(){return s.default.createElement("div",{className:"admin-config__integration"},s.default.createElement(o.default,{name:"saml",title:(0,u.getAuthLabel)(u.AUTH_TYPE_SAML),description:I18n.t("SAML provides an open-standard format for authentication and authorization between an identity provider and service provider."),logoFilename:"saml.png",default:!1,enableLink:!0,toggle:!1,toggleOn:this.onEnable}))},onEnable:function(){this.props.onEnable(u.AUTH_TYPE_SAML)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(77),o=r(i),l=n(353),u=r(l),c=n(3),d=n(896),p=n(99),f=n(12),m=s.default.createClass({displayName:"SamlIntegrationForm",propTypes:{auth:n(145),subprovider:c.string,logoFilename:c.string,onCancel:c.func},getInitialState:function(){return{errors:{}}},getValidations:function(){return{idpEntityId:{label:I18n.t("identifier")},idpSsoTargetUrl:{label:I18n.t("URL"),format:f.REGEX_FORMAT_URI},idpSloTargetUrl:{label:I18n.t("URL"),format:f.REGEX_FORMAT_URI,optional:!0},logoutRedirectUrl:{label:I18n.t("URL"),format:f.REGEX_FORMAT_URI,optional:!0},allowedClockDrift:{label:I18n.t("number"),format:f.REGEX_FORMAT_INTEGER,optional:!0}}},getNameIdOptions:function(){return(0,d.getSamlNameIds)().map(function(e){return{label:e.label,value:e.value}})},render:function(){var e=this,t=this.props.auth,n=this.state.errors,r=Object.assign({errors:n,onError:function(t){return e.setState({errors:t})},validations:this.getValidations(),provider:p.AUTH_TYPE_SAML,ref:"form"},this.props);return s.default.createElement(u.default,r,s.default.createElement("div",{className:"admin-config__left-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"idpEntityId",label:I18n.t("IdP Entity ID"),type:"text",onBlur:function(){return e.refs.form.onBlur("idpEntityId")},error:n.idpEntityId})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"idpCertFingerprint",label:I18n.t("Certificate Fingerprint"),type:"text",error:n.idpCertFingerprint})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"idpCert",label:I18n.t("X509 PEM Certificate"),type:"textarea",scrollable:!0,error:n.idpCert})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"idpSsoTargetUrl",label:I18n.t("Single Sign On URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("idpSsoTargetUrl")},error:n.idpSsoTargetUrl})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"idpSloTargetUrl",label:I18n.t("Single Logout URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("idpSloTargetUrl")},error:n.idpSloTargetUrl}))),s.default.createElement("div",{className:"admin-config__right-col"},s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"logoutRedirectUrl",label:I18n.t("Logout Redirect URL"),type:"text",onBlur:function(){return e.refs.form.onBlur("logoutRedirectUrl")},error:n.logoutRedirectUrl})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"nameIdentifierFormat",label:I18n.t("NameID Format"),placeholder:"",type:"select",options:this.getNameIdOptions(),error:n.nameIdentifierFormat})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"authnContext",label:I18n.t("Authentication Context"),type:"text",error:n.authnContext})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"allowedClockDrift",label:I18n.t("Allowed Clock Drift, in seconds"),type:"text",onBlur:function(){return e.refs.form.onBlur("allowedClockDrift")},error:n.allowedClockDrift})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"skipConditions",label:I18n.t("Skip conditions validations"),type:"toggle",error:n.skipConditions})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"skipSubjectConfirmation",label:I18n.t("Skip subject confirmation validations"),type:"toggle",error:n.skipSubjectConfirmation})),s.default.createElement("div",{className:"admin-config__field-wrap"},s.default.createElement(o.default,{model:t,field:"customizeSamlEntityId",label:I18n.t("Use customized entity ID"),type:"toggle",error:n.customizeSamlEntityId}))),s.default.createElement("div",{className:"clear"}))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(5),u=n(31),c=r(u),d=n(18),p=r(d),f=n(77),m=r(f),h=n(798),g=r(h),v=n(108),_=r(v),y=n(373),b=r(y),E=n(471),C=r(E),I=n(149),T=r(I),N=n(29),S=r(N),x=n(20),A=r(x),k=n(19),w=r(k),R=n(177),O=n(3),P=n(4),L=n(12),M=o.default.createClass({displayName:"Settings",propTypes:{subAccount:n(275),isLoading:O.bool},getDefaultProps:function(){return{subAccount:C.default.newSubAccount()}},getInitialState:function(){var e=this.props.subAccount;return{config:e.config||{},errors:{},hasIframeHost:!!e.config.iframeHost,isSaving:!1}},componentWillReceiveProps:function(e){var t=this.state.config||{},n=e.subAccount.config||{},r={config:n};t.iframeHost!==n.iframeHost&&(r=(0,s.default)({},r,{hasIframeHost:!!n.iframeHost})),(0,P.isEqual)(this.props,e)||(r=(0,s.default)({},r,{errors:{}})),this.setState(r)},componentWillMount:function(){_.default.fetchAll()},componentDidMount:function(){(0,R.redirectIfFreeOrLiteAccount)()},onChange:function(){this.forceUpdate()},render:function(){return this.props.isLoading?o.default.createElement(l.Loader,null):this.renderForm()},renderPasswordConfig:function(){var e=this.state,t=e.config,n=e.errors,r=!(0,S.default)("manage_password_requirements");return[o.default.createElement("h3",{key:"pwc_h3",className:"admin-config__header"},I18n.t("Password Requirements")),o.default.createElement("div",{key:"pwc_lc",className:"admin-config__left-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"passwordRequiresUppercase",disabled:r,type:"toggle",label:I18n.t("Require uppercase letters")})),o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,disabled:r,field:"passwordRequiresNumbers",type:"toggle",label:I18n.t("Require numbers")}))),o.default.createElement("div",{key:"pwc_rc",className:"admin-config__right-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{disabled:r,model:t,field:"passwordRequiresSymbols",type:"toggle",label:I18n.t("Require symbols")})),o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{disabled:r,model:t,field:"passwordMinimumLength",label:I18n.t("Minimum Character Limit"),onBlur:this.onPasswordLimitBlur,error:n.passwordMinimumLength})))]},renderForm:function(){var e=this.state,t=e.config,n=e.errors,r=e.hasIframeHost,a=e.isSaving,s=c.default.get("DOMAIN.root");return o.default.createElement("div",{className:"admin-config large-content-area--main-container centered"},o.default.createElement("div",{className:"admin-config__left-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(g.default,{model:t,field:"locale",label:I18n.t("Language"),locales:_.default.getAll()})),o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(b.default,{value:t.timeZone,label:I18n.t("Default Timezone"),onChange:this.onTimeZoneChanged}))),o.default.createElement("div",{className:"admin-config__right-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"limitedManagers",type:"toggle",label:I18n.t("Limit Manager Permissions")})),s&&o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:this.state,field:"hasIframeHost",type:"toggle",onChange:this.onChange,label:I18n.t("Allow Bridge to be Embedded in an iFrame")})),s&&r&&o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"iframeHost",label:I18n.t("iFrame Host"),onBlur:this.onIframeHostBlur,error:n.iframeHost}))),o.default.createElement("h3",{className:"admin-config__header"},I18n.t("Notifications")),o.default.createElement("div",{className:"admin-config__left-col admin-config__left-col--small"},o.default.createElement("div",{className:"admin-config__field-wrap left"},o.default.createElement(m.default,{model:t,field:"notifications",type:"toggle",onChange:this.onChange,label:I18n.t("Email")})),(0,A.default)("slack")&&o.default.createElement("div",{className:"admin-config__field-wrap right"},o.default.createElement(m.default,{model:t,field:"chatNotifications",type:"toggle",label:I18n.t("Slack")}))),t.notifications&&o.default.createElement("div",{className:"admin-config__left-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"fromLabel",label:I18n.t("Custom From Label")}))),t.notifications&&o.default.createElement("div",{className:"admin-config__right-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"replyTo",label:I18n.t("Reply To Address"),onBlur:this.onReplyToBlur,error:n.replyTo}))),(0,A.default)("password_complexity")&&this.renderPasswordConfig(),o.default.createElement("h3",{className:"admin-config__header"},I18n.t("Custom Support Contact Information")),o.default.createElement("div",{className:"admin-config__left-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"showCustomSupportInfo",type:"toggle",label:I18n.t("Custom Support Information")}))),o.default.createElement("div",{className:"admin-config__left-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"supportName",label:I18n.t("Name")})),o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"supportEmail",label:I18n.t("Email or Ticket URL"),onBlur:this.onSupportEmailBlur,error:n.supportEmail})),(0,A.default)("learn_sub_account_support_settings")&&o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"customerProvidedSupportChatUrl",label:I18n.t("Chat URL"),onBlur:this.onSupportChatUrlBlur,error:n.customerProvidedSupportChatUrl}))),o.default.createElement("div",{className:"admin-config__right-col"},o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"supportPhone",label:I18n.t("Phone"),onBlur:this.onSupportPhoneBlur,error:n.supportPhone})),(0,A.default)("learn_sub_account_support_settings")&&o.default.createElement("div",{className:"admin-config__field-wrap"},o.default.createElement(m.default,{model:t,field:"customerProvidedSupportHelpArticlesUrl",label:I18n.t("Help Articles URL"),onBlur:this.onSupportHelpArticlesUrlBlur,
error:n.customerProvidedSupportHelpArticlesUrl}))),o.default.createElement("div",{className:"admin-config__field-wrap admin-config__btns"},o.default.createElement(p.default,{className:"btn filled",children:I18n.t("Save"),onClick:this.onSave,disabled:a||!this.isValid()})))},onIframeHostBlur:function(){var e=this,t=this.state.config;t.iframeHost=t.iframeHost.split(/\s*,?\s+/).join(" "),t.iframeHost.split(/\s+/).forEach(function(n){e.onValidateField(t,"iframeHost",n,[L.REGEX_FORMAT_URI],I18n.t("URL"))})},onSupportPhoneBlur:function(){this.onValidateField(this.state.config,"supportPhone",null,[L.REGEX_FORMAT_PHONE],I18n.t("phone number"))},onSupportEmailBlur:function(){this.onValidateField(this.state.config,"supportEmail",null,[L.REGEX_FORMAT_EMAIL,L.REGEX_FORMAT_URI],I18n.t("email or URL"))},onSupportChatUrlBlur:function(){this.onValidateField(this.state.config,"customerProvidedSupportChatUrl",null,[L.REGEX_FORMAT_URI],I18n.t("URL"))},onSupportHelpArticlesUrlBlur:function(){this.onValidateField(this.state.config,"customerProvidedSupportHelpArticlesUrl",null,[L.REGEX_FORMAT_URI],I18n.t("URL"))},onReplyToBlur:function(){this.onValidateField(this.state.config,"replyTo",null,[L.REGEX_FORMAT_EMAIL],I18n.t("email"))},onPasswordLimitBlur:function(){var e=this.state,t=e.config,n=e.errors,r=parseInt(t.passwordMinimumLength,10),a=r&&r>0&&r<=L.MAXIMUM_PASSWORD_LIMIT;a&&(t.passwordMinimumLength=r),t.passwordMinimumLength&&!a?n.passwordMinimumLength=I18n.t("Please enter a valid password limit between 1 and 20"):delete n.passwordMinimumLength,this.setState({errors:n})},valueIsValid:function(e,t){return!e||t.reduce(function(t,n){return t||n.test(e)},!1)},onValidateField:function(e,t,n,r,a){var s=this.state.errors,i=(e[t]||"").trim();n=(n||i).trim(),this.valueIsValid(n,r)?delete s[t]:s[t]=I18n.t("Please enter a valid %{label}",{label:a}),e[t]=i,this.setState({errors:s})},onTimeZoneChanged:function(e){this.setState({config:(0,s.default)({},this.state.config,{timeZone:e})})},onSave:function(){var e=this,t=this.props.subAccount,n=(0,s.default)({},t,{config:this.state.config});this.state.hasIframeHost||(n.config.iframeHost=null),this.setState({isSaving:!0}),C.default.update(n).then(function(){(0,w.default)(I18n.t("Account has been successfully updated!")),n.config.timeZone!==t.config.timeZone&&T.default.fetch()},function(){(0,w.default)(I18n.t("An error occurred when updating this account.",{type:"error"}))}).then(function(){e.setState({isSaving:!1})})},isValid:function(){var e=this.state,t=e.hasIframeHost,n=e.config,r=Object.keys(this.state.errors);return t||(0,P.pull)(r,"iframeHost"),n.notifications||(0,P.pull)(r,"replyTo"),0===r.length}});t.default=M,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.config.settings",path:"settings",parent:"admin.config",ember:!1,default:!0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(185),o=r(i);t.default=(0,s.default)({url:"/api/config/sub_account/apps",schema:o.default,parse:function(e,t){return(0,i.parse)(e,t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a);t.default=(0,s.default)({url:"/api/config/sub_account/auth",schema:n(145),parse:function(e,t){return e(t.auths[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(40),o=r(i),l=n(7),u=r(l),c=n(185),d=r(c);t.default=(0,s.default)({schema:d.default,perform:function(e,t){var n={};return n[e]=t&&(0,o.default)(t),(0,u.default)({url:"/api/config/sub_account/apps",type:"PATCH",dataType:"json",data:{apps:n}})},parse:function(e,t){return(0,c.parse)(e,t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(40),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:n(145),perform:function(e){return(0,u.default)({url:"/api/config/sub_account/auth",type:"PATCH",dataType:"json",data:{auth:(0,o.default)(e)}})},parse:function(e,t){return e(t.auths[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(20),o=r(i),l=n(13),u=r(l),c=n(3),d=n(5),p=n(50),f=n(1404),m=r(f),h=s.default.createClass({displayName:"AdminCsvLog",propTypes:{params:(0,c.shape)({importId:c.string})},getInitialState:function(){return{importObject:null}},componentDidMount:function(){this.fetchImportObject()},fetchImportObject:function(){var e=this;return(0,m.default)(this.props.params.importId).then(function(t){e.setState({importObject:t})})},renderRows:function(){return this.state.importObject?this.state.importObject.invalidRows.map(function(e,t){return s.default.createElement(p.Tr,{key:"tr-"+t},s.default.createElement(p.Td,{key:"td-error-row-"+t},t+1),s.default.createElement(p.Td,{key:"td-error-"+t},e))}):null},render:function(){return(0,o.default)("csv_logs_page")?this.state.importObject?s.default.createElement("div",{className:"admin-csv-logs"},s.default.createElement("div",{className:"admin-csv-logs__back"},s.default.createElement(u.default,{to:"admin.csvlogs"},s.default.createElement(d.Icon,{className:"gs-arrow-left gs-1x margin-r-xs"}),I18n.t("Back to CSV Import Logs"))),s.default.createElement("div",{className:"admin-csv-logs__content"},s.default.createElement("div",{className:"admin-csv-logs__content-info"},s.default.createElement("span",{className:"admin-csv-logs__added-label"},I18n.t("Users Added:")),s.default.createElement("span",{className:"admin-csv-logs__added-value"},this.state.importObject.newUserCount),s.default.createElement("span",{className:"admin-csv-logs__removed-label"},I18n.t("Users Removed:")),s.default.createElement("span",{className:"admin-csv-logs__removed-value"},this.state.importObject.deletedUserCount),s.default.createElement("span",{className:"admin-csv-logs__modified-label"},I18n.t("Users Modified:")),s.default.createElement("span",{className:"admin-csv-logs__modified-value"},this.state.importObject.updatedUserCount)),this.state.importObject.invalidRows.length>0&&s.default.createElement("div",null,s.default.createElement("h2",null," ",I18n.t("Errors")),s.default.createElement(p.Table,null,s.default.createElement(p.Tbody,null,this.renderRows()))))):s.default.createElement("div",{className:"loader-container"},s.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"})):null}});t.default=h,e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.csvlog",path:"/admin/csvlog/:importId",ember:{parentPath:["admin","admin.csvlogs"]}}},function(e,t,n){"use strict";var r=n(5),a=n(12),s=n(1),i=n(13),o=n(24),l=n(50),u=l.Tr,c=l.Td,d=n(11),p=a.IMPORT_OBJECT_STATE.COMPLETED,f=a.IMPORT_OBJECT_STATE.CANCELED,m=a.IMPORT_OBJECT_STATE.IMPORTED,h=a.IMPORT_OBJECT_STATE.FAILED,g=a.IMPORT_OBJECT_STATE.INCOMPLETE;e.exports=s.createClass({displayName:"CsvImportRow",propTypes:{model:n(218).isRequired},renderContextDescription:function(e){switch(e.contextType){case"Program":return s.createElement(i,{to:"react.author.program",params:[{programId:e.contextId}]},s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{log_context_description}",{log_context_description:"%{log_context_description}"}),log_context_description:e.contextDescription},"$1")));case"Group":return s.createElement(i,{to:"author.group",params:[{groupId:e.contextId}]},s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{log_context_description}",{log_context_description:"%{log_context_description}"}),log_context_description:e.contextDescription},"$1")));case"CourseTemplate":return s.createElement(i,{to:"author.course",params:[{courseId:e.contextId}]},s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{log_context_description}",{log_context_description:"%{log_context_description}"}),log_context_description:e.contextDescription},"$1")));case"LiveCourse":return s.createElement(i,{to:"author.live-course",params:[{liveCourseId:e.contextId}]},s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{log_context_description}",{log_context_description:"%{log_context_description}"}),log_context_description:e.contextDescription},"$1")));default:return s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{log_context_description}",{log_context_description:"%{log_context_description}"}),log_context_description:e.contextDescription},"$1"))}},renderState:function(e,t){var n=e.state;if(n===p||n===g)n="In Progress";else if(n===m){n="Imported";var r=e.invalidRows?e.invalidRows.length:0;r>0&&(n+=" ("+r,n+=r>1?" errors)":" error)")}else n===h?n="Failed":n===f&&(n="Cancelled");return t?s.createElement(i,{className:"red",to:"admin.csvlog",params:[{importId:e.id}]},s.createElement("u",null,s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{state}",{state:"%{state}"}),state:n},"$1")))):s.createElement(i,{to:"admin.csvlog",params:[{importId:e.id}]},s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{state}",{state:"%{state}"}),state:n},"$1")))},renderUsername:function(e){return e.userId?s.createElement(i,{to:"author.learner",params:[{id:e.userId}]},s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{model_user_name}",{model_user_name:"%{model_user_name}"}),model_user_name:e.userName},"$1"))):s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{model_user_name}",{model_user_name:"%{model_user_name}"}),model_user_name:e.userName},"$1"))},render:function(){var e=this.props.model,t=e.state===h,n=e.invalidRows&&e.invalidRows.length>0||!1,a=t||n,i=t?"red":"yellow";return s.createElement(u,{mobileClassNames:"pure-g"},s.createElement(c,{className:"csvimportrow__alert",mobileClassNames:"pure-u-3-5"},a?s.createElement(r.Icon,{className:"gs-warning gs-2x "+i}):""),s.createElement(c,{className:"csvimportrow__created-at",mobileClassNames:"pure-u-2-0"},d(e.createdAt).format("LLL")),s.createElement(c,{className:"csvimportrow__user",mobileClassNames:"pure-u-1-5"},this.renderUsername(e)),s.createElement(c,{className:"csvimportrow__context-type",mobileClassNames:"pure-u-1-5"},s.createElement(o,null,s.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{model_context_type}",{model_context_type:"%{model_context_type}"}),model_context_type:e.contextType},"$1"))),s.createElement(c,{className:"csvimportrow__context-description",mobileClassNames:"pure-u-1-5"},this.renderContextDescription(e)),s.createElement(c,{className:"csvimportrow__state",mobileClassNames:"pure-u-1-5"},this.renderState(e,t)),s.createElement(c,{className:"csvimportrow__download-link",mobileClassNames:"pure-u-1-5"},s.createElement("a",{className:"csvimportrow__download-link-a",href:"/api/admin/imports/"+e.id+"/csvfile"},s.createElement(r.Icon,{className:"gs-download gs-1x"}))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(3),u=n(20),c=r(u),d=n(53),p=r(d),f=n(3296),m=r(f),h=n(50),g=n(4),v=n(24),_=r(v),y=n(2139),b=r(y),E=s.default.createClass({displayName:"AdminCsvLogs",mixins:[(0,p.default)(function(e){m.default.fetchNext(e.query)})],propTypes:{imports:(0,l.arrayOf)(n(218)),isLoading:l.bool,query:(0,l.shape)({sort:l.string,search:l.string,role:l.string,deleted:l.bool})},getDefaultProps:function(){return{imports:[],isLoading:!0}},renderContent:function(){return this.props.isLoading?s.default.createElement("div",{className:"loader-container"},s.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"})):this.props.imports&&0!==this.props.imports.length?s.default.createElement("div",{className:"admin-csv-logs__content"},s.default.createElement("h2",null," ",I18n.t("CSV Import Logs")),s.default.createElement(h.Table,{className:"csv-logs-table"},s.default.createElement(h.Thead,null,s.default.createElement(h.Tr,null,s.default.createElement(h.Th,{className:"th-10"}),s.default.createElement(h.Th,{className:"th-25"},s.default.createElement(_.default,null,I18n.t("Created At"))),s.default.createElement(h.Th,{className:"th-10"},s.default.createElement(_.default,null,I18n.t("User"))),s.default.createElement(h.Th,{className:"th-10"},s.default.createElement(_.default,null,I18n.t("Context"))),s.default.createElement(h.Th,{className:"th-20"},s.default.createElement(_.default,null,I18n.t("Uploaded To"))),s.default.createElement(h.Th,{className:"th-20"},s.default.createElement(_.default,null,I18n.t("Status"))),s.default.createElement(h.Th,{className:"th-10"},s.default.createElement(_.default,null,I18n.t("Link"))))),s.default.createElement(h.Tbody,null,this.props.imports.map(function(e){return s.default.createElement(b.default,{key:e.id,model:e})})))):s.default.createElement("div",{className:"admin-csv-logs__content"},s.default.createElement("div",{className:"admin-csv-logs__content-no-data-header"},I18n.t("No CSV Import Logs to Display")),s.default.createElement("div",{className:"admin-csv-logs__content-no-data"},I18n.t("No CSVs have been imported into the account")))},render:function(){return(0,c.default)("csv_logs_page")?s.default.createElement("div",{className:"admin-csv-logs"},this.renderContent()):null}});t.default=(0,o.default)({type:E,asyncProps:{imports:{setup:function(e){m.default.addChangeListener(e)},teardown:function(e){m.default.removeChangeListener(e)},fetch:function(e){return m.default.fetchAll(e.query)},get:function(e){return m.default.getAll(e.query)},shouldRefetch:function(e,t){return!(0,g.isEqual)(e.query,t.query)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.csvlogs",path:"/admin/csvlogs",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(13),o=r(i);t.default=s.default.createClass({displayName:"AdminDashboardRedirect",componentDidMount:function(){o.default.replaceWith("admin.insights")},render:function(){return null}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.dashboard",path:"/admin/dashboard",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";var r=n(273),a=n(7);e.exports=r({contextType:"domain",confirmRoute:"admin.import-profile.confirm",uploadRoute:null,cancelRoute:"admin.insights",contextual:!1,autoCsv:!0,generateContextTitle:function(){return I18n.t("Bridge")},uploadCSVMapping:function(e,t){return a({url:"/api/admin/import_profile",type:"PATCH",dataType:"json",data:{import_profile:{columns:t.get("fieldMap"),has_headers:t.get("hasHeaders")}}})}})},function(e,t){"use strict";e.exports={name:"admin.import-profile",path:"/admin/import-profile"}},function(e,t,n){"use strict";var r=n(272);e.exports=r({contextType:"account",contextRoute:"admin.insights",contextual:!1})},function(e,t){"use strict";e.exports={name:"admin.import-profile.confirm",path:"/admin/import-profile/confirm"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(26),g=r(h),v=n(5),_=n(27),y=r(_),b=n(43),E=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={exportType:null},n.popup=null,n.handleExportTypeChange=n.handleExportTypeChange.bind(n),n.handleCancelExport=n.handleCancelExport.bind(n),n.handleExport=n.handleExport.bind(n),n.setPopupRef=n.setPopupRef.bind(n),n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"setPopupRef",value:function(e){this.popup=e}},{key:"componentDidMount",value:function(){this.refs.closeButton.focus()}},{key:"componentWillUnmount",value:function(){this.popup&&this.popup.close()}},{key:"handleExportTypeChange",value:function(e){this.setState({exportType:e})}},{key:"handleExport",value:function(){var e=this.props.onExport;e(this.state.exportType),this.popup&&this.popup.close()}},{key:"handleCancelExport",value:function(){this.popup.close(),this.setState({exportType:null})}},{key:"render",value:function(){var e=this.props,t=(e.showOptions,e.isExporting);return f.default.createElement("div",{className:"deep-dive-reporting__header"},f.default.createElement("div",null,f.default.createElement(v.Icon,{className:"gs-diver-head gs-2x margin-r-s"}),f.default.createElement("h2",{className:"deep-dive-reporting__title"},g.default.t("Deep Dive"))),f.default.createElement("div",null,t&&f.default.createElement(b.LoadingIcon,{className:"deep-dive-reporting__header__loading-icon"}),this.renderExportButton(),f.default.createElement(b.QuietButton,{inverted:!0,onClick:this.props.onClose,ref:"closeButton"},f.default.createElement(y.default,{children:g.default.t("Close")}),f.default.createElement(b.ClearIcon,null))))}},{key:"renderExportButton",value:function(){return f.default.createElement(b.QuietButton,{className:"deep-dive-reporting__header__export-btn",inverted:!0,focusStyleType:"underline",onClick:this.handleExport,disabled:this.props.isExporting},f.default.createElement(v.Icon,{className:"deep-dive-reporting__header__export-icon gs-export margin-r-xs"}),f.default.createElement("span",{className:"deep-dive-reporting__header__export-text"},g.default.t("Export")),f.default.createElement(y.default,{children:g.default.t("Open a new tab to download the deep dive reports")}))}},{key:"renderRadioOptions",value:function(){return f.default.createElement(b.RadioButtonGroup,{onChange:this.handleExportTypeChange,name:"export-insights-reports-options",className:"deep-dive-reporting__header__export__popup__radio-group",selected:this.state.exportType,ariaLabel:g.default.t("Select the type of export")},f.default.createElement(b.RadioButton,{label:g.default.t("People"),value:"PEOPLE",className:"deep-dive-reporting__header__export__popup__radio","data-capybara":"deep-dive-reporting-header-export-radio-btn"},f.default.createElement("legend",{className:"deep-dive-reporting__header__export__popup__legend"},g.default.t("All of an individuals enrollments, rolled up into one row."))),f.default.createElement(b.RadioButton,{label:g.default.t("Enrollments"),value:"ENROLLMENTS",className:"deep-dive-reporting__header__export__popup__radio","data-capybara":"deep-dive-reporting-header-export-radio-btn"},f.default.createElement("legend",{className:"deep-dive-reporting__header__export__popup__legend"},g.default.t("Individual enrollments broken out into individual rows."))))}},{key:"renderExportPopup",value:function(){var e=this.state.exportType,t=this.props.isExporting;return f.default.createElement(b.Popup,{arrowAlignment:"border",className:"deep-dive-reporting__header__export-popup",containerClassName:"deep-dive-reporting__header__export__popup",labelClassName:"deep-dive-reporting__header__export-btn",label:f.default.createElement("div",null,f.default.createElement(v.Icon,{className:"deep-dive-reporting__header__export-icon gs-export margin-r-xs"}),f.default.createElement("span",{className:"deep-dive-reporting__header__export-text"},g.default.t("Export"))),ref:this.setPopupRef,"data-capybara":"deep-dive-reporting-header-popup"},f.default.createElement("div",null,f.default.createElement("div",{className:"deep-dive-reporting__header__export__popup__title"},g.default.t("Export CSV by")),this.renderRadioOptions(),f.default.createElement("div",{className:"deep-dive-reporting__header__export__popup__footer"},f.default.createElement(b.QuietButton,{onClick:this.handleCancelExport},g.default.t("Cancel"),f.default.createElement(y.default,{children:g.default.t("Close export popup.")})),f.default.createElement(b.QuietButton,{disabled:!e||t,onClick:this.handleExport},g.default.t("Export"),f.default.createElement(y.default,{children:g.default.t("Open a new tab to download the deep dive reports")})))))}}]),t}(p.PureComponent);E.propTypes={isExporting:m.bool.isRequired,onClose:m.func.isRequired,onExport:m.func.isRequired,showOptions:m.bool.isRequired},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(261),g=r(h),v=n(43),_=n(26),y=r(_),b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.filters,n=e.onRemoveFilter,r=e.selectedFilters;return f.default.createElement("div",{className:"flex-row margin-b-m"},f.default.createElement("span",{className:"bold margin-r-s small"},y.default.t("Filters:")),f.default.createElement("div",null,r.map(function(e){var r=t.find(function(t){return t.type===e.type}),a=r&&r.options.find(function(t){return t.value===e.value});return r&&a&&f.default.createElement(v.Chip,{className:"margin-r-s margin-b-s insights-reporting-main-content__filter",key:e.type+"-"+e.value,data:e,dismissable:!0,label:r.label+": "+a.label,onClick:n,size:"small"})})))}}]),t}(p.PureComponent);b.propTypes={filters:(0,m.arrayOf)(g.default).isRequired,onRemoveFilter:m.func.isRequired,selectedFilters:(0,m.arrayOf)(h.SelectedFilter).isRequired},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){switch(e){case"PEOPLE":return b.default.t("People");case"GROUP":return b.default.t("Group");case"TEAM":return b.default.t("Team");case"CONTENT":return b.default.t("Content")}return e}function s(e){return e&&e.length>I?e.substr(0,I)+"":e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(139),o=r(i),l=n(14),u=r(l),c=n(15),d=r(c),p=n(17),f=r(p),m=n(16),h=r(m),g=n(1),v=r(g),_=n(3),y=n(26),b=r(y),E=n(43),C=n(354),I=30,T=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleNavigate=n.handleNavigate.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"handleNavigate",value:function(e){var t=+e.currentTarget.getAttribute("data-item-index");return this.props.onNavigate(t)}},{key:"getTrail",value:function(){var e=this.props,t=e.trail,n=e.reportingBy;return[{id:n,type:n,name:a(n)}].concat((0,o.default)(t))}},{key:"render",value:function(){var e=this,t=this.getTrail();return v.default.createElement("div",{className:"margin-b-xl margin-t-l"},t.map(function(n,r){return v.default.createElement("span",{key:n.type+"-"+n.id},r>0&&v.default.createElement("span",{className:"blue-grey small"}," > "),v.default.createElement(E.QuietButton,{className:"insights-reporting-main-content__breadcrumb-item","data-item-index":r,disabled:r===t.length-1,focusStyleType:"underline",onClick:e.handleNavigate},s((0,C.formatTitle)(n))))}))}}]),t}(g.PureComponent);T.propTypes={reportingBy:_.string.isRequired,onNavigate:_.func.isRequired,trail:(0,_.arrayOf)(Object).isRequired},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(43),g=[25,50,75,100,150],v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onChange,r=e.selected;return f.default.createElement(h.SelectMenu,{className:t,label:I18n.t("%{count} results per page",{count:r}),chevronClassName:t+"__chevron"},f.default.createElement(h.Menu,{onChange:n,value:r},g.map(function(e){return f.default.createElement(h.MenuItem,{key:e,value:e},e)})))}}]),t}(p.PureComponent);v.propTypes={className:m.string.isRequired,onChange:m.func.isRequired,selected:m.number.isRequired},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(43),g=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.options=[{text:I18n.t("People"),value:"PEOPLE"},{text:I18n.t("Group"),value:"GROUP"},{text:I18n.t("Team"),value:"TEAM"},{text:I18n.t("Content"),value:"CONTENT"}],a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.selected,r=e.onChange;return f.default.createElement("div",{className:t},f.default.createElement("span",null,I18n.t("Reporting by")),f.default.createElement(h.SelectMenu,{className:"insights-reporting-main-content__select__menu"},f.default.createElement(h.Menu,{onChange:r,className:"insights-reporting-main-content__select__menu__popup",value:n},this.options.map(function(e){return f.default.createElement(h.MenuItem,{key:e.value,value:e.value},f.default.createElement("div",{"data-capybara":"insights-reporting-main-content-select-menu-option"},e.text))}))))}}]),t}(p.PureComponent);g.propTypes={className:m.string,onChange:m.func.isRequired,selected:m.string},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(575),g=n(43),v=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.optionsMap={A_Z:I18n.t("Alphabetical: A - Z"),Z_A:I18n.t("Alphabetical: Z - A")},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.onChange,a=t.selected;return f.default.createElement(g.SelectMenu,{className:n,label:f.default.createElement("div",null,f.default.createElement(g.SortIcon,{className:n+"__sort_icon"}),a?this.optionsMap[a]:I18n.t("Sort by")),chevronClassName:n+"__chevron"},f.default.createElement(g.Menu,{onChange:r,value:a},Object.keys(this.optionsMap).map(function(t){return f.default.createElement(g.MenuItem,{key:t,value:t},e.optionsMap[t])})))}}]),t}(p.PureComponent);v.propTypes={className:m.string.isRequired,onChange:m.func.isRequired,selected:h.SortBy},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(43),o=n(574),l=r(o),u=n(354);t.default={CONTENT:{getAvatar:function(e){return(0,u.getIcon)(e,{className:"insights-table__cell__icon"})},columns:[{getTitle:function(){return I18n.t("Name")},getValue:function(e){return e.name?s.default.createElement("span",null,e.name):s.default.createElement("span",{className:"insights-table__cell__soft"},(0,u.formatTitle)(e))}},{getTitle:function(){return I18n.t("Enrollments")},getValue:function(e){return e.totalEnrollments}},{getTitle:function(){return I18n.t("Incomplete")},getValue:function(e){return e.totalEnrollments-e.completedEnrollments}},{getTitle:function(){return I18n.t("Completions")},getValue:function(e){return I18n.t("%{count} / %{percent}%",{count:e.completedEnrollments,percent:(0,l.default)(e.totalEnrollments,e.completedEnrollments)})}}],selectable:!0},CONTENT_SINGLE:{getAvatar:function(e){return s.default.createElement(i.Avatar,{fullName:e.avatarUrl?null:e.name,url:e.avatarUrl||null,userId:e.id,size:"xx-small",showBorder:!0,className:"insights-table__cell__avatar"})},columns:[{getTitle:function(){return I18n.t("Name")},getValue:function(e){return s.default.createElement("span",null,e.name||e.uid)}},{getTitle:function(){return I18n.t("Status")},getValue:function(e){switch(e.status){case"created":case"locked":return I18n.t("Not started");case"active":return I18n.t("In Progress");case"overdue":return I18n.t("Overdue");case"failed":return I18n.t("Must retake");case"permanently_failed":return I18n.t("Permanently failed");case"complete":return I18n.t("Complete");default:return null}}},{getTitle:function(){return I18n.t("% Complete")},getValue:function(e){return null!==e.progress?I18n.t("%{percent}%",{percent:(0,l.default)(1,e.progress)}):null}}],selectable:!0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(43),o=n(574),l=r(o),u=n(354);t.default={GROUP:{getAvatar:function(e){return s.default.createElement(i.Avatar,{fullName:(0,u.formatTitle)(e),userId:e.id,size:"xx-small",showInitials:!0,showBorder:!0,className:"insights-table__cell__avatar insights-reporting-main-content__avatar-group"})},columns:[{getTitle:function(){return I18n.t("Name")},getValue:function(e){return e.name?s.default.createElement("span",null,e.name):s.default.createElement("span",{className:"insights-table__cell__soft"},I18n.t("Untitled Group"))}},{getTitle:function(){return I18n.t("Enrollments")},getValue:function(e){return e.totalEnrollments}},{getTitle:function(){return I18n.t("Incomplete")},getValue:function(e){return e.totalEnrollments-e.completedEnrollments}},{getTitle:function(){return I18n.t("Completions")},getValue:function(e){return I18n.t("%{count} / %{percent}%",{count:e.completedEnrollments,percent:(0,l.default)(e.totalEnrollments,e.completedEnrollments)})}}],selectable:!0},GROUP_SINGLE:{getAvatar:function(e){return s.default.createElement(i.Avatar,{url:e.avatarUrl||null,fullName:e.avatarUrl?null:e.name,userId:e.id,size:"xx-small",className:"insights-table__cell__avatar",showBorder:!0})},columns:[{getTitle:function(){return I18n.t("Name")},getValue:function(e){return s.default.createElement("span",null,e.name||e.uid)}},{getTitle:function(){return I18n.t("Enrollments")},getValue:function(e){return e.totalEnrollments}},{getTitle:function(){return I18n.t("Incomplete")},getValue:function(e){return e.totalEnrollments-e.completedEnrollments}},{getTitle:function(){return I18n.t("Completions")},getValue:function(e){return I18n.t("%{count} / %{percent}%",{count:e.completedEnrollments,percent:(0,l.default)(e.totalEnrollments,e.completedEnrollments)})}}],selectable:!0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!t)return g[e];var n=void 0,r=!0;switch(e){case"PEOPLE":"learner"===t.type?(n="PEOPLE_SINGLE",r=!1):n="PEOPLE";break;case"GROUP":(0,h.isGroupItem)(t.type)?n="GROUP_SINGLE":"learner"===t.type?(n="PEOPLE_SINGLE",r=!1):n="GROUP";break;case"TEAM":"learner"===t.type?(n="PEOPLE_SINGLE",r=!1):n="TEAM";break;case"CONTENT":n="CONTENT_SINGLE",r=!1;break;default:n="PEOPLE",r=!1}return(0,i.default)({},g[n],{selectable:r})}var s=n(9),i=r(s),o=n(2158),l=r(o),u=n(2154),c=r(u),d=n(2155),p=r(d),f=n(2157),m=r(f),h=n(354),g={PEOPLE:m.default.PEOPLE,PEOPLE_SINGLE:m.default.PEOPLE_SINGLE,GROUP:p.default.GROUP,GROUP_SINGLE:p.default.GROUP_SINGLE,CONTENT:c.default.CONTENT,CONTENT_SINGLE:c.default.CONTENT_SINGLE,TEAM:l.default.TEAM};e.exports.getConfig=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(43),o=n(574),l=r(o),u=n(354);t.default={
PEOPLE:{getAvatar:function(e){return s.default.createElement(i.Avatar,{className:"insights-table__cell__avatar",fullName:e.avatarUrl?null:e.name,showBorder:!0,size:"xx-small",url:e.avatarUrl||null,userId:e.id})},columns:[{getTitle:function(){return I18n.t("Name")},getValue:function(e){return s.default.createElement("span",null,e.name||e.uid)}},{getTitle:function(){return I18n.t("Enrollments")},getValue:function(e){return e.totalEnrollments}},{getTitle:function(){return I18n.t("Incomplete")},getValue:function(e){return e.totalEnrollments-e.completedEnrollments}},{getTitle:function(){return I18n.t("Completions")},getValue:function(e){return I18n.t("%{count} / %{percent}%",{count:e.completedEnrollments,percent:(0,l.default)(e.totalEnrollments,e.completedEnrollments)})}}],selectable:!0},PEOPLE_SINGLE:{getAvatar:function(e){return(0,u.getIcon)(e,{className:"insights-table__cell__icon"})},columns:[{getTitle:function(){return I18n.t("Name")},getValue:function(e){return e.name?s.default.createElement("span",null,e.name):s.default.createElement("span",{className:"insights-table__cell__soft"},s.default.createElement("span",null,(0,u.formatTitle)(e)))}},{getTitle:function(){return I18n.t("Completion")},getValue:function(e){return null!==e.progress?I18n.t("%{percent}%",{percent:(0,l.default)(1,e.progress)}):null}},{getTitle:function(){return I18n.t("Score")},getValue:function(e){return null!==e.score?I18n.t("%{percent}%",{percent:(0,l.default)(100,e.score)}):null}},{getTitle:function(){return I18n.t("Attempts")},getValue:function(e){return e.attemptsCount||null}}],selectable:!0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.name||e.uid;return"domain"===e.type?I18n.t("%{name}s Team",{name:t}):t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=r(s),o=n(43),l=n(28),u=r(l),c=n(574),d=r(c);t.default={TEAM:{getAvatar:function(e){return i.default.createElement(o.Avatar,{fullName:e.avatarUrl?null:e.name,url:e.avatarUrl||null,userId:e.id,size:"xx-small",showBorder:!0,showInitials:"domain"===e.type,className:(0,u.default)("insights-table__cell__avatar","domain"===e.type&&"insights-reporting-main-content__avatar-team")})},columns:[{getTitle:function(){return I18n.t("Name")},getValue:function(e){return i.default.createElement("span",null,a(e))}},{getTitle:function(){return I18n.t("Enrollments")},getValue:function(e){return e.totalEnrollments}},{getTitle:function(){return I18n.t("Incomplete")},getValue:function(e){return e.totalEnrollments-e.completedEnrollments}},{getTitle:function(){return I18n.t("Completions")},getValue:function(e){return I18n.t("%{count} / %{percent}%",{count:e.completedEnrollments,percent:(0,d.default)(e.totalEnrollments,e.completedEnrollments)})}}],selectable:!0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(261),g=r(h),v=n(26),_=r(v),y=n(43),b=n(2162),E=r(b),C=n(2161),I=r(C),T=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.filters,r=t.selectedFilters;return f.default.createElement("div",{className:"deep-dive-reporting__sidebar-filter"},f.default.createElement("div",{className:"deep-dive-reporting__sidebar-filter__title margin-m"},f.default.createElement("h3",{className:"bold"},_.default.t("Filter by")),f.default.createElement(y.QuietButton,{className:"deep-dive-reporting__sidebar-filter__clear-all",focusStyleType:"underline",onClick:this.props.onClearAllFilters},_.default.t("Clear all"))),n.map(function(t){var n=r.filter(function(e){return e.type===t.type}).map(function(e){return e.value});return t.static?e.renderStaticFilter(t,n):e.renderLazyLoadFilter(t,n)}))}},{key:"renderStaticFilter",value:function(e,t){var n=this.props.onToggleFilter;return f.default.createElement(E.default,{key:e.type,type:e.type,label:e.label,options:e.options,selected:t,onToggleFilter:n})}},{key:"renderLazyLoadFilter",value:function(e,t){var n=this.props,r=n.onFilterLoadMore,a=n.onFilterSearch,s=n.onToggleFilter;return f.default.createElement(I.default,{key:e.type,type:e.type,label:e.label,options:e.options,selected:t,hasNextPage:!!e.nextPageUrl,onLoadMore:r,onSearch:a,onToggleFilter:s})}}]),t}(p.PureComponent);T.propTypes={filters:(0,m.arrayOf)(g.default).isRequired,selectedFilters:(0,m.arrayOf)(h.SelectedFilter).isRequired,onClearAllFilters:m.func.isRequired,onFilterLoadMore:m.func.isRequired,onFilterSearch:m.func.isRequired,onToggleFilter:m.func.isRequired},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(43),g=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleToggle=n.handleToggle.bind(n),n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"handleToggle",value:function(){var e=this.props,t=e.onToggle,n=e.type,r=e.value;t({type:n,value:r})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.selected,r=e.value;return f.default.createElement("div",{className:"padding-b-s"},f.default.createElement(h.Checkbox,{value:r,checked:n,onChange:this.handleToggle},t))}}]),t}(p.PureComponent);g.propTypes={type:m.string.isRequired,value:(0,m.oneOfType)([m.string,m.number]).isRequired,label:m.string.isRequired,selected:m.bool.isRequired,onToggle:m.func.isRequired},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(261),g=n(1256),v=r(g),_=n(53),y=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleScroll=(0,_.throttleScroll)(function(e){var t=n.props.hasNextPage,r=n.state.loading;t&&!r&&(0,_.shouldTrigger)(n.scrollView,e,30)&&n.handleLoadMore()}).bind(n),n.setScrollViewRef=n.setScrollViewRef.bind(n),n.handleSearch=n.handleSearch.bind(n),n.resetLoadingState=n.resetLoadingState.bind(n),n.state={loading:!1},n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.scrollView&&this.scrollView.removeEventListener("scroll",this.handleScroll)}},{key:"setScrollViewRef",value:function(e){this.scrollView&&this.scrollView.removeEventListener("scroll",this.handleScroll),this.scrollView=e,this.scrollView&&this.scrollView.addEventListener("scroll",this.handleScroll)}},{key:"resetLoadingState",value:function(){this.setState({loading:!1})}},{key:"handleLoadMore",value:function(){var e=this.props,t=e.onLoadMore,n=e.type;this.setState({loading:!0}),t(n).then(this.resetLoadingState).catch(this.resetLoadingState)}},{key:"handleSearch",value:function(e){var t=this.props,n=t.type,r=t.onSearch;r(n,e)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.label,r=e.options,a=e.selected,s=e.onToggleFilter;return f.default.createElement(v.default,{type:t,label:n,options:r,selected:a,onToggleFilter:s,onSearch:this.handleSearch,setScrollViewRef:this.setScrollViewRef})}}]),t}(p.PureComponent);y.propTypes={type:m.string.isRequired,label:m.string.isRequired,options:(0,m.arrayOf)(h.FilterOption).isRequired,selected:(0,m.arrayOf)(m.string),hasNextPage:m.bool.isRequired,onLoadMore:m.func.isRequired,onSearch:m.func.isRequired,onToggleFilter:m.func.isRequired},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(261),g=n(1256),v=r(g),_=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSearch=n.handleSearch.bind(n),n.state={matches:n.props.options},n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"handleSearch",value:function(e){var t=new RegExp(e,"i"),n=this.props.options.filter(function(e){return t.test(e.label)});this.setState({matches:n})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.label,r=e.selected,a=e.onToggleFilter;return f.default.createElement(v.default,{type:t,label:n,options:this.state.matches,selected:r,onToggleFilter:a,onSearch:this.handleSearch})}}]),t}(p.PureComponent);_.propTypes={type:m.string.isRequired,label:m.string.isRequired,options:(0,m.arrayOf)(h.FilterOption).isRequired,selected:(0,m.arrayOf)(m.string),onToggleFilter:m.func.isRequired},t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(575),o=r(i),l=n(10),u=n(7),c=r(u),d=n(150),p=r(d),f=(0,s.default)({schema:(0,l.shape)(o.default),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)({url:e,data:t})},parse:function(e,t){return(0,p.default)(t)}});e.exports.fetchFilter=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(25),o=r(i),l=n(31),u=r(l),c=n(575),d=r(c),p=n(10),f=n(7),m=r(f),h=n(150),g=r(h),v=(0,s.default)({schema:(0,p.shape)(d.default),perform:function(e,t){var n=t.domainId,r=t.subAccountId,a=t.r2bJwt,s=u.default.get("R2B_HOST");if(!s)return o.default.reject(new Error("R2B_HOST is not configured"));var i=e.startDate,l=e.endDate,c=e.sortBy,d=e.resultsPerPage,p=e.page,f=e.reportingBy,h=e.filters,g=e.drillDown,v=e.search,_=g.length&&g[g.length-1].item;return(0,m.default)({url:s+"/dashboard/learning-items",dataType:"json",method:"POST",data:{account:u.default.get("ACCOUNT.database"),"domain-id":n,id:_?_.id:null,type:_?_.type:null,"sub-account-id":r,"start-date":i.toISOString(),"end-date":l.toISOString(),order:"A_Z"===c?"name:asc":"name:desc",limit:d,offset:d*p,view:f,filters:h,search:v},beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+a)}})},parse:function(e,t){var n=(0,g.default)(t.results);return{results:n,totalElements:t.total}}});e.exports.fetchReports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS=void 0;var a=n(139),s=r(a),i=n(9),o=r(i),l=n(21),u=r(l),c=n(575),d=r(c),p=n(25),f=r(p),m=n(875),h=r(m),g=n(31),v=r(g),_=n(2164),y=n(4),b=n(2163),E=n(87),C=r(E),I=n(227),T=n(19),N=r(T),S=n(2166),x=function(){return C.default.getItem("InsightReportsPageSize",C.default.SCOPE_USER)||25},A=(0,I.dateRangeFor)("7d"),k=A.startDate,w=A.endDate,R=t.DEFAULTS={query:{range:"7d",startDate:k,endDate:w,sortBy:"A_Z",page:0,resultsPerPage:25,reportingBy:"TEAM",drillDown:[],filters:[],search:""},filters:[],results:[],totalElements:0,isLoading:!1,isExporting:!1,hasError:!1,isFilterBarOpen:!0},O=(0,u.default)({displayName:"DeepDiveStore",schema:d.default,r2bParams:null,loadingCount:0,initialize:function(){this.setDefaults(),this.exportReports=this.exportReports.bind(this)},setDefaults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState((0,o.default)({},R,{query:(0,o.default)({},R.query,e,{resultsPerPage:x()}),filters:(0,S.getFilters)()}))},setR2bParams:function(e){this.r2bParams=e},isHarmfulFetch:function(e){var t=this.state.query,n=t.reportingBy,r=t.drillDown;return this.state.isLoading&&(e.reportingBy!==n||!(0,y.isEqual)(e.drillDown,r))},handleFetchDone:function(e){this.loadingCount--,this.setState((0,o.default)({},e,{isLoading:this.loadingCount>0}))},fetchReports:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.state.query,r=(0,y.assign)({},n,t);if(this.isHarmfulFetch(r))return f.default.resolve();if(!this.r2bParams)return this.setState({hasError:!0,query:r}),f.default.reject(new Error("The r2b params are not configured."));var a={isLoading:!0,query:r};this.setState(a),this.loadingCount++;var s=this.state.query.resultsPerPage;return n.resultsPerPage!==s&&C.default.setItem("InsightReportsPageSize",s,C.default.SCOPE_USER),(0,_.fetchReports)(this.state.query,this.r2bParams).then(function(t){var n=t.results,r=t.totalElements;e.handleFetchDone({results:n,totalElements:r,hasError:!1}),N.default.clear()}).catch(function(t){e.handleFetchDone({hasError:!0});var n="";switch(t.status){case 0:n=I18n.t("Sorry, we were unable to load the reports. Please check your internet connection.");break;case 500:case 404:n=I18n.t("Sorry, we were unable to load the reports. Please try again later.");break;case 403:n=I18n.t("403 Not Authorized. Please contact your administrator.")}(0,N.default)(n,{type:"error",closeText:I18n.t("Dismiss"),className:"deep-dive-toast"})})},exportReports:function(e){var t=this,n=this.r2bParams,r=n.domainId,a=n.subAccountId,s=n.r2bJwt,i=this.state.query,o=i.sortBy,l=i.reportingBy,u=i.startDate,c=i.endDate,d=i.filters,p=i.drillDown,f=i.search,m=p.length&&p[p.length-1].item,g={r2bJwt:s,id:"DeepDiveReport",r2b:{account:v.default.get("ACCOUNT.database"),"domain-id":r,"end-date":c.toISOString(),id:m?m.id:null,order:"A_Z"===o?"name:asc":"name:desc","roll-up-by":e||null,"start-date":u.toISOString(),"sub-account-id":a,type:m?m.type:null,view:l,filters:d,search:f}};this.setState({isExporting:!0});var _=window.open();h.default.create("report",g).then(function(e){_.location.href="/download/"+e.id,t.setState({isExporting:!1})},function(){_.location.href="/download/failed",t.setState({isExporting:!1})})},fetchFilters:function(){var e=this,t=this.state.filters;return f.default.all(t.filter(function(e){return!e.static}).map(function(t){return e.fetchFilter(t.type)}))},fetchFilter:function(e,t){var n=this,r=this.state.filters.findIndex(function(t){return t.type===e&&!t.static}),a=this.state.filters[r],i=!t&&a.nextPageUrl,l=i||a.url;return(0,b.fetchFilter)(l,{search:t}).then(function(e){var t=a.parseOptions(e),l=!!i;n.setState({filters:[].concat((0,s.default)(n.state.filters.slice(0,r)),[(0,o.default)({},a,{nextPageUrl:e.meta.next,options:l?a.options.concat(t):t})],(0,s.default)(n.state.filters.slice(r+1)))})}).catch(function(){return n.setState({hasError:!0})})},getState:function(){return this.state}});t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(26),s=r(a),i=function(){return[{type:"group",label:s.default.t("Group"),static:!1,url:"/api/author/groups",nextPageUrl:null,parseOptions:function(e){return e.groups.filter(function(e){return"team"!==e.type&&"domain"!==e.type}).map(function(e){return{value:e.id,label:e.name||s.default.t("Untitled Group")}})},options:[]},{type:"team",label:s.default.t("Team"),static:!1,url:"/api/author/managers",nextPageUrl:null,parseOptions:function(e){return e.managers.map(function(e){return{value:e.id,label:s.default.t("%{name}s Team",{name:e.fullName||e.uid})}})},options:[]},{type:"enrollment-type",label:s.default.t("Enrollment Type"),static:!0,options:[{value:"required",label:s.default.t("Required")},{value:"optional",label:s.default.t("Optional")}]},{type:"enrollment-status",label:s.default.t("Enrollment Status"),static:!0,options:[{value:"created",label:s.default.t("Not started")},{value:"active",label:s.default.t("In progress")},{value:"overdue",label:s.default.t("Overdue")},{value:"failed",label:s.default.t("Must retake")},{value:"permanently_failed",label:s.default.t("Permanently failed")},{value:"complete",label:s.default.t("Complete")}]},{type:"content-type",label:s.default.t("Content Type"),static:!0,options:[{value:"CourseTemplate",label:s.default.t("Course")},{value:"Program",label:s.default.t("Program")},{value:"LiveCourse",label:s.default.t("Live Training")},{value:"Task",label:s.default.t("Checkpoint")}]},{type:"tag",label:s.default.t("Content Tags"),static:!1,url:"/api/author/tags",nextPageUrl:null,parseOptions:function(e){return e.tags.map(function(e){return{value:e.id,label:e.name}})},options:[]}]};e.exports.getFilters=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return sessionStorage.getItem(e)}function s(e,t){return sessionStorage.setItem(e,t)}function i(){try{var e=JSON.parse(a(c));return d.forEach(function(t){e.hasOwnProperty(t)&&(e[t]=(0,u.default)(e[t]).toDate())}),e}catch(e){return{}}}function o(e){try{s(c,JSON.stringify(e))}catch(e){console.warn(e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(11),u=r(l),c="InsightsDeepDiveQuery",d=["startDate","endDate"];t.default={QUERY_CACHE_KEY:c,loadQuery:i,saveQuery:o},e.exports=t.default},function(e,t){"use strict";function n(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}e.exports.getBrowserWidth=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(3),u=n(1259),c=r(u),d=n(1260),p=r(d),f=n(1258),m=r(f),h=n(1373),g=r(h),v=n(2201),_=r(v),y=n(2193),b=r(y),E=n(2178),C=r(E),I=n(2200),T=r(I),N=n(2176),S=r(N),x=n(2181),A=r(x),k=n(2182),w=r(k),R=n(2180),O=r(R),P=n(2199),L=r(P),M=n(2175),D=r(M),U=n(2203),F=r(U),q=n(2195),B=r(q),j=n(2179),H=r(j),G=n(808),W=r(G),V=n(1262),Y=r(V),z=n(1264),K=r(z),Q=n(108),$=r(Q),X=n(37),J=r(X),Z=n(29),ee=r(Z),te=n(58),ne=r(te),re=n(227),ae=n(147),se=r(ae),ie=n(3095),oe=r(ie),le=n(4),ue=n(20),ce=r(ue),de=n(12);t.default=o.default.createClass({displayName:"View",mixins:[(0,J.default)({mobile:J.default.QUERY_MOBILE})],propTypes:{isLoading:l.bool,shouldShowQuickActions:l.bool,isUsingAutoCsv:l.bool,areNotificationsEnabled:l.bool,onDomainChange:l.func,selectedDomain:l.string,onBecome:l.func,onAddUsers:l.func,onRemoveUsers:l.func,dashboard:n(455).isRequired,activeMode:l.string,range:l.string,maxHeroResults:l.number,query:(0,l.shape)({selected:l.string,range:l.string,start_date:l.date,end_date:l.date})},getInitialState:function(){return{locale:$.default.getCurrentLocale(),deepDiveReportingOpen:!1}},componentDidMount:function(){$.default.addChangeListener(this.localeChange)},componentWillUnmount:function(){$.default.removeChangeListener(this.localeChange)},localeChange:function(){this.setState({locale:$.default.getCurrentLocale()})},openDeepDiveReporting:function(){this.setState({deepDiveReportingOpen:!0})},closeDeepDiveReporting:function(){this.setState({deepDiveReportingOpen:!1})},render:function(){var e=this.props.dashboard.meta;return o.default.createElement("div",{className:"admin-dashboard-container"},!se.default.shouldShowCountdownToast()&&o.default.createElement(A.default,null),this.renderFilterBar(),o.default.createElement("div",{className:"admin-dashboard"},o.default.createElement(oe.default,null),this.renderHero(),!this.props.isLoading&&this.renderLearnerWidgets(),(0,ce.default)("learn_reporting_deepdive")&&this.renderDeepDiveVisualizations(),this.props.shouldShowQuickActions&&o.default.createElement(_.default,{onBecome:this.props.onBecome,onAddUsers:this.props.onAddUsers,onRemoveUsers:this.props.onRemoveUsers,isUsingAutoCsv:this.props.isUsingAutoCsv}),o.default.createElement("div",{className:"pure-g-r"},o.default.createElement("div",{className:"dashboard-widget-row pure-u-1"},this.renderActiveUsersWidget(),this.renderProcrastinationWidget()),this.renderTimeDay(),this.renderDeviceTypes(),this.renderAutoCsv(),this.renderDashboardFooter())),this.state.deepDiveReportingOpen&&o.default.createElement(m.default,{query:{range:this.props.query.range,startDate:this.props.query.start_date,endDate:this.props.query.end_date},locale:this.state.locale,onClose:this.closeDeepDiveReporting,r2bParams:e}))},renderTimeDay:function(){var e=this.props.dashboard,t=e.learningTime?Math.round(this.props.dashboard.learningTime.seconds/3600):0,n=e.mostActiveDay?e.mostActiveDay.day:-1,r=e.mostActiveDay?e.mostActiveDay.seconds/e.mostActiveDay.visits:0;return o.default.createElement(L.default,{media:this.state.media},o.default.createElement(F.default,{numberOfHours:t}),o.default.createElement(D.default,{activeDay:n,timeAmountSeconds:r}))},renderDeviceTypes:function(){return o.default.createElement("div",{className:"admin-dashboard__widget pure-u-1-1"},o.default.createElement("p",{className:"dashboard-viz__title bold x-medium"},o.default.createElement("span",null,I18n.t("Device Distribution"))),o.default.createElement("p",{className:"dashboard-viz__subtitle medium"},o.default.createElement("span",null,I18n.t("Shows the types of devices using Bridge"))),o.default.createElement(w.default,{data:this.props.dashboard.sessionsByDevice}))},renderDashboardFooter:function(){return o.default.createElement(O.default,{dashboard:this.props.dashboard,newCounts:this.props.dashboard.countsInDateRange,range:this.props.range,start_date:this.props.query.start_date,end_date:this.props.query.end_date})},domainConfig:function(){var e=this.props.dashboard.meta,t=[];return e&&("account"===e.domainType?t.push({key:e.domainId,value:e.domainId,label:I18n.t("Everyone")}):"owned"===e.domainType&&t.push({key:e.domainId,value:e.domainId,label:I18n.t("My Team")}),e.alternateDomainId&&("account"===e.alternateDomainType?t.push({key:e.alternateDomainId,value:e.alternateDomainId,label:I18n.t("Everyone")}):"owned"===e.alternateDomainType&&t.push({key:e.alternateDomainId,value:e.alternateDomainId,label:I18n.t("My Team")}))),t},renderFilterBar:function(){var e={},t={ranges:(0,re.getRanges)({useRollingDates:!0,includeCustom:!0})},n=this.props.dashboard.meta;return o.default.createElement(W.default,null,o.default.createElement(g.default,{showDomainSelector:(0,ce.default)("learn_choose_recipients")&&n&&null!==n.alternateDomainId,domainConfig:this.domainConfig(),selectedDomain:this.props.selectedDomain,onDomainChange:this.props.onDomainChange,range:this.props.range,media:this.state.media,reportId:"AdminDashboard",config:t,lightBackground:!0,filters:e,stagedFilters:e}))},renderLoading:function(){return o.default.createElement("div",{className:"loader-container"},o.default.createElement("div",{className:"loader-large loader-7 marbin-b-xl"}))},renderHero:function(){var e=this.props,t=e.dashboard,n=e.maxHeroResults;if(!t.hero)return this.renderLoading();if(t.hero.results&&(0===t.hero.results.length||t.hero.results.length>n))return null;var r=this.getActiveModeRange();return this.state.media.mobile?o.default.createElement(K.default,t.hero):o.default.createElement(Y.default,(0,s.default)({locale:this.state.locale,startDate:r.from,endDate:r.to},t.hero))},renderLearnerWidgets:function(){return o.default.createElement("div",{className:"dashboard-widget-row pure-u-1 admin_dashboard__learner-counters"},this.renderOverdueLearnerCount(),this.renderCompletedLearnerCount())},renderDeepDiveVisualizations:function(){return o.default.createElement("div",{className:"dashboard-widget-row pure-u-1","data-capybara":"deep-dive-reporting-cta"},this.renderComplianceWidget(),this.renderLearnerProgressWidget())},renderComplianceWidget:function(){var e=this.props.dashboard,t=e.meta,n=e.learningItems,r=n&&n.completedRequired,a=n&&n.totalRequired;return o.default.createElement("div",{className:"dashboard-widget-row__cell"},o.default.createElement("p",{className:"dashboard-viz__title bold x-medium"},o.default.createElement("span",null,I18n.t("How Compliant is My Organization?"))),o.default.createElement("p",{className:"dashboard-viz__subtitle medium"},o.default.createElement("span",{dangerouslySetInnerHTML:{__html:I18n.t("Shows total completions of all *required* enrollments across all learning content types",{wrappers:["<b>$1</b>"]})}})),o.default.createElement(H.default,{values:{completed:r,total:a}}),o.default.createElement("div",{className:"text-center"},o.default.createElement(c.default,{onClick:this.openDeepDiveReporting,disabled:!t||!t.r2bJwt,"data-capybara":"deep-dive-reporting-button"})))},renderLearnerProgressWidget:function(){var e=this.props.dashboard,t=e.meta,n=e.learningItems,r=n&&{inProgress:n.inProgressAll,notStarted:n.notStartedAll,overdue:n.overdueAll,permanentlyFailed:n.permanentlyFailedAll,completed:n.completedAll,total:n.totalAll};return o.default.createElement("div",{className:"dashboard-widget-row__cell"},o.default.createElement("p",{className:"dashboard-viz__title bold x-medium"},I18n.t("What is the Progress of My Learners?")),o.default.createElement("p",{className:"dashboard-viz__subtitle medium"},o.default.createElement("span",{dangerouslySetInnerHTML:{__html:I18n.t("Status of all *required and non-required* enrollments across all content types",{wrappers:["<b>$1</b>"]})}})),o.default.createElement(B.default,{values:r}),o.default.createElement("div",{className:"text-center"},o.default.createElement(c.default,{onClick:this.openDeepDiveReporting,disabled:!t||!t.r2bJwt,"data-capybara":"deep-dive-reporting-button"})))},renderOverdueLearnerCount:function(){return o.default.createElement("div",{className:"overdue-learner-count","data-capybara":"overdue-learner-card"},o.default.createElement(b.default,{mode:de.ADMIN_DASHBOARD_MODE_OVERDUE,range:this.getDeepDiveDateRange(),learnerCount:this.props.dashboard.overdueLearners.learnersCount}))},renderCompletedLearnerCount:function(){return o.default.createElement("div",{className:"completed-learner-count","data-capybara":"completed-learner-card"},o.default.createElement(b.default,{mode:de.ADMIN_DASHBOARD_MODE_COMPLETED,range:this.getDeepDiveDateRange(),learnerCount:this.props.dashboard.completedLearners.learnersCount}))},renderAutoCsv:function(){return this.props.isUsingAutoCsv&&(0,ee.default)("user_auto_csv")?o.default.createElement("div",{className:"admin-dashboard__widget pure-u-1-1"},o.default.createElement(C.default,null)):null},renderProcrastinationWidget:function(){return o.default.createElement("div",{className:"dashboard-widget-row__cell"},o.default.createElement("p",{className:"dashboard-viz__title bold x-medium"},o.default.createElement("span",null,I18n.t("Average Procrastination"))),o.default.createElement("p",{className:"dashboard-viz__subtitle medium"},o.default.createElement("span",null,I18n.t("Days to complete since enrollment"))),o.default.createElement(T.default,{values:this.props.dashboard.procrastination}))},renderActiveUsersWidget:function(){var e=this.props.dashboard.activeUsers,t="";return(0,ne.default)(e)||(t=0===e.total?0:Math.round(100*e.used/e.total)),o.default.createElement("div",{className:"dashboard-widget-row__cell","data-capybara":"active-users-card"},o.default.createElement("p",{className:"dashboard-viz__title bold x-medium"},o.default.createElement("span",null,I18n.t("Active Users"))),o.default.createElement("p",{className:"dashboard-viz__subtitle medium"},o.default.createElement("span",null,I18n.t("The number and percentage of unique team members that signed into Bridge"))),o.default.createElement(S.default,{values:e}),o.default.createElement("div",{className:"dashboard-viz__nactive-label"},o.default.createElement("p",null,I18n.t("%{used} out of %{total}",{used:e.used,total:e.total})),o.default.createElement("hr",null),o.default.createElement("p",null,I18n.t("%{frac}% of team members",{frac:t}))),o.default.createElement("div",{className:"text-center"},o.default.createElement(p.default,{reportId:"SignInReport",dateRange:this.getDeepDiveDateRange()})))},getDeepDiveDateRange:function(){return(0,le.isEmpty)(this.props.query)?{range:re.DEFAULT_ROLLING_RANGE_KEY}:this.props.query},getActiveModeRange:function(){var e=(0,re.dateRangeFor)(this.props.range,{useRollingDates:!0,customStart:this.props.query.start_date,customEnd:this.props.query.end_date});return{label:e.label,from:e.startDate.toISOString(),to:e.endDate.toISOString()}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.query,n=t.range||"90d",r=(0,E.dateRangeFor)(n,{customStart:t.start_date,customEnd:t.end_date});return{mode:t.selected||_.default.ADMIN_DASHBOARD_MODE_OVERDUE,range:n,start_date:r.startDate.toISOString(),end_date:r.endDate.toISOString()}}var s=n(1),i=r(s),o=n(107),l=r(o),u=n(29),c=r(u),d=n(1410),p=r(d),f=n(2210),m=r(f),h=n(2169),g=r(h),v=n(12),_=r(v),y=n(2172),b=r(y),E=n(227),C=n(455),I=r(C),T=n(2),N=i.default.createClass({displayName:"AdminDashboard",propTypes:{isLoading:T.bool,dashboard:I.default,onDataChange:T.func,query:(0,T.shape)({selected:T.string,range:T.string,start_date:T.date,end_date:T.date})},getInitialState:function(){return{selectedDomain:null}},shouldComponentUpdate:function(e){return!e.isLoading},onDomainChange:function(e){if(e!==this.state.selectedDomain){var t=this.props.dashboard.meta;e===t.domainId?m.default.setDomainId(t.domainId):m.default.setDomainId(t.alternateDomainId),this.setState({selectedDomain:e}),this.props.onDataChange()}},onBecome:function(e,t){m.default.setDomainId(null),b.default.become(e,t)},render:function(){return i.default.createElement("div",null,i.default.createElement(g.default,{onDomainChange:this.onDomainChange,onBecome:this.onBecome,onAddUsers:b.default.addUsers,onRemoveUsers:b.default.removeUsers,onModeChange:b.default.setMode,isUsingAutoCsv:l.default.isAutoCsv(),shouldShowQuickActions:["user_masquerade","user_create","user_destroy","grant_create"].some(function(e){return(0,c.default)(e)}),areNotificationsEnabled:Boolean(l.default.get("notifications")&&(0,c.default)("user_message_send")),dashboard:this.props.dashboard,query:this.props.query,activeMode:this.props.query.selected,range:this.props.query.range,maxHeroResults:m.default.heroLimit,isLoading:this.props.isLoading,selectedDomain:this.state.selectedDomain}))}});e.exports=(0,p.default)({type:N,blocking:!1,asyncProps:{dashboard:{fetch:function(e){return m.default.fetch(a(e))},get:function(e){return m.default.get(a(e))},shouldRefetch:function(e,t){return JSON.stringify(a(e))!==JSON.stringify(a(t))}}}})},function(e,t){"use strict";e.exports={name:"admin.insights",path:"/admin/insights",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";var r=n(30),a=n(583),s=n(19),i=n(34),o=n(13);t.setMode=function(e){r.updateQuery({selected:e})},t.become=function(e,t){i.becomeUser(e).then(function(){o.replaceWith(i.getPostAuthRoute())},function(){s(I18n.t("There was a problem masquerading as %{name}",{name:t}),{type:"error"})})},t.addUsers=function(){a.setTrackbackRoute(["admin.insights"]),o.transitionTo("author.users.upload",{queryParams:{uploadType:"import"}})},t.removeUsers=function(){a.setTrackbackRoute(["admin.insights"]),o.transitionTo("author.users.upload",{queryParams:{uploadType:"deport"}})}},function(e,t,n){"use strict";var r=n(1267);t.sync=function(){return r.sync()},t.fetchLatest=function(){r.fetchLatest()}},function(e,t,n){"use strict";var r=n(1266);t.fetch=function(){r.fetch()},t.updateTime=function(e){r.updateTime(e)},t.updateDay=function(e,t){r.updateDay(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(3),s=a.number,i=n(26),o=[function(){return i.t("Sunday")},function(){return i.t("Monday")},function(){return i.t("Tuesday")},function(){return i.t("Wednesday")},function(){return i.t("Thursday")},function(){return i.t("Friday")},function(){return i.t("Saturday")}],l=[function(){return i.t("Sundays")},function(){return i.t("Mondays")},function(){return i.t("Tuesdays")},function(){return i.t("Wednesdays")},function(){return i.t("Thursdays")},function(){return i.t("Fridays")},function(){return i.t("Saturdays")}],u=function(e){var t=e.activeDay,n=e.timeAmountSeconds,a=i.t("Minute",{count:n/60||0,precision:2,strip_insignificant_zeros:!0}),s=i.t("Your team spent an average of *%{minutes}* on %{dayofweek} in this period.",{minutes:a,dayofweek:l[t](),wrappers:['<span class="bold light-green">$1</span>']});return r.createElement("div",null,r.createElement("span",{className:"dashboard-text-widget__primary-text"
},o[t]()),r.createElement("span",{className:"dashboard-text-widget__details",dangerouslySetInnerHTML:{__html:s}}))};u.propTypes={activeDay:s.isRequired,timeAmountSeconds:s.isRequired};var c=function(e){var t=e.activeDay;return"number"==typeof t&&t>=0&&t<=6?r.createElement(u,e):r.createElement("span",{className:"dashboard-text-widget__details"},i.t("We're still collecting data on your team's activities."))};c.propTypes={activeDay:s.isRequired,timeAmountSeconds:s.isRequired};var d=function(e){return r.createElement("div",{className:"dashboard-text-widget"},r.createElement("h4",{className:"dashboard-text-widget__header dashboard-viz__title bold x-medium"},i.t("Most Active Day of the Week")),r.createElement(c,e))};d.propTypes={activeDay:s.isRequired,timeAmountSeconds:s.isRequired},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(56),u=n(75),c=n(48),d=n(98),p=r(d),f=n(2196),m=r(f),h=n(2),g="#41fdcf",v="#279fc3",_=s.default.createClass({displayName:"ActiveUsersGraph",propTypes:{values:(0,h.shape)({used:h.number.isRequired,total:h.number.isRequired}),svgWidth:h.number.isRequired,svgHeight:h.number.isRequired,horizontalMargin:h.number.isRequired,marginTop:h.number.isRequired,marginBottom:h.number.isRequired,numberOfMen:h.number.isRequired,classPrefix:h.string.isRequired},getDefaultProps:function(){var e=10;return{svgWidth:344,svgHeight:120,horizontalMargin:(344-e*m.default.manWidth())/2,marginTop:36,marginBottom:36,numberOfMen:e,classPrefix:"active-users"}},componentDidMount:function(){this.setState({svgElement:(0,l.select)(o.default.findDOMNode(this)).select("svg")}),this.drawWidget()},componentDidUpdate:function(){this.drawWidget()},yManTop:function(){return this.props.marginTop+(this.props.svgHeight-this.props.marginTop-this.props.marginBottom)/2-m.default.manHeight()/2},populateRects:function(e,t,n){var r=(0,u.scaleLinear)().domain([0,1]).range([this.props.horizontalMargin,this.props.svgWidth-this.props.horizontalMargin]),a=(0,u.scaleLinear)().domain([0,1]).range([t,t+m.default.manHeight()]),s=0,i=e.selectAll("rect").data(n,function(e){return e.name});i.enter().append("rect").attr("fill",function(e){return e.fill}),i.attr("x",function(e){var t=s;return s+=e.value,r(t)}).attr("y",a(0)).attr("width",function(e){return r(e.value)-r(0)}).attr("height",a(1)-a(0)).attr("clip-path","url(#"+(this.props.classPrefix+"-clip")+")")},drawWidget:function(){if(this.props.values instanceof Object&&this.props.values.hasOwnProperty("used")&&this.props.values.hasOwnProperty("total")&&null!==this.state&&"undefined"!=typeof this.state.svgElement){var e=parseInt(this.props.values.total,10),t=parseInt(this.props.values.used,10),n=0===e?0:t/e;this.populateRects(this.state.svgElement,this.yManTop(),[{name:"completed",value:n,fill:"url(#"+(this.props.classPrefix+"-gradient")+")"},{name:"not-completed",value:1-n,fill:c.GREY}])}},render:function(){var e="0 0 "+this.props.svgWidth+" "+this.props.svgHeight,t=String(100*this.props.svgHeight/this.props.svgWidth)+"%";return s.default.createElement("div",{className:"dashboard-viz--activeusers-canvas","data-capybara":"active-users-widget",style:{paddingTop:t}},s.default.createElement("svg",{viewBox:e,preserveAspectRatio:"xMidYMid meet"},s.default.createElement(p.default,{id:this.props.classPrefix+"-gradient",color1:g,color2:v,startPercent:30,orientation:"vertical"}),s.default.createElement(m.default,{id:this.props.classPrefix,x:this.props.horizontalMargin,y:this.yManTop(),count:this.props.numberOfMen})))}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(24),s=r(a),i=n(1),o=n(3),l=o.number,u=o.string,c=n(189),d=n(103),p=n(12),f=p.AUTOCSV_SYNC_FUDGE_FACTOR,m="default",h={failed:function(){return i.createElement("div",{className:"auto-csv-status__last-sync__status"},i.createElement("div",null,I18n.t("Error on Last CSV Sync")),i.createElement(c,{recipientType:"support",anchor:"bottomRight",triggerClassName:"btn--reset"},i.createElement("a",{className:"auto-csv-status__last-sync__status__help"},I18n.t("Get Help from Support"))))},incomplete:function(e){return i.createElement("div",null,i.createElement("div",{className:"auto-csv-status__last-sync__status"},I18n.t("Sync in progress...")),i.createElement(d,{type:"bar",intervals:1,current:e,progress:e,className:"auto-csv-status__progress"}))},canceled:function(){return i.createElement("div",{className:"auto-csv-status__last-sync__status"},i.createElement("p",{className:"dashboard-viz__title bold x-medium"},i.createElement(s.default,null,I18n.t("Auto CSV Status"))),i.createElement("p",{className:"dashboard-viz__subtitle medium"},i.createElement(s.default,null,I18n.t("The last sync was canceled."))))},default:function(){return i.createElement("div",{className:"auto-csv-status__last-sync__status"},i.createElement("p",{className:"dashboard-viz__title bold x-medium"},i.createElement(s.default,null,I18n.t("Auto CSV Status"))),i.createElement("p",{className:"dashboard-viz__subtitle medium"},i.createElement(s.default,null,I18n.t("Shows the status of your lastest CSV upload"))))}};e.exports=i.createClass({displayName:"AutoCsvStateMessage",propTypes:{completed:l,total:l,msgKey:u,updatedAt:u},getDefaultProps:function(){return{completed:0,total:1}},getMessage:function(){return h.hasOwnProperty(this.props.msgKey)?h[this.props.msgKey](this.getSyncProgress()):h[m]()},getSyncProgress:function(){var e=this.props.completed>0?f:0;return this.props.total>0?(this.props.completed+e)/this.props.total:0},render:function(){return this.getMessage()}})},function(e,t,n){"use strict";var r=n(4),a=r.assign,s=n(66),i=n(11),o=n(2),l=n(1),u=n(23),c=n(47),d=n(361),p=n(2177),f=n(2183),m=n(189),h=n(13),g=n(98),v=g.ReverseRothGradient,_=n(2174),y=n(2173),b=n(1266),E=n(1267),C=n(19),I=n(6),T=n(224),N=n(12),S=N.AUTOCSV_FETCH_FREQUENCY;e.exports=l.createClass({displayName:"AutoCsvStatus",propTypes:{placeholder:o.string},getInitialState:function(){var e={width:300};return a({},e,this.getStateFromStores())},componentWillMount:function(){b.addChangeListener(this.handleStoreChange),E.addChangeListener(this.handleStoreChange),E.scheduleFetch(S)},componentWillUnmount:function(){this.teardownRerender(),b.removeChangeListener(this.handleStoreChange),E.unscheduleFetch(),E.removeChangeListener(this.handleStoreChange)},componentDidMount:function(){this.resetWidth(),this.setupRefitWidth(),_.fetch(),y.fetchLatest()},setupRefitWidth:function(){var e=this;c(window).on("resize.csv",s(function(){e.resetWidth()},200))},teardownRerender:function(){c(window).off("resize.csv")},handleStoreChange:function(){this.setState(this.getStateFromStores())},getStateFromStores:function(){return{schedule:b.getSchedule(),lastSync:E.getLastSync()}},resetWidth:function(){this.setState({width:u.findDOMNode(this).offsetWidth})},isInProgress:function(){return"incomplete"===this.state.lastSync.state||"complete"===this.state.lastSync.state},getCountOrPlaceholder:function(e){return this.isInProgress()?I18n.t("-"):e},handleSync:function(){var e=this,t=this.state.lastSync;E.scheduleFetch(S);var n={state:"incomplete"};this.setState({lastSync:T({},t,n)}),E.optimisticUpdate(n),y.sync().then(null,function(n){C.responseError(n,I18n.t("Sync failed.")),e.setState({lastSync:t})})},renderMapLink:function(){if(this.isInProgress())return null;var e=I({upcase:!0,small:!0,bold:!0});return l.createElement(h,{to:"admin.import-profile",queryParams:{uploadType:"import"},className:e,children:I18n.t("Map")})},renderLastSync:function(){var e=this.state.lastSync.createdAt,t=e?i(e).format("MMM. D [at] LT"):I18n.t("n/a");return l.createElement(f,{height:40,width:this.state.width,gradient:v},I18n.t("Last Sync"),": ",t)},renderSyncNow:function(){return this.isInProgress()?null:l.createElement("a",{onClick:this.handleSync,className:"auto-csv-status__last-sync__syncnow admin-dashboard__button"},I18n.t("Sync Now"))},renderUsersAdded:function(){return this.getCountOrPlaceholder(this.state.lastSync.newUserCount)},renderUsersUpdated:function(){return this.getCountOrPlaceholder(this.state.lastSync.updatedUserCount)},renderUsersDeleted:function(){return this.getCountOrPlaceholder(this.state.lastSync.deletedUserCount)},render:function(){var e=this.state.lastSync,t=e.completed,n=e.total;return l.createElement("div",{className:"auto-csv-status"},l.createElement("div",{className:"auto-csv-status__last-sync__header"},l.createElement(m,{wrapperClassName:"auto-csv-status__help",triggerClassName:"btn--reset padding-none",recipientType:"support",anchor:"bottomRight"},I18n.t("Stuck?"),l.createElement("a",{className:"auto-csv-status__help__link"},I18n.t("Get Help"))),l.createElement(p,{completed:t<n?t:0,total:n,msgKey:this.state.lastSync.state})),l.createElement("div",{className:"auto-csv-status-container"},l.createElement("div",{className:"auto-csv-status-box"},l.createElement("div",{className:"auto-csv-status__sync-infos"},l.createElement("div",{className:"auto-csv-status__last-sync"},this.renderLastSync()),l.createElement(d,{days:this.state.schedule.csvDays,onChangeDays:_.updateDay,time:this.state.schedule.csvTime,onChangeTime:_.updateTime})),l.createElement("div",{className:"auto-csv-status-button"},l.createElement("div",null,this.renderSyncNow()),l.createElement("div",{className:"auto-csv-status__map"},this.renderMapLink()))),l.createElement("div",{className:"auto-csv-status-box"},l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",{className:"auto-csv-status__stats"},l.createElement("td",{className:"auto-csv-status__stats-item"},l.createElement("span",{className:"auto-csv-status__stats-item__data","data-capybara":"auto-csv-stats-users-added"},this.renderUsersAdded()),l.createElement("span",{className:"auto-csv-status__stats-item__label"},I18n.t("Users Added"))),l.createElement("td",{className:"auto-csv-status__stats-item"},l.createElement("span",{className:"auto-csv-status__stats-item__data","data-capybara":"auto-csv-stats-users-removed"},this.renderUsersDeleted()),l.createElement("span",{className:"auto-csv-status__stats-item__label"},I18n.t("Users Removed"))),l.createElement("td",{className:"auto-csv-status__stats-item"},l.createElement("span",{className:"auto-csv-status__stats-item__data","data-capybara":"auto-csv-stats-users-updated"},this.renderUsersUpdated()),l.createElement("span",{className:"auto-csv-status__stats-item__label"},I18n.t("Users Modified")))))))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{__html:e.replace(/ /g,"&nbsp;")}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),i=r(s),o=n(15),l=r(o),u=n(17),c=r(u),d=n(16),p=r(d),f=n(1),m=r(f),h=n(1178),g=n(171),v=n(56),_=n(4),y=n(2),b=n(48),E=n(1184),C={completed:b.BLEND_GRBL_MEDIUM_BL,incomplete:b.GREY},I=(0,g.format)(".0%"),T=(0,g.format)(",.0f"),N=function(e){function t(e){(0,i.default)(this,t);var n=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={vizHeight:e.vizSize,vizWidth:e.vizSize,donutRadius:e.vizSize/2-e.margin},n.sizeComponent=n._sizeComponent.bind(n),n.setRef=n._setRef.bind(n),n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"_setRef",value:function(e){this.divRef=e}},{key:"centerForeground",value:function(){var e=(0,v.select)(this.divRef).select(".foreground-graphics"),t=this.state.donutRadius+this.props.margin;e.attr("transform",function(){return"translate("+t+","+t+")"})}},{key:"_sizeComponent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(0,E.isNullOrUndefined)(this.divRef)&&!(0,E.isNullOrUndefined)(this.props.values)){var t=this.divRef.getBoundingClientRect().width;if(e||t!==this.state.vizWidth){var n=t/2-this.props.margin;this.setState({vizWidth:t,vizHeight:t,donutRadius:n})}}}},{key:"componentDidMount",value:function(){this.centerForeground(),this.sizeComponent(),this.setAriaLabel(),window.addEventListener("resize",this.sizeComponent)}},{key:"componentDidUpdate",value:function(e){(0,_.isEqual)(this.props,e)||this.sizeComponent(!0),this.centerForeground(),this.setAriaLabel()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.sizeComponent)}},{key:"goodData",value:function(e){return!(0,E.isNullOrUndefined)(e)&&(!((0,E.isNullOrUndefined)(e.total)||e.total<=0)&&!(0,E.isNullOrUndefined)(e.completed))}},{key:"foreground",value:function(){if(this.goodData(this.props.values)){var e=this.props.values,t=e.completed,n=e.total,r=t/n;return[m.default.createElement("text",{className:"percent-complete",dy:"-24px"},I(r)),m.default.createElement("text",{className:"complete"},I18n.t("%{completed} out of %{total}",{completed:T(t),total:T(n)})),m.default.createElement("text",{className:"complete bold",dy:"22px"},I18n.t("Enrollments Complete"))]}return[m.default.createElement("text",{className:"no-data",dy:"8"},I18n.t("No data"))]}},{key:"setAriaLabel",value:function(){if(this.divRef){var e=this.props.values,t=this.goodData(e)?I18n.t("%{value}% enrollments complete (%{completed} out of %{total})",{value:Math.round(100*e.completed/e.total),completed:e.completed,total:e.total}):I18n.t("No enrollments complete"),n=this.divRef.querySelector(".data-visualization");n&&n.setAttribute("aria-label",t)}}},{key:"toolTip",value:function(e,t){if(!this.goodData(t))return null;var n="frame-hover"===e.type?e.data:e.column.pieceData[0].data,r="frame-hover"===e.type?n.value/t.total:e.column.pct,s=I18n.t({one:"1 enrollment",other:"%{count} enrollments"},{count:n.value});return m.default.createElement("div",{className:"tooltip-content"},m.default.createElement("span",{className:"bold",dangerouslySetInnerHTML:a(n.name())}),m.default.createElement("br",null),m.default.createElement("span",{dangerouslySetInnerHTML:a(s)}),m.default.createElement("br",null),m.default.createElement("span",null,I(r)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.margin,r=t.donutThickness,a=t.values;if((0,E.isNullOrUndefined)(a))return null;var s=function(){return I18n.t("Complete")},i=function(){return I18n.t("Incomplete")},o=[];if(this.goodData(a)){var l=a.completed,u=a.total;o.push({category:"completed",value:l,name:s}),o.push({category:"incomplete",value:u-l,name:i})}else o.push({category:"completed",value:0,name:s}),o.push({category:"incomplete",value:1,name:i});return m.default.createElement("div",{className:"dashboard-viz--compliance-canvas",ref:this.setRef},m.default.createElement(h.OrdinalFrame,{size:[this.state.vizWidth,this.state.vizHeight],data:o.filter(function(e){return e.value>0}),oAccessor:"category",dynamicColumnWidth:"value",rAccessor:(0,_.constant)(1),renderKey:function(e){return e.category},type:{type:"bar",innerRadius:this.state.donutRadius-r,offsetAngle:180},projection:"radial",style:function(e){return{fill:C[e.category],stroke:"white"}},foregroundGraphics:this.foreground(),margin:n,hoverAnnotation:!0,tooltipContent:function(t){return e.toolTip(t,a)}}))}}]),t}(f.Component);N.propTypes={values:(0,y.shape)({completed:y.number,total:y.number}),vizSize:y.number.isRequired,margin:y.number.isRequired,donutThickness:y.number.isRequired},N.defaultProps={vizSize:270,margin:20,donutThickness:15},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(227),l=n(11),u=r(l),c=n(455),d=r(c);t.default=s.default.createClass({displayName:"DashboardFooterWidget",propTypes:{range:i.string,start_date:i.string,end_date:i.string,dashboard:d.default,newCounts:(0,i.shape)({users:i.number,programs:i.number,liveCourses:i.number,courseTemplates:i.number})},getDefaultProps:function(){return{start_date:"2014-01-01",end_date:"2016-12-31",range:"90d",newCounts:{users:0,programs:0,liveCourses:0,courseTemplates:0},dashboard:{counts:{users:0,groups:0,courseTemplates:0,programs:0,managers:0,admins:0,liveCourses:0,authors:0}}}},getWhatsNewHeaderText:function(){var e=(0,o.dateRangeFor)(this.props.range,{customStart:this.props.start_date,customEnd:this.props.end_date,useRollingDates:!0}),t=e.label;if("custom"===this.props.range){var n=(0,u.default)(e.startDate),r=(0,u.default)(e.endDate),a="MMM DD, YY";n.year()===r.year()&&(a="MMM DD");var s=n.format(a),i=r.format(a);t=I18n.t("%{d1} - %{d2}",{d1:s,d2:i})}return"("+t+")"},renderWhatsNew:function(){return s.default.createElement("div",{className:"admin-dashboard__footer--whats-new pure-u-1 pure-u-sm-1-3"},s.default.createElement("div",{className:"admin-dashboard__footer--whats-new--header"},I18n.t("What's New"),""),s.default.createElement("div",{className:"admin-dashboard__footer--whats-new--header--mixed-case"},this.getWhatsNewHeaderText()),s.default.createElement("div",{className:"admin-dashboard__footer--whats-new--content"},s.default.createElement("table",{className:"whats-new"},s.default.createElement("tbody",null,s.default.createElement("tr",{className:"newCourses"},s.default.createElement("td",null,I18n.t("New Courses")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_new_courses"},this.props.newCounts.courseTemplates)),s.default.createElement("tr",{className:"newPrograms"},s.default.createElement("td",null,I18n.t("New Programs")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_new_programs"},this.props.newCounts.programs)),s.default.createElement("tr",{className:"newLiveCourses"},s.default.createElement("td",null,I18n.t("New Live Trainings")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_new_lts"},this.props.newCounts.liveCourses)),s.default.createElement("tr",{className:"newUsers"},s.default.createElement("td",null,I18n.t("New People")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_new_people"},this.props.newCounts.users))))))},renderContent:function(e){var t="admin-dashboard__footer--content pure-u-1 pure-u-sm-1-3";return e===!0&&(t="admin-dashboard__footer--content pure-u-1-2"),s.default.createElement("div",{className:t},s.default.createElement("div",{className:"admin-dashboard__footer--content--header"},I18n.t("Content")),s.default.createElement("div",{className:"admin-dashboard__footer--content--content"},s.default.createElement("table",{className:"content"},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,I18n.t("Courses")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_overview_courses"},this.props.dashboard.counts.courseTemplates)),s.default.createElement("tr",null,s.default.createElement("td",null,I18n.t("Programs")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_overview_programs"},this.props.dashboard.counts.programs)),s.default.createElement("tr",null,s.default.createElement("td",null,I18n.t("Live Trainings")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_overview_live_trainings"},this.props.dashboard.counts.liveCourses))))))},renderPeople:function(e){var t="admin-dashboard__footer--people pure-u-1 pure-u-sm-1-3";return e===!0&&(t="admin-dashboard__footer--people pure-u-1 pure-u-sm-1-2"),s.default.createElement("div",{className:t},s.default.createElement("div",{className:"admin-dashboard__footer--people--header"},I18n.t("People")),s.default.createElement("div",{className:"admin-dashboard__footer--content--content"},s.default.createElement("table",{className:"people"},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,I18n.t("Learners")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_overview_users"},this.props.dashboard.counts.users)),s.default.createElement("tr",null,s.default.createElement("td",null,I18n.t("Authors")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_overview_authors"},this.props.dashboard.counts.authors)),s.default.createElement("tr",null,s.default.createElement("td",null,I18n.t("Managers")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_overview_managers"},this.props.dashboard.counts.managers)),s.default.createElement("tr",null,s.default.createElement("td",null,I18n.t("Admins")),s.default.createElement("td",{className:"value","data-capybara":"dashboard_overview_admins"},this.props.dashboard.counts.admins))))))},render:function(){var e=!0;return"all"===this.props.range&&(e=!1),s.default.createElement("div",{className:"admin-dashboard__footer"},e&&this.renderWhatsNew(),this.renderContent(!e),this.renderPeople(!e))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(2),o=i.string,l=r.createClass({displayName:"DashboardHeader",propTypes:{titleText:o},getTitleText:function(){return this.props.titleText||I18n.t("Insights")},render:function(){return r.createElement("div",{className:"admin-dashboard__header"},r.createElement("div",{className:"admin-dashboard__header-icon-text"},r.createElement("span",{className:"admin-dashboard__header-icon-wrapper"},r.createElement(s,{"aria-hidden":"true",className:"gs-dashboard gs-1x admin-dashboard__header-icon"})),this.getTitleText()))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(46),s=r(a),i=n(1),o=r(i),l=n(23),u=n(98),c=r(u),d=n(134),p=r(d),f=n(3),m=n(4),h=n(75),g=n(171),v=n(58),_=r(v),y=n(48),b=o.default.createClass({displayName:"Label",propTypes:{label:f.string.isRequired,x:f.number.isRequired,y:f.number.isRequired,value:f.number.isRequired,bboxCallback:f.func.isRequired},getDefaultProps:function(){return{bboxCallback:null}},componentDidMount:function(){this.handleSizeCallback()},componentDidUpdate:function(){this.handleSizeCallback()},handleSizeCallback:function(){var e=this.props.bboxCallback;if(e){var t=(0,l.findDOMNode)(this).getBBox();e(this.props.label,{x:t.x+this.props.x,y:t.y+this.props.y,width:t.width,height:t.height})}},glyphmap:{phone:"",tablet:"",desktop:""},render:function(){var e=this.glyphmap[this.props.label];return o.default.createElement("g",{transform:"translate("+this.props.x+","+this.props.y+")"},o.default.createElement("text",{className:"glyph-label",y:28,dy:"0.35em"},(0,g.format)(".0%")(this.props.value)),o.default.createElement("text",{className:"glyph "+this.props.label,dy:"0.35em"},e))}});t.default=o.default.createClass({displayName:"DeviceDistributionWidget",propTypes:{data:(0,f.shape)({desktop:f.number,phone:f.number,tablet:f.number}),svgWidth:f.number.isRequired,svgHeight:f.number.isRequired,margin:f.number.isRequired,barHeight:f.number.isRequired,iconY:f.number.isRequired},getDefaultProps:function(){return{data:{desktop:0,phone:0,tablet:0},svgWidth:1e3,svgHeight:100,margin:32,barHeight:20,iconY:50}},labelBoundingBoxes:{},goodKey:function(e){return["phone","desktop","tablet"].indexOf(e)>=0},componentWillMount:function(){this.createParts(this.props.data)},componentDidMount:function(){this.manageLabelPositions()},componentWillReceiveProps:function(e){(0,m.isEqual)(this.props,e)||this.createParts(e.data)},shouldComponentUpdate:function(e,t){return!(0,m.isEqual)(this.props,e)||!(0,_.default)(this.state)&&(!(0,m.isEqual)(this.state.rects,t.rects)||!(0,m.isEqual)(this.state.labels,t.labels))},componentDidUpdate:function(){this.manageLabelPositions()},createParts:function(e){var t=this,n=(0,m.omitBy)(e,function(e,n){return 0===e||!t.goodKey(n)}),r=(0,m.values)(n).reduce(function(e,t){return e+t},0);if(0===r)return void this.setState({rects:{},labels:{}});var a=(0,m.mapValues)(n,function(e){return e/r}),s=(0,h.scaleLinear)().domain([0,1]).range([this.props.margin,this.props.svgWidth-this.props.margin]),i=s(0),o={};Object.keys(a).forEach(function(e){var n=s(a[e])-s(0);o[e]={x:i,y:0,width:n,height:t.props.barHeight},i+=n});var l={};Object.keys(o).forEach(function(e){l[e]={k:e,midpoint:o[e].x+o[e].width/2,value:a[e]}}),this.setState({rects:o,labels:l})},renderBars:function(e){return(0,_.default)(e)?null:Object.keys(e).map(function(t){return o.default.createElement("rect",{key:t,fill:"url(#distrib-gradient-"+t+")",x:e[t].x,y:e[t].y,width:e[t].width,height:e[t].height})})},renderLabels:function(e){var t=this;return(0,_.default)(e)?null:Object.keys(e).map(function(n){return o.default.createElement(b,{key:n,bboxCallback:function(e,n){t.labelBoundingBoxes[e]=n},x:e[n].midpoint,y:t.props.iconY,label:n,value:e[n].value})})},manageLabelPositions:function(){var e=this,t=this.labelBoundingBoxes,n=Object.keys(t).map(function(e){return{k:e,x:t[e].x,width:t[e].width}});if(!(n.length<2)){var r=this.props.svgWidth,a=function(e,t){return e.x<t.x?-1:e.x>t.x?1:0},i=function(e,t){return e.x+e.width+12-t.x},o=function(t){var n=!1,r=(0,m.cloneDeep)(e.state.labels);Object.keys(t).forEach(function(e){0!==t[e]&&(n=!0,r[e]&&(r[e].midpoint+=t[e]))}),n&&(e.setState({labels:r}),e.labelBoundingBoxes={})},l=n.sort(a),u={};l.forEach(function(e){u[e.k]=0});for(var c=function(e){var t=!0,n=null;if(l.forEach(function(e){if(n){var a=i(n,e);if(a>0){var s=a/2,o=0,l=0;if(n.x-=s,o-=s,e.x+=s,l+=s,n.x<0){var c=-n.x;e.x+=c,l+=c,n.x+=c,o+=c}if(e.x+e.width>r){var d=e.x+e.width-r;n.x-=d,o-=d,e.x-=d,l-=d}t=!1,u[n.k]+=o,u[e.k]+=l}}n=e}),t)return o(u),{v:void 0}},d=0;d<10;d++){var p=c(d);if("object"===("undefined"==typeof p?"undefined":(0,s.default)(p)))return p.v}}},render:function(){var e=(0,_.default)(this.state.rects)||0===Object.keys(this.state.rects).length,t="0 0 "+this.props.svgWidth+" "+this.props.svgHeight,n=100*this.props.svgHeight/this.props.svgWidth+"%";return o.default.createElement("div",{className:"dashboard-viz--device-distribution-canvas margin-t-s","data-capybara":"device-distribution-widget",style:{paddingTop:n}},o.default.createElement(p.default,{viewBox:t,startingWidth:this.props.svgWidth,startingHeight:this.props.svgHeight,preserveAspectRatio:"xMidYMid meet"},o.default.createElement(c.default,{color1:y.BLEND_GRBL_NARROW_GR,color2:y.BLEND_GRBL_NARROW_BL,id:"distrib-gradient-phone"}),o.default.createElement(c.default,{color1:y.BLEND_CYPU_NARROW_CY,color2:y.BLEND_CYPU_NARROW_PU,id:"distrib-gradient-tablet"}),o.default.createElement(c.default,{color1:y.BLEND_PKPU_NARROW_PK,color2:y.BLEND_PKPU_NARROW_PU,id:"distrib-gradient-desktop"}),!e&&[this.renderBars(this.state.rects),this.renderLabels(this.state.labels)],e&&o.default.createElement("text",{x:this.props.svgWidth/2,y:this.props.svgHeight/2,className:"nodata"},I18n.t("No data"))))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.any,i=a.func,o=a.number,l=a.string;e.exports=r.createClass({displayName:"GradientText",propTypes:{gradient:i.isRequired,textAnchor:l,height:o.isRequired,width:o.isRequired,children:s},render:function(){return r.createElement("svg",{height:this.props.height,width:this.props.width,viewBox:"0 0 "+this.props.width+" "+this.props.height},r.createElement("defs",null,r.createElement(this.props.gradient,null)),r.createElement("text",{textAnchor:"middle",x:"50%",y:"90%",fill:this.props.gradient.getFill()},this.props.children))}})},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=a.number,o=a.oneOf,l=a.string,u="average-completion-main__above",c="average-completion-main__behind",d=r.createClass({displayName:"AverageCompletionPopup",propTypes:{averageType:o(["team","company","combined"]).isRequired,companyCompletionRate:i.isRequired,teamCompletionRate:i.isRequired,companyName:l.isRequired,domID:l.isRequired,companyEnrollmentCount:i.isRequired,companyAverageEnrollments:i,teamEnrollmentCount:i.isRequired,teamAverageEnrollments:i,onMouseEnter:s.isRequired,onMouseLeave:s.isRequired},getDefaultProps:function(){return{onMouseEnter:Function.prototype,onMouseLeave:Function.prototype}},render:function(){return r.createElement("div",{className:"hero-popup-content",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},r.createElement("div",{className:"average-completion-main"},this.renderCompletionRate(),this.renderPopupTitle(),this.renderAheadBehind(),this.renderDetails()))},renderCompletionRate:function(){var e=this.props,t=e.averageType,n=e.companyCompletionRate,a=e.teamCompletionRate,s=Math.round(100*("team"===t?a:n));return r.createElement("div",{className:"average-completion-main__average-circle "+t},s,r.createElement("span",{className:"small text-top"},"%"))},renderPopupTitle:function(){var e=this.props,t=e.averageType,n=e.companyName,a="average-completion-main__title";return"combined"===t?r.createElement("div",{className:a},I18n.t("The stars have aligned!")):"team"===t?r.createElement("div",{className:a},I18n.t("Your Team's Average Completion Rate")):r.createElement("div",{className:a},I18n.t("%{name}'s Average Completion Rate",{name:n}))},renderDetails:function(){var e="company"===this.props.averageType?this.props.companyEnrollmentCount:this.props.teamEnrollmentCount,t="company"===this.props.averageType?this.props.companyAverageEnrollments:this.props.teamAverageEnrollments,n="company"===this.props.averageType?this.props.companyName:I18n.t("Your team"),a=I18n.t({one:"%{who} has *1 enrollment*.",other:"%{who} has *%{count} enrollments*."},{wrappers:["<b>$1</b>"],count:e,who:n}),s="number"==typeof t?I18n.t({one:"That's an average of 1 enrollment per person.",other:"That's an average of %{count} enrollments per person."},{count:Math.round(t)}):"";return r.createElement("div",{className:"average-completion-main__details",dangerouslySetInnerHTML:{__html:a+" "+s}})},renderAheadBehind:function(){var e=this.props,t=e.averageType,n=e.companyCompletionRate,a=e.companyName,s=e.teamCompletionRate;if("combined"===t)return r.createElement("div",{className:u},I18n.t("Your Team and Company's Average Completion Rates are the Same"));var i=void 0,o=void 0,l="team"===t?a:I18n.t("your team"),d=(s-n)*("team"===t?1:-1);return d>0?(i=u,o=I18n.t("*%{amount}%* ahead of %{compareName}",{wrappers:["<b>$1</b>"],compareName:l,amount:Math.round(100*Math.abs(d))})):(i=c,o=I18n.t("*%{amount}%* behind %{compareName}",{wrappers:["<b>$1</b>"],compareName:l,amount:Math.round(100*Math.abs(d))})),r.createElement("div",{className:i,dangerouslySetInnerHTML:{__html:o}})}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(46),s=r(a),i=n(1),o=r(i),l=n(23),u=r(l),c=n(56),d=n(171),p=n(258),f=n(75),m=n(31),h=r(m),g=n(1268),v=n(4),_=n(3),y=n(111),b=r(y),E=n(1263),C=r(E),I=n(134),T=r(I),N=n(48),S=20;t.default=o.default.createClass({displayName:"Averages",propTypes:{showLabels:_.bool.isRequired,showScale:_.bool.isRequired,showPopup:_.bool.isRequired,tickCount:_.number.isRequired,svgWidth:_.number.isRequired,svgHeight:_.number.isRequired,margin:_.number.isRequired,accountCompletionCounts:(0,_.shape)({totalEnrollments:_.number.isRequired,completedEnrollments:_.number.isRequired,totalLearners:_.number}).isRequired,teamCompletionCounts:(0,_.shape)({totalEnrollments:_.number.isRequired,completedEnrollments:_.number.isRequired,totalLearners:_.number}).isRequired,locale:_.string.isRequired},getDefaultProps:function(){return{showLabels:!0,showScale:!0,showPopup:!0,tickCount:9}},getInitialState:function(){return{gradientId:"grad"}},componentWillMount:function(){this.popupProxy=(0,C.default)(this.props.svgWidth,this.props.margin)},componentDidMount:function(){this.popupProxy.setPopup(this.refs.popup);var e=u.default.findDOMNode(this);this.setState({svg:(0,c.select)(e),gradientId:(0,v.uniqueId)("dashboard-hero-averages-")},this.drawWidget)},componentDidUpdate:function(e){(0,v.isEqual)(e.accountCompletionCounts,this.props.accountCompletionCounts)&&(0,v.isEqual)(e.teamCompletionCounts,this.props.teamCompletionCounts)&&(0,v.isEqual)(e.locale,this.props.locale)||this.drawWidget()},onMouseEnterResult:function(e){this.props.showPopup&&(this.popupProxy.onMouseEnterResult(e),this.forceUpdate());
},onMouseLeaveResult:function(){var e=this;this.props.showPopup&&this.popupProxy.onMouseLeaveResult().then(function(){return e.forceUpdate()})},renderAxis:function(e){var t=this.props,n=t.svgHeight,r=t.showScale,a=t.tickCount,s=this.state.svg,i=40,o=(0,p.axisTop)().scale(e).tickFormat(r?(0,d.format)(".0%"):"").tickValues((0,v.range)(a).map(function(e){return e/(a-1)})),l=s.append("g").attr("class","dashboard-viz__axis-hero").attr("transform","translate(0, "+(i-n/2)+")").call(o);l.selectAll("line").attr("y2",15),l.selectAll("text").attr("class",function(e,t){return t%2?"dashboard-viz__axis-hero__minor-label x-small":"dashboard-viz__axis-hero__major-label x-small"})},renderAverages:function(e){var t=this,n=this.props,r=n.accountCompletionCounts,a=n.svgHeight,s=n.svgWidth,i=n.teamCompletionCounts,o=n.showLabels,l=n.showScale,u=this.state,d=u.svg,p=u.gradientId,f=5,m=8,_=10,y=40,b=(0,g.completionAverage)(r),E=(0,g.completionAverage)(i),C=Math.abs(b-E),I={companyCompletionRate:b,teamCompletionRate:E,companyName:h.default.get("DOMAIN.name"),companyEnrollmentCount:r.totalEnrollments,teamEnrollmentCount:i.totalEnrollments,companyAverageEnrollments:(0,g.enrollmentsAverage)(r),teamAverageEnrollments:(0,g.enrollmentsAverage)(i)};if(C<=.001){var T=e(b),N=(0,v.merge)({averageType:"combined",domID:"combined-avg"},I),x=d.append("g").attr("class","combined-average-g").attr("transform","translate("+T+", "+(-a/2+y+7)+")"),A=x.append("g").attr("id",N.domID).on("mouseenter",function(){return t.onMouseEnterResult(N)}).on("touchstart",function(){return t.onMouseEnterResult(N)}).on("mouseleave",function(){return t.onMouseLeaveResult(N)});A.append("circle").attr("r",m).style("fill","url(#"+p+"-splitGradient)").style("stroke","url(#"+p+"-splitGradientBorder)");var k,w=x.append("rect").attr("width","40").attr("height","16").attr("x","-28").attr("y",-S-11).attr("fill","url(#"+p+"-percentageGradient)"),R=Math.round(100*b).toString(),O=x.append("text").attr("class","hero-average__combined-percent-label").attr("y",-S+4).text(I18n.t("%{percent}%",{percent:R}));if(O.attr("transform",function(){return k=this.getComputedTextLength()/2,T-k<0?"translate("+k+", 0)":T+k>s?"translate("+-k+", 0)":null}),w.attr("transform",function(){return T-k<0?"translate("+k+", 0)":T+k>s?"translate("+-k+", 0)":null}),o){var P=x.append("text").attr("class","hero-average__average-label").attr("y",S+f).text(I18n.t("Your Team and Company"));P.attr("transform",function(){return k=this.getComputedTextLength()/2,T-k<0?"translate("+k+", 0)":T+k>s?"translate("+-k+", 0)":null})}var L=O.node().getBBox(),M=L.width;w.attr("width",M+2*_),w.attr("x",L.x-_)}else{var D=(0,v.merge)({averageType:"company",domID:"company-avg"},I),U=(0,v.merge)({averageType:"team",domID:"team-avg"},I);d.append("g").attr("class","company-average-g").attr("transform","translate("+e(b)+", "+(-a/2+y+7)+")").attr("id",D.domID).on("mouseenter",function(){t.onMouseEnterResult(D)}).on("mouseleave",function(){t.onMouseLeaveResult(D)}).append("circle").attr("r",m);var F=[{label:I18n.t("Your Company"),wantX:e(b),y:-a/2+y+7,textclass:"hero-average__average-label"}],q=[{label:I18n.t("%{percent}%",{percent:String(Math.round(100*b))}),wantX:e(b),y:-a/2+S,textclass:"hero-average__company-percent-label"}];"number"==typeof E&&(d.append("g").attr("class","team-average-g").attr("transform","translate("+e(E)+", "+(-a/2+y+7)+")").attr("id",U.domID).on("mouseenter",function(){t.onMouseEnterResult(U)}).on("mouseleave",function(){t.onMouseLeaveResult(U)}).append("circle").attr("r",m),F.push({label:I18n.t("Your Team"),wantX:e(E),y:-a/2+y+7,textclass:"hero-average__average-label"}),q.push({label:I18n.t("%{percent}%",{percent:String(Math.round(100*E))}),wantX:e(E),y:-a/2+S,textclass:"hero-average__team-percent-label"})),o&&d.selectAll(".average-label-g").data(F,function(e){return e.label}).enter().append("g").attr("class","average-label-g").attr("transform",function(e){return"translate("+e.wantX+", "+e.y+")"}).append("text").attr("class",function(e){return e.textclass}).attr("y",S+f).text(function(e){return e.label});var B=d.selectAll(".percent-label-g").data(q,function(e){return e.label}).enter().append("g");B.attr("class","percent-label-g").attr("transform",function(e){return"translate("+e.wantX+", "+e.y+")"}),l&&B.attr("background","white").append("rect").attr("width","40").attr("height","15").attr("x","-25").attr("y","-2").attr("fill","url(#"+p+"-percentageGradient)"),B.append("text").attr("class",function(e){return e.textclass}).attr("y",S-8).text(function(e){return e.label}),d.selectAll(".average-label-g").each(function(e,t){var n=(0,c.select)(this).select("text"),r=n.node().getComputedTextLength();if(F.length>1){var a=F[(t+1)%2];e.wantX<a.wantX&&e.wantX+r>a.wantX&&(n.text(e.label+"|"),r=n.node().getComputedTextLength())}e.x=e.wantX,e.r=r/2}),d.selectAll(".percent-label-g").each(function(e,t){var n=(0,c.select)(this).select("text"),r=(0,c.select)(this).select("rect"),a=n.node().getBBox(),s=a.width;if(q.length>1){var i=q[(t+1)%2];e.wantX<i.wantX&&e.wantX+s>i.wantX?s=n.node().getComputedTextLength():(r.attr("width",a.width+2*_),r.attr("x",a.x-_))}e.x=e.wantX,e.r=s/2,r.attr("y",a.y),r.attr("height",a.height)}),this.separateAxisLabels(F),this.separateAxisLabels(q),d.selectAll(".average-label-g").data(F,function(e){return e.label}).attr("transform",function(e){return"translate("+e.x+", "+e.y+")"}),d.selectAll(".percent-label-g").data(q,function(e){return e.label}).attr("transform",function(e){return"translate("+e.x+", "+e.y+")"})}},separateAxisLabels:function(e){if(!(e.length<2))for(var t=this.props.svgWidth,n=function(e,t){return e.wantX<t.wantX?-1:e.wantX>t.wantX?1:0},r=function(e,t){return e.x+e.r-(t.x-t.r)},a=e.sort(n),i=function(e){var n=!0,s=null;if(a.forEach(function(e){if(s){var a=r(s,e);if(a>0){var i=a/2;if(s.x-=i,e.x+=i,s.x<s.r){var o=s.r-s.x;e.x+=o,s.x+=o}if(e.x+e.r>t){var l=e.x+e.r-t;s.x-=l,e.x-=l}n=!1}}s=e}),n)return{v:void 0}},o=0;o<10;o++){var l=i(o);if("object"===("undefined"==typeof l?"undefined":(0,s.default)(l)))return l.v}},drawWidget:function(){var e=this.props,t=e.svgWidth,n=e.margin,r=this.state.svg;r.selectAll("g").remove();var a=(0,f.scaleLinear)().domain([0,1]).range([n,t-n]);this.renderAxis(a),this.renderAverages(a)},render:function(){var e=this.state.gradientId,t=this.props,n=t.svgWidth,r=t.svgHeight,a="0 "+-r/2+" "+n+" "+r;return o.default.createElement(b.default,{ref:"popup",content:this.popupProxy.getPopupContent(),positioningAnchor:this.popupProxy.getAnchor(),reactivePositioning:!0,popupClassName:"hero-popup",popupOptions:this.popupProxy.getPopupOptions()},o.default.createElement(T.default,{viewBox:a,preserveAspectRatio:"xMidYMid meet",className:"hero-average",startingWidth:n,startingHeight:r},o.default.createElement("defs",null,o.default.createElement("linearGradient",{id:e+"-percentageGradient",key:"3",gradientUnits:"objectBoundingBox"},o.default.createElement("stop",{offset:"0%",stopColor:"rgba(242, 243, 247, 0)"}),o.default.createElement("stop",{offset:"10%",stopColor:"rgba(242, 243, 247, 0.8)"}),o.default.createElement("stop",{offset:"20%",stopColor:"rgba(242, 243, 247, 1)"}),o.default.createElement("stop",{offset:"80%",stopColor:"rgba(242, 243, 247, 1)"}),o.default.createElement("stop",{offset:"90%",stopColor:"rgba(242, 243, 247, 0.8)"}),o.default.createElement("stop",{offset:"100%",stopColor:"rgba(242, 243, 247, 0)"})),o.default.createElement("linearGradient",{id:e+"-splitGradient",key:"1",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},o.default.createElement("stop",{offset:"45%",stopColor:N.BRIGHT_BLUE}),o.default.createElement("stop",{offset:"50%",stopColor:N.PALE_YELLOW}),o.default.createElement("stop",{offset:"60%",stopColor:N.ORANGE})),o.default.createElement("linearGradient",{id:e+"-splitGradientBorder",key:"2",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},o.default.createElement("stop",{offset:"50%",stopColor:N.DIM_BLUE}),o.default.createElement("stop",{offset:"50%",stopColor:N.YELLOW})))))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(56),u=n(4),c=n(3),d=n(2190),p=r(d),f=n(134),m=r(f),h=(0,c.shape)({r:c.number.isRequired,id:c.number.isRequired,domID:c.string.isRequired,totalEnrollments:c.number.isRequired,lab:c.string.isRequired});t.default=s.default.createClass({displayName:"Avatars",propTypes:{largeAvatar:h,smallAvatar:h,svgWidth:c.number,svgHeight:c.number,margin:c.number},getDefaultProps:function(){return{svgWidth:215,svgHeight:70,margin:3}},componentDidMount:function(){var e=(0,l.select)(o.default.findDOMNode(this)),t=this.props,n=t.svgWidth,r=t.svgHeight,a=t.margin,s=(0,u.cloneDeep)(this.props),i=s.largeAvatar,c=s.smallAvatar,d=r/2-a;i.r!==d&&(c.r=c.r*(d/i.r),i.r=d),[i,c].forEach(function(e){e.y=e.inity=-1*(e.r+a),e.id=e.id+"-explainer"});var f=(n-(2*i.r+2*c.r))/2;i.x=i.initx=f+i.r-a,c.x=c.initx=i.x+i.r+c.r+2*a,(0,p.default)(e,[i,c]);var m=e.append("text").attr("text-anchor","middle").attr("class","enrollment-number").style("font-size",12).style("font-weight","bold").text(i.totalEnrollments).attr("x",20).attr("y",-4),h=m.node().getBBox(),g=h.x+h.width+a,v=f;e.append("path").attr("d","M"+g+",-8L"+v+",-8").attr("class","enrollment-line");var _=e.append("text").attr("text-anchor","middle").attr("class","enrollment-number").style("font-size",12).style("font-weight","bold").text(c.totalEnrollments).attr("x",n-20).attr("y",-4),y=_.node().getBBox(),b=f+2*i.r+2*c.r+2*a,E=y.x-a;e.append("path").attr("d","M"+b+",-8L"+E+",-8").attr("class","enrollment-line")},render:function(){var e=this.props,t=e.svgWidth,n=e.svgHeight,r="0 "+-1*n+" "+t+" "+n;return s.default.createElement(m.default,{startingWidth:t,startingHeight:n,viewBox:r,preserveAspectRatio:"xMidYMid meet"})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(134),l=r(o);t.default=s.default.createClass({displayName:"Overflow",propTypes:{overflowCount:i.number.isRequired,radius:i.number},getDefaultProps:function(){return{radius:25}},fontSize:function(){var e=this.props,t=e.overflowCount,n=e.radius,r=0;return t<10?r=2:t>=100&&(r=-3),.875*n+r},render:function(){return s.default.createElement(l.default,{startingWidth:215,startingHeight:70,viewBox:"-107.5 -35 215 70"},s.default.createElement("g",{className:"data-g overflow"},s.default.createElement("circle",{className:"dashboard-viz--avatar-outline",r:this.props.radius+2}),s.default.createElement("circle",{r:this.props.radius,className:"data-circle",fill:"#576474"}),s.default.createElement("text",{textAnchor:"middle",className:"circle-label",id:"overflow-explainer",fontSize:this.fontSize(),dy:"0.32em",fill:"#ffffff"},"+"+this.props.overflowCount)))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(2),l=o.bool,u=o.func,c=o.number,d=o.oneOfType,p=o.string,f=n(13),m=n(65),h=n(82),g=n(58),v=n(107),_=n(743),y=i.createClass({displayName:"IndividualPopup",propTypes:{completedEnrollments:c.isRequired,overdueEnrollments:c,id:d([c,p]).isRequired,name:p.isRequired,email:p,unsubscribed:l,avatarUrl:p,totalEnrollments:c.isRequired,onMouseEnter:u,onMouseLeave:u},getInitialState:function(){return{overlayOpen:!1}},getDefaultProps:function(){return{onMouseEnter:Function.prototype,onMouseLeave:Function.prototype}},canSendMessage:function(){return v.get("notifications")&&this.props.unsubscribed!==!0&&!g(this.props.email)&&this.props.email.length>0},openOverlay:function(){this.props.onMouseLeave(),this.setState({overlayOpen:!0,originalBodyOverflow:document.body.style.overflow}),document.body.style.overflow="hidden"},closeOverlay:function(){this.setState({overlayOpen:!1}),document.body.style.overflow=this.state.originalBodyOverflow},render:function(){var e=this.props,t=e.completedEnrollments,n=e.overdueEnrollments,r=e.totalEnrollments,a=0===r?0:Math.round(t/r*100),o=[{id:this.props.id,name:this.props.name,avatarUrl:this.props.avatarUrl,email:this.props.email}];return i.createElement("div",{className:"hero-popup-content",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},i.createElement("div",{className:"hero-popup-main"},i.createElement("div",null,i.createElement(m,(0,s.default)({},this.props,{className:"hero-popup-avatar-centered dashboard-viz--avatar-divhalo__avatar"})),i.createElement("div",{className:"x-medium bold text-center leading-normal overflow-ellipsis"},this.props.name)),i.createElement("table",{className:"enrollment-data margin-tb-s"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",null,I18n.t("Enrollments")),i.createElement("td",null,r)),i.createElement("tr",{className:"light-green"},i.createElement("td",null,I18n.t("Completed")),i.createElement("td",null,t)),i.createElement("tr",{className:"pink"},i.createElement("td",null,I18n.t("Overdue")),i.createElement("td",null,n)),i.createElement("tr",null,i.createElement("td",null,I18n.t("Completion Rate")),i.createElement("td",null,a+"%"))))),i.createElement("div",{className:"hero-popup-actions"},i.createElement("div",{className:"hero-popup-actions__action hero-popup-actions__action--grow"},i.createElement(f,{className:"block label dark-grey padding-s text-center",to:"author.learner",params:[{userId:this.props.id}],children:I18n.t("View Enrollments")})),this.canSendMessage()&&i.createElement("div",{className:"hero-popup-actions__action"},i.createElement(h,{buttonClassName:"btn btn--reset",icon:"message",iconClassName:"dark-grey",onClick:this.openOverlay,label:I18n.t("Send Message")}),i.createElement(_,{ref:"messageoverlay",overlayOpen:this.state.overlayOpen,users:o,closeOverlay:this.closeOverlay}))))}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(24),l=r(o),u=n(1265),c=r(u),d=s.default.createClass({displayName:"OverflowPopup",propTypes:{overflowData:(0,i.arrayOf)(i.object).isRequired,scale:i.func.isRequired,onMouseEnter:i.func,onMouseLeave:i.func},getDefaultProps:function(){return{onMouseEnter:Function.prototype,onMouseLeave:Function.prototype}},render:function(){var e=this.props,t=e.overflowData,n=e.scale;return s.default.createElement("div",{className:"hero-popup-overflow",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},s.default.createElement("div",{className:"hero-popup-overflow__title"},s.default.createElement(l.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Learners near %{math_round_scale_overflow_data_0_x}% Completion",{math_round_scale_overflow_data_0_x:"%{math_round_scale_overflow_data_0_x}"}),math_round_scale_overflow_data_0_x:Math.round(n(t[0].x))},"$1"))),s.default.createElement("div",{className:"hero-popup-overflow__scroll-area"},t.map(function(e,t){return s.default.createElement(c.default,{person:e,key:t})})))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(65),s=n(319),i=r(s),o=n(267),l=n(48),u=["nikki-sixx","dee-snider","david-lee-roth","axl-rose"];t.default=function(e,t){var n=void 0,r=function(){n=e.selectAll(".data-g").data(t).enter().append("g").attr("class","data-g").classed("overflow",function(e){return e.overflow}).attr("transform",function(e){return"translate("+(e.initx||e.x)+","+(e.inity||e.y)+")"})},s=function(){n.append("circle").attr("class","dashboard-viz--avatar-outline").attr("r",function(e){return e.r+2}),n.append("circle").attr("r",function(e){return e.r}).attr("class","data-circle").attr("fill",function(e){return e.overflow?l.BLUE_GREY:"url(#"+(0,o.getUniqueClassName)(e.id,u)+")"})},c=function(){n.append("text").attr("text-anchor","middle").attr("class","circle-label").attr("dy","0.32em").style("font-size",function(e){var t=0;return e.overflow&&e.overflow<10?t=2:e.overflow&&e.overflow>=100&&(t=-3),.875*e.r+t+"px"}).attr("id",function(e){return e.domID}).text(function(e){return e.overflow?e.lab:(0,i.default)(e.lab)})},d=function(){n.append("defs").append("pattern").attr("id",function(e){return e.id+"-avatar"}).attr("width",1).attr("height",1).attr("x",0).attr("y",0).append("image").attr("x",0).attr("y",0).attr("width",function(e){return 2*e.r}).attr("height",function(e){return 2*e.r}).attr("xlink:href",function(e){return(0,a.userUrl)(e.avatarUrl,e.email,2*e.r)})},p=function(){n.append("circle").attr("class","avatar-circle").attr("r",function(e){return e.r}).attr("fill",function(e){return"url(#"+e.id+"-avatar)"})};return r(),s(),c(),d(),p(),n},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(139),s=r(a),i=n(71),o=n(562),l=void 0,u=void 0,c=function(e,t,n){return e>=t&&e<=n},d=function(e,t){return((e.margin||0)+(t.margin||0))/2},p=function(e,t){return e.x<t.x?e.x+e.r+d(e,t)>t.x-t.r:e.x-e.r-d(e,t)<t.x+t.r},f=function(e,t){var n=[],r=t.r+u,a=t.x-r,s=t.x+r;return e.visit(function(e,r,i,o){return!e.length&&p(e.data,t)&&n.push(e.data),r>s||o<a}),n},m=function(e,t){var n=t.map(function(t){var n=e.r+t.r+d(e,t),r=t.x-e.x,a=Math.sqrt(n*n-r*r);return[t.y-a,t.y+a]}).filter(function(e){return!isNaN(e[0])}).filter(function(e){return!isNaN(e[1])}).sort(function(e,t){return e[0]-t[0]}),r=[];n.forEach(function(e,t){n.forEach(function(n,a){if(t!==a&&r.findIndex(function(e){return e===t})<0&&e[0]>n[0]&&e[1]<n[1])return void r.push(t)})}),r.sort(function(e,t){return t-e}).forEach(function(e){return n.splice(e,1)}),n.unshift([-(1/0),n[0][0]]),n.push([n.slice(-1)[0][1],1/0]);var a=i.zip.apply(void 0,(0,s.default)(n));a[0].shift();var o=a[0].map(function(e,t){return e>=a[1][t]?e:1/0});return o.reduce(function(e,t){return Math.abs(e-l)<Math.abs(t-l)?e:t})},h=function(e,t,n){var r=Math.floor((t.x1-t.x0)/n/2),a=(0,i.histogram)().value(function(e){return e.x}).thresholds(r).domain([t.x0,t.x1]);return a(e).filter(function(e){return e.length>0}).map(function(e){return{x:(0,i.mean)(e,function(e){return e.x}),y:0,r:n,overflow:e.length,overflowMin:e.x0,overflowMax:e.x1,overflowData:e}})},g=function(e,t){var n=(0,o.quadtree)().x(function(e){return e.x}).y(function(e){return e.y});l=(t.y0+t.y1)/2,u=(0,i.max)(e,function(e){return e.r});var r=[],a=[];if(e.forEach(function(e){var s=f(n,e);s.length>0?(e.y=m(e,s),c(e.y,t.y0,t.y1)?(r.push(e),n.add(e)):a.push(e)):(r.push(e),n.add(e))}),0===a.length)return r;r=h(a,t,(0,i.mean)(r,function(e){return e.r+e.margin})).concat(r);var s=[];u=(0,i.max)(r,function(e){return e.r});var d=(0,o.quadtree)().x(function(e){return e.x}).y(function(e){return e.y});return r.forEach(function(e){var n=f(d,e);if(n.length>0)if(e.y=m(e,n),c(e.y,t.y0,t.y1))s.push(e),d.add(e);else{var a=r.filter(function(t){return t.overflow&&c(e.x,t.overflowMin,t.overflowMax)});a.length>0&&(a[0].overflow++,a[0].overflowData.push(e))}else s.push(e),d.add(e)}),s};t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.end=t.action=t.start=void 0;var a=n(75),s=n(71),i=n(717),o=n(56),l=n(41),u=r(l),c=n(4),d=n(19),p=r(d),f=n(58),m=r(f),h=n(48),g=2,v=12,_=null,y=null,b=null,E=function(e){return!e.overflow&&(e.unsubscribed||(0,m.default)(e.email)||0===e.email.length)},C=function(e){var t=e.svg,n=e.extent,r=e.onSelect,l=e.onCancel,c=(0,a.scaleLinear)().domain([n.x0,n.x1]).range([h.PINK,h.LIGHT_GREEN]),d=void 0;_=t,(0,u.default)(null===y,"Started multi-select when already was started");var p=(0,a.scaleLinear)().domain([0,1]).range([n.x0,n.x1]),f=function(){var e=_.append("g").attr("class","multiselect__action-g"),t=e.append("g").on("mouseup",r).on("touchend",r),a=t.append("text").text(I18n.t("Select")).attr("dy","0.3em").node().getBBox(),s=a.height+2*g,i=a.width+2*v;t.insert("rect","text").attr("class","multiselect--select").attr("x",-i/2).attr("y",-s/2).attr("height",s).attr("width",i).attr("rx",s/2).attr("ry",s/2);var o=e.append("g").on("mouseup",l).on("touchend",l).attr("transform","translate("+(i/2+1.2*v)+")");o.append("text").text("").attr("dy","0.3em"),o.insert("circle","text").attr("class","multiselect--cancel").attr("r",s/2),d=n.y1+s/2+1},m=function(){b=o.event.selection,_.selectAll(".data-g").classed("multiselect__unselected",function(e){return b[0]>e.x||e.x>b[1]||E(e)}),y.selectAll(".handle").style("fill",function(e){return c(b["w"===e.type?0:1])}),y.selectAll(".resize-circle").style("fill",function(e){return c(b["w"===e?0:1])}).attr("cx",function(e){return b["w"===e?0:1]}).attr("cy",0),_.select(".multiselect__action-g").attr("transform","translate("+(0,s.mean)(b)+","+d+")")},C=(0,i.brushX)().extent([[n.x0,n.y0],[n.x1,n.y1]]).handleSize(3).on("start",m).on("brush",m).on("end",function(){null===o.event.selection&&(b[1]+=.01,C.move(y,b))});y=_.append("g").attr("class","multiselect__brush-g").call(C),y.selectAll(".resize-circle").data(["w","e"]).enter().append("circle").attr("class","resize-circle").attr("r",6),f(),C.move(y,[.15,.37].map(p))},I=function(){(0,u.default)(y,"Tried to multi-select action when none was in progress");var e=(0,i.brushSelection)(y.node()),t=function(e){return{id:e.id,name:e.name,avatarUrl:e.avatarUrl,email:e.email}},n=(0,c.flatten)(_.selectAll(".dashboard-viz--hero-canvas .data-g").filter(function(t){return e[0]<=t.x&&t.x<=e[1]}).nodes().map(function(e){return e.__data__}).map(function(e){return e.overflow?e.overflowData:e})),r=n.filter(function(e){return E(e)}).length;return n.length-r===0&&(0,p.default)(I18n.t("Your selection did not include any emailable users."),{type:"error"}),{selected:n.filter(function(e){return!E(e)}).map(function(e){return t(e)}),noEmail:r}},T=function(){_&&(y.remove(),_.selectAll(".dashboard-viz--hero-canvas .multiselect__action-g").remove(),_.selectAll(".dashboard-viz--hero-canvas .data-g").classed("multiselect__unselected",!1),_=null),y=null};t.start=C,t.action=I,t.end=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2194),o=r(i),l=n(3),u=n(12),c=function(e){var t=e.mode,n=e.learnerCount,r=e.range;return s.default.createElement("div",null,s.default.createElement("div",{className:"learner-count-text margin-s"},s.default.createElement(o.default,{mode:t,learnerCount:n,range:r})))};c.propTypes={mode:(0,l.oneOf)([u.ADMIN_DASHBOARD_MODE_OVERDUE,u.ADMIN_DASHBOARD_MODE_COMPLETED]).isRequired,learnerCount:l.number,range:(0,l.shape)({range:l.string,start_date:l.date,end_date:l.date}).isRequired},t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(1),i=r(s),o=n(1260),l=r(o),u=n(134),c=r(u),d=n(12),p=i.default.createClass({displayName:"LearnerCountText",propTypes:{mode:(0,a.oneOf)([d.ADMIN_DASHBOARD_MODE_OVERDUE,d.ADMIN_DASHBOARD_MODE_COMPLETED]).isRequired,learnerCount:a.number,svgWidth:a.number,svgHeight:a.number,range:(0,a.shape)({range:a.string,start_date:a.date,end_date:a.date})},getInitialState:function(){return{svgWidth:210,svgHeight:150}},componentDidMount:function(){var e=this.refs.svg.props.viewBox.split(" ");this.setState({svgWidth:Number(e[2]),svgHeight:Number(e[3])}),this.resizeText(this.refs.text),this.centerText(this.refs.text)},componentDidUpdate:function(){this.resizeText(this.refs.text),this.centerText(this.refs.text)},resizeText:function(e){var t=104;e.style.fontSize=t+"px";for(var n=e.getBBox(),r=30;n.width>this.state.svgWidth-r&&t>0;)t-=2,e.style.fontSize=t+"px",n=e.getBBox()},centerText:function(e){var t=Number(e.getAttribute("y")),n=e.getBBox();e.setAttribute("y",this.state.svgHeight/2-n.height/2-n.y+t)},getCaption:function(){return this.props.mode===d.ADMIN_DASHBOARD_MODE_OVERDUE?String(I18n.t({one:"Overdue Learner",other:"Overdue Learners"},{count:this.props.learnerCount})):String(I18n.t({one:"Completed Learner",other:"Completed Learners"},{count:this.props.learnerCount}))},getTopGradientStop:function(){return this.props.mode===d.ADMIN_DASHBOARD_MODE_OVERDUE?"#ed3685":"#27e9ff"},getBottomGradientStop:function(){return this.props.mode===d.ADMIN_DASHBOARD_MODE_OVERDUE?"#6a35c8":"#3a9cff"},getReportId:function(){return this.props.mode===d.ADMIN_DASHBOARD_MODE_OVERDUE?"OverdueLearnersReport":"CompletedLearnersReport"},render:function(){return i.default.createElement("div",null,i.default.createElement("div",{className:"admin-dashboard__"+this.props.mode+"-count","data-capybara":"admin-dashboard__"+this.props.mode+"-count"},i.default.createElement(c.default,{ref:"svg",viewBox:"0 0 210 150",startingWidth:this.state.svgWidth,startingHeight:this.state.svgHeight},i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"gradient-"+this.props.mode,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},i.default.createElement("stop",{offset:"0%",stopColor:this.getTopGradientStop()}),i.default.createElement("stop",{offset:"100%",stopColor:this.getBottomGradientStop()}))),i.default.createElement("text",{ref:"text",textAnchor:"middle",x:"50%",y:"112.5",fill:"url(#gradient-"+this.props.mode+")"},I18n.toNumber(this.props.learnerCount,{precision:0})))),i.default.createElement("div",{className:"x-medium admin-dashboard__text_count"},this.getCaption()),i.default.createElement(l.default,{reportId:this.getReportId(),dateRange:this.props.range}))}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{__html:e.replace(/ /g,"&nbsp;")}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),i=r(s),o=n(15),l=r(o),u=n(17),c=r(u),d=n(16),p=r(d),f=n(1),m=r(f),h=n(1178),g=n(171),v=n(56),_=n(71),y=n(4),b=n(2),E=n(48),C=n(1184),I=[{category:"completed",color:E.BLEND_GRBL_MEDIUM_BL,name:function(){return I18n.t("Complete")}},{category:"permanentlyFailed",color:E.PINK,name:function(){return I18n.t("Perm. Failed")}},{category:"inProgress",color:E.BLUE_GREY,name:function(){return I18n.t("In Progress")}},{category:"notStarted",color:E.GREY,name:function(){return I18n.t("Not Started")}}],T=(0,g.format)(",.0f"),N=(0,g.format)(".0%"),S=function(e){function t(e){(0,i.default)(this,t);var n=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={vizHeight:e.vizHeight,vizWidth:e.vizWidth,donutRadius:(0,_.min)([e.vizHeight-2*e.vertMargin,e.vizWidth-2*e.horizMargin])/2},n.sizeComponent=n._sizeComponent.bind(n),n.setRef=n._setRef.bind(n),n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"_setRef",value:function(e){this.divRef=e}},{key:"goodData",value:function(e){return!(0,C.isNullOrUndefined)(e)&&!((0,C.isNullOrUndefined)(e.total)||e.total<=0)}},{key:"showLegend",value:function(e){return this.props.neverHideLegend||this.goodData(this.props.values)&&e>2*this.props.legendWidth}},{key:"margins",value:function(){var e=this.props,t=e.vertMargin,n=e.horizMargin,r=e.legendWidth,a=this.state,s=a.vizWidth,i=a.donutRadius,o=s/2;return{top:t,bottom:t,left:this.showLegend(s)?n:o-i,right:this.showLegend(s)?n+r:o-i}}},{key:"centerForeground",value:function(){var e=(0,v.select)(this.divRef).select(".foreground-graphics"),t=this.margins(),n=this.state.donutRadius+t.left,r=this.state.donutRadius+t.top;e.attr("transform",function(){return"translate("+n+","+r+")"})}},{key:"_sizeComponent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(0,C.isNullOrUndefined)(this.divRef)&&!(0,C.isNullOrUndefined)(this.props.values)){var t=this.divRef.getBoundingClientRect().width;if(e||t!==this.state.vizWidth){var n=this.margins(),r=n.top,a=n.bottom,s=n.left,i=n.right,o=this.props,l=o.vertMargin,u=o.horizMargin,c=this.showLegend(t)?t*this.props.vizHeight/this.props.vizWidth:(0,_.min)([this.props.vizHeight,t]),d=this.showLegend(t)?(0,_.min)([c-r-a,t-s-i])/2:(0,_.min)([c-2*l,t-2*u])/2;this.setState({vizWidth:t,vizHeight:c,donutRadius:d})}}}},{key:"componentDidMount",value:function(){this.centerForeground(),this.sizeComponent(!0),window.addEventListener("resize",this.sizeComponent)}},{key:"componentDidUpdate",value:function(e){(0,y.isEqual)(this.props,e)||this.sizeComponent(!0),this.centerForeground()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.sizeComponent)}},{key:"foreground",value:function(){return this.goodData(this.props.values)?[m.default.createElement("text",{className:"total-enrollments",dy:"-5px"},T(this.props.values.total)),m.default.createElement("text",{className:"description bold",dy:"23px"},I18n.t("Total Enrollments"))]:[m.default.createElement("text",{className:"no-data",dy:"8"},I18n.t("No data"))]}},{key:"legendRow",value:function(e,t){var n=this.state.vizWidth-this.props.legendWidth;return m.default.createElement("g",{key:"legend-row-"+e.category,transform:"translate("+n+","+t+")"},m.default.createElement("circle",{cx:4,cy:4,r:8,style:{fill:e.color}}),m.default.createElement("text",{className:"legend-text",dy:9,dx:20},e.name()))}},{key:"legend",value:function(e){var t=this;if(!this.showLegend(this.state.vizWidth))return null;var n=e.filter(function(e){return e.value>0}),r=this.props.legendSpacing,a=(this.state.vizHeight-r*(n.length-1))/2;return n.map(function(e,n){return t.legendRow(e,a+r*n)})}},{key:"toolTip",value:function(e,t){if(!this.goodData(t))return null;var n="frame-hover"===e.type?e.data:e.column.pieceData[0].data,r="frame-hover"===e.type?n.value/t.total:e.column.pct,s=I18n.t({one:"1 enrollment",other:"%{count} enrollments"},{count:n.value});return m.default.createElement("div",{className:"tooltip-content"},m.default.createElement("span",{className:"bold",dangerouslySetInnerHTML:a(n.name())}),m.default.createElement("br",null),m.default.createElement("span",{dangerouslySetInnerHTML:a(s)}),m.default.createElement("br",null),m.default.createElement("span",null,N(r)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.donutThickness,r=t.values;if((0,C.isNullOrUndefined)(r))return null;var a=this.margins(),s=(this.goodData(r)?I.map(function(e){return(0,y.assign)({},e,{value:r[e.category]})}):I.map(function(e){return(0,y.assign)({},e,{value:"notStarted"===e.category?1:0})})).filter(function(e){return e.value>0});return m.default.createElement("div",{className:"dashboard-viz--learner-progress-canvas",ref:this.setRef},m.default.createElement(h.OrdinalFrame,{size:[this.state.vizWidth,this.state.vizHeight],data:s,oAccessor:"category",dynamicColumnWidth:"value",rAccessor:(0,y.constant)(1),renderKey:function(e){return e.category},type:{type:"bar",innerRadius:this.state.donutRadius-n,offsetAngle:180},projection:"radial",style:function(e){return{fill:e.color,stroke:"white"}},foregroundGraphics:this.foreground(),backgroundGraphics:this.legend(s),margin:a,hoverAnnotation:!0,tooltipContent:function(t){return e.toolTip(t,r)}}))}}]),t}(f.Component);S.propTypes={values:(0,b.shape)({inProgress:b.number,notStarted:b.number,overdue:b.number,permanentlyFailed:b.number,completed:b.number,total:b.number}),vizHeight:b.number.isRequired,vizWidth:b.number.isRequired,vertMargin:b.number.isRequired,horizMargin:b.number.isRequired,legendWidth:b.number.isRequired,donutThickness:b.number.isRequired,legendSpacing:b.number.isRequired,neverHideLegend:b.bool.isRequired},S.defaultProps={vizHeight:270,vizWidth:400,vertMargin:20,horizMargin:15,legendWidth:115,donutThickness:15,legendSpacing:40,neverHideLegend:!1},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(4),o=n(75),l=n(71),u=n(2),c=63,d=30,p=[{tag:"circle",cx:13.546875,cy:7.64953271,r:7.5},{tag:"path",d:"M20.9531246,18.3196262 L6.0468751,18.3196262 C6.0468751,18.3196262 2.8125001,18.6186916 2.2500001,21.9383178 L0.084375,34.4959151 C0.084375,34.4959151 0.421875,40.3276908 6.046875,39.011803 L6.0468751,61.9950755 C6.0468751,61.9950755 5.98021374,62.9401859 9.00517998,62.9401859 C12.0301462,62.9401859 12.045941,61.9950755 12.045941,61.9950755 L13.0186821,45.0410999 C13.0186821,44.771941 12.8912197,44.045687 13.4999996,44.045687 C14.1087795,44.045687 14.0373646,44.771941 14.0373646,45.0410999 L15.0335432,61.9950755 C15.0335432,61.9950755 15.0335432,62.9401859 18.0177475,62.9401859 C21.0019518,62.9401859 20.9531246,61.9950755 20.9531246,62.0850032 L20.9531246,39.011803 C26.5781246,40.3276908 26.9156246,34.4959151 26.9156246,34.4959151 L24.7499996,21.9383178 C24.1874996,18.588785 20.9531246,18.3196262 20.9531246,18.3196262 Z"
}],f=s.default.createClass({displayName:"Defs",statics:{manHeight:function(){return c},manWidth:function(){return d}},propTypes:{id:u.string.isRequired,x:u.number.isRequired,y:u.number.isRequired,count:u.number.isRequired},render:function(){var e=this,t=(0,o.scaleLinear)().domain([0,this.props.count]).range([this.props.x,this.props.x+d*this.props.count]),n=(0,o.scaleLinear)().domain([0,1]).range([this.props.y,this.props.y+c]),r=this.props.id+"-man";return s.default.createElement("defs",null,(0,l.range)(0,p.length).map(function(e,t){return s.default.createElement(p[e].tag,(0,i.assign)({},(0,i.omit)(p[e],"tag"),{key:t,id:r+String(e)}))}),s.default.createElement("clipPath",{id:this.props.id+"-clip"},(0,l.range)(0,p.length).map(function(a){return(0,l.range)(0,e.props.count).map(function(e){return s.default.createElement("use",{key:e,xlinkHref:"#"+r+String(a),y:n(0),x:t(e)})})})))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(24),o=r(i),l=n(89),u=n(171),c=n(3),d=n(48),p=function(e){var t=e.value,n=e.color,r=e.thickness,a=e.svgSize,i=e.size,o=e.margin,c=e.bgColor,d="-"+i/2+" -"+i/2+" "+i+" "+i,p=i/2-o,f=2*Math.PI*t,m=(0,l.arc)().innerRadius(p-r).outerRadius(p);return s.default.createElement("svg",{width:a,height:a,viewBox:d,preserveAspectRatio:"xMidYMid meet",className:"gasgauge"},s.default.createElement("path",{d:m({startAngle:0,endAngle:f}),style:{fill:n}}),s.default.createElement("path",{d:m({startAngle:f,endAngle:2*Math.PI}),style:{fill:c}}),s.default.createElement("text",{style:{fill:n},x:0,y:0,dy:"0.35em"},(0,u.format)(".0%")(t)))};p.propTypes={value:c.number.isRequired,color:c.string.isRequired,bgColor:c.string.isRequired,thickness:c.number.isRequired,svgSize:c.number.isRequired,size:c.number.isRequired,margin:c.number.isRequired},p.defaultProps={thickness:7,size:100,margin:2,bgColor:d.GREY};var f=function(e){var t=e.accountCompletionRate,n=e.teamCompletionRate;return s.default.createElement("div",{className:"mobile-dashboard__team-completion"},s.default.createElement("div",{className:"mobile-dashboard__team-completion__header pure-g"},s.default.createElement("div",{className:"pure-u-1-1 margin-b-m"},s.default.createElement(o.default,null,I18n.t("Team Completion Rate")))),s.default.createElement("div",{className:"pure-g"},s.default.createElement("div",{className:"pure-u-1-2 text-center"},s.default.createElement(p,{value:n,color:d.DIM_BLUE,svgSize:75}),s.default.createElement(o.default,{className:"mobile-dashboard__team-completion__label"},I18n.t("Your Team"))),s.default.createElement("div",{className:"pure-u-1-2 text-center"},s.default.createElement(p,{value:t,color:d.ORANGE,svgSize:75}),s.default.createElement(o.default,{className:"mobile-dashboard__team-completion__label"},I18n.t("Your Company")))))};f.propTypes={accountCompletionRate:c.number.isRequired,teamCompletionRate:c.number.isRequired},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(75),l=n(4),u=n(2997),c=n(1265),d=r(c),p=n(58),f=r(p),m=function(e){var t=e.overflowCount,n=e.onClick,r=["avatar","hero-popup-avatar-row--avatar","dashboard-viz--avatar-divhalo__avatar-overflow","left","margin-r-s"].join(" "),a=.875,i={fontSize:Math.pow(a,Math.floor(Math.log10(t)))+"rem"};return s.default.createElement("div",{className:"dashboard-viz--avatar-divhalo hero-popup-avatar-row"},s.default.createElement("div",{className:r},s.default.createElement("span",{className:"avatar__name",style:i},"+"+t)),s.default.createElement("span",{className:"dashboard-viz--avatar-divhalo__label",onClick:n},I18n.t("Show All")))};m.propTypes={overflowCount:i.number.isRequired,onClick:i.func.isRequired},t.default=s.default.createClass({displayName:"UserBuckets",propTypes:{users:(0,i.arrayOf)(n(627)),bucketRange:(0,i.arrayOf)(i.number).isRequired,bucketNames:(0,i.arrayOf)(i.func).isRequired,messageStart:i.func.isRequired,showIncrement:i.number.isRequired},getDefaultProps:function(){return{showIncrement:5,bucketNames:[function(){return I18n.t("Trailing Behind")},function(){return I18n.t("On Par")},function(){return I18n.t("Top Finishers")}],bucketRange:[0,1,1,2]}},getInitialState:function(){var e=this;return{displayCounts:this.props.bucketNames.map(function(){return e.props.showIncrement})}},componentWillMount:function(){this.setState({buckets:this.computeThresholds(this.props)})},componentWillReceiveProps:function(e){this.setState({buckets:this.computeThresholds(e)})},computeThresholds:function(e){var t=Math.floor(e.bucketNames.length/2),n=(0,l.clone)(e.users);n.forEach(function(e){((0,f.default)(e.name)||""===e.name)&&(e.name=e.uid)});var r=function(e){return e.completedEnrollments/e.totalEnrollments},a=(0,o.scaleQuantile)().domain(n.map(r)).range(e.bucketRange),s=(0,l.groupBy)(n,function(e){return a(r(e))}),i=Object.keys(s);if(1===i.length){var u=s[i[0]];s={},s[t]=u}return e.bucketNames.forEach(function(e,t){(0,f.default)(s[t])&&(s[t]=[])}),s},openOverlay:function(e){this.props.messageStart(this.state.buckets[e])},renderHeader:function(e,t){var n=this,r=[],a=this.props.bucketNames[e]();return r.push(s.default.createElement("span",{key:"1",className:"mobile-dashboard__bucket-header bold"},a)),r.push(s.default.createElement("span",{key:"2",className:"mobile-dashboard__bucket-header bucket-count"},t)),t>0&&r.push(s.default.createElement("span",{key:"3",onClick:function(){return n.openOverlay(e)}},I18n.t("Message"))),r},expando:function(e,t){var n=(0,l.clone)(this.state.displayCounts);t?n[e]=this.state.buckets[e].length:n[e]+=this.props.showIncrement,this.setState({displayCounts:n})},renderList:function(e){var t=this,n=this.state,r=n.buckets,a=n.displayCounts,i=a[e],o=r[e],l=o.slice(0,i).map(function(e,t){return s.default.createElement(d.default,{key:t,person:e})});return o.length>i&&l.push(s.default.createElement(m,{key:"oflw",overflowCount:o.length-i,onClick:function(){return t.expando(e,!0)}})),l},render:function(){var e=this;return s.default.createElement(u.Collapsible,null,this.props.bucketNames.map(function(t,n){return s.default.createElement(u.Frame,{key:n,header:e.renderHeader(n,e.state.buckets[n].length)},e.renderList(n))}))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.any,i=a.bool,o=a.shape,l=r.createClass({displayName:"MultipleWidgetContainer",propTypes:{media:o({mobile:i}),children:s,other:s},renderChild:function(e){return r.createElement("div",{className:"multiple-widget-container__child"},e)},render:function(){return r.createElement("div",{className:"multiple-widget-container","data-capybara":"multiple-widget-container"},r.Children.map(this.props.children,this.renderChild))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(98),u=r(l),c=n(56),d=n(71),p=n(75),f=n(258),m=n(89),h=n(2),g=s.default.createClass({displayName:"ProcrastinationGraph",propTypes:{values:(0,h.arrayOf)(h.number),svgWidth:h.number.isRequired,svgHeight:h.number.isRequired,sideMargin:h.number.isRequired,topMargin:h.number.isRequired,botMargin:h.number.isRequired,avgCircleRadius:h.number.isRequired},getDefaultProps:function(){return{svgWidth:344,svgHeight:200,sideMargin:24,topMargin:24,botMargin:48,avgCircleRadius:6}},componentDidMount:function(){this.setState({svgElement:(0,c.select)(o.default.findDOMNode(this)).select("svg")}),this.drawWidget()},componentDidUpdate:function(){this.drawWidget()},drawWidget:function(){if(null!==this.state&&"undefined"!=typeof this.state.svgElement){if(!Array.isArray(this.props.values)||this.props.values.length<1){this.state.svgElement.selectAll(".dashboard-viz__outer-g").remove();var e=this.state.svgElement.append("g").attr("class","dashboard-viz__annotations").attr("transform","translate("+String(this.props.svgWidth/2)+","+String(this.props.svgHeight/2)+")");return void e.append("text").attr("class","dashboard-viz__annotations__nodata-label").text(I18n.t("No data"))}var t=this.props.values,n=(0,d.mean)(t),r=(0,d.deviation)(t),a=(0,d.max)(t),s=0;if("number"==typeof r){var i=t.filter(function(e){return e<=n+2*r});a=(0,d.max)(i),s=t.length-i.length}var o=25*Math.ceil(a/25),l=this.props.svgWidth-2*this.props.sideMargin,u=this.props.svgHeight-this.props.topMargin-this.props.botMargin,c=(0,p.scaleLinear)().domain([0,o]).range([0,l]),h=(0,d.histogram)().thresholds(c.ticks(15))(t.filter(function(e){return e<=a})),g=h.slice(-1)[0],v=[];v.x0=g.x1,v.x1=v.x0+1,h.push(v);var _=(0,p.scaleLinear)().domain([0,(0,d.max)(h,function(e){return e.length})]).range([u,0]),y=(0,f.axisBottom)().scale(c).ticks(12).tickSize(-u);this.state.svgElement.selectAll(".dashboard-viz__outer-g").remove(),this.state.svgElement.selectAll(".dashboard-viz__annotations").remove();var b=this.state.svgElement.append("g").attr("class","dashboard-viz__outer-g").attr("transform","translate("+this.props.sideMargin+","+this.props.topMargin+")"),E=(0,m.area)().x0(function(e){return c(e.x0)}).y1(function(e){return _(e.length)}).y0(_(0)).curve(m.curveBasis),C=b.append("g").attr("class","dashboard-viz__axis").attr("transform","translate(0,"+String(u)+")").call(y);C.selectAll("line").attr("class",function(e,t){return t%4?"dashboard-viz__axis__minor-tick":"dashboard-viz__axis__major-tick"}),C.selectAll("text").attr("class",function(e,t){return t%4?"dashboard-viz__axis__minor-label small":"dashboard-viz__axis__major-label small"}),b.selectAll(".dashboard-viz__axis__major-label").attr("transform","translate(0,6)"),b.append("path").attr("class","dashboard-viz__outline").attr("fill","url(#procrastination-gradient)").attr("d",E(h)),s>0&&b.append("g").attr("class","dashboard-viz__annotations").attr("transform","translate("+String(l+","+String(u/2))+")").append("text").attr("class","dashboard-viz__annotations__overflow-label").text("+"+s+" "),b.append("g").attr("class","dashboard-viz__annotations").attr("transform","translate("+c(n)+","+u+")").append("circle").attr("r",this.props.avgCircleRadius);var I=b.append("g").attr("class","dashboard-viz__annotations").attr("transform","translate("+c(n)+","+u+")");I.append("text").attr("dy",42).attr("class","dashboard-viz__annotations__average-label").text(I18n.t({one:"Avg 1 day",other:"Avg %{count} days"},{count:Math.round(n)}));var T=c(n)-I.select("text").node().getBBox().width/2;T<0&&I.attr("transform","translate("+(c(n)-T)+","+u+")");var N=c(n)+I.select("text").node().getBBox().width/2;N>l&&I.attr("transform","translate("+(c(n)-N+l)+","+u+")")}},render:function(){var e="0 0 "+this.props.svgWidth+" "+this.props.svgHeight,t=String(100*this.props.svgHeight/this.props.svgWidth)+"%";return s.default.createElement("div",{className:"dashboard-viz--procrastination-canvas","data-capybara":"procrastination-widget",style:{paddingTop:t}},s.default.createElement("svg",{viewBox:e,preserveAspectRatio:"xMidYMid meet"},s.default.createElement(u.default,{id:"procrastination-gradient",orientation:"horizontal"})))}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(64),i=n(60),o=n(609),l=n(2202),u=n(29),c=n(37),d=n(39),p=n(114),f="m",m="mr",h=a.createClass({displayName:"QuickActions",mixins:[c({mobile:c.QUERY_MOBILE})],propTypes:{isUsingAutoCsv:r.bool,onBecome:r.func,onAddUsers:r.func,onRemoveUsers:r.func,isRequestingToMasquerade:r.bool},componentDidMount:function(){d.addChangeListener(this.reload)},componentWillUnmount:function(){d.removeChangeListener(this.reload)},getInitialState:function(){return{currentActionPanel:null}},render:function(){var e=void 0;return e=this.state.currentActionPanel===f?a.createElement(o,{onCancel:this.closeCurrentPanel,onBecome:this.closeMasqueradingPanelAndEmitBecome,canBecome:!this.props.isRequestingToMasquerade}):this.state.currentActionPanel===m?a.createElement(l,{onCancel:this.closeCurrentPanel}):this.renderControls(),a.createElement("div",{className:"admin-dashboard__widget","data-capybara":"admin-dashboard__widget"},e)},renderControls:function(){var e=!(this.state.media.mobile||p.isMobile()||this.props.isUsingAutoCsv);return a.createElement("div",{className:"pure-r-1 admin-dashboard__quick-actions"},a.createElement("div",{className:"dark-grey inline-block"},I18n.t("Quick Actions:"))," ",u("user_masquerade")&&a.createElement("button",{className:"admin-dashboard__button","data-capybara":"Masquerade",type:"button",onClick:this.openMasqueradingPanel,children:I18n.t("Masquerade")})," ",e&&this.renderUserManagementControls()," ",u("grant_create")&&a.createElement("button",{className:"admin-dashboard__button","data-capybara":"modify_roles",type:"button",onClick:this.openRoleModificationPanel,children:I18n.t("Modify Roles")}))},renderUserManagementControls:function(){var e=u("user_create"),t=u("user_destroy"),n=e&&t;return a.createElement("div",{className:"inline"},n&&a.createElement(s,{className:"admin-dashboard__menu inline-block",labelElement:a.createElement("button",{"data-capybara":"admin-dashboard__user-management-combobox",className:"combo-box__label admin-dashboard__button","aria-hidden":"true"},I18n.t("Add / Remove Users"))},a.createElement(i,{onClick:this.props.onAddUsers,value:"add"},a.createElement("strong",null,I18n.t("Add Users via CSV"))),a.createElement(i,{onClick:this.props.onRemoveUsers,value:"rm"},a.createElement("strong",{className:"remove-users"},I18n.t("Remove Users via CSV")))),e&&!t&&a.createElement("button",{type:"button",className:"add-btn add-btn--detail","aria-label":I18n.t("Add Users via CSV"),onClick:this.props.onAddUsers},a.createElement("span",{className:"add-btn__text"},I18n.t("Add Users via CSV"))),t&&!e&&a.createElement("button",{type:"button",className:"add-btn add-btn--detail","aria-label":I18n.t("Remove Users via CSV"),onClick:this.props.onRemoveUsers},a.createElement("span",{className:"add-btn__text"},I18n.t("Remove Users via CSV"))))},openMasqueradingPanel:function(){this.setState({currentActionPanel:f})},openRoleModificationPanel:function(){this.setState({currentActionPanel:m})},closeCurrentPanel:function(){this.setState({currentActionPanel:null})},closeMasqueradingPanelAndEmitBecome:function(e,t){this.props.onBecome(e,t),this.closeCurrentPanel()},reload:function(){this.forceUpdate()}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(1),o=n(3),l=o.func,u=n(19),c=n(449),d=n(622),p=n(109),f=n(474),m=n(37),h=i.createClass({displayName:"ModifyRolesPanel",mixins:[m({mobile:m.QUERY_MOBILE})],propTypes:{onCancel:l.isRequired},getInitialState:function(){return{user:null}},componentDidMount:function(){p.addChangeListener(this.reload)},componentWillUnmount:function(){p.removeChangeListener(this.reload)},render:function(){return i.createElement(d,{user:this.state.user,onCancel:this.props.onCancel,onSave:this.saveRoles,isMobile:this.state.media.mobile,className:"pure-u-1 pure-g-r"},i.createElement(c,{onSearch:this.search,onSelect:this.selectUser,searchResults:p.getSearchResults(),selectedUserId:this.state.user&&this.state.user.id}))},selectUser:function(e){var t=p.getSearchResults().filter(function(t){return t.id===e}),n=(0,s.default)(t,1),r=n[0];this.setState({user:r})},search:function(e){this.setState({user:null}),p.search(e.trim())},saveRoles:function(){f.saveRolesForUser(this.state.user).then(function(){u(I18n.t("Roles updated."))},function(){u(I18n.t("An error occurred when updating roles."),{type:"error"})})},reload:function(){this.forceUpdate()}});e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(3),s=a.number,i=n(26),o=function(e){var t=e.numberOfHours;return r.createElement("div",{className:"dashboard-text-widget"},r.createElement("h4",{className:"dashboard-text-widget__header dashboard-viz__title bold x-medium"},i.t("Number of Hours Spent on Learning")),r.createElement("div",{className:"dashboard-text-widget__primary-text"},i.t("Hour",{count:t})),r.createElement("span",{className:"dashboard-text-widget__details"},i.t("The total number of hours spent by your team in online training.")))};o.propTypes={numberOfHours:s.isRequired},t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(7),a=n(478);e.exports=n(8)({schema:n(455),perform:function(e){return r({url:"/api/admin/dashboard",data:a(e)})}})},function(e,t,n){"use strict";var r=n(8),a=n(25),s=n(31),i=n(848),o=n(7),l=n(4),u=l.assign,c=n(10),d=c.shape,p=function(e){return e?e.reduce(function(e,t){for(var n=t.days,r=t.count,a=0;a<r;a++)e.push(n);return e},[]):[]};e.exports=r({schema:d(i),perform:function(e){var t=e.domainId,n=e.subAccountId,r=e.jwt,i=e.startDate,l=e.endDate,u=s.get("R2B_HOST");return u?o({url:u+"/dashboard",data:{account:s.get("ACCOUNT.database"),"domain-id":t,"sub-account-id":n,"start-date":i,"end-date":l},beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+r)}}):a.reject(new Error("R2B_HOST is not configured"))},parse:function(e,t){var n=t.dashboard;return u(n,{procrastination:p(n.procrastination)}),e(n)}})},function(e,t,n){"use strict";var r=n(8),a=n(25),s=n(31),i=n(7),o=n(10),l=o.shape;e.exports=r({schema:l(n(848)),perform:function(e){var t=e.domainId,n=e.subAccountId,r=e.jwt,o=e.startDate,l=e.endDate,u=e.limit,c=s.get("R2B_HOST");return c?i({url:c+"/dashboard/hero",data:{account:s.get("ACCOUNT.database"),"domain-id":t,"sub-account-id":n,"start-date":o,"end-date":l,limit:u},beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+r)}}):a.reject(new Error("R2B_HOST is not configured"))},parse:function(e,t){var n=t.dashboard;return e(n)}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/admin/users/imports/latest",schema:n(218),parse:function(e,t){return t.imports.map(e)[0]}})},function(e,t,n){"use strict";var r=n(7);e.exports=n(8)({schema:null,perform:function(){return r({url:"/api/admin/users/imports/sync",type:"POST",dataType:"json"})}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(40),i=n(628);e.exports=r({schema:i,perform:function(e){return a({url:"/api/admin/import_profile",type:"PATCH",dataType:"json",data:{import_profile:s(e)}})},parse:function(e,t){return e(t.import_profile)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(25),o=n(21),l=n(12),u=n(41),c=n(2204),d=n(2205),p=n(2206),f=n(647),m=n(4),h=m.assign,g=250,v=[l.ADMIN_DASHBOARD_MODE_OVERDUE,l.ADMIN_DASHBOARD_MODE_COMPLETED],_={counts:{},overdueLearners:{count:0,learners:[]},completedLearners:{count:0,learners:[]},procrastination:[],activeUsers:{total:0,used:0}},y=o({displayName:"AdminDashboardStore",schema:n(455),initialize:function(){this.domainId=null},setDomainId:function(e){this.domainId=e},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(v.indexOf(t.mode)>-1,"Invalid selection mode "+t.mode+", it must be one of "+v+"."),c({selected:t.mode,range:t.range,start_date:t.start_date,end_date:t.end_date,domain_id:this.domainId}).then(function(n){e.setState((0,s.default)({},f(t),n))}).then(function(){return i.all([e.fetchR2B(t),e.fetchR2BHero(t)])})},fetchR2B:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.state[f(t)],r=n.meta||{},a=r.domainId,o=r.subAccountId,l=r.r2bJwt;return this.domainId||a?d({domainId:this.domainId||a,subAccountId:o,jwt:l,startDate:t.start_date,endDate:t.end_date}).catch(function(e){return console.error("Problem connecting to Report to the Bridge",e),{}}).then(function(r){e.setState((0,s.default)({},f(t),h(n,{procrastination:r.procrastination||[],activeUsers:r.activeUsers||{total:0,used:0},learningTime:r.learningTime||{seconds:0},learningItems:r.learningItems||{completedAll:0,completedRequired:0,inProgressAll:0,notStartedAll:0,overdueAll:0,permanentlyFailedAll:0,totalAll:0,totalRequired:0},mostActiveDay:r.mostActiveDay||{day:-1,seconds:0,visits:0},sessionsByDevice:r.sessionsByDevice||{desktop:0,tablet:0,phone:0},countsInDateRange:r.countsInDateRange||{courseTemplates:0,programs:0,liveCourses:0,users:0}})))}):i.reject(new Error("no domain id"))},fetchR2BHero:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.state[f(t)],r=n.meta||{},a=r.domainId,o=r.subAccountId,l=r.r2bJwt;return this.domainId||a?p({domainId:this.domainId||a,subAccountId:o,jwt:l,startDate:"1970-01-01",endDate:t.end_date,limit:t.limit||g+1}).catch(function(e){return console.error("Problem connecting to Report to the Bridge",e),{}}).then(function(r){e.setState((0,s.default)({},f(t),h(n,{hero:r.hero||{}})))}):i.reject(new Error("no domain id"))},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.state[f(e)]||_}});e.exports=y,e.exports.heroLimit=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(97),u=r(l),c=n(54),d=r(c),p=n(115),f=r(p),m=n(26),h=r(m),g=n(31),v=r(g),_=n(29),y=r(_),b=n(34),E=r(b),C=n(30),I=r(C),T=n(19),N=r(T),S=n(5),x=n(1269),A=r(x),k=o.default.createClass({displayName:"LearnerIntegrations",getInitialState:function(){return{status:null}},componentWillMount:function(){window.addEventListener("message",this.popupListener)},componentWillUnmount:function(){window.removeEventListener("message",this.popupListener)},componentDidMount:function(){var e=E.default.getPostAuthRoute();(0,y.default)("slack_integration_create")&&(0,y.default)("slack_integration_destroy")||I.default.transitionTo(e).then(function(){return(0,N.default)(S.utils.I18nStringConstants.getInsufficientPermissionsErrorMessage(),{type:"error"})})},render:function(){var e=[{name:"slack",title:h.default.t("Slack"),description:h.default.t("Enable real-time notifications through Slack."),disclaimer:h.default.t("This app is not created by, affiliated with, or supported by Slack Technologies, Inc."),logoFilename:"slack_rgb.png",btnFilename:"slack_btn.png",addServiceUrl:"/integrations/slack/new",popup:!0,toggleOff:this.toggleOff,default:this.getSlackConfig().enabled,toast:this.state.status}];return o.default.createElement(u.default,null,o.default.createElement(d.default,{name:"layout--list__header-text"},h.default.t("Integrations")),e.map(function(e,t){return o.default.createElement(f.default,(0,s.default)({},e,{key:t}))}))},toggleOff:function(){(0,A.default)(),v.default.set("DOMAIN.config.slack",{}),this.setState({status:null})},getSlackConfig:function(){return v.default.get("DOMAIN.config.slack",{})},popupListener:function(e){if(e.origin===window.location.origin&&"integrationStatus"===e.data.type){for(var t in e.data.newRuntimeConfig)v.default.set(t,e.data.newRuntimeConfig[t]);var n="1"===e.data.value?"success":"error";this.setState({status:n})}}});t.default=k,e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.integrations",path:"/admin/integrations",feature:"slack",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(5),i=s.Icon,o=n(18),l=n(1269),u=n(19),c=n(31),d=n(12),p=d.SLACK_STATUS_CONFIGURED,f=d.SLACK_STATUS_UNCONFIGURED,m=d.SLACK_STATUS_ERROR,h="/integrations/slack/new",g=a.createClass({displayName:"AdminIntegrationsSlack",propTypes:{query:r.shape({integrated:r.string,error:r.string})},componentWillMount:function(){window.opener?(this.props.query.integrated||this.props.query.error)&&(window.opener.postMessage({type:"integrationStatus",name:"slack",value:this.props.query.integrated?"1":"0",newRuntimeConfig:{"DOMAIN.config.slack":c.get("DOMAIN.config.slack")}},"*"),window.close()):this.props.query.integrated?u(I18n.t("Successfully integrated Slack. Users are currently being synced.")):this.props.query.error&&u(I18n.t("Sorry, there was an error during the authorization process."),{type:"error"})},render:function(){return a.createElement("div",{className:"layout--list"},a.createElement("div",{className:"layout--list__header"},a.createElement("h1",{className:"layout--list__header-text"},I18n.t("Slack Integration"))),a.createElement("div",{className:"layout--list__content"},this.getStatus()!==f?this.renderExistingSetup():null,this.getStatus()===f?this.renderInitialSetup():null))},renderInitialSetup:function(){return a.createElement("div",null,this.renderSlackStatus(),a.createElement("div",{className:"form-group margin-b-m"},a.createElement("a",{href:h},a.createElement("img",{alt:"Add to Slack",height:"40",width:"139",src:"https://platform.slack-edge.com/img/add_to_slack.png"}))))},renderExistingSetup:function(){return a.createElement("div",null,this.renderSlackStatus(),a.createElement("div",{className:"form-group margin-b-m"},a.createElement("div",null,a.createElement("label",null,I18n.t("Team Name"))),a.createElement("div",null,a.createElement("input",{value:this.getSlackConfig().team_name,disabled:!0,className:"input-l padding-trbl-s",type:"text"}))),this.getStatus()===m&&a.createElement("a",{className:"btn margin-r-m",href:h},I18n.t("Fix Configuration")),a.createElement(o,{className:"btn alert",onClick:this.removeIntegration},I18n.t("Remove Integration")))},renderSlackStatus:function(){var e=I18n.t("Status:");return this.getStatus()===p?a.createElement("div",{className:"form-group margin-b-m"},a.createElement("p",null,e," ",a.createElement(i,{className:"gs-check-circle gs-1x green"})," ",I18n.t("Configured"))):this.getStatus()===m?a.createElement("div",{className:"form-group margin-b-m"},a.createElement("p",null,e," ",a.createElement(i,{className:"gs-caution gs-1x orange"})," ",I18n.t("Configuration error"))):a.createElement("div",{className:"form-group margin-b-m"},a.createElement("p",null,e," ",a.createElement(i,{className:"gs-x gs-1x red"})," ",I18n.t("Unconfigured")))},removeIntegration:function(){var e=this;l().then(function(){e.forceUpdate(),u(I18n.t("Successfully removed Slack integration"))})},getSlackConfig:function(){return c.get("DOMAIN.config.slack")},getStatus:function(){return this.getSlackConfig()&&this.getSlackConfig().enabled&&!this.getSlackConfig().error?p:this.getSlackConfig()&&this.getSlackConfig().error?m:f}});e.exports=g},function(e,t){"use strict";e.exports={name:"admin.integrations.slack",path:"/admin/integrations/slack",feature:"slack",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){u.default.becomeUser(e).then(function(){d.default.replaceWith(u.default.getPostAuthRoute())},function(){(0,o.default)(I18n.t("There was a problem masquerading as %{name}",{name:t}),{type:"error"})})}function s(){u.default.isMasquerading()&&u.default.stopMasquerading().then(function(){d.default.replaceWith("admin.masquerade")},function(){(0,o.default)(I18n.t("There was a problem stopping masquerading"),{type:"error"})})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=r(i),l=n(34),u=r(l),c=n(13),d=r(c);t.default={become:a,stop:s},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(609),u=r(l),c=n(2215),d=r(c);t.default=o.default.createClass({displayName:"AdminMasquerade",propTypes:{query:s.default.shape({stop:s.default.string})},getDefaultProps:function(){return{query:{}}},componentWillMount:function(){this.props.query.stop&&d.default.stop()},render:function(){return o.default.createElement("div",{className:"admin-masquerade"},o.default.createElement("h1",null,I18n.t("Masquerade")),o.default.createElement(u.default,{onBecome:d.default.become}))}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.masquerade",path:"/admin/masquerade",ember:{parentPath:["admin"]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(5),h=n(18),g=r(h),v=n(2969),_=r(v),y=n(1359),b=r(y),E=n(2220),C=r(E),I=n(27),T=r(I),N=n(160),S=r(N),x=n(3),A=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderExpandButton=function(){var t=e.state.expanded;return f.default.createElement(b.default,{duration:250,rotated:!t,rotatedAngle:-90,className:"admin-notifications-audience__rotator"},f.default.createElement(g.default,{onClick:e.toggleExpanded,className:"admin-notifications-audience__expander"},f.default.createElement(m.Icon,{className:"gs-arrow-down"}),f.default.createElement(T.default,null,e.getScreenReaderText())))},e.renderCategories=function(){var t=e.props,n=t.audience,r=t.highlight,a=t.slackIntegrationEnabled,s=t.toggleEmail,i=t.toggleSlack;return f.default.createElement(_.default,{direction:"horizontal",collapsed:!e.state.expanded},f.default.createElement("ul",{className:"admin-notifications-audience__categories"},n.categories.map(function(e){return f.default.createElement(C.default,{slackIntegrationEnabled:a,key:e.category,category:e,highlight:r,toggleEmail:s,toggleSlack:i})})))},e.toggleExpanded=function(){e.setState({expanded:!e.state.expanded})},e.getScreenReaderText=function(){var t=e.props.audience,n=e.state.expanded;return n?I18n.t("Collapse %{audience}",{audience:t.audience}):I18n.t("Expand %{audience}",{audience:t.audience})},e.state={expanded:!0},e}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.audience;return f.default.createElement("li",{className:"admin-notifications-audience"},f.default.createElement("div",{className:"admin-notifications-audience__header"},this.renderExpandButton(),f.default.createElement("h2",{className:"admin-notifications-audience__title"},e.audience)),this.renderCategories())}}]),t}(f.default.Component);A.propTypes={slackIntegrationEnabled:x.bool,audience:(0,x.shape)({audience:x.string,categories:(0,x.arrayOf)((0,x.shape)({category:x.string,notifications:(0,x.arrayOf)(S.default)}))}),highlight:x.string,toggleEmail:x.func,toggleSlack:x.func},A.defaultProps={audience:{audience:"",categories:[]},hightlight:""},t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2218),h=r(m),g=n(52),v=r(g),_=n(123),y=r(_),b=n(30),E=r(b),C=n(5),I=n(160),T=r(I),N=n(3),S=n(1270),x=function(e){var t=[{label:I18n.t("Email Status"),key:"filters",options:[{value:"email_enabled",label:I18n.t("Enabled")},{value:"email_disabled",label:I18n.t("Disabled")}]}];return e&&t.push({label:I18n.t("Slack Status"),key:"filters",options:[{value:"slack_enabled",label:I18n.t("Enabled")},{value:"slack_disabled",label:I18n.t("Disabled")}]}),t},A=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateFilters=function(e){E.default.updateQuery(e)},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.query;return f.default.createElement("div",{className:"admin-notifications-body"},f.default.createElement("div",{className:"admin-notifications-body__search-and-filter"},f.default.createElement(v.default,{searchTerm:n.search,placeholderText:I18n.t("Search for notification types")}),f.default.createElement(y.default,{filterSets:x(this.props.slackIntegrationEnabled),activeFilters:this.props.query,onChange:this.updateFilters})),t.length>0?this.renderAudiences(t,n.search):this.renderNoResults())}},{key:"renderAudiences",value:function(e,t){var n=this;return f.default.createElement("ul",null,(0,S.toNotificationStructure)(e).map(function(e){
return n.renderAudience(e,t)}))}},{key:"renderAudience",value:function(e,t){var n=this.props,r=n.toggleEmail,a=n.toggleSlack,s=n.slackIntegrationEnabled;return f.default.createElement(h.default,{key:e.audience,audience:e,highlight:t,slackIntegrationEnabled:s,toggleEmail:r,toggleSlack:a})}},{key:"renderNoResults",value:function(){return f.default.createElement("div",{className:"admin-notifications-body__no-results"},f.default.createElement(C.Text,null,I18n.t("There are no notifications matching your criteria.")))}}]),t}(f.default.Component);A.propTypes={notifications:(0,N.arrayOf)(T.default),slackIntegrationEnabled:N.bool,query:(0,N.shape)({search:N.string,filters:(0,N.oneOfType)([N.string,(0,N.arrayOf)(N.string)])}),toggleEmail:N.func,toggleSlack:N.func},A.defaultProps={notifications:[],query:{search:""}},t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(5),h=n(2222),g=r(h),v=n(160),_=r(v),y=n(3),b=n(1270),E=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.category,n=e.highlight,r=e.slackIntegrationEnabled,a=e.toggleEmail,s=e.toggleSlack,i=t.category||"";return f.default.createElement("li",{className:"admin-notifications-category","data-capybara":i.replace(" ","-")},f.default.createElement("div",{className:"admin-notifications-category__name-wrapper"},f.default.createElement(m.Icon,{className:(0,b.iconClassName)(t.category)}),f.default.createElement("h3",{className:"admin-notifications-category__name"},t.category)),f.default.createElement("ul",{className:"admin-notifications-category__notifications"},t.notifications.map(function(e){return f.default.createElement(g.default,{slackIntegrationEnabled:r,key:e.id,notification:e,highlight:n,toggleEmail:a,toggleSlack:s})})))}}]),t}(f.default.Component);E.propTypes={slackIntegrationEnabled:y.bool,category:(0,y.shape)({category:y.string,notifications:(0,y.arrayOf)(_.default)}),highlight:y.string,toggleEmail:y.func,toggleSlack:y.func},E.defaultProps={category:{category:"",notifications:[]},highlight:""},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(9),o=r(i),l=n(14),u=r(l),c=n(15),d=r(c),p=n(17),f=r(p),m=n(16),h=r(m),g=n(1),v=r(g),_=n(55),y=r(_),b=n(445),E=r(b),C=n(77),I=r(C),T=n(1271),N=r(T),S=n(1272),x=r(S),A=n(3255),k=r(A),w=n(26),R=r(w),O=n(4),P=n(3),L=function(e){function t(){(0,u.default)(this,t);var e=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderMoreSettings=function(){var t=e.props.emailConfig,n={emailFromLabel:t.fromLabel,emailReplyTo:t.replyTo};return v.default.createElement("div",{className:"admin-notifications-header__more-settings"},v.default.createElement("h4",{className:"admin-notifications-header__more-settings__header"},R.default.t("Email")),v.default.createElement("div",{className:"admin-notifications-header__more-settings__inputs"},v.default.createElement(I.default,{onBlur:(0,O.partial)(e.updateEmailSetting,"emailFromLabel"),field:"emailFromLabel",maxLength:"255",className:"admin-notifications-header__more-settings__input",label:R.default.t("From Label"),model:n}),v.default.createElement(I.default,{onBlur:(0,O.partial)(e.updateEmailSetting,"emailReplyTo"),field:"emailReplyTo",maxLength:"255",className:"admin-notifications-header__more-settings__input",label:R.default.t("Reply Address"),model:n})))},e.renderSlackToggle=function(){var t=e.props.slackConfig;return e.props.slackIntegrationEnabled?v.default.createElement("div",{className:"admin-notifications-header__toggle-block","data-capybara":"slack_notifications_toggle"},v.default.createElement("label",{htmlFor:"admin-notifications-header__toggle-block__switch--slack",className:"admin-notifications-header__toggle-block__text"},R.default.t("Send Slack Notifications")),v.default.createElement(y.default,{id:"admin-notifications-header__toggle-block__switch--slack",className:"admin-notifications-header__toggle-block__switch--slack",checked:t.enabled,disabled:e.state.updating.slackNotifications,onChange:(0,O.partial)(e.toggleNotification,"slackNotifications")})):null},e.toggleNotification=function(t,n){e.props.toggleNotification(t,n.target.checked).then(function(){e.setState({updating:(0,o.default)({},e.state.updating,(0,s.default)({},t,!1))})}),e.setState({updating:(0,o.default)({},e.state.updating,(0,s.default)({},t,!0))})},e.toggleExpandedSettings=function(t){e.setState({moreSettingsExpanded:t})},e.updateEmailSetting=function(t,n){e.props.updateEmailSetting(t,n.target.value)},e.state={moreSettingsExpanded:!1,updating:{}},e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.emailConfig;return v.default.createElement("header",{className:"layout--item-header admin-notifications-header"},v.default.createElement("div",{className:"layout--item-header__content"},v.default.createElement("h1",{className:"admin-notifications-header__title"},R.default.t("Manage Notifications")),v.default.createElement("div",{className:"admin-notifications-header__details"},v.default.createElement("div",{className:"admin-notifications-header__toggles"},v.default.createElement("div",{className:"admin-notifications-header__toggle-block","data-capybara":"email_notifications_toggle"},v.default.createElement("label",{htmlFor:"admin-notifications-header__toggle-block__switch--email",className:"admin-notifications-header__toggle-block__text"},R.default.t("Send Email Notifications")),v.default.createElement(y.default,{id:"admin-notifications-header__toggle-block__switch--email",className:"admin-notifications-header__toggle-block__switch--email",checked:e.enabled,disabled:this.state.updating.emailNotifications,onChange:(0,O.partial)(this.toggleNotification,"emailNotifications")})),this.renderSlackToggle()),v.default.createElement("div",{className:"admin-notifications-header__more-settings-switch",onClick:(0,O.partial)(this.toggleExpandedSettings,!this.state.moreSettingsExpanded)},v.default.createElement(E.default,{iconOnly:this.props.mediaState.mobile,expanded:this.state.moreSettingsExpanded}))),this.state.moreSettingsExpanded&&this.renderMoreSettings()))}}]),t}(v.default.Component);L.propTypes={emailConfig:N.default,slackConfig:x.default,toggleNotification:P.func,updateEmailSetting:P.func,slackIntegrationEnabled:P.bool,mediaState:(0,P.shape)({mobile:P.bool})},L.defaultProps={emailConfig:{},slackConfig:{},mediaState:{},toggleNotification:Function.prototype,updateEmailSetting:Function.prototype,slackIntegrationEnabled:!1},t.default=(0,k.default)(L),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(5),v=n(18),_=r(v),y=n(61),b=r(y),E=n(27),C=r(E),I=n(6),T=r(I),N=n(3),S=n(160),x=r(S),A=n(26),k=r(A),w=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderEmailNotificationButton=function(){return h.default.createElement(_.default,{className:r.getToggleClasses("email"),onClick:function(){return r.props.toggleEmail(r.props.notification)},"data-capybara":"toggle_email-button"},h.default.createElement(C.default,null,r.getScreenReaderText("email")),h.default.createElement(g.Icon,{className:"gs-message"}),h.default.createElement("div",{"aria-hidden":"true",className:"admin-notifications-notification__toggle-slash"}))},r.renderSlackNotificationButton=function(){var e=r.props,t=e.notification,n=e.slackIntegrationEnabled,a=e.toggleSlack,s=t.channels&&void 0!==t.channels.slack;return n?s?h.default.createElement(_.default,{className:r.getToggleClasses("slack"),onClick:function(){return a(t)},"data-capybara":"toggle_slack-button"},h.default.createElement(C.default,null,r.getScreenReaderText("slack")),h.default.createElement(g.Icon,{className:"gs-slack"}),h.default.createElement("div",{"aria-hidden":"true",className:"admin-notifications-notification__toggle-slash"})):h.default.createElement("div",{className:r.getToggleClasses("blank")}):null},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.notification,n=e.highlight;return h.default.createElement("li",{className:"admin-notifications-notification"},h.default.createElement("div",null,h.default.createElement("h4",{className:"admin-notifications-notification__name"},h.default.createElement(b.default,{text:t.name,highlight:n})),h.default.createElement("div",{className:"admin-notifications-notification__description"},h.default.createElement(b.default,{text:t.description,highlight:n}))),h.default.createElement("div",{className:"admin-notifications-notification__toggles","data-capybara":t.name.replace(" ","-")},this.renderEmailNotificationButton(),this.renderSlackNotificationButton()))}},{key:"getToggleClasses",value:function(e){var t="admin-notifications-notification__"+e+"-toggle";return(0,T.default)(t,(0,s.default)({},t+"--enabled",this.isChannelEnabled(e)))}},{key:"getScreenReaderText",value:function(e){var t=this.props.notification,n=this.isChannelEnabled(e);return"slack"===e?n?k.default.t("Disable %{notificationType} Slack notifications",{notificationType:t.name}):k.default.t("Enable %{notificationType} Slack notifications",{notificationType:t.name}):n?k.default.t("Disable %{notificationType} email notifications",{notificationType:t.name}):k.default.t("Enable %{notificationType} email notifications",{notificationType:t.name})}},{key:"isChannelEnabled",value:function(e){var t=this.props.notification;return t.channels&&t.channels[e]}}]),t}(h.default.Component);w.propTypes={notification:x.default.isRequired,slackIntegrationEnabled:N.bool,highlight:N.string,toggleEmail:N.func,toggleSlack:N.func},w.defaultProps={highlight:"",toggleEmail:Function.prototype,toggleSlack:Function.prototype},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2221),h=r(m),g=n(2219),v=r(g),_=n(1271),y=r(_),b=n(1272),E=r(b),C=n(160),I=r(C),T=n(3),N=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"admin-notifications"},f.default.createElement(h.default,{emailConfig:this.props.emailConfig,slackConfig:this.props.slackConfig,toggleNotification:this.props.onSubAccountProfileUpdate,updateEmailSetting:this.props.onSubAccountProfileUpdate,slackIntegrationEnabled:this.props.slackIntegrationEnabled}),f.default.createElement(v.default,{slackIntegrationEnabled:this.props.slackIntegrationEnabled,notifications:this.props.notifications,query:this.props.query,toggleEmail:this.props.toggleEmail,toggleSlack:this.props.toggleSlack}))}}]),t}(f.default.Component);N.propTypes={emailConfig:y.default,slackConfig:E.default,toggleEmail:T.func,toggleSlack:T.func,notifications:(0,T.arrayOf)(I.default),onSubAccountProfileUpdate:T.func,query:(0,T.shape)({search:T.string,filters:(0,T.oneOfType)([T.string,(0,T.arrayOf)(T.string)])}),slackIntegrationEnabled:T.bool},N.defaultProps={emailConfig:{},slackConfig:{},notifications:[],onSubAccountProfileUpdate:Function.prototype},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(26),v=r(g),_=n(106),y=r(_),b=n(2223),E=r(b),C=n(22),I=r(C),T=n(632),N=r(T),S=n(3303),x=r(S),A=n(160),k=r(A),w=n(1457),R=r(w),O=n(31),P=r(O),L=n(25),M=r(L),D=n(4),U=n(19),F=r(U),q=n(3),B={emailNotifications:"notifications",slackNotifications:"chatNotifications",emailFromLabel:"fromLabel",emailReplyTo:"replyTo"},j=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onSubAccountProfileUpdate=function(e,t){var n=B[e];return n?x.default.update((0,s.default)({},n,t)).catch(r.handleError):(console.warn("Could not translate field '"+e+"' into API parameter."),M.default.resolve())},r.emailConfig=function(){var e=r.props.notificationConfig;return{enabled:(0,D.get)(e,"notifications"),fromLabel:(0,D.get)(e,"fromLabel"),replyTo:(0,D.get)(e,"replyTo")}},r.slackNotificationsConfig=function(){var e=r.props.notificationConfig;return{enabled:(0,D.get)(e,"chatNotifications")}},r.slackIntegrationConfig=function(){return P.default.get("DOMAIN.config.slack",{})},r.filteredNotifications=function(){var e=r.props.query,t=e.search,n=e.filters,a=r.props.notifications;return r.filterNotifications(n,r.searchNotifications(t,a))},r.searchNotifications=function(e,t){return e?t.filter(function(t){return r.stringIncludes(t.name,e)||r.stringIncludes(t.description,e)}):t},r.filterNotifications=function(e,t){var n=r.getApplicableFilters(e);return 0===n.length?t:t.filter(function(e){return e.channels.email===!0&&n.includes("email_enabled")||e.channels.email===!1&&n.includes("email_disabled")||e.channels.slack===!0&&n.includes("slack_enabled")||e.channels.slack===!1&&n.includes("slack_disabled")})},r.getApplicableFilters=function(e){return e?r.slackIntegrationConfig().enabled?e:e.filter(function(e){return!e.includes("slack_")}):[]},r.toggleSlack=function(e){var t=e.id,n=e.channels;R.default.update(t,{slack:!n.slack}).then(function(e){return r.warnDisabledRetainNotifications(t,e)}).catch(r.handleError)},r.toggleEmail=function(e){var t=e.id,n=e.channels;R.default.update(t,{email:!n.email}).then(function(e){return r.warnDisabledRetainNotifications(t,e)}).catch(r.handleError)},r.handleError=function(){(0,F.default)(v.default.t("Oops! We couldn't update your notification preferences right now. Please try again."),{type:"error"})},r.warnDisabledRetainNotifications=function(e,t){if("learner_retain_quiz_assigned"===e&&t&&"learner_retain_quiz_assigned"===t.id){var n=t.channels||{},a=!r.slackIntegrationConfig().enabled||n.slack===!1,s=(0,D.values)((0,D.omit)(n,"slack")).every(function(e){return e!==!0}),i=a&&s;!(0,D.isEmpty)(n)&&i&&(0,F.default)(v.default.t("Disabling all Retain notifications will prevent learners from receiving Retain quizzes."))}},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement(E.default,{notifications:this.filteredNotifications(),emailConfig:this.emailConfig(),slackConfig:this.slackNotificationsConfig(),toggleEmail:this.toggleEmail,toggleSlack:this.toggleSlack,onSubAccountProfileUpdate:this.onSubAccountProfileUpdate,query:this.props.query,slackIntegrationEnabled:this.slackIntegrationConfig().enabled})}},{key:"stringIncludes",value:function(e,t){return e.toUpperCase().includes(t.toUpperCase())}}]),t}(h.default.Component);j.propTypes={notificationConfig:N.default,notifications:(0,q.arrayOf)(k.default),query:(0,q.shape)({search:q.string,filters:(0,q.oneOfType)([q.string,(0,q.arrayOf)(q.string)])})},j.defaultProps={notificationConfig:{},notifications:[]},t.default=(0,I.default)({type:(0,y.default)(j,function(){return v.default.t("Manage Notifications")}),blocking:!0,asyncProps:{notificationConfig:{setup:function(e){x.default.addChangeListener(e)},teardown:function(e){x.default.removeChangeListener(e)},fetch:function(){return x.default.fetch()},get:function(){return x.default.get()}},notifications:{setup:function(e){R.default.addChangeListener(e)},teardown:function(e){R.default.removeChangeListener(e)},fetch:function(){return R.default.fetchAll()},get:function(){return R.default.getAll()}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.notifications",path:"/admin/notifications",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(1274),u=r(l),c=n(5),d=n(18),p=r(d),f=n(61),m=r(f),h=n(27),g=r(h),v=n(1273),_=r(v),y=n(6),b=r(y),E=n(29),C=r(E),I=n(3),T=n(4),N=o.default.createClass({displayName:"Permission",propTypes:{permission:n(630),updatePermission:I.func,resetPermission:I.func,activeFilters:(0,I.arrayOf)(I.string),highlight:I.string,showEditor:I.bool},getDefaultProps:function(){return{permission:{id:"",name:"",roles:[]},activeFilters:[],showEditor:!0,updatePermission:Function.prototype,resetPermission:Function.prototype}},getInitialState:function(){return{permissionEditorOpen:!1}},render:function(){var e=(0,b.default)({"permission table full-width border-t border-grey padding-tb-m":!0,"shadow rounded-corners-default":this.state.permissionEditorOpen});return o.default.createElement("div",{className:e,"data-capybara":"sub-permission"},o.default.createElement("div",{className:"padding-l-xs table-cell","data-test":this.props.permission.id},o.default.createElement("label",{className:"permission__label"},o.default.createElement(m.default,{text:this.props.permission.name,highlight:this.props.highlight}))),o.default.createElement("div",{className:"table-cell"},(0,C.default)("permission_update")&&this.renderPermissionEditorPopup(),this.renderRolePills()))},renderPermissionEditorPopup:function(){var e=this,t=(0,b.default)({"permission-editor__trigger inline-block right btn--reset":!0,invisible:!this.props.showEditor||this.state.permissionEditorOpen});return o.default.createElement(_.default,{roles:this.props.permission.roles,canCreateRole:(0,C.default)("role_create"),updatePermission:this.handleUpdatePermission,resetDefaults:this.handleResetDefaults,onPopupClose:function(){return e.setState({permissionEditorOpen:!1})},onPopupOpen:function(){return e.setState({permissionEditorOpen:!0})}},o.default.createElement(p.default,{className:t},o.default.createElement(g.default,null,I18n.t("Open edit popup")),o.default.createElement(c.Icon,{className:"gs-1x gs-edit"})))},renderRolePills:function(){var e=this;return this.props.permission.roles.filter(function(t){return t.isAllowed&&(!e.props.activeFilters.length||(0,T.includes)(e.props.activeFilters,t.id))}).map(this.renderRolePill)},renderRolePill:function(e){return o.default.createElement(u.default,(0,s.default)({},e,{key:this.props.permission.id+e.id}))},handleResetDefaults:function(){this.props.resetPermission(this.props.permission.id)},handleUpdatePermission:function(e,t){var n=this.props,r=n.updatePermission,a=n.permission;return r(a.id,e,t)}});t.default=N,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(30),s=n(52),i=n(5),o=i.Icon,l=n(123),u=n(2228),c=n(2235),d=c.filterCategories,p=n(3),f=p.arrayOf,m=p.shape,h=p.string,g=p.bool,v=n(6),_=n(19),y=r.createClass({displayName:"PermissionCategories",propTypes:{roles:f(n(175)),categories:f(n(459)),query:m({search:h,activeFilters:f(h)}),isLoading:g},getDefaultProps:function(){return{categories:[],roles:[],query:{search:"",activeFilters:[]},isLoading:!0}},selectedFiltersLabel:function(e){var t=this.filterOptions();if(!e||!t)return"";var n=e.length>3?e.slice(0,2):e,r=t.filter(function(e){return n.indexOf(e.value)!==-1}).map(function(e){return e.label});return e.length>3&&(r=r.concat([I18n.t({one:"1 other",other:"%{count} others"},{count:e.length-2})])),r.join(", ")},noRolesOrNoCategories:function(){return!this.props.roles.length||!this.props.categories.length},justFinishedLoading:function(e){return e.isLoading&&!this.props.isLoading},permissionSystemDown:function(e){return this.justFinishedLoading(e)&&this.noRolesOrNoCategories()},componentDidUpdate:function(e){this.permissionSystemDown(e)&&_(I18n.t("Permission configuration system is currently down. We're working on it!"),{type:"error"})},render:function(){var e=this.props.query.activeFilters,t=e&&e.length,n=v({"role-filter-popup__trigger right":!0,"dark-grey":!t});return r.createElement("div",{className:"padding-t-l"},r.createElement("div",{className:"sortable-table-header--first-item border-b border-grey"},r.createElement(s,{onChange:Function.prototype,searchTerm:this.props.query.search,placeholderText:I18n.t("Search for permissions")}),r.createElement(l,{align:"right",filterSets:[{key:"activeFilters",options:this.filterOptions()}],activeFilters:this.props.query,onChange:this.handleRoleFilterChange},r.createElement(l.Trigger,{className:"popdown-selector__trigger right"},r.createElement("button",{type:"button",className:n},t?this.selectedFiltersLabel(e):I18n.t("Filter by Role"),r.createElement(o,{className:"margin-l-xs gs-arrow-down gs-3-4"}))))),this.filteredCategories().map(this.renderCategory))},filterOptions:function(){return this.props.roles.map(function(e){return{label:e.name,value:e.id}})},handleRoleFilterChange:function(e){a.updateQuery(e)},filteredCategories:function(){var e=this.props.query.search||"";return e.length>0?d(e,this.props.categories):this.props.categories},isSearching:function(){return!!this.props.query.search&&this.props.query.search.length>0},renderCategory:function(e){return r.createElement(u,{key:"category-"+e.id,shouldExpand:this.isSearching(),activeFilters:this.props.query.activeFilters,highlight:this.props.query.search,category:e})}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(2231),l=n(3),u=l.arrayOf,c=l.bool,d=l.string,p=i.createClass({displayName:"PermissionCategory",propTypes:{category:n(459),shouldExpand:c,activeFilters:u(d),highlight:d},getDefaultProps:function(){return{category:{name:"",id:"",groups:[]},activeFilters:[]}},render:function(){return i.createElement("div",{className:"permission-category"},i.createElement("h2",{className:"border-b border-grey padding-t-xxl padding-b-l permission-category__name"},this.props.category.name),i.createElement("div",null,this.props.category.groups.map(this.renderGroup)))},renderGroup:function(e){return i.createElement(o,(0,s.default)({key:"group-"+e.id,shouldExpand:this.props.shouldExpand,activeFilters:this.props.activeFilters,categoryId:this.props.category.id,highlight:this.props.highlight},e))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(1275),o=r(i),l=n(18),u=r(l),c=n(27),d=r(c),p=n(5),f=n(24),m=r(f),h=n(52),g=r(h),v=n(2230),_=r(v),y=n(64),b=r(y),E=n(60),C=r(E),I=n(19),T=r(I),N=n(3),S=s.default.createClass({displayName:"PermissionEditor",propTypes:{roles:(0,N.arrayOf)(_.default.propTypes.role),updatePermission:N.func,onClose:N.func,onRestore:N.func,canCreateRole:N.bool},getDefaultProps:function(){return{roles:[],updatePermission:Function.prototype,onClose:Function.prototype,onRestore:Function.prototype}},getInitialState:function(){return{roleSearchTerm:"",deletingRoleId:"",deletingCustomRole:!1,creatingCustomRole:!1,roleCreatorExpanded:!1,customRoleName:"",basisRoleId:this.defaultBasisId()}},render:function(){var e=this,t=this.props.roles.some(function(e){return!e.static});return s.default.createElement("div",{className:"permission-editor"},s.default.createElement("div",{className:"permission-editor__role-filter"},s.default.createElement(g.default,{label:I18n.t("Type a role"),searchTerm:this.state.roleSearchTerm,urlDriven:!1,onChange:this.handleRoleSearch,placeholderText:I18n.t("Search for a role")})),s.default.createElement("hr",{className:"permission-editor__delimiter"}),s.default.createElement("div",{className:"permission-editor__role-editor"},s.default.createElement("ul",{role:"listbox",className:"permission-editor__role-editor__list"},this.matchingRoles().map(function(n){return e.renderRoleEditor(n,t)}))),this.state.deletingRoleId&&this.renderRoleDeletionConfirmation(),this.props.canCreateRole&&s.default.createElement("div",null,s.default.createElement("hr",{className:"permission-editor__delimiter"}),s.default.createElement("div",{className:"permission-editor__role-creator"},this.state.roleCreatorExpanded?this.renderRoleCreationForm():this.renderRoleCreator())),this.shouldRenderRestore()&&this.renderRestoreButton(),s.default.createElement(u.default,{className:"permission-editor__close-popup-btn btn--reset x-small",onClick:this.props.onClose},s.default.createElement(d.default,null,I18n.t("Close popup")),s.default.createElement(p.Icon,{className:"gs-x gs-1x"})))},renderRoleDeletionConfirmation:function(){var e=this;return s.default.createElement("div",{className:"permission-editor__delete-confirmation text-center leading-normal margin-t-xs"},this.state.deletingCustomRole&&this.renderRoleDeletionLoadingIndicator(),s.default.createElement(m.default,{className:"inline-block margin-rl-s"},I18n.t("Are you sure you want to delete this custom role from all permissions?")),s.default.createElement(u.default,{onClick:function(){return e.setState({deletingRoleId:""})},className:"semi-bold btn--reset dark-grey upcase x-small margin-r-s permission-editor__delete-confirmation__cancel-btn"},s.default.createElement(m.default,null,I18n.t("Cancel"))),s.default.createElement(u.default,{onClick:this.handleDeleteCustomRole,className:"semi-bold btn--reset blue upcase x-small margin-t-xs permission-editor__delete-confirmation__confirm-btn"},s.default.createElement(m.default,null,I18n.t("Delete"))))},renderRoleDeletionLoadingIndicator:function(){return s.default.createElement("div",{className:"loader permission-editor__delete_confirmation__loader"})},renderRoleEditor:function(e,t){var n=this;return s.default.createElement(_.default,{className:"permission-editor__role-editor__list__item",key:e.id,role:e,updateRole:this.props.updatePermission,deleteRole:function(){return n.setState({deletingRoleId:e.id})},customRolesExist:t})},renderRestoreButton:function(){return s.default.createElement("div",{className:"permission-editor__restore"},s.default.createElement("hr",{className:"permission-editor__delimiter clear"}),s.default.createElement(u.default,{onClick:this.props.onRestore,className:"permission-editor__restore-button btn--reset x-small semi-bold pink upcase padding-none"},s.default.createElement(m.default,null,I18n.t("Restore Default"))))},renderRoleCreator:function(){var e=this;return s.default.createElement(u.default,{onClick:function(){return e.setState({roleCreatorExpanded:!0})},className:"semi-bold btn--reset blue upcase x-small permission-editor__role-creator__create-btn"},s.default.createElement(m.default,{className:"permission-editor__role-creator__create-btn__text","data-capybara":"create-custom-role-button"},I18n.t("Create Custom Role")),s.default.createElement(p.Icon,{className:"gs-plus gs-2x permission-editor__role-creator__create-btn__icon"}))},renderRoleCreationForm:function(){var e=this,t=this.staticRoles();return s.default.createElement("div",{className:"permission-editor__role-creator__form"},s.default.createElement("label",null,I18n.t("Name"),s.default.createElement("input",{type:"text",ref:"custom-role-name",className:"small",value:this.state.customRoleName,onChange:function(t){return e.setState({customRoleName:t.target.value})},placeholder:I18n.t("Enter a unique name"),"data-capybara":"custom-role-name-input"})),s.default.createElement(m.default,null,I18n.t("Based on")),s.default.createElement("br",null),s.default.createElement(b.default,{onChange:function(t){return e.setState({basisRoleId:t})},selectedValue:this.state.basisRoleId,children:t.map(function(e){return s.default.createElement(C.default,{key:e.id,value:e.id,label:e.name})})}),s.default.createElement(u.default,{onClick:this.handleCreateCustomRole,disabled:this.state.creatingCustomRole,className:"inline-block semi-bold btn--reset blue upcase x-small right margin-tb-s permission-editor__role-creator__form__create-btn","data-capybara":"create-custom-role-submit"},s.default.createElement(m.default,null,I18n.t("Create Role"))),s.default.createElement(u.default,{onClick:function(){return e.setState({roleCreatorExpanded:!1})},disabled:this.state.creatingCustomRole,className:"inline-block semi-bold btn--reset dark-grey upcase x-small right margin-trb-s permission-editor__role-creator__form__cancel-btn"},s.default.createElement(m.default,null,I18n.t("Cancel"))),this.state.creatingCustomRole&&this.renderRoleCreationLoadingIndicator())},renderRoleCreationLoadingIndicator:function(){return s.default.createElement("div",{className:"loader right permission-editor__role-creator__form__loader"})},defaultBasisId:function(){var e=this.staticRoles();return e[0]&&e[0].id||""},staticRoles:function(){return this.props.roles.filter(function(e){return e.static})},matchingRoles:function(){var e=this.state.roleSearchTerm,t=this.props.roles;if(e){var n=new RegExp(e,"i");return t.filter(function(e){return n.test(e.name)})}return t},shouldRenderRestore:function(){return this.props.roles.some(function(e){return e.changed&&e.static})},handleRoleSearch:function(e){this.setState({roleSearchTerm:e})},handleDeleteCustomRole:function(){var e=this;this.setState({deletingCustomRole:!0}),o.default.deleteCustomRole({roleId:this.state.deletingRoleId}).then(function(){(0,T.default)(I18n.t("Role deleted successfully")),e.setState({deletingRoleId:""}),e.setState({deletingCustomRole:!1})},function(t){T.default.responseError(t),e.setState({deletingCustomRole:!1})})},handleCreateCustomRole:function(){var e=this,t=this.state,n=t.customRoleName,r=t.basisRoleId;this.setState({creatingCustomRole:!0}),o.default.createCustomRole({name:n,basisRoleId:r}).then(function(){(0,T.default)(I18n.t("Role created successfully")),e.setState({customRoleName:"",basisRoleId:e.defaultBasisId(),creatingCustomRole:!1,roleCreatorExpanded:!1}),e.props.onClose()},function(t){T.default.responseError(t),e.setState({creatingCustomRole:!1})})}});t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(91),o=r(i),l=n(5),u=n(27),c=r(u),d=n(18),p=r(d),f=n(29),m=r(f),h=n(6),g=r(h),v=n(3),_=s.default.createClass({displayName:"PermissionEditorItem",propTypes:{role:(0,v.shape)({id:v.string,name:v.string,isAllowed:v.bool,locked:v.bool,changed:v.bool,static:v.bool}),updateRole:v.func,deleteRole:v.func,customRolesExist:v.bool},getDefaultProps:function(){return{role:{id:"",name:"",isAllowed:!1,locked:!1,changed:!1,static:!0},updateRole:Function.prototype,deleteRole:Function.prototype,customRolesExist:!1}},getInitialState:function(){return{requestPending:!1}},render:function(){var e=(0,g.default)({"permission-editor__role-editor__list__item--locked":this.props.role.locked});return s.default.createElement("li",{className:"permission-editor__role-editor__list__item"},s.default.createElement(o.default,{className:e,checked:this.props.role.isAllowed,children:this.props.role.name,disabled:this.props.role.locked||this.state.requestPending,onChange:this.handleUpdateRole}),(0,m.default)("role_destroy")&&!this.props.role.static&&this.renderDeleteAction(),this.renderLockedStatus())},renderDeleteAction:function(){return s.default.createElement(p.default,{onClick:this.props.deleteRole,className:"inline-block right btn--reset"},s.default.createElement(c.default,null,I18n.t("Delete custom role.")),s.default.createElement(l.Icon,{className:"gs-trash gs-1x"}))},renderLockedStatus:function(){var e=(0,g.default)({"permission-editor__role-editor__list__item__lock inline-block right btn--reset":!0,
"permission-editor__role-editor__list__item__lock--static-role-buffer":this.props.role.static&&this.props.customRolesExist&&(0,m.default)("role_destroy")}),t=(0,g.default)({"gs-1x":!0,"gs-lock":this.props.role.locked,"gs-unlock":!this.props.role.locked});return s.default.createElement(p.default,{disabled:"true",className:e},this.props.role.locked?s.default.createElement(c.default,null,I18n.t("Locked.")):s.default.createElement(c.default,null,I18n.t("Unlocked.")),s.default.createElement(l.Icon,{className:t}))},handleUpdateRole:function(e){var t=this;this.setState({requestPending:!0});var n=function(){return t.setState({requestPending:!1})};this.props.updateRole(this.props.role.id,e.target.checked).then(n,n)}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(1275),u=r(l),c=n(2232),d=r(c),p=n(1274),f=r(p),m=n(18),h=r(m),g=n(5),v=n(27),_=r(v),y=n(61),b=r(y),E=n(1273),C=r(E),I=n(19),T=r(I),N=n(25),S=r(N),x=n(29),A=r(x),k=n(6),w=r(k),R=n(3),O=n(4),P=o.default.createClass({displayName:"PermissionGroup",propTypes:{id:R.string,name:R.string,categoryId:R.string,description:R.string,permissionsCount:R.number,permissions:(0,R.arrayOf)(n(630)),shouldExpand:R.bool,activeFilters:(0,R.arrayOf)(R.string),highlight:R.string},getDefaultProps:function(){return{name:"",categoryId:"",description:"",shouldExpand:!1,activeFilters:[],permissions:[{roles:[]}]}},getInitialState:function(){return{expanded:this.props.shouldExpand,permissionEditorOpen:!1}},componentWillReceiveProps:function(e){e.shouldExpand&&this.setState({expanded:e.shouldExpand})},render:function(){var e=(0,w.default)({"clear border-b border-grey permission-group":!0,"shadow rounded-corners-default":this.state.permissionEditorOpen});return o.default.createElement("div",{className:e},o.default.createElement("div",{className:"padding-tb-l left table full-width","data-capybara":"permission-group"},this.renderIcon(),o.default.createElement("div",{className:"padding-l-xs left pointer table-cell constrained-width-35",onClick:this.toggleExpand,"data-capybara":"permission-expansion"},o.default.createElement("p",{className:"bold permission-group__name"},o.default.createElement(b.default,{text:this.props.name,highlight:this.props.highlight})),o.default.createElement("p",{className:"small permission-group__description"},this.props.description)),o.default.createElement("div",{className:"table-cell constrained-width-60 right text-middle"},this.allPermissionsHaveSameRolesEnabled()?this.renderRolesSection():this.renderCustomSettings())),o.default.createElement("div",{className:"clear padding-l-xxl margin-t-s"},this.isExpandable()&&this.state.expanded&&this.renderPermissions()))},renderIcon:function(){var e=this.state.expanded,t=(0,w.default)({"dark-grey gs-1x left pointer":!0,"gs-arrow-down":e,"gs-arrow-right":!e,invisible:this.state.permissionEditorOpen||!this.isExpandable()});return o.default.createElement("i",{className:t,onClick:this.toggleExpand})},renderRolesSection:function(){return o.default.createElement("div",{className:"table"},o.default.createElement("div",{className:"table-cell"},this.renderRolePills()),o.default.createElement("div",{className:"table-cell text-middle"},(0,A.default)("permission_update")&&this.renderPermissionEditorPopup()))},renderRolePills:function(){var e=this;return this.props.permissions[0].roles.filter(function(t){return t.isAllowed&&(!e.props.activeFilters.length||(0,O.includes)(e.props.activeFilters,t.id))}).map(this.renderRolePill)},renderRolePill:function(e){return o.default.createElement(f.default,(0,s.default)({},e,{key:this.props.id+e.id}))},renderPermissionEditorPopup:function(){var e=this,t=(0,w.default)({"permission-editor__trigger btn--reset":!0,invisible:this.state.permissionEditorOpen});return o.default.createElement(C.default,{roles:this.props.permissions[0].roles,canCreateRole:(0,A.default)("role_create"),updatePermission:this.handleUpdatePermissionGroup,resetDefaults:this.handleResetPermissionGroup,onPopupClose:function(){return e.setState({permissionEditorOpen:!1})},onPopupOpen:function(){return e.setState({permissionEditorOpen:!0})}},o.default.createElement(h.default,{className:t,"data-capybara":"permission-editor-popup-button"},o.default.createElement(_.default,null,I18n.t("Open edit popup")),o.default.createElement(g.Icon,{className:"gs-1x gs-edit"})))},renderCustomSettings:function(){var e="permission-group__custom-settings inline-block right";return o.default.createElement("span",{className:e},I18n.t("Custom Settings"))},renderPermissions:function(){return o.default.createElement(d.default,{permissions:this.props.permissions,activeFilters:this.props.activeFilters,highlight:this.props.highlight,updatePermission:this.handleUpdatePermission,resetPermission:this.handleResetPermission,groupEditorOpen:this.state.permissionEditorOpen})},roleSignature:function(e){return e.roles.reduce(function(e,t){return e[t.id]=t.isAllowed,e},{})},allPermissionsHaveSameRolesEnabled:function(){var e=this.props.permissions,t=this.roleSignature(e[0]);return e.every(function(e){return e.roles.every(function(e){return t[e.id]===e.isAllowed})})},isExpandable:function(){return this.props.permissionsCount>1},handleUpdatePermission:function(e,t,n){var r=u.default.updatePermission({categoryId:this.props.categoryId,groupId:this.props.id,permissionId:e,roleId:t,newIsAllowed:n});return this.toastIfError(r)},handleUpdatePermissionGroup:function(e,t){var n=u.default.updatePermissionGroup({categoryId:this.props.categoryId,groupId:this.props.id,roleId:e,newIsAllowed:t});return this.toastIfError(n)},handleResetPermission:function(e){var t=u.default.resetDefaults({categoryId:this.props.categoryId,groupId:this.props.id,permissionIds:[e]});return this.toastIfError(t)},handleResetPermissionGroup:function(){var e=u.default.resetDefaults({categoryId:this.props.categoryId,groupId:this.props.id,permissionIds:(0,O.map)(this.props.permissions,"id")});return this.toastIfError(e)},toastIfError:function(e){return e.catch(function(e){return T.default.responseError(e),S.default.reject(e)})},toggleExpand:function(){this.setState({expanded:!this.state.expanded})}});t.default=P,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2226),o=r(i),l=n(3),u=s.default.createClass({displayName:"Permissions",propTypes:{updatePermission:l.func,resetPermission:l.func,activeFilters:(0,l.arrayOf)(l.string),highlight:l.string,groupEditorOpen:l.bool,permissions:(0,l.arrayOf)(n(630))},getDefaultProps:function(){return{updatePermission:Function.prototype,resetPermission:Function.prototype,permissions:[],activeFilters:[],groupEditorOpen:!1}},render:function(){return s.default.createElement("div",null,this.props.permissions.map(this.renderPermission))},renderPermission:function(e){return s.default.createElement(o.default,{key:e.id,activeFilters:this.props.activeFilters,highlight:this.props.highlight,permission:e,updatePermission:this.props.updatePermission,resetPermission:this.props.resetPermission,showEditor:!this.props.groupEditorOpen})}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(177),a=n(1),s=n(2),i=s.array,o=s.arrayOf,l=s.shape,u=s.string,c=n(2227),d=n(97),p=n(54),f=n(1276),m=n(642),h=n(22),g=a.createClass({displayName:"AdminSettingsPermissions",propTypes:{categories:o(n(459)),roles:o(n(175)),query:l({search:u,activeFilters:i})},componentWillMount:function(){(0,r.redirectIfFreeOrLiteAccount)()},render:function(){return a.createElement(d,null,a.createElement(p,{name:"layout--list__header-text"},I18n.t("Roles & Permissions")),a.createElement("div",{className:"sortable-table-header--first-item","data-capybara":"permissions-table"},a.createElement(c,this.props)))}});e.exports=h({type:g,blocking:!1,asyncProps:{categories:{fetch:function(){return f.fetchAll()},get:function(){return f.getAll()},setup:function(e){f.addChangeListener(e)},teardown:function(e){f.removeChangeListener(e)},shouldRefetch:function(){return!1}},roles:{fetch:function(){return m.fetchAll()},get:function(){return m.getAll()},setup:function(e){m.addChangeListener(e)},teardown:function(e){m.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"admin.permissions",path:"/admin/permissions",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";var r=n(224),a=n(650),s=function(e){return e.toLowerCase()},i=function(e,t){var n=new RegExp("(\\s|^)"+a(e),"ig");return t.reduce(function(e,t){var r=!!t.name.match(n);return r||(t.permissions=t.permissions.filter(function(e){return!!e.name.match(n)})),r||t.permissions.length>0?e.concat(t):e},[])};t.filterCategories=function(e,t){return t.reduce(function(t,n){var a=r({},n);return a.groups=i(s(e),a.groups),a.groups.length>0?t.concat(a):t},[])}},function(e,t,n){"use strict";function r(){return[{label:null,key:"filters",exclusive:!0,options:[{label:I18n.t("Active Accounts"),value:"active"},{label:I18n.t("Inactive Accounts"),value:"inactive"},{label:I18n.t("All Accounts"),value:"all"}]}]}var a=n(1),s=n(52),i=n(123),o=n(3),l=o.shape,u=o.string,c=o.func,d=a.createClass({displayName:"FilterBar",propTypes:{query:l({search:u,sort:u}).isRequired,onFilterChange:c.isRequired},render:function(){return a.createElement("div",null,a.createElement("div",{className:"left indigo"},a.createElement(s,{searchTerm:this.props.query.search,placeholderText:I18n.t("Search for sub accounts")})),a.createElement("div",{className:"right indigo"},a.createElement(i,{onChange:this.emitFilterChange,filterSets:r(),activeFilters:{filters:this.props.query.filter}})))},emitFilterChange:function(e){var t=e.filters;this.props.onFilterChange(t)}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(30),i=n(2238),o=n(50),l=o.Table,u=o.Thead,c=o.Tbody,d=o.Tr,p=o.Th,f=n(3),m=f.shape,h=f.string,g=f.bool,v=f.arrayOf,_=n(2240),y=r.createClass({displayName:"List",propTypes:{query:m({search:h,sort:h}),isMobile:g,subAccounts:v(n(83))},render:function(){var e=this,t=this.props.subAccounts;return this.props.isMobile?r.createElement("div",null,t.length>0&&t.map(this.renderSubAccountSectionForMobile)):r.createElement("div",{className:"sub-accounts__table"},r.createElement(l,{className:"sub-accounts__table--list",onSort:this.updateSort},r.createElement(u,null,r.createElement(d,null,r.createElement(p,{className:"th-25",sortParam:"name"},a.t("Sub Account Name")),r.createElement(p,{className:"th-15",sortParam:"created_at"},a.t("Created")),r.createElement(p,{className:"th-20",sortable:!1}))),r.createElement(c,null,t.map(function(t){return r.createElement(i,{key:"sub-account-"+t.id,subAccount:t,query:e.props.query})}))),0===t.length&&r.createElement("div",{className:"border-b border-grey centered padding-m"},r.createElement("p",{className:"text-center dark-grey no-sub-accounts-message"},a.t("There are no sub accounts matching your criteria."))))},renderSubAccountSectionForMobile:function(e){return r.createElement(_,{title:e.name,key:"sub-account-"+e.id},r.createElement("div",{className:"small med-grey"},a.t("Created")),r.createElement("div",{className:"x-medium padding-b-s"},e.createdAt),e.administrators&&r.createElement("div",{className:"small med-grey"},a.t("Administrator")),e.administrators&&r.createElement("div",{className:"x-medium padding-b-s"},e.administrators))},updateSort:function(e){s.updateQuery({sort:e})}});e.exports=y},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(50),i=s.Tr,o=s.Td,l=n(2239),u=n(61),c=n(3),d=c.shape,p=c.string,f=n(11),m=n(577),h=n(6),g=r.createClass({displayName:"ListRow",propTypes:{subAccount:n(83),query:d({search:p,sort:p}),highlight:p},getDefaultProps:function(){return{query:{},subAccount:{}}},render:function(){var e=this.props.subAccount,t=e.token,n=e.visitUrl,s=t&&n,c=h({"sub-account__link":!0,"sub-account__link--inactive":!this.props.subAccount.isActive});return r.createElement(i,{mobileClassNames:"pure-g"},r.createElement(o,{className:"padding-t-s"},r.createElement("div",{className:"sub-account__name"},r.createElement(a,{to:"admin.sub-account",params:[{subAccountId:this.props.subAccount.id}],className:c,dataCapybara:"view-subaccount"},r.createElement(u,{text:this.props.subAccount.name,highlight:this.props.query.search}))),this.props.subAccount.administrators&&r.createElement("div",{className:"sub-account__administrators"},I18n.t("Admin:")," ",this.props.subAccount.administrators)),r.createElement(o,null,r.createElement("span",{className:"small"},this.displayTime())),r.createElement(o,null,s&&r.createElement(l,{token:t,visitUrl:n,onSwitch:this.handleSwitch})))},handleSwitch:function(){return m.fetchAll(this.props.query)},displayTime:function(){return f(this.props.subAccount.createdAt).fromNow()}});e.exports=g},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(3),i=s.string,o=s.func,l=r.createClass({displayName:"ListRowSwitchForm",propTypes:{token:i.isRequired,visitUrl:i.isRequired,onSwitch:o},getDefaultProps:function(){return{onSwitch:Function.prototype}},render:function(){return r.createElement("form",{onSubmit:this.props.onSwitch,action:this.props.visitUrl,method:"post",target:"_blank","data-capybara":"switch_account_form"},r.createElement("input",{type:"hidden",value:this.props.token,name:"token"}),r.createElement("input",{type:"hidden",value:!0,name:"is_public"}),r.createElement("button",{className:"btn btn--reset sub-account__switch-button",type:"submit","data-capybara":"switch_account_button"},a.t("Switch to Account")))}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=a.any,o=n(6),l=r.createClass({displayName:"MobileSection",propTypes:{title:s,children:i},handleClick:function(){this.setState({open:!this.state.open})},getInitialState:function(){return{open:!1,className:"sub-accounts__tab-section"}},render:function(){var e=o("sub-accounts__tab-section",{"sub-accounts__tab-section--open":this.state.open});return r.createElement("div",{className:"border-b border-grey x-medium "+e},r.createElement("button",{className:"sub-accounts__section-button"}),r.createElement("div",{className:"sub-accounts__section-head padding-tb-xs padding-l-s padding-r-xl",onClick:this.handleClick},this.props.title),r.createElement("div",{className:"sub-accounts__section-article"},r.createElement("div",{className:"article padding-rbl-m"},this.props.children)))}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(2237),i=n(2236),o=n(3),l=o.shape,u=o.string,c=o.bool,d=o.arrayOf,p=n(97),f=n(54),m=n(24),h=n(13),g=n(37),v=n(29),_=n(31),y=n(4),b=y.isEqual,E=n(30),C=n(58),I=n(53),T=n(577),N=n(108),S=n(22),x=n(626),A=r.createClass({displayName:"AdminSubAccounts",mixins:[g({mobile:g.QUERY_MOBILE}),I(function(e){T.fetchNext(e.query)}),x],propTypes:{query:l({search:u,sort:u}).isRequired,isMobile:c,accountType:u,mainAccount:u,subAccounts:d(n(83))},getDefaultProps:function(){var e=_.get("DOMAIN",{name:"Bridge"}),t=_.get("ACCOUNT.account_type");return{accountType:t,mainAccount:e.name,subAccounts:[]}},componentDidMount:function(){var e=this.props.query;C(e.filter)&&E.updateQuery(Object.assign({},e,{filter:"active"}))},openSubAccountUpgradeModal:function(){this.openUpgradeModal("sub_account_limit")},renderAddAccountButton:function(){return!this.state.media.mobile&&v("sub_account_create")?"free"===this.props.accountType?r.createElement("a",{onClick:this.openSubAccountUpgradeModal,className:"add-btn add-btn--detail margin-t-xs sub-accounts__add-account-button"},r.createElement(m,null,r.createElement(a.ComponentInterpolator,{string:a.t("+ %{i18n_t_add_account}",{i18n_t_add_account:"%{i18n_t_add_account}"}),i18n_t_add_account:r.createElement("span",{className:"add-btn__text"},a.t("Add Account"))},"$1"))):r.createElement(h,{to:"admin.sub-accounts.new",className:"add-btn add-btn--detail margin-t-xs sub-accounts__add-account-button"},r.createElement(m,null,r.createElement(a.ComponentInterpolator,{string:a.t("+ %{i18n_t_add_account}",{i18n_t_add_account:"%{i18n_t_add_account}"}),i18n_t_add_account:r.createElement("span",{className:"add-btn__text"},a.t("Add Account"))},"$1"))):""},render:function(){return r.createElement(p,null,r.createElement(f,{name:"layout--list__header-text"},a.t("%{name} Sub Accounts",{name:this.props.mainAccount})),r.createElement(f,{name:"layout--list__after-header"},this.renderAddAccountButton()),r.createElement("div",{className:"sub-accounts"},r.createElement("div",{className:"sub-accounts__tabs"},!this.state.media.mobile&&r.createElement(i,{query:this.props.query,onFilterChange:this.updateFilter}),r.createElement("div",{className:"sub-accounts__panels"},r.createElement("div",{className:"sub-accounts__tabs-panel--list"},r.createElement(s,{subAccounts:this.props.subAccounts,isMobile:this.state.media.mobile,query:this.props.query}))))),this.renderUpgradeModal())},updateFilter:function(e){var t=e;"all"===t&&(t=void 0),E.updateQuery({filter:t})}});e.exports=S({type:A,asyncProps:{subAccounts:{fetch:function(e){return T.fetchAll(e.query)},get:function(e){return T.getAll(e.query)},shouldRefetch:function(e,t){return!b(e.query,t.query)},setup:function(e){T.addChangeListener(e)},teardown:function(e){T.removeChangeListener(e)}},locales:{fetch:function(){return N.fetchAll()}}}})},function(e,t){"use strict";e.exports={name:"admin.sub-accounts",path:"/admin/sub-accounts",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";var r=n(1),a=n(67),s=n(1280),i=n(1277),o=n(290),l=n(29),u=n(108),c=n(22),d=n(39),p=n(107),f=r.createClass({displayName:"AdminSubAccountsNew",handleSubmit:function(e){o.createSubAccount(e)},render:function(){var e=d.isSupport()||d.inheritsSupportPrivileges();return r.createElement("div",{className:"sub-account-new--admin-view"},r.createElement(s,null),l("sub_account_admin_view")&&r.createElement("nav",{className:"admin-nav border-b border-grey"},r.createElement("div",{className:"nav-wrapper"},r.createElement(a,{to:"admin.sub-accounts.new",className:"dark-grey inline-block button-set__button",children:I18n.t("Summary")})," ",r.createElement("a",{href:"#",className:"light-grey inline-block button-set__button disabled",children:I18n.t("Administrators"),onClick:function(e){return e.preventDefault()}})," ",e&&r.createElement("a",{href:"#",className:"light-grey inline-block button-set__button disabled",children:I18n.t("Support"),onClick:function(e){return e.preventDefault()}}))),r.createElement(i,{subAccount:this.getSubAccountDefaults(),onSubmit:this.handleSubmit,isAdmin:l("sub_account_admin_view")}))},getSubAccountDefaults:function(){return{locale:p.getLocale()||"en"}}});e.exports=c({type:f,asyncProps:{locales:{fetch:function(){return u.fetchAll()}}}})},function(e,t){"use strict";e.exports={name:"admin.sub-accounts.new",path:"/admin/sub-accounts/new",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";var r=n(1),a=n(67),s=n(1280),i=n(290),o=n(39),l=n(3),u=l.shape,c=l.bool,d=r.createClass({displayName:"MainView",propTypes:{subAccount:n(83),permissions:u({view:c})},getDefaultProps:function(){return{subAccount:{},permissions:{view:!1}}},render:function(){var e=this.props.subAccount,t=["large-content-area--padded","centered","clearfix","button-set"].join(" "),n=o.isSupport()||o.inheritsSupportPrivileges();return r.createElement("div",null,r.createElement(s,{subAccount:e,onDisable:i.disableSubAccount}),this.props.permissions.view&&r.createElement("nav",{className:"button-set-nav","data-capybara":"button-set-nav"},r.createElement("div",{className:t},r.createElement(a,{to:"admin.sub-account.summary",params:{subAccountId:e.id||""},className:"dark-grey inline-block button-set__button",children:I18n.t("Summary"),"data-capybara":"button-set__button"})," ",r.createElement(a,{to:"admin.sub-account.admins",params:{subAccountId:e.id||""},className:"dark-grey inline-block button-set__button",children:I18n.t("Administrators"),"data-capybara":"button-set__button"})," ",n&&r.createElement(a,{to:"admin.sub-account.support",params:{subAccountId:e.id||""},className:"dark-grey inline-block button-set__button",children:I18n.t("Support"),"data-capybara":"button-set__button"}),n&&r.createElement(a,{to:"admin.sub-account.lti",params:{subAccountId:e.id||""},className:"dark-grey inline-block button-set__button",children:I18n.t("LTI Tools"),"data-capybara":"button-set__button"}))))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(93),l=n(29),u=n(577),c=n(108),d=n(22),p=n(2245),f=i.createClass({displayName:"AdminSubAccountsShow",propTypes:{subAccount:n(83)},getDefaultProps:function(){return{subAccount:{}}},render:function(){var e=this.props.subAccount,t={view:l("sub_account_admin_view"),create:l("sub_account_admin_create"),destroy:l("sub_account_admin_destroy")};return i.createElement("div",null,i.createElement(p,{permissions:t,subAccount:e}),i.createElement(o,(0,s.default)({},this.props,{permissions:t,subAccount:e})))}});e.exports=d({type:f,asyncProps:{subAccount:{fetch:function(e){return u.fetch(e.params.subAccountId)},get:function(e){return u.get(e.params.subAccountId)},setup:function(e){u.addChangeListener(e)},teardown:function(e){u.removeChangeListener(e)}},locales:{fetch:function(){return c.fetchAll()}}}})},function(e,t){"use strict";e.exports={name:"admin.sub-account",path:"/admin/sub-accounts/:subAccountId",ember:{parentPath:["admin"],sink:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(88),l=n(5),u=l.Icon,c=n(18),d=n(65),p=n(37),f=n(6),m=n(2),h=m.func,g=m.bool,v=m.string,_=m.shape,y=i.createClass({displayName:"Administrator",mixins:[o.mixin,p({isMobile:p.MEDIA_QUERY_MOBILE})],propTypes:{onRemove:h,user:_({id:v,name:v,email:v,avatarUrl:v}).isRequired,permissions:_({destroy:g})},getDefaultProps:function(){return{onRemove:Function.prototype,permissions:{destroy:!1}}},render:function(){var e=this.props.user;return this.isConfirmingRemoval()?this.renderRemovalForm():i.createElement("tr",{className:"sortable-table__tr"},i.createElement("td",{className:"sortable-table__td enrollment-list-item__user"},i.createElement("div",null,i.createElement(d,(0,s.default)({className:"enrollment__user-avatar"},e)),i.createElement("span",{className:"avatar__label"},e.name))),i.createElement("td",{className:"sortable-table__td enrollment-list-item__delete-button"},this.props.permissions.destroy&&i.createElement(c,{onClick:this.confirmRemoval,className:"text-right btn--reset full-width"},i.createElement("span",{className:"screenreader-only"},I18n.t("Delete")),i.createElement(u,{className:"gs-x gs-1x dark-grey"}))))},renderRemovalForm:function(){var e=this.props.user,t=f("sortable-table__td padding-none",{"pure-u-1":this.state.media.isMobile});return i.createElement("tr",{className:"sortable-table__tr"},i.createElement("td",{colSpan:"2",className:t},i.createElement("div",{className:"removable-item removable-item--focused"},i.createElement("div",{className:"removable-item__title"},i.createElement(d,(0,s.default)({className:"left avatar--enrollment"},e)),i.createElement("span",{className:"left margin-rl-xs margin-t-xxs"},e.name)),i.createElement("div",{className:"removable-item__confirm indigo"},I18n.t("Remove Admin Role?")),i.createElement("div",{className:"removable-item__buttons"},i.createElement(c,{className:"btn--reset dark-grey",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),i.createElement(c,{className:"btn--reset pink",onClick:this.props.onRemove,children:I18n.t("Delete")})))))}});e.exports=y},function(e,t,n){"use strict";var r=n(1),a=n(290),s=n(2250),i=n(2248),o=n(3),l=o.arrayOf,u=o.func,c=o.shape,d=o.bool,p=r.createClass({displayName:"Administrators",propTypes:{subAccount:n(83),admins:l(n(382)),isAdding:d,onEditorCancel:u,permissions:c({destroy:d})},getDefaultProps:function(){return{subAccount:{},admins:[],isAdding:!1,onEditorCancel:Function.prototype,permissions:{destroy:!1}}},render:function(){var e=this.props.isAdding;return r.createElement("div",{className:"sub-account__admin-list"},r.createElement("table",{className:"sortable-table sub-account__admin-table"},r.createElement("tbody",null,e&&r.createElement(s,{onSubmit:this.addAdmin,onCancel:this.props.onEditorCancel}),this.props.admins.map(this.renderAdmin))),0===this.props.admins.length&&!e&&r.createElement("div",{className:"border-b border-grey centered padding-m"},r.createElement("p",{className:"text-center dark-grey no-admins-message"},I18n.t("There are no admins for this account"))))},renderAdmin:function(e){return r.createElement(i,{key:e.id,user:e,onRemove:this.removeAdmin.bind(null,e.id),permissions:this.props.permissions})},addAdmin:function(e){a.createSubAccountAdmin(this.props.subAccount.id,e)},removeAdmin:function(e){a.destroySubAccountAdmin(this.props.subAccount.id,e)}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(5),i=s.Icon,o=n(18),l=n(27),u=n(12),c=u.KC_RETURN,d=n(3),p=d.func,f=r.createClass({displayName:"InlineAdminEditor",propTypes:{onSubmit:p,onCancel:p},getDefaultProps:function(){return{onSubmit:Function.prototype,onCancel:Function.prototype}},getInitialState:function(){return{email:"",error:!1}},componentDidMount:function(){this.refs.email.focus()},render:function(){var e=a("padding-trbl-xs margin-t-xxs sub-account__admin-input",{"sub-account__admin-input--error":this.state.error});return r.createElement("tr",{className:"sortable-table__tr"},r.createElement("td",{className:"sortable-table__td"},r.createElement("div",{key:"email",className:"sub-account__admin-field"},r.createElement("label",{className:"small sub-account__admin-label",htmlFor:"sub-account-email"},I18n.t("Email")),r.createElement("input",{ref:"email",type:"text",id:"sub-account-email",className:e,value:this.state.email,onChange:this.handleChange,onKeyUp:this.handleKeyUp})),r.createElement("div",{className:"sub-account__admin-submit"},r.createElement(o,{className:"btn--reset blue semi-bold margin-t-s padding-s",onClick:this.handleCreate},I18n.t("Create Admin")))),r.createElement("td",{className:"sortable-table__td"},r.createElement(o,{onClick:this.props.onCancel,className:"btn--reset text-right full-width margin-t-s padding-s"},r.createElement(l,null,I18n.t("Cancel")),r.createElement(i,{className:"gs-x gs-1x dark-grey"}))))},handleKeyUp:function(e){e.keyCode===c&&this.handleCreate()},handleChange:function(e){this.setState({email:e.target.value})},handleCreate:function(){var e=this.state.email;e.length?(this.props.onSubmit({email:e}),this.setState({error:!1,email:""})):this.setState({error:!0})}});e.exports=f},function(e,t,n){"use strict";var r=n(1),a=n(2249),s=n(18),i=n(3),o=i.arrayOf,l=i.shape,u=i.bool,c=r.createClass({displayName:"MainView",propTypes:{subAccount:n(83),admins:o(n(382)),permissions:l({create:u,destroy:u})},getDefaultProps:function(){return{subAccount:{},admins:[],permissions:{create:!1,destroy:!1}}},getInitialState:function(){return{adding:!1}},render:function(){return r.createElement("div",{className:"large-content-area--padded centered","data-capybara":"admin_area"},r.createElement("div",{className:"sortable-table-header--first-item"},r.createElement("h2",{className:"left medium margin-t-m margin-b-s"},I18n.t("Administrators")),this.props.permissions.create&&this.props.subAccount.isActive&&r.createElement(s,{className:"btn secondary right margin-t-m",onClick:this.toggleEditor,children:I18n.t("+ Add Administrator")}),r.createElement(a,{subAccount:this.props.subAccount,admins:this.props.admins,permissions:this.props.permissions,isAdding:this.state.adding,onEditorCancel:this.hideEditor})))},toggleEditor:function(){this.setState({adding:!this.state.adding})},hideEditor:function(){this.setState({adding:!1})}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(2251),s=n(1281),i=n(22),o=n(3),l=o.shape,u=o.bool,c=o.arrayOf,d=r.createClass({displayName:"AdminSubAccountsShowAdmins",propTypes:{subAccount:n(83),admins:c(n(83)),permissions:l({create:u,destroy:u})},getDefaultProps:function(){return{subAccount:{},admins:[],permissions:{create:!1,destroy:!1}}},render:function(){return r.createElement(a,{subAccount:this.props.subAccount,admins:this.props.admins,permissions:this.props.permissions})}});e.exports=i({type:d,asyncProps:{admins:{fetch:function(e){return s.fetchAll(e.params.subAccountId)},get:function(e){return s.getAll(e.params.subAccountId)},setup:function(e){s.addChangeListener(e)},teardown:function(e){s.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"admin.sub-account.admins",path:"admins",parent:"admin.sub-account",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=n(22),o=n(2282),l=n(39),u=n(29),c=n(19),d=n(1395),p=r.createClass({displayName:"SubAccountLti",propTypes:{subAccount:n(83).isRequired,ltiTools:s(n(159))},render:function(){var e=l.isSupport()||l.inheritsSupportPrivileges(),t={lti_tool_create:u("lti_tool_create")||e,lti_tool_destroy:u("lti_tool_destroy")||e};return r.createElement("div",null,r.createElement(d,{accountId:this.props.subAccount.id,permissions:t,ltiTools:this.props.ltiTools,onEnableToggle:this.onEnableToggle,onRemove:this.onRemove,addTool:this.addTool}))},onEnableToggle:function(e,t){o.update(e,t.id,{toolEnabled:!t.toolEnabled}).catch(c.bind(null,"There was a problem updating the LTI Tool.",{type:"error"}))},onRemove:function(e,t){o.delete(e,t)},addTool:function(e,t,n,r){r&&r.preventDefault(),e()||o.create(this.props.subAccount.id,t()).then(function(){c(I18n.t("LTI tool added!")),n()},c.bind(null,I18n.t("An error occurred while adding the tool."),{type:"error"}))}});e.exports=i({type:p,blocking:!1,asyncProps:{ltiTools:{setup:function(e){o.addChangeListener(e)},teardown:function(e){o.removeChangeListener(e)},fetch:function(e){return o.fetchAll(e.params.subAccountId)},get:function(e){return o.getAll(e.params.subAccountId)}}}})},function(e,t){"use strict";e.exports={name:"admin.sub-account.lti",path:"lti",parent:"admin.sub-account",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(1277),s=n(22),i=n(290),o=n(1472),l=r.createClass({displayName:"AdminSubAccountsShowSummary",propTypes:{subAccount:n(83),dns:n(191)},getDefaultProps:function(){return{subAccount:{}}},handleSubmit:function(e){i.updateSubAccount(this.props.subAccount.id,e)},render:function(){return r.createElement(a,{subAccount:this.props.subAccount,onSubmit:this.handleSubmit,dns:this.props.dns})}});e.exports=s({type:l,blocking:!1,asyncProps:o("subAccount.subdomain","subaccount")})},function(e,t){"use strict";e.exports={name:"admin.sub-account.summary",parent:"admin.sub-account",default:!0,ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(64),l=n(60),u=n(576),c=n(896),d=c.getAuthTypes,p=c.getConfigOptions,f=c.getSamlNameIds,m=n(2),h=m.func,g=n(99),v=g.AUTH_TYPE_BASIC,_=i.createClass({displayName:"AuthSettings",propTypes:{subAccount:n(83),onChange:h.isRequired},getDefaultProps:function(){return{subAccount:{auth:{}}}},handleTypeChange:function(e){this.props.onChange({auth:{provider:e}})},handleValueChange:function(e){var t=this;return function(n){var r={};r[e]=n.target.value,t.props.onChange({auth:r})}},handleBooleanValueChange:function(e){var t=this;return function(n){var r={};r[e]=n.target.checked,t.props.onChange({auth:r})}},handleSamlNameIdChange:function(e){this.props.onChange({auth:{nameIdentifierFormat:e}})},render:function(){var e=this,t=this.props.subAccount.auth||{};return i.createElement("div",null,i.createElement(u,{label:I18n.t("Auth Type")},i.createElement(o,{className:"combo-box--message-filter",onChange:this.handleTypeChange,selectedValue:t.provider},d().map(function(e){return i.createElement(l,(0,s.default)({key:e.value},e),i.createElement("span",null,e.label))}))),p(t.provider).map(function(t){return i.createElement(u,{label:t.label,key:t.value},i.createElement("div",{className:"sub-account-support__"+t.value},function(){switch(t.value){
case"nameIdentifierFormat":return e.renderNameIdMenu(t);case"idpCert":return e.renderCertTextInput(t);case"skipConditions":case"skipSubjectConfirmation":case"customizeSamlEntityId":return e.renderCheckbox(t);default:return e.renderInput(t)}}()))}),this.renderCreateUserFromAuthHashCheckbox())},renderInput:function(e){return i.createElement("input",{type:"text","data-capybara":"auth-cas-"+e.value,onChange:this.handleValueChange(e.value),value:this.props.subAccount.auth[e.value],className:"padding-trbl-s sub-account__input"})},renderNameIdMenu:function(){return i.createElement(o,{className:"combo-box--saml-nameid-selector",onChange:this.handleSamlNameIdChange,selectedValue:this.props.subAccount.auth.nameIdentifierFormat},f().map(function(e){return i.createElement(l,(0,s.default)({key:e.value},e),i.createElement("span",null,e.label))}))},renderCertTextInput:function(e){return i.createElement("textarea",{className:"support-account__saml-certificate sub-account__input",onChange:this.handleValueChange(e.value),value:this.props.subAccount.auth[e.value]})},renderCheckbox:function(e){var t="customizeSamlEntityId"===e.value&&void 0===this.props.subAccount.auth[e.value]||this.props.subAccount.auth[e.value];return i.createElement("label",null,i.createElement("input",{type:"checkbox",onChange:this.handleBooleanValueChange(e.value),checked:t})," "+e.label)},handleCreateUserFromAuthHashChanged:function(e){this.props.onChange({createUserFromAuthHash:e.target.checked})},renderCreateUserFromAuthHashCheckbox:function(){var e=this.props.subAccount.auth||{};if(e.provider!==v){var t=this.props.subAccount.createUserFromAuthHash;return i.createElement(u,null,i.createElement("div",{className:"sub-account-support__create-user-from-auth-hash"},i.createElement("label",null,i.createElement("input",{type:"checkbox",onChange:this.handleCreateUserFromAuthHashChanged,checked:t})," "+I18n.t("Create users from external authorization"))))}return null}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(576),o=r(i),l=n(361),u=r(l),c=n(744),d=r(c),p=n(55),f=r(p),m=n(18),h=r(m),g=n(20),v=r(g),_=n(28),y=r(_),b=n(2),E=s.default.createClass({displayName:"ImportProfileSettings",propTypes:{profile:(0,b.shape)({csvUrl:b.string,csvUser:b.string,csvPassword:b.string,csvDays:(0,b.arrayOf)(b.bool),csvTime:b.string,tryKeyBasedAuth:b.bool,csvPublicKey:b.string}),regenerateAuth:b.func,onChange:b.func},getDefaultProps:function(){return{onChange:Function.prototype,regenerateAuth:Function.prototype}},render:function(){var e=this.props.profile,t=(0,y.default)("inline-block sub-account__input sub-account-support__csv-url--input",{"padding-trbl-s":!e.tryKeyBasedAuth,"padding-trb-s sub-account-support__csv-url--input-prefixed":e.tryKeyBasedAuth});return s.default.createElement("div",null,(0,v.default)("key_based_sftp")&&s.default.createElement(d.default,{label:I18n.t("Use Key-Based Auth")},s.default.createElement(f.default,{checked:e.tryKeyBasedAuth||!1,onChange:this.handleTryKeyBasedAuthChecked})),s.default.createElement(o.default,{label:I18n.t("Auto CSV URL")},s.default.createElement("div",{className:"sub-account-support__csv-url"},e.tryKeyBasedAuth&&s.default.createElement("span",{className:"inline-block padding-tbl-s sub-account-support__csv-url--sftp-prefix"},"sftp://"),s.default.createElement("input",{"data-capybara":"auto-csv-url",type:"text",onChange:this.emitValueChange("csvUrl"),value:this.csvUrl(),className:t}))),s.default.createElement(o.default,{label:I18n.t("Auto CSV Username")},s.default.createElement("div",{className:"sub-account-support__csv-user"},s.default.createElement("input",{"data-capybara":"auto-csv-user",type:"text",onChange:this.emitValueChange("csvUser"),value:e.csvUser||"",className:"padding-trbl-s sub-account__input sub-account-support__csv-user-input"}))),!e.tryKeyBasedAuth&&s.default.createElement(o.default,{label:I18n.t("Auto CSV Password")},s.default.createElement("div",{className:"sub-account-support__csv-pass"},s.default.createElement("input",{"data-capybara":"auto-csv-pass",type:"password",onChange:this.emitValueChange("csvPassword"),value:e.csvPassword||"",className:"padding-trbl-s sub-account__input sub-account-support__csv-pass-input"}))),e.tryKeyBasedAuth&&s.default.createElement("div",null,s.default.createElement(o.default,{label:I18n.t("Auto CSV Public Key")},s.default.createElement("div",{className:"sub-account-support__csv-public-key"},s.default.createElement("textarea",{readOnly:!0,placeholder:I18n.t("Loading..."),value:e.csvPublicKey||"",className:"padding-trbl-s sub-account__textarea"}))),s.default.createElement(h.default,{className:"btn filled",onClick:this.props.regenerateAuth,"data-capybara":"regenerate-csv-keys-button"},I18n.t("Regenerate Keys"))),s.default.createElement("div",{className:"margin-b-m"},s.default.createElement(u.default,{days:e.csvDays,time:e.csvTime,onChangeDays:this.handleDaysChange,onChangeTime:this.handleTimeChange})))},csvUrl:function(){var e=this.props.profile;return e.tryKeyBasedAuth&&e.csvUrl&&0===e.csvUrl.indexOf("sftp://")?e.csvUrl.substring(7):e.csvUrl||""},emitValueChange:function(e){var t=this;return function(n){var r={};r[e]=n.target.value,t.props.onChange(r)}},handleTryKeyBasedAuthChecked:function(e){e.target.checked&&!this.props.profile.csvPublicKey&&this.props.regenerateAuth(),this.props.onChange({tryKeyBasedAuth:e.target.checked})},handleDaysChange:function(e,t){var n=this.props.profile.csvDays;n[e]=!!t,this.props.onChange({csvDays:n})},handleTimeChange:function(e){this.props.onChange({csvTime:e})}});t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(9),o=r(i),l=n(1),u=r(l),c=n(1278),d=r(c),p=n(2259),f=r(p),m=n(2258),h=r(m),g=n(576),v=r(g),_=n(744),y=r(_),b=n(1279),E=r(b),C=n(64),I=r(C),T=n(60),N=r(T),S=n(584),x=r(S),A=n(617),k=r(A),w=n(618),R=r(w),O=n(55),P=r(O),L=n(818),M=r(L),D=n(31),U=r(D),F=n(2),q=n(4),B=n(19),j=r(B),H=n(290),G=r(H),W=n(1439),V=n(872),Y=n(20),z=r(Y),K=u.default.createClass({displayName:"MainView",propTypes:{subAccount:n(83).isRequired,tokens:(0,F.arrayOf)(n(245)).isRequired,onChange:F.func.isRequired,onSubmit:F.func.isRequired},render:function(){var e=this.props,t=e.subAccount,n=e.tokens,r=(0,q.some)(n,function(e){return"scim"===e.roleId});return u.default.createElement("div",{className:"large-content-area--padded margin-b-m centered"},u.default.createElement(d.default,null,u.default.createElement("h2",{className:"medium margin-t-m margin-b-m border-b border-grey"},I18n.t("Account Settings")),u.default.createElement(y.default,{label:I18n.t("Enable Learn")},this.renderProductToggle("learn",t.products)),u.default.createElement(y.default,{label:I18n.t("Enable Perform")},this.renderProductToggle("perform",t.products)),u.default.createElement(y.default,{label:I18n.t("Enable Career")},this.renderProductToggle("career",t.products)),u.default.createElement(y.default,{label:I18n.t("Allow admins to import passwords in CSV")},u.default.createElement(P.default,{checked:t.importPasswords,onChange:this.emitBooleanChange("importPasswords")})),u.default.createElement(y.default,{label:I18n.t("Enable automatic CSV import")},u.default.createElement(P.default,{checked:t.autoCsv,onChange:this.emitBooleanChange("autoCsv")})),t.autoCsv&&u.default.createElement(f.default,{profile:t.importProfile,regenerateAuth:this.regenerateAuth,onChange:this.emitProfileChange}),u.default.createElement(y.default,{label:I18n.t("Limit content editing to owners")},u.default.createElement(P.default,{checked:t.limitedAuthoring,onChange:this.emitBooleanChange("limitedAuthoring")})),u.default.createElement("div",null,u.default.createElement(y.default,{label:I18n.t("Enable Bridge Retain"),className:"block clearfix"},u.default.createElement(P.default,{checked:t.bridgeRetain,onChange:this.emitBooleanChange("bridgeRetain")})),u.default.createElement("div",{className:"margin-bl-m"},I18n.t("Notifications must be on for Retain to work"))),u.default.createElement(v.default,{label:I18n.t("Lynda Organization Id")},u.default.createElement("input",{"data-capybara":"lynda-org-id",type:"text",value:t.lyndaOrgId||"",onChange:this.changeValue("lyndaOrgId"),className:"sub-account__input"})),u.default.createElement(h.default,{subAccount:t,onChange:this.emitChange}),u.default.createElement(v.default,{label:I18n.t("Terms of Use")},u.default.createElement(I.default,{className:"combo-box--message-filter",onChange:this.emitComboValueChange.bind(this,"tacType"),selectedValue:t.tacType},(0,W.getTacTypes)().map(function(e){return u.default.createElement(N.default,(0,o.default)({key:e.value},e),u.default.createElement("span",null,e.label))}))),"custom"===t.tacType&&u.default.createElement("textarea",{value:t.tacCustomBody||"",onChange:this.changeValue("tacCustomBody"),className:"support-account__modal-textarea margin-b-m",placeholder:I18n.t("Custom Terms of Use")}),(0,z.default)("learn_sub_account_support_settings")&&u.default.createElement("h3",null,I18n.t("Support Settings")),u.default.createElement(M.default,{config:t,onChange:this.props.onChange,accountName:this.props.subAccount.name,inSubAccount:!0}),u.default.createElement("h3",{className:"small margin-t-m margin-b-s border-b border-grey"},I18n.t("Email Notifications")),u.default.createElement(v.default,{label:I18n.t("Custom From Label")},u.default.createElement("input",{type:"text",value:t.fromLabel||"",onChange:this.changeValue("fromLabel"),className:"sub-account__input"})),u.default.createElement(v.default,{label:I18n.t("Reply To Address")},u.default.createElement("input",{type:"text",value:t.replyTo||"",onChange:this.changeValue("replyTo"),className:"sub-account__input"})),u.default.createElement(E.default,{onClick:this.props.onSubmit,children:I18n.t("Update")})),u.default.createElement(k.default,{id:t.id,type:"sub_account",provider:t.auth&&t.auth.provider}),r&&u.default.createElement(R.default,{id:t.id}),u.default.createElement(x.default,{tokens:n,allowCreate:!0,allowRevoke:!0,onCreate:this.createToken,onRevoke:this.revokeToken}))},renderProductToggle:function(e,t){return u.default.createElement(P.default,{checked:(0,V.isProductEnabled)(t,e),onChange:this.emitProductChange(e)})},emitProductChange:function(e){var t=this;return function(n){var r={accountType:U.default.get("ACCOUNT.account_type")},a=n.target.checked,s=(0,V.updateProduct)(t.props.subAccount.products,e,a&&(0,V.defaultSubscriptionType)(e,r));t.props.onChange({products:s})}},emitBooleanChange:function(e){var t=this;return function(n){var r={};r[e]=n.target.checked,t.props.onChange(r)}},emitComboValueChange:function(e,t){"tacType"===e&&"none"===t?(0,j.default)(I18n.t("Please do not save this setting for an account until you have confirmed with legal that the client has signed a contract addendum to support this."),{type:"error"}):j.default.clear(),this.props.onChange((0,s.default)({},e,t))},emitChange:function(e){var t=(0,q.assign)(this.props.subAccount.auth,e.auth);"Basic"===t.provider&&(t.model="User"),this.props.onChange((0,q.assign)(e,{auth:t}))},changeValue:function(e){var t=this;return function(n){var r={};r[e]=n.target.value,t.props.onChange(r)}},emitProfileChange:function(e){var t=(0,q.assign)(this.props.subAccount.importProfile,e);this.props.onChange({importProfile:t})},createToken:function(){G.default.createSubAccountToken(this.props.subAccount.id)},revokeToken:function(e){G.default.revokeSubAccountToken(this.props.subAccount.id,e.id)},regenerateAuth:function(){var e=this,t=this.props.subAccount.importProfile.csvPublicKey;this.emitProfileChange({csvPublicKey:null}),G.default.regenerateAutoCsvKeyBasedAuth(this.props.subAccount.id).then(function(t){e.emitProfileChange({csvPublicKey:t.importProfile.csvPublicKey})}).catch(function(){e.emitProfileChange({csvPublicKey:t})})}});t.default=K,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2260),s=n(290),i=n(22),o=n(1282),l=n(4),u=l.assign,c=n(3),d=c.arrayOf,p=r.createClass({displayName:"AdminSubAccountsShowSupport",propTypes:{subAccount:n(83).isRequired,tokens:d(n(245))},getInitialState:function(){return{subAccount:this.props.subAccount}},componentWillReceiveProps:function(){this.setState({subAccount:this.props.subAccount})},componentWillUpdate:function(e){e.subAccount!==this.props.subAccount&&this.setState({subAccount:e.subAccount})},render:function(){return this.props.subAccount?r.createElement(a,{onChange:this.handleChange,onSubmit:this.handleSubmit,subAccount:this.props.subAccount,tokens:this.props.tokens||[]}):null},handleChange:function(e){this.setState({subAccount:u(this.state.subAccount,e)})},handleSubmit:function(){s.updateSubAccount(this.props.subAccount.id,this.state.subAccount)}});e.exports=i({type:p,asyncProps:{tokens:{fetch:function(e){return o.fetchAll(e.params.subAccountId)},get:function(e){return o.getAll(e.params.subAccountId)},setup:function(e){o.addChangeListener(e)},teardown:function(e){o.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"admin.sub-account.support",path:"support",parent:"admin.sub-account",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(18),s=n(3),i=s.func,o=s.number,l=s.string,u=n(2264),c=r.createClass({displayName:"DeactivationButton",propTypes:{id:l,name:l,courseCount:o,userCount:o,onDisable:i},getDefaultProps:function(){return{id:"",name:"",courseCount:0,userCount:0,onDisable:Function.prototype}},getInitialState:function(){return{showConfirmModal:!1}},closeModal:function(){this.setState({showConfirmModal:!1})},openModal:function(){this.setState({showConfirmModal:!0})},render:function(){return r.createElement("div",{className:"sub-account__disable-wrapper"},r.createElement(a,{className:"btn sub-account__disable-btn",onClick:this.openModal,children:I18n.t("Deactivate this account")}),this.state.showConfirmModal&&r.createElement(u,{name:this.props.name,userCount:this.props.userCount,courseCount:this.props.courseCount,onConfirm:this.props.onDisable.bind(null,this.props.id),onCancel:this.closeModal}))}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(18),s=n(3),i=s.func,o=s.string,l=s.number,u=r.createClass({displayName:"DeactivationPrompt",propTypes:{onConfirm:i.isRequired,onCancel:i.isRequired,name:o,courseCount:l,userCount:l},render:function(){return r.createElement("div",{className:"sub-account__disable-dialog"},r.createElement("div",{className:"sub-account__disable-dialog__prompt"},r.createElement("h1",null,I18n.t("Deactivating %{sub_account_name}?",{sub_account_name:this.props.name})),r.createElement("p",null,this.renderCount(I18n.t("Active Users:"),this.props.userCount),this.renderCount(I18n.t("Courses:"),this.props.courseCount))),r.createElement("div",{className:"sub-account__disable-dialog__actions"},r.createElement(a,{className:"sub-account__disable-dialog__actions__cancel-btn",onClick:this.props.onCancel,children:I18n.t("Cancel")}),r.createElement(a,{className:"sub-account__disable-dialog__actions__confirm-btn",onClick:this.props.onConfirm,children:I18n.t("Confirm")})))},renderCount:function(e,t){return r.createElement("span",{className:"sub-account__disable-dialog__count"},r.createElement("span",null,e),r.createElement("span",{className:"bold"},t))}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(290),s=n(31),i=n(595),o=n(576),l=n(744),u=n(55),c=n(441),d=n(373),p=n(108),f=n(4),m=n(3),h=m.func,g=r.createClass({displayName:"Profile",propTypes:{subAccount:n(83),dns:n(191),onChange:h},getDefaultProps:function(){return{subAccount:{},dns:{status:"none"},onChange:Function.prototype}},render:function(){var e=this.props.subAccount,t=s.get("ACCOUNT.host"),n=t.subdomain,m=e.subdomain||"";return r.createElement("div",{className:"sub-account__profile"},r.createElement("h2",{className:"medium margin-t-m margin-b-m border-b border-grey"},I18n.t("Account Profile")),r.createElement(o,{label:I18n.t("Domain Name")},r.createElement("div",{className:"sub-account-profile__domain-name relative"},r.createElement("input",{"data-capybara":"domain-name",type:"text",onChange:this.changeValue("subdomain"),value:m.replace("-"+n,""),className:"padding-trbl-s sub-account-profile__domain-name-input"}),r.createElement("span",{className:"sub-account__bridgeapp"},"-",n,".bridgeapp.com"),r.createElement("div",{className:"sub-account-profile__dns-check absolute"},r.createElement(i,{type:"subaccount",dns:this.props.dns,onRetry:a.updateDNS})))),r.createElement(o,{label:I18n.t("Account Name")},r.createElement("input",{"data-capybara":"account-name",type:"text",value:e.name||"",onChange:this.changeValue("name"),className:"sub-account__input padding-trbl-s"})),r.createElement(o,{label:I18n.t("Main Contact")},r.createElement("input",{"data-capybara":"main-contact",type:"text",value:e.contactName||"",onChange:this.changeValue("contactName"),className:"sub-account__input padding-trbl-s"})),r.createElement(o,{label:I18n.t("Phone")},r.createElement("input",{"data-capybara":"phone",type:"text",value:e.contactPhone||"",onChange:this.changeValue("contactPhone"),className:"sub-account__input padding-trbl-s"})),r.createElement(o,{label:I18n.t("Email")},r.createElement("input",{"data-capybara":"email",type:"text",value:e.contactEmail||"",onChange:this.changeValue("contactEmail"),className:"sub-account__input padding-trbl-s"})),r.createElement(l,{label:I18n.t("Enable Email Notifications")},r.createElement(u,{checked:e.notifications||!1,onChange:this.changeValue("notifications",this.getBoolFromEvent),"data-capybara":"subaccount_toggle_notifications"})),r.createElement(o,{label:I18n.t("Default Language")},r.createElement(c,{className:"sub-account__combo-box",selectedValue:e.locale,locales:p.getAll(),onChange:this.emitLocaleChange})),r.createElement(o,{label:I18n.t("Default Timezone")},r.createElement(d,{className:"sub-account__combo-box",value:e.timeZone,onChange:this.changeValue("timeZone",f.identity)})))},changeValue:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getValueFromEvent;return function(r){var a={};a[e]=n(r),t.props.onChange(a)}},getValueFromEvent:function(e){return e.target.value},getBoolFromEvent:function(e){return e.target.checked},emitLocaleChange:function(e){this.props.onChange({locale:e})}});e.exports=g},function(e,t,n){"use strict";var r=n(8),a=n(83),s=n(40),i=n(7);e.exports=r({schema:a,perform:function(e){return i({url:"/api/admin/sub_accounts",dataType:"json",type:"POST",data:{sub_account:s(e)}})},parse:function(e,t){return e(t.sub_accounts[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(382),s=n(40),i=n(7);e.exports=r({schema:a,perform:function(e,t){return i({url:"/api/admin/sub_accounts/"+e+"/admins",dataType:"json",type:"POST",data:{admin_user:s(t)}})},parse:function(e,t){return e(t.admin_users[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(7),i=n(40);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/sub_accounts/"+e+"/lti_tools",dataType:"json",data:{lti_tools:[i(t)]},type:"POST"})},parse:function(e,t){return t.lti_tools.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(3265),perform:function(e){return a({type:"POST",url:"/api/support/sub_accounts/"+e+"/tokens"})},parse:function(e,t){return e(t.tokens[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(382),s=n(7);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/admin/sub_accounts/"+e+"/admins/"+t,dataType:"json",type:"DELETE"})}})},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(7);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/sub_accounts/"+e+"/lti_tools/"+t,dataType:"json",type:"DELETE"})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:null,perform:function(e,t){return a({url:"/api/support/sub_accounts/"+e+"/tokens/"+t,type:"DELETE"})}})},function(e,t,n){"use strict";var r=n(8),a=n(83),s=n(7);e.exports=r({schema:a,perform:function(e){return s({url:"/api/admin/sub_accounts/"+e+"/disable",dataType:"json",type:"PUT"})},parse:function(e,t){return e(t.sub_accounts[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(83);e.exports=r({url:"/api/admin/sub_accounts/%@",schema:a,parse:function(e,t){return e(t.sub_accounts[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(382),perform:function(e){var t="/api/admin/sub_accounts/"+e+"/admins";return a({url:t,dataType:"json"})},parse:function(e,t){return t.admin_users.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(7);e.exports=r({schema:a,perform:function(e){return s({url:"/api/support/sub_accounts/"+e+"/lti_tools",dataType:"json"})},parse:function(e,t){return t.lti_tools.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(245),perform:function(e){return a({url:"/api/support/sub_accounts/"+e+"/tokens"})},parse:function(e,t){return t.tokens.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(83),s=n(7);e.exports=r({schema:a,perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nextPageURL||"/api/admin/sub_accounts";return s({url:t,dataType:"json",data:e.data})},parse:function(e,t){return t.sub_accounts.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(83),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/admin/sub_accounts/"+e+"/regenerate_csv_keys",type:"PUT"})},parse:function(e,t){return e(t.sub_accounts[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(83),s=n(40),i=n(7);e.exports=r({schema:a,perform:function(e,t){var n=t.importProfile||{};return n.tryKeyBasedAuth&&0!==n.csvUrl.indexOf("sftp://")&&(n.csvUrl="sftp://"+n.csvUrl),i({url:"/api/admin/sub_accounts/"+e,type:"PATCH",dataType:"json",data:{sub_account:s(t)}})},parse:function(e,t){return e(t.sub_accounts[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(40),i=n(7);e.exports=r({schema:a,perform:function(e,t,n){return i({url:"/api/support/sub_accounts/"+e+"/lti_tools/"+t,dataType:"json",type:"PATCH",data:{lti_tool:s(n)}})}})},function(e,t,n){"use strict";var r=n(21),a=n(2276),s=n(2271),i=n(2268),o=n(2281),l=n(4),u=l.merge,c=r({displayName:"LtiToolsStore",schema:n(159),fetchAll:function(e){var t=this;return a(e).then(function(n){t.cache.setCollection({subAccountId:e},n)})},getAll:function(e){return this.cache.getCollection({subAccountId:e})},delete:function(e,t){var n=this;return s(e,t).then(function(){n.cache.remove(t)})},create:function(e,t){var n=this;return i(e,t).then(function(t){n.cache.setCollection({subAccountId:e},t)})},update:function(e,t,n){var r=this;return this.cache.transaction(function(){return r.cache.add(u({},r.cache.get(t),n)),o(e,t,n)})}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=a.bool,o=n(87),l=n(30),u=n(884),c=n(22),d=n(19),p=n(29),f=n(439),m=n(13),h=n(52),g=n(270),v=n(587),_=r.createClass({displayName:"AdminTags",propTypes:{tags:s(n(176)),isLoading:i},getInitialState:function(){return{searchTerm:"",addSearchTerm:"",sort:"asc"}},componentDidMount:function(){this.loadSort()},render:function(){return r.createElement("div",{className:"admin-tags"},r.createElement("div",{className:"admin-tags__header"},r.createElement("h1",null,I18n.t("Tags")),this.renderSearch()),p("tag_create")&&this.renderAutocomplete(),r.createElement(f,{tags:this.props.tags,onTagClick:this.transitionToTag,isLoading:this.props.isLoading,searchTerm:this.state.searchTerm,sort:this.state.sort}))},renderSearch:function(){var e=this;return r.createElement("div",{className:"admin-tags__search"},r.createElement(h,{label:I18n.t("SEARCH"),onChange:function(t){return e.setState({searchTerm:t})},urlDriven:!1,placholderText:I18n.t("Search for tags")}),r.createElement(g,{sortOptions:[{value:"asc",label:I18n.t("Ascending")},{value:"desc",label:I18n.t("Descending")}],activeSort:this.state.sort,onChange:this.updateSort}))},renderAutocomplete:function(){var e=this;return r.createElement(v,{autoFocus:!0,autocomplete:"list",className:"admin-tags__autocomplete",triggerIconClassName:"admin-tags__add-icon",placeholder:I18n.t("Enter a name to add a tag"),triggerText:I18n.t("New Tag"),onEnter:this.createTag,onSelect:this.createTag,onInput:function(t){return e.setState({addSearchTerm:t})}},this.props.tags.filter(function(t){return e.state.addSearchTerm.length>0&&t.name.toLowerCase().indexOf(e.state.addSearchTerm.toLowerCase())!==-1}).map(this.renderAutocompleteOption))},renderAutocompleteOption:function(e){return r.createElement(v.Option,{className:"admin-tags__autocomplete__tag",key:e.name,value:e.name,children:e.name})},updateSort:function(e){l.updateQuery({sort:e}),this.setState({sort:e}),o.setItem("AdminTagSort",e,o.SCOPE_USER)},loadSort:function(){var e=o.getItem("AdminTagSort",o.SCOPE_USER),t=l.getQuery(),n=t&&t.sort,r="asc"===t.sort||"desc"===t.sort;n&&r?this.setState({sort:t.sort}):e&&this.updateSort(e)},createTag:function(e){u.create(e).then(function(e){m.transitionTo("admin.tag",e.id)}).catch(function(){d(I18n.t("Oh Snap! We were unable to create your tag. Please try again later."),{type:"error"})})},transitionToTag:function(e){var t=u.getByName(e);m.transitionTo("admin.tag",t.id)}});e.exports=c({type:_,asyncProps:{tags:{setup:function(e){u.addChangeListener(e)},teardown:function(e){u.removeChangeListener(e)},fetch:function(){return u.fetchAll()},get:function(){return u.getAll()}}}})},function(e,t){"use strict";e.exports={name:"admin.tags",path:"/admin/tags",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";var r=n(1),a=n(1376),s=n(29),i=n(2),o=i.string,l=i.func,u=r.createClass({displayName:"TagDetailsHeader",propTypes:{title:o,navigation:a.propTypes.navigation,onTitleChange:l,onTagDelete:l},getDefaultProps:function(){return{title:"",onTitleChange:Function.prototype,onTagDelete:Function.prototype}},getInitialState:function(){return{confirmingDelete:!1}},render:function(){return r.createElement(a,{className:this.getHeaderClass(),title:this.props.title,icon:"gs-tag",navigation:this.props.navigation,canEdit:s("tag_update")&&!this.isConfirmingDelete(),onTitleChange:this.props.onTitleChange,titleIsTextArea:!0,ref:"header",actions:this.showActionBar()&&this.renderActions()},this.isConfirmingDelete()&&this.renderDeleteConfirmation())},resetTitle:function(){this.refs.header.resetTitle()},renderActions:function(){return r.createElement("div",{className:"admin-tag-details-actions"},s("tag_destroy")&&r.createElement("button",{className:"admin-tag-details-actions__delete-button",onClick:this.initiateDelete,children:I18n.t("Delete Tag")}))},renderDeleteConfirmation:function(){return r.createElement("div",{className:"admin-tag-details-header__delete-confirm"},this.renderDeleteConfirmText(),this.renderDeleteOptions())},renderDeleteConfirmText:function(){return r.createElement("div",{className:"admin-tag-details-header__delete-confirm-text"},r.createElement("h3",null,I18n.t("Delete Tag?")),r.createElement("p",null,I18n.t("Deleting this tag will permanently remove it and its associated taggings below.")))},renderDeleteOptions:function(){return r.createElement("div",{className:"admin-tag-details-header__delete-options"},r.createElement("button",{className:"delete-options__button--cancel",onClick:this.cancelDelete,children:I18n.t("Cancel")}),r.createElement("button",{className:"delete-options__button--delete",onClick:this.confirmDelete,children:I18n.t("Delete")}))},initiateDelete:function(){this.setState({confirmingDelete:!0})},cancelDelete:function(){this.setState({confirmingDelete:!1})},confirmDelete:function(){this.setState({confirmingDelete:!1}),this.props.onTagDelete()},showBreadcrumb:function(){return!this.state.confirmingDelete},showActionBar:function(){return!this.state.confirmingDelete},isConfirmingDelete:function(){return this.state.confirmingDelete},getHeaderClass:function(){return"admin-tag-details-header"+(this.isConfirmingDelete()?"--delete":"")}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(2287),s=n(26),i=n(2),o=i.array,l=i.func,u=r.createClass({displayName:"TaggedItemList",propTypes:{items:o,onRemoveItem:l},getDefaultProps:function(){return{onRemoveItem:function(){}}},render:function(){return r.createElement("div",{className:"layout--list__content","data-capybara":"tagged_item_list"},r.createElement("ul",{className:"tagged-item-list unstyled"},this.renderItems()))},renderItems:function(){var e=this.props.items;return 0!==e.length?r.createElement("ul",{className:"tagged-item-list unstyled"},e.map(this.renderItem)):r.createElement("p",{className:"tagged-item-list--empty"},s.t("No tagged items exist."))},renderItem:function(e){return r.createElement(a,{item:e,key:e.id,onRemove:this.props.onRemoveItem})}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(26),i=n(5),o=i.Icon,l=n(13),u=n(24),c=n(18),d=n(300),p=n(6),f=n(29),m=n(2),h=m.func,g=r.createClass({displayName:"TaggedItemListItem",propTypes:{item:n(383),onRemove:h},getInitialState:function(){return{wantToRemove:!1,showTagsPopup:!1}},componentDidMount:function(){window.addEventListener("click",this.windowClick,!1)},componentWillUnmount:function(){window.removeEventListener("click",this.windowClick,!1)},render:function(){return r.createElement("li",{className:this.buildClassName(),"data-capybara":"tagged-item-list-item"},r.createElement("div",{className:"removable-item"},this.renderItem()))},renderItem:function(){var e=this.props.item;return r.createElement("div",{className:"tagged-item-list__item__wrap course-list__wrap"},r.createElement("div",{className:"tagged-item-list__item__title course-list-item__title--centered"},r.createElement("h2",{className:"h3 margin-none"},this.renderIcon(e),r.createElement(l,{to:"author.course",className:"indigo",params:[{courseId:e.taggableId}]},this.title()))),this.renderTags(e.data.tags),f("tag_destroy")&&(this.state.wantToRemove?this.renderConfirmDelete():this.renderDeleteButton()))},renderConfirmDelete:function(){return r.createElement("div",{className:"border-grey border-l text-right"},r.createElement("p",{className:"text-center"},r.createElement(u,null,s.t("Remove Course?"))),r.createElement("div",{className:"text-center"},r.createElement("button",{type:"button",onClick:this.cancelRemove,className:"btn--reset small bold upcase dark-grey margin-r-s"},r.createElement(u,null,s.t("Cancel"))),r.createElement("button",{type:"button",onClick:this.deleteCourse,className:"btn--reset small bold upcase pink"},r.createElement(u,null,s.t("Remove")))))},renderDeleteButton:function(){return r.createElement("button",{type:"button",onClick:this.willRemoveCourse,className:"course-list-item__remove text-right btn--reset padding-r-m"},r.createElement("span",{className:"screenreader-only"},r.createElement(u,null,s.t("Delete"))),r.createElement(o,{className:"gs-x gs-1x dark-grey"}))},renderIcon:function(e){var t="CourseTemplate"===e.taggableType?"gs-book":"gs-books";return r.createElement("span",{className:"tagged-item-list__icon"},r.createElement(o,{"aria-hidden":"true",className:t}))},renderTags:function(e){return r.createElement("div",{className:"tagged-item-list__tag-button btn--a11y blue",ref:"tags"},r.createElement(c,{className:"btn--reset",onClick:this.showTagsPopup},s.t({one:"%{count} tag",other:"%{count} tags"},{count:e.length})),this.renderPopup(e))},renderPopup:function(e){return this.state.showTagsPopup?r.createElement("div",{className:"tagged-item-list__popup"},r.createElement("p",{className:"tagged-item-list__popup-header"},r.createElement(c,{onClick:this.closeTagsPopup,className:"tagged-item-list__popup-close-btn btn--a11y"},r.createElement(o,{className:"gs-x"}))),r.createElement(d,{tags:e})):null},title:function(){var e=this.props.item;return e.data.title||s.t("Untitled Course")},buildClassName:function(){return p({"course-list-item":!0,"course-list-item--want-to-remove":this.state.wantToRemove,
"tagged-item-list__item":!0})},willRemoveCourse:function(){this.setState({wantToRemove:!0})},cancelRemove:function(){this.setState({wantToRemove:!1})},deleteCourse:function(){this.props.onRemove(this.props.item)},windowClick:function(e){var t=this.refs.tags;null===t||a.findDOMNode(t).contains(e.target)||this.closeTagsPopup()},showTagsPopup:function(){this.setState({showTagsPopup:!0})},closeTagsPopup:function(){this.setState({showTagsPopup:!1})}});e.exports=g},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.arrayOf,i=a.shape,o=a.string,l=a.bool,u=n(26),c=n(4),d=c.debounce,p=n(19),f=n(29),m=n(22),h=n(53),g=n(30),v=n(884),_=n(3305),y=n(3304),b=n(2286),E=n(2285),C=n(5),I=C.Icon,T=n(52),N=n(587),S=n(13),x=r.createClass({displayName:"AdminTagDetails",propTypes:{tag:n(176),items:s(n(383)),taggableSearchResults:s(n(860)),isLoading:l,query:i({search:o})},mixins:[h(function(e){_.fetchNext(e.tag.id,{query:e.query})})],render:function(){return this.props.isLoading||!this.props.tag?r.createElement("div",{className:"loader-container"},r.createElement("div",{className:"loader-large loader-7 margin-b-xl"})):r.createElement("div",{className:"admin-tag-details"},this.renderHeader(),this.renderSearchAndFilterRow(),f("tag_add")&&this.renderAddItemRow(),r.createElement(b,{items:this.props.items,onRemoveItem:this.removeTagFromItem}))},renderHeader:function(){return r.createElement(E,{title:this.getTitleText(),navigation:this.getNavigation(),onTitleChange:this.onTagNameChange,onTagDelete:this.deleteTag,ref:"header"})},renderSearchAndFilterRow:function(){return r.createElement("div",{className:"admin-tag-details__search__wrapper"},r.createElement("div",{className:"admin-tag-details__search"},r.createElement(T,{searchTerm:this.props.query.search,placeholderText:u.t("Search for tagged items")})))},renderAddItemRow:function(){return r.createElement(N,{autoFocus:!0,autocomplete:"list",className:"admin-tag-details__add-item",triggerIconClassName:"admin-tags__add-icon",placeholder:u.t("Enter a title to find courses"),triggerText:u.t("Add"),onInput:d(this.searchTaggables,300),onBlur:this.resetTaggables,onEnter:this.addItem,onSelect:this.addItem,children:this.props.taggableSearchResults.map(this.renderTaggableSearchResult)})},renderTaggableSearchResult:function(e){return r.createElement(N.Option,{key:"taggable-result-"+e.type+"_"+e.id,value:e.type+"_"+e.id,children:this.renderTaggableItem(e)})},renderTaggableItem:function(e){var t="CourseTemplate"===e.type?"gs-book":"gs-quiz-question";return r.createElement("div",{className:"admin-tag-details__add-item__search-result"},r.createElement("span",{className:"tagged-item-list__icon"},r.createElement(I,{"aria-hidden":"true",className:t})),r.createElement("span",{className:"admin-tag-details__add-item__search-result__title"},e.title))},removeTagFromItem:function(e){_.destroy(e)},searchTaggables:function(e){y.fetchAll(this.props.tag.id,{search:e})},resetTaggables:function(){y.reset(this.props.tag.id)},addItem:function(e){var t=e.split("_"),n=this.props.tag;_.create(n.id,t[0],t[1]),this.resetTaggables()},getTitleText:function(){return this.props.tag.name||""},getNavigation:function(){return{name:u.t("Back to Tags"),link:"admin.tags"}},onTagNameChange:function(e){var t=this,n=this.props.tag;n.name!==e&&v.update(n.id,{name:e}).then(function(e){e.id!==n.id&&S.transitionTo("admin.tag",e.id)},function(n){t.refs.header.resetTitle(),409===n.status?p(u.t('A tag with the name "%{name}" already exists.',{name:e}),{type:"error"}):p(u.t("An error occurred while updating the tag. Please try again."),{type:"error"})})},deleteTag:function(){v.delete(this.props.tag.id).then(function(){S.transitionTo("admin.tags")}).catch(function(){p(u.t("Oh Snap! We were unable to delete your tag. Please try again later."),{type:"error"})})}});e.exports=m({type:x,blocking:!1,asyncProps:{tag:{fetch:function(e){return v.fetch(e.params.tagId).catch(function(){p(u.t("Tag does not exist"),{type:"error"}),g.transitionTo("admin.tags")})},shouldRefetch:function(e,t){return e.params.tagId!==t.params.tagId},get:function(e){return v.get(e.params.tagId)},setup:function(e){v.addChangeListener(e)},teardown:function(e){v.removeChangeListener(e)}},items:{fetch:function(e){return _.fetchAll(e.params.tagId,e.query)},get:function(e){return _.getAll(e.params.tagId,e.query)},setup:function(e){_.addChangeListener(e)},teardown:function(e){_.removeChangeListener(e)},shouldRefetch:function(e,t){return e.query.search!==t.query.search}},taggableSearchResults:{get:function(e){return y.getAll(e.params.tagId)},setup:function(e){y.addChangeListener(e)},teardown:function(e){y.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"admin.tag",path:"/admin/tags/:tagId",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(304),s=r(a);t.default={path:"/",handler:["bridge-router",{enter:function(){s.default.remove()}}]},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(1464),u=r(l),c=n(246),d=r(c),p=n(179),f=r(p),m=n(225),h=r(m),g=n(1284),v=r(g),_=n(13),y=r(_),b=n(1283),E=r(b),C=n(578),I=r(C),T=s.default.createClass({displayName:"Approval::Finished::index",propTypes:{approvalSummary:d.default.isRequired,nextUp:d.default},render:function(){return s.default.createElement("div",{className:"approvals-finished"},s.default.createElement("div",{className:"pure-g-r"},s.default.createElement("div",{className:"pure-u-4-24"}),s.default.createElement("div",{className:"pure-u-16-24 margin-t-xxl"},s.default.createElement("div",{className:"centered constrain-width"},s.default.createElement("h1",{ref:f.default,className:"text-center outline-none"},this.getTitle()),s.default.createElement("h2",{className:"label learner-course-finished__completed-text"},I18n.t("You gave feedback")),s.default.createElement("div",{className:"approvals-finished__summary"},s.default.createElement("h2",{className:"screenreader-only"},I18n.t("Finished Approval Summary")),this.renderCurrentSummary()),this.props.nextUp&&this.renderNextUp(),s.default.createElement("div",{className:"text-center margin-t-xxl"},s.default.createElement("div",{className:"margin-b-l"},s.default.createElement(y.default,{className:"brand-bg brand-border constrained btn--themed filled",to:"approver.approvals"},I18n.t("Back to my approvals")))))),s.default.createElement("div",{className:"pure-u-4-24"})))},renderCurrentSummary:function(){var e=this.props.approvalSummary;return this.renderApprovalSummary(e)},renderNextUp:function(){var e=this.props.nextUp,t=e.learnableId,n=e.learnableType,r=s.default.createElement(y.default,{className:"btn--themed brand-border brand-color",to:"approver.approvals.next",queryParams:{learnableId:t,learnableType:n}},I18n.t("Review Checkpoint"));return s.default.createElement("div",{className:"approvals-finished__summary approvals-finished__summary--next-up"},s.default.createElement("h3",{className:"text-center x-medium margin-t-xxl approvals-finished__keep-going"},I18n.t("Feeling ambitious? Keep going!")),s.default.createElement("h2",{className:"screenreader-only"},I18n.t("Next Approval Summary")),this.renderApprovalSummary(e,{actions:r}))},renderApprovalSummary:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.learnableType,r=t.actions,a=(0,v.default)(e),i=s.default.createElement("div",{className:"learnable-list-item__content-description",ref:(0,h.default)(2,"INDIGO")},e.description);return s.default.createElement(I.default,{title:e.title,statusIndicator:s.default.createElement(E.default,{learnableType:n,status:a}),status:a,body:i,actions:r,approvalSummary:e})},getTitle:function(){var e=this.props.approvalSummary,t=e.urgentCount>0||e.pendingCount>0;return t?I18n.t("Thanks!"):I18n.t("You're all caught up!")}});t.default=(0,o.default)({type:T,blocking:!0,asyncProps:{approvalSummary:{fetch:function(e){var t=e.params;return u.default.fetch(t.learnableType,t.learnableId)},get:function(e){var t=e.params,n=t.learnableId+":"+t.learnableType;return u.default.get(n)},setup:function(e){u.default.addChangeListener(e)},teardown:function(e){u.default.removeChangeListener(e)}},nextUp:{get:function(e){var t=e.params,n=t.learnableId+":"+t.learnableType;return u.default.getNextUp(n)}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"approver.approvals.finished",path:"/approver/approvals/:learnableType/:learnableId/finished"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(19),u=r(l),c=n(22),d=r(c),p=n(106),f=r(p),m=n(1464),h=r(m),g=n(246),v=r(g),_=n(13),y=r(_),b=n(2299),E=r(b),C=n(52),I=r(C),T=n(237),N=n(302),S=r(N),x=n(296),A=r(x),k=n(62),w=r(k),R=n(20),O=r(R),P=n(4),L=n(12),M=o.default.createClass({displayName:"ApproverApprovals",propTypes:{approvalSummaries:s.default.arrayOf(v.default.isRequired).isRequired,isLoading:s.default.bool,query:s.default.shape({search:s.default.string})},getInitialState:function(){return{trayIsOpen:!1,activeItem:null}},render:function(){return o.default.createElement(T.TrayLayout,{isOpen:this.state.trayIsOpen},o.default.createElement(T.ContentOutlet,null,this.renderMainContent()),o.default.createElement(T.TrayOutlet,{onCloseClick:this.closeTray},o.default.createElement(S.default,{activeItem:this.state.activeItem})))},renderMainContent:function(){var e=o.default.createElement("h1",{className:"layout--list__header-text"},I18n.t("My Learning")),t=o.default.createElement(A.default,{header:e});return(0,O.default)("learn_learning_header_branding")&&(t=o.default.createElement(A.default,null)),o.default.createElement("div",{className:"approver-approvals"},t,o.default.createElement("div",{className:"library-actions"},o.default.createElement("div",{className:"pure-g-r large-content-area centered"},o.default.createElement("div",{className:"pure-u-1-2"},o.default.createElement(I.default,{searchTerm:this.props.query&&this.props.query.search,placeholderText:I18n.t("Search for approvals")})))),this.props.isLoading?this.renderLoading():this.renderApprovalSummaryList())},renderLoading:function(){return o.default.createElement("div",{className:"loader-container"},o.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"}))},renderApprovalSummaryList:function(){var e=this.props.query&&this.props.query.search;return o.default.createElement(E.default,{approvalSummaries:this.props.approvalSummaries,searchTerm:e,onAttachmentIconClick:this.toggleAttachmentsTray,activeItemId:(0,P.get)(this.state,"activeItem.id")})},openTray:function(e){this.setState({trayIsOpen:!0,activeItem:{id:e.id,contextId:e.learnableId,title:e.title,type:L.LEARNING_ITEM_TASK_TYPE}})},closeTray:function(){this.setState(this.getInitialState())},toggleAttachmentsTray:function(e){this.state.trayIsOpen&&e.id===(0,P.get)(this.state,"activeItem.id")?this.closeTray():this.openTray(e)}}),D=function(){if((0,O.default)("learn_my_learning_tabbed_nav")){if((0,O.default)("learn_learning_header_branding")){var e=w.default.getHeaderCustomText();return null!==e?e:I18n.t("Learning")}return I18n.t("My Learning")}return I18n.t("My Approvals")};t.default=(0,d.default)({type:(0,f.default)(M,D),asyncProps:{approvalSummaries:{fetch:function(e){return h.default.fetchAll(e.query).then(null,function(){(0,u.default)(I18n.t("Failed to load your approvals, please try again."),{type:"error"}),y.default.transitionTo("learner.courses")})},get:function(e){return h.default.getAll(e.query)},setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)},shouldRefetch:function(e,t){return e.query!==t.query}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"approver.approvals",path:"/approver/approvals",ember:{parentPath:["approver"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=n(1406),d=r(c),p=n(19),f=o.default.createClass({displayName:"Approval::Next::index",propTypes:{query:s.default.shape({learnableId:s.default.string.isRequired,learnableType:s.default.string.isRequired,currentApprovalId:s.default.string,approvalState:s.default.string}).isRequired},componentDidMount:function(){var e=this;(0,d.default)(this.props.query).then(function(t){if(t){var n=e.props.query.learnableType.toLowerCase();u.default.replaceWith("approver."+n+".approval",t.id)}else u.default.transitionTo("approver.approvals").then(function(){(0,p.toast)(I18n.t("There is no next approval"))})},function(){console.error("error fetching next approval"),u.default.transitionTo("approver.approvals").then(function(){(0,p.toastOfError)(I18n.t("Sorry. Something went wrong."))})})},render:function(){return null}});t.default=f,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"approver.approvals.next",path:"/approver/approvals/next"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=n(1407),d=r(c),p=n(19),f=o.default.createClass({displayName:"Approval::Previous::index",propTypes:{query:s.default.shape({learnableId:s.default.string.isRequired,learnableType:s.default.string.isRequired,currentApprovalId:s.default.string,approvalState:s.default.string}).isRequired},componentDidMount:function(){var e=this;(0,d.default)(this.props.query).then(function(t){if(t){var n=e.props.query.learnableType.toLowerCase();u.default.replaceWith("approver."+n+".approval",t.id)}else u.default.transitionTo("approver.approvals").then(function(){(0,p.toast)(I18n.t("There is no previous approval"))})},function(){console.error("error fetching previous approval"),u.default.transitionTo("approver.approvals").then(function(){(0,p.toastOfError)(I18n.t("Sorry. Something went wrong."))})})},render:function(){return null}});t.default=f,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"approver.approvals.previous",path:"/approver/approvals/previous"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(246),u=r(l),c=n(1386),d=r(c),p=n(2300),f=r(p),m=function(e){return e.urgentCount>0||e.pendingCount>0},h=function(e){return!m(e)};t.default=o.default.createClass({displayName:"ApprovalSummaryList",propTypes:{approvalSummaries:s.default.arrayOf(u.default.isRequired).isRequired,searchTerm:s.default.string,onAttachmentIconClick:s.default.func,activeItemId:s.default.string},render:function(){return o.default.createElement("div",{className:"approval-summary-list"},!this.props.approvalSummaries.length&&this.renderNoResults(),this.renderNextItems(this.props.approvalSummaries.filter(m)),this.renderCompletedItems(this.props.approvalSummaries.filter(h)))},renderItem:function(e){var t=this.props,n=t.searchTerm,r=t.onAttachmentIconClick,a=t.activeItemId;return o.default.createElement("li",{key:e.id},o.default.createElement(f.default,{approvalSummary:e,searchTerm:n,onAttachmentIconClick:r,activeItemId:a}))},renderListItems:function(e){return e.map(this.renderItem)},renderNextItems:function(e){return o.default.createElement(d.default,{header:I18n.t("Needs My Attention"),headerClassName:"brand-color brand-color--before",slug:"next"},this.renderListItems(e))},renderCompletedItems:function(e){return e.length?o.default.createElement(d.default,{header:I18n.t("All Caught Up"),slug:"completed"},this.renderListItems(e)):null},renderNoResults:function(){return o.default.createElement("section",{className:"learning-item-group learning-item-group--empty","data-capybara":"course-list_group_empty"},o.default.createElement("p",{className:"black dark-grey text-center padding-tb-s"},this.props.searchTerm?I18n.t("No results found."):I18n.t("You have nothing to approve yet.")))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(246),u=r(l),c=n(1283),d=r(c),p=n(578),f=r(p),m=n(61),h=r(m),g=n(13),v=r(g),_=n(225),y=r(_),b=n(1284),E=r(b),C=n(195);t.default=o.default.createClass({displayName:"ApprovalSummaryListItem",propTypes:{approvalSummary:u.default.isRequired,searchTerm:s.default.string,onAttachmentIconClick:s.default.func,activeItemId:s.default.string},render:function(){var e=this.props,t=e.approvalSummary,n=e.activeItemId,r=e.onAttachmentIconClick;return o.default.createElement(f.default,{title:this.renderTitle(),statusIndicator:this.renderStatusIndicator(),status:(0,E.default)(t),body:t.description&&this.renderDescription(),onAttachmentIconClick:r,activeItemId:n,approvalSummary:t,showAttachments:!0})},renderTitle:function(){var e=this.props,t=e.searchTerm,n=e.approvalSummary,r=n.learnableId,a=n.learnableType;return o.default.createElement(v.default,{to:"approver.approvals.next",queryParams:{learnableId:r,learnableType:a}},o.default.createElement(h.default,{highlight:t,text:(0,C.getDisplayTitle)(n)}))},renderDescription:function(){return o.default.createElement("div",{className:"learnable-list-item__content-description",ref:(0,y.default)(2,"WHITE")},o.default.createElement(h.default,{highlight:this.props.searchTerm,text:this.props.approvalSummary.description}))},renderStatusIndicator:function(){var e=this.props.approvalSummary;return o.default.createElement(d.default,{learnableType:e.learnableType,status:(0,E.default)(e)})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(28),u=r(l),c=n(13),d=r(c),p=n(762),f=r(p),m=n(246),h=r(m),g=n(20),v=r(g),_=n(12);t.default=o.default.createClass({displayName:"ApprovalSummaryMetadata",propTypes:{approvalSummary:h.default.isRequired,showLink:s.default.bool,showAttachments:s.default.bool},getDefaultProps:function(){return{showLink:!1,showAttachments:!1}},render:function(){return o.default.createElement("ul",null,this.renderCounts())},renderCounts:function(){var e=this.props.approvalSummary,t=e.approvedCount,n=e.retryCount,r=e.pendingCount,a=e.urgentCount,s=void 0===a?0:a,i=s+r+n+t;return[(0,v.default)("learn_checkpoint_approver_due_dates")?this.renderCount(s,I18n.t("Urgent"),_.APPROVAL_STATE_URGENT):null,this.renderCount(r,I18n.t("Pending Approval"),_.APPROVAL_STATE_REQUESTED),this.renderCount(n,I18n.t("Retry"),_.APPROVAL_STATE_REJECTED),this.renderCount(t,I18n.t("Approved"),_.APPROVAL_STATE_APPROVED),this.renderCount(i,I18n.t("Total")),this.canShowAttachments()?this.renderAttachments():null]},renderCount:function(e,t,n){var r=this.props.showLink,a=o.default.createElement("span",null,o.default.createElement("strong",null,e)," ",t);return r&&e>0&&(a=o.default.createElement(d.default,this.getApprovalLinkProps(n),a)),o.default.createElement("li",{key:n||"total"},a)},renderAttachments:function(){var e=this.props.approvalSummary,t=e.learnableType,n=e.learnableId,r=e.attachmentsCount,a={learnableType:t,learnableId:n,data:{attachmentsCount:r}};return o.default.createElement("li",{key:"attachments"},o.default.createElement(f.default,{item:a}))},canShowAttachments:function(){var e=this.props,t=e.showAttachments,n=e.approvalSummary.attachmentsCount;return t&&n>0},getApprovalLinkProps:function(e){var t=this.props.approvalSummary,n=t.learnableId,r=t.learnableType,a=e===_.APPROVAL_STATE_URGENT;return{to:"approver.approvals.next",queryParams:{learnableId:n,learnableType:r,approvalState:e},className:(0,u.default)("learnable-list-item__link",{"learnable-list-item__link--alert":a,"learnable-list-item__link--secondary":!a})}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.learnable.id;return{id:t,type:"tasks"}}function s(e){return{id:e.learnable.id,learnerId:e.learner.id}}function i(e,t){console.error("Unable to retrieve Approval: ",e),console.info("Aborting transition."),t&&t.transition.abort(e),(0,z.default)(I18n.t("Failed to load approval request, please try again.")),R.default.replaceWith?R.default.replaceWith(q.default.getPostAuthRoute()).then(function(e){return e}):window.location.hash="/learner/courses"}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.default.transitionTo("approver.approvals").then(function(){return(0,z.default)(e,t)})}function l(e,t){return(0,v.debounce)(function(){var n=this,r=this.props.approval;return this.setState({isMoving:!0}),t({learnableType:"Task",learnableId:r.learnable.id,currentApprovalId:r.id}).then(function(t){t?R.default.transitionTo("approver.task.approval",t.id):o(e===ne?I18n.t("There is no previous approval"):I18n.t("There is no next approval")),n.setState({isMoving:!1})}).catch(function(t){o(I18n.t("Sorry. Something went wrong"),{type:"error"}),console.error("error fetching "+e+" approval",t),n.setState({isMoving:!1})})},300)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=r(u),d=n(2),p=r(d),f=n(1),m=r(f),h=n(23),g=r(h),v=n(4),_=n(112),y=r(_),b=n(33),E=r(b),C=n(311),I=r(C),T=n(1444),N=r(T),S=n(22),x=r(S),A=n(2977),k=r(A),w=n(13),R=r(w),O=n(619),P=r(O),L=n(144),M=r(L),D=n(1443),U=r(D),F=n(34),q=r(F),B=n(318),j=r(B),H=n(1407),G=r(H),W=n(1406),V=r(W),Y=n(19),z=r(Y),K=n(891),Q=r(K),$=n(195),X=n(106),J=r(X),Z=n(221),ee=r(Z),te="next",ne="previous",re=["approval","approvalsCount","nextPendingApprovalId","approvalEvents","attachments","evidences"],ae=m.default.createClass({displayName:"ApproverTask",propTypes:{params:p.default.shape({approvalId:p.default.string.isRequired}).isRequired,query:p.default.shape({fromAuthoring:p.default.number}),approval:y.default,approvalsCount:p.default.number,nextPendingApprovalId:p.default.string,approvalEvents:p.default.arrayOf(M.default.isRequired),onDataChange:p.default.func,attachments:p.default.arrayOf(E.default).isRequired,evidences:I.default.isRequired,isLoading:p.default.bool},getInitialState:function(){return{showInstructions:!0,isMoving:!1,prevAsyncProps:null}},componentWillReceiveProps:function(e){var t=!this.props.isLoading&&e.isLoading,n=this.props.isLoading&&!e.isLoading;t?this.setState({prevAsyncProps:(0,v.pick)(this.props,re)}):n&&this.setState({prevAsyncProps:null})},render:function(){var e=this.getProps(),t=e.onDataChange,n=e.query,r=e.isLoading,a=e.approval,s=e.approvalsCount,i=e.nextPendingApprovalId,o=e.approvalEvents,l=e.attachments,u=e.evidences,d=this.state,p=d.isMoving,f=d.showInstructions;return a?m.default.createElement(P.default,{ref:this.setTaskWrapperRef,task:(0,c.default)({},a.learnable,{requiresApproval:!0}),isOverdue:(0,$.isOverdue)(a.learnable),isComplete:(0,$.isComplete)(a.learnable),showInstructions:f,showInstructionsToggle:!0,carouselLearner:a.learner,approval:a,approvalId:a.id,approvalsCount:s,isApprover:!0,h1:this.renderH1(),approvalLearner:a.learner,renderBackToAuthoring:!!n.fromAuthoring,attachments:l,evidences:u,onPreviousApproval:this.navigateBack,onNextApproval:this.navigateForward,disableCarousel:r||p},m.default.createElement(k.default,{learnableType:"Task",learnable:a.learnable,learner:a.learner,approval:a,approvalEvents:o,afterGivingFeedback:this.maybeRevealLastEvent,nextPendingApprovalId:i,onRefetchData:t,disableSkipAhead:r||p})):null},renderH1:function(){var e=this;return m.default.createElement("h1",{ref:function(t){e.h1=t},className:"screenreader-only"},I18n.t("Checkpoint"))},setTaskWrapperRef:function(e){this.taskWrapper=e},maybeRevealLastEvent:function(e){if(e){var t=g.default.findDOMNode(this.taskWrapper),n=t.querySelector(".approval-event:last-child");(0,Q.default)(n,document.body,{animate:!0,offset:200})}},getProps:function(){var e=this.props.isLoading,t=this.props,n=(0,v.pick)(e&&this.state.prevAsyncProps||this.props,re);return Object.assign({},t,n)},navigateBack:l(ne,G.default),navigateForward:l(te,V.default)});t.default=(0,x.default)({type:(0,J.default)(ae,function(e){return!e.isLoading&&(0,$.getDisplayTitle)(e.approval.learnable)}),blocking:!1,asyncProps:{approval:{setup:function(e){N.default.addChangeListener(e),ee.default.addChangeListener(e)},fetch:function(e){function t(e){return N.default.fetch(e,{include_learner:!0,include_learnable:!0,include_approvals_count:!0,include_next_pending_approval:!0})}function n(e){var t=a(e);return ee.default.fetchAllByContext(t,"Learner").then(function(){return e})}function r(e){if((0,v.get)(e,"learnable.requiresEvidence")){var t=s(e);return j.default.fetchAll(t).then(function(t){return{approval:e,evidences:t}})}return e}return t(e.params.approvalId).then(n).then(r).catch(i)},shouldRefetch:function(e,t){return e.params.approvalId!==t.params.approvalId},get:function(e){return N.default.get(e.params.approvalId)},teardown:function(e){N.default.removeChangeListener(e),ee.default.removeChangeListener(e)}},approvalsCount:{get:function(e){return N.default.getApprovalsCount(e.params.approvalId)}},nextPendingApprovalId:{get:function(e){return N.default.getNextPendingApprovalId(e.params.approvalId)}},approvalEvents:{setup:function(e){U.default.addChangeListener(e)},fetch:function(e){return U.default.fetchAll(e.params.approvalId).catch(i)},shouldRefetch:function(e,t){return e.params.approvalId!==t.params.approvalId},get:function(e){return U.default.getAll(e.params.approvalId)},teardown:function(e){U.default.removeChangeListener(e)}},attachments:{get:function(e){var t=N.default.get(e.params.approvalId);if(!t)return[];var n=a(t);return ee.default.getByContext(n).all}},evidences:{get:function(e){var t=N.default.get(e.params.approvalId);if(!t)return{submitted:[],pending:[]};var n=s(t);return j.default.getAll(n)},setup:function(e){j.default.addChangeListener(e)},teardown:function(e){j.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"approver.task.approval",path:"/approver/checkpoint/approvals/:approvalId",ember:{sink:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=g.default.getAfterAuthTransition();m.default.replaceWith(e).then(function(t){b(e,t)||(c.default.captureException(E(e,t),{tags:{where:"AuthCallbackAdminRoute"},extra:{lastTransition:_.default.getItem("lastTransition")}}),m.default.replaceWith(g.default.getPostAuthRoute()))}).catch(function(e){c.default.captureException(e,{tags:{where:"AuthCallback"},extra:{lastTransition:_.default.getItem("lastTransition")}}),m.default.replaceWith(g.default.getPostAuthRoute())})}var s=n(38),i=r(s),o=n(2),l=r(o),u=n(229),c=r(u),d=n(1),p=r(d),f=n(13),m=r(f),h=n(34),g=r(h),v=n(87),_=r(v),y=n(231),b=function(e,t){var n=y.HybridLinkTools.interpolatePathname({pathname:e[0],params:e.slice(1).map(function(e){return(0,i.default)({},e,e)})});return t.location.pathname===(0,y.discardIndexIdentifier)(n)},E=function(e,t){return{origin:e[0],current:t.location.pathname}},C=p.default.createClass({displayName:"AuthCallback",propTypes:{location:l.default.shape({pathname:l.default.string.isRequired}).isRequired},componentDidMount:function(){a()},render:function(){return null}});e.exports=C,e.exports.usherUserToDestination=a,e.exports.dumpTransitionContext=E,e.exports.areDestinationsEqual=b},function(e,t){"use strict";e.exports={name:"auth_callback",path:"/auth/:provider/callback"}},function(e,t,n){"use strict";var r=n(1),a=n(34),s=n(13),i=n(31),o=r.createClass({displayName:"AuthVisit",componentWillMount:function(){var e=i.get("TOKEN");if(e&&e.links){var t=e.token,n=e.links.user;a.storeIdentity(t,n),s.replaceWith(a.getAfterAuthTransition())}},render:function(){return null}});e.exports=o},function(e,t){"use strict";e.exports={name:"react.auth_visit",path:"/auth/visit"}},function(e,t,n){"use strict";var r=n(272);e.exports=r({contextType:"course",contextRoute:"author.course.learners"})},function(e,t){"use strict";e.exports={name:"author.course.learners.import.confirm",path:"/author/courses/:contextId/learners/import/confirm"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(273),s=r(a),i=n(829),o=r(i),l=n(314);e.exports=(0,s.default)({contextType:"course",confirmRoute:"author.course.learners.import.confirm",uploadRoute:"author.course.learners.upload",cancelRoute:"author.course.learners",contextual:!0,fetchContext:function(e){return(0,o.default)(e.params.contextId)},generateTitle:function(e){return e?I18n.t("Add Learners"):I18n.t("Remove Learners")},generateContextTitle:function(e){return(0,l.getDisplayTitle)(e)}})},function(e,t){"use strict";e.exports={name:"author.course.learners.import",path:"/author/courses/:contextId/learners/import"}},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(13),i=n(621),o=n(1296),l=n(745),u={title:"renderTitleChange",description:"renderDescriptionChange",passingThreshold:"renderPassingThresholdChange",defaultDaysUntilDue:"renderDefaultDaysUntilDueChange",isPublished:"renderPublish"},c=r.createClass({displayName:"CourseTemplateChange",propTypes:{change:n(418)},getRendererFor:function(e){return this[u[e]]},render:function(){var e=this.props.change;return"create"===e.event?this.renderCreate(e):this.renderUpdate(e)},renderCreate:function(e){return r.createElement("div",{className:"padding-l-xl"},r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{this_render_user_change_whodunnit} created a new course:",{this_render_user_change_whodunnit:"%{this_render_user_change_whodunnit}"}),this_render_user_change_whodunnit:this.renderUser(e.whodunnit)},"$1")),this.renderCourse(e.to))},renderUpdate:function(e){var t=l.constructChangeDiff(e);return t.length?this.renderChanges(e,t):null},renderChanges:function(e,t){var n=this,s=t.map(function(t){var a=n.getRendererFor(t);return a?r.createElement("li",{key:e.id+"-"+t},a(e.from[t],e.to[t])):(console.warn("A change was made to the "+t+" property but there is no method to handle it!"),null)});return s.length?r.createElement("div",null,r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{this_render_user_change_whodunnit} made the following changes:",{this_render_user_change_whodunnit:"%{this_render_user_change_whodunnit}"}),this_render_user_change_whodunnit:this.renderUser(e.whodunnit)},"$1")),r.createElement("ul",{className:"margin-l-xl"},s)):null},renderTitleChange:function(e,t){return(!!e&&e.length)>0?r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t('The course title was changed from: * **"%{from}"** to: ***"%{to}"*** *',{from:"%{from}",to:"%{to}"}),wrappers:{"*":r.createElement("div",{className:"padding-l-m"},"$1"),"**":r.createElement("div",null,"$1"),"***":r.createElement("div",null,"$1")},from:e,to:t},"$1")):r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t('The course was titled: * **"%{to}"** *',{to:"%{to}"}),wrappers:{"*":r.createElement("div",{className:"padding-l-m"},"$1"),"**":r.createElement("div",null,"$1")},to:t},"$1"))},renderDescriptionChange:function(e,t){return(!!e&&e.length)>0?r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t('The course description was changed from: * **"%{from}"** to: ***"%{to}"*** *',{from:"%{from}",to:"%{to}"}),wrappers:{"*":r.createElement("div",{className:"padding-l-m"},"$1"),"**":r.createElement("div",null,"$1"),"***":r.createElement("div",null,"$1")},from:e,to:t},"$1")):r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t('A description was added: * **"%{to}"** *',{to:"%{to}"}),wrappers:{"*":r.createElement("div",{className:"padding-l-m"},"$1"),"**":r.createElement("div",null,"$1")
},to:t},"$1"))},renderPassingThresholdChange:function(e,t){return e<t?r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The passing threshold was raised from %{from}% to %{to}%",{from:"%{from}",to:"%{to}"}),from:e,to:t},"$1")):r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The passing threshold was lowered from %{from}% to %{to}%",{from:"%{from}",to:"%{to}"}),from:e,to:t},"$1"))},renderDefaultDaysUntilDueChange:function(e,t){return e<t?r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The default due date was raised from %{from} to %{to} days after enrollment.",{from:"%{from}",to:"%{to}"}),from:e,to:t},"$1")):r.createElement(a,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("The default due date was lowered from %{from} to %{to} days after enrollment.",{from:"%{from}",to:"%{to}"}),from:e,to:t},"$1"))},renderPublish:function(e){return e?(console.warn("The isPublished property was changed from true to false. Unpublishing courses unsupported"),null):r.createElement(a,null,I18n.t("The course was published."))},renderUser:function(e){return r.createElement(s,{to:"author.learner",params:[{id:e.id}]},r.createElement(i,{user:e,className:"inline"}))},renderCourse:function(e){return r.createElement(o,{course:e,removable:!1})}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(745),i=n(24),o=n(13),l=n(621),u=n(65),c=n(663).Components.SlidePreview,d={body:"renderSlideChange",title:"renderSlideChange",allowComments:"renderAllowCommentsChange",position:"renderPositionChange"},p=r.createClass({displayName:"SlideChange",propTypes:{change:n(418)},getRendererFor:function(e){return this[d[e]]},render:function(){var e=this.props.change;return"create"===e.event?this.renderCreate(e):this.renderUpdate(e)},renderCreate:function(e){return r.createElement("div",null,r.createElement(i,null,r.createElement(a.ComponentInterpolator,{string:a.t("%{this_render_user_change_whodunnit} added a slide at position %{change_to_position} (with ID %{change_to_id}):",{this_render_user_change_whodunnit:"%{this_render_user_change_whodunnit}",change_to_position:"%{change_to_position}",change_to_id:"%{change_to_id}"}),this_render_user_change_whodunnit:this.renderUser(e.whodunnit),change_to_position:e.to.position,change_to_id:e.to.id},"$1")),r.createElement("div",{className:"margin-l-xl"},r.createElement("div",{className:"padding-l-xl"},r.createElement("ul",{className:"unstyled"},this.renderSlide(e.to))),e.to.allowComments&&r.createElement(i,null,a.t("and enabled comments on it."))))},renderUpdate:function(e){var t=this,n=s.constructChangeDiff(e);if(n.indexOf("active")>-1&&!e.to.active)return r.createElement("div",null,r.createElement(i,null,r.createElement(a.ComponentInterpolator,{string:a.t("%{this_render_user_change_whodunnit} deleted the slide at position %{change_from_position} (with ID %{change_from_id})",{this_render_user_change_whodunnit:"%{this_render_user_change_whodunnit}",change_from_position:"%{change_from_position}",change_from_id:"%{change_from_id}"}),this_render_user_change_whodunnit:this.renderUser(e.whodunnit),change_from_position:e.from.position,change_from_id:e.from.id},"$1")));var o=n.map(function(n){var a=t.getRendererFor(n);return a?r.createElement("li",{key:e.id+"-"+n},a(e)):(console.warn("A change was made to the "+n+" property but there is no method to handle it!"),null)});return o.length?r.createElement("div",null,r.createElement(i,null,r.createElement(a.ComponentInterpolator,{string:a.t("%{this_render_user_change_whodunnit} modified the slide at position %{change_from_position} (with ID %{change_to_id}):",{this_render_user_change_whodunnit:"%{this_render_user_change_whodunnit}",change_from_position:"%{change_from_position}",change_to_id:"%{change_to_id}"}),this_render_user_change_whodunnit:this.renderUser(e.whodunnit),change_from_position:e.from.position,change_to_id:e.to.id},"$1")),r.createElement("ul",{className:"margin-l-xl"},o)):null},renderSlideChange:function(e){return r.createElement("div",{className:"padding-l-xl"},r.createElement("ul",{className:"unstyled"},this.renderSlide(e.from),this.renderSlide(e.to)))},renderAllowCommentsChange:function(e){return e.from.allowComments?r.createElement(i,null,a.t("Comments on the slide were disabled.")):r.createElement(i,null,a.t("Comments on the slide were enabled."))},renderPositionChange:function(e){return r.createElement(i,null,r.createElement(a.ComponentInterpolator,{string:a.t("The slide was moved from position %{change_from_position} to %{change_to_position}",{change_from_position:"%{change_from_position}",change_to_position:"%{change_to_position}"}),change_from_position:e.from.position,change_to_position:e.to.position},"$1"))},renderSlide:function(e){return r.createElement(c,{ref:"slidePreview--"+e.id,slide:e,isActive:!1})},renderUser:function(e){return e&&e.id?r.createElement(o,{to:"author.learner",params:[{id:e.id}]},r.createElement(l,{user:e,className:"inline"})):r.createElement("div",{className:"inline"},r.createElement(u,{id:"bridge",name:a.t("Bridge"),avatarUrl:"/images/logo-large.png",className:"left margin-r-s"}),r.createElement("span",{className:"avatar__label"},r.createElement(i,null,a.t("Bridge"))))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2),o=n(11),l=r(o),u=n(745),c=r(u),d=n(2317),p=r(d),f=n(22),m=r(f),h=n(2313),g=r(h),v=n(2312),_=r(v),y=n(106),b=r(y),E=s.default.createClass({displayName:"ChangeLog",propTypes:{changes:(0,i.arrayOf)(n(418))},render:function(){var e=this;return s.default.createElement("ul",{className:"change-log"},this.props.changes.map(function(t){return c.default.isImportantEnoughToRender(t)&&s.default.createElement("li",{key:t.id},s.default.createElement("div",{className:"change-set"},s.default.createElement("span",{className:"metadata"},(0,l.default)(t.createdAt).format("LLL")),e.renderChange(t)))}))},renderChange:function(e){switch(e.itemType){case"Slide":return s.default.createElement(g.default,{change:e});case"CourseTemplate":return s.default.createElement(_.default,{change:e})}return null}});t.default=(0,m.default)({type:(0,b.default)(E,function(){return I18n.t("Course Changelog")}),asyncProps:{changes:{fetch:function(e){return p.default.fetchAll(e.params.courseId)},get:function(e){return p.default.getAll(e.params.courseId)},setup:function(e){p.default.addChangeListener(e)},teardown:function(e){p.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.course.changelog",path:"/author/courses/:courseId/changelog",ember:!1}},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(4),i=s.assign,o=n(197);e.exports=r({schema:n(418),perform:function(e,t){var n=t.filter,r=void 0===n?null:n,s=t.nextPageURL,i=void 0===s?null:s;return a({url:i||"/api/support/changelog",dataType:"json",data:{filter:r,context_type:"course",context_id:e}})},parse:function(e,t){return t.changelog.map(function(n){return e(i({},n,{whodunnit:o(t.linked.whodunnit,"id",n.links.whodunnit)}))})}})},function(e,t,n){"use strict";var r=n(21),a=n(2316),s=n(44),i=r({displayName:"CourseChangeStore",schema:n(418),initialize:function(){this.paginator=s(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.filter;return a.performWithoutParsing(t,{filter:r,nextPageURL:e})})},clear:function(){delete this.paginator},fetchAll:function(e,t){var n=this;return this.paginator.findFirstPage(e,t).then(function(r){n.cache.setCollection({courseId:e,query:t},a.parse(r))})},fetchNext:function(e,t){var n=this;this.paginator.hasMorePages()&&this.paginator.findNextPage(e,t).then(function(r){n.cache.add({courseId:e,query:t},a.parse(r))})},getAll:function(e,t){return this.cache.getCollection({courseId:e,query:t})}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(13),o=r(i),l=n(54),u=r(l),c=n(67),d=r(c),p=n(24),f=r(p),m=n(97),h=r(m),g=n(52),v=r(g),_=n(123),y=r(_),b=n(270),E=r(b),C=n(1296),I=r(C),T=n(30),N=r(T),S=n(37),x=r(S),A=n(5),k=n(2321),w=r(k),R=n(3),O=n(136),P=n(29),L=r(P),M=n(20),D=r(M),U=n(58),F=r(U),q=n(19),B=r(q),j=n(31),H=r(j),G=n(4),W=n(148),V=r(W),Y=n(87),z=r(Y),K=n(6),Q=r(K),$=n(12),X=n(237),J=n(302),Z=r(J),ee=function(e){var t=e.archived;return(0,G.compact)([t?{value:"archived",label:I18n.t("Date Archived")}:null,{value:"newest",label:I18n.t("Newest")},{value:"updated",label:I18n.t("Updated")},{value:"title",label:I18n.t("Alphabetically")}])},te=function(){return[{label:I18n.t("Content Type"),key:"filters",options:[{value:"bridge",label:I18n.t("Bridge")},{value:"scorm",label:I18n.t("SCORM + AICC")},{value:"lynda",label:I18n.t("Lynda")},{value:"opensesame",label:I18n.t("OpenSesame")}]},{label:I18n.t("Other"),key:"filters",options:[{value:"my_courses",label:I18n.t("Only my courses")},{value:"unpublished",label:I18n.t("Unpublished")},{value:"no_enrollments",label:I18n.t("No Enrollments")},{value:"has_certificate",label:I18n.t("Has Certificate")}]}]},ne="updated",re=s.default.createClass({displayName:"CourseTemplatesView",mixins:[(0,x.default)({mobile:x.default.QUERY_MOBILE})],propTypes:{permissions:(0,R.shape)({course:(0,R.shape)({create:R.bool,edit:R.bool})}),courses:(0,R.arrayOf)(n(45)),subAccounts:(0,R.arrayOf)(n(217)),isLoading:R.bool,query:(0,R.shape)({archived:R.string,search:R.string,sort:R.string,filters:(0,R.oneOfType)([R.string,(0,R.arrayOf)(R.string)])})},getInitialState:function(){return{trayIsOpen:!1,trayIsReadOnly:!1,activeItem:null}},getDefaultProps:function(){return{permissions:{course:{}},query:{filters:[]},courses:[],subAccounts:[]}},componentWillReceiveProps:function(e){e.isLoading||this.storageFilterParamsRestored||(this.storageFilterParamsRestored=!0,this.restoreStorageFilterParams()),e.query.search||this.refs.searchField.clearSearchTerm()},render:function(){return s.default.createElement(X.TrayLayout,{isOpen:this.state.trayIsOpen},s.default.createElement(X.ContentOutlet,null,this.renderList()),s.default.createElement(X.TrayOutlet,{onCloseClick:this.closeTray},s.default.createElement(Z.default,{role:"Author",activeItem:this.state.activeItem,readOnly:this.state.trayIsReadOnly})))},renderList:function(){var e=this.props,t=e.courses,n=e.query,r=this.props.subAccounts.filter(function(e){return e.hasItemClass}).map(function(e){return{label:e.name,value:e.id}});return s.default.createElement(h.default,null,s.default.createElement(u.default,{name:"layout--list__header-text"},I18n.t("Courses")),this.props.permissions.course.create&&!this.isOnArchived()&&this.renderActions(),this.canViewArchived()&&s.default.createElement("nav",{className:"course-archive-nav border-b border-grey margin-b-l horizontal-scrolling-nav"},s.default.createElement("div",{className:"centered clearfix button-set horizontal-scrolling-nav__container"},s.default.createElement(d.default,{to:"author.courses",className:"dark-grey inline-block button-set__button",onClick:this.setActiveStorageParams,active:!this.isOnArchived(),dataCapybara:"course-active-link"},I18n.t("Active"),this.renderCount(V.default.getUnarchivedCount())),s.default.createElement(d.default,{to:"author.courses",query:{archived:"1"},onClick:this.setArchivedStorageParams,active:this.isOnArchived(),className:"dark-grey inline-block button-set__button",dataCapybara:"course-archived-link"},I18n.t("Archived"),this.renderCount(V.default.getArchivedCount())))),s.default.createElement("div",{className:"sortable-table-header--first-item"},s.default.createElement("div",{className:"left indigo"},s.default.createElement(v.default,{searchTerm:n.search,placeholderText:I18n.t("Search for courses"),ref:"searchField"})),H.default.get("DOMAIN.root")&&r.length>1&&s.default.createElement(y.default,{filterSets:[{key:"subaccounts",exclusive:!1,options:r}],activeFilters:n,onChange:this.updateSubAccountFilter,align:"right"},this.renderSubaccountFilterButton()),s.default.createElement(y.default,{className:"right",filterSets:te(),activeFilters:n,onChange:this.updateFilters}),s.default.createElement(E.default,{className:"right",sortOptions:ee({archived:this.isOnArchived()}),activeSort:n.sort||ne,onChange:this.updateSort})),this.props.isLoading&&s.default.createElement("div",{className:"loader-container"},s.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"})),!this.props.isLoading&&s.default.createElement("ul",{className:"course-list unstyled bordered","data-capybara":"course-list"},0===t.length&&s.default.createElement("li",{key:"no-survey",className:"bold dark-grey padding-tb-m text-center"},this.getEmptyMessage()),t.map(this.renderCourse)))},renderActions:function(){return s.default.createElement(u.default,{name:"layout--list__after-header"},s.default.createElement(o.default,{to:"author.courses.new",queryParams:{course_type:"bridge"},className:"add-btn"},s.default.createElement(f.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Course*"),wrappers:{"*":s.default.createElement("span",{className:"add-btn__text","data-capybara":"course-create_btn"},"$1")}},"$1"))),!this.state.media.mobile&&s.default.createElement(o.default,{to:"author.courses.upload",dataCapybara:"course-upload",className:"right margin-t-m margin-r-s"},s.default.createElement(f.default,null,I18n.t("Upload Course"))))},renderCourse:function(e){return s.default.createElement("li",{key:"course-"+e.id},s.default.createElement(I.default,{editable:this.canEdit(e),enrollable:this.canEnroll(e),openEnrollEditable:this.canEditOpenEnroll(),messageable:this.canMessage(e),onRemove:this.removeCourse.bind(null,e),removable:this.canDelete(e),onPreview:this.previewCourse.bind(null,e),previewable:this.canPreview(e),onClone:this.cloneCourse.bind(null,e),onChange:this.updateCourse.bind(null,e),cloneable:this.canClone(e),archivable:this.canArchive(e),onArchive:this.archiveCourse.bind(null,e),unarchivable:this.canUnarchive(e),onUnarchive:this.unarchiveCourse.bind(null,e),course:e,activeItemId:(0,G.get)(this.state,"activeItem.id"),onAttachmentIconClick:this.toggleAttachmentsTray,query:this.props.query}))},renderSubaccountFilterButton:function(){var e=!!this.props.query.subaccounts,t=(0,Q.default)({"author-course-templates__subaccount-filter__label--active":e});return s.default.createElement(y.default.Trigger,null,s.default.createElement("button",{type:"button",className:"popdown-selector__trigger author-course-templates__subaccount-filter"},s.default.createElement("span",{className:t},I18n.t("Accounts"),s.default.createElement(A.Icon,{className:"author-course-templates__subaccount-filter__icon"}))))},renderCount:function(e){return(0,F.default)(e)?"":s.default.createElement("span",{className:"margin-l-xxs"},"("+e+")")},closeTray:function(){var e=this;this.setState({activeItem:null,trayIsOpen:!1,trayIsReadOnly:!1},function(){e.trayTriggerElement&&(e.trayTriggerElement.focus(),e.trayTriggerElement=null)})},openTray:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({trayIsOpen:!0,trayIsReadOnly:!!e.archivedAt,activeItem:{id:e.id,contextId:e.id,title:e.title,type:$.LEARNING_ITEM_COURSE_TYPE}},function(){n&&(t.trayTriggerElement=n)})},toggleAttachmentsTray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.trayIsOpen&&e.id===this.state.activeItem.id?this.closeTray():this.openTray(e,t)},updateFilters:function(e){this.updateQuery(e)},updateSort:function(e){this.updateQuery({sort:e})},updateSubAccountFilter:function(e){this.updateQuery(e)},updateQuery:function(e){this.setStorageFilterParams(e),N.default.updateQuery(e)},setActiveStorageParams:function(){this.setStorageFilterParams({},!0)},setArchivedStorageParams:function(){this.setStorageFilterParams({archived:"1"},!0)},setStorageFilterParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?{}:JSON.parse(JSON.stringify(N.default.getQuery())),r=(0,G.assign)(n,e);delete r.search,z.default.setItem("courseTemplatesFilterParams",r,z.default.SCOPE_USER)},restoreStorageFilterParams:function(){var e=z.default.getItem("courseTemplatesFilterParams",z.default.SCOPE_USER);e&&N.default.updateQuery(e)},removeCourse:function(e){w.default.deleteCourse(e,function(e){B.default.responseError(e)})},archiveCourse:function(e){w.default.archiveCourse(e,!1,this.getScopeQuery(),function(e){B.default.responseError(e)})},unarchiveCourse:function(e){w.default.unarchiveCourse(e,!1,this.getScopeQuery(),function(e){B.default.responseError(e)})},getScopeQuery:function(){var e=(0,G.pick)(this.props.query,"archived","filters","search","subaccounts");return{sort:this.props.query.sort,query:e}},canDelete:function(e){return e.enrollmentsCount>0||e.hasSharedEnrollments?(0,L.default)("course_template_force_destroy",this.getCourseResource(e)):(0,L.default)("course_template_force_destroy",this.getCourseResource(e))||(0,L.default)("course_template_destroy",this.getCourseResource(e))},previewCourse:function(e){w.default.previewCourse(e.id)},canPreview:function(e){return!e.isExternal&&(0,L.default)("course_template_view",this.getCourseResource(e))||(0,L.default)("course_template_view")&&this.sharedFromRoot(e)},cloneCourse:function(e){w.default.cloneCourse(e.id)},canClone:function(e){var t=(0,L.default)("course_template_clone",this.getCourseResource(e))||(0,L.default)("course_template_clone")&&this.sharedFromRoot(e);return!e.isExternal&&!e.isArchived&&t},updateCourse:function(e,t){w.default.updateCourse(e.id,t)},canEdit:function(e){return!e.isArchived&&(0,L.default)("course_template_update",this.getCourseResource(e))},canEnroll:function(e){return!e.isArchived},canEditOpenEnroll:function(){return(0,L.default)("library_item_create")},canMessage:function(e){return!e.isArchived&&e.directMessagingEnabled&&(0,L.default)("user_message_send")},canArchive:function(e){return(0,D.default)("learn_course_archive")&&!e.isArchived&&e.withinSubaccountScope&&(0,L.default)("course_template_archive",this.getCourseResource(e))},canUnarchive:function(e){return(0,D.default)("learn_course_archive")&&e.isArchived&&e.withinSubaccountScope&&(0,L.default)("course_template_archive",this.getCourseResource(e))},canViewArchived:function(){return(0,D.default)("learn_course_archive")&&(0,L.default)("course_template_archive_view")},isOnArchived:function(){return this.canViewArchived()&&"1"===this.props.query.archived},getEmptyMessage:function(){var e=this.props.query,t=e.search||e.filters&&e.filters.length>0;return this.isOnArchived()&&t?I18n.t("There are no courses in the archive matching this filter."):this.isOnArchived()?I18n.t("There are no courses in the archive."):I18n.t("There are no courses matching this filter.")},getCourseResource:function(e){return{type:"course_template",id:e.id}},sharedFromRoot:function(e){return e.subAccount&&e.subAccount.isRoot&&!(0,O.isRootAccount)()}});t.default=re,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(139),s=r(a),i=n(9),o=r(i),l=n(1),u=r(l),c=n(3),d=n(4),p=n(29),f=r(p),m=n(148),h=r(m),g=n(637),v=r(g),_=n(53),y=r(_),b=n(22),E=r(b),C=n(1297),I=r(C),T=n(2318),N=r(T),S=n(106),x=r(S),A="CourseTemplate",k=u.default.createClass({displayName:"AuthorCourses",mixins:[(0,y.default)(function(e){var t=e.query,n=t.archived,r=t.filters,a=t.search,s=t.sort,i=t.subaccounts;h.default.fetchNext(s,{archived:n,filters:r,search:a,subaccounts:i})})],propTypes:{query:(0,c.shape)({archived:c.string,sort:c.string,search:c.string,filters:(0,c.oneOfType)([c.string,(0,c.arrayOf)(c.string)])}),courses:(0,c.arrayOf)(n(45)),subAccounts:(0,c.arrayOf)(n(217)),isLoading:c.bool},permissions:function(){return{course:{create:(0,f.default)("course_template_create"),edit:(0,f.default)("course_template_update")}}},render:function(){return u.default.createElement(N.default,(0,o.default)({},this.props,{permissions:this.permissions(),courses:(0,d.map)(this.props.courses,I.default.parse)}))}}),w=function(e){var t=(0,d.pick)(e.query,"archived","filters","search","subaccounts");return[e.query.sort,t]};t.default=(0,E.default)({type:(0,x.default)(k,function(){return I18n.t("Courses")}),asyncProps:{courses:{setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)},fetch:function(e){return h.default.fetchAll.apply(h.default,(0,s.default)(w(e)))},get:function(e){return h.default.getAll.apply(h.default,(0,s.default)(w(e)))},shouldRefetch:function(e,t){return!(0,d.isEqual)(e.query,t.query)}},subAccounts:{setup:function(e){v.default.addChangeListener(e)},teardown:function(e){v.default.removeChangeListener(e)},fetch:function(){return v.default.fetch(A)},get:function(){return v.default.getAll(A)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.courses",path:"/author/courses",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return d.default.deleteCourse(e.id,t)}function s(e,t,n){return d.default.archiveCourse(e.id,t,n)}function i(e,t,n){return d.default.unarchiveCourse(e.id,t,n)}function o(e){f.default.transitionTo("author.courses.preview",e,{queryParams:{returnToCourseList:1}})}function l(e){return d.default.cloneCourse(e)}function u(e,t){return d.default.updateCourse(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(262),d=r(c),p=n(13),f=r(p);t.default={archiveCourse:s,unarchiveCourse:i,deleteCourse:a,previewCourse:o,cloneCourse:l,updateCourse:u},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(22),s=r(a),i=n(148),o=r(i),l=n(308),u=r(l),c=n(19),d=r(c),p=n(13),f=r(p),m=n(314),h=n(106),g=r(h),v=(0,u.default)({contextType:"course",importRoute:"author.course.learners.import",cancelRoute:"author.course.learners",propTypes:{course:n(45)},getTitle:function(){return(0,m.getDisplayTitle)(this.props.course)}});e.exports=(0,s.default)({type:(0,g.default)(v,function(e){return I18n.t("Add Learners to %{courseTitle}",{courseTitle:(0,m.getDisplayTitle)(e.course)})}),asyncProps:{course:{setup:function(e){o.default.addChangeListener(e)},teardown:function(e){o.default.removeChangeListener(e)},fetch:function(e){return o.default.fetch(e.params.contextId).then(null,function(){throw(0,d.default)(I18n.t("Course does not exist"),{type:"error"}),f.default.transitionTo("author.courses"),s.default.AbortedError})},get:function(e){return o.default.get(e.params.contextId)}}}})},function(e,t){"use strict";e.exports={name:"author.course.learners.upload",path:"/author/courses/:contextId/learners/upload"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(1287),u=r(l),c=n(30),d=r(c),p=n(746),f=r(p),m=n(1285),h=n(380),g=r(h),v=n(3),_=s.default.createClass({displayName:"AuthorCoursesPreviewCourse",propTypes:{course:n(45),params:(0,v.shape)({courseId:v.string}),query:(0,v.shape)({slideId:v.string,returnToCourseList:v.string})},onClickPreview:function(){var e=this.props.query.returnToCourseList;e?f.default.backToCourses():f.default.backToCourse(this.props.params.courseId)},onSlideTransition:function(e,t){var n=this.props.query.returnToCourseList,r={slideId:t};n&&(r.returnToCourseList=n),d.default.replaceWith(m.name,{courseId:e},r)},render:function(){return s.default.createElement(u.default,{course:this.props.course,courseId:this.props.params.courseId,slideId:this.props.query.slideId,onClickPreview:this.onClickPreview,onSlideTransition:this.onSlideTransition,editingMode:!1})}});t.default=(0,o.default)({type:(0,g.default)(_,function(e){return!e.isLoading&&e.course&&e.course.brandingOverride}),blocking:!1,asyncProps:{course:n(748)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(1287),u=r(l),c=n(30),d=r(c),p=n(746),f=r(p),m=n(29),h=r(m),g=n(1286),v=n(2),_=s.default.createClass({displayName:"AuthorCoursesPreviewSlide",propTypes:{course:v.object,params:(0,v.shape)({courseId:v.string,slideId:v.string}),query:(0,v.shape)({returnToCourseList:v.string})},canEditCourse:function(){var e=this.props.params.courseId,t={type:"course_template",id:e};return(0,h.default)("course_template_update",t)},onClickPreview:function(){var e=this.props.params,t=e.courseId,n=e.slideId,r=this.props.query.returnToCourseList;r?f.default.backToCourses():this.canEditCourse()?f.default.editSlide(t,n):f.default.backToCourse(t)},onSlideTransition:function(e,t){var n=this.props.query.returnToCourseList,r={};n&&(r.returnToCourseList=n),d.default.replaceWith(g.name,{courseId:e,slideId:t},r)},render:function(){return s.default.createElement(u.default,{course:this.props.course,courseId:this.props.params.courseId,slideId:this.props.params.slideId,onClickPreview:this.onClickPreview,onSlideTransition:this.onSlideTransition,editingMode:!0})}});t.default=(0,o.default)({type:_,blocking:!1,asyncProps:{course:n(748)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(116),o=r(i),l=n(2327),u=r(l),c=n(5),d=n(82),p=r(d),f=n(360),m=r(f),h=n(299),g=r(h),v=n(215),_=r(v),y=n(29),b=r(y),E=n(6),C=r(E),I=n(3),T=(0,I.oneOf)(["desktop","tablet","mobile"]);t.default=s.default.createClass({displayName:"PreviewHeaderBar",propTypes:{nativeMediaType:T.isRequired,selectedPreviewDevice:T.isRequired,setResponsiveState:I.func.isRequired,courseId:I.string.isRequired,hasUnpublishedChanges:I.bool,isCollapsed:I.bool,onClickClone:I.func.isRequired,onClickEdit:I.func.isRequired,onClickPreview:I.func.isRequired,onClickPublish:I.func.isRequired,onRefreshQuestion:I.func.isRequired,onToggleVisibility:I.func.isRequired,editingMode:I.bool,slideIsRefreshable:I.bool,isArchived:I.bool},render:function(){return s.default.createElement("div",{className:"course-preview-header"},s.default.createElement(o.default,null),this.renderContent())},renderContent:function(){var e=this.props,t=e.editingMode,n=e.courseId,r=e.isArchived,a={type:"course_template",id:n};return this.props.isCollapsed?s.default.createElement("div",{className:"course-preview collapsed"},s.default.createElement("div",{className:"buttons full-height"},this.renderQuestionRefreshButton(),this.renderShowHideButton())):s.default.createElement("div",{className:"course-preview authoring-heading shadow expanded white border-none padding-rl-s"},s.default.createElement("div",{className:"text-left device-preview margin-t-xs hidden-mobile"},s.default.createElement("span",{className:"grey padding-r-s inline-block"},I18n.t("Device Preview:")),s.default.createElement(u.default,{media:this.props.nativeMediaType,selected:this.props.selectedPreviewDevice,responsivePick:this.props.setResponsiveState})),s.default.createElement("div",{className:"buttons text-center"},this.renderQuestionRefreshButton()),s.default.createElement("div",{className:"text-right"},s.default.createElement("div",{className:"buttons"},s.default.createElement(g.default,{active:!0,dark:!0,buttonClassName:"btn--round-with-icon-medium margin-rl-xxs",onClick:this.props.onClickPreview}),(0,b.default)("course_template_clone",a)&&!r&&s.default.createElement(m.default,{buttonClassName:"btn btn--round dark secondary margin-rl-xxs hidden-mobile",onClick:this.props.onClickClone}),!t&&(0,b.default)("course_template_update",a)&&!r&&s.default.createElement("button",{type:"button",className:"btn dark secondary margin-rl-xxs",onClick:this.props.onClickEdit,children:I18n.t("Edit")}),t&&(0,b.default)("course_template_publish",a)&&!r&&s.default.createElement("button",{type:"button",className:"btn dark secondary hidden-very-small margin-rl-xxs",disabled:!this.props.hasUnpublishedChanges,onClick:this.props.onClickPublish},I18n.t("Publish Course"))),this.renderShowHideButton()))},renderShowHideButton:function(){var e=this.props.isCollapsed;return s.default.createElement("div",{className:"toggle-wrapper inline-block"},s.default.createElement(p.default,{buttonClassName:"btn btn--reset secondary dark white",icon:e?"show-menu":"hide-menu",label:e?I18n.t("Show Menu"):I18n.t("Hide Menu"),onClick:this.props.onToggleVisibility,iconClassName:"gs-min-width"}))},renderQuestionRefreshButton:function(){if(!this.props.slideIsRefreshable)return null;var e=(0,C.default)("refresh-question inline-block",{"full-height":this.props.isCollapsed}),t=I18n.t("Refresh Quiz");return s.default.createElement("div",{className:e},s.default.createElement(_.default,{label:t},s.default.createElement("button",{className:"btn secondary dark white",onClick:this.props.onRefreshQuestion,"aria-label":t},s.default.createElement("span",{className:"margin-r-xs",children:t}),s.default.createElement(c.Icon,{className:"gs-1x gs-redo"}))))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(6),l=r(o),u=n(3),c=n(27),d=r(c);t.default=s.default.createClass({displayName:"PreviewResponsivePicker",propTypes:{media:u.string.isRequired,selected:u.string.isRequired,responsivePick:u.func.isRequired},selectionMade:function(e){this.props.responsivePick(e)},getDeviceButtonLabel:function(e){switch(e){case"mobile":return I18n.t("Mobile");case"tablet":return I18n.t("Tablet");default:return I18n.t("Desktop")}},renderPickerButton:function(e){var t=this,n=this.props.selected,r=(0,l.default)({"gs-phone-portrait":"mobile"===e,"gs-tablet":"tablet"===e,"gs-desktop":"desktop"===e,"gs-2x":"desktop"===e}),a=(0,l.default)({"btn--reset":!0,active:n&&n===e,mobile:"mobile"===e,tablet:"tablet"===e,desktop:"desktop"===e});return s.default.createElement("li",{key:e},s.default.createElement("button",{className:a,onClick:function(){return t.selectionMade(e)}},s.default.createElement(i.Icon,{className:r}),s.default.createElement(d.default,{children:this.getDeviceButtonLabel(e)})))},render:function(){if("mobile"===this.props.media)return null;var e=["tablet","mobile"];return"desktop"===this.props.media&&e.unshift("desktop"),s.default.createElement("ul",{className:"learner-course-preview--responsive-picker"},e.map(this.renderPickerButton))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),s=r(a),i=n(1),o=r(i),l=n(6),u=r(l),c=n(162),d=r(c),p=n(199),f=r(p),m=n(2326),h=r(m),g=n(37),v=r(g),_=n(58),y=r(_),b=n(19),E=r(b),C=n(13),I=r(C),T=n(746),N=r(T),S=n(2),x=(0,d.default)(f.default,"/learner/courses/%@/slide/%@/preview"),A={mobile:v.default.QUERY_PORTRAIT_MOBILE,tablet:v.default.QUERY_MOBILE,desktop:v.default.QUERY_DESKTOP};t.default=o.default.createClass({displayName:"PreviewView",mixins:[new v.default(A)],propTypes:{courseId:S.string,slideId:S.string,hasUnpublishedChanges:S.bool,onClickPreview:S.func.isRequired,onMessage:S.func.isRequired,permissions:(0,S.shape)({can_create:S.bool,can_edit:S.bool,can_view:S.bool}).isRequired,editingMode:S.bool,isArchived:S.bool,slideIsRefreshable:S.bool},getDefaultProps:function(){return{}},getInitialState:function(){return{isCollapsed:!1}},componentWillReceiveProps:function(e){if(this.state.originalFrameURL||this.setState({originalFrameURL:this.getFrameURL()}),e.slideId!==this.props.slideId){var t=this.refs.iframe.contentWindow;t&&t.postMessage({slideId:e.slideId},location.origin)}},componentDidMount:function(){window.addEventListener("message",this.props.onMessage,!1)},componentWillUnmount:function(){window.removeEventListener("message",this.props.onMessage,!1)},getIframeStyles:function(){var e=this.state.responsiveState||"desktop",t={mobile:["320px","568px"],tablet:["768px"],
desktop:["100%"]},n=(0,s.default)(t[e],2),r=n[0],a=n[1];return a||(a="100%"),{width:r,height:a}},render:function(){this.props.permissions.can_create||this.props.permissions.can_edit||this.props.permissions.can_view||((0,E.default)(I18n.t("Sorry! It looks like you don't have permission to perform this action."),{type:"error"}),I.default.replaceWith("learner.courses"));var e=(0,u.default)({"learner-course-preview":!0,"learner-course-preview--with-header":!this.state.isCollapsed}),t=this.state.media;if((0,y.default)(t))return null;var n=Object.keys(t).filter(function(e){return t[e]})[0];return o.default.createElement("div",{className:"full-viewport-height chart-grey-bg"},o.default.createElement(h.default,{nativeMediaType:n,selectedPreviewDevice:this.state.responsiveState||n,setResponsiveState:this.setResponsiveState,onClickClone:this.onClickClone,onClickEdit:this.onClickEdit,onClickPublish:this.onClickPublish,onToggleVisibility:this.toggleHeaderVisibility,onClickPreview:this.props.onClickPreview,isCollapsed:this.state.isCollapsed,editingMode:this.props.editingMode,isArchived:this.props.isArchived,slideIsRefreshable:this.props.slideIsRefreshable,onRefreshQuestion:this.onRefreshQuestion,hasUnpublishedChanges:this.props.hasUnpublishedChanges,courseId:this.props.courseId}),o.default.createElement("div",{className:e},o.default.createElement("iframe",{ref:"iframe",src:this.getFrameURL(),style:this.getIframeStyles(),allowFullScreen:!0})))},getFrameURL:function(){return this.state.originalFrameURL||x(this.props.courseId,this.props.slideId||"current")},onClickClone:function(){N.default.cloneCourse(this.props.courseId)},onClickEdit:function(){N.default.editSlide(this.props.courseId,this.props.slideId)},onClickPublish:function(){N.default.publishCourse(this.props.courseId)},onRefreshQuestion:function(){var e=this.refs.iframe.contentWindow;e.postMessage({refreshQuestion:!0},location.origin)},toggleHeaderVisibility:function(){this.setState({isCollapsed:!this.state.isCollapsed})},setResponsiveState:function(e){this.setState({responsiveState:e});var t=this.refs.iframe.contentWindow;t&&t.postMessage({resizeWindow:!0},location.origin)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(442),u=r(l),c=n(31),d=r(c),p=n(1366),f=r(p),m=n(13),h=r(m),g=n(189),v=r(g),_=n(1295),y=r(_),b=n(82),E=r(b),C=n(360),I=r(C),T=n(111),N=r(T),S=n(598),x=r(S),A=n(37),k=r(A),w=n(34),R=r(w),O=n(19),P=r(O),L=n(6),M=r(L),D=n(12),U=r(D),F=n(20),q=r(F),B=n(262),j=r(B),H=n(4),G=n(5),W=n(43);t.default=o.default.createClass({displayName:"Actions",mixins:[(0,k.default)({wideEnoughToEdit:k.default.QUERY_WIDE_ENOUGH_TO_EDIT})],propTypes:{canClone:s.default.bool,canEdit:s.default.bool,canView:s.default.bool,canMessage:s.default.bool,canArchive:s.default.bool,canDelete:s.default.bool,canToggleOpenEnrollment:s.default.bool,onClone:s.default.func,onEdit:s.default.func.isRequired,onEditCoverSlide:s.default.func,onChange:s.default.func.isRequired,onPreview:s.default.func,onArchive:s.default.func,onUnarchive:s.default.func,onDelete:s.default.func,currentUserIsSupport:s.default.bool,isBridgeRetainOnboardingPending:s.default.bool,course:n(45)},onEdit:function(e){var t=this;this.props.onEdit().catch(function(n){var r=n.lockHolder;t.setState({editUser:{name:r.displayName,id:r.id}}),t.refs.popup?t.refs.popup.open():e&&e()})},onEditCoverSlide:function(e){var t=this;this.props.course.hasCoverSlide?this.onEdit(e):this.props.onEditCoverSlide().then(function(){t.onEdit(e)})},onExport:function(){var e=this.getExportLink();e&&e.href&&(window.location=e.href)},getInitialState:function(){return{editUser:{name:"",id:""}}},getDefaultProps:function(){return{course:{}}},actionButtonClassName:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,M.default)("btn btn--round-with-icon-medium secondary margin-rl-xxs",t)},render:function(){return(0,q.default)("learn_course_archive")?this.props.course.isArchived?this.renderArchivedActionMenu():this.renderUnarchivedActionMenu():this.renderActionButtons()},renderUnarchivedActionMenu:function(){var e=this.props,t=e.course,n=e.canMessage,r=e.canClone,a=e.canEdit,s=e.canArchive,i=e.canDelete,l=this.getExportLink(),u=0;return this.shouldRenderEditButton()&&u++,this.shouldRenderPreviewButton()&&u++,o.default.createElement("div",{className:"course-header__author-actions"},o.default.createElement("div",{className:"inline-block"},o.default.createElement(W.ActionMenu,{className:"action-menu buc-action-menu-compat",primaryActionCount:u,alignToPopup:"end"},this.shouldRenderEditButton()&&o.default.createElement(y.default,{course:t}),this.shouldRenderCoverSlideEdit()&&o.default.createElement(W.ActionMenuItem,{label:this.getCoverSlideEditLabel(),icon:o.default.createElement(G.Icon,{className:"gs-image gs-buc-button-compat"}),action:this.onEditCoverSlide,disabled:this.courseActionDisabled(),popupContentsRenderer:this.renderEditCourseLocked,"data-capybara":"course-slide-edit"}),this.shouldRenderPreviewButton()&&o.default.createElement(W.ActionMenuItem,{label:I18n.t("Preview"),icon:o.default.createElement(G.Icon,{className:"gs-preview gs-buc-button-compat"}),action:this.props.onPreview,disabled:this.courseActionDisabled(),"data-capybara":"course-preview"}),this.canEnableRetain()&&o.default.createElement(f.default,{className:this.actionButtonClassName(),disabled:!a,hasQuizzes:!!t.quizzesCount,retain:t.retain,onAddClick:this.onEdit,onRetainChange:this.updateRetain,bridgeRetainOnboardingPending:this.props.isBridgeRetainOnboardingPending,onOverlayClose:this.updateBridgeRetainOnboardingPending,isActionMenuItem:!0}),l&&o.default.createElement(W.ActionMenuItem,{label:l.label,icon:o.default.createElement(G.Icon,{className:"gs-zip gs-buc-button-compat"}),action:this.onExport,"data-capybara":"course-export"}),o.default.createElement(x.default,{learningItem:this.props.course,onChange:this.updateOpenEnrollment,disabled:!this.props.canToggleOpenEnrollment&&!this.props.canEdit,isActionMenuItem:!0}),n&&o.default.createElement(v.default,{recipientType:"course",recipientName:t.title||I18n.t("Untitled Course"),recipientId:t.id,filters:j.default.getMessageFilters(t),onMessageSend:P.default,onMessageFail:function(e){return(0,P.default)(e,{type:"error"})},isActionMenuItem:!0}),!t.isArchived&&!t.isExternal&&r&&o.default.createElement(W.ActionMenuItem,{label:I18n.t("Duplicate"),icon:o.default.createElement(G.Icon,{className:"gs-duplicate gs-buc-button-compat"}),action:this.props.onClone,"data-capybara":"course-duplicate"}),s&&o.default.createElement(W.ActionMenuItem,{label:I18n.t("Archive"),icon:o.default.createElement(W.ArchiveIcon,{className:"gs-buc-button-compat"}),popupContentsRenderer:this.renderConfirmationPopup("archive"),disabled:this.courseActionDisabled(),"data-capybara":"course-archive"}),i&&o.default.createElement(W.ActionMenuItem,{label:I18n.t("Delete"),icon:o.default.createElement(G.Icon,{className:"gs-trash gs-buc-button-compat"}),popupContentsRenderer:this.renderConfirmationPopup("delete"),disabled:this.courseActionDisabled(),"data-capybara":"course-delete"}))))},renderArchivedActionMenu:function(){var e=this.props,t=e.onPreview,n=e.canArchive,r=e.canDelete;return o.default.createElement("div",{className:"course-header__author-actions"},o.default.createElement("div",{className:"inline-block"},o.default.createElement(W.ActionMenu,{className:"action-menu buc-action-menu-compat",primaryActionCount:3,alignToPopup:"end"},this.shouldRenderPreviewButton()&&o.default.createElement(W.ActionMenuItem,{label:I18n.t("Preview"),icon:o.default.createElement(G.Icon,{className:"gs-preview gs-buc-button-compat"}),action:t,disabled:this.courseActionDisabled(),"data-capybara":"course-preview"}),n&&o.default.createElement(W.ActionMenuItem,{label:I18n.t("Un-Archive"),icon:o.default.createElement(W.UnarchiveIcon,{className:"gs-buc-button-compat"}),popupContentsRenderer:this.renderConfirmationPopup("unarchive"),disabled:this.courseActionDisabled(),"data-capybara":"course-unarchive"}),r&&o.default.createElement(W.ActionMenuItem,{label:I18n.t("Delete"),icon:o.default.createElement(G.Icon,{className:"gs-trash gs-buc-button-compat"}),popupContentsRenderer:this.renderConfirmationPopup("delete"),disabled:this.courseActionDisabled(),"data-capybara":"course-delete"}))))},renderActionButtons:function(){var e=this.props,t=e.course,n=e.canMessage,r=e.canClone,a=e.canEdit;return o.default.createElement("div",{className:"course-header__author-actions"},this.canEnableRetain()&&o.default.createElement(f.default,{className:this.actionButtonClassName(),disabled:!a,hasQuizzes:!!t.quizzesCount,retain:t.retain,onAddClick:this.onEdit,onRetainChange:this.updateRetain,bridgeRetainOnboardingPending:this.props.isBridgeRetainOnboardingPending,onOverlayClose:this.updateBridgeRetainOnboardingPending}),o.default.createElement(x.default,{className:this.actionButtonClassName("btn--round-with-icon-large"),learningItem:this.props.course,onChange:this.updateOpenEnrollment,disabled:!this.props.canToggleOpenEnrollment&&!this.props.canEdit}),n&&this.renderMessageBox(),this.renderExportLink(),this.shouldRenderPreviewButton()&&this.renderPreviewButton(),!t.isExternal&&r&&this.renderCloneButton(),this.shouldRenderCoverSlideEdit()&&this.renderCoverSlideEdit(),o.default.createElement("span",{"data-capybara":"course-edit",className:"course-edit margin-l-xxs"},this.shouldRenderEditButton()&&this.renderEditLink()))},renderEditCourseLocked:function(){return o.default.createElement("div",{className:"course-locking__item-popup"},o.default.createElement(u.default,{lockableType:"course",user:this.state.editUser}))},renderEditLink:function(){var e=this.props.course;return e.isExternal?o.default.createElement(h.default,{to:"author.course.upload",params:[{courseId:e.id}],className:"btn secondary right",children:I18n.t("Replace")}):o.default.createElement("span",null,o.default.createElement(N.default,{ref:"popup",lockableType:"course",user:this.state.editUser,content:u.default,popupOptions:l.LockableLockedDialogOptions,popupClassName:"course-locked-popup"},o.default.createElement("span",null)),o.default.createElement("button",{className:"btn secondary right",disabled:this.courseActionDisabled(),onClick:this.onEdit,children:I18n.t("Edit")}))},renderExportLink:function(){var e=this.getExportLink();return e?o.default.createElement(E.default,{link:!0,buttonClassName:this.actionButtonClassName(),href:e.href,"data-capybara":"course-export",icon:"zip",iconClassName:"gs-1x dark-grey",label:e.label}):null},renderCloneButton:function(){return o.default.createElement(I.default,{buttonClassName:this.actionButtonClassName(),onClick:this.props.onClone})},renderPreviewButton:function(){var e=I18n.t("Preview Course");return o.default.createElement(E.default,{buttonClassName:this.actionButtonClassName(),disabled:this.courseActionDisabled(),onClick:this.props.onPreview,icon:"preview",label:e})},renderMessageBox:function(){var e=this.props.course;return o.default.createElement(v.default,{triggerClassName:this.actionButtonClassName(),wrapperClassName:"btn-like margin-t-xs",recipientType:"course",recipientName:e.title||I18n.t("Untitled Course"),recipientId:e.id,filters:j.default.getMessageFilters(e),onMessageSend:P.default,onMessageFail:function(e){return(0,P.default)(e,{type:"error"})},round:!0})},renderCoverSlideEdit:function(){var e=(0,H.merge)({},l.LockableLockedDialogOptions,{style:{classes:"course-locking__item-popup course-locking__item-popup--small"}});return o.default.createElement("span",null,o.default.createElement(N.default,{ref:"popup",lockableType:"course",user:this.state.editUser,content:u.default,popupOptions:e,popupClassName:"course-locked-popup"},o.default.createElement("span",null)),o.default.createElement(E.default,{buttonClassName:this.actionButtonClassName(),disabled:this.courseActionDisabled(),onClick:this.onEditCoverSlide,icon:"image",label:this.getCoverSlideEditLabel()}))},renderConfirmationPopup:function(e){var t=this;return function(n){var r=t.props,a=r.course,s=r.onArchive,i=r.onUnarchive,l=r.onDelete,u=void 0,c=void 0,d=void 0,p=(0,M.default)("btn--reset upcase small padding-rl-s text-center",{pink:"unarchive"!==e,blue:"unarchive"===e}),f=a.title||I18n.t("Untitled Course");return"archive"===e?(u=s,c=I18n.t("Archive"),d=I18n.t("Archive %{title}?",{title:f})):"unarchive"===e?(u=i,c=I18n.t("Restore"),d=I18n.t("Un-archive %{title}?",{title:f})):(u=l,c=I18n.t("Delete"),d=I18n.t("Delete %{title}?",{title:f})),o.default.createElement("div",{className:"removable-item removable-item--focused-inlined"},o.default.createElement("div",{className:"removable-item__title--large"},o.default.createElement("h2",{className:"h3 course-list__header margin-none indigo"},d),t.renderConfirmationPopupMetadata(e)),o.default.createElement("div",{className:"removable-item__buttons"},o.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center","data-capybara":"course-"+e+"_cancel",onClick:n,children:I18n.t("Cancel")}),o.default.createElement("button",{type:"button",className:p,"data-capybara":"course-"+e+"_confirm",onClick:u,children:c})))}},renderConfirmationPopupMetadata:function(e){var t=this.props.course;if("archive"===e){var n=I18n.t({one:"enrollment",other:"enrollments"},{count:t.incompleteEnrollmentsCount}),r=I18n.t({one:"learner",other:"learners"},{count:t.enrollmentsCount});return o.default.createElement("div",{className:"dark-grey"},o.default.createElement("strong",null,t.incompleteEnrollmentsCount),I18n.t(" incomplete %{enrollmentsLabel} will be deactivated and ",{enrollmentsLabel:n}),t.enrollmentsCount>1&&I18n.t(" all "),o.default.createElement("strong",null,t.enrollmentsCount),I18n.t(" %{learnersLabel} will no longer have access to this course content.",{learnersLabel:r}),t.retain&&I18n.t(" Completed learners will no longer receive retain exercises."))}if("unarchive"===e){var a=I18n.t({one:"enrollment",other:"enrollments"},{count:t.enrollmentsCount});return o.default.createElement("div",{className:"dark-grey"},I18n.t("This course will be moved to a draft state, and "),o.default.createElement("strong",null,t.enrollmentsCount),I18n.t(" %{enrollmentsLabel} will remain inactive until published.",{enrollmentsLabel:a}))}return"delete"===e&&t.hasSharedEnrollments?o.default.createElement("div",{className:"dark-grey"},I18n.t("This course is shared with 1 or more Sub-Accounts with active enrollments.")):null},updateBridgeRetainOnboardingPending:function(){R.default.updateBridgeRetainOnboardingPending()},updateOpenEnrollment:function(e){this.props.onChange(this.props.course.id,{openEnrollment:e.target.checked})},updateRetain:function(e){this.props.onChange(this.props.course.id,{retain:e})},getEditLabel:function(){var e=this.props.course;return e.isExternal?I18n.t("Replace"):I18n.t("Edit")},getCoverSlideEditLabel:function(){var e=this.props.course;return e.hasCoverSlide?I18n.t("Edit Cover"):I18n.t("Add Cover")},getExportLink:function(){var e,t;if(!this.props.currentUserIsSupport)return null;if(this.props.course.isExternal){if(this.props.course.courseType!==U.default.COURSE_EXTERNAL_TYPE_SCORM)return null;e=I18n.t("Export Metadata"),t="/api/author/course_templates/"+this.props.course.id+"/export.zip"}else e=I18n.t("Export"),t="/api/author/course_templates/"+this.props.course.id+"/export.json";return{label:e,href:t}},courseActionDisabled:function(){return j.default.isCourseActionDisabled(this.props.course)},canEnableRetain:function(){return d.default.get("DOMAIN.notifications")&&d.default.get("DOMAIN.config.bridge_retain")&&!this.props.course.isExternal},shouldRenderCoverSlideEdit:function(){var e=this.props,t=e.canEdit,n=e.course;return(0,q.default)("learn_scorm_cover_slide")&&t&&n.isExternal},shouldRenderPreviewButton:function(){var e=this.props,t=e.canEdit,n=e.canView,r=e.course,a=e.onPreview,s=t||n;return!r.isExternal&&s&&a},shouldRenderEditButton:function(){var e=this.props.canEdit,t=this.state.media.wideEnoughToEdit;return e&&t}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(102),o=r(i),l=n(445),u=r(l),c=n(54),d=r(c),p=n(2331),f=r(p),m=n(2335),h=r(m),g=n(2334),v=r(g),_=n(2336),y=r(_),b=n(2329),E=r(b),C=n(12),I=r(C),T=n(355),N=r(T),S=n(262),x=r(S),A=n(3),k=n(29),w=r(k),R=n(37),O=r(R),P=n(13),L=r(P),M=n(20),D=r(M),U=s.default.createClass({displayName:"AuthorCourseView",mixins:[(0,O.default)({mobile:O.default.QUERY_MOBILE})],propTypes:{course:n(45),currentUserIsSupport:A.bool,isBridgeRetainOnboardingPending:A.bool,permissions:(0,A.shape)({course:(0,A.shape)({clone:A.bool,create:A.bool,publish:A.bool,edit:A.bool,editOnAccount:A.bool,archive:A.bool,delete:A.bool,expire:A.bool}),libraryItem:(0,A.shape)({create:A.bool}),tag:(0,A.shape)({create:A.bool,remove:A.bool,add:A.bool}),affiliatedSubAccount:(0,A.shape)({view:A.bool,share:A.bool})}),placements:(0,A.arrayOf)(n(84)),children:A.element},getDefaultProps:function(){return{permissions:{course:{clone:!1,create:!1,publish:!1,edit:!1,expire:!1},libraryItem:{create:!1},tag:{create:!1,remove:!1,add:!1},affiliatedSubAccount:{view:!1,share:!1}},placements:[],course:{},reports:{}}},getInitialState:function(){return{expanded:!1}},canSendMessage:function(){return this.props.course.directMessagingEnabled&&(0,w.default)("user_message_send")},isPending:function(){return this.props.course.externalStatus===I.default.COURSE_EXTERNAL_STATUS_PENDING},isPublishPending:function(){return this.props.course.externalStatus===I.default.COURSE_EXTERNAL_STATUS_PUBLISHPENDING},render:function(){var e=this.props,t=e.course,n=e.permissions,r=e.placements,a=(0,D.default)("learn_course_archive")&&t.isArchived,i=!a&&(t.isBlocked||t.isPublishable),l=t.externalStatus===I.default.COURSE_EXTERNAL_STATUS_ATTACHED,u=x.default.handleEditCourseConflict.bind(null,t.id);return s.default.createElement("div",null,s.default.createElement(o.default,{type:"course"},s.default.createElement(d.default,{name:"layout--item-header__before-content"},n.course.publish&&i&&s.default.createElement(f.default,{courseId:t.id,courseType:t.courseType,pending:this.isPending(),failed:t.externalStatus===I.default.COURSE_EXTERNAL_STATUS_FAILED,hasUnpublishedChanges:t.hasUnpublishedChanges,unpublished:!t.isPublished,attached:l,publishPending:this.isPublishPending(),onPublish:N.default.publishCourse.bind(null,t.id,l),additionalMessage:t.externalStatusMessage})),this.renderMeta(),s.default.createElement(d.default,{name:"layout--item-header__actions"},s.default.createElement(E.default,{course:t,canClone:n.course.clone,canEdit:n.course.edit,canView:n.course.view,canArchive:n.course.archive,canDelete:n.course.delete,canToggleOpenEnrollment:n.libraryItem.create,canMessage:this.canSendMessage(),currentUserIsSupport:this.props.currentUserIsSupport,isBridgeRetainOnboardingPending:this.props.isBridgeRetainOnboardingPending,onClone:N.default.cloneCourse.bind(null,t.id),onEdit:x.default.editCourse.bind(null,t.id),onEditCoverSlide:N.default.addCoverSlide.bind(null,t.id,u),onChange:N.default.updateCourse,onPreview:N.default.previewCourse.bind(null,t.id),onArchive:this.archiveCourse,onUnarchive:this.unarchiveCourse,onDelete:this.deleteCourse})),s.default.createElement(d.default,{name:"layout--item-header__expansion"},this.state.expanded&&s.default.createElement(y.default,{canEdit:n.course.edit,canEditOnAccount:n.course.editOnAccount,canEditLibrary:n.libraryItem.create,canExpire:n.course.expire,canAddTag:n.tag.add,canCreateTag:n.tag.create,canRemoveTag:n.tag.remove,onChange:N.default.updateCourse.bind(null,t.id),course:t}))),s.default.createElement(h.default,{course:t,canViewSubAccounts:n.affiliatedSubAccount.view,placements:r}),this.props.children)},renderMeta:function(){var e=this.props,t=e.course,n=e.permissions;return s.default.createElement(d.default,{name:"layout--item-header__details"},s.default.createElement(v.default,{course:t,canEdit:n.course.edit,canEditLibrary:n.libraryItem.create,onChange:N.default.updateCourse.bind(null,t.id),settingsExpander:s.default.createElement("span",{onClick:this.toggleExpand,"data-capybara":"course__show-settings-button"},s.default.createElement(u.default,{iconOnly:this.state.media.mobile,expanded:this.state.expanded}))}))},toggleExpand:function(){this.setState({expanded:!this.state.expanded})},archiveCourse:function(){N.default.archiveCourse(this.props.course.id)},unarchiveCourse:function(){N.default.unarchiveCourse(this.props.course.id)},deleteCourse:function(){var e=this.props.course.id;L.default.transitionTo("author.courses").then(function(){return N.default.deleteCourse(e)})}});e.exports=U},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(18),i=n(13),o=n(58),l=n(2),u=l.bool,c=l.string,d=l.func,p=r.createClass({displayName:"Banner",statics:{getMessages:function(){return{attached:I18n.t("This course has unpublished changes."),failed:I18n.t("The file could not be imported."),pending:I18n.t("Your file is being imported. You will be able to publish when complete."),publishPending:I18n.t("Your file is being imported. The course will be published when complete."),hasUnpublishedChanges:I18n.t("This course has unpublished changes."),unpublished:I18n.t("This course has not been published.")}},getCourseTypeMessageModifiers:function(){return{scorm:{attached:I18n.t("We'll pull in the title, description, and required score from your SCORM package once published."),pending:I18n.t("We'll pull in the title, description, and required score from your SCORM package.")}}}},propTypes:{courseId:c,courseType:c,pending:u,failed:u,hasUnpublishedChanges:u,unpublished:u,attached:u,publishPending:u,onPublish:d,additionalMessage:c},render:function(){var e=this.props,t=e.pending,n=e.failed,o=e.courseId,l=e.publishPending,u=a({white:!0,"padding-s":!0,"pink-bg":n,"blue-bg":!n});return r.createElement("div",{className:u},r.createElement("div",{className:"layout--banner"},r.createElement("div",{className:"layout--banner__text","data-capybara":"banner_text"},this.getMessage()),r.createElement("div",{className:"layout--banner__actions","data-capybara":"banner_button"},n?r.createElement(i,{to:"author.course.upload",params:[{courseId:o}],className:"btn secondary dark margin-r-xs",children:I18n.t("Try again")}):r.createElement(s,{className:"layout--banner__button",disabled:t||l,onClick:this.props.onPublish,children:I18n.t("Publish")}))))},getMessage:function(){var e,t,n,r=p.getMessages(),a=p.getCourseTypeMessageModifiers(),s=Object.keys(r);for(e=0;e<s.length;++e)if(t=s[e],this.props[t])return n=r[t],a[this.props.courseType]&&a[this.props.courseType][t]&&(n+=" "+a[this.props.courseType][t]),o(this.props.additionalMessage)||(n+=" "+this.props.additionalMessage),n}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(132),o=r(i),l=n(55),u=r(l),c=n(69),d=r(c),p=n(3),f=1,m=1,h=100,g=function(e){var t=e.credits,n=e.canEdit,r=void 0!==n&&n,a=e.onChange,i=function(e,t,n){return Math.max(t,Math.min(e,n))},l=function(e){return a(e.target.checked?f:0)},c=function(e){return a(i(parseInt(e,10),m,h))};return s.default.createElement("div",{className:"course-settings-meta-expando"},s.default.createElement(o.default.Label,{key:"continuing-education-credits-0"},I18n.t("Continuing Education Credits")),s.default.createElement(o.default.Field,{key:"continuing-education-credits-1","data-capybara":"course-settings__continuing-education-credits-toggle"},s.default.createElement(u.default,{disabled:!r,checked:t>0,onChange:l})),t>0&&s.default.createElement(o.default.CellAdditional,{key:"continuing-education-credits-2","data-capybara":"course-settings__continuing-education-credits"},s.default.createElement("div",{className:"small blue-grey"},I18n.t("This course is worth"),s.default.createElement(d.default,{growInPlace:!0,value:String(t),readOnly:!r,onChange:c,validEditRegex:/^\d+$/,inputClassNames:"blue-grey border-trbl"},s.default.createElement("span",{className:r?"bold blue":"bold"},t)),I18n.t({one:"credit.",other:"credits."},{count:t}))))};g.propTypes={credits:p.number.isRequired,canEdit:p.bool,onChange:p.func.isRequired},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(132),o=r(i),l=n(55),u=r(l),c=n(69),d=r(c),p=n(3),f=5,m=1,h=100,g=function(e){var t=e.maxQuizAttempts,n=e.canEdit,r=e.onChange,a=function(e,t,n){return Math.max(t,Math.min(e,n))},i=function(e){return r(e.target.checked?f:0)},l=function(e){return r(a(parseInt(e,10),m,h))};return s.default.createElement("div",{className:"course-settings-meta-expando"},s.default.createElement(o.default.Label,{key:"limit-attempts-0"},I18n.t("Limit Attempts")),s.default.createElement(o.default.Field,{key:"limit-attempts-1","data-capybara":"course-settings__max-quiz-attempts-toggle"},s.default.createElement(u.default,{disabled:!n,checked:t>0,onChange:i})),t>0&&s.default.createElement(o.default.CellAdditional,{key:"limit-attempts-2","data-capybara":"course-settings__max-quiz-attempts"},s.default.createElement("div",{className:"small blue-grey"},I18n.t("Allow learners"),s.default.createElement(d.default,{growInPlace:!0,value:String(t),readOnly:!n,onChange:l,validEditRegex:/^\d+$/,inputClassNames:"blue-grey border-trbl"},s.default.createElement("span",{className:n?"bold blue":"bold"},t)),I18n.t({one:"attempt to pass.",other:"attempts to pass."},{count:t}))))};g.propTypes={maxQuizAttempts:p.number.isRequired,canEdit:p.bool.isRequired,onChange:p.func.isRequired},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(298),l=r(o),u=n(69),c=r(u),d=n(188),p=r(d),f=n(2),m=n(427),h=r(m),g=n(20),v=r(g),_=n(6),y=r(_),b=i.constants.DESCRIPTION_LENGTH_LIMIT,E=s.default.createClass({displayName:"MetaStatic",propTypes:{course:n(45),canEdit:f.bool,onChange:f.func,settingsExpander:f.element},getDefaultProps:function(){return{course:{description:""}}},getInitialState:function(){return{editingDescription:!1,description:this.props.course.description}},componentWillReceiveProps:function(e){this.state.editingDescription||this.setState({description:e.course.description||""})},componentWillUnmount:function(){this.setState({editingDescription:!1})},render:function(){var e=this.props,t=e.canEdit,n=e.course,r=n.title||I18n.t("Untitled Course"),a=(0,v.default)("learn_course_archive")&&n.isArchived,o=(0,y.default)("layout--item-header__icon","gs-book",{"layout--item-header__icon--archived":a}),u=(0,y.default)("course-header__title",{"course-header__title--archived":a});return s.default.createElement("div",null,s.default.createElement(i.Icon,{className:o}),s.default.createElement(c.default,{"data-capybara":"course-header__title-editor",value:n.title,readOnly:!t||a,placeholder:I18n.t("Course Title"),onChange:this.updateTitle,maxLength:"255",inputClassName:"course-header__title"},s.default.createElement("h1",{className:u},r," ",n.isExternal&&s.default.createElement(l.default,{name:"SCORM",className:"external-course"}),a&&s.default.createElement(l.default,{name:"ARCHIVED",className:"archived-course"}))),s.default.createElement("div",{className:"course-header__description"},s.default.createElement(p.default,{disabled:!t||a,value:this.state.description,placeholder:I18n.t("Describe what learners can expect from this course"),onBlur:this.saveDescription,onChange:this.updateDescription,maxLength:b,multiline:!1,enableLinks:!0})),s.default.createElement("div",{className:"course-header__subtitle","data-capybara":"course-header__subtitle"},s.default.createElement("ul",{className:"list--slashed margin-l-xs"},n.subAccount&&n.subAccount.notCurrent&&s.default.createElement("li",null,n.subAccount.name),n.isLibraryItem&&s.default.createElement("li",{key:"library"},I18n.t("In Library")),n.maxQuizAttempts&&n.maxQuizAttempts>0&&s.default.createElement("li",{key:"max-attempts"},I18n.t({one:"1 Attempt Allotted",other:"%{count} Attempts Allotted"},{count:n.maxQuizAttempts})),s.default.createElement("li",null,I18n.t("Required score")," ",n.passingThreshold,"%"),s.default.createElement(h.default,{record:n,recordType:"course"}),n.hasCertificate&&s.default.createElement("li",null,I18n.t("Has certificate")),s.default.createElement("li",null,I18n.t("Duration")," ",s.default.createElement("span",null,"number"==typeof n.estimatedTime?I18n.t("min",{count:n.estimatedTime}):I18n.t("calculating"))),n.openBook&&s.default.createElement("li",{key:"open_book"},I18n.t("Open Book")),s.default.createElement("li",null,this.props.settingsExpander))))},updateTitle:function(e){this._emitChange({title:e})},updateDescription:function(e){this.setState({editingDescription:!0,description:e.target.value})},saveDescription:function(){var e=this,t=this.state.description;this.setState({editingDescription:!1},function(){e._emitChange({description:t})})},_emitChange:function(e){this.props.onChange&&this.props.onChange(e)}});e.exports=E},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(67),i=n(31),o=n(3),l=o.bool,u=o.shape,c=o.string,d=o.arrayOf,p=r.createClass({displayName:"Nav",propTypes:{course:u({id:c}),canViewSubAccounts:l,placements:d(n(84))},getDefaultProps:function(){return{course:{},canViewSubAccounts:!1,placements:[]}},setScrollPosition:function(){var e=a.findDOMNode(this.refs.nav);if(null!==e){var t=e.querySelector(".active");"undefined"!=typeof e.scrollLeft&&null!==t&&(e.scrollLeft=t.offsetLeft-36)}},render:function(){var e=this.props.course,t=["large-content-area--padded","centered","clearfix","button-set","horizontal-scrolling-nav__container"].join(" ");return setTimeout(this.setScrollPosition,0),r.createElement("nav",{ref:"nav",className:"button-set-nav horizontal-scrolling-nav"},r.createElement("div",{className:t},r.createElement(s,{to:"author.course.summary",params:{courseId:e.id||""},className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item",children:I18n.t("Summary")}),r.createElement(s,{to:"author.course.learners",params:{courseId:e.id||""},className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item",children:I18n.t("Learners")}),r.createElement(s,{to:"author.course.groups",params:{courseId:e.id||""},className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item",children:I18n.t("Groups")}),r.createElement(s,{to:"author.course.attachments",params:{courseId:e.id||""},className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item",children:I18n.t("Attachments")}),i.get("DOMAIN.root")&&e.subAccount.isRoot&&e.subAccount.subAccountsExist&&this.props.canViewSubAccounts&&r.createElement(s,{to:"author.course.affiliated-accounts",params:{courseId:e.id||""},className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item","data-capybara":"affiliated-accounts",children:I18n.t("Affiliated Accounts")}),this.renderLtiPlacementTabs()))},renderLtiPlacementTabs:function(){var e=this.props,t=e.course,n=e.placements;return n.map(function(e){return r.createElement(s,{to:"author.course.placement",key:"placement"+e.id,params:{placementId:e.id,courseId:t.id},className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item",children:e.text})})}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1461),o=r(i),l=n(644),u=r(l),c=n(300),d=r(c),p=n(2337),f=r(p),m=n(355),h=r(m),g=n(66),v=r(g),_=n(3),y=n(20),b=r(y),E=s.default.createClass({displayName:"Settings",propTypes:{course:n(45),canEdit:_.bool,canEditOnAccount:_.bool,canEditLibrary:_.bool,canExpire:_.bool,canAddTag:_.bool,canCreateTag:_.bool,canRemoveTag:_.bool,onChange:_.func},componentDidMount:function(){o.default.addChangeListener(this.reload)},componentWillUnmount:function(){
o.default.removeChangeListener(this.reload)},render:function(){var e=this.props,t=e.course,n=e.canEdit,r=e.canEditOnAccount,a=e.canEditLibrary,i=e.canExpire,l=e.canAddTag,u=e.canCreateTag,c=e.canRemoveTag,p=(0,b.default)("learn_course_archive")&&t.isArchived;return s.default.createElement("div",null,s.default.createElement("div",{className:"layout--item-header__expansion-section"},s.default.createElement("div",null,s.default.createElement("h3",null,I18n.t("Tags")),s.default.createElement(d.default,{tags:t.tags||[],disabled:!l||o.default.isBusy()||p,canAdd:l,canCreate:u,canRemove:c,onRemove:this.removeTag,onCreate:this.createTag,onInput:this.handleInput}))),s.default.createElement("div",{className:"layout--item-header__expansion-section"},s.default.createElement(f.default,{course:this.props.course,canEdit:n&&!p,canEditOnAccount:r&&!p,canEditLibrary:a&&!p,canExpire:i&&!p,onChange:this.props.onChange})))},reload:function(){this.forceUpdate()},createTag:function(e){var t=this.props.course;0!==e.length&&(t.tags.indexOf(e)>-1||(this.props.canCreateTag?h.default.tagCourse(t.id,e):h.default.softTagCourse(t.id,e)))},removeTag:function(e){var t=this.props.course;t.tags.indexOf(e)>-1&&h.default.untagCourse(t.id,e)},handleInput:(0,v.default)(function(e){u.default.search({term:e,contextId:this.props.course.id,contextType:"course_template"})},200)});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(69),o=r(i),l=n(132),u=r(l),c=n(436),d=r(c),p=n(2333),f=r(p),m=n(777),h=r(m),g=n(2332),v=r(g),_=n(55),y=r(_),b=n(599),E=r(b),C=n(324),I=n(64),T=r(I),N=n(60),S=r(N),x=n(20),A=r(x),k=n(136),w=n(3),R=n(31),O=r(R),P=n(4),L=n(12),M=r(L),D=s.default.createClass({displayName:"SettingsMeta",propTypes:{course:n(45).isRequired,canEdit:w.bool,canEditOnAccount:w.bool,canEditLibrary:w.bool,canExpire:w.bool,onChange:w.func},render:function(){var e=this.props,t=e.canEdit,n=e.canEditOnAccount,r=e.canEditLibrary,a=e.canExpire,i=e.course,l=i.defaultDaysUntilDue||0,c=t||n;return s.default.createElement(u.default,null,s.default.createElement(u.default.Column,null,s.default.createElement("h3",null,I18n.t("General")),s.default.createElement(h.default,{canEdit:c,daysUntilDue:l,dueOnDate:i.defaultDueOnDate,dueDateType:i.dueDateType,daysUntilExpiration:i.defaultDaysUntilExpiration,emitChange:this.emitChange,learnableName:"course"}),s.default.createElement(d.default,{course:i,courseType:"course_template",canExpire:a,minDaysUntilExpiration:i.defaultDaysUntilDue+1,onExpiresChanged:this.updateExpires,onAutoReEnrollChanged:this.updateAutoReEnroll,onDefaultDaysUntilExpirationChanged:this.updateDefaultDaysUntilExpiration,onReEnrollmentPeriodChanged:this.updateReEnrollmentPeriod}),s.default.createElement(u.default.Label,null,I18n.t("Certificate")),s.default.createElement(u.default.Field,{"data-capybara":"course-settings__has-certificate"},s.default.createElement(y.default,{disabled:!c,checked:i.hasCertificate,onChange:this.updateHasCertificate})),(0,k.isExternalCourseIdEnabled)()&&[s.default.createElement(u.default.Label,{key:"external-0"},I18n.t("External ID")),s.default.createElement(u.default.Field,{key:"external-1","data-capybara":"course-settings__external-course-id"},s.default.createElement(E.default,{externalId:i.externalCourseId,canEdit:n,onChange:this.updateExternalCourseId}))],s.default.createElement(u.default.Label,{key:"external-2"},I18n.t("Duration")),s.default.createElement(u.default.Label,{className:"course-meta-grid__sneak-up",key:"duration-0","data-capybara":"course-settings__duration"},s.default.createElement(o.default,{growInPlace:!0,value:String("number"==typeof i.estimatedTime?i.estimatedTime:""),readOnly:!t,onChange:this.updateEstimatedTime,validEditRegex:/^\d*$/,inputClassNames:"light blue-grey border-trbl",maxLength:"3"},s.default.createElement("span",{className:t&&"blue"},"number"==typeof i.estimatedTime?I18n.t("min",{count:i.estimatedTime}):I18n.t("calculating")))),(0,A.default)("continuing_education_credits")&&s.default.createElement(v.default,{credits:Number(i.continuingEducationCredits),canEdit:n,onChange:this.updateContinuingEducationCredits}),this.showScormSettings()&&[s.default.createElement(u.default.Label,{key:"scorm-opens-in-0"},I18n.t("Opens in")),s.default.createElement(u.default.Field,{key:"scorm-opens-in-1",className:t?"course-meta-grid__sneak-up":"","data-capybara":"course-settings__scorm-opens-in"},t&&s.default.createElement(T.default,{onChange:this.updateScoLaunchType,selectedValue:i.scorm.scoLaunchType},(0,C.getScormScoLaunchTypes)().map(function(e){return s.default.createElement(S.default,{className:"small blue",key:e.value,value:e.value,label:e.label()})})),!t&&s.default.createElement("span",{className:"false"},(0,C.getScormScoLaunchTypes)().filter(function(e){return e.value===i.scorm.scoLaunchType})[0].label()))],(0,A.default)("learn_maintain_course_branding_in_sub")&&this.showBrandingSettings()&&[s.default.createElement(u.default.Label,{key:"sub-account-branding-0"},I18n.t("Maintain Branding When Shared to Sub-Accounts")),s.default.createElement(u.default.Field,{key:"sub-account-branding-1","data-capybara":"course-settings__maintain-branding-in-sub-account"},s.default.createElement(y.default,{disabled:!c,checked:i.maintainBrandingInSubAccount,onChange:this.updateMaintainBrandingInSubAccount}))]),s.default.createElement(u.default.Column,null,s.default.createElement("h3",null,I18n.t("Quiz")),s.default.createElement(u.default.Label,null,I18n.t("Required Score")),s.default.createElement(u.default.Field,{className:"course-meta-grid__sneak-up","data-capybara":"course-settings__passing-threshold"},s.default.createElement(o.default,{growInPlace:!0,value:String(i.passingThreshold||0),readOnly:!t,onChange:this.updatePassingThreshold,validEditRegex:/^(\d{1,2}|100)$/,inputClassNames:"light blue-grey border-trbl",maxLength:"3"},s.default.createElement("span",{className:t&&"blue"},i.passingThreshold,"%"))),s.default.createElement(f.default,{maxQuizAttempts:Number(i.maxQuizAttempts),canEdit:t,onChange:this.updateMaxQuizAttempts}),!i.isExternal&&[s.default.createElement(u.default.Label,{key:"show-correct-response-0"},I18n.t("Show Correct Response")),s.default.createElement(u.default.Field,{"data-capybara":"course-settings__show-correct-response",key:"show-correct-response-1"},s.default.createElement(y.default,{disabled:!t,checked:i.showCorrectResponse,onChange:this.updateShowCorrectResponse}))],!i.isExternal&&[s.default.createElement(u.default.Label,{key:"open-book-0"},I18n.t("Open Book Quiz")),s.default.createElement(u.default.Field,{"data-capybara":"course-settings__open-book",key:"open-book-1"},s.default.createElement(y.default,{disabled:!c,checked:i.openBook,onChange:this.updateOpenBook}))],this.showScormSettings()&&[s.default.createElement(u.default.Label,{key:"score-calc-0"},I18n.t("Score calculated using")),s.default.createElement(u.default.Field,{key:"score-calc-1",className:t?"course-meta-grid__sneak-up":"","data-capybara":"course-settings__scorm-calc"},t&&s.default.createElement(T.default,{className:"course-meta-grid__combo-box",onChange:this.updateScoreRollupMode,selectedValue:i.scorm.scoreRollupMode},(0,C.getScormScoreRollupModes)().map(function(e){return s.default.createElement(S.default,{className:"small blue",key:e.value,value:e.value,label:e.label()})})),!t&&s.default.createElement("span",{className:"false"},(0,C.getScormScoreRollupModes)().filter(function(e){return e.value===i.scorm.scoreRollupMode})[0].label()))],(!(0,A.default)("learn_libraryitem_relevance")||this.showScormSettings())&&s.default.createElement("h3",null,I18n.t("Publishing")),!(0,A.default)("learn_libraryitem_relevance")&&[s.default.createElement(u.default.Label,{key:"in-library-label"},I18n.t("In Library")),s.default.createElement(u.default.Field,{key:"in-library-toggle","data-capybara":"course-settings__in-library"},s.default.createElement(y.default,{disabled:!(r&&n),checked:i.isLibraryItem,onChange:this.updateInLibrary}))],this.showScormSettings()&&[s.default.createElement(u.default.Label,{key:"scorm-registration-instancing-0"},I18n.t("Migrating Enrollments"),s.default.createElement("div",{className:"x-small dark-grey"},"(",I18n.t("for new versions of this course"),")")),s.default.createElement(u.default.Field,{key:"scorm-registration-instancing-1",className:t?"course-meta-grid__sneak-up":"","data-capybara":"course-settings__scorm-registration-instancing"},t&&s.default.createElement(T.default,{onChange:this.updateRegistrationInstancingOption,selectedValue:i.scorm.registrationInstancingOption},(0,C.getScormRegistrationInstancingOptions)().map(function(e){return s.default.createElement(S.default,{className:"small blue",key:e.value,value:e.value,label:e.label()})})),!t&&s.default.createElement("span",{className:"false"},(0,C.getScormRegistrationInstancingOptions)().filter(function(e){return e.value===i.scorm.registrationInstancingOption})[0].label()))]))},showScormSettings:function(){return M.default.COURSE_TYPES_WITH_SCORM_ATTRIBUTES.indexOf(this.props.course.courseType)!==-1&&this.props.course.externalStatus!==M.default.COURSE_EXTERNAL_STATUS_PENDING},showBrandingSettings:function(){var e=this.props.course;return O.default.get("DOMAIN.root")&&(0,P.get)(e,"subAccount.isRoot")&&(0,P.get)(e,"subAccount.subAccountsExist")},updatePassingThreshold:function(e){this.emitChange({passingThreshold:parseInt(e,10)})},updateMaxQuizAttempts:function(e){this.emitChange({maxQuizAttempts:0===e?null:e})},updateContinuingEducationCredits:function(e){this.emitChange({continuingEducationCredits:0===e?null:e})},updateHasCertificate:function(e){this.emitChange({hasCertificate:e.target.checked})},updateInLibrary:function(e){this.emitChange({id:this.props.course.id,inLibrary:e.target.checked})},updateEstimatedTime:function(e){var t=e.match(/^\d+$/)?parseInt(e,10):null;this.emitChange({estimatedTime:t})},updateExpires:function(e){var t={expires:e};e&&(t.autoReEnroll=!0),this.emitChange(t)},updateDefaultDaysUntilExpiration:function(e){this.emitChange({defaultDaysUntilExpiration:e})},updateReEnrollmentPeriod:function(e){this.emitChange({reEnrollmentPeriod:e})},updateExternalCourseId:function(e){this.emitChange({externalCourseId:e})},updateAutoReEnroll:function(e){this.emitChange({autoReEnroll:e})},updateOpenEnrollment:function(e){this.emitChange({openEnrollment:e.target.checked})},updateOpenBook:function(e){this.emitChange({openBook:e.target.checked})},updateShowCorrectResponse:function(e){this.emitChange({showCorrectResponse:e.target.checked})},updateMaintainBrandingInSubAccount:function(e){this.emitChange({maintainBrandingInSubAccount:e.target.checked})},updateRegistrationInstancingOption:function(e){this.emitChange({scorm:{registrationInstancingOption:e,scoLaunchType:this.props.course.scorm.scoLaunchType,scoreRollupMode:this.props.course.scorm.scoreRollupMode}})},updateScoLaunchType:function(e){this.emitChange({scorm:{registrationInstancingOption:this.props.course.scorm.registrationInstancingOption,scoLaunchType:e,scoreRollupMode:this.props.course.scorm.scoreRollupMode}})},updateScoreRollupMode:function(e){this.emitChange({scorm:{registrationInstancingOption:this.props.course.scorm.registrationInstancingOption,scoLaunchType:this.props.course.scorm.scoLaunchType,scoreRollupMode:e}})},emitChange:function(e){this.props.onChange&&this.props.onChange(e)}});t.default=D,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2330),o=r(i),l=n(93),u=r(l),c=n(34),d=r(c),p=n(109),f=r(p),m=n(222),h=r(m),g=n(355),v=r(g),_=n(106),y=r(_),b=n(22),E=r(b),C=n(1297),I=r(C),T=n(314),N=n(2379),S=r(N),x=n(3),A=n(12),k=s.default.createClass({displayName:"AuthorCourse",propTypes:{course:n(45),isBridgeRetainOnboardingPending:x.bool,placements:(0,x.arrayOf)(n(84))},getDefaultProps:function(){return{course:{}}},componentDidMount:function(){this.pollImportingStatus()},componentDidUpdate:function(){this.pollImportingStatus()},render:function(){var e=this.props,t=e.course,n=e.placements,r=I.default.parse(t),a=(0,S.default)(t);return s.default.createElement(o.default,{course:r,placements:n,permissions:a,currentUserIsSupport:d.default.isSupport(),isBridgeRetainOnboardingPending:this.props.isBridgeRetainOnboardingPending},s.default.createElement(u.default,this.props))},pollImportingStatus:function(){var e=this;this.poller||this.props.course.externalStatus!==A.COURSE_EXTERNAL_STATUS_PENDING&&this.props.course.externalStatus!==A.COURSE_EXTERNAL_STATUS_PUBLISHPENDING||(this.poller=setTimeout(function(){v.default.fetchCourseAndRedirectIfNotFound(e.props.course.id),e.poller=null},A.COURSE_EXTERNAL_STATUS_POLLING_FREQUENCY))}});t.default=(0,E.default)({type:(0,y.default)(k,function(e){return(0,T.getDisplayTitle)(e.course)}),blocking:!0,asyncProps:{course:n(748),placements:{setup:function(e){h.default.addChangeListener(e)},fetch:function(){return h.default.fetchAll("course_tabs")},get:function(){return h.default.getAll("course_tabs")},teardown:function(e){h.default.removeChangeListener(e)}},isBridgeRetainOnboardingPending:{get:function(){return d.default.isBridgeRetainOnboardingPending()},setup:function(e){f.default.addChangeListener(e)},teardown:function(e){f.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.course",path:"/author/courses/:courseId",loadOrder:3,ember:{parentPath:["author"],sink:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(585),o=r(i),l=n(53),u=r(l),c=n(239),d=r(c),p=n(274),f=r(p),m=n(22),h=r(m),g=n(3),v=n(636),_=r(v),y=n(29),b=r(y),E="CourseTemplate",C=s.default.createClass({displayName:"AffiliatedAccounts",mixins:[(0,u.default)(function(e){_.default.fetchNext(e.params.courseId,E,e.query.sort)}),d.default,(0,f.default)(function(e){return _.default.fetch(e.params.courseId,E,e.query.sort)})],propTypes:{course:n(45),accounts:(0,g.arrayOf)(n(156)),query:g.object},render:function(){return s.default.createElement(o.default,{accounts:this.props.accounts,onChange:this.changeAffiliation,canShare:(0,b.default)("affiliated_sub_account_share"),isReadOnly:this.props.course&&this.props.course.isArchived})},changeAffiliation:function(e,t){t?_.default.share(this.props.course.id,E,e):_.default.revoke(this.props.course.id,E,e)}});t.default=(0,h.default)({type:C,asyncProps:{accounts:{get:function(e){return _.default.getAll(e.params.courseId,E,e.query.sort)},setup:function(e){_.default.addChangeListener(e)},teardown:function(e){_.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.course.affiliated-accounts",path:"affiliated-accounts",parent:"author.course",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(763),o=r(i),l=n(3),u=n(221),c=r(u),d=n(22),p=r(d),f=n(37),m=r(f),h=n(53),g=r(h),v=n(29),_=r(v),y=n(4),b=s.default.createClass({displayName:"AttachmentView",mixins:[(0,m.default)({mobile:m.default.QUERY_MOBILE}),(0,g.default)(function(e){c.default.fetchNext({type:"course_templates",id:e.course.id},e.query.sort,e.query.search)})],propTypes:{course:n(45),attachments:(0,l.shape)({all:l.array,pending:l.array}),query:(0,l.shape)({sort:l.string,search:l.string})},render:function(){var e={type:"course_template",id:this.props.course.id},t=(0,_.default)("course_template_update",e);return s.default.createElement(o.default,{context:{type:"course_templates",id:this.props.course.id},canEdit:t,isMobile:this.state.media.mobile,attachments:this.props.attachments,sort:this.props.query.sort,search:this.props.query.search,isReadOnly:this.props.course.isArchived})}});t.default=(0,p.default)({type:b,asyncProps:{attachments:{fetch:function(e){return c.default.fetchByContext({type:"course_templates",id:e.params.courseId},e.query.sort,e.query.search)},get:function(e){return c.default.getByContext({type:"course_templates",id:e.params.courseId},e.query.sort,e.query.search)},shouldRefetch:function(e,t){return!(0,y.isEqual)(e.query,t.query)},setup:function(e){c.default.addChangeListener(e)},teardown:function(e){c.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.course.attachments",path:"attachments",parent:"author.course",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(93),s=r.createClass({displayName:"Groups",render:function(){return r.createElement("div",{className:"large-content-area--padded centered","data-capybara":"groups_area"},r.createElement(a,this.props))}});e.exports=s},function(e,t){"use strict";e.exports={name:"author.course.groups",path:"groups",parent:"author.course",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(18),o=r(i),l=n(1288),u=r(l),c=n(2),d=n(301),p=r(d),f=s.default.createClass({displayName:"ActionBar",propTypes:{onAddGroup:c.func,permissions:(0,c.shape)({enroll:c.bool}),dueOnDateEnabled:c.bool,dueDatePast:c.bool,isArchived:c.bool},render:function(){return s.default.createElement(u.default,null,this.props.permissions.enroll&&this.renderAddGroupButton())},renderAddGroupButton:function(){return this.props.isArchived?null:this.props.dueOnDateEnabled?this.renderWarningButton():this.renderDefaultButton(this.props.onAddGroup)},renderDefaultButton:function(e){return s.default.createElement(o.default,{className:"btn secondary right margin-t-xs btn--group-add",onClick:e,children:I18n.t("+ Group"),"data-capybara":"group_btn"})},renderWarningButton:function(){var e=I18n.t("Be careful..."),t=this.getMessage(),n=[{message:t,isPink:!1}],r=I18n.t("Add Group");return s.default.createElement(p.default,{className:"right",iconClassName:"gs-caution gs-2x orange",title:e,messages:n,confirmationText:r,onConfirmClick:this.props.onAddGroup},this.renderDefaultButton())},getMessage:function(){return this.props.dueDatePast?I18n.t("This course has a due date in the past. If you enroll new groups without changing it, they will already be overdue."):I18n.t("This course has a fixed due date. If any users are added to an enrolled group, they will be enrolled in this course, even if they will be overdue.")}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(88),u=r(l),c=n(50),d=n(5),p=n(18),f=r(p),m=n(124),h=r(m),g=n(37),v=r(g),_=n(6),y=r(_),b=n(67),E=r(b),C=n(616),I=r(C),T=n(2),N=n(20),S=r(N),x=n(652),A=r(x),k=o.default.createClass({displayName:"Group",mixins:[u.default.mixin,(0,v.default)({mobile:v.default.QUERY_MOBILE})],propTypes:{onRemove:T.func,onEditGroup:T.func,courseId:T.string,permissions:(0,T.shape)({unenroll:T.bool}).isRequired,group:(0,T.shape)({id:T.string,name:T.string,averageScore:T.number,courseCompletionCount:T.number,relevance:T.string}).isRequired,isReadOnly:T.bool},handleEditGroup:function(){this.props.onEditGroup(this.props.group)},render:function(){var e=this.props.group,t=(0,y.default)({"border-b":!0,"border-grey":!0,"enrollment-list-item--archived":this.props.isReadOnly}),n="pure-u-3-4",r="pure-u-1-4";return(0,S.default)("learn_group_relevance")&&(n="pure-u-3-5",r="pure-u-1-5"),this.isConfirmingRemoval()?this.renderRemovalForm(t):o.default.createElement(c.Tr,{className:t,mobileClassNames:"pure-g"},o.default.createElement(c.Td,{mobileClassNames:n,"data-capybara":"enrollment-group"},this.renderLinkToGroups()),(0,S.default)("learn_libraryitem_relevance")&&o.default.createElement(c.Td,{mobileClassNames:"pure-u-1-5"},o.default.createElement("button",{className:"group-list__relevance btn--reset",onClick:this.handleEditGroup,disabled:this.props.isReadOnly,"data-capybara":"relevance_btn"},o.default.createElement("span",{className:"button-focus-flat__label"},(0,A.default)(this.props.group.relevance)))),o.default.createElement(c.Td,{mobileClassNames:"hidden",className:"enrollment-list-item__group-score"},e.averageScore),o.default.createElement(c.Td,{mobileClassNames:"hidden",className:"enrollment-list-item__group-count"},e.courseCompletionCount),o.default.createElement(c.Td,{mobileClassNames:r},this.canRemoveGroup()&&o.default.createElement(f.default,{onClick:this.confirmRemoval,className:"text-right btn--reset remove-group full-width full-height"},o.default.createElement("span",{className:"screenreader-only"},I18n.t("Remove Group")),o.default.createElement(d.Icon,{className:"gs-x gs-1x dark-grey"}))))},renderLinkToGroups:function(){var e=this.props,t=e.group,n=e.courseId,r="author.course.groups.show",a={courseId:n||"",groupId:t.id||""};return(0,S.default)("learn_group_relevance")&&"enrolled"!==t.relevance&&(r="author.group",a={groupId:t.id}),o.default.createElement(E.default,{to:r,params:a,className:"block indigo enrollment-list-item__group-link"},o.default.createElement(h.default,(0,s.default)({className:"left margin-r-s"},t)),o.default.createElement("span",{className:"avatar__label"},t.name))},renderRemovalForm:function(e){var t=this.props.group;return o.default.createElement(c.Tr,{className:e},o.default.createElement(c.Td,{colSpan:"5",mobileClassNames:"pure-u-1",className:"padding-none"},o.default.createElement(I.default,{itemTitle:o.default.createElement("span",null,o.default.createElement(h.default,(0,s.default)({className:"left avatar--enrollment"},t)),o.default.createElement("span",{className:"left margin-trl-xs"},t.name)),promptText:this.state.media.mobile?I18n.t("Delete?"):I18n.t("Delete Group?"),onCancel:this.cancelRemoval,onRemove:this.onRemove,removeButtonText:I18n.t("Delete")})))},onRemove:function(){this.cancelRemoval(),this.props.onRemove()},canRemoveGroup:function(){var e=this.props,t=e.isReadOnly,n=e.permissions,r=e.group;return(!(0,S.default)("learn_libraryitem_relevance")||"domain"!==r.type||void 0!==r.relevance)&&(!t&&n.unenroll)}});t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(50),u=n(27),c=r(u),d=n(29),p=r(d),f=n(2347),m=r(f),h=n(12),g=n(20),v=r(g),_=o.default.createClass({displayName:"Groups",propTypes:{groups:s.default.array,course:s.default.object,canDelete:s.default.bool,onUnenroll:s.default.func.isRequired,onEditGroup:s.default.func.isRequired,sort:s.default.string,children:s.default.node},getDefaultProps:function(){return{course:{},groups:[]}},canUnenroll:function(e){switch(e.type){case h.GROUP_TYPES.GROUP:return(0,p.default)("group_enrollment_destroy",e);case h.GROUP_TYPES.SMART:return(0,p.default)("smart_group_enrollment_destroy",e);case h.GROUP_TYPES.DOMAIN:return(0,p.default)("domain_group_enrollment_destroy",e);case h.GROUP_TYPES.TEAM:return(0,p.default)("team_enrollment_destroy",e);default:throw new Error("Unsupported group type: "+e.type)}},render:function(){var e="th-25";return(0,v.default)("learn_libraryitem_relevance")&&(e="th-20"),o.default.createElement("div",{className:"group-list","data-capybara":"groups_list"},o.default.createElement(l.Table,{sort:this.props.sort,className:"group-list-table"},o.default.createElement(l.Thead,{className:"group-list-item__header"},o.default.createElement(l.Tr,null,o.default.createElement(l.Th,{sortParam:"name",className:"th-40"},I18n.t("Name")),(0,v.default)("learn_libraryitem_relevance")&&o.default.createElement(l.Th,{sortParam:"relevance",className:e},I18n.t("Relevance")),o.default.createElement(l.Th,{sortParam:"averageScore",className:e},I18n.t("Avg. Score")),o.default.createElement(l.Th,{sortParam:"courseCompletionCount",className:e},I18n.t("# Complete")),o.default.createElement(l.Th,{className:"sortable-table__th--icon",sortable:!1},this.props.canDelete&&o.default.createElement(c.default,{children:I18n.t("Remove Group")})))),o.default.createElement(l.Tbody,null,this.props.children,this.props.groups.map(this.renderGroup))))},renderGroup:function(e){return o.default.createElement(m.default,{key:"group-"+e.id,group:e,onEditGroup:this.props.onEditGroup,courseId:this.props.course.id,onRemove:this.props.onUnenroll.bind(null,e.id),isReadOnly:this.props.course.isArchived,permissions:{unenroll:this.canUnenroll(e)}})}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(90),l=n(50),u=l.Tr,c=l.Td,d=n(124),p=n(5),f=p.Icon,m=n(18),h=n(27),g=n(2),v=g.func,_=g.string,y=g.shape,b=g.arrayOf,E=i.createClass({displayName:"InlineEditor",propTypes:{onSearch:v,onEnroll:v,onCancel:v,results:b(y({id:_,name:_}))},getDefaultProps:function(){return{results:[]}},componentDidMount:function(){this.refs.combobox.focusInput()},render:function(){return i.createElement(u,{mobileClassNames:"pure-g"},i.createElement(c,{colSpan:"3",mobileClassNames:"pure-u-7-8"},i.createElement(o,{ref:"combobox",autocomplete:"list",className:"search-bar search-bar--group-add",inputClassName:"ic-autocomplete-input",onInput:this.props.onSearch,onSelect:this.props.onEnroll,placeholder:I18n.t("Enter a name to find a group"),children:this.props.results.map(this.renderResult)})),i.createElement(c,{mobileClassNames:"pure-u-1-8"},i.createElement(m,{onClick:this.props.onCancel,className:"btn--reset text-right full-width padding-s"},i.createElement(h,null,I18n.t("Cancel")),i.createElement(f,{className:"gs-x gs-1x dark-grey"}))))},renderResult:function(e){return i.createElement(o.Option,{className:"search-results__result",key:"result-"+e.id,value:e.id,label:e.name},i.createElement(d,(0,s.default)({className:"left"},e)),i.createElement("span",{className:"padding-l-xs"},e.name))}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2348),o=r(i),l=n(2346),u=r(l),c=n(2349),d=r(c),p=n(603),f=r(p),m=n(355),h=r(m),g=n(3),v=n(20),_=r(v),y=n(19),b=r(y),E=n(52),C=r(E),I=n(11),T=r(I),N=s.default.createClass({displayName:"AuthorCourseGroupListing",propTypes:{permissions:(0,g.shape)({enroll:g.bool}),query:(0,g.shape)({sort:g.string,search:g.string}),groups:(0,g.arrayOf)(n(51)),course:n(45),searchResults:(0,g.arrayOf)(n(42)),dataReload:g.func},getInitialState:function(){return{enrolling:!1,groupToEdit:null}},getDefaultProps:function(){return{groups:[],searchResults:[]}},toggleEditor:function(){this.setState(function(e){return{enrolling:!e.enrolling}})},hideEditor:function(){this.setState({enrolling:!1,groupToEdit:null})},editGroup:function(e){this.setState({enrolling:!0,groupToEdit:e})},render:function(){var e=this.props.course,t=!!e.defaultDueOnDate&&(0,T.default)().diff(e.defaultDueOnDate,"days")>0;return s.default.createElement("div",null,s.default.createElement(u.default,{onAddGroup:this.toggleEditor,permissions:this.props.permissions,dueOnDateEnabled:!!e.defaultDueOnDate,dueDatePast:t,isArchived:e.isArchived}),s.default.createElement("div",{className:"left indigo"},s.default.createElement(C.default,{searchTerm:this.props.query.search,placeholderText:I18n.t("Search for enrolled groups")})),s.default.createElement(o.default,{sort:this.props.query.sort,course:e,groups:this.props.groups,onUnenroll:this.unenroll,onEditGroup:this.editGroup},!(0,_.default)("learn_group_relevance")&&this.state.enrolling&&s.default.createElement(d.default,{results:this.props.searchResults,searchMemberMessage:I18n.t("Already In Course"),onSearch:this.search,onEnroll:this.enroll,onCancel:this.hideEditor})),0===this.props.groups.length&&!this.state.enrolling&&s.default.createElement("div",{className:"border-b border-grey centered padding-m"},s.default.createElement("p",{className:"text-center dark-grey no-groups-message","data-capybara":"no-groups-message"},this.props.query.search?I18n.t("There are no groups matching your criteria."):I18n.t("You haven't invited any groups yet."))),(0,_.default)("learn_group_relevance")&&this.state.enrolling&&s.default.createElement(f.default,{title:this.state.groupToEdit?I18n.t("Edit Relevance"):I18n.t("Add a group"),searchPlaceholder:I18n.t("Enter a name to find a group"),group:this.state.groupToEdit,results:this.props.searchResults,onCancel:this.hideEditor,onEnroll:this.addOrUpdateGroups,onSearch:this.search}))},enroll:function(e){h.default.enrollGroups(this.props.course.id,[e],this.props.query.sort).then(function(){(0,b.default)(I18n.t("Enrolling the group. For a large group, it may take a few moments before individual learners appear."))},function(e){(0,b.default)(e,{type:"error"})})},addOrUpdateGroups:function(e){var t=this.props.query,n=t.sort,r=t.search,a=e.some(function(e){return"enrolled"===e.relevance}),s=this.state.groupToEdit?h.default.updateGroups:h.default.addGroups;return s(this.props.course.id,e,n,r).then(function(){a&&(0,b.default)(I18n.t("Enrolling groups. For large groups, it may take a few moments before individual learners appear."))},function(e){(0,b.default)(e,{type:"error"})})},unenroll:function(e){h.default.unenrollGroup(this.props.course.id,this.props.query.sort,this.props.query.search,e)},search:function(e){h.default.searchGroups(e,this.props.course.id)}});e.exports=N},function(e,t,n){"use strict";var r=n(1),a=n(2350),s=n(29),i=n(196),o=n(747),l=n(385),u=n(239),c=n(274),d=n(53),p=n(22),f=n(20),m=n(3),h=m.func,g=m.shape,v=m.arrayOf,_=m.string,y=n(4),b=r.createClass({displayName:"GroupIndex",mixins:[u,c(function(e){return f("learn_libraryitem_relevance")?l.fetch("CourseTemplate",e.params.courseId,e.query.sort,e.query.search):o.fetch(e.params.courseId,e.query.sort,e.query.search)}),d(function(e){return f("learn_libraryitem_relevance")?l.fetchNext("CourseTemplate",e.params.courseId,e.query.sort,e.query.search):o.fetchNext(e.params.courseId,e.query.sort,e.query.search)})],propTypes:{groups:v(n(51)),course:n(45),searchResults:v(n(42)),query:g({sort:_,search:_}),onDataChange:h},canEnroll:function(){var e=["group_enrollment_create","team_enrollment_create","domain_group_enrollment_create","smart_group_enrollment_create"];return y.some(e,function(e){return s(e)})},render:function(){var e=this.props.onDataChange;return r.createElement(a,{dataReload:e,query:this.props.query,course:this.props.course,groups:this.props.groups,searchResults:this.props.searchResults,permissions:{enroll:this.canEnroll()}})}});e.exports=p({type:b,asyncProps:{groups:{get:function(e){return f("learn_libraryitem_relevance")?l.getAll("CourseTemplate",e.params.courseId,e.query.sort,e.query.search):o.getAll(e.params.courseId,e.query.sort,e.query.search)},setup:function(e){f("learn_libraryitem_relevance")?l.addChangeListener(e):o.addChangeListener(e)},teardown:function(e){f("learn_libraryitem_relevance")?l.removeChangeListener(e):o.removeChangeListener(e)}},searchResults:{get:function(){return i.getFound()},setup:function(e){i.addChangeListener(e)},teardown:function(e){i.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.course.groups.index",parent:"author.course.groups",default:!0,ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=n(1),l=n(5),u=l.Icon,c=n(124),d=n(1288),p=o.createClass({displayName:"Breadcrumb",propTypes:{group:i.shape({id:i.string,name:i.string})},getDefaultProps:function(){return{group:{}}},render:function(){var e=this.props.group;return o.createElement(d,null,o.createElement("div",{className:"left padding-t-xxs margin-t-xs"},o.createElement(u,{className:"left gs-1x gs-arrow-right margin-rl-xs padding-t-xxs"}),o.createElement("div",{className:"left clearfix"},o.createElement(c,(0,s.default)({},e,{className:"left"})),o.createElement("span",{className:"left margin-l-xs avatar__label"},e.name))))}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(2353),s=n(1293),i=n(3),o=i.arrayOf,l=i.dataModel,u=i.shape,c=i.string,d=r.createClass({displayName:"View",propTypes:{learners:o(n(157)),enrollments:o(l(n(419))),group:n(51),query:u({search:c})},render:function(){
return r.createElement("div",null,r.createElement(a,{group:this.props.group}),r.createElement("div",{className:"group-list"},r.createElement(s,{enrollments:this.props.enrollments,learners:this.props.learners,search:this.props.query.search,onSort:this.sort})))}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(747),s=n(356),i=n(2354),o=n(239),l=n(274),u=n(53),c=n(22),d=n(3),p=d.func,f=d.arrayOf,m=d.dataModel,h=d.object,g=d.shape,v=d.string,_=r.createClass({displayName:"GroupShow",mixins:[o,l(function(e){return s.fetch(e.params.courseId,e.query.sort,e.query.search,e.params.groupId)}),u(function(e){s.fetchNext(e.params.courseId,e.query.sort,e.query.search,e.params.groupId)})],propTypes:{learners:f(n(157)),enrollments:f(m(n(419))),group:n(51),query:g({sort:v,search:v}),params:h,onDataChange:p},reloadData:function(){this.props.onDataChange()},render:function(){return r.createElement(i,{dataReload:this.reloadData,query:this.props.query,enrollments:this.props.enrollments,learners:this.props.learners,group:this.props.group})}});e.exports=c({type:_,asyncProps:{enrollments:n(1291),learners:n(1292),group:{fetch:function(e){return a.fetchOne(e.params.courseId,e.params.groupId)},get:function(e){return a.get(e.params.groupId)},setup:function(e){a.addChangeListener(e)},teardown:function(e){a.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.course.groups.show",parent:"author.course.groups",path:":groupId",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(13),o=r(i),l=n(18),u=r(l),c=n(133),d=r(c),p=n(2),f=n(114),m=r(f),h=n(20),g=r(h),v=n(301),_=r(v),y=s.default.createClass({displayName:"ActionBar",propTypes:{courseId:p.string,onAddLearner:p.func,isArchived:p.bool,isMobile:p.bool,hasEnrollments:p.bool,permissions:(0,p.shape)({enroll:p.bool,delete:p.bool,viewReport:p.bool}),reportParams:(0,p.shape)({id:p.string,sort:p.string,course_template_id:p.string}),dueDatePast:p.bool},getDefaultProps:function(){return{isArchived:!1,isMobile:!1,onAddLearner:Function.prototype}},render:function(){var e=!(this.props.isMobile||m.default.isMobile()),t=(0,g.default)("learn_course_archive")&&this.props.isArchived;return s.default.createElement("div",null,this.props.permissions.enroll&&!t&&this.renderAddLearnerButton(),e&&!t&&this.renderCSVButtons(),e&&s.default.createElement("span",null,this.props.hasEnrollments&&this.props.permissions.viewReport&&s.default.createElement(d.default,{className:"margin-t-s margin-r-m right",type:"report",info:this.props.reportParams,children:I18n.t("Export Enrollments"),capybara:"export_csv"})))},renderAddLearnerButton:function(){return this.props.dueDatePast?this.renderWarningButton():this.renderDefaultButton(this.props.onAddLearner)},renderDefaultButton:function(e){return s.default.createElement(u.default,{className:"btn secondary right margin-t-xs",onClick:e,children:I18n.t("+ Learner")})},renderWarningButton:function(){var e=I18n.t("Be careful..."),t=I18n.t("This course has a due date in the past. If you enroll new learners without changing it, they will already be overdue."),n=[{message:t,isPink:!1}],r=I18n.t("Add Learner");return s.default.createElement(_.default,{className:"right",iconClassName:"gs-caution gs-2x orange",title:e,messages:n,confirmationText:r,onConfirmClick:this.props.onAddLearner},this.renderDefaultButton())},renderCSVButtons:function(){var e="author.course.learners.upload",t=[{contextId:this.props.courseId}];return(0,g.default)("learn_enhanced_enrollment_import")&&(e="author.enrollments.import",t.unshift({learnableType:"course"})),s.default.createElement("span",null,this.props.permissions.enroll&&s.default.createElement(o.default,{to:e,params:t,queryParams:{uploadType:"import"},className:"margin-t-s margin-r-m right"},I18n.t("Add via CSV")),this.props.hasEnrollments&&this.props.permissions.delete&&s.default.createElement(o.default,{to:"author.course.learners.upload",params:[{contextId:this.props.courseId}],queryParams:{uploadType:"deport"},className:"margin-t-s margin-r-m right"},I18n.t("Remove via CSV")))}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1293),o=r(i),l=n(2357),u=r(l),c=n(3),d=n(11),p=r(d),f=s.default.createClass({displayName:"LearnersView",propTypes:{course:n(45),searchResults:(0,c.arrayOf)(n(42)),learners:(0,c.arrayOf)(n(157)),enrollments:(0,c.arrayOf)((0,c.dataModel)(n(419))),isMobile:c.bool,isLoading:c.bool,permissions:(0,c.shape)({enroll:c.bool,unenroll:c.bool,delete:c.bool,expire:c.bool,viewReport:c.bool,update:c.bool}),query:(0,c.shape)({sort:c.string,search:c.string})},getInitialState:function(){return{enrolling:!1}},getDefaultProps:function(){return{course:{},isMobile:!1,isLoading:!1,permissions:{enroll:!1,expire:!1,delete:!1,viewReport:!1,update:!1}}},render:function(){var e={id:"CourseEnrollmentsReport",sort:this.props.query.sort,course_template_id:this.props.course.id},t=this.props,n=t.enrollments,r=t.isLoading,a=t.course,i=!!a.defaultDueOnDate&&(0,p.default)().diff(a.defaultDueOnDate,"days")>0;return s.default.createElement("div",{className:"large-content-area--padded centered","data-capybara":"learners_area"},s.default.createElement("div",{className:"sortable-table-header--first-item"},s.default.createElement("h2",{className:"margin-t-xs margin-b-s left"},I18n.t("Learners")),s.default.createElement(u.default,{courseId:a.id,permissions:this.props.permissions,reportParams:e,onAddLearner:this.toggleEditor,isMobile:this.props.isMobile,isArchived:a.isArchived,hasEnrollments:n.length>0&&!r,dueDatePast:i}),s.default.createElement(o.default,{sort:this.props.query.sort,search:this.props.query.search,course:this.props.course,isEnrolling:this.state.enrolling,isLoading:r,enrollments:n,learners:this.props.learners,searchResults:this.props.searchResults,onEditorCancel:this.hideEditor,permissions:this.props.permissions})))},toggleEditor:function(){this.setState({enrolling:!this.state.enrolling})},hideEditor:function(){this.setState({enrolling:!1})}});e.exports=f},function(e,t,n){"use strict";var r=n(1),a=n(2358),s=n(356),i=n(29),o=n(109),l=n(239),u=n(274),c=n(53),d=n(22),p=n(3),f=p.arrayOf,m=p.dataModel,h=p.shape,g=p.string,v=n(37),_=n(2361),y=n(448),b=r.createClass({displayName:"Learners",mixins:[c(function(e){i("user_view")&&s.fetchNext(e.params.courseId,e.query.sort,e.query.search)}),l,u(function(e){return i("user_view")?s.fetch(e.params.courseId,e.query.sort,e.query.search):null}),v({mobile:v.QUERY_MOBILE})],propTypes:{course:n(45),enrollments:f(m(n(419))),learners:f(n(157)),searchResults:f(n(42)),subscriptionInfo:h({channel:g,url:g,token:g}),params:h({courseId:g}),query:h({sort:g,search:g})},componentWillReceiveProps:function(e){var t=this,n=this.props.params,r=function(){return t.props.query};s.subscribe(e.subscriptionInfo,n.courseId,r.bind(this))},componentWillUnmount:function(){s.unsubscribe()},render:function(){var e=this.props,t=e.enrollments,n=e.learners;return i("user_view")?r.createElement(a,{query:this.props.query,course:this.props.course,searchResults:this.props.searchResults,enrollments:t,learners:n,isMobile:this.state.media.mobile,isLoading:s.isWaitingForPush(),permissions:{enroll:i("enrollment_create"),unenroll:i("enrollment_destroy"),expire:i("course_template_expire_re_enroll"),update:i("enrollment_update"),delete:i("enrollment_destroy"),viewReport:i("course_template_export",this.props.course)}}):r.createElement(y,null)}});e.exports=d({type:b,asyncProps:{enrollments:n(1291),learners:n(1292),searchResults:{get:function(e){return o.getFoundInCourse(e.params.courseId)},setup:function(e){o.addChangeListener(e)},teardown:function(e){o.removeChangeListener(e)}},subscriptionInfo:{fetch:function(e){return _(e.params.courseId)}}}})},function(e,t){"use strict";e.exports={name:"author.course.learners",path:"learners",parent:"author.course",ember:{parentPath:["author","author.course"]}}},function(e,t,n){"use strict";var r=n(8),a=n(10),s=a.arrayOf,i=a.shape,o=a.string;e.exports=r({url:"/api/author/course_templates/%@/enrollments/subscription",schema:i({subscriptions:s(i({url:o,channel:o,token:o}))}),parse:function(e,t){return e(t).subscriptions[0]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(238),u=r(l),c=n(59),d=n(3),p=d.bool,f=d.string,m=d.shape,h=s.default.createClass({displayName:"Placement",propTypes:{params:m({placementId:f,courseId:f}),ltiResource:c.LtiResourceSchema,isLoading:p},render:function(){return s.default.createElement(c.LtiResourceIframe,{ltiResource:this.props.ltiResource,isLoading:this.props.isLoading})}});t.default=(0,o.default)({type:h,asyncProps:{ltiResource:{fetch:function(e){return(0,u.default)("author",e.params.placementId,{course_id:e.params.courseId})},shouldRefetch:function(e,t){return e.params.placementId!==t.params.placementId}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.course.placement",path:"placement/:placementId",parent:"author.course",ember:{parentPath:["author","author.course"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(24),o=r(i),l=n(3),u=function(e,t){return I18n.t("%{value} or %{percent} percent",{value:e,percent:Math.round(100*e/t)})},c=function(e){return I18n.t({zero:"There are no learners required to complete this course.",one:"There is one learner required to complete this course.",other:"There are %{count} learners required to complete this course."},{count:e})},d=function(e){return I18n.t({zero:"No required learners have completed this course.",one:"One required learner has completed this course.",other:"%{count} required learners have completed this course."},{count:e})},p=function(e){return s.default.createElement("div",{className:"screenreader-only"},s.default.createElement("h3",null,I18n.t("Details")),s.default.createElement("p",null,c(e.totalEnrollments)),s.default.createElement("p",null,d(e.completedEnrollments)),s.default.createElement("h3",null,I18n.t("Data")),e.totalEnrollments>0&&s.default.createElement("table",null,s.default.createElement("thead",null,s.default.createElement("tr",null,s.default.createElement("th",null,s.default.createElement(o.default,null,I18n.t("Total required learners"))),s.default.createElement("th",null,s.default.createElement(o.default,null,I18n.t("Not-started learners"))),s.default.createElement("th",null,s.default.createElement(o.default,null,I18n.t("In-progress learners"))),s.default.createElement("th",null,s.default.createElement(o.default,null,I18n.t("Permanently failed learners"))),s.default.createElement("th",null,s.default.createElement(o.default,null,I18n.t("Completed learners"))))),s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,e.totalEnrollments),s.default.createElement("td",null,u(e.createdEnrollments,e.totalEnrollments)),s.default.createElement("td",null,u(e.inProgressEnrollments,e.totalEnrollments)),s.default.createElement("td",null,u(e.permanentlyFailedEnrollments,e.totalEnrollments)),s.default.createElement("td",null,u(e.completedEnrollments,e.totalEnrollments))))),0===e.totalEnrollments&&s.default.createElement("p",null,I18n.t("There are no required learners for this course.")))};p.propTypes={totalEnrollments:l.number.isRequired,overdueEnrollments:l.number.isRequired,inProgressEnrollments:l.number.isRequired,createdEnrollments:l.number.isRequired,permanentlyFailedEnrollments:l.number.isRequired,completedEnrollments:l.number.isRequired},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),s=r(a),i=n(46),o=r(i),l=n(14),u=r(l),c=n(15),d=r(c),p=n(17),f=r(p),m=n(16),h=r(m),g=n(1),v=r(g),_=n(23),y=r(_),b=n(56),E=n(71),C=n(89),I=n(171),T=n(1476),N=n(134),S=r(N),x=n(3324),A=r(x),k=n(4),w=n(3),R=n(48),O={notStarted:R.BLEND_ORPK_NARROW_OR,inProgress:R.BLEND_CYPU_NARROW_CY,permanentlyFailed:R.BLEND_PKPU_NARROW_PK,complete:R.BLEND_GRBL_NARROW_GR},P=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.setState({svgElement:(0,b.select)(y.default.findDOMNode(this)).select("svg")},this.drawWidget)}},{key:"componentDidUpdate",value:function(e){(0,k.isEqual)(e,this.props)||(this.state.svgElement.selectAll("*").remove(),this.drawWidget())}},{key:"render",value:function(){var e=this.props,t=e.svgWidth,n=e.svgHeight,r=-t/2+" "+-n/2+" "+t+" "+n,a=String(100*n/t)+"%";return v.default.createElement("div",{className:"course-summary-dashboard__widget-canvas",style:{paddingTop:a}},v.default.createElement(S.default,{viewBox:r,startingHeight:n,startingWidth:t,className:"course-progression"}))}},{key:"drawWidget",value:function(){var e=this,t=this.state.svgElement;if(t){var n=function(e){t.append("path").attr("d","M"+e.x+","+e.y+"L"+e.labelLineX+","+e.labelLineY).attr("class","percent-line")},r=function(n){for(var r=-e.props.svgHeight/2,a=r+e.props.svgHeight,s=function(e,t,n){t.labelY+=n,t.labelLineY+=n,e.setAttribute("transform","translate("+t.labelX+","+t.labelY+")")},i=function(e){var i=!0,o=null;if(n.each(function(e){if(o){var n=(0,T.boxOverlap)(t.node(),o,this);if(n){var l=void 0;i=!1;var u=n.y/2;s(o,o.__data__,-u),s(this,e,u),l=(0,T.getBBoxWithTransform)(t.node(),o).y0,l<r&&(s(o,o.__data__,r-l),s(this,e,r-l)),l=(0,T.getBBoxWithTransform)(t.node(),this).y1,l>a&&(s(o,o.__data__,a-l),s(this,e,a-l))}}o=this}),i)return{v:void 0}},l=0;l<20;l++){var u=i(l);if("object"===("undefined"==typeof u?"undefined":(0,o.default)(u)))return u.v}},a=this.props.svgHeight-2*this.props.margin,i=this.dataValues(this.props.data);if(0===i.length)return void t.append("text").text(I18n.t("No required learners")).attr("class","nodata-label").attr("x",0).attr("y",0).attr("dy","0.35em");t.append("text").text((0,I.format)(",.0f")(this.props.data.totalEnrollments)).attr("class","central-label").attr("data-capybara","required_learners").attr("data-capybara-value",this.props.data.totalEnrollments).attr("x",0).attr("y",-5),t.append("text").text(I18n.t("Required learners")).attr("class","central-description").attr("x",0).attr("y",10).call(A.default,a-4*this.props.donutThickness);var l=(0,C.arc)().outerRadius(a/2).innerRadius(a/2-this.props.donutThickness).padAngle(.02),u=(0,C.pie)().sort(null).startAngle(0).endAngle(2*Math.PI).value(function(e){return e.val}),c=t.selectAll(".arc").data(u(i),function(e){return e.data.label});c=c.enter().append("path").attr("class","arc").attr("d",l).style("fill",function(e){var t=e.data;return t.fill});var d=[];c.each(function(t){var n=(0,E.mean)([t.startAngle,t.endAngle]),r=(0,T.clockfaceToR)(l.outerRadius()(t),n),a=(0,s.default)(r,2),i=a[0],o=a[1],u=Math.sign(i)*l.outerRadius()(t)*1.5,c=u-Math.sign(i)*e.props.labelLineMargin,p=o,f=o;d.push({label:t.data.label,val:t.data.val,theta:n,x:i,y:o,labelX:u,labelY:p,labelLineX:c,labelLineY:f})}),d.sort(T.byXY);var p=t.selectAll("text.percent-label").data(d,function(e){return e.label});p=p.enter().append("g").attr("class",function(e){return e.x>0?"percent-label right":"percent-label left"}).attr("transform",function(e){return"translate("+e.labelX+","+e.labelY+")"}).attr("data-capybara","progress_section").merge(p),p.append("text").attr("class","figure").attr("dy","-0.5em").text(function(e){return(0,I.format)(">.0%")(e.val)}),p.append("text").attr("class","description").attr("dy","0.35em").text(function(e){return e.label}),r(p),d.forEach(function(e){return n(e)})}}},{key:"dataValues",value:function(e){var t=e.totalEnrollments,n=[],r=this.props.colors;return t<1?n:(n.push({label:I18n.t("Complete"),val:e.completedEnrollments/t,fill:r.complete}),n.push({label:I18n.t("In Progress"),val:e.inProgressEnrollments/t,fill:r.inProgress}),n.push({label:I18n.t("Permanently Failed"),val:e.permanentlyFailedEnrollments/t,fill:r.permanentlyFailed}),n.push({label:I18n.t("Not Started"),val:e.createdEnrollments/t,fill:r.notStarted}),n.filter(function(e){return e.val>.001}))}}]),t}(g.Component);P.propTypes={data:(0,w.shape)({totalEnrollments:w.number.isRequired,overdueEnrollments:w.number.isRequired,inProgressEnrollments:w.number.isRequired,createdEnrollments:w.number.isRequired,permanentlyFailedEnrollments:w.number.isRequired,completedEnrollments:w.number.isRequired}).isRequired,svgWidth:w.number.isRequired,svgHeight:w.number.isRequired,margin:w.number.isRequired,donutThickness:w.number.isRequired,labelLineMargin:w.number.isRequired,colors:(0,w.shape)({notStarted:w.string.isRequired,inProgress:w.string.isRequired,permanentlyFailed:w.string.isRequired,complete:w.string.isRequired}).isRequired},P.defaultProps={svgWidth:600,svgHeight:250,margin:30,donutThickness:35,labelLineMargin:4,colors:O},t.default=P,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(2365),u=r(l),c=n(2364),d=r(c),p=n(1290),f=r(p),m=n(3),h=n(133),g=r(h),v=n(5),_=n(27),y=r(_),b=n(1289),E=r(b),C=n(20),I=r(C),T=n(12),N={};N[T.COURSE_EXTERNAL_STATUS_PENDING]=!0,N[T.COURSE_EXTERNAL_STATUS_PUBLISHPENDING]=!0,t.default=o.default.createClass({displayName:"MainView",propTypes:{courseId:m.string,course:n(45),isLoading:m.bool.isRequired,courseStatus:n(1413),quizQuestions:m.number,retainData:n(857),permissions:m.object},shouldComponentUpdate:function(e){return!(e.course.externalStatus in N)},render:function(){var e=this.props.quizQuestions>0&&this.props.permissions.canViewQuizReport,t=this.props.quizQuestions>0,n=!this.props.isLoading&&this.props.course.retain&&this.props.retainData.teamData.length>0;return o.default.createElement("div",null,n&&this.renderRetainChart(),o.default.createElement("div",{className:"pure-g-r margin-tb-xl course-summary-dashboard__container","data-capybara":"learner-chart"},o.default.createElement("div",{className:"pure-u-1"},e&&this.renderExportLink(),o.default.createElement("h3",{className:"centered-h3"},I18n.t("Course Progression"))),o.default.createElement("div",{className:"course-summary-widget-row pure-u-1"},this.renderCourseProgression())),t&&o.default.createElement(E.default,{showQuizReport:e,courseId:this.props.courseId,course:this.props.course}))},renderExportLink:function(){var e={id:"CourseAttemptSummaryReport",course_template_id:this.props.courseId};return o.default.createElement(g.default,{className:"padding-t-xs dark-grey right",type:"report",info:e,capybara:"export_attempt_summary"},o.default.createElement(v.Icon,{className:"gs-1x gs-export"}),o.default.createElement(y.default,{children:I18n.t("Course Attempt Summary CSV")}))},renderCourseProgression:function(){var e=this,t=function(){return(0,I.default)("learn_course_archive")&&e.props.course.isArchived?I18n.t("This course is archived- there are no active enrollments"):I18n.t({zero:"Currently, there are no overdue learners in this course.",one:"Currently, there is one overdue learner in this course.",other:"Currently, there are %{count} overdue learners in this course."},{count:e.props.courseStatus.overdueEnrollments})};return o.default.createElement("div",{className:"course-summary-widget-row__cell-container"},this.props.isLoading&&o.default.createElement("div",{className:"course-summary-dashboard__widget-loader-container"},o.default.createElement("div",{className:"loader-large loader-7"})),!this.props.isLoading&&[o.default.createElement(u.default,{key:"course-prog-0",data:this.props.courseStatus}),o.default.createElement(d.default,(0,s.default)({key:"course-prog-1"},this.props.courseStatus)),o.default.createElement("p",{key:"course-prog-2",className:"dark-grey text-center x-medium"},t())])},renderRetainChart:function(){var e=this.props.retainData.teamData;return o.default.createElement("div",{className:"course-summary-dashboard__container"},o.default.createElement("h2",{className:"h3 upcase"},I18n.t("Average Knowledge Retention")),o.default.createElement(f.default,{teamData:e}))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),s=r(a),i=n(46),o=r(i),l=n(1),u=r(l),c=n(23),d=r(c),p=n(56),f=n(71),m=n(75),h=n(89),g=n(171),v=n(1476),_=n(134),y=r(_),b=n(4),E=n(3),C=u.default.createClass({displayName:"AttemptsToPassDonut",propTypes:{svgWidth:E.number.isRequired,svgHeight:E.number.isRequired,margin:E.number.isRequired,donutThickness:E.number.isRequired,labelLineMargin:E.number.isRequired,drawLabelsInside:E.bool.isRequired,drawPercentCallouts:E.bool.isRequired,drawLabelsOnPercents:E.bool.isRequired,data:(0,E.arrayOf)(E.number).isRequired,dataLabels:(0,E.arrayOf)(E.string).isRequired,colors:(0,E.arrayOf)(E.string).isRequired},getDefaultProps:function(){return{svgWidth:344,svgHeight:200,margin:36,donutThickness:17,labelLineMargin:4,drawLabelsInside:!1,drawPercentCallouts:!1,drawLabelsOnPercents:!1}},componentDidMount:function(){this.setState({svgElement:(0,p.select)(d.default.findDOMNode(this)).select("svg")},this.drawWidget)},componentDidUpdate:function(e){(0,b.isEqual)(e,this.props)||this.drawWidget()},render:function(){var e=this.props,t=e.svgWidth,n=e.svgHeight,r=-t/2+" "+-n/2+" "+t+" "+n,a=String(100*n/t)+"%";return u.default.createElement("div",{className:"course-summary-dashboard__widget-canvas","data-capybara":"attempts-to-pass-widget",style:{paddingTop:a}},u.default.createElement(y.default,{viewBox:r,startingWidth:t,startingHeight:n,preserveAspectRatio:"xMidYMid meet",className:"attempts-to-pass"}))},drawWidget:function(){var e=this,t=this.state.svgElement;if(t){var n=function(e){t.append("path").attr("d","M"+e.x+","+e.y+"L"+e.labelLineX+","+e.labelLineY).attr("class","percent-line")},r=function(e){for(var n=function(n){var r=!0,a=null;if(e.each(function(e){if(a){var n=(0,v.boxOverlap)(t.node(),a,this);if(n){var s=n.y/2;a.setAttribute("y",a.__data__.labelY-=s),this.setAttribute("y",e.labelY+=s),a.__data__.labelLineY-=s,e.labelLineY+=s,r=!1}}a=this}),r)return{v:void 0}},r=0;r<20;r++){var a=n(r);if("object"===("undefined"==typeof a?"undefined":(0,o.default)(a)))return a.v}},a=function(e){for(var n=function(e,t){return Math.sqrt(e*e+t*t)},r=function(r){var a=!0,i=null;if(e.each(function(e){if(i){var r=(0,v.boxOverlap)(t.node(),i,this);if(r){var o=n(r.x,r.y)/2/e.r;i.__data__.theta-=o,e.theta+=o;var l=(0,v.clockfaceToR)(i.__data__.r,i.__data__.theta),u=(0,s.default)(l,2),c=u[0],d=u[1],p=(0,v.clockfaceToR)(e.r,e.theta),f=(0,s.default)(p,2),m=f[0],h=f[1];i.setAttribute("x",i.__data__.x=c),i.setAttribute("y",i.__data__.y=d),this.setAttribute("x",e.x=m),this.setAttribute("y",e.y=h),a=!1}}i=this}),a)return{v:void 0}},a=0;a<20;a++){var i=r(a);if("object"===("undefined"==typeof i?"undefined":(0,o.default)(i)))return i.v}},i=this.props.svgHeight-2*this.props.margin,l=this.props.data.map(function(t,n){return{val:t,label:e.props.dataLabels[n]}}).filter(function(e){return e.val>.001});if(0===l.length)return void t.append("text").text(I18n.t("No data")).attr("class","nodata-label").attr("x",0).attr("y",0).attr("dy","0.35em");var u=(0,m.scaleOrdinal)().domain(this.props.dataLabels).range(this.props.colors),c=(0,h.arc)().outerRadius(i/2).innerRadius(i/2-this.props.donutThickness),d=(0,h.pie)().sort(null).startAngle(.8*-Math.PI).endAngle(.8*Math.PI).value(function(e){return e.val}),p=t.selectAll(".arc").data(d(l),function(e){return e.data.label});if(p.exit().remove(),p=p.enter().append("path").attr("class","arc").attr("d",c).style("fill",function(e){var t=e.data;return u(t.label)}).merge(p),this.props.drawLabelsInside){var _=[];p.each(function(e){if(0!==e.data.label.length){var t=(0,f.mean)([e.startAngle,e.endAngle]),n=.75*c.innerRadius()(e),r=(0,v.clockfaceToR)(n,t),a=(0,s.default)(r,2),i=a[0],o=a[1];_.push({label:e.data.label,val:e.data.val,x:i,y:o,r:n,theta:t})}});var y=t.selectAll("text.inner-label").data(_,function(e){return e.label});y.exit().remove(),y=y.enter().append("text").text(function(e){return e.label}).attr("class","inner-label").attr("dy","0.35em").attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).style("fill",function(e){return u(e.label)}).merge(y),a(y)}if(this.props.drawPercentCallouts){var b=[];p.each(function(t){var n=(0,f.mean)([t.startAngle,t.endAngle]),r=(0,v.clockfaceToR)(c.outerRadius()(t),n),a=(0,s.default)(r,2),i=a[0],o=a[1],l=Math.sign(i)*c.outerRadius()(t)*1.3,u=l-Math.sign(i)*e.props.labelLineMargin,d=o,p=o;b.push({label:t.data.label,val:t.data.val,x:i,y:o,labelX:l,labelY:d,labelLineX:u,labelLineY:p})}),b.sort(v.byXY);var E=t.selectAll("text.percent-label").data(b,function(e){return e.label});E.exit().remove();var C=E.enter().append("text").attr("class",function(e){return e.x>0?"percent-label right":"percent-label left"}).attr("dy","0.35em").attr("x",function(e){return e.labelX}).attr("y",function(e){return e.labelY});E=E.merge(C),C.filter(function(e){return e.x<=0}).append("tspan").text(function(e){return(0,g.format)(">.0%")(e.val)}),this.props.drawLabelsOnPercents&&(C.filter(function(e){return e.x<=0&&e.label.length>0}).append("tspan").style("fill",function(e){return u(e.label)}).text(function(e){return""+e.label}),C.filter(function(e){return e.x>0&&e.label.length>0}).append("tspan").style("fill",function(e){return u(e.label)}).text(function(e){return e.label+""})),C.filter(function(e){return e.x>0}).append("tspan").text(function(e){return(0,g.format)("<.0%")(e.val)}),r(E),t.selectAll(".percent-line").remove(),b.forEach(function(e){return n(e)})}}}});t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(437),o=r(i),l=n(24),u=r(l),c=n(3),d=s.default.createClass({displayName:"AttemptsToPassExplainer",propTypes:{complete:c.number.isRequired,total:c.number.isRequired,onToggle:c.func},render:function(){var e=this.props,t=e.complete,n=e.total;return s.default.createElement(o.default,{onToggle:this.props.onToggle},s.default.createElement("p",null,s.default.createElement(u.default,null,I18n.t("Attempts to Pass"))),s.default.createElement("p",null,s.default.createElement(u.default,null,I18n.t("Learners are segmented by the number of attempts they took to pass the course. Anyone taking 4 or more attempts is grouped together into 4+."))),s.default.createElement("p",{dangerouslySetInnerHTML:{__html:I18n.t("*%{count}* of the *%{total}* learners enrolled in this course have passed.",{count:t,total:n,wrappers:['<b class="black">$1</b>']})}}))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(24),o=r(i),l=n(64),u=r(l),c=n(60),d=r(c),p=n(364),f=r(p),m=n(2390),h=r(m),g=n(58),v=r(g),_=n(2374),y=r(_),b=n(3),E=n(48),C=[{value:"all",label:function(){return I18n.t("Include all attempts")}},{value:"last",label:function(){return I18n.t("Only last attempts")}},{value:"first",label:function(){return I18n.t("Only first attempts")}}],I=2e3,T=s.default.createClass({displayName:"AverageScore",propTypes:{course:n(45),courseId:b.string.isRequired,isMobile:b.bool},getInitialState:function(){return{averageType:"all"}},componentWillMount:function(){this.retrieveData(this.state.averageType)},componentWillReceiveProps:function(){this.retrieveData(this.state.averageType)},retrieveData:function(e){var t=this,n={domainId:this.props.course.meta.domainId,subAccountId:this.props.course.meta.subAccountId,courseId:this.props.courseId,r2bJwt:this.props.course.meta.r2bJwt,include:e},r=h.default.get(n);return(0,v.default)(r)?(this.setState({averageType:e}),void h.default.fetch(n,I).then(function(){var e=h.default.get(n);t.setState({quizScoreBreakdown:e.course})})):void this.setState({quizScoreBreakdown:r.course,averageType:e})},render:function(){var e=this.state.quizScoreBreakdown,t=this.props.isMobile;return(0,v.default)(e)||(0,v.default)(e.averageScore)?null:s.default.createElement("div",{className:"average-score"},s.default.createElement("table",null,s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,s.default.createElement("p",{className:"black bold base-plus"},s.default.createElement(o.default,null,I18n.t("Average Score")))),s.default.createElement("td",null,s.default.createElement(u.default,{onChange:this.changeType,selectedValue:this.state.averageType},C.map(function(e){return s.default.createElement(d.default,{key:e.value,value:e.value,label:e.label(),className:"small blue"})})))))),s.default.createElement("div",null,s.default.createElement(f.default,{value:e.averageScore/100,svgWidth:t?300:800,startColor:t?E.BLEND_GRBL_NARROW_BL:E.BLEND_GRBL_WIDE_BL,endColor:t?E.BLEND_GRBL_NARROW_GR:E.BLEND_GRBL_WIDE_GR}),s.default.createElement(y.default,{quizScoreBreakdown:e,courseId:this.props.courseId,averageType:this.state.averageType,isMobile:t})))},changeType:function(e){this.retrieveData(e)}});t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(98),u=r(l),c=n(56),d=n(171),p=n(71),f=n(288),m=n(89),h=n(134),g=r(h),v=n(4),_=n(3),y=function(e){var t=e.id,n=e.color;return s.default.createElement("marker",{id:t,viewBox:"0 0 3 3",refX:"2",refY:"1.5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",style:{stroke:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",overflow:"visible"}},s.default.createElement("path",{d:"M 1.5 0 L 3 1.5 L 1.5 3"}))};y.propTypes={id:_.string.isRequired,color:_.string.isRequired};var b=s.default.createClass({displayName:"LearnersFailed",propTypes:{svgWidth:_.number.isRequired,svgHeight:_.number.isRequired,margin:_.number.isRequired,startColor:_.string.isRequired,endColor:_.string.isRequired,failed:_.number.isRequired,complete:_.number.isRequired},getDefaultProps:function(){return{svgWidth:344,svgHeight:200,margin:42,startColor:"#F6A637",endColor:"#F0695E"}},componentDidMount:function(){this.setState({svgElement:(0,c.select)(o.default.findDOMNode(this)).select("svg")},this.drawWidget)},componentDidUpdate:function(e){(0,v.isEqual)(e,this.props)||this.drawWidget()},render:function(){var e=this.props.startColor,t=this.props.endColor,n=(0,f.interpolateRgb)(e,t)(.5),r=this.props,a=r.svgWidth,i=r.svgHeight,o=-a/2+" "+-i/2+" "+a+" "+i,l=String(100*i/a)+"%";return s.default.createElement("div",{className:"course-summary-dashboard__widget-canvas","data-capybara":"learners-failed-widget",style:{paddingTop:l}},s.default.createElement(g.default,{startingHeight:this.props.svgHeight,startingWidth:this.props.svgWidth,viewBox:o,preserveAspectRatio:"xMidYMid meet",className:"learners-failed"},s.default.createElement("defs",null,s.default.createElement(u.default,{id:"linear0",color1:e,color2:n,orientation:"bottomLeftToTopRight"}),s.default.createElement(u.default,{id:"linear1",color1:t,color2:n,orientation:"bottomLeftToTopRight"}),s.default.createElement(y,{id:"arrowhead0",color:n}),s.default.createElement(y,{id:"arrowhead1",color:t}))))},drawWidget:function(){var e=this.state.svgElement;if(e){var t=function(e){return e*Math.PI/180},n=this.props.svgHeight/2-this.props.margin,r=this.props.failed,a=r+this.props.complete,s=r/a,i=(0,m.radialLine)(),o=[(0,p.range)(t(-120),t(30),.1).map(function(e){return[e,n]}),(0,p.range)(t(60),t(210),.1).map(function(e){return[e,n]})],l=null,u=null;e.selectAll("g.learners-failed-g").remove();var c=e.append("g").attr("class","learners-failed-g");if(l=c.append("text").text(String(r)).attr("class","failed-label").attr("dy","0.35em").node(),!isNaN(s)){u=c.append("text").text((0,d.format)(".0%")(s)).attr("class","percent-label").attr("dy","0.35em").node();
var f=l.getAttribute("y"),h=u.getAttribute("y");l.setAttribute("y",f-l.getBBox().height/2),u.setAttribute("y",h+u.getBBox().height/2)}var g=l.getBBox();g.midY=g.y+g.height/2,c.append("path").attr("class","callout-line").attr("d","M"+1.3*-n+","+g.midY+"L"+(g.x-4)+","+g.midY);var v=c.append("text").attr("class","outer-label").style("text-anchor","end").attr("dy","0.35em").attr("x",1.3*-n-4).attr("y",g.midY);if(v.append("tspan").attr("x",1.3*-n-4).text(I18n.t("# learners")),v.append("tspan").attr("x",1.3*-n-4).attr("dy",v.node().getBBox().height).text(I18n.t("failed")),u){var _=u.getBBox();_.midY=_.y+_.height/2,_.endX=_.x+_.width,c.append("path").attr("class","callout-line").attr("d","M"+(_.endX+4)+","+_.midY+"L"+1.3*n+","+_.midY);var y=c.append("text").attr("class","outer-label").style("text-anchor","start").attr("dy","0.35em").attr("x",1.3*n+4).attr("y",_.midY);y.append("tspan").attr("x",1.3*n+4).text(I18n.t("% of finished"))}o.forEach(function(e,t){var n=c.append("path").attr("class","arrow").attr("stroke","url(#linear"+t+")").attr("d",i(e));window.hasOwnProperty("ActiveXObject")||n.attr("marker-end","url(#arrowhead"+t+")")})}}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(437),o=r(i),l=n(24),u=r(l),c=n(3),d=s.default.createClass({displayName:"LearnersFailedExplainer",propTypes:{failed:c.number.isRequired,complete:c.number.isRequired,onToggle:c.func},render:function(){var e=this.props,t=e.failed,n=e.complete,r=t+n,a=0===r?0:Math.round(t/r*100);return s.default.createElement(o.default,{onToggle:this.props.onToggle,className:"course-summary-dashboard__widget-explainer"},s.default.createElement("p",null,s.default.createElement(u.default,null,I18n.t("Learners that have currently failed"))),s.default.createElement("p",null,s.default.createElement(u.default,null,I18n.t("The total number of learners that failed the course on their most recent attempt. They will be removed from this chart, if they pass on a future attempt."))),s.default.createElement("p",{dangerouslySetInnerHTML:{__html:I18n.t({one:"This *1* learner will be required to retake the course in order to pass, and accounts for *%{percentage}%* of all learners that have finished.",other:"These *%{count}* learners will be required to retake the course in order to pass, and account for *%{percentage}%* of all learners that have finished."},{count:t,percentage:a,wrappers:['<b class="black">$1</b>']})}}))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(134),o=r(i),l=n(3),u="",c="",d=40,p=10,f=function(e){var t=e.count,n=e.svgHeight,r=e.svgWidth,a=-(r+d)/2+" "+-n/2+" "+r+" "+n,i=String(100*n/r)+"%",l=1===t?I18n.t("Learner"):I18n.t("Learners"),f=Math.floor(Math.log10(t)),m=40+(isFinite(f)?f*p:0);return s.default.createElement("div",{className:"course-summary-dashboard__widget-canvas","data-capybara":"permanently-failed-learners-widget",style:{paddingTop:i}},s.default.createElement(o.default,{startingHeight:n,startingWidth:r,viewBox:a,preserveAspectRatio:"xMidYMid meet",className:"permanently-failed"},s.default.createElement("text",{x:-m,y:"0",className:"big-number",dy:"0.35em"},t),s.default.createElement("text",{x:-m,y:"45",className:"number-label",dy:"0.35em"},l),s.default.createElement("text",{x:m,y:"0",className:"book-icon",dy:"0.35em"},u),s.default.createElement("text",{x:m+30,y:"15",className:"dont-icon",dy:"0.35em"},c)))};f.propTypes={count:l.number.isRequired,svgHeight:l.number.isRequired,svgWidth:l.number.isRequired},f.defaultProps={svgHeight:200,svgWidth:344},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(364),o=r(i),l=n(2375),u=r(l),c=n(3),d=n(6),p=r(d),f=n(48),m={factoid:function(){return I18n.t("Factoid")},multiple_answer:function(){return I18n.t("Multiple Answer")},multiple_choice:function(){return I18n.t("Multiple Choice")},ordered_list:function(){return I18n.t("Ordered List")},reorder:function(){return I18n.t("Reorder")},short_answer:function(){return I18n.t("Short Answer")},vocabulary:function(){return I18n.t("Vocabulary")}},h=s.default.createClass({displayName:"QuestionAverage",propTypes:{courseId:c.string.isRequired,id:c.number.isRequired,number:c.number.isRequired,position:c.number.isRequired,title:c.string,questionType:c.string.isRequired,avgScore:c.number.isRequired,attemptCount:c.number.isRequired,averageType:c.string.isRequired,answers:c.array,isMobile:c.bool},getInitialState:function(){return{isExpanded:!1}},getTitle:function(){return"vocabulary"===this.props.questionType?I18n.t("Terms include: %{terms}",{terms:this.props.answers.map(function(e){return e.term}).join(", ")}):this.props.title},getScore:function(){return"short_answer"===this.props.questionType?s.default.createElement(u.default,{count:this.props.attemptCount,courseId:this.props.courseId,slideId:this.props.id,averageType:this.props.averageType}):s.default.createElement(o.default,{svgWidth:this.props.isMobile?300:400,startColor:f.BLEND_GRBL_NARROW_BL,endColor:f.BLEND_GRBL_NARROW_GR,value:this.props.avgScore/100})},render:function(){var e=(0,p.default)("question-average",{expanded:this.state.isExpanded}),t=this.props.isMobile;return s.default.createElement("div",{className:e},s.default.createElement("div",{ref:"description",className:"question-average__description",style:this.getDescriptionStyle()},s.default.createElement("header",null,s.default.createElement("strong",null,"Q",this.props.number)," ",m[this.props.questionType]()),s.default.createElement("p",null,this.getTitle())),s.default.createElement("div",{className:"question-average__score"},t&&s.default.createElement("span",{className:"small dark-grey number"},this.props.number),this.getScore(),t&&s.default.createElement("button",{className:"dark-grey expander gs-arrow-down",onClick:this.toggleExpandedState})))},toggleExpandedState:function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})},getDescriptionStyle:function(){var e={};return this.props.isMobile&&(this.state.isExpanded?this.refs.description&&(e.height=this.refs.description.scrollHeight+"px"):e.height="0px"),e}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(2373),u=r(l),c=n(3),d=o.default.createClass({displayName:"QuestionAverageList",propTypes:{quizScoreBreakdown:c.object.isRequired,courseId:c.string.isRequired,averageType:c.string.isRequired,isMobile:c.bool},render:function(){var e=this;return o.default.createElement("div",{className:"question-average__list","data-capybara":"question-average"},this.props.quizScoreBreakdown.questionBreakdown.map(function(t,n){return o.default.createElement(u.default,(0,s.default)({key:t.id,number:n+1,courseId:e.props.courseId,averageType:e.props.averageType,isMobile:e.props.isMobile},t))}))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(133),o=r(i),l=n(24),u=r(l),c=n(3),d=s.default.createClass({displayName:"QuestionExport",propTypes:{count:c.number.isRequired,courseId:c.string.isRequired,slideId:c.number.isRequired,averageType:c.string.isRequired},render:function(){var e={id:"QuizShortAnswerReport",course_template_id:this.props.courseId,slide_id:this.props.slideId,average_type:this.props.averageType};return s.default.createElement("div",{className:"question-export"},this.props.count>0&&s.default.createElement(o.default,{className:"gs-export",type:"report",info:e,children:I18n.t({one:"Export %{count} response",other:"Export %{count} responses"},{count:this.props.count}),capybara:"export_responses"}),0===this.props.count&&s.default.createElement(u.default,null,I18n.t("There are no responses to export.")))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(133),o=r(i),l=n(3),u=n(12),c=s.default.createClass({displayName:"WidgetExporter",propTypes:{enrollmentState:(0,l.oneOf)([u.COURSE_STATUS_ACTIVE,u.COURSE_STATUS_CREATED,u.COURSE_STATUS_FAILED,u.COURSE_STATUS_COMPLETE,u.COURSE_STATUS_LOCKED]),courseId:l.string.isRequired},render:function(){var e={id:"CourseAttemptsReport",enrollment_state:this.props.enrollmentState,course_template_id:this.props.courseId};return s.default.createElement("div",{className:"course-summary-dashboard__widget-export"},s.default.createElement(o.default,{className:"gs-export",type:"report",info:e,children:I18n.t("Export Attempts"),capybara:"export_attempts"}))}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(2366),u=r(l),c=n(2382),d=r(c),p=n(1408),f=r(p),m=n(29),h=r(m),g=n(197),v=r(g),_=n(22),y=r(_),b=n(3),E=n(4),C=n(448),I=r(C),T=n(25),N=r(T),S=o.default.createClass({displayName:"Summary",propTypes:{course:n(45),isLoading:b.bool,reports:(0,b.shape)({courseStatus:n(1413),quizQuestions:b.number}),retainData:n(857),params:b.object},render:function(){if(!(0,h.default)("user_view"))return o.default.createElement(I.default,null);var e={canViewQuizReport:(0,h.default)("quiz_report_view")},t=this.props.course||{};return o.default.createElement(u.default,(0,s.default)({courseId:this.props.params.courseId,course:t,isLoading:this.props.isLoading,retainData:this.props.retainData,permissions:e},this.props.reports))}});e.exports=(0,y.default)({type:S,asyncProps:{reports:{fetch:function(e){if(!(0,h.default)("user_view"))return N.default.resolve({});var t=e.params.courseId;return(0,d.default)(t).then(function(e){var t=function(t){return(0,v.default)(e,"reportType",t).data};return{courseStatus:t("course_status"),quizQuestions:t("quiz_questions").totalQuestions}})},shouldRefetch:function(e,t){return e.params.courseId!==t.params.courseId||!(0,E.isEqual)(e.course,t.course)}},retainData:{fetch:function(e){return(0,f.default)(e.course.meta,e.params.courseId,{excludeUserWithExpiredQuiz:!0}).then(null,function(){return console.warn("R2B is not set up!"),{teamData:[]}})},shouldRefetch:function(e,t){return e.params.courseId!==t.params.courseId}}}})},function(e,t){"use strict";e.exports={name:"author.course.summary",parent:"author.course",default:!0,ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,h.default)("course_template_clone",t)||(0,h.default)("course_template_clone")&&c(e)}function s(e,t){return(0,h.default)("course_template_view",t)||(0,h.default)("course_template_view")&&c(e)}function i(e,t){return(0,_.limitContentEditingToOwners)()&&!f.default.isAdminOrAccountAdmin()?(0,h.default)("course_template_update",t):(0,h.default)("course_template_update",null,(0,_.currentSubAccountId)())}function o(e,t){return(0,v.default)("learn_course_archive")&&e.withinSubaccountScope&&(0,h.default)("course_template_archive",t)}function l(e){return(0,v.default)("learn_course_archive")&&(0,h.default)("course_template_archive_view",e)}function u(e,t){return e.enrollmentsCount>0||e.hasSharedEnrollments?(0,h.default)("course_template_force_destroy",t):(0,h.default)("course_template_force_destroy",t)||(0,h.default)("course_template_destroy",t)}function c(e){return e.subAccount&&e.subAccount.isRoot&&!(0,_.isRootAccount)()}function d(e){var t={type:"course_template",id:e.id};return{course:{clone:a(e,t),create:(0,h.default)("course_template_create",t),view:s(e,t),publish:(0,h.default)("course_template_publish",t),edit:(0,h.default)("course_template_update",t),editOnAccount:i(e,t),expire:(0,h.default)("course_template_expire_re_enroll",t),archive:o(e,t),archiveView:l(t),delete:u(e,t)},libraryItem:{create:(0,h.default)("library_item_create")},tag:{add:(0,h.default)("tag_add"),create:(0,h.default)("tag_create"),remove:(0,h.default)("tag_destroy")},affiliatedSubAccount:{view:(0,h.default)("affiliated_sub_account_view"),share:(0,h.default)("affiliated_sub_account_share")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var p=n(39),f=r(p),m=n(29),h=r(m),g=n(20),v=r(g),_=n(136);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(88),u=r(l),c=n(69),d=r(c),p=n(50),f=n(103),m=r(f),h=n(5),g=n(18),v=r(g),_=n(82),y=r(_),b=n(65),E=r(b),C=n(13),I=r(C),T=n(111),N=r(T),S=n(608),x=r(S),A=n(37),k=r(A),w=n(368),R=r(w),O=n(151),P=n(120),L=r(P),M=n(6),D=r(M),U=n(20),F=r(U),q=n(355),B=r(q),j=n(2),H=n(12),G=n(34),W=r(G),V=o.default.createClass({displayName:"Enrollment",mixins:[u.default.mixin,(0,k.default)({mobile:k.default.QUERY_MOBILE})],propTypes:{onRemove:j.func,onMakeOptional:j.func,onMarkComplete:j.func,onResetEnrollment:j.func,onUpdateScore:j.func,permissions:(0,j.shape)({enroll:j.bool,expire:j.bool,unenroll:j.bool,update:j.bool}),enrollment:(0,j.shape)({active:j.bool,score:j.number,completedAt:j.string,endAt:j.string,expiresAt:j.string,progress:j.number,canBeRemoved:j.bool,isArchived:j.bool}).isRequired,learner:(0,j.shape)({id:j.string,name:j.string,email:j.string,avatarUrl:j.string,deleted:j.bool}).isRequired,course:n(45)},getDefaultProps:function(){return{permissions:{enroll:!1,expire:!1,unenroll:!1,update:!1}}},getInitialState:function(){return{showResetConfirmation:!1}},render:function(){var e=this.props,t=e.enrollment,n=e.learner,r=e.course,a=this.isArchived(),i=(0,D.default)({"sortable-table__tr":!0,"enrollment-list-item":!0,"enrollment-list-table__row":!0,"enrollment-list-item--new":!t.id,"enrollment-list-item--overdue":t.isOverdue,"enrollment-list-item--complete":t.isCompleted,"enrollment-list-item--archived":a}),l=(0,D.default)({"enrollment-list-item__renew-date":!0,"enrollment-list-item__renew-date--active":t.active});return this.isConfirmingRemoval()?this.renderRemovalForm(i):o.default.createElement(p.Tr,{className:i},o.default.createElement(p.Td,{className:"enrollment-list-item__user","data-capybara":"enrollment-user"},n.deleted&&o.default.createElement("div",null,o.default.createElement(E.default,(0,s.default)({className:"enrollment__user-avatar"},n)),o.default.createElement("span",{className:"avatar__label"},n.name)),!n.deleted&&o.default.createElement(I.default,{to:"author.learner",params:[{id:n.id}],className:"block indigo"},o.default.createElement(E.default,(0,s.default)({className:"enrollment__user-avatar"},n)),o.default.createElement("span",{className:"avatar__label"},n.name))),o.default.createElement(p.Td,{className:"enrollment-list-item__score","data-capybara":"enrollment-score"},this.renderScore()),r.expires&&o.default.createElement(p.Td,{className:l},!!t.completedAt&&o.default.createElement(R.default,{canEdit:t.active&&this.props.permissions.expire&&!a,clearPromptText:I18n.t("No renewal required"),dateToText:function(e){return(0,L.default)(e,"date")},onChange:B.default.updateEnrollmentExpireDate.bind(null,t),value:t.expiresAt})),o.default.createElement(p.Td,{className:"enrollment-list-item__due-date","data-capybara":"enrollment-due-date"},!t.completedAt&&t.required&&o.default.createElement(R.default,{canEdit:this.props.permissions.enroll&&!a,clearPromptText:I18n.t("No due date"),dateToText:O.dueDateText,onChange:B.default.updateEnrollmentDueDate.bind(null,t),value:t.endAt})),o.default.createElement(p.Td,{"data-capybara":"enrollment-status"},t.required?I18n.t("Required"):I18n.t("Optional")),o.default.createElement(p.Td,{className:"enrollment-list-item__progress"},this.renderPopup()),this.canExportMetadata()&&o.default.createElement(p.Td,{className:"enrollment-list-item__export-button"},o.default.createElement(y.default,{link:!0,buttonClassName:"text-right btn--reset",href:"/api/author/enrollments/"+t.id+"/export.zip",icon:"zip",iconClassName:"gs-1x dark-grey",label:"Export Metadata"})),o.default.createElement(p.Td,{className:"enrollment-list-item__delete-button"},this.canKick()&&o.default.createElement(v.default,{onClick:this.confirmRemoval,className:"text-right btn--reset full-width","data-capybara":"delete-enrollment"},o.default.createElement("span",{className:"screenreader-only"},I18n.t("Delete")),o.default.createElement(h.Icon,{className:"gs-x gs-1x dark-grey"}))))},renderPermanentlyFailed:function(){return o.default.createElement(h.Icon,{className:"gs-catalog gs-error red enrollment-list-item__popup-perm-failed enrollment-list-item__popup-progress"})},renderProgress:function(){var e=this.props,t=e.permissions,n=e.enrollment,r=(0,D.default)({"inline-block":!0,"enrollment-list-item__popup-cursor":t.update,"enrollment-list-item__popup-progress":!0});return n.isPermanentlyFailed?this.renderPermanentlyFailed():n.completedAt?o.default.createElement("div",{className:"enrollment-list-item__completed-new gs-check-circle inline-block",id:"enrollment-"+n.id+"-progress","data-capybara":"enrollment-progress"}):o.default.createElement(m.default,{type:"circle",cx:14,cy:12,r:10,progress:this.progressForEnrollment(n),className:r,id:"enrollment-"+n.id+"-progress"})},renderPopup:function(){var e=this.props,t=e.learner,n=e.enrollment;return o.default.createElement(N.default,{ref:"popup",content:x.default,popupOptions:x.default.POPUP_OPTIONS,popupClassName:"enrollment-completion-popup",name:t.name,id:n.id,readOnly:this.isArchived(),progress:this.progressForEnrollment(n),hidePopup:this.hidePopup,onMarkComplete:this.props.onMarkComplete,onResetEnrollment:this.props.onResetEnrollment,showResetConfirmation:this.state.showResetConfirmation,showMarkCompleteButton:this.showMarkCompleteButton(),showResetEnrollmentButton:this.showResetEnrollmentButton()},o.default.createElement("div",{onClick:this.openPopup},this.renderProgress()))},progressForEnrollment:function(e){return e.state===H.STATUS_ACTIVE?Math.max(e.progress,.01):e.progress},showMarkCompleteButton:function(){return!this.props.enrollment.completedAt},showResetEnrollmentButton:function(){return 0!==this.progressForEnrollment(this.props.enrollment)},hidePopup:function(){this.refs.popup.close()},renderRemovalForm:function(e){var t=this.props,n=t.learner,r=t.course;return o.default.createElement(p.Tr,{className:e},o.default.createElement(p.Td,{colSpan:r.expires?"7":"6",mobileClassNames:"pure-u-1",className:"padding-none"},o.default.createElement("div",{className:"removable-item removable-item--focused"},o.default.createElement("div",{className:"removable-item__title"},o.default.createElement(E.default,(0,s.default)({className:"left avatar--enrollment"},n)),o.default.createElement("span",{className:"left margin-trl-xs"},n.name)),o.default.createElement("div",{className:"removable-item__confirm indigo"},this.getConfirmationLabel()),o.default.createElement("div",{className:"removable-item__buttons"},o.default.createElement(v.default,{className:"btn--reset dark-grey",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),o.default.createElement(v.default,{className:"btn--reset pink",onClick:this.getRemovalHandler(),children:this.getButtonLabel()})))))},renderScore:function(){var e=this.props,t=e.enrollment,n=e.permissions;if(!t.completedAt||void 0===t.score||null===t.score)return null;var r=o.default.createElement("span",null,o.default.createElement("b",null,t.score),o.default.createElement("span",{className:"superscript"},"%"),o.default.createElement("span",{className:"enrollment-list-item__score__date","data-capybara":"enrollment-score_date"},(0,L.default)(t.completedAt,"date")));return o.default.createElement(d.default,{value:t.score.toString(),readOnly:!n.update||this.isArchived(),onChange:this.updateScore,maxLength:"3",validEditRegex:/^(\d{1,2}|100)$/,inputClassName:"enrollment-list-item__score__input"},r)},openPopup:function(){var e=this.props.permissions;e.update&&(this.setState({showResetConfirmation:!1}),this.refs.popup.open())},canExportMetadata:function(){return W.default.isSupport()&&this.props.course.courseType===H.COURSE_EXTERNAL_TYPE_SCORM},canKick:function(){var e=this.props,t=e.permissions,n=e.enrollment;return t.unenroll&&n.required&&n.canBeMadeOptional&&!n.completedAt&&!this.isArchived()},isArchived:function(){return(0,F.default)("learn_course_archive")&&this.props.course.isArchived},getConfirmationLabel:function(){var e=this.state.media.mobile;return this.inProgress()?e?I18n.t("Make Optional?"):I18n.t("This Course is in Progress. Change to Optional?"):e?I18n.t("Delete?"):I18n.t("Permanently Delete this Enrollment?")},getButtonLabel:function(){return this.inProgress()?I18n.t("Optional"):I18n.t("Delete")},getRemovalHandler:function(){var e=this;return this.inProgress()?function(){e.props.onMakeOptional(),e.cancelRemoval()}:this.props.onRemove},inProgress:function(){return this.props.enrollment.progress>0},updateScore:function(e){var t=this.props,n=t.enrollment,r=t.onUpdateScore,a=parseInt(e,10);r(n.id,a)}});e.exports=V},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(20);e.exports=r({schema:n(51),perform:function(e){var t=e.nextPageURL,n=e.courseId,r=e.sort,s=e.search,i="/api/author/course_templates/"+n+"/groups";return a({url:t||i,dataType:"json",data:{sort:r,search:s}})},parse:function(e,t){var n=t.groups.map(e);if(s("learn_libraryitem_relevance")){var r=e(t.all_learners);if(r){var a=n.findIndex(function(e){return e.id===t.all_learners.id});if(a<0)n.unshift(r);else if(a>0){var i=n[a];n=[].concat(i,n.slice(0,a),n.slice(a+1))}}}return n}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(3262),perform:function(e){return a({url:"/api/author/course_templates/"+e+"/reports",dataType:"json"})},parse:function(e,t){return t.reports.map(function(e){return e.report}).map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8),s=n(10),i=s.shape,o=s.arrayOf;e.exports=a({schema:i({enrollments:o(n(457)),linked:i({learners:o(n(157))})}),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({url:t.nextPageURL||"/api/author/course_templates/"+e+"/enrollments",data:t.data})}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(40);e.exports=r({schema:n(457),perform:function(e,t){return a({url:"/api/author/enrollments/"+e,dataType:"json",type:"PATCH",data:{enrollments:[s(t)]}})},parse:function(e,t){return e(t.enrollments[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(40);e.exports=r({schema:n(457),perform:function(e,t){return a({url:"/api/author/enrollments/"+e+"/due_date",dataType:"json",type:"POST",data:{enrollments:[s(t)]}})},parse:function(e,t){return e(t.enrollments[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(13),o=r(i),l=n(592),u=r(l),c=n(22),d=r(c),p=n(106),f=r(p),m=n(148),h=r(m),g=n(19),v=r(g),_=n(26),y=r(_),b=n(314),E=n(3),C=s.default.createClass({displayName:"CourseUpload",propTypes:{course:n(45),params:(0,E.shape)({courseId:E.string})},render:function(){return s.default.createElement(u.default,{replace:!0,course:this.props.course,onTitleChange:this.onTitleChange})},onTitleChange:function(e){h.default.update(this.props.course.id,{title:e})}});e.exports=(0,d.default)({type:(0,f.default)(C,function(e){return y.default.t("Upload: %{courseTitle}",{courseTitle:(0,b.getDisplayTitle)(e.course)})}),blocking:!0,asyncProps:{course:{fetch:function(e){return h.default.fetch(e.params.courseId).then(null,function(){throw(0,v.default)(y.default.t("Course does not exist"),{type:"error"}),o.default.transitionTo("author.courses"),d.default.AbortedError})},get:function(e){return h.default.get(e.params.courseId)},setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.course.upload",path:"/author/courses/:courseId/upload"}},function(e,t,n){"use strict";var r=n(25),a=n(8),s=n(31),i=n(1418),o=n(7),l=n(10),u=l.shape,c=a({schema:u(i),perform:function(e){var t=e.domainId,n=e.subAccountId,a=e.courseId,i=e.r2bJwt,l=e.include,u=s.get("R2B_HOST");return u?o({url:u+"/course_template/quiz-statistics",data:{account:s.get("ACCOUNT.database"),"domain-id":t,"sub-account-id":n,"course-id":a,"include-only":"all"===l?"":l},beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+i)}}):r.reject(new Error("R2B_HOST is not configured"))}});e.exports=c},function(e,t,n){"use strict";var r=n(25),a=n(8),s=n(31),i=n(856),o=n(7),l=n(10),u=l.shape,c=a({schema:u(i),perform:function(e){var t=e.domainId,n=e.subAccountId,a=e.courseId,i=e.r2bJwt,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=s.get("R2B_HOST");if(!u)return r.reject(new Error("R2B_HOST is not configured"));var c=function(e){return new r(function(t){return setTimeout(t,e)})},d=function(){return o({url:u+"/course_template/learner-counts",data:{account:s.get("ACCOUNT.database"),"domain-id":t,"sub-account-id":n,"course-id":a},beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+i)}})};return l>0?c(l).then(function(){return d()}):d()}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(2388),o=r(i),l=n(1418),u=r(l),c=n(58),d=r(c),p=n(10),f=1e4,m=function(e){var t=e.subAccountId,n=e.domainId,r=e.courseId,a=e.include;return t+","+n+","+r+","+a};t.default=(0,s.default)({displayName:"/var/web/bridge/jsapp/screens/AuthorCourses/shared/stores/QuizBreakdownStore.js",schema:(0,p.shape)(u.default),fetch:function(e){var t=this;return(0,o.default)(e).then(function(n){n.id=m(e),n.timeStamp=new Date,n.course.questionBreakdown=n.course.questionBreakdown.map(function(e){return e.answers=JSON.parse(e.answers||"[]"),e}),t.cache.add(n)},function(e){return console.error("Problem connecting to R2B",e),{}})},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subAccountId:"",domainId:"",courseId:"",include:"all"},t=this.cache.get(m(e))||null,n=new Date;return!(0,d.default)(t)&&n-t.timeStamp<f?t:null}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(21),a=n(2389),s=n(856),i=n(10),o=i.shape,l={id:"",course:{attemptsToComplete:[],enrollmentSummary:{total:0,created:0,active:0,complete:0,failed:0,permanentlyFailed:0}}},u=function(e){var t=e.subAccountId,n=e.domainId,r=e.courseId;return t+","+n+","+r},c=r({displayName:"QuizStatisticsStore",schema:o(s),fetch:function(e){var t=this;return a(e).then(function(n){n.id=u(e),t.cache.add(n)},function(e){return console.error("Problem connecting to R2B",e),{}})},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subAccountId:"",domainId:"",courseId:""};return this.cache.get(u(e))||l}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(1475),i=n(19),o=r.createClass({displayName:"AuthorCoursesNew",statics:{willTransitionTo:function(e,t,n){var r=n.course_type;s({course_type:r||"bridge"}).then(function(e){e.courseTemplate&&e.slide?a.replaceWith("author.courses.slide",e.courseTemplate.id,e.slide.id):a.replaceWith("author.course.upload",e.id)},function(){i(I18n.t("Oh snap! We were unable to create the course. Please try again later."),{type:"error"}),a.replaceWith("author.courses")})}},render:function(){return null}});e.exports=o},function(e,t){"use strict";e.exports={name:"author.courses.new",path:"/author/courses/new",loadOrder:1,ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(592),o=r(i),l=n(148),u=r(l),c=n(4),d=n(106),p=r(d),f=s.default.createClass({displayName:"AuthorCoursesUpload",componentWillMount:function(){this.setState({course:{}})},render:function(){return s.default.createElement(o.default,{course:this.state.course,beforeSave:this.beforeSave,onTitleChange:this.onTitleChange})},beforeSave:function(e){var t=this;return u.default.create(this.state.course).then(function(n){return t.setState({course:n}),e})},onTitleChange:function(e){this.setState({course:(0,c.assign)({title:e},this.state.course)})}});t.default=(0,p.default)(f,function(){return I18n.t("Upload Course")}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.courses.upload",path:"/author/courses/upload",loadOrder:1}},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.arrayOf,i=a.bool,o=a.shape,l=a.string,u=n(54),c=n(18),d=n(97),p=n(24),f=n(2398),m=n(11),h=n(22),g=r.createClass({displayName:"AuthorDataDumps",propTypes:{isLoading:i,dataDumps:s(o({status:l,date:l})).isRequired},render:function(){return r.createElement(d,null,r.createElement(u,{name:"layout--list__header-text"},I18n.t("Data Exports")),r.createElement(u,{name:"layout--list__after-header"},r.createElement(c,{className:"add-btn",onClick:this.createDump},r.createElement(p,null,I18n.t("+ Create Export")))),this.props.isLoading?this.renderLoading():this.renderDumps())},renderLoading:function(){return r.createElement("div",{className:"loader-container"},r.createElement("div",{className:"loader-large loader-7 margin-b-xl"}))},renderDumps:function(){return this.props.dataDumps.length?this.props.dataDumps.map(this.renderDump):r.createElement("p",null,r.createElement(p,null,I18n.t("No existing data exports.")))},renderDump:function(e){return r.createElement("div",{key:e.date,className:"data-dump"},r.createElement("div",null,m(e.date).format("LLL")),r.createElement("div",null,r.createElement(p,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("Status: %{this_i18n_status_dump_status}",{this_i18n_status_dump_status:"%{this_i18n_status_dump_status}"}),this_i18n_status_dump_status:this.i18nStatus(e.status)},"$1")),e.status===f.STATES.pending&&r.createElement("div",{className:"loader margin-l-s"})),e.status===f.STATES.pending&&r.createElement("div",{className:"margin-t-s"},r.createElement(c,{className:"btn",onClick:this.cancelDump},r.createElement(p,null,I18n.t("Cancel")))),e.status===f.STATES.complete&&r.createElement("div",{className:"margin-t-s"},r.createElement("a",{className:"btn download-btn",href:"/api/admin/data_dumps/download"},r.createElement(p,null,I18n.t("Download")))))},i18nStatus:function(e){return{pending:I18n.t("pending"),complete:I18n.t("complete"),failed:I18n.t("failed"),cancelled:I18n.t("cancelled")}[e]},createDump:function(){f.create()},cancelDump:function(){f.cancel()}});e.exports=h({type:g,blocking:!1,asyncProps:{dataDumps:{fetch:function(){return f.fetchAll()},get:function(){return f.getAll()},setup:function(e){f.addChangeListener(e)},teardown:function(e){f.removeChangeListener(e)},shouldRefetch:function(){return!1}}}})},function(e,t){"use strict";e.exports={name:"author.data_dumps",path:"/author/data-dumps",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";var r=n(21),a=n(7),s={pending:"pending",complete:"complete",failed:"failed"},i=15e3,o=r({displayName:"DataDumpStore",schema:n(3264),getInitialState:function(){return{dumps:[]}},create:function(){return a({type:"POST",url:"/api/admin/data_dumps"}).then(this.storeAll.bind(this))},cancel:function(){return a({type:"POST",url:"/api/admin/data_dumps/cancel"}).then(this.storeAll.bind(this))},fetchAll:function(){return a({type:"GET",url:"/api/admin/data_dumps"}).then(this.storeAll.bind(this))},storeAll:function(e){var t=e.data_dumps,n=t.filter(function(e){return e.status===s.pending});return n.length>0&&setTimeout(this.fetchAll.bind(this),i),this.setState({dumps:t}),t},getAll:function(){return this.state.dumps}});o.STATES=s,e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2),o=n(93),l=r(o),u=s.default.createClass({displayName:"AuthorGroupMainView",propTypes:{group:n(51).isRequired,learners:(0,i.arrayOf)(n(42)),customFields:(0,i.arrayOf)(n(276)),query:(0,
i.shape)({search:i.string,sort:i.string}).isRequired,onTitleChange:i.func,onEnroll:i.func,onUnenroll:i.func,isLoading:i.bool},getDefaultProps:function(){return{learners:[]}},render:function(){return s.default.createElement("div",{"data-capybara":"learners_area"},s.default.createElement(l.default,this.props))}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(22),l=n(196),u=n(2399),c=n(2),d=c.bool,p=c.shape,f=c.string,m=i.createClass({displayName:"AuthorGroup",propTypes:{group:n(51),query:p({sort:f,search:f}),isLoading:d},render:function(){return this.props.group?i.createElement(u,(0,s.default)({},this.props,{onTitleChange:this.updateTitle})):null},updateTitle:function(e){l.update(this.props.group.id,{name:e})}});e.exports=o({type:m,blocking:!1,asyncProps:{group:{fetch:function(e){return l.invalidate(e.params.groupId),l.fetch(e.params.groupId,{invalidate:!0})},shouldRefetch:function(){return!1},get:function(e){return l.get(e.params.groupId)},setup:function(e){l.addChangeListener(e)},teardown:function(e){l.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.group",path:"/author/groups/:groupId",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(3),v=n(5),_=n(43),y=n(310),b=r(y),E=n(6),C=r(E),I=n(652),T=r(I),N=n(67),S=r(N),x=n(616),A=r(x),k=n(50),w=Object.freeze({CourseTemplate:"gs-book",Program:"gs-books",LiveCourse:"gs-in-class"}),R=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEditRelevance=n.handleEditRelevance.bind(n),n.confirmRemoval=n.confirmRemoval.bind(n),n.cancelRemoval=n.cancelRemoval.bind(n),n.remove=n.remove.bind(n),n.state={isConfirmingRemoval:!1},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.learnable,t=(0,C.default)(w[e.itemType],"left margin-r-m"),n=this.getLinkDestination(e),r=h.default.createElement("span",null,h.default.createElement(v.Icon,{className:t}),h.default.createElement("span",{className:"leading-large break-word"},e.name));return this.isConfirmingRemoval()?h.default.createElement(k.Tr,{className:"border-b border-grey"},h.default.createElement(k.Td,{colSpan:"3",mobileClassNames:"pure-u-1",className:"padding-none"},h.default.createElement(A.default,{promptText:I18n.t("Remove Content?"),itemTitle:r,onCancel:this.cancelRemoval,onRemove:this.remove}))):h.default.createElement(k.Tr,{className:"border-b border-grey",mobileClassNames:"pure-g"},h.default.createElement(k.Td,{mobileClassNames:"pure-u-5-8"},h.default.createElement(S.default,(0,s.default)({className:"block indigo"},n),r)),h.default.createElement(k.Td,{mobileClassNames:"pure-u-1-4"},h.default.createElement(_.QuietButton,{className:"group-list__relevance",onClick:this.handleEditRelevance,focusStyleType:"underline","data-capybara":"relevance_btn"},h.default.createElement("span",{className:"button-focus-flat__label"},(0,T.default)(e.relevance)))),h.default.createElement(k.Td,null,this.props.canRemove&&h.default.createElement(_.QuietButton,{onClick:this.confirmRemoval,className:"remove-button base","data-qa":"remove-item",circled:!0},h.default.createElement("span",{className:"screenreader-only"},I18n.t("Remove")),h.default.createElement(v.Icon,{className:"gs-x gs-1x dark-grey"}))))}},{key:"getLinkDestination",value:function(e){switch(e.itemType){case"CourseTemplate":return{to:"author.course",params:{courseId:e.itemId}};case"Program":return{to:"react.author.program",params:{programId:e.itemId}};case"LiveCourse":return{to:"author.live-course",params:{liveCourseId:e.itemId}};default:throw new Error("Unsupported learnable type: "+e.itemType)}}},{key:"handleEditRelevance",value:function(){this.props.onEditRelevance(this.props.learnable)}},{key:"confirmRemoval",value:function(){this.setState({isConfirmingRemoval:!0})}},{key:"isConfirmingRemoval",value:function(){return this.state.isConfirmingRemoval}},{key:"cancelRemoval",value:function(){this.setState({isConfirmingRemoval:!1})}},{key:"remove",value:function(){this.setState({isConfirmingRemoval:!1}),this.props.onRemove(this.props.learnable)}}]),t}(h.default.Component);R.propTypes={learnable:b.default.isRequired,onEditRelevance:g.func.isRequired,canRemove:g.bool,onRemove:g.func},R.defaultProps={canRemove:!0,onRemove:Function.prototype},t.default=R,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(310),g=r(h),v=n(50),_=n(27),y=r(_),b=n(2402),E=r(b),C=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderRow=n.renderRow.bind(n),n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"group-list","data-qa":"groups_list"},f.default.createElement(v.Table,null,f.default.createElement(v.Thead,null,f.default.createElement(v.Tr,{mobileClassNames:"pure-g"},f.default.createElement(v.Th,{sortParam:"title",className:"th-65",mobileClassNames:"pure-u-7-8"},I18n.t("Title")),f.default.createElement(v.Th,{sortParam:"relevance",sortable:!1,className:"th-25",mobileClassNames:"pure-u-7-8"},I18n.t("Relevance")),f.default.createElement(v.Th,{className:"sortable-table__th--icon",sortable:!1},f.default.createElement(y.default,null,I18n.t("Remove Content"))))),f.default.createElement(v.Tbody,null,this.props.learnables.map(this.renderRow))))}},{key:"renderRow",value:function(e){return f.default.createElement(E.default,{key:e.itemType+"-"+e.id,learnable:e,onEditRelevance:this.props.onEditRelevance,onRemove:this.props.onRemove,canRemove:this.props.canRemove[e.itemType]})}}]),t}(f.default.Component);C.propTypes={learnables:(0,m.arrayOf)(g.default),onEditRelevance:m.func,onRemove:m.func,canRemove:(0,m.shape)({CourseTemplate:m.bool,Program:m.bool,LiveCourse:m.bool})},C.defaultProps={learnables:[],canRemove:{CourseTemplate:!0,Program:!0,LiveCourse:!0}},t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(51),g=r(h),v=n(310),_=r(v),y=n(876),b=r(y),E=n(2412),C=r(E),I=n(29),T=r(I),N=n(30),S=r(N),x=n(12),A=n(43),k=n(18),w=r(k),R=n(123),O=r(R),P=n(603),L=r(P),M=n(1298),D=r(M),U=n(52),F=r(U),q=n(1303),B=r(q),j=n(2403),H=r(j),G=n(24),W=r(G),V=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isEnrolling:!1,learnableToEdit:null},n.openEditor=n.openEditor.bind(n),n.closeEditor=n.closeEditor.bind(n),n.enroll=n.enroll.bind(n),n.unenroll=n.unenroll.bind(n),n.editRelevance=n.editRelevance.bind(n),n.onSearchTermChange=n.onSearchTermChange.bind(n),n.searchForNewContent=n.searchForNewContent.bind(n),n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.group,n=e.learnables,r=e.totalPages,a=e.onTitleChange,s=this.canUnenroll(t),i=!!this.props.query.search,o=n&&n.length>0,l=r>1||1===r&&!(n&&n.length);return f.default.createElement("div",null,f.default.createElement(B.default,{group:t,onTitleChange:a}),f.default.createElement(D.default,{group:t}),f.default.createElement("div",{className:"large-content-area--main-container centered"},f.default.createElement("div",{className:"sortable-table-header--first-item"},f.default.createElement("h2",{className:"margin-t-xs margin-b-s left"},I18n.t("Content")),f.default.createElement(w.default,{className:"btn secondary right margin-t-xs",onClick:this.openEditor,"data-capybara":"content_btn"},I18n.t("+ Content"))),f.default.createElement("div",{className:"flex-row flex-space-between"},f.default.createElement(F.default,{searchTerm:this.props.query.search,placeholderText:I18n.t("Search"),onChange:this.onSearchTermChange,urlDriven:!1}),f.default.createElement(O.default,{filterSets:[{key:"itemTypes",label:I18n.t("Type"),options:[{value:x.LEARNING_ITEM_COURSE_TYPE,label:I18n.t("Courses")},{value:x.LEARNING_ITEM_PROGRAM_TYPE,label:I18n.t("Programs")},{value:x.LEARNING_ITEM_LIVE_COURSE_TYPE,label:I18n.t("Live Trainings")}]}],activeFilters:this.props.query,onChange:this.updateFilters})),f.default.createElement(H.default,{learnables:this.props.learnables,onEditRelevance:this.editRelevance,onRemove:this.unenroll,canRemove:s}),!i&&l&&f.default.createElement("div",{className:"text-center margin-tb-m"},f.default.createElement(A.Pagination,{currentPage:+this.props.query.page||0,totalPages:this.props.totalPages,onChange:this.updatePage})),i&&o&&f.default.createElement("div",{className:"text-center black dark-grey margin-tb-m"},f.default.createElement(W.default,null,I18n.t("Showing the most likely items. To see more, refine your search."))),!o&&f.default.createElement("div",{className:"text-center black dark-grey margin-tb-m"},f.default.createElement(W.default,null,I18n.t("There are no items matching this filter."))),this.state.isEnrolling&&f.default.createElement(L.default,{title:this.state.learnableToEdit?I18n.t("Edit Relevance"):I18n.t("Add Content"),nameLabel:I18n.t("Content Title"),searchPlaceholder:I18n.t("Enter title of content"),group:this.state.learnableToEdit,results:this.props.searchResultsForAdding,onCancel:this.closeEditor,onEnroll:this.enroll,onSearch:this.searchForNewContent})))}},{key:"openEditor",value:function(){this.setState({isEnrolling:!0})}},{key:"closeEditor",value:function(){this.setState({isEnrolling:!1,learnableToEdit:null})}},{key:"searchForNewContent",value:function(e){b.default.fetchNewContent(this.props.group.id,{search:e})}},{key:"enroll",value:function(e){C.default.enroll(e,this.props.group.id)}},{key:"unenroll",value:function(e){C.default.unenroll(e,this.props.group.id)}},{key:"canUnenroll",value:function(e){switch(e.type){case x.GROUP_TYPES.GROUP:return{CourseTemplate:(0,T.default)("group_enrollment_destroy",e),Program:(0,T.default)("program_group_enrollment_destroy"),LiveCourse:(0,T.default)("live_course_group_enrollment_destroy")};case x.GROUP_TYPES.DOMAIN:return{CourseTemplate:(0,T.default)("domain_group_enrollment_destroy",e),Program:(0,T.default)("program_domain_group_enrollment_destroy"),LiveCourse:(0,T.default)("live_course_domain_group_enrollment_destroy")};case x.GROUP_TYPES.SMART:return{CourseTemplate:(0,T.default)("smart_group_enrollment_destroy",e),Program:(0,T.default)("program_smart_group_enrollment_destroy"),LiveCourse:(0,T.default)("live_course_smart_group_enrollment_destroy")};case x.GROUP_TYPES.TEAM:return{CourseTemplate:(0,T.default)("team_enrollment_destroy",e),Program:(0,T.default)("program_team_enrollment_destroy"),LiveCourse:(0,T.default)("live_course_team_enrollment_destroy")};default:throw new Error("Unsupported group type: "+e.type)}}},{key:"editRelevance",value:function(e){this.setState({isEnrolling:!0,learnableToEdit:e})}},{key:"updateFilters",value:function(e){S.default.updateQuery(e)}},{key:"updatePage",value:function(e){S.default.updateQuery({page:e})}},{key:"onSearchTermChange",value:function(e){S.default.updateQuery({search:e||void 0,page:void 0})}}]),t}(f.default.Component);V.propTypes={group:g.default.isRequired,learnables:(0,m.arrayOf)(_.default),searchResultsForAdding:(0,m.arrayOf)(_.default),query:(0,m.shape)({search:m.string,itemTypes:(0,m.oneOfType)([m.string,(0,m.arrayOf)(m.string)]),page:m.string}),totalPages:m.number,onTitleChange:m.func},t.default=V,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(22),v=r(g),_=n(876),y=r(_),b=n(51),E=r(b),C=n(310),I=r(C),T=n(2404),N=r(T),S=n(4),x=n(3),A=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=y.default.getTotalPages();return h.default.createElement(N.default,(0,s.default)({},this.props,{totalPages:e}))}}]),t}(h.default.Component);A.propTypes={group:E.default.isRequired,learnables:(0,x.arrayOf)(I.default),query:(0,x.shape)({sort:x.string,search:x.string,itemTypes:(0,x.oneOfType)([x.string,(0,x.arrayOf)(x.string)]),page:x.string})},t.default=(0,v.default)({type:A,blocking:!1,asyncProps:{learnables:{fetch:function(e){return y.default.fetchAll(e.group.id,e.query)},get:function(e){return y.default.getAll(e.group.id,e.query)},shouldRefetch:function(e,t){return!(0,S.isEqual)(e.query,t.query)},setup:function(e){y.default.addChangeListener(e)},teardown:function(e){y.default.removeChangeListener(e)}},searchResultsForAdding:{get:function(e){return y.default.getNewContent(e.group.id)},setup:function(e){y.default.addChangeListener(e)},teardown:function(e){y.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.group.content",path:"content",parent:"author.group",feature:"learn_group_relevance",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(22),l=n(1448),u=n(53),c=n(2),d=c.arrayOf,p=c.bool,f=c.node,m=c.object,h=i.createClass({displayName:"NotSoSmartGroupController",mixins:[u(function(e){l.fetchNext(e.group.id,e.query)})],propTypes:{learners:d(n(42)),isLoading:p,query:m,children:f},render:function(){return i.cloneElement(this.props.children,(0,s.default)({},this.props,{isLoading:this.props.isLoading}))}});e.exports=o({type:h,blocking:!1,asyncProps:{learners:{fetch:function(e){return l.fetch(e.group.id,e.query)},get:function(e){return l.getAll(e.group.id,e.query)},shouldRefetch:function(e,t){return JSON.stringify(e.query)!==JSON.stringify(t.query)},setup:function(e){l.addChangeListener(e)},teardown:function(e){l.removeChangeListener(e)}}}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(22),l=n(638),u=n(3302),c=n(643),d=n(53),p=n(2),f=p.arrayOf,m=p.node,h=p.shape,g=p.string,v=p.bool,_=i.createClass({displayName:"SmartGroupController",mixins:[d(function(e){u.fetchNext(e.group.domainId,e.group.joinType)})],propTypes:{group:n(51).isRequired,learners:f(n(42)),customFields:f(n(276)),query:h({sort:g,search:g}),isLoading:v,children:m},componentDidMount:function(){c.addChangeListener(this.redoMembershipPreview)},componentDidUpdate:function(e){JSON.stringify(this.props.query)!==JSON.stringify(e.query)&&this.redoMembershipPreview()},componentWillUnmount:function(){u.clear(),c.removeChangeListener(this.redoMembershipPreview)},render:function(){return this.props.customFields?i.cloneElement(this.props.children,(0,s.default)({},this.props,{isLoading:this.props.isLoading})):null},redoMembershipPreview:function(){u.fetch(this.props.group.domainId,this.props.group.joinType)}});e.exports=o({type:_,blocking:!1,asyncProps:{customFields:{fetch:function(){return l.fetchAllRecursive().then(function(){return l.getAll()})},shouldRefetch:function(){return!1}},learners:{get:function(){return u.getMembers()},setup:function(e){u.addChangeListener(e)},teardown:function(e){u.removeChangeListener(e)}}}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(12),h=n(2),g=n(29),v=r(g),_=n(20),y=r(_),b=n(1299),E=r(b),C=n(1302),I=r(C),T=n(1300),N=r(T),S=n(1301),x=r(S),A=n(1305),k=r(A),w=n(54),R=r(w),O=n(1303),P=r(O),L=n(1298),M=r(L),D=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isShowingEnrollmentWidget:!1},n.showEnrollmentWidget=n.showEnrollmentWidget.bind(n),n.hideEnrollmentWidget=n.hideEnrollmentWidget.bind(n),n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.showEnrollmentWidgetIfBlank()}},{key:"componentDidUpdate",value:function(){this.showEnrollmentWidgetIfBlank()}},{key:"render",value:function(){var e=this.props,t=e.group,n=e.learners,r=e.onTitleChange;return f.default.createElement("div",null,f.default.createElement(P.default,{group:t,onTitleChange:r},(!(0,y.default)("learn_group_relevance")||t.type===m.GROUP_TYPES.SMART)&&f.default.createElement(R.default,{name:"layout--item-header__actions"},f.default.createElement("div",{className:"padding-t-s"},f.default.createElement(E.default,{group:t,doesNotHaveLearners:0===n.length,onAddLearner:this.showEnrollmentWidget,onGroupChange:this.emitGroupChange}))),t.type===m.GROUP_TYPES.SMART&&(0,v.default)("smart_group_update",t)&&f.default.createElement(R.default,{name:"layout--item-header__after-content"},f.default.createElement(k.default,{customFields:this.props.customFields,group:t,rules:t.rules}))),(0,y.default)("learn_group_relevance")&&f.default.createElement(M.default,{group:t}),f.default.createElement("div",{className:"large-content-area--main-container centered"},(0,y.default)("learn_group_relevance")&&f.default.createElement("div",{className:"sortable-table-header--first-item"},f.default.createElement("h2",{className:"margin-t-xs margin-b-s left"},I18n.t("Members")),f.default.createElement("div",{className:"padding-t-s right"},t.type!==m.GROUP_TYPES.SMART&&f.default.createElement(E.default,{group:t,doesNotHaveLearners:0===n.length,onAddLearner:this.showEnrollmentWidget,onGroupChange:this.emitGroupChange}))),f.default.createElement("div",{className:!(0,y.default)("learn_group_relevance")&&"sortable-table-header--first-item"},f.default.createElement("div",{className:"left indigo"},f.default.createElement(I.default,{group:t})),f.default.createElement(N.default,{sort:this.props.query.sort,group:t})),f.default.createElement(x.default,{group:t,learners:n,isEnrolling:this.state.isShowingEnrollmentWidget,searchTerm:this.props.query.search,sort:this.props.query.sort,onEnroll:this.props.onEnroll,onUnenroll:this.props.onUnenroll,onCancelEnrollment:this.hideEnrollmentWidget}),!this.props.isLoading&&!n.length&&t.type===m.GROUP_TYPES.SMART&&f.default.createElement("p",{className:"margin-trbl-s dark-grey"},I18n.t("There are no learners that match. Try tweaking a rule or two."))))}},{key:"showEnrollmentWidget",value:function(){var e=this.props.group;this.state.isShowingEnrollmentWidget||e.type===m.GROUP_TYPES.GROUP&&(0,v.default)("membership_create",e)&&this.setState({isShowingEnrollmentWidget:!0})}},{key:"hideEnrollmentWidget",value:function(){this.setState({isShowingEnrollmentWidget:!1})}},{key:"showEnrollmentWidgetIfBlank",value:function(){this.props.isLoading||0!==this.props.learners.length||this.showEnrollmentWidget()}}]),t}(f.default.Component);D.propTypes={group:n(51).isRequired,learners:(0,h.arrayOf)(n(42)).isRequired,customFields:(0,h.arrayOf)(n(276)),query:(0,h.shape)({search:h.string,sort:h.string}).isRequired,onTitleChange:h.func,onEnroll:h.func,onUnenroll:h.func,isLoading:h.bool},t.default=D,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(2),v=n(12),_=n(22),y=r(_),b=n(1448),E=r(b),C=n(2409),I=r(C),T=n(2407),N=r(T),S=n(2408),x=r(S),A=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.enrollLearner=n.enrollLearner.bind(n),n.unenrollLearner=n.unenrollLearner.bind(n),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.group.type===v.GROUP_TYPES.SMART?x.default:N.default;return h.default.createElement(e,{group:this.props.group,query:this.props.query},h.default.createElement(I.default,(0,s.default)({},this.props,{onEnroll:this.enrollLearner,onUnenroll:this.unenrollLearner})))}},{key:"enrollLearner",value:function(e){E.default.enroll(this.props.group.id,e,this.props.query)}},{key:"unenrollLearner",value:function(e){E.default.unenroll(this.props.group.id,e,this.props.query)}}]),t}(h.default.Component);A.propTypes={group:n(51),query:(0,g.shape)({sort:g.string,search:g.string}),isLoading:g.bool},t.default=(0,y.default)({type:A,blocking:!1,asyncProps:{}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.group.members",parent:"author.group",default:!0,ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(25),s=r(a),i=n(19),o=r(i),l=n(385),u=r(l),c=n(876),d=r(c);t.enroll=function(e,t){return s.default.all(e.map(function(e){var n=e.result,r=e.relevance,a=n.itemType;return"enrolled"!==r&&"recommended"!==r&&"in_library"!==r?s.default.reject("Unsupported relevance: "+r):"CourseTemplate"!==a&&"Program"!==a&&"LiveCourse"!==a?s.default.reject(n.itemType+" is not a supported item type"):u.default.update(n.itemType,n.itemId,[{result:{id:t},relevance:r}])})).then(function(){d.default.updateLearnables(t,e),(0,o.default)(I18n.t("Changes Saved"))},function(){(0,o.default)(I18n.t("Oh Snap! We were unable to enroll your group. Please try again later."),{type:"error"})})},t.unenroll=function(e,t){var n=e.itemType;"CourseTemplate"!==n&&"Program"!==n&&"LiveCourse"!==n||(u.default.unenroll({learnableType:n,learnableId:e.itemId},t).catch(function(){(0,o.default)(I18n.t("Oh Snap! We were unable to remove your content. Please try again later."),{type:"error"})}),d.default.deleteLearnable(t,e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(5),l=o.Icon,u=n(65),c=n(13),d=n(61),p=n(2),f=p.string,m=p.bool,h=p.func,g=n(374),v=g.Column,_=i.createClass({displayName:"GroupUserListingEntry",propTypes:{user:n(42).isRequired,canRemove:m,onRemove:h,searchTerm:f},render:function(){var e={id:this.props.user.id,name:this.props.user.name,email:this.props.user.email,avatarUrl:this.props.user.avatarUrl};return i.createElement(g,{ref:"entry",user:e,onRemove:this.emitRemoval,removalMessage:I18n.t("Remove from Group?")},i.createElement(v,{mobileClassNames:"pure-u-5-8"},i.createElement(c,{to:"author.learner",params:[{id:e.id}],className:"indigo block"},i.createElement(u,(0,s.default)({},e,{className:"left margin-r-s"})),i.createElement("span",{className:"avatar__label"},i.createElement(d,{highlight:this.props.searchTerm,text:e.name})))),i.createElement(v,{className:"text-right",mobileClassNames:"pure-u-1-8"},this.props.canRemove&&i.createElement("button",{type:"button",onClick:this.promptForRemoval,className:"btn--reset padding-xs"},i.createElement("span",{className:"screenreader-only"},I18n.t("Remove")),i.createElement(l,{className:"gs-x gs-1x dark-grey"}))))},promptForRemoval:function(){this.refs.entry.confirmRemoval()},emitRemoval:function(){this.props.onRemove(this.props.user.id)}});e.exports=_},function(e,t,n){"use strict";var r=n(25),a=n(4),s=a.flowRight,i=function(e){return function(t){return t[e](t)}},o=function(e){return function(t){return t?e(t):void 0}},l=function(e){var t={},n=function(){return e.refs.input},a=function(){return e.refs.list};return t.focusInput=s(i("focus"),n),t.focusFirst=s(o(i("focusFirst")),a),t.focusLast=s(o(i("focusLast")),a),t.showList=function(){return new r(function(t){e.state.listVisible?t():e.setState({listVisible:!0},t)})},t.hideList=function(){e.state.listVisible&&e.setState({listVisible:!1})},t.emitChange=function(t){return new r(function(n){e.props.value!==t?e.props.onChange(t,n):n()})},t.commit=function(){e.props.onCommit()},t.discard=function(){return t.emitChange("")},t.shouldCloseOnBlur=function(){return!e.state.ignoringBlursFromClicks&&!e.state.ignoringBlursFromKeys},t.ignoreCloseOnBlurFromClicks=function(){return new r(function(t){e.state.ignoringBlursFromClicks?t():e.setState({ignoringBlursFromClicks:!0},t)})},t.acceptCloseOnBlurFromClicks=function(){e.state.ignoringBlursFromClicks&&e.setState({ignoringBlursFromClicks:!1})},t.ignoreCloseOnBlurFromKeys=function(){return new r(function(t){e.state.ignoringBlursFromKeys?t():e.setState({ignoringBlursFromKeys:!0},t)})},t.acceptCloseOnBlurFromKeys=function(){e.state.ignoringBlursFromKeys&&e.setState({ignoringBlursFromKeys:!1})},t.emitFocus=function(){e.props.onFocus&&e.props.onFocus()},t};e.exports={add:l}},function(e,t,n){"use strict";function r(){var e=I18n.t("Match all of the following rules:"),t=I18n.t("Match any of the following rules:"),n=s([e,t]),r=n.prefix,a=n.suffix,i=n.diffs,o=i.reduce(function(e,t){return e&&e.length>t.length?e:t});return{prefix:r,suffix:a,spacer:o,options:[{value:f,label:i[0]},{value:p,label:i[1]}]}}var a=n(1),s=n(3333),i=n(64),o=n(60),l=n(3),u=l.func,c=l.oneOf,d=n(12),p=d.SMART_GROUP_JOIN_TYPE_UNION,f=d.SMART_GROUP_JOIN_TYPE_INTERSECT,m=a.createClass({displayName:"MatchTypePicker",propTypes:{onChange:u.isRequired,value:c([p,f]).isRequired},render:function(){var e=r();return a.createElement("div",{className:"rule-select__join-type-selector","data-capybara":"smart-group-rule-editor__match-type"},e.prefix,a.createElement(i,{selectedValue:this.props.value,onChange:this.props.onChange,className:"relative inline-block"},e.options.map(this.renderOption)),e.suffix)},renderOption:function(e){return a.createElement(o,{key:e.value,value:e.value,label:e.label})}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(4),s=a.flowRight,i=n(3),o=i.func,l=i.string,u=i.node,c=i.bool,d=n(5),p=d.KeyMapper,f=d.SelectableList,m=n(28),h=n(5),g=h.Icon,v=n(2414),_=function(e){return function(t){return t?e(t):void 0}},y=function(e){setTimeout(function(){throw e},0)},b=function(e){return function(t){return t.then(e,y)}},E=function(e){return e.target.value},C=r.createClass({displayName:"Picker",propTypes:{activeItemId:l,onCommit:o.isRequired,onChange:o.isRequired,children:u,disabled:c,upperCaseValues:c,value:l,placeholder:l},getDefaultProps:function(){return{upperCaseValues:!1}},getInitialState:function(){return{listVisible:!1,ignoringBlursFromClicks:!1,ignoringBlursFromKeys:!1}},componentWillMount:function(){this.behavior=v.add(this)},inputHasValue:function(){return"string"==typeof this.props.value&&this.props.value.length>0},render:function(){var e=this.behavior,t=e.acceptCloseOnBlurFromClicks,n=e.ignoreCloseOnBlurFromClicks;return r.createElement("div",{className:m("smart-group-picker",{"smart-group-picker--with-list":this.state.listVisible,"smart-group-picker--with-uppercase-values":this.props.upperCaseValues}),onMouseEnter:n,onMouseLeave:t},this.renderInput(),this.state.listVisible&&this.renderList())},renderInput:function(){var e=this.behavior,t=e.showList,n=e.focusFirst,a=e.focusLast,i=e.hideList,o=e.emitChange,l=e.commit,u=e.discard,c=e.acceptCloseOnBlurFromKeys,d=e.ignoreCloseOnBlurFromKeys,f=e.shouldCloseOnBlur,h=e.emitFocus,g=s(b(h),t),v=s(t,o,E),y=s(_(s(i,l)),f);return r.createElement(p,{onKCReturn:s(i,l),onKCEscape:s(i,u),onKCTab:s(i,l),onKCDown:s(b(c),b(n),b(t),d,p.consumeEvent),onKCUp:s(b(c),b(a),b(t),d,p.consumeEvent)},r.createElement("div",null,r.createElement("input",{ref:"input",value:this.props.value||"",placeholder:this.props.placeholder,disabled:this.props.disabled,className:m("smart-group-picker__input",{"smart-group-picker__input--with-value":this.inputHasValue()}),onClick:t,onFocus:g,onChange:v,onBlur:y}),this.renderCaret()))},renderList:function(){var e=this.behavior,t=e.hideList,n=e.focusInput,a=e.emitChange,i=e.commit;return 0===r.Children.count(this.props.children)?null:r.createElement(f,{ref:"list",onSelect:s(b(t),b(i),a),onBlur:s(n,t)},this.props.children)},renderCaret:function(){return r.createElement("button",{tabIndex:"-1",className:"btn--a11y smart-group-picker__caret"},r.createElement(g,{className:"gs-arrow-down"}))}});e.exports=C},function(e,t,n){"use strict";var r=n(1),a=n(64),s=n(60),i=n(18),o=n(27),l=n(5),u=l.Icon,c=n(3),d=c.arrayOf,p=c.func,f=n(2416),m=n(3298),h=n(5),g=h.List,v=n(4),_=v.debounce,y=r.createClass({displayName:"Rule",statics:{debounce:_},propTypes:{onChange:p,onRemove:p,customFields:d(n(276)).isRequired,rule:n(462).isRequired},getInitialState:function(){return this.getInitialStateFromRule()},componentWillMount:function(){this.debouncedFetchCustomFieldValues=this.constructor.debounce(this.fetchCustomFieldValues,219)},componentDidMount:function(){m.addChangeListener(this.reload)},componentWillUpdate:function(e){e.rule!==this.props.rule&&this.setState(this.getInitialStateFromRule(e))},componentDidUpdate:function(e,t){t.customFieldValueSearchTerm!==this.state.customFieldValueSearchTerm&&this.debouncedFetchCustomFieldValues()},componentWillUnmount:function(){m.removeChangeListener(this.reload)},render:function(){var e=this.props.rule;return r.createElement("div",{className:"smart-group-rule-row","data-capybara":"smart-group-rule-editor__rule"},r.createElement("div",{className:"pure-u-1"},r.createElement("div",{className:"pure-u-7-24 relative","data-capybara":"smart-group-rule-editor__rule-custom-field"},r.createElement(f,{value:this.state.customFieldName,onChange:this.trackCustomFieldName,onCommit:this.maybeEmitCustomFieldChange,placeholder:I18n.t("Select an attribute"),onFocus:this.resetCustomFieldNameFilter,upperCaseValues:!0},this.getFilteredCustomFields().map(this.renderCustomField))),r.createElement("div",{className:"pure-u-1-6"},r.createElement(a,{className:"smart-group-rule-editor__rule-predicate",selectedValue:e.predicate,onChange:this.emitPredicateChange},r.createElement(s,{label:I18n.t("is"),value:"is"}),r.createElement(s,{label:I18n.t("is not"),value:"is_not"}))),r.createElement("div",{className:"pure-u-11-24 relative","data-capybara":"smart-group-rule-editor__rule-custom-field-value"},r.createElement(f,{value:this.state.customFieldValue,onChange:this.trackCustomFieldValue,onCommit:this.emitCustomFieldValueChange,onFocus:this.fetchAllCustomFieldValues,disabled:!e.customFieldId,placeholder:e.customFieldId?I18n.t("Search for a value"):I18n.t("Select an attribute to search")},m.getAll(e.customFieldId,this.state.customFieldValueSearchTerm).map(this.renderCustomFieldValue))),r.createElement(i,{className:"btn--reset padding-tb-s smart-group-rule-row__btn--delete",onClick:this.props.onRemove},r.createElement(o,null,I18n.t("Delete Rule")),r.createElement(u,{className:"gs-x gs-1x dark-grey"}))))},renderCustomField:function(e){var t=e.id===this.props.rule.customFieldId;return r.createElement(g.Item,{key:e.id,selected:t},t?r.createElement("strong",null,e.name):e.name)},renderCustomFieldValue:function(e){var t=e===this.props.rule.value;return r.createElement(g.Item,{key:e,selected:t},t?r.createElement("strong",null,e):e)},getFilteredCustomFields:function(){var e=this.state.customFieldNameSearchTerm.toLowerCase();return this.props.customFields.filter(function(t){return t.name.slice(0,e.length).toLowerCase()===e})},maybeEmitCustomFieldChange:function(){var e=this.state.customFieldName,t=this.props.customFields.filter(function(t){return t.name===e})[0];t&&t.id!==this.props.rule.customFieldId?(this.props.onChange({customFieldId:t.id,value:""}),this.setState({customFieldValueSearchTerm:""})):t||this.setState({customFieldName:this.getInitialStateFromRule().customFieldName,customFieldNameSearchTerm:""})},emitPredicateChange:function(e){this.props.onChange({predicate:e})},trackCustomFieldName:function(e,t){var n=this.props.customFields.filter(function(t){return t.id===e})[0],r=n?n.name:e;this.setState({customFieldName:r,customFieldNameSearchTerm:r},t)},resetCustomFieldNameFilter:function(){this.setState({customFieldNameSearchTerm:""})},trackCustomFieldValue:function(e,t){this.setState({customFieldValue:e,
customFieldValueSearchTerm:e},t)},fetchAllCustomFieldValues:function(){this.setState({customFieldValueSearchTerm:""},this.fetchCustomFieldValues)},emitCustomFieldValueChange:function(){this.props.onChange({value:this.state.customFieldValue})},fetchCustomFieldValues:function(){m.fetchAll({customFieldId:this.props.rule.customFieldId,term:this.state.customFieldValueSearchTerm,limit:50})},reload:function(){this.forceUpdate()},getInitialStateFromRule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.rule.customFieldId,n=e.rule.value,r=e.customFields.filter(function(e){return e.id===t})[0];return{customFieldName:r?r.name:"",customFieldNameSearchTerm:"",customFieldValue:r&&n||"",customFieldValueSearchTerm:""}}});e.exports=y},function(e,t,n){"use strict";var r=n(272);e.exports=r({contextType:"group",contextRoute:"author.group"})},function(e,t){"use strict";e.exports={name:"author.group.import.confirm",path:"/author/groups/:contextId/import/confirm"}},function(e,t,n){"use strict";var r=n(273),a=n(379);e.exports=r({contextType:"group",confirmRoute:"author.group.import.confirm",uploadRoute:"author.group.upload",cancelRoute:"author.group",contextual:!0,fetchContext:function(e){return a(e.params.contextId)},generateContextTitle:function(e){return e.name||I18n.t("Untitled Group")}})},function(e,t){"use strict";e.exports={name:"author.group.import",path:"/author/groups/:contextId/import"}},function(e,t,n){"use strict";var r=n(22),a=n(3),s=a.object,i=n(308),o=n(19),l=n(13),u=n(379),c=i({contextType:"group",importRoute:"author.group.import",cancelRoute:"author.group",getTitle:function(){return this.props.group?this.props.group.name||I18n.t("Untitled Group"):null},propTypes:{group:s}});e.exports=r({type:c,blocking:!0,asyncProps:{group:{fetch:function(e){return u(e.params.contextId).then(null,function(){throw o(I18n.t("Group does not exist"),{type:"error"}),l.transitionTo("author.groups"),r.AbortedError})}}}})},function(e,t){"use strict";e.exports={name:"author.group.upload",path:"/author/groups/:contextId/upload"}},function(e,t,n){"use strict";var r=n(1),a=n(97),s=n(54),i=n(24),o=n(64),l=n(60),u=n(52),c=n(29),d=n(2),p=d.arrayOf,f=d.shape,m=d.string,h=d.func,g=d.oneOf,v=n(12),_=v.GROUP_TYPES,y=n(30),b=n(50),E=b.Table,C=b.Thead,I=b.Tbody,T=b.Tr,N=b.Th,S=n(1306),x=n(123),A=r.createClass({displayName:"AuthorGroupsMainView",propTypes:{groups:p(n(51)).isRequired,customFields:p(n(276)).isRequired,query:f({search:m,filters:p(g([_.TEAM,_.SMART,_.GROUP]))}),onCreate:h.isRequired,onRemove:h.isRequired},render:function(){var e=c("group_create")&&c("smart_group_create")&&this.props.customFields.length>0;return r.createElement(a,null,r.createElement(s,{name:"layout--list__header-text"},I18n.t("Groups")),r.createElement(s,{name:"layout--list__after-header"},e?r.createElement("div",{"data-capybara":"author-groups__combo-box"},r.createElement(o,{onChange:this.props.onCreate,className:"right author-groups__combo-box",labelElement:r.createElement("button",{className:"add-btn author-groups__add-group-btn","data-capybara":"add_group_btn"},r.createElement(i,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Group*"),wrappers:{"*":r.createElement("span",{"data-capybara":"add_group",className:"add-btn__text"},"$1")}},"$1")))},r.createElement(l,{value:_.GROUP},r.createElement("strong",null,I18n.t("+ New Group")),r.createElement("p",{className:"author-groups__combo-box-item-desc"},I18n.t("Manually add or remove users"))),r.createElement(l,{value:_.SMART},r.createElement("span",{"data-capybara":"add_smart_group"},r.createElement("strong",null,I18n.t("+ New Smart Group"))),r.createElement("p",{className:"author-groups__combo-box-item-desc"},I18n.t("Add or remove users automatically"))))):this.renderActions()),this.renderListing())},renderActions:function(){return r.createElement("div",null,c("group_create")&&r.createElement("button",{type:"button",className:"add-btn","aria-label":I18n.t("Add New Group"),onClick:this.createGroupOfType(_.GROUP),"data-capybara":"add_group_btn"},r.createElement(i,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Group*"),wrappers:{"*":r.createElement("span",{className:"add-btn__text"},"$1")}},"$1"))),this.props.customFields.length>0&&c("smart_group_create")&&r.createElement("button",{type:"button",className:"add-btn","aria-label":I18n.t("Add New Smart Group"),onClick:this.createGroupOfType(_.SMART),"data-capybara":"author-groups__create-smart-group-btn"},r.createElement(i,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Smart Group*"),wrappers:{"*":r.createElement("span",{className:"add-btn__text"},"$1")}},"$1"))))},renderListing:function(){return r.createElement("div",null,r.createElement("div",{className:"sortable-table-header--first-item"},r.createElement("div",{className:"left indigo"},r.createElement(u,{label:I18n.t("Search"),placeholderText:I18n.t("Search for groups")})),r.createElement("div",{className:"right"},r.createElement(x,{filterSets:[{label:I18n.t("Type"),key:"filters",exclusive:!1,options:[{label:I18n.t("Manager Groups"),value:_.TEAM},{label:I18n.t("Smart Groups"),value:_.SMART},{label:I18n.t("Traditional Groups"),value:_.GROUP}]}],activeFilters:this.props.query,onChange:this.updateFilters,align:"right"}))),r.createElement(E,{className:"groups-table"},r.createElement(C,null,r.createElement(T,{mobileClassNames:"pure-g"},r.createElement(N,{className:"th-65",sortParam:"name",mobileClassNames:"pure-u-5-8"},I18n.t("Name")),r.createElement(N,{className:"th-25",sortParam:"memberships_count",mobileClassNames:"pure-u-1-4"},I18n.t("# Members")),r.createElement(N,{sortable:!1,className:"th-10",mobileClassNames:"pure-u-1-8"},r.createElement("span",{className:"screenreader-only"},I18n.t("Disband Group"))))),r.createElement(I,null,this.props.groups.map(this.renderGroup))))},renderGroup:function(e){return r.createElement(S,{key:e.id,group:e,onRemove:this.props.onRemove,searchTerm:this.props.query.search,canRemove:e.type!==_.DOMAIN&&e.type!==_.TEAM&&(e.type===_.SMART?c("smart_group_destroy",e):c("group_destroy",e))})},createGroupOfType:function(e){var t=this;return function(){t.props.onCreate(e)}},updateFilters:function(e){y.updateQuery(e)}});e.exports=A},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(2),i=s.arrayOf,o=s.shape,l=s.string,u=n(2424),c=n(638),d=n(196),p=n(53),f=n(239),m=n(274),h=n(19),g=n(13),v=r.createClass({displayName:"AuthorGroups",mixins:[p(function(e){d.fetchNext({sort:e.query.sort,search:e.query.search,filters:e.query.filters})}),f,m(function(e){return d.fetchAll({sort:e.query.sort,search:e.query.search,filters:e.query.filters})})],propTypes:{groups:i(n(51)),customFields:i(n(276)),query:o({search:l,sort:l})},render:function(){return this.props.groups&&this.props.customFields?r.createElement(u,{groups:this.props.groups,customFields:this.props.customFields,query:this.props.query,onCreate:this.createGroup,onRemove:this.removeGroup}):null},createGroup:function(e){d.create(e).then(function(e){g.transitionTo("author.group",e)},function(){var e=I18n.t("Oh Snap! We were unable to create a new group. Please try again later.");h(e,{type:"error"})})},removeGroup:function(e){d.remove(e).then(null,function(){var e=I18n.t("Oh Snap! We were unable to remove this group. Please try again later.");h(e,{type:"error"})})}});e.exports=a({type:v,blocking:!1,asyncProps:{groups:{setup:function(e){d.addChangeListener(e)},get:function(e){var t=e.query,n=t.search,r=t.sort,a=t.filters;return d.getAll({sort:r,search:n,filters:a})},teardown:function(e){d.removeChangeListener(e)}},customFields:{fetch:function(){return c.fetchAll({limit:1}).then(function(){return c.getAll()})},shouldRefetch:function(){return!1}}}})},function(e,t){"use strict";e.exports={name:"author.groups",path:"/author/groups",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(93),d=r(c),p=n(22),f=r(p),m=n(317),h=r(m),g=n(222),v=r(g),_=n(641),y=r(_),b=n(107),E=r(b),C=n(29),I=r(C),T=n(13),N=r(T),S=n(19),x=r(S),A=n(3),k=A.object,w=A.arrayOf,R=n(4),O=R.omit,P=n(2455),L=n(615),M=n(2456),D=u.default.createClass({displayName:"AuthorLiveCourse",propTypes:{liveCourse:n(105),permissions:k,query:k,placements:w(n(84)),params:o.default.shape({liveCourseId:o.default.string})},getInitialState:function(){return{disableLibraryToggle:!1}},render:function(){var e=this.props,t=e.permissions,n=e.liveCourse,r=e.query,a=e.placements,i=r.programId,o=r.programTitle,l=Object.assign({},this.props);return u.default.createElement("div",null,i&&u.default.createElement(L,{programId:i,programTitle:o}),u.default.createElement(P,{liveCourse:n,canUpdateCourse:t.updateCourse,canSendMessages:n.directMessagingEnabled&&t.sendMessages,canExpire:t.expire,canToggleLibrary:t.toggleLibrary,onChange:this.updateCourse,disableLibraryToggle:this.state.disableLibraryToggle}),u.default.createElement(M,{liveCourse:n,placements:a,canViewSubAccounts:t.viewAffiliation}),u.default.createElement(d.default,(0,s.default)({},this.props,l,{learnable:n})))},updateCourse:function(e){var t=this,n=this.props.liveCourse.id,r=O(e,"inLibrary");void 0!==e.inLibrary&&(this.setState({disableLibraryToggle:!0}),y.default.toggleRecord(e.inLibrary,"LiveCourse",n).then(function(){h.default.fetch(n).then(function(){t.setState({disableLibraryToggle:!1})})})),Object.keys(r).length>0&&h.default.update(n,r)}});e.exports=(0,f.default)({type:D,blocking:!0,asyncProps:{liveCourse:{setup:function(e){h.default.addChangeListener(e)},fetch:function(e){return h.default.fetch(e.params.liveCourseId).catch(function(){return(0,x.default)(I18n.t("Live Training does not exist"),{type:"error"}),N.default.transitionTo("/author/training"),f.default.AbortedError})},get:function(e){return h.default.get(e.params.liveCourseId)},teardown:function(e){h.default.removeChangeListener(e)}},placements:{setup:function(e){v.default.addChangeListener(e)},fetch:function(){return v.default.fetchAll("live_course_tabs")},get:function(){return v.default.getAll("live_course_tabs")},teardown:function(e){v.default.removeChangeListener(e)}},permissions:{setup:function(e){h.default.addChangeListener(e)},get:function(e){var t={type:"live_course",id:e.params.liveCourseId};return{addGroup:["live_course_team_enrollment_create","live_course_group_enrollment_create","live_course_smart_group_enrollment_create","live_course_domain_group_enrollment_create","live_course_expire_re_enroll"].some(function(e){return(0,I.default)(e)}),updateCourse:(0,I.default)("live_course_update",t),updateSessions:(0,I.default)("live_course_update_sessions",t),expire:(0,I.default)("live_course_expire_re_enroll",t),toggleLibrary:(0,I.default)("library_item_create"),sendMessages:Boolean(E.default.get("notifications")&&(0,I.default)("user_message_send")),enrollLearners:(0,I.default)("live_course_enrollment_create"),unenrollLearners:(0,I.default)("live_course_enrollment_destroy"),exportLearners:(0,I.default)("live_course_export",t),viewAffiliation:(0,I.default)("affiliated_sub_account_view")}},teardown:function(e){h.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.live-course",path:"/author/training/:liveCourseId",loadOrder:2,ember:{parentPath:["author"],sink:!0}}},function(e,t,n){"use strict";var r=n(1),a=n(585),s=n(53),i=n(239),o=n(274),l=n(22),u=n(3),c=u.arrayOf,d=u.object,p=n(636),f=n(29),m="LiveCourse",h=r.createClass({displayName:"AffiliatedAccounts",mixins:[s(function(e){p.fetchNext(e.params.liveCourseId,m,e.query.sort)}),i,o(function(e){return p.fetch(e.params.liveCourseId,m,e.query.sort)})],propTypes:{liveCourse:n(105),accounts:c(n(156)),query:d},render:function(){return r.createElement(a,{accounts:this.props.accounts,onChange:this.changeAffiliation,canShare:f("affiliated_sub_account_share")})},changeAffiliation:function(e,t){t?p.share(this.props.liveCourse.id,m,e):p.revoke(this.props.liveCourse.id,m,e)}});e.exports=l({type:h,asyncProps:{accounts:{get:function(e){return p.getAll(e.params.liveCourseId,m,e.query.sort)},setup:function(e){p.addChangeListener(e)},teardown:function(e){p.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.live-course.affiliated-accounts",path:"affiliated-accounts",parent:"author.live-course",ember:{parentPath:["author","author.live-course"]}}},function(e,t,n){"use strict";var r=n(1),a=n(763),s=n(3),i=s.array,o=s.bool,l=s.shape,u=s.string,c=n(221),d=n(22),p=n(37),f=n(53),m=n(4),h=m.isEqual,g=r.createClass({displayName:"AttachmentView",mixins:[p({mobile:p.QUERY_MOBILE}),f(function(e){c.fetchNext({type:"live_courses",id:e.liveCourse.id},e.query.sort,e.query.search)})],propTypes:{liveCourse:l({id:u}),permissions:l({updateCourse:o}),attachments:l({all:i,pending:i}),query:l({sort:u,search:u})},getDefaultProps:function(){return{permissions:{updateCourse:!1}}},render:function(){var e=this.props.permissions.updateCourse;return r.createElement(a,{context:{type:"live_courses",id:this.props.liveCourse.id},canEdit:e,isMobile:this.state.media.mobile,attachments:this.props.attachments,sort:this.props.query.sort,search:this.props.query.search,forLearnerToggle:!0,availability:!0})}});e.exports=d({type:g,asyncProps:{attachments:{fetch:function(e){var t={type:"live_courses",id:e.params.liveCourseId};return c.fetchByContext(t,e.query.sort,e.query.search)},get:function(e){var t={type:"live_courses",id:e.params.liveCourseId};return c.getByContext(t,e.query.sort,e.query.search)},shouldRefetch:function(e,t){return!h(e.query,t.query)},setup:function(e){c.addChangeListener(e)},teardown:function(e){c.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.live-course.attachments",path:"attachments",parent:"author.live-course",ember:{parentPath:["author","author.live-course"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(460),g=r(h),v=n(309),_=r(v),y=n(3301),b=r(y),E=n(385),C=r(E),I=n(196),T=r(I),N=n(22),S=r(N),x=n(1378),A=r(x),k=n(1377),w=r(k),R=n(20),O=r(R),P=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement(w.default,{learnableType:"live_course",learnableIdParam:"liveCourseId",learnable:{id:this.props.params.liveCourseId},groups:this.props.groups,searchResults:this.props.searchResults,query:this.props.query,params:this.props.params,permissions:this.props.permissions,useDrawerEditor:!0,fetchNext:this.fetchNext,updateGroups:this.updateGroups,createGroups:this.createGroups,unenroll:this.unenroll})}},{key:"fetchNext",value:function(e,t,n){return C.default.fetchNext("LiveCourse",e,t,n)}},{key:"updateGroups",value:function(e,t){return C.default.update("LiveCourse",e,t)}},{key:"createGroups",value:function(e,t,n,r){return C.default.create("LiveCourse",e,t,n,r)}},{key:"unenroll",value:function(e,t){var n=e.learnableId,r=e.sort,a=e.search;return C.default.unenroll({learnableType:"LiveCourse",learnableId:n,sort:r,search:a},t)}}]),t}(f.default.Component);P.propTypes={groups:(0,m.arrayOf)(g.default),searchResults:(0,m.arrayOf)(_.default),query:(0,m.shape)({sort:m.string,search:m.string}),params:(0,m.shape)({liveCourseId:m.string}),permissions:(0,m.shape)({canAddGroup:m.bool})};var L=(0,S.default)({type:P,asyncProps:{groups:{fetch:function(e){return C.default.fetch("LiveCourse",e.params.liveCourseId,e.query.sort,e.query.search)},get:function(e){return C.default.getAll("LiveCourse",e.params.liveCourseId,e.query.sort,e.query.search)},setup:function(e){C.default.addChangeListener(e)},teardown:function(e){C.default.removeChangeListener(e)}},searchResults:{setup:function(e){T.default.addChangeListener(e)},get:function(){return T.default.getFound()},teardown:function(e){T.default.removeChangeListener(e)}}}}),M=(0,A.default)({learnableGroupStore:b.default,learnableIdParam:"liveCourseId",learnableType:"live_course",showRegistered:!1,useDrawerEditor:(0,O.default)("learn_libraryitem_relevance")}),D=(0,O.default)("learn_libraryitem_relevance")?L:M;t.default=D,e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.live-course.groups",parent:"author.live-course",path:"groups",ember:{parentPath:["author","author.live-course"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(11),d=r(c),p=n(368),f=r(p),m=n(1453),h=r(m),g=n(120),v=r(g),_=n(6),y=r(_),b=n(788),E=r(b),C=n(374),I=u.default.createClass({displayName:"LiveCourseLearnerEntry",propTypes:{learnableId:o.default.string,canExpire:o.default.bool,showRenewDate:o.default.bool,enrollment:n(850).isRequired},updateEnrollmentExpiresAt:function(e){var t=this.props,n=t.learnableId,r=t.enrollment;r.expiresAt!==e&&h.default.update(n,r.id,{expiresAt:e})},render:function(){var e=(0,y.default)({"live-course-enrollment--inactive":!this.props.enrollment.active}),t=this.props.enrollment;return u.default.createElement(E.default,(0,s.default)({},this.props,{className:e}),this.props.showRenewDate&&u.default.createElement(C.Column,{key:"renew",mobileClassNames:"pure-u-1-8"},"complete"===t.state&&u.default.createElement(f.default,{canEdit:t.active&&this.props.canExpire,clearPromptText:I18n.t("No renewal required"),dateToText:function(e){return(0,v.default)(e,"date")},value:t.expiresAt,onChange:this.updateEnrollmentExpiresAt})),u.default.createElement(C.Column,{key:"session",mobileClassNames:"pure-u-1-8"},t.startAt?I18n.t("%{start_date} at %{start_time}",{start_date:(0,d.default)(t.startAt).format("LL"),start_time:(0,d.default)(t.startAt).format("LT")}):I18n.t("Not registered")))}});e.exports=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(1380),u=r(l),c=n(450),d=o.default.createClass({displayName:"LiveCourseLearnerListing",propTypes:{showRenewDate:s.default.bool},render:function(){return o.default.createElement(u.default,this.props,this.props.showRenewDate&&o.default.createElement(c.Column,{key:"renew_date",sortParam:"renew_date"},I18n.t("Expires")),o.default.createElement(c.Column,{key:"session",sortParam:"session"},I18n.t("Session")))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1381),s=r(a),i=n(2436),o=r(i),l=n(2435),u=r(l),c=n(1453),d=r(c),p=n(109),f=r(p);e.exports=(0,s.default)({enrollmentStore:d.default,learnableIdParam:"liveCourseId",searchInLearnable:f.default.searchInLiveCourse.bind(f.default),getFoundInLearnable:f.default.getFoundInLiveCourse.bind(f.default),getPropsForLearnable:function(e){return{searchMemberMessage:I18n.t("Already In Live Training"),listingComponent:o.default,listingProps:{showRenewDate:e.expires},entryComponent:u.default,entryProps:{showRenewDate:e.expires},headerProps:{uploadRoute:"author.live-course.learners.upload",reportParams:{id:"LiveCourseEnrollmentsReport",live_course_id:e.id}},inlineEnrollmentEditorProps:{searchColSpan:e.expires?"3":"2"}}}})},function(e,t){"use strict";e.exports={name:"author.live-course.learners",parent:"author.live-course",path:"learners",ember:{parentPath:["author","author.live-course"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(22),u=r(l),c=n(238),d=r(c),p=n(59),f=o.default.createClass({displayName:"Placement",propTypes:{params:s.default.shape({placementId:s.default.string,liveCourseId:s.default.string}),ltiResource:p.LtiResourceSchema,isLoading:s.default.bool},render:function(){return o.default.createElement(p.LtiResourceIframe,{ltiResource:this.props.ltiResource,isLoading:this.props.isLoading})}});t.default=(0,u.default)({type:f,asyncProps:{ltiResource:{fetch:function(e){return(0,d.default)("author",e.params.placementId,{live_course_id:e.params.liveCourseId})},shouldRefetch:function(e,t){return e.params.placementId!==t.params.placementId}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.live-course.placement",parent:"author.live-course",path:"placement/:placementId",ember:{parentPath:["author","author.live-course"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{sessions:{setup:function(e){i.default.addChangeListener(e)},fetch:function(t){var n=t.params.liveCourseId;return i.default.fetchAll(n,e(n,t.query))},get:function(e){return i.default.getAll(e.params.liveCourseId)},teardown:function(e){i.default.removeChangeListener(e)},shouldRefetch:function(e,t){var n=(0,a.omit)(e.query,["session","part"]),r=(0,a.omit)(t.query,["session","part"]);return!(0,a.isEqual)(n,r)}},webConferences:{setup:function(e){l.default.addChangeListener(e)},fetch:function(e){return l.default.fetchAll(e.params.liveCourseId)},get:function(e){return l.default.getAll(e.params.liveCourseId)},teardown:function(e){l.default.removeChangeListener(e)}}}};var a=n(4),s=n(316),i=r(s),o=n(877),l=r(o);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=r(i),l=n(6),u=r(l),c=n(20),d=r(c),p=n(58),f=r(p),m=n(88),h=r(m),g=n(82),v=r(g),_=n(18),y=r(_),b=n(91),E=r(b),C=n(5),I=n(13),T=r(I),N=n(591),S=r(N),x=n(3),A=n(1308),k=n(364),w=r(k),R=n(75),O=n(11),P=r(O),L=n(451),M=r(L),D=n(27),U=r(D),F=n(94),q=r(F),B=n(24),j=r(B),H=n(61),G=r(H),W=n(48),V=(0,R.scaleThreshold)().domain([320,480]).range([40,30,20]),Y=s.default.createClass({displayName:"Card",mixins:[h.default.mixin],propTypes:{session:n(80),isConcluded:x.bool.isRequired,registrations:x.array.isRequired,openEnrollment:x.bool,webConference:n(158),canUpdateSession:x.bool,onEdit:x.func.isRequired,onRemove:x.func.isRequired,selected:x.bool,selectionMode:x.bool,onToggleSelected:x.func.isRequired,query:(0,x.shape)({filters:(0,x.oneOfType)([x.string,(0,x.arrayOf)(x.string)]),search:x.string})},getDefaultProps:function(){return{onEdit:Function.prototype,onRemove:Function.prototype,onToggleSelected:Function.prototype}},getInitialState:function(){return{active:!1,svgWidth:400,svgHeight:40}},componentDidMount:function(){this.sizeComponent(),window.addEventListener("resize",this.sizeComponent),M.default.addChangeListener(this.sizeComponent)},componentWillUnmount:function(){window.removeEventListener("resize",this.sizeComponent),M.default.removeChangeListener(this.sizeComponent)},render:function(){var e=this.isConfirmingRemoval(),t=this.shouldRenderBanner(),n=(0,u.default)("live-course-session-card",{"live-course-session-card--selection-mode":this.props.selectionMode,"live-course-session-card--remove":e,"live-course-session-card--with-banner":t});return e?s.default.createElement("div",{className:n,ref:"card"},this.renderRemoval()):s.default.createElement("div",{className:n,ref:"card"},t&&this.renderBanner(),this.renderMain(),this.renderStatsOrMeta(),(0,d.default)("ilt_reports_v2")&&this.renderSelectionCheckbox())},renderBanner:function(){var e=this.props.session.isPublished,t=(0,u.default)("live-course-session-card__banner",{"live-course-session-card__banner--unpublished":!e});return s.default.createElement("div",{className:t},!e&&s.default.createElement(j.default,null,I18n.t("Unpublished")))},renderMain:function(){return s.default.createElement("div",{className:"live-course-session-card__main"},s.default.createElement("div",{className:"live-course-session-card__main__details"},this.renderSessionLink(),this.renderSessionTime(),this.renderSessionLocation()),s.default.createElement("div",null,this.renderMenuTooltip()))},renderStatsOrMeta:function(){var e=this.props,t=e.registrations,n=e.isConcluded,r=e.session,a=P.default.tz(r.timezone),s=r.endAt&&P.default.tz(r.endAt,r.timezone)<a;return s?s&&!n?this.renderSessionOver():s&&0===t.length?this.renderNoOneCared():this.renderStats():this.renderMeta()},renderMeta:function(){var e=this.props.session;return s.default.createElement("div",{className:"live-course-session-card__meta"},s.default.createElement("p",null,s.default.createElement("label",null,I18n.t("Count")),s.default.createElement("span",{className:"live-course-session-card__meta__value live-course-session-card__registered","data-capybara":"seat_count"},e.registeredCount)),s.default.createElement("p",null,s.default.createElement("label",null,I18n.t("Limit")),s.default.createElement("span",{className:"live-course-session-card__meta__value live-course-session-card__seats","data-capybara":"limit_count"},e.seats||I18n.t("None"))),this.isOpenEnrollmentAvailable()&&s.default.createElement("p",null,s.default.createElement("label",null,I18n.t("Link")),s.default.createElement("span",{className:"live-course-session-card__meta__value live-course-session-card__link","data-capybara":"link"},s.default.createElement(C.Icon,{className:"gs-link","aria-hidden":"true"}))),this.isWebConferenceEnabled()&&s.default.createElement("p",null,s.default.createElement("label",null,I18n.t("Web Conf.")),s.default.createElement("span",{className:"live-course-session-card_meta__value live-course-session-card__conf","data-capybara":"web_conf"},s.default.createElement(C.Icon,{className:"gs-webconf","aria-hidden":"true"}))))},renderStats:function(){var e=this.props.registrations,t=e.filter(function(e){return!(0,f.default)(e.markedCompleteAt)}),n=(0,R.scaleThreshold)().domain([25,35]).range(["x-small","small","x-medium"]);return s.default.createElement("div",{className:"live-course-session-card__stats"},s.default.createElement("span",{className:"x-small"},I18n.t("Attendance")),s.default.createElement(w.default,{currentValue:t.length,maxValue:e.length,withAbsoluteValues:!0,svgWidth:this.state.svgWidth,svgHeight:this.state.svgHeight,startColor:W.BLEND_GRBL_NARROW_BL,endColor:W.BLEND_GRBL_NARROW_GR,backgroundColor:W.GREY,labelClass:n(this.state.svgHeight)+" bold",absoluteValueClass:n(this.state.svgHeight)+" bold",absoluteValueYExtent:18}))},renderSessionOver:function(){var e=this;return s.default.createElement("div",{className:"live-course-session-card__message"},s.default.createElement("table",null,s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,s.default.createElement("span",{className:"base bright-blue"},I18n.t("Session over? Tell us who made it and who didn't."))),s.default.createElement("td",null,s.default.createElement(v.default,{link:!0,disableTooltip:!0,onClick:function(){return T.default.transitionTo(["author.live-course.sessions.show",e.props.session.liveCourseId,e.props.session.id])},buttonClassName:"bright-blue-button btn btn--round-with-icon-medium",icon:"check",iconClassName:"bright-blue",label:I18n.t("Conclude session")}))))))},renderNoOneCared:function(){return s.default.createElement("div",{className:"live-course-session-card__message"},s.default.createElement("table",null,s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,s.default.createElement("span",{className:"base orange"},I18n.t("No one registered for this. Delete empty session?"))),s.default.createElement("td",null,s.default.createElement(v.default,{link:!0,disableTooltip:!0,onClick:this.confirmRemoval,buttonClassName:"orange-button btn btn--round-with-icon-medium",icon:"trash",iconClassName:"orange",label:I18n.t("Delete session")}))))))},renderMenu:function(){var e=this.props,t=e.session,n=e.canUpdateSession;return s.default.createElement("div",{className:"live-course-session-card__menu"},s.default.createElement("ul",null,s.default.createElement("li",null,s.default.createElement(T.default,{className:"live-course-session-card__attendees-link",to:"author.live-course.sessions.show",params:[{liveCourseId:t.liveCourseId},{sessionId:t.id}]},s.default.createElement(C.Icon,{className:"gs-user","aria-hidden":"true"})," ",I18n.t("Learners"))),t.isPublished&&this.isOpenEnrollmentAvailable()&&s.default.createElement("li",null,s.default.createElement(S.default,{anchor:"bottomRight",anchorTo:this.refs.card,anchorToFactor:1,triggerClassName:"live-course-session-card__menu__copy-link",value:t.enrollUrl,text:I18n.t("Link"),title:I18n.t("Share this live training session with others"),description:I18n.t("Copy the link below and share it with attendees"),children:this.renderCopyTextLink()})),n&&s.default.createElement("li",null,s.default.createElement("a",{onClick:this.props.onEdit,className:"live-course-session-card__menu__edit-link","data-capybara":"session-card-edit-link"},s.default.createElement(C.Icon,{className:"gs-edit","aria-hidden":"true"})," ",I18n.t("Edit"))),n&&!this.isConfirmingRemoval()&&s.default.createElement("li",null,s.default.createElement("a",{onClick:this.confirmRemoval,className:"live-course-session-card__menu__remove-btn","data-capybara":"session-card-remove-link"},s.default.createElement(C.Icon,{className:"gs-trash","aria-hidden":"true"})," ",I18n.t("Delete")))))},renderRemoval:function(){return s.default.createElement("div",{className:"live-course-session-card__removal"},s.default.createElement(j.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Are you sure you want%{br}to delete this session?",{br:"%{br}"}),br:s.default.createElement("br",null)},"$1")),s.default.createElement("div",{className:"live-course-session-card__removal__options"},s.default.createElement("div",{className:"live-course-session-card__removal__options__option"},s.default.createElement("p",null,s.default.createElement(y.default,{className:"live-course-session-card__removal__cancel-btn",onClick:this.cancelRemoval,children:I18n.t("Cancel")}))),s.default.createElement("div",{className:"live-course-session-card__removal__options__option"},s.default.createElement("p",null,s.default.createElement(y.default,{className:"live-course-session-card__removal__confirm-btn",onClick:this.remove,children:I18n.t("Delete")})))))},renderCopyTextLink:function(){return[s.default.createElement(C.Icon,{key:"copy-text-icon",className:"gs-link","aria-hidden":"true"}),s.default.createElement("span",{key:"copy-text-label"},I18n.t("Link"))]},renderSessionLink:function(){var e=this.props.session;return s.default.createElement(T.default,{to:"author.live-course.sessions.show",params:[{liveCourseId:e.liveCourseId},{sessionId:e.id}]},s.default.createElement("h3",{className:"live-course-session-card__date"},(0,A.formatDateRange)(e.startAt,e.endAt,e.timezone)||I18n.t("Unscheduled")))},renderSessionTime:function(){var e=this.props,t=e.session,n=e.onEdit,r=e.canUpdateSession;if(t.multiPart){var a=t.partsCount&&t.partsCount>1;return r&&s.default.createElement("a",{className:"live-course-session-card__view-parts",onClick:function(e){e.preventDefault(),n()}},a?s.default.createElement(j.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("View all %{session_parts_count} parts",{session_parts_count:"%{session_parts_count}"}),session_parts_count:t.partsCount},"$1")):s.default.createElement(j.default,null,I18n.t("View all parts")),s.default.createElement(C.Icon,{className:"gs-arrow-right"}))}return t.startAt&&t.endAt?s.default.createElement("p",{className:"live-course-session-card__time"},(0,A.formatTime)(t.startAt,t.timezone)," ",I18n.t(" to ")," ",(0,A.formatTime)(t.endAt,t.timezone,!0)):t.startAt?s.default.createElement("p",{className:"live-course-session-card__time"},(0,A.formatTime)(t.startAt,t.timezone,!0)):t.endAt?s.default.createElement("p",{className:"live-course-session-card__time"},(0,A.formatTime)(t.endAt,t.timezone,!0)):""},renderSessionLocation:function(){var e=this.props.session;return e.multiPart?null:e.location&&s.default.createElement("p",{className:"live-course-session-card__location"},s.default.createElement("label",null,I18n.t("Location")),s.default.createElement(G.default,{
text:e.location,highlight:this.props.query.search}))},renderSelectionCheckbox:function(){return s.default.createElement("div",{className:"live-course-session-card__selection"},s.default.createElement(E.default,{value:this.props.session.id,checked:this.props.selected,onChange:this.props.onToggleSelected}))},renderMenuTooltip:function(){return s.default.createElement(q.default,{className:"live-course-session-card__menu__tooltip",activateOnClick:!0},s.default.createElement(q.default.Trigger,null,s.default.createElement(y.default,{className:"live-course-session-card__menu--round"},s.default.createElement(C.Icon,{key:"trigger-icon",className:"gs-more-dots"}),s.default.createElement(U.default,{key:"trigger-text"},s.default.createElement(j.default,null,I18n.t("Session card menu"))))),s.default.createElement(q.default.Content,{dark:!0},this.renderMenu()))},shouldRenderBanner:function(){var e=this.props.session.isPublished;return!e},isOpenEnrollmentAvailable:function(){var e=this.props.openEnrollment,t=this.props.session,n=!!t.enrollUrl,r=!t.seats||t.registeredCount<t.seats,a=new Date(t.startAt).getTime()>Date.now();return e&&n&&r&&a},isWebConferenceEnabled:function(){return this.props.session.hasWebConference},sizeComponent:function(){var e=o.default.findDOMNode(this).getBoundingClientRect().width,t=V(e);this.state.svgHeight!==t&&this.setState({svgHeight:t})}});e.exports=Y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(364),u=r(l),c=n(2444),d=r(c),p=n(58),f=r(p),m=n(4),h=n(75),g=n(24),v=r(g),_=n(451),y=r(_),b=n(48),E=(0,h.scaleThreshold)().domain([600,800]).range([40,30,20]),C=(0,h.scaleThreshold)().domain([25,35]).range(["x-small","small","x-medium"]);t.default=s.default.createClass({displayName:"ILTDashboardMetrics",propTypes:{liveCourse:n(105).isRequired},totalSessions:function(){var e=this.props.liveCourse,t=e.concludedSessions,n=e.futureSessions;return t.length+n.length},totalEnrollments:function(){var e=this.props.liveCourse.enrollments;return(0,f.default)(e)?0:e.length},totalRegistrations:function(){var e=function(e){return e.map(function(e){return e.registrations.map(function(e){return e.enrollmentId})})},t=this.props.liveCourse,n=t.concludedSessions,r=t.futureSessions,a=e(n),s=e(r);return(0,m.uniq)((0,m.flattenDeep)([a,s]))},sizeComponent:function(){var e=o.default.findDOMNode(this);if(!(0,f.default)(e)){var t=E(e.getBoundingClientRect().width);this.state.svgHeight!==t&&this.setState({svgHeight:t})}},getInitialState:function(){return{svgHeight:30}},componentDidMount:function(){this.sizeComponent(),window.addEventListener("resize",this.sizeComponent),y.default.addChangeListener(this.sizeComponent)},componentWillUnmount:function(){window.removeEventListener("resize",this.sizeComponent),y.default.removeChangeListener(this.sizeComponent)},render:function(){if(0===this.totalEnrollments()||0===this.totalSessions())return null;var e=this.totalRegistrations().length,t="ilt-metrics__dashboard__row__leftcolumn",n=b.BLEND_CYPU_NARROW_PU,r=b.BLEND_CYPU_NARROW_CY,a=300,i=0,o=0;if(this.props.liveCourse.concludedSessions)for(var l=0;l<this.props.liveCourse.concludedSessions.length;l++)i+=this.props.liveCourse.concludedSessions[l].registrations.length,o+=this.props.liveCourse.concludedSessions[l].registrations.filter(function(e){return!(0,f.default)(e.markedCompleteAt)}).length;return 0===i&&(t="ilt-metrics__dashboard__row__onlycolumn",n=b.BLEND_CYPU_WIDE_PU,r=b.BLEND_CYPU_WIDE_CY,a=600),s.default.createElement("div",{className:"ilt-metrics"},s.default.createElement("div",{className:"ilt-metrics__dashboard pure-g-r"},s.default.createElement("div",{className:"ilt-metrics__dashboard__row pure-u-1"},s.default.createElement("div",{className:t},s.default.createElement("p",{className:"ilt-metrics__dashboard__title"},s.default.createElement(v.default,null,I18n.t("Are people signing up?"))),s.default.createElement("p",{className:"ilt-metrics__dashboard__subtitle"},s.default.createElement(v.default,null,I18n.t("People signed up for a previous or upcoming session"))),s.default.createElement("span",{className:"ilt-metrics__dashboard__vizheader"},I18n.t("Registration Rate")),s.default.createElement(u.default,{currentValue:e,maxValue:this.totalEnrollments(),svgHeight:this.state.svgHeight,svgWidth:a,startColor:n,endColor:r,labelClass:C(this.state.svgHeight)+" bold",withAbsoluteValues:!0,absoluteValueClass:C(this.state.svgHeight)+" bold",absoluteValueYExtent:18,backgroundColor:b.GREY})),0!==i&&s.default.createElement("div",{className:"ilt-metrics__dashboard__row__rightcolumn"},s.default.createElement("p",{className:"ilt-metrics__dashboard__title"},s.default.createElement(v.default,null,I18n.t("Are people showing up, so far?"))),s.default.createElement("p",{className:"ilt-metrics__dashboard__subtitle"},s.default.createElement(v.default,null,I18n.t("Comparison of those attended vs. no shows"))),s.default.createElement("span",{className:"ilt-metrics__dashboard__vizheader"},I18n.t("Attendance to date")),s.default.createElement(u.default,{currentValue:o,maxValue:i,svgHeight:this.state.svgHeight,svgWidth:300,startColor:b.BLEND_GRBL_NARROW_BL,endColor:b.BLEND_GRBL_NARROW_GR,labelClass:C(this.state.svgHeight)+" bold",withAbsoluteValues:!0,absoluteValueClass:C(this.state.svgHeight)+" bold",absoluteValueYExtent:18,backgroundColor:b.GREY})))),s.default.createElement("div",null,s.default.createElement(d.default,{totalSessions:this.totalSessions(),totalEnrollments:this.totalEnrollments()})))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=function(e){var t=e.totalSessions,n=void 0===t?0:t,r=e.totalEnrollments,a=void 0===r?0:r;return o.default.createElement("p",{className:"gs-info gs-1x ilt-metrics__caption",dangerouslySetInnerHTML:{__html:I18n.t("Showing data from %{totalSessions} and a total of %{totalEnrollments}.",{totalSessions:I18n.t({one:"the *one published session*",other:"all *%{count} published sessions*"},{count:n,wrappers:["<b>$1</b>"]}),totalEnrollments:I18n.t({one:"*one enrollment*",other:"*%{count} enrollments*"},{count:a,wrappers:["<b>$1</b>"]})})}})};l.propTypes={totalSessions:s.default.number.isRequired,totalEnrollments:s.default.number.isRequired},t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(11),o=r(i),l=n(13),u=r(l),c=n(5),d=n(3),p=s.default.createClass({displayName:"SessionAlert",propTypes:{session:n(80).isRequired,webConference:n(158),onRemove:d.func},getDefaultProps:function(){return{onRemove:Function.prototype}},hasMeetingURL:function(e){return e&&!/javascript:/.test(e.meetingUrl)},render:function(){var e=this.props,t=e.session,n=e.webConference,r=e.onRemove;return s.default.createElement("li",{className:"live-course-session-alert"},s.default.createElement("div",{className:"live-course-session-alert__date"},this.getStartDate()),s.default.createElement("div",{className:"live-course-session-alert__start-time"},this.getStartTime()),s.default.createElement("div",{className:"live-course-session-alert__end-time"},this.getEndTime()),s.default.createElement("div",{className:"live-course-session-alert__relative-time"},this.getRelativeTime()),s.default.createElement("div",{className:"live-course-session-alert__actions"},this.hasMeetingURL(n)&&s.default.createElement("a",{href:n.meetingUrl,className:"live-course-session-alert__join-btn btn",target:"_blank"},I18n.t("Launch")),s.default.createElement(u.default,{className:"live-course-session-alert__attendees-btn btn",to:"author.live-course.sessions.show",params:[{liveCourseId:t.liveCourseId},{sessionId:t.id}]},I18n.t("Attendance")),s.default.createElement("a",{onClick:function(){return r(t)},className:"live-course-session-alert__remove-btn"},s.default.createElement(c.Icon,{className:"gs-x","aria-hidden":"true"}))))},getStartDate:function(){var e=this.props.session.startAt;return e&&(0,o.default)(e).format("ddd, MMM D")},getStartTime:function(){var e=this.props.session.startAt;return e&&(0,o.default)(e).format("LT")},getEndTime:function(){var e=this.props.session.endAt;return e&&(0,o.default)(e).format("LT")},getRelativeTime:function(){var e=this.props.session.startAt;if(!e)return null;var t=(0,o.default)(e);return I18n.t("%{prefix} %{time}",{prefix:t>=(0,o.default)()?"Starts":"Started",time:t.fromNow()})}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(547),h=r(m),g=n(2448),v=r(g),_=n(2447),y=r(_),b=n(2449),E=r(b),C=n(1307),I=r(C),T=n(5),N=n(4),S=n(3),x=n(80),A=r(x),k=n(158),w=r(k),R=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.renderSessionContent=function(e){var t=n.props,r=t.webConference,a=t.session,s=t.saveWebConference,i=t.toggleSessionEditModal,o=t.isSavingSession;return e?f.default.createElement(y.default,{saveSession:(0,N.partial)(n.saveSession,e.id),saveWebConference:(0,N.partial)(s,e.id),removePart:n.openDeleteDialog,openWebConferenceEditor:n.openWebConferenceEditor,session:e,webConference:r,toggleSessionEditModal:i,isSavingSession:o,timezone:a.timezone}):f.default.createElement(T.Loader,{className:"session-editor__content__loader",loaderSize:"large"})},n.openDeleteDialog=function(){var e=n.props,t=e.removeSession,r=e.activePartId;n.setState({dialog:{title:I18n.t("Are you sure you want to delete this part?"),text:I18n.t("Deleting this part cannot be undone."),actionText:I18n.t("Delete"),action:function(){t(r),n.closeDialog()},close:n.closeDialog,actionModifierClass:"delete"}})},n.closeDialog=function(){n.setState({dialog:null})},n.saveSession=function(e,t){n.setState({dirty:!0,sessionWasPublished:n.props.session.isPublished}),n.props.saveSession(e,t)},n.publishSession=function(){n.setState({dirty:!0}),n.props.publishSession()},n.openWebConferenceEditor=function(){var e=n.props.webConference;e.provider&&n.props.openWebConfEditor()},n.state={errors:{},dirty:!1,isConfirmingPublish:!1,sessionWasPublished:e.session&&e.session.isPublished,dialog:null},n}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.session,n=e.sessionParts,r=e.isLoadingParts,a=e.activePartId,s=t.multiPart?n.find(function(e){return e.id===a}):t;return f.default.createElement("div",{className:"session-editor"},f.default.createElement(v.default,{saveSession:(0,N.partial)(this.saveSession,t.id),session:t,isSavingSession:this.props.isSavingSession,publishSession:this.publishSession,toggleSessionEditModal:this.props.toggleSessionEditModal,dirty:this.state.dirty,sessionWasPublished:this.state.sessionWasPublished}),f.default.createElement(h.default,{transitionName:"session-editor__parts-animation",transitionEnterTimeout:300,transitionLeaveTimeout:600,component:"div",className:"drawer-modal__content session-editor__content-box"},this.state.dialog&&f.default.createElement("div",{className:"session-editor__dialog-box"},f.default.createElement(I.default,this.state.dialog)),t.multiPart&&f.default.createElement(E.default,{addPart:this.props.addPart,setActivePart:this.props.setActivePart,parts:n,isLoadingParts:r,activePartId:a,key:"session-parts-list",addingPart:this.props.addingPart}),this.renderSessionContent(s)))}}]),t}(f.default.Component);R.propTypes={saveSession:S.func,publishSession:S.func,openWebConfEditor:S.func,session:A.default,webConference:w.default,sessionParts:(0,S.arrayOf)(A.default),toggleSessionEditModal:S.func,isSavingSession:S.bool,isLoadingParts:S.bool,saveWebConference:S.func,addPart:S.func,removeSession:S.func,setActivePart:S.func,activePartId:S.string,addingPart:S.bool},R.defaultProps={saveSession:Function.prototype,saveWebConference:Function.prototype,setActivePart:Function.prototype,removeSession:Function.prototype,sessionParts:[]},t.default=R,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return{id:e.id,date:e.startAt,startAt:e.startAt?(0,w.formatTime)(e.startAt,n):"",endAt:e.endAt?(0,w.formatTime)(e.endAt,n):"",location:e.location||"",notes:e.notes||"",timezone:n,title:e.title||"",provider:t?t.provider:null}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),i=r(s),o=n(9),l=r(o),u=n(14),c=r(u),d=n(15),p=r(d),f=n(17),m=r(f),h=n(16),g=r(h),v=n(1),_=r(v),y=n(547),b=r(y),E=n(18),C=r(E),I=n(77),T=r(I),N=n(5),S=n(11),x=r(S),A=n(4),k=n(3),w=n(1308),R=n(6),O=r(R),P=n(3330),L=n(80),M=r(L),D=n(158),U=r(D),F=function(e){function t(){(0,c.default)(this,t);var e=(0,m.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.checkUpdateAndSave=function(t){var n=(0,l.default)({},e.props.session),r=(0,A.some)(t,function(e,t){return n[t]!==e});r&&e.props.saveSession(t)},e.onDateChange=function(t){var n=(0,x.default)(t),r=e.props,a=r.session,s=r.timezone,i={minute:0,second:0,millisecond:0},o=n.isValid?n:x.default.tz(s),u=o.date(),c=o.month(),d=o.year(),p=x.default.tz(a.startAt||new Date,s).set({date:u,month:c,year:d}),f=x.default.tz(a.endAt||new Date,s).set({date:u,month:c,year:d});a.startAt||(p.set((0,l.default)({hour:0},i)),f.set((0,l.default)({hour:1},i)));var m=p.toISOString(),h=f.toISOString();e.checkUpdateAndSave({startAt:m,endAt:h})},e.onTitleBlur=function(t){e.checkUpdateAndSave({title:t.target.value||null})},e.onLocationBlur=function(t){e.checkUpdateAndSave({location:t.target.value||null})},e.onNotesBlur=function(t){e.checkUpdateAndSave({notes:t.target.value||null})},e.onTimeBlur=function(t,n){var r=e.props,a=r.session,s=r.timezone,i=x.default.tz(a[t],s),o=(0,P.parseTime)(n.target.value,s);o.set({date:i.date(),year:i.year(),month:i.month()});var l=o.isValid()?o.toISOString():null;e.resetTimeRange(t,l)},e.resetTimeRange=function(t,n){var r=e.props,a=r.session,s=r.timezone,o=x.default.tz(a.startAt,s),l=(0,i.default)({startAt:a.startAt,endAt:a.endAt},t,n),u=l.startAt?x.default.tz(l.startAt,s):x.default.tz("0","H",s).set({date:o.date(),month:o.month(),year:o.year()}),c=l.endAt?x.default.tz(l.endAt,s):u;c.diff(u)<=0&&(c=u.clone().add(1,"hours")),l.startAt=u.toISOString(),l.endAt=c.toISOString(),e.checkUpdateAndSave(l)},e.webConferenceOptions=function(){var e=["WebEx","GoToMeeting","GoToWebinar","Adobe Connect","Zoom","Bluejeans"].map(function(e){return{value:e,label:e}});return e.push({label:I18n.t("Other"),value:"Other"}),e},e.onProviderChange=function(t){var n=e.props.webConference;if(t!==n.provider){var r=(0,A.isEmpty)(t)?null:t;e.props.saveWebConference({provider:r})}},e.state={errors:{}},e}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.session,n=e.timezone,r=e.webConference,s=a(t,r,n),i=this.state.errors,o=(0,O.default)({btn:!0,"live-course-session-cards__setup-btn":!0,disabled:!r.provider});return _.default.createElement("div",{className:"drawer-modal__content drawer-modal__content--flex session-editor__content"},_.default.createElement(b.default,{transitionName:"session-editor__title-animation",transitionEnterTimeout:600,transitionLeaveTimeout:300,component:"div",className:"drawer-modal__content__col"},t.parentId&&_.default.createElement("div",{className:"session-editor__session-top-row",key:"session-title"},_.default.createElement("p",{className:"session-editor__session-title-wrapper"},_.default.createElement(T.default,{model:s,onBlur:this.onTitleBlur,field:"title",label:I18n.t("Session Part Title"),maxLength:"255",className:"input-field--long session-editor__session-title"})),_.default.createElement("div",{className:"session-editor__part-delete-btn-container"},_.default.createElement(C.default,{className:"session-editor__part-delete-btn","data-capybara":"part-delete-button",onClick:this.props.removePart},_.default.createElement(N.Icon,{className:"gs-trash"})))),_.default.createElement("div",{className:"session-editor__session-data-wrapper",key:"session-data-wrapper"},_.default.createElement("div",{className:"drawer-modal__content--flex"},_.default.createElement("div",{className:"drawer-modal__content__col"},_.default.createElement("p",null,_.default.createElement(T.default,{model:s,onChange:this.onDateChange,field:"date",label:I18n.t("Date"),type:"date",allowPast:!0,timezone:n,className:"input-field--long session-editor__date"})),_.default.createElement("p",null,_.default.createElement(T.default,{model:s,onBlur:(0,A.partial)(this.onTimeBlur,"startAt"),field:"startAt",label:I18n.t("Start Time"),className:"input-field--time session-editor__start-at"}),_.default.createElement("span",{className:"input-field--time__label"},"to"),_.default.createElement(T.default,{model:s,onBlur:(0,A.partial)(this.onTimeBlur,"endAt"),field:"endAt",label:I18n.t("End Time"),className:"input-field--time session-editor__end-at"}))),_.default.createElement("div",{className:"drawer-modal__content__col"},_.default.createElement("p",null,_.default.createElement(T.default,{model:s,field:"location",label:I18n.t("Location"),maxLength:"255",className:"input-field--long session-editor__location",onBlur:this.onLocationBlur})),_.default.createElement("div",{className:"drawer-modal__content__set"},_.default.createElement(T.default,{model:s,field:"provider",placeholder:I18n.t("Choose One"),label:I18n.t("Web Conference Provider"),type:"select",onChange:this.onProviderChange,options:this.webConferenceOptions(),error:i.provider,className:"input-field--long session-editor__provider"})),_.default.createElement("p",null,_.default.createElement(C.default,{className:o,children:I18n.t("Continue to Setup"),onClick:this.props.openWebConferenceEditor}))),_.default.createElement("div",{className:"drawer-modal__content__col"},_.default.createElement("p",null,_.default.createElement(T.default,{model:s,field:"notes",type:"textarea",label:I18n.t("Notes for Learners"),onBlur:this.onNotesBlur,className:"input-field--long session-editor__notes"})))))))}}]),t}(_.default.Component);F.propTypes={saveSession:k.func,removePart:k.func,publishSession:k.func,openWebConferenceEditor:k.func,session:M.default,parentSession:M.default,webConference:U.default,toggleSessionEditModal:k.func,saveWebConference:k.func,timezone:k.string},F.defaultProps={webConference:{}},t.default=F,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=parseInt(e,10);return isNaN(n)||n<=0?t?"":I18n.t("Unlimited"):n.toString()}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),i=r(s),o=n(15),l=r(o),u=n(17),c=r(u),d=n(16),p=r(d),f=n(1),m=r(f),h=n(18),g=r(h),v=n(77),_=r(v),y=n(55),b=r(y),E=n(373),C=r(E),I=n(1307),T=r(I),N=n(282),S=r(N),x=n(4),A=n(3),k=n(6),w=r(k),R=n(80),O=r(R),P=n(12),L=function(e){function t(){(0,i.default)(this,t);var e=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderHeadContent=function(){var t=e.props.session;return m.default.createElement("div",{className:"drawer-modal__content"},m.default.createElement("div",{className:"session-editor__header-text"},m.default.createElement("h2",null,I18n.t("Edit Live Training Session")),e.renderStatusMessage()),m.default.createElement("div",{className:"drawer-modal__menu"},m.default.createElement(g.default,{className:"btn secondary",children:I18n.t("Close"),onClick:(0,x.partial)(e.props.toggleSessionEditModal,!1)}),!t.isPublished&&m.default.createElement(g.default,{key:"publish-session-btn",className:"btn filled",children:I18n.t("Publish"),onClick:(0,x.partial)(e.displayPublishConfirm,!0)})))},e.renderPublishConfirmation=function(){return m.default.createElement(T.default,{title:I18n.t("Are you sure you want to publish this session?"),text:I18n.t("Publishing will make this visible to Learners and all changes after will be automatically saved."),actionText:I18n.t("Publish"),action:e.onPublishSession,close:(0,x.partial)(e.displayPublishConfirm,!1),actionModifierClass:"publish"})},e.renderStatusMessage=function(){return e.props.dirty?m.default.createElement("span",{className:"session-editor__header-text__saving","data-capybara":"session-header__published"},e.getStatusText()):null},e.renderSubHead=function(){var t=e.props.session,n={seatsText:a(t.seats,e.state.seatsFocused)};return m.default.createElement("div",{className:"session-editor__sub-head drawer-modal__content drawer-modal__content--flex"},m.default.createElement("div",{className:"drawer-modal__content__col"},m.default.createElement(_.default,{model:n,onBlur:e.onSeatBlur,onFocus:e.onSeatFocus,field:"seatsText",label:I18n.t("Capacity"),className:"input-field--short input-field--center session-editor__seats"}),m.default.createElement("span",{className:"input-field__suffix"},I18n.t("Seats"))),m.default.createElement("div",{className:"drawer-modal__content__col"},m.default.createElement(C.default,{id:"session-time-zone-selector",label:I18n.t("Time Zone"),value:t.timezone,onChange:e.onTimeZoneChanged,time:S.default.tz(t.startAt,t.timezone)})),e.renderMultiPartToggle())},e.renderMultiPartToggle=function(){var t=e.props.session;return m.default.createElement("div",{className:"drawer-modal__content__col session-editor__multi-part-wrapper"},m.default.createElement("div",{className:"session-editor__multi-part-label"},I18n.t("Multi-part Session")),m.default.createElement("div",{className:"session-editor__multi-part-toggle-container"},m.default.createElement(b.default,{className:"session-editor__multi-part-toggle",checked:t.multiPart,onChange:e.onMultiPartChange})))},e.displayPublishConfirm=function(t){e.setState({isConfirmingPublish:t})},e.onPublishSession=function(){e.displayPublishConfirm(!1),e.props.publishSession()},e.onMultiPartChange=function(t){var n=t.target.checked;e.props.session.multiPart!==n&&(e.multiPartTimeout&&clearTimeout(e.multiPartTimeout),e.multiPartTimeout=setTimeout(function(){e.props.saveSession({multiPart:n}),e.multiPartTimeout=null},P.GENERAL_DEBOUNCE_MS))},e.onTimeZoneChanged=function(t){e.props.saveSession({timezone:t})},e.onSeatBlur=function(t){e.setState({seatsFocused:!1});var n=isNaN(t.target.value)||""===t.target.value||t.target.value<=0?null:parseInt(t.target.value,10);e.props.session.seats!==n&&e.props.saveSession({seats:n})},e.onSeatFocus=function(){null===e.props.session.seats&&e.setState({seatsFocused:!0})},e.getStatusText=function(){var t=e.props,n=t.session,r=t.isSavingSession,a=t.sessionWasPublished;return a===!1&&n.isPublished?I18n.t("Session published successfully"):r?I18n.t("Saving session"):I18n.t("All changes saved successfully")},e.state={seatsFocused:!1,isConfirmingPublish:!1},e}return(0,p.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.state.isConfirmingPublish,t=(0,w.default)("drawer-modal__head","session-editor__head",{"session-editor__head--confirming":e});return m.default.createElement("div",null,m.default.createElement("div",{className:t,key:"session-editor__head"},e?this.renderPublishConfirmation():this.renderHeadContent()),this.renderSubHead())}}]),t}(m.default.Component);L.propTypes={saveSession:A.func,session:O.default,isSavingSession:A.bool,publishSession:A.func,toggleSessionEditModal:A.func,dirty:A.bool,sessionWasPublished:A.bool},L.defaultProps={saveSession:Function.prototype},t.default=L,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(18),h=r(m),g=n(24),v=r(g),_=n(27),y=r(_),b=n(5),E=n(94),C=r(E),I=n(12),T=n(3),N=n(4),S=n(80),x=r(S),A=n(6),k=r(A),w=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderButton=function(){var e=r.props,t=e.parts,n=e.isLoadingParts,a=e.addingPart,s=t.length>=I.MAX_SESSION_PARTS;return f.default.createElement("div",{className:"session-editor__parts__btn-box"},f.default.createElement(C.default,{isEnabled:s},f.default.createElement(C.default.Trigger,null,f.default.createElement(h.default,{disabled:s||n||a,onClick:r.props.addPart,className:"session-editor__parts__add-btn"},a?f.default.createElement(b.Loader,{loaderSize:"small",className:"session-editor__parts__add-btn__loader"}):f.default.createElement("div",{className:"session-editor__parts__add-btn__plus"},"+"),f.default.createElement(y.default,null,f.default.createElement(v.default,null,I18n.t("Create new session part"))))),f.default.createElement(C.default.Content,{dark:!0},I18n.t("You've reached the maximum amount of parts for one session"))))},r.renderPart=function(e,t){var n=e.id===r.props.activePartId,a=(0,k.default)({"session-editor__parts__part":!0,"session-editor__parts__part--active":n});return f.default.createElement("li",{ref:function(t){r["partRef"+e.id]=t},key:e.id,onClick:(0,N.partial)(r.props.setActivePart,e.id),className:a,"data-capybara":"session_id_"+e.id},f.default.createElement("label",{className:"session-editor__parts__part__label"},I18n.t("Part")),f.default.createElement("div",{className:"session-editor__parts__part__number"},t+1))},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activePartId,r=t.parts,a=!e.parts.find(function(e){return e.id===n}),s=!r.find(function(t){return t.id===e.activePartId}),i=this["partRef"+n];(a||s)&&i&&i.scrollIntoView()}},{key:"render",value:function(){var e=this.props.parts;return f.default.createElement("div",{className:"session-editor__parts"},this.renderButton(),f.default.createElement("ul",{className:"session-editor__parts__list","data-capybara":"session-parts-list"},!this.props.isLoadingParts&&e.map(this.renderPart)),f.default.createElement("div",{className:"session-editor__parts__parts-count"},f.default.createElement("span",null,I18n.t("%{parts} Parts",{parts:e.length}))))}}]),t}(f.default.Component);w.propTypes={addPart:T.func,setActivePart:T.func,parts:(0,T.arrayOf)(x.default),isLoadingParts:T.bool,activePartId:T.string,addingPart:T.bool},w.defaultProps={parts:[]},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(435),h=r(m),g=n(2446),v=r(g),_=n(2451),y=r(_),b=n(316),E=r(b),C=n(877),I=r(C),T=n(4),N=n(3),S=n(19),x=r(S),A=function(e){function t(e){(0,s.default)(this,t);var n=e.query,r=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.renderModal=function(){var e=r.props,t=e.session,n=e.liveCourseId,a=e.webConference,s=r.state.activeSessionPartId,i=t.multiPart?I.default.getByLiveCourseSession(n,s):a;return"session"===r.state.currentModal?f.default.createElement(v.default,{saveSession:r.saveSession,publishSession:r.publishSession,openWebConfEditor:(0,T.partial)(r.switchModal,"webConf"),session:r.props.session,sessionParts:r.state.sessionParts,isLoadingParts:r.state.isLoadingParts,webConference:i,toggleSessionEditModal:r.props.toggleSessionEditModal,isSavingSession:r.state.isSavingSession,saveWebConference:r.saveWebConference,setActivePart:r.setActiveSessionPart,activePartId:s,addPart:r.addPartToSession,removeSession:r.removeSession,addingPart:r.state.addingPart}):"webConf"===r.state.currentModal?f.default.createElement(y.default,{openSessionEditor:(0,T.partial)(r.switchModal,"session"),session:r.props.session,sessionCount:r.props.sessionCount,webConference:i,onSave:r.saveSession,isSavingSession:r.state.isSavingSession,saveWebConference:(0,T.partial)(r.saveWebConference,s||t.id)}):null},r.saveSession=function(e,t){var n=r.props,a=n.liveCourseId,s=n.session,i="timezone"in t;r.setState({isSavingSession:!0}),E.default.update(a,e,t).then((0,T.partial)(r.handleMultiPartChange,s)).then(r.saveSessionSuccess).catch(r.saveSessionError),i&&r.getSessionParts(),r.checkIsPart(e)},r.saveWebConference=function(e,t){var n=r.props.liveCourseId;r.setState({isSavingSession:!0}),(0,T.isNull)(t.provider)?I.default.delete(n,e).then(r.saveWebConferenceSuccess).catch(r.saveSessionError):t.provider?r.getWebConferenceDefault(t.provider).then(function(t){I.default.update(n,e,t).then(r.saveWebConferenceSuccess).catch(r.saveSessionError)}):I.default.update(n,e,t).then(r.saveWebConferenceSuccess).catch(r.saveSessionError)},r.removeSession=function(e){var t=r.props.liveCourseId,n=r.state.sessionParts;1===n.length&&n[0].id===e?r.resetSession(e):(E.default.remove(t,e).catch(r.saveSessionError),r.checkIsPart(e))},r.resetSession=function(e){var t=r.props.liveCourseId,n={startAt:null,endAt:null,location:null,seats:null,notes:null,timezone:null,title:null};r.saveSession(e,n),I.default.delete(t,e).catch(r.saveSessionError)},r.saveWebConferenceSuccess=function(){r.setState({isSavingSession:!1});var e=r.props.session.parentId||r.props.session.id;E.default.fetch(r.props.liveCourseId,e)},r.saveSessionSuccess=function(){r.setState({isSavingSession:!1})},r.saveSessionError=function(e){r.setState({isSavingSession:!1}),console.error(e),(0,x.default)(I18n.t("We ran into an issue saving this session."),{type:"error"})},r.getWebConferenceDefault=function(e){return I.default.fetchDefaults().then(function(){var t=I.default.getByDefaultProvider(e);return t||I.default.newWebConference({provider:e})}).catch(r.saveSessionError)},r.switchModal=function(e){r.setState({currentModal:e})},r.publishSession=function(){var e=r.props,t=e.session,n=e.liveCourseId;t.id&&E.default.publish(n,t.id).catch(r.saveSessionError)},r.handleMultiPartChange=function(e,t){var n=!e.multiPart&&t.multiPart,a=e.timezone!==t.timezone;return n||a?r.loadSessionParts():!t.multiPart&&e.multiPart&&r.props.updateQuery({part:null}),t},r.loadSessionParts=function(){var e=r.props,t=e.session,n=e.liveCourseId;t.multiPart&&E.default.fetchParts(n,t.id).then((0,T.partial)(r.getSessionParts,null))},r.checkIsPart=function(e){var t=r.state.sessionParts.find(function(t){return t.id===e});t&&r.getSessionParts()},r.getSessionParts=function(e){var t=E.default.getParts(r.props.session.id),n=r.state.sessionParts,a=r.getNewActivePartId(t,e);r.props.updateQuery({part:a}),t&&!(0,T.isEqual)(t,n)&&r.setState({sessionParts:t,isLoadingParts:!1,activeSessionPartId:a})},r.getNewActivePartId=function(e,t){if(t)return t;var n=r.state.activeSessionPartId,a=r.state.sessionParts,s=(0,T.findIndex)(a,function(e){return e.id===n}),i=e.find(function(e){return e.id===n});return i?i.id:a[s-1]?a[s-1].id:e[0]?e[0].id:null},r.setActiveSessionPart=function(e){r.state.activeSessionPartId!==e&&(r.setState({activeSessionPartId:e}),r.props.updateQuery({part:e}))},r.addPartToSession=function(){var e={parentId:r.props.session.id};r.setState({addingPart:!0}),E.default.create(r.props.liveCourseId,e).then(function(e){r.getSessionParts(e.id)}).catch(r.saveSessionError).then(function(){r.setState({addingPart:!1})})},r.state={currentModal:"session",isSavingSession:!1,isLoadingParts:!0,sessionParts:[],activeSessionPartId:n.part||null,addingPart:!1},r}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.loadSessionParts()}},{key:"componentWillUnmount",value:function(){this.props.updateQuery({session:null,part:null})}},{key:"render",value:function(){return f.default.createElement(h.default,{className:"session-editor-drawer"},this.renderModal())}}]),t}(f.default.Component);A.propTypes={session:n(80).isRequired,webConference:n(158).isRequired,sessionCount:N.number,toggleSessionEditModal:N.func,liveCourseId:N.string,query:(0,N.shape)({part:N.string}),updateQuery:N.func},A.defaultProps={query:{},updateQuery:Function.prototype},t.default=A,
e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{meetingUrl:e.meetingUrl||"",accessCode:e.accessCode||"",phone:e.phone||"",otherProvider:e.otherProvider||"",hostKey:e.hostKey||"",password:e.password||"",applyAll:e.applyAll,registrationLinkEnabled:e.registrationLinkEnabled,provider:e.provider,defaultSession:e.defaultSession}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),i=r(s),o=n(9),l=r(o),u=n(14),c=r(u),d=n(15),p=r(d),f=n(17),m=r(f),h=n(16),g=r(h),v=n(1),_=r(v),y=n(18),b=r(y),E=n(77),C=r(E),I=n(4),T=n(10),N=n(12),S=function(e){function t(e){(0,c.default)(this,t);var n=(0,m.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.renderApplyButton=function(){var e=I18n.t({one:"Apply to existing session",other:"Apply to all %{count} sessions"},{count:n.props.sessionCount});return _.default.createElement(b.default,{onClick:(0,I.partial)(n.checkUpdateAndSave,{applyAll:!0}),className:"btn web-conference-editor__apply-btn"},e)},n.renderHead=function(){return _.default.createElement("div",{className:"drawer-modal__head",key:"web-conference-editor__head"},_.default.createElement("div",{className:"drawer-modal__content"},_.default.createElement("h2",null,_.default.createElement("a",{onClick:n.props.openSessionEditor,className:"web-conference-editor__previous-link"},n.getPrevTitle()),_.default.createElement("span",{className:"drawer-modal__head__divider"},"/"),n.getTitle()),_.default.createElement("div",{className:"drawer-modal__menu"},_.default.createElement(b.default,{className:"btn secondary web-conference-editor__cancel-btn",onClick:n.props.openSessionEditor},I18n.t("Back to Session")))))},n.renderLogo=function(){var e=n.props.webConference,t=n.getLogoFilename();return t?_.default.createElement("div",{className:"drawer-modal__content"},_.default.createElement("p",null,_.default.createElement("img",{src:t,alt:e.provider,className:"live-course-session-cards__logo"}))):null},n.renderRegistrationLinkTextField=function(){var e={registrationLink:n.props.webConference.registrationLink||""};return _.default.createElement(C.default,{model:e,field:"registrationLink",label:I18n.t("Registration Link"),type:"text",className:"input-field--long web-conference-editor__registration-link margin-none padding-none",error:n.state.errors.registrationLink,onBlur:(0,I.partial)(n.onUrlBlur,"registrationLink")})},n.renderContent=function(){var e=n.props,t=e.sessionCount,r=e.webConference,s=n.state.errors,i=a((0,l.default)({},r,{registrationLinkEnabled:n.state.registrationLinkEnabled}));return _.default.createElement("div",{className:"drawer-modal__content drawer-modal__content--flex web-conference-editor__content"},_.default.createElement("input",{type:"password",className:"hidden","aria-hidden":!0})," ",_.default.createElement("div",{className:"drawer-modal__content__col"},_.default.createElement("p",null,_.default.createElement(C.default,{model:i,field:"meetingUrl",label:I18n.t("Meeting Link"),type:"text",className:"input-field--long web-conference-editor__meeting-url",error:s.meetingUrl,onBlur:(0,I.partial)(n.onUrlBlur,"meetingUrl")})),_.default.createElement("p",null,_.default.createElement(C.default,{model:i,field:"accessCode",label:I18n.t("Access Code"),type:"text",className:"input-field--long web-conference-editor__access-code",onBlur:(0,I.partial)(n.onTextBlur,"accessCode")})),_.default.createElement("p",null,_.default.createElement(C.default,{model:i,field:"phone",label:I18n.t("Phone"),type:"text",className:"input-field--long web-conference-editor__phone",error:s.phone,onBlur:n.onPhoneBlur}))),_.default.createElement("div",{className:"drawer-modal__content__col"},"Other"===i.provider&&_.default.createElement("p",null,_.default.createElement(C.default,{model:i,field:"otherProvider",label:I18n.t("Web Conference Provider"),type:"text",className:"input-field--long web-conference-editor__other-provider",onBlur:(0,I.partial)(n.onTextBlur,"otherProvider")})),_.default.createElement("p",null,_.default.createElement(C.default,{model:i,field:"hostKey",label:I18n.t("Host Key"),type:"text",className:"input-field--long web-conference-editor__host-key",onBlur:(0,I.partial)(n.onTextBlur,"hostKey")})),_.default.createElement("p",null,_.default.createElement(C.default,{model:i,field:"password",label:I18n.t("Password"),type:"password",autoComplete:"new-password",className:"input-field--long web-conference-editor__password",onBlur:(0,I.partial)(n.onTextBlur,"password")}))),_.default.createElement("div",{className:"drawer-modal__content__col"},_.default.createElement("p",{className:"drawer-modal__content__options"},t>0&&n.renderApplyButton(),_.default.createElement(C.default,{model:i,field:"defaultSession",label:I18n.t("Use as default for future sessions"),type:"checkbox",className:"input-field--long web-conference-editor__default-session",onChange:(0,I.partial)(n.onCheckboxChange,"defaultSession")})),_.default.createElement(C.default,{model:i,field:"registrationLinkEnabled",label:I18n.t("Include provider registration link"),type:"toggle",className:"input-field--long web-conference-editor__registration-link-toggle",onChange:n.onRegistrationLinkToggle}),n.state.registrationLinkEnabled&&n.renderRegistrationLinkTextField()))},n.checkUpdateAndSave=function(e){var t=(0,l.default)({},n.props.webConference),r=(0,I.some)(e,function(e,n){return t[n]!==e});r&&(n.state.dirty||n.setState({dirty:!0}),n.props.saveWebConference(e))},n.onRegistrationLinkToggle=function(e){n.setState({registrationLinkEnabled:e}),e||n.checkUpdateAndSave({registrationLink:null})},n.onTextBlur=function(e,t){n.checkUpdateAndSave((0,i.default)({},e,t.target.value||null))},n.onCheckboxChange=function(e,t){n.checkUpdateAndSave((0,i.default)({},e,t))},n.onUrlBlur=function(e,t){var r=t.target.value.trim();r&&!N.REGEX_FORMAT_URI.test(r)?n.setError(e,I18n.t("Please enter a valid URL")):(n.checkUpdateAndSave((0,i.default)({},e,r||null)),n.setError(e,null))},n.onPhoneBlur=function(e){var t=e.target.value.trim();t&&!N.REGEX_FORMAT_PHONE.test(t)?n.setError("phone",I18n.t("Please enter a valid phone number")):(n.checkUpdateAndSave({phone:t||null}),n.setError("phone",null))},n.setError=function(e,t){n.state.errors[e]!==t&&n.setState({errors:(0,l.default)({},n.state.errors,(0,i.default)({},e,t))})},n.getLogoFilename=function(){var e=n.props.webConference,t=e.provider;return t&&"Other"!==t?"/images/"+t.toLowerCase().replace(/\s/g,"")+".png":null},n.getPrevTitle=function(){return n.props.session.id?I18n.t("Edit Live Training Session"):I18n.t("Add a Live Training Session")},n.getTitle=function(){return n.props.webConference.id?I18n.t("Edit Web Conference"):I18n.t("Add a Web Conference")},n.state={registrationLinkEnabled:!!e.webConference.registrationLink,errors:{}},n}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"web-conference-editor"},this.renderHead(),this.renderLogo(),this.renderContent())}}]),t}(_.default.Component);S.propTypes={openSessionEditor:T.func,session:n(80).isRequired,sessionCount:T.number,webConference:n(158).isRequired,saveWebConference:T.func,publishSession:T.func,closeSessionEditModal:T.func},S.defaultProps={sessionCount:0,saveWebConference:Function.prototype},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=i(e)||{},r=(0,G.clone)(t),a=t&&t.filters||n.filters;return r.filters=a&&a.length>0?a:void 0,r}function s(e,t){t=0===Object.keys(t).length?null:t,X.default.setItem(ce,t,o.bind(null,e))}function i(e){return X.default.getItem(ce,o.bind(null,e))}function o(e){return X.default.SCOPE_USER()+"_"+e}Object.defineProperty(t,"__esModule",{value:!0});var l=n(38),u=r(l),c=n(9),d=r(c),p=n(1),f=r(p),m=n(3),h=n(165),g=n(317),v=r(g),_=n(316),y=r(_),b=n(877),E=r(b),C=n(22),I=r(C),T=n(58),N=r(T),S=n(424),x=r(S),A=n(18),k=r(A),w=n(5),R=n(133),O=r(R),P=n(2442),L=r(P),M=n(2445),D=r(M),U=n(2450),F=r(U),q=n(2443),B=r(q),j=n(3299),H=r(j),G=n(4),W=n(11),V=r(W),Y=n(20),z=r(Y),K=n(30),Q=r(K),$=n(87),X=r($),J=n(123),Z=r(J),ee=n(2441),te=r(ee),ne=n(52),re=r(ne),ae=n(19),se=r(ae),ie=n(6),oe=r(ie),le=n(2454),ue="_bridge_author_live_course_session_removed_alerts",ce="authorLiveCourseSettings",de={},pe=function(){return[{key:"filters",options:[{value:"upcoming",label:I18n.t("Upcoming")},{value:"full",label:I18n.t("Full")},{value:"empty",label:I18n.t("Empty")},{value:"has_web_conference",label:I18n.t("Has Web Conference")}]}]},fe=f.default.createClass({displayName:"SessionCards",propTypes:{liveCourse:n(105),sessions:(0,m.arrayOf)(n(80)),webConferences:(0,m.arrayOf)(n(158)),updateQuery:m.func,isLoading:m.bool,permissions:(0,m.shape)({updateSessions:m.bool,exportLearners:m.bool}),query:(0,m.shape)({filters:(0,m.oneOfType)([m.string,(0,m.arrayOf)(m.string)]),search:m.string,session:m.string})},getDefaultProps:function(){return{updateQuery:function(e){Q.default.updateQuery(e)}}},getInitialState:function(){var e=H.default.get(this.props.liveCourse.id),t=this.props.query;return{removedAlertIds:this.getRemovedAlertIds(),showMetrics:void 0===e?0!==this.props.liveCourse.enrollmentCounts.all||this.props.liveCourse.isLibraryItem:e,selectionMode:!1,editSessionId:t.session||null,editModalOpen:!!t.session||!1,creatingSession:!1}},componentWillMount:function(){var e=this.props.liveCourse;E.default.fetchDefaults(),v.default.fetch(this.props.liveCourse.id),i(e.id)||s(e.id,{filters:["upcoming"]})},render:function(){var e=this.props,t=e.sessions,n=e.query,r=this.state,s=r.showMetrics,i=r.editSessionId,o=this.getEditSession(i),l=this.getWebConference(i),u=s?I18n.t("Hide Metrics"):I18n.t("Show Metrics"),c=s?"gs-no-reports":"gs-reports",d=0!==t.length&&0!==this.props.liveCourse.enrollmentsCount,p=a(this.props.liveCourse.id,n),m="btn--a11y  margin-t-l margin-l-m small live-course-session-cards__metrics-toggle-btn",h=(0,z.default)("ilt_reports_v2");return f.default.createElement("div",{className:"large-content-area--padded centered"},f.default.createElement("div",{className:"clearfix live-course-session-cards__head"},f.default.createElement("h2",{className:"margin-tb-m left"},I18n.t("All Sessions")),h&&d&&f.default.createElement(k.default,{onClick:this.onToggle,className:m},f.default.createElement(w.Icon,{className:c}),f.default.createElement("span",{className:"margin-l-xs live-course-session-cards__show-metrics__text"},u)),this.props.permissions.updateSessions&&this.renderCreateSessionBtn(),this.props.permissions.exportLearners&&f.default.createElement(O.default,{className:"btn secondary right margin-t-m margin-r-xs live-course-session-cards__export-link",type:"report",info:this.reportInfo(),capybara:"export_csv"},f.default.createElement(w.Icon,{className:"gs-1x gs-export live-course-session-cards__export-link__icon"}),f.default.createElement("span",{className:"live-course-session-cards__export-link__text"}," ",I18n.t("Export Data")))),f.default.createElement("div",{className:"live-course-session-cards__search-bar"},f.default.createElement(re.default,{searchTerm:this.props.query.search,ariaLabelText:I18n.t("Search for Sessions")}),f.default.createElement("div",{className:"live-course-session-cards__filter-box"},f.default.createElement(x.default,{filters:p.filters,filterLabels:this.filterLabels(),onChangeFilters:this.updateFilters}),f.default.createElement(Z.default,{filterSets:pe(),activeFilters:p,onChange:this.updateFilters}))),this.props.isLoading&&f.default.createElement(w.Loader,null),!this.props.isLoading&&f.default.createElement("div",null,s&&d&&f.default.createElement(B.default,{className:"live-course-session-cards__metrics",liveCourse:this.props.liveCourse}),f.default.createElement("ul",{className:"live-course-session-alerts"},this.availableSessions().map(this.renderAvailableSession)),f.default.createElement("div",{className:"live-course-session-cards"},0===t.length&&this.renderEmpty(),(0,G.sortBy)(t,"startAt").map(this.renderSession))),this.state.editModalOpen&&o&&f.default.createElement(F.default,{session:o,webConference:l,sessionCount:t.length,toggleSessionEditModal:this.toggleSessionEditModal,liveCourseId:this.props.liveCourse.id,query:{part:this.props.query.part},updateQuery:this.props.updateQuery}))},renderCreateSessionBtn:function(){var e=this,t=this.state.creatingSession,n=(0,oe.default)({"live-course-session-cards__add-session-btn__text":!0,"live-course-session-cards__add-session-btn__text--creating-session":t});return f.default.createElement(k.default,{className:"btn secondary right margin-t-m live-course-session-cards__add-session-btn",onClick:function(){return e.newSession()},disabled:t},f.default.createElement(w.Icon,{className:"live-course-session-cards__add-session-btn__icon gs-1x gs-plus-sign"}),f.default.createElement("span",{className:n},I18n.t("+ Session")),t&&f.default.createElement(w.Loader,{loaderSize:"small",className:"live-course-session-cards__add-session-btn__loader"}))},renderEmpty:function(){var e=!!a(this.props.liveCourse.id,this.props.query).filters;return f.default.createElement("div",{className:"live-course-session-cards__empty"},e&&I18n.t("There are no sessions matching your filter.")||I18n.t("There are no existing sessions."))},renderSession:function(e){var t=this,n=e.id,r=this.props.liveCourse,a=r.openEnrollment,s=r.concludedSessions,i=r.futureSessions,o=this.getWebConference(e.id),l=(s||[]).filter(function(e){return e.id===n}),u=(i||[]).filter(function(e){return e.id===n}),c=l.length>0,d=void 0;return d=c?l[0].registrations:u.length>0?u[0].registrations:[],f.default.createElement(L.default,{key:"session-"+n,session:e,isConcluded:c,registrations:d,openEnrollment:a,webConference:o,canUpdateSession:this.props.permissions.updateSessions,onEdit:function(){return t.edit(e)},onRemove:function(){return t.remove(e)},onToggleSelected:function(){return t.toggleCardSelected(e)},selectionMode:this.selectionMode(),selected:de[n],query:this.props.query})},renderAvailableSession:function(e){var t=e.id,n=this.getWebConference(e.id);return f.default.createElement(D.default,{key:"session-"+t,session:e,webConference:n,onRemove:this.removeAlert})},getEditSession:function(e){return this.props.sessions.find(function(t){return t.id===e})},getWebConference:function(e){var t=this.props.webConferences.find(function(t){return t.liveCourseSessionId===e});return t||E.default.newWebConference()},toggleCardSelected:function(e){de[e.id]=!de[e.id],this.forceUpdate()},selectedSessions:function(){return(0,N.default)(this.props.sessions)?[]:this.props.sessions.filter(function(e){return de[e.id]})},selectionMode:function(){return this.selectedSessions().length>0},updateFilters:function(e){s(this.props.liveCourse.id,e),(0,G.isEqual)(e.filters,[])&&!this.props.query.filters?((0,te.default)(a).sessions.fetch(this.props),this.forceUpdate()):this.props.updateQuery(e)},getRemovedAlertIds:function(){var e=h.cookieStorage.getItem(ue);return e?JSON.parse(e):[]},setRemovedAlertIds:function(){h.cookieStorage.setItem(ue,this.state.removedAlertIds,{expires:1})},newSession:function(){var e=this,t=this.guessTimezone(),n=this.props.liveCourse.id,r=(0,d.default)({timezone:t},(0,le.getDefaultSessionTimes)(t));this.setState({creatingSession:!0}),y.default.create(n,r).then(function(t){e.setState({creatingSession:!1}),e.edit(t)}).catch(this.createSessionError)},toggleSessionEditModal:function(e){this.setState({editModalOpen:e})},createSessionError:function(e){console.error(e),(0,se.default)(I18n.t("We ran into an issue creating this session."),{type:"error"}),this.setState({creatingSession:!1})},edit:function(e){this.setState({editSessionId:e.id,editModalOpen:!0}),this.props.updateQuery({session:e.id})},remove:function(e){var t=this.props.liveCourse;y.default.remove(t.id,e.id)},removeAlert:function(e){this.state.removedAlertIds.push(e.id),this.setRemovedAlertIds(),this.forceUpdate()},isAvailable:function(e){var t=(0,V.default)(),n=t.clone().add(1,"hour"),r=e.startAt&&(0,V.default)(e.startAt)<n,a=!e.endAt||(0,V.default)(e.endAt)>t,s=!(0,G.includes)(this.state.removedAlertIds,e.id);return!e.concludedAt&&r&&a&&s},availableSessions:function(){return(0,G.filter)(this.props.sessions||[],this.isAvailable)},onToggle:function(){this.setState({showMetrics:!this.state.showMetrics}),H.default.set(this.props.liveCourse.id,!this.state.showMetrics)},reportInfo:function(){return{id:"LiveCourseEnrollmentsReport",live_course_id:this.props.liveCourse.id,session_id:this.selectedSessions().map(function(e){return e.id})}},filterLabels:function(){var e=pe()[0].options;return e.reduce(function(e,t){return Object.assign(e,(0,u.default)({},t.value,t.label))},{})},guessTimezone:function(){try{return V.default.tz.guess()}catch(e){return null}}});t.default=(0,I.default)({type:fe,asyncProps:(0,te.default)(a,i,s)}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"author.live-course.sessions",parent:"author.live-course",path:"sessions",default:!0,ember:{parentPath:["author","author.live-course"]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=i.default.tz(new Date,e);return t.add(1,"day"),t.set({hour:9,minute:0,second:0}),{startAt:t.toISOString(),endAt:t.add(1,"hour").toISOString()}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSessionTimes=a;var s=n(282),i=r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(47),o=r(i),l=n(55),u=r(l),c=n(54),d=r(c),p=n(5),f=n(189),m=r(f),h=n(102),g=r(h),v=n(69),_=r(v),y=n(188),b=r(y),E=n(599),C=r(E),I=n(132),T=r(I),N=n(445),S=r(N),x=n(436),A=r(x),k=n(598),w=r(k),R=n(19),O=r(R),P=n(37),L=r(P),M=n(136),D=n(20),U=r(D),F=n(3),q=p.constants.DESCRIPTION_LENGTH_LIMIT,B=s.default.createClass({displayName:"Banner",statics:{SettingsExpander:S.default},mixins:[(0,L.default)({mobile:L.default.QUERY_MOBILE})],propTypes:{liveCourse:n(105).isRequired,canSendMessages:F.bool,canUpdateCourse:F.bool,canExpire:F.bool,canToggleLibrary:F.bool,onChange:F.func.isRequired,disableLibraryToggle:F.bool},getInitialState:function(){return{expanded:!1,description:this.props.liveCourse.description}},render:function(){var e=this.props,t=e.liveCourse,n=e.canUpdateCourse,r=e.canToggleLibrary,a=e.disableLibraryToggle,i=t.enrollmentCounts,o=Boolean(t.title&&t.title.length);return s.default.createElement(g.default,{type:"live-course"},s.default.createElement(d.default,{name:"layout--item-header__details"},s.default.createElement(p.Icon,{className:"layout--item-header__icon gs-in-class"}),s.default.createElement("h1",{className:"x-large indigo margin-none"},s.default.createElement(_.default,{value:t.title,readOnly:!n,autoFocus:!o,className:"editable-text--header indigo",inputClassName:"indigo x-large margin-b-s",placeholder:I18n.t("Live Training Title"),children:o?t.title:I18n.t("Untitled Live Training"),onChange:this.updateTitle})),s.default.createElement("div",{className:"course-header__description"},s.default.createElement(b.default,{disabled:!n,value:this.state.description,placeholder:I18n.t("Describe what learners can expect from this training"),onBlur:this.saveDescription,onChange:this.updateDescription,maxLength:q,multiline:!1,enableLinks:!0})),s.default.createElement("div",{className:"layout--item-header__expansion-trigger",onClick:this.toggleExpand,"data-capybara":"live_course__show-settings-button"},s.default.createElement(S.default,{iconOnly:this.state.media.mobile,expanded:this.state.expanded}))),s.default.createElement(d.default,{name:"layout--item-header__actions"},this.props.canSendMessages&&s.default.createElement(m.default,{round:!0,triggerClassName:"margin-rl-xxs",recipientType:"live_course",recipientId:t.id,onMessageSend:O.default,onMessageFail:function(e){return(0,O.default)(e,{type:"error"})},filters:[{value:"invited",label:I18n.t("Invited (%{count})",{count:i.invited}),count:i.invited},{value:"registered",label:I18n.t("Registered (%{count})",{count:i.registered}),count:i.registered},{value:"not_registered",label:I18n.t("Not Registered (%{count})",{count:i.notRegistered}),count:i.notRegistered}]}),s.default.createElement(w.default,{className:"btn btn--round-with-icon-large secondary margin-rl-xxs",learningItem:this.props.liveCourse,onChange:this.updateOpenEnrollment,disabled:!r})),this.state.expanded&&s.default.createElement(d.default,{name:"layout--item-header__expansion"},s.default.createElement("div",null,s.default.createElement("div",{className:"layout--item-header__expansion-section"},s.default.createElement(T.default,null,s.default.createElement(T.default.Column,null,s.default.createElement(A.default,{course:t,courseType:"live_course",canExpire:this.props.canExpire,onExpiresChanged:this.updateExpires,onAutoReEnrollChanged:this.updateAutoReEnroll,onDefaultDaysUntilExpirationChanged:this.updateDefaultDaysUntilExpiration,onReEnrollmentPeriodChanged:this.updateReEnrollmentPeriod}),(0,M.isExternalCourseIdEnabled)()&&[s.default.createElement(T.default.Label,{key:"external-0"},I18n.t("External ID")),s.default.createElement(T.default.Field,{key:"external-1","data-capybara":"course-settings__external-course-id"},s.default.createElement(C.default,{externalId:t.externalCourseId,canEdit:n,onChange:this.updateExternalCourseId}))],(0,U.default)("learn_live_course_certificates")&&[s.default.createElement(T.default.Label,{key:"has-certificate-0"},I18n.t("Certificate")),s.default.createElement(T.default.Field,{key:"certificate-toggle","data-capybara":"course-settings__has-certificate"},s.default.createElement(u.default,{disabled:!n,checked:t.hasCertificate,onChange:this.updateHasCertificate}))]),!(0,U.default)("learn_libraryitem_relevance")&&s.default.createElement(T.default.Column,null,s.default.createElement(T.default.Label,{key:"library-label"},I18n.t("In Library")),s.default.createElement(T.default.Field,{key:"library-toggle","data-capybara":"course-settings__in-library"},s.default.createElement(u.default,{disabled:!r||a,checked:t.isLibraryItem,onChange:this.updateInLibrary}))))))))},updateDescription:function(e){var t=e.target.value;this.setState({description:t})},saveDescription:function(){var e=this.state.description;this.emitChange({description:e})},updateTitle:function(e){this.emitChange({title:e})},updateOpenEnrollment:function(e){this.emitChange({openEnrollment:e.target.checked})},updateInLibrary:function(e){this.emitChange({inLibrary:e.target.checked})},updateHasCertificate:function(e){this.emitChange({hasCertificate:e.target.checked})},updateExternalCourseId:function(e){this.emitChange({externalCourseId:e})},toggleExpand:function(){this.setState({expanded:!this.state.expanded})},updateExpires:function(e){var t={expires:e};e&&(t.autoReEnroll=!0),this.emitExpireReEnrollChange(t)},updateDefaultDaysUntilExpiration:function(e){this.emitExpireReEnrollChange({defaultDaysUntilExpiration:e})},updateAutoReEnroll:function(e){this.emitExpireReEnrollChange({autoReEnroll:e})},updateReEnrollmentPeriod:function(e){this.emitChange({reEnrollmentPeriod:e})},emitExpireReEnrollChange:function(e){var t=this.props.liveCourse;this.emitChange(o.default.extend({expires:t.expires,autoReEnroll:t.autoReEnroll,defaultDaysUntilExpiration:t.defaultDaysUntilExpiration},e))},emitChange:function(e){this.props.onChange&&this.props.onChange(e)}});t.default=B,e.exports=t.default},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(13),i=n(31),o=a.createClass({displayName:"Tabs",propTypes:{liveCourse:n(105).isRequired,canViewSubAccounts:r.bool,placements:r.arrayOf(n(84))},getDefaultProps:function(){return{liveCourse:{},canViewSubAccounts:!1,placements:[]}},render:function(){var e=this.props.liveCourse;return a.createElement("nav",{"data-capybara":"learnable-nav",className:"learnable-nav button-set-nav horizontal-scrolling-nav"},a.createElement("div",{className:"learnable-nav__container"},a.createElement(s,{to:"author.live-course.sessions",params:[{liveCourseId:e.id}],className:"learnable-nav__link button-set__button",children:I18n.t("Sessions")}),a.createElement(s,{to:"author.live-course.learners",params:[{liveCourseId:e.id}],className:"learnable-nav__link button-set__button",children:I18n.t("Learners")}),a.createElement(s,{to:"author.live-course.groups",params:[{liveCourseId:e.id}],className:"learnable-nav__link button-set__button",children:I18n.t("Groups")}),a.createElement(s,{to:"author.live-course.attachments",params:[{liveCourseId:e.id}],className:"learnable-nav__link button-set__button",children:I18n.t("Attachments")}),i.get("DOMAIN.root")&&this.props.canViewSubAccounts&&!e.subAccount.notCurrent&&a.createElement(s,{to:"author.live-course.affiliated-accounts",params:[{liveCourseId:e.id}],className:"dark-grey inline-block button-set__button","data-capybara":"affiliated-accounts",children:I18n.t("Affiliated Accounts")}),this.renderLtiPlacementTabs()))},renderLtiPlacementTabs:function(){var e=this.props.liveCourse;return this.props.placements.map(function(t){return a.createElement(s,{to:"author.live-course.placement",key:"placement"+t.id,params:[{liveCourseId:e.id},{placementId:t.id}],className:"learnable-nav__link button-set__button",children:t.text})})}});e.exports=o},function(e,t,n){"use strict";var r=n(272);e.exports=r({contextType:"live-course",contextRoute:"author.live-course.learners"})},function(e,t){"use strict";e.exports={name:"author.live-course.learners.import.confirm",path:"/author/training/:contextId/learners/import/confirm"}},function(e,t,n){"use strict";var r=n(273),a=n(623);e.exports=r({contextType:"live-course",confirmRoute:"author.live-course.learners.import.confirm",uploadRoute:"author.live-course.learners.upload",cancelRoute:"author.live-course.learners",contextual:!0,fetchContext:function(e){return a(e.params.contextId)},generateContextTitle:function(e){return e.title||I18n.t("Untitled Program")}})},function(e,t){"use strict";e.exports={name:"author.live-course.learners.import",path:"/author/training/:contextId/learners/import"}},function(e,t,n){"use strict";var r=n(22),a=n(3),s=a.object,i=n(308),o=n(19),l=n(13),u=n(623),c=i({contextType:"live-course",importRoute:"author.live-course.learners.import",cancelRoute:"author.live-course.learners",getTitle:function(){return this.props.liveCourse?this.props.liveCourse.title||I18n.t("Untitled Course"):null},propTypes:{liveCourse:s}});e.exports=r({type:c,blocking:!0,asyncProps:{liveCourse:{fetch:function(e){return u(e.params.contextId).then(null,function(){throw o(I18n.t("Live Training does not exist"),{type:"error"}),l.transitionTo("author.live-courses"),r.AbortedError})}}}})},function(e,t){"use strict";e.exports={name:"author.live-course.learners.upload",path:"/author/training/:contextId/learners/upload"}},function(e,t,n){"use strict";var r=n(1),a=n(317),s=n(19),i=n(13),o=r.createClass({displayName:"AuthorLiveCoursesNew",statics:{willTransitionTo:function(){a.create().then(function(e){i.replaceWith("author.live-course.sessions",e)},function(){s(I18n.t("Oh snap! We were unable to create the course. Please try again later."),{type:"error"}),i.replaceWith("author.live-courses")})}},render:function(){return null}});e.exports=o},function(e,t){"use strict";e.exports={name:"author.live-courses.new",path:"/author/training/new",loadOrder:1,ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return{liveCourse:{setup:function(e){c.default.addChangeListener(e)},fetch:function(e){var t=e.params.liveCourseId;return c.default.get(t)?i.default.resolve():c.default.fetch(t)},shouldRefetch:function(e,t){return e.params.liveCourseId!==t.params.liveCourseId},get:function(e){return c.default.get(e.params.liveCourseId)},teardown:function(e){c.default.removeChangeListener(e)}},session:{setup:function(e){l.default.addChangeListener(e)},fetch:function(e){var t=e.params,n=t.liveCourseId,r=t.sessionId;return l.default.fetch(n,r)},shouldRefetch:function(e,t){return e.params.sessionId!==t.params.sessionId},get:function(e){return l.default.get(e.params.sessionId)},teardown:function(e){l.default.removeChangeListener(e)}},permissions:{setup:function(e){c.default.addChangeListener(e)},get:function(e){var t={type:"live_course",id:e.params.liveCourseId};return{addGroup:["live_course_team_enrollment_create","live_course_group_enrollment_create","live_course_smart_group_enrollment_create","live_course_domain_group_enrollment_create","live_course_expire_re_enroll"].some(function(e){return(0,p.default)(e)}),updateCourse:(0,p.default)("live_course_update",t),updateSessions:(0,p.default)("live_course_update_sessions",t),expire:(0,p.default)("live_course_expire_re_enroll",t),sendMessages:Boolean(m.default.get("notifications")&&(0,p.default)("user_message_send")),enrollLearners:(0,p.default)("live_course_enrollment_create"),unenrollLearners:(0,p.default)("live_course_enrollment_destroy"),exportLearners:(0,p.default)("live_course_export",t)}},teardown:function(e){c.default.removeChangeListener(e)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(25),i=r(s),o=n(316),l=r(o),u=n(317),c=r(u),d=n(29),p=r(d),f=n(107),m=r(f);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(1362),h=r(m),g=n(316),v=r(g),_=n(26),y=r(_),b=n(19),E=r(b),C=n(3),I=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.publish=function(){var e=r.props,t=e.liveCourseId,n=e.sessionId;v.default.publish(t,n).catch(r.publishSessionError)},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.canPublish,n=e.isPublished,r=t&&!n,a=y.default.t("Publish");return r&&f.default.createElement(h.default,{messageText:y.default.t("This session has not been published yet."),confirmText:y.default.t("Are you sure you want to publish this session?"),confirmActionText:a,actionText:a,onAction:this.publish,confirmAction:!0})}},{key:"publishSessionError",value:function(){(0,E.default)(y.default.t("We ran into an issue publishing this session."),{type:"error"})}}]),t}(f.default.Component);I.propTypes={canPublish:C.bool,isPublished:C.bool,sessionId:C.string,liveCourseId:C.string},t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2468),h=r(m),g=n(1376),v=r(g),_=n(2466),y=r(_),b=n(775),E=r(b),C=n(189),I=r(C),T=n(26),N=r(T),S=n(29),x=r(S),A=n(11),k=r(A),w=n(3),R=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderSessionNotice=function(){return f.default.createElement(E.default,{noticeText:N.default.t("You are viewing attendees at a session level. Any modifications to the attendees will only affect this specific session."),onAcknowledgement:e.sessionNoticeAcknowledged,permanentDismissId:e.props.liveCourse.id})},e.renderPublishBanner=function(){return f.default.createElement(y.default,{sessionId:e.props.session.id,liveCourseId:e.props.liveCourse.id,isPublished:e.props.session.isPublished,canPublish:e.props.permissions.updateSessions})},e.renderHeader=function(){return f.default.createElement(v.default,{className:"live-course-session-header",icon:"gs-in-class",title:e.formattedSessionDate(),slashlist:e.getSessionDetailList(),navigation:e.getNavigation(),printTitle:e.props.liveCourse.title,actions:e.renderActions()})},e.renderActions=function(){return e.canSendMessages()&&f.default.createElement("div",{className:"session-header-actions"
},f.default.createElement(I.default,{round:!0,recipientType:"live_course_session",recipientId:e.props.session.id}))},e.renderTabNav=function(){return f.default.createElement(h.default,{liveCourseId:e.props.liveCourse.id,sessionId:e.props.session.id})},e.renderPrintHints=function(){return f.default.createElement("div",{className:"print-only live-course-session__print-hints"},f.default.createElement("div",{className:"live-course-session__print-hint-heading"},N.default.t("Sign in Sheet")),f.default.createElement("div",{className:"live-course-session__left-print-title"},N.default.t("Name")),f.default.createElement("div",{className:"live-course-session__right-print-title"},N.default.t("Signature")))},e.sessionNoticeAcknowledged=function(){e.setState({sessionNoticeAcknowledged:!0})},e.getNavigation=function(){var t=N.default.t("Back to %{liveCourseTitle}",{liveCourseTitle:e.props.liveCourse.title});return{name:t,link:"author.live-course",params:[{liveCourseId:e.props.liveCourse.id}]}},e.formattedSessionDate=function(){return e.props.session.startAt?(0,k.default)(e.props.session.startAt).format("dddd, MMMM D, YYYY"):N.default.t("%{liveCourseTitle} Session",{liveCourseTitle:e.props.liveCourse.title})},e.getSessionDetailList=function(){var t=e.props.session,n=[];return t.startAt&&n.push(e.getformattedSessionTime()),t.location&&!t.multiPart&&n.push(f.default.createElement("span",{className:"live-course-session-header__location"},t.location)),n},e.getformattedSessionTime=function(){var t=e.props.session,n=(0,k.default)(t.startAt).format("h:mma"),r=(0,k.default)(t.endAt).format("h:mma"),a="";return t.startAt&&t.endAt?a=N.default.t("%{startTime} to %{endTime}",{startTime:n,endTime:r}):t.startAt&&(a=n),a},e.canSendMessages=function(){return e.props.liveCourse.directMessagingEnabled&&(0,x.default)("user_message_send")},e.state={sessionNoticeAcknowledged:!1},e}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state.sessionNoticeAcknowledged||(0,b.isDismissed)(this.props.liveCourse.id);return f.default.createElement("div",null,e?this.renderPublishBanner():this.renderSessionNotice(),this.renderHeader(),this.renderPrintHints(),this.renderTabNav(),this.props.children)}}]),t}(f.default.Component);R.propTypes={liveCourse:n(105).isRequired,session:n(80).isRequired,permissions:(0,w.shape)({updateSessions:w.bool}),children:w.node},t.default=R,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(3),i=s.string,o=r.createClass({displayName:"TabNav",propTypes:{liveCourseId:i.isRequired,sessionId:i.isRequired},render:function(){var e=this.props,t=e.liveCourseId,n=e.sessionId;return r.createElement("nav",{className:"learnable-nav button-set"},r.createElement("div",{className:"learnable-nav__container"},r.createElement(a,{className:"learnable-nav__link button-set__button",to:"author.live-course.sessions.show",params:[{liveCourseId:t},{sessionId:n}],children:I18n.t("Registrations")})))}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(93),h=r(m),g=n(2467),v=r(g),_=n(22),y=r(_),b=n(2465),E=r(b),C=n(3),I=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement(v.default,{liveCourse:this.props.liveCourse,session:this.props.session,permissions:this.props.permissions},f.default.createElement(h.default,this.props))}}]),t}(f.default.Component);I.propTypes={liveCourse:n(105),session:n(80),permissions:(0,C.shape)({updateSessions:C.bool})},t.default=(0,y.default)({type:I,blocking:!0,asyncProps:(0,E.default)()}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.live-course.sessions.show",path:"/author/training/:liveCourseId/sessions/:sessionId",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(26),o=r(i),l=n(52),u=r(l),c=n(6),d=r(c),p=n(18),f=r(p),m=n(5),h=n(12),g=n(2),v=s.default.createClass({displayName:"AttendeesHeaderActions",propTypes:{searchTerm:g.string,onChangeFilters:g.func,onShowGridView:g.func,onShowListView:g.func,isShowingListView:g.bool},getDefaultProps:function(){return{onChangeFilters:Function.prototype}},render:function(){return s.default.createElement("div",{className:"session-attendees__filter-bar"},s.default.createElement(u.default,{label:o.default.t("SEARCH"),searchTerm:this.props.searchTerm,onChange:this.formatSearchChange,debounceRate:h.GENERAL_DEBOUNCE_MS,placeholderText:o.default.t("Search for session attendees")}),s.default.createElement("div",null,this.renderViewToggles()))},renderViewToggles:function(){var e=(0,d.default)({selected:!this.props.isShowingListView}),t=(0,d.default)({selected:!!this.props.isShowingListView});return s.default.createElement("div",{className:"session-attendees__view-buttons"},s.default.createElement(f.default,{className:e,onClick:this.props.onShowGridView,onMouseDown:this.preventFocusOnClick},s.default.createElement(m.Icon,{className:"gs-grid-view"})),s.default.createElement(f.default,{className:t,onClick:this.props.onShowListView,onMouseDown:this.preventFocusOnClick},s.default.createElement(m.Icon,{className:"gs-steps-process"})))},formatSearchChange:function(e){this.props.onChangeFilters({search:e||void 0})},preventFocusOnClick:function(e){e.preventDefault()}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(65),l=r(o),u=n(61),c=r(u),d=n(219),p=r(d),f=n(24),m=r(f),h=n(384),g=n(6),v=r(g),_=n(3),y=s.default.createClass({displayName:"GridEntry",propTypes:{session:n(80).isRequired,registration:p.default.isRequired,highlight:_.string,adjustable:_.bool.isRequired,onAttendanceChange:_.func},render:function(){var e=this.constructor,t=e.AttendanceMarker,n=e.AccessibleAdjustmentControls,r=this.props,a=r.registration,i=r.session,o=(0,v.default)({"attendance-list--grid-entry__toggle":!0,"inline-block":!0,"toggle-control":this.props.adjustable}),u=(0,h.isPresent)(a);return s.default.createElement("li",{onClick:this.props.adjustable&&this.emitAttendanceChange,className:"attendance-list--grid-entry__user text-center"},s.default.createElement("label",{className:o},this.props.adjustable&&s.default.createElement(n,{registration:a,onChange:this.emitAttendanceChange}),u&&s.default.createElement(t,{learnerHasAttended:u,sessionIsConcluded:(0,h.isConcluded)(i)}),s.default.createElement(l.default,{className:"avatar--medium inline-block",id:a.id,name:a.name,email:a.email,avatarUrl:a.avatarUrl})),s.default.createElement("div",{className:"attendance-list--grid-entry__info"},u?s.default.createElement(m.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{this_render_user_name} *is present*",{this_render_user_name:"%{this_render_user_name}"}),wrappers:{"*":s.default.createElement("span",{className:"screenreader-only"},"$1")},this_render_user_name:this.renderUserName()},"$1")):s.default.createElement(m.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{this_render_user_name} *is absent*",{this_render_user_name:"%{this_render_user_name}"}),wrappers:{"*":s.default.createElement("span",{className:"screenreader-only"},"$1")},this_render_user_name:this.renderUserName()},"$1"))))},renderUserName:function(){var e=this.props,t=e.registration,n=e.highlight;return s.default.createElement(c.default,{text:t.name,highlight:n})},emitAttendanceChange:function(e){e.preventDefault(),this.props.onAttendanceChange(this.props.registration.id,!(0,h.isPresent)(this.props.registration))}});y.AccessibleAdjustmentControls=s.default.createClass({displayName:"AccessibleAdjustmentControls",propTypes:{registration:p.default,onChange:_.func},render:function(){var e=this.props.registration;return s.default.createElement("span",{className:"screenreader-only"},s.default.createElement("input",{type:"checkbox",checked:(0,h.isPresent)(e),onChange:this.props.onChange}),s.default.createElement("span",null,I18n.t("Toggle attendance for %{name}",{name:e.name})))}}),y.AttendanceMarker=s.default.createClass({displayName:"AttendanceMarker",propTypes:{sessionIsConcluded:_.bool,learnerHasAttended:_.bool},render:function(){var e=(0,v.default)({"inline-block":!0,"avatar--medium":!0,"attendance-list--grid-entry__avatar-cover":!0});return s.default.createElement("div",{className:e},this.props.learnerHasAttended&&s.default.createElement(i.Icon,{className:"gs-check attendance-list--grid-entry__check"}))}}),t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(18),l=r(o),u=n(5),c=n(27),d=r(c),p=n(91),f=r(p),m=n(374),h=r(m),g=n(65),v=r(g),_=n(384),y=n(4),b=s.default.createClass({displayName:"ListEntry",propTypes:{registration:n(219).isRequired,canUnregister:i.bool.isRequired,canAdjustAttendance:i.bool.isRequired,onUnregister:i.func,onAttendanceChange:i.func},render:function(){var e=this.props,t=e.registration,n=e.canUnregister,r=e.canAdjustAttendance,a=e.onUnregister,i=t.id,o=t.uid,c=t.name,p=t.email,m=t.avatarUrl,g=h.default.Column,b=(0,y.uniq)([o,p]).filter(Boolean).join(", ");return s.default.createElement(h.default,{ref:"entry",user:t,onRemove:a.bind(null,t)},s.default.createElement(g,{className:"attendance-list--list-entry__name"},s.default.createElement(v.default,{className:"attendance-list--list-entry__avatar",id:i,name:c,email:p,avatarUrl:m}),s.default.createElement("div",null,s.default.createElement("div",{className:"attendance-list--list-entry__name__header"},c),s.default.createElement("div",{className:"attendance-list--list-entry__name__details"},b))),s.default.createElement(g,{className:"attendance-list--list-entry__attended"},s.default.createElement(f.default,{disabled:!r,checked:(0,_.isPresent)(t),onChange:this.toggleAttendance})),n&&s.default.createElement(g,{className:"attendance-list--list-entry__unregister"},s.default.createElement(l.default,{className:"attendance-list--list-entry__unregister-btn",onClick:this.showRemovalConfirmationPrompt},s.default.createElement(d.default,null,I18n.t("Remove Learner from Session")),s.default.createElement(u.Icon,{className:"attendance-list--list-entry__unregister-icon"}))))},toggleAttendance:function(){var e=this.props,t=e.registration,n=e.onAttendanceChange;n(t.id,!(0,_.isPresent)(t))},showRemovalConfirmationPrompt:function(){this.refs.entry.confirmRemoval()}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(198),o=r(i),l=n(2472),u=r(l),c=n(2473),d=r(c),p=n(450),f=r(p),m=n(27),h=r(m),g=n(384),v=n(3),_=s.default.createClass({displayName:"EditorOutlet",propTypes:{children:v.node},render:function(){return this.props.children}}),y=s.default.createClass({displayName:"RegistrationListing",propTypes:{session:n(80).isRequired,registrations:(0,v.arrayOf)(n(219)).isRequired,canUnregister:v.bool,canAdjustAttendances:v.bool,onUnregister:v.func,onAttendanceChange:v.func,searchTerm:v.string,renderAsList:v.bool,children:v.node},render:function(){return this.props.registrations.length>0?this.props.renderAsList?this.renderList():this.renderGrid():(0,g.isConcluded)(this.props.session)?s.default.createElement("span",null,I18n.t("Nobody attended this session")):this.props.searchTerm?s.default.createElement("span",null,I18n.t("No registered learners found")):s.default.createElement("span",null,I18n.t("No registered learners yet"))},renderList:function(){var e=this.props,t=e.canUnregister,n=e.registrations,r=f.default.ColumnGroup,a=f.default.Column,i=f.default.Body,l=(0,o.default)(this.props.children,_);return s.default.createElement("div",{className:"attendance-list--list-entry"},s.default.createElement(f.default,null,s.default.createElement(r,null,s.default.createElement(a,{sortable:!0,sortParam:"name"},I18n.t("Name")),s.default.createElement(a,{className:"attendance-list--list-entry__attended",sortable:!0,sortParam:"attended"},I18n.t("Attended")),s.default.createElement(a,{className:"sortable-table__th--icon",sortable:!1},t&&s.default.createElement(h.default,{children:I18n.t("Unregister")}))),s.default.createElement(i,null,l,n.map(this.renderListEntry))))},renderListEntry:function(e){var t=this.props,n=t.canUnregister,r=t.onUnregister,a=t.canAdjustAttendances,i=t.onAttendanceChange;return s.default.createElement(d.default,{key:e.id,registration:e,canUnregister:n,canAdjustAttendance:a,onUnregister:r,onAttendanceChange:i})},renderGrid:function(){return s.default.createElement("ul",{className:"attendance-list--grid-entry unstyled","data-capybara":"attendance_list"},this.props.registrations.map(this.renderGridEntry))},renderGridEntry:function(e){return s.default.createElement(u.default,{key:e.id,session:this.props.session,registration:e,adjustable:this.props.canAdjustAttendances,onAttendanceChange:this.props.onAttendanceChange,highlight:this.props.searchTerm})}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(5),v=n(18),_=r(v),y=n(27),b=r(y),E=n(90),C=r(E),I=n(65),T=r(I),N=n(24),S=r(N),x=n(384),A=n(29),k=r(A),w=n(11),R=r(w),O=n(6),P=r(O),L=n(1454),M=r(L),D=n(2),U=n(105),F=r(U),q=n(80),B=r(q),j=n(42),H=r(j),G=function(e){function t(){(0,o.default)(this,t);var e=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderAttendeeCount=function(){var t=e.props.session.presentCount||0,n=e.props.session.registeredCount||0;return n>0&&h.default.createElement("div",{className:"session-subheader__attendee-count"},I18n.t("%{presentCount} of %{registeredCount} Learners Present",{presentCount:t,registeredCount:n}))},e.renderAddUserButton=function(){return e.props.canEnroll?h.default.createElement(_.default,{className:"session-action-button session-action-button__add-learner",onClick:e.openAddUserPrompt},h.default.createElement(g.Icon,{className:"session-action-button__add-learner__icon gs-plus-sign gs-1x"}),h.default.createElement("span",{className:"session-action-button__add-learner__text"},"+ ",I18n.t("Learner"))):null},e.renderPrintButton=function(){return h.default.createElement(_.default,{className:"session-action-button session-action-button__print",onClick:e.print},h.default.createElement(b.default,{children:I18n.t("Print")}),h.default.createElement(g.Icon,{key:"trigger-icon",className:"gs-print"}))},e.renderAddUserBar=function(){var t=e.props,n=t.onSearch,r=t.placeholder;return h.default.createElement("div",{className:"session-subheader__add-user"},h.default.createElement(C.default,{ref:"combobox",autocomplete:"list",className:"session-subheader__search-bar",inputClassName:"ic-autocomplete-input",onInput:n,onSelect:e.handleAddUser,placeholder:r,preventClose:e.preventDialogClose,children:e.renderSearchResults(),autoFocus:!0}),h.default.createElement(_.default,{onClick:e.closeAddUserPrompt,className:"session-subheader__add-user__cancel-button"},h.default.createElement(b.default,null,I18n.t("Cancel")),h.default.createElement(g.Icon,{className:"session-subheader__add-user__cancel-icon"})))},e.renderSearchResults=function(){var t=e.props,n=t.isSearching,r=t.searchResults;return r.length>0?r.map(e.renderResult):n?h.default.createElement(g.Loader,{className:"session-subheader__add-user__loader",loaderSize:"medium"}):h.default.createElement("div",{className:"session-subheader__add-user__no-results"},I18n.t("No learners found"))},e.renderResult=function(t){var n=(0,P.default)({"search-results__result":!0,"search-results__result--disabled":!!t.member});return t.memberAnother&&!(0,x.isConcluded)(e.props.session)?h.default.createElement(C.default.ConfirmOption,{className:n,key:"result-"+t.id,value:t,label:t.name,isConfirming:e.state.isConfirming,acceptButtonText:I18n.t("Reschedule"),acceptHeadingText:I18n.t("Reschedule for this session?"),acceptSubHeadingText:I18n.t("This will remove them from their current session")},e.renderUserResult(t)):h.default.createElement(C.default.Option,{className:n,key:"result-"+t.id,value:t,label:t.name},e.renderUserResult(t))},e.renderUserResult=function(t){var n=void 0;t.member?n=I18n.t("Already Selected"):t.pendingMember&&(n=I18n.t("Pending addition"));var r=!(0,x.isConcluded)(e.props.session)&&t.memberAnother&&t.currentSession&&t.currentSession.startAt;return h.default.createElement("div",{className:"autocomplete__option__wrapper"},h.default.createElement(T.default,(0,s.default)({},t,{className:"left"})),h.default.createElement("span",{className:"padding-l-xs"},h.default.createElement("span",null,t.name,n&&h.default.createElement("span",null," (",n,")"))),r&&h.default.createElement("span",{className:"autocomplete__option__meta"},h.default.createElement(S.default,{className:"autocomplete__option__small-text"},I18n.t("Currently Registered For")),(0,R.default)(t.currentSession.startAt).format("llll")))},e.canConcludeSession=function(){var t=(0,R.default)(e.props.session.startAt)<(0,R.default)(),n=!(0,x.isConcluded)(e.props.session),r=(0,k.default)("live_course_update_sessions");return t&&n&&r},e.handleAddUser=function(t){t.member||e.props.onRegister(t.id),e.closeAddUserPrompt()},e.openAddUserPrompt=function(){e.setState({isAddingUser:!0})},e.print=function(){var t=e.props,n=t.onPrintStart,r=t.onPrintLoaded;n(),e.pullFullRegistrationList().then(function(){r(),window.print()})},e.pullFullRegistrationList=function(){return M.default.fetchForPrint(e.props.session.id)},e.closeAddUserPrompt=function(){e.setState({isAddingUser:!1})},e.state={isAddingUser:!1},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"session-subheader","data-capybara":"session-subheader"},h.default.createElement("div",{className:"session-subheader__bar"},h.default.createElement("div",null,h.default.createElement("h2",{className:"session-subheader__title"},I18n.t("Session Registrations")),this.renderAttendeeCount()),h.default.createElement("div",{className:"session-subheader__buttons"},this.renderPrintButton(),this.renderAddUserButton())),this.state.isAddingUser&&this.renderAddUserBar())}}]),t}(h.default.Component);G.propTypes={liveCourse:F.default.isRequired,session:B.default.isRequired,searchResults:(0,D.arrayOf)(H.default),search:D.string,placeholder:D.string,onSearch:D.func,onRegister:D.func,isEnrolling:D.bool,isLoading:D.bool,isSearching:D.bool,canEnroll:D.bool,onPrintStart:D.func,onPrintLoaded:D.func},G.defaultProps={isShowingListView:!1,searchResults:[]},t.default=G,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(787),o=r(i),l=n(2474),u=r(l),c=n(2475),d=r(c),p=n(2471),f=r(p),m=n(30),h=r(m),g=n(87),v=r(g),_=n(19),y=r(_),b=n(29),E=r(b),C=n(4),I=n(53),T=r(I),N=n(22),S=r(N),x=n(5),A=n(109),k=r(A),w=n(316),R=r(w),O=n(1454),P=r(O),L=n(3170),M=r(L),D=n(12),U=n(3),F="sessionAttendeesFilterParams",q=s.default.createClass({displayName:"LiveTrainingAttendeeView",mixins:[(0,T.default)(function(e){P.default.fetchNext(e.params.sessionId,e.query.sort,e.query.search)})],propTypes:{liveCourse:n(105).isRequired,session:n(80).isRequired,registrations:(0,U.arrayOf)(n(219)),searchResults:(0,U.arrayOf)(n(42)),isLoading:U.bool,isEnrolling:U.bool,query:(0,U.shape)({search:U.string,sort:U.string}),permissions:(0,U.shape)({addGroup:U.bool,updateCourse:U.bool,updateSessions:U.bool,expire:U.bool,sendMessages:U.bool,enrollLearners:U.bool,unenrollLearners:U.bool,exportLearners:U.bool}),subscriptionInfo:n(1417)},getDefaultProps:function(){return{query:{},isPromptingForConclusion:!1,subscribedToChanges:!1}},getInitialState:function(){return{isSearching:!0,isShowingListView:!1,isFetchingPrintList:!1}},componentDidMount:function(){this.restoreFilters()},componentWillReceiveProps:function(e){var t=this.props.session.id,n=function(){},r=this.state&&!this.state.subscribedToChanges||!(0,C.isEqual)(e.subscriptionInfo,this.props.subscriptionInfo);r&&P.default.subscribe(e.subscriptionInfo,t,n.bind(this),this.handleLearnerRegistered)},componentWillUnmount:function(){P.default.unsubscribe()},render:function(){var e=this.props,t=e.query,n=e.isLoading,r=e.isEnrolling,a=e.permissions,i=this.retrieveFilters();return s.default.createElement(o.default,{className:"session-attendees"},s.default.createElement(d.default,{liveCourse:this.props.liveCourse,session:this.props.session,search:t.search,searchResults:this.props.searchResults,placeholder:I18n.t("Enter a name to find a learner"),canEnroll:a.enrollLearners,onSearch:this.lookup,onRegister:this.register,isLoading:n,isEnrolling:r,isSearching:this.state.isSearching,onPrintStart:this.toggleFetchingPrintList.bind(this,!0),onPrintLoaded:this.toggleFetchingPrintList.bind(this,!1)}),s.default.createElement(f.default,{isShowingListView:this.state.isShowingListView,onShowListView:this.setShowingListView.bind(this,!0),onShowGridView:this.setShowingListView.bind(this,!1),searchTerm:i&&i.search,onChangeFilters:this.changeFilters}),this.renderRegistrationContent())},renderRegistrationContent:function(){return this.props.isLoading?this.renderLoading():this.state.isFetchingPrintList?this.renderFetchingPrintList():this.renderRegistrationList()},renderLoading:function(){return s.default.createElement(x.Loader,{className:"session-attendees__loader"})},renderFetchingPrintList:function(){return s.default.createElement(x.Loader,{className:"session-attendees__loader"},s.default.createElement("div",{className:"session-attendees__print-spinner"},I18n.t("Creating Sign In Sheet...")))},renderRegistrationList:function(){var e=this.props,t=e.session,n=e.registrations,r=e.query,a=e.permissions;return s.default.createElement(u.default,{session:t,registrations:n,canUnregister:a.unenrollLearners,canAdjustAttendances:this.canAdjustAttendance(),onUnregister:this.unregister,onAttendanceChange:this.adjustAttendance,searchTerm:r.search,renderAsList:this.state.isShowingListView})},toggleFetchingPrintList:function(e){this.setState({isFetchingPrintList:e})},setShowingListView:function(e){this.setState({isShowingListView:e})},adjustAttendance:function(e,t){var n=this;P.default.markAttendance(this.props.session.id,e,t).then(function(){return R.default.fetch(n.props.liveCourse.id,n.props.session.id)},y.default.bind(null,I18n.t("There was a problem adjusting the registration attendance."),{type:"error"}))},canAdjustAttendance:function(){return(0,E.default)("live_course_session_attendance")},changeFilters:function(e){this.storeFilterParameters(e)},storeFilterParameters:function(e){v.default.setItem(this.storageKey(),(0,C.assign)({},h.default.getQuery(),e),v.default.SCOPE_USER)},retrieveFilters:function(){return v.default.getItem(this.storageKey(),v.default.SCOPE_USER)},restoreFilters:function(){var e=this.retrieveFilters();e&&h.default.updateQuery(e)},storageKey:function(){return F+"-"+this.props.session.id},lookup:(0,C.debounce)(function(e){var t=this;e.trim().length>0&&(this.setState({isSearching:!0}),k.default.searchInLiveCourseSession(e,this.props.session.id).then(function(){t.setState({isSearching:!1})}))},D.GENERAL_DEBOUNCE_MS,{leading:!0,maxWait:3*D.GENERAL_DEBOUNCE_MS}),register:function(e){var t=this.props.session;P.default.register(t.id,e,this.handleLearnerRegistrationTimeout)},unregister:function(e){var t=this.props.session;P.default.unregister(t.id,e.id).then(this.handleLearnerUnRegistered(e),null)},handleLearnerRegistered:function(e){R.default.changeSessionRegisteredCount(this.props.session.id,1,e.markedCompleteAt)},handleLearnerUnRegistered:function(e){R.default.changeSessionRegisteredCount(this.props.session.id,-1,e.markedCompleteAt)},handleLearnerRegistrationTimeout:function(){var e=this.props,t=e.liveCourse,n=e.session;R.default.fetch(t.id,n.id)}});t.default=(0,S.default)({type:q,asyncProps:{registrations:{fetch:function(e){var t=e.query,n=t.search,r=t.sort;return P.default.fetch(e.params.sessionId,r,n).catch(function(){throw(0,y.default)(I18n.t("Oh snap! The Live Training session's registrations couldn't be found."),{type:"error"}),h.default.transitionTo("author.live-course",{liveCourseId:e.params.liveCourseId}),S.default.AbortedError})},shouldRefetch:function(e,t){return e.params.sessionId!==t.params.sessionId||!(0,C.isEqual)(e.query,t.query)},get:function(e){var t=e.query,n=t.search,r=t.sort;return P.default.getAll(e.params.sessionId,r,n)},setup:function(e){P.default.addChangeListener(e)},teardown:function(e){P.default.removeChangeListener(e)}},subscriptionInfo:{fetch:function(e){return(0,M.default)(e.params.sessionId)}},searchResults:{setup:function(e){k.default.addChangeListener(e)},get:function(e){return k.default.getFoundInLiveCourseSession(e.params.sessionId)},teardown:function(e){k.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.live-course.sessions.show.attendees",path:"",parent:"author.live-course.sessions.show",default:!0,ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(97),o=r(i),l=n(54),u=r(l),c=n(123),d=r(c),p=n(13),f=r(p),m=n(5),h=n(2483),g=r(h),v=n(52),_=r(v),y=n(30),b=r(y),E=n(31),C=r(E),I=n(6),T=r(I),N=n(3),S=n(24),x=r(S),A=s.default.createClass({displayName:"View",propTypes:{liveCourses:(0,N.arrayOf)(n(105)),subAccounts:(0,N.arrayOf)(n(217)),canCreateCourses:N.bool,onRemove:N.func,query:N.object,isLoading:N.bool},render:function(){var e=this.props.subAccounts.filter(function(e){return e.hasItemClass}).map(function(e){return{label:e.name,value:e.id}});return s.default.createElement(o.default,null,s.default.createElement(u.default,{name:"layout--list__header-text"},I18n.t("Live Trainings")),s.default.createElement(u.default,{name:"layout--list__after-header"},this.props.canCreateCourses&&s.default.createElement(f.default,{to:"author.live-courses.new","aria-label":I18n.t("Add New Live Training Course"),className:"add-btn",dataCapybara:"add-ilt-btn"},s.default.createElement(x.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Live Training*"),wrappers:{"*":s.default.createElement("span",{className:"add-btn__text"},"$1")}},"$1")))),s.default.createElement("div",{className:"author-live-courses__search"},s.default.createElement(_.default,{searchTerm:this.props.query.search,ariaLabelText:I18n.t("Search for Live Trainings")}),s.default.createElement(d.default,{filterSets:[{key:"filters",options:[{label:I18n.t("Upcoming"),value:"upcoming"}]}],activeFilters:this.props.query,onChange:this.updateFilters}),!this.props.isLoading&&C.default.get("DOMAIN.root")&&e.length>1&&s.default.createElement(d.default,{filterSets:[{key:"subaccounts",exclusive:!1,options:e}],activeFilters:this.props.query,onChange:this.updateQuery,className:"author-live-courses__account-filter",align:"right"},this.renderSubaccountFilterButton())),this.props.isLoading&&s.default.createElement("div",{className:"loader-container"},s.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"})),!this.props.isLoading&&s.default.createElement(g.default,{liveCourses:this.props.liveCourses,subAccounts:this.props.subAccounts,onRemove:this.props.onRemove,query:this.props.query}))},renderSubaccountFilterButton:function(){var e=!!this.props.query.subaccounts,t=(0,T.default)({"author-course-templates__subaccount-filter__label--active":e});return s.default.createElement(d.default.Trigger,null,s.default.createElement("button",{type:"button",className:"popdown-selector__trigger author-course-templates__subaccount-filter"},s.default.createElement("span",{className:t},I18n.t("Accounts"),s.default.createElement(m.Icon,{className:"author-course-templates__subaccount-filter__icon"}))))},updateQuery:function(e){b.default.updateQuery(e)},updateFilters:function(e){var t=e.filters;this.updateQuery({filters:t})},updateSort:function(e){this.updateQuery({sort:e})}});t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(317),u=r(l),c=n(637),d=r(c),p=n(29),f=r(p),m=n(19),h=r(m),g=n(53),v=r(g),_=n(3),y=n(2478),b=r(y),E="LiveCourse",C=s.default.createClass({displayName:"AuthorLiveCourses",mixins:[(0,v.default)(function(e){u.default.fetchNext(e.query)})],propTypes:{liveCourses:(0,_.arrayOf)(n(105)),subAccounts:(0,_.arrayOf)(n(217)),isLoading:_.bool,query:(0,_.shape)({filters:(0,_.oneOf)(["upcoming"]),subaccounts:(0,_.oneOfType)([_.string,(0,_.arrayOf)(_.string)]),search:_.string,sort:_.string})},shouldComponentUpdate:function(e){return!e.isLoading},render:function(){return s.default.createElement(b.default,{liveCourses:this.props.liveCourses,subAccounts:this.props.subAccounts,canCreateCourses:(0,f.default)("live_course_create"),onRemove:this.removeCourse,query:this.props.query,isLoading:this.props.isLoading})},removeCourse:function(e){u.default.remove(e).then(null,function(){(0,h.default)(I18n.t("Oh Snap! We were unable to delete your live training. Please try again later."),{type:"error"})})}});t.default=(0,o.default)({type:C,asyncProps:{liveCourses:{setup:function(e){u.default.addChangeListener(e)},fetch:function(e){return u.default.fetchAll(e.query)},shouldRefetch:function(e,t){return e.query!==t.query},get:function(e){return u.default.getAll(e.query)},teardown:function(e){u.default.removeChangeListener(e)}},subAccounts:{setup:function(e){d.default.addChangeListener(e)},teardown:function(e){d.default.removeChangeListener(e)},fetch:function(){return d.default.fetch(E)},get:function(){return d.default.getAll(E)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.live-courses",path:"/author/training",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(5),u=n(2482),c=r(u),d=n(3),p=n(6),f=r(p),m=s.default.createClass({displayName:"Entry",mixins:[n(88).mixin],propTypes:{liveCourse:n(105),removable:d.bool,onRemove:d.func,search:d.string},render:function(){var e=this.props,t=e.liveCourse,n=e.search,r=this.isConfirmingRemoval(),a=t.hasSharedEnrollments,i=(0,f.default)({"removable-item":!0,"removable-item--focused":r}),u=(0,f.default)({"removable-item__title--large":!r||!a,"removable-item__title--none":r&&a}),d=(0,f.default)({"removable-item__confirm":!0,"removable-item__confirm--shared":a});return s.default.createElement("li",{className:"clearfix"},s.default.createElement("div",{className:i},s.default.createElement(c.default,{liveCourse:t,className:u,search:n}),r&&[s.default.createElement("div",{key:"prompt",className:d},s.default.createElement("div",null,I18n.t("Delete Training?")),a&&s.default.createElement("div",{className:"pink"},I18n.t("This training is shared with 1 or more Sub-Accounts with active enrollments"))),s.default.createElement("div",{key:"buttons",className:"removable-item__buttons"},s.default.createElement(o.default,{className:"btn--reset dark-grey small padding-rl-s text-center",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),s.default.createElement(o.default,{className:"btn--reset pink small padding-rl-s text-center",onClick:this.props.onRemove,children:I18n.t("Delete"),"data-capybara":"course-delete_confirm"}))],this.props.removable&&!r&&s.default.createElement("div",{className:"removable-item__remove-btn full-height"
},s.default.createElement(o.default,{className:"text-center btn--reset padding-r-m right",onClick:this.confirmRemoval,"data-capybara":"course-delete_x"},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Delete Training")),s.default.createElement(l.Icon,{className:"gs-x gs-1x dark-grey"})))))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(13),l=r(o),u=n(61),c=r(u),d=function(e){var t=e.liveCourse,n=e.className,r=e.search,a=t.title&&t.title.length>0;return s.default.createElement("div",{className:n},s.default.createElement("h2",{className:"h3 margin-none"},s.default.createElement(l.default,{to:"author.live-course",params:[{liveCourseId:t.id}],className:a?"indigo":"dark-grey"},s.default.createElement(c.default,{text:a?t.title:I18n.t("Untitled Live Training"),highlight:r}))),s.default.createElement("ul",{className:"dark-grey light margin-none list--slashed"},t.subAccount.notCurrent&&s.default.createElement("li",null,s.default.createElement("span",{className:"medium black"},t.subAccount.name)),s.default.createElement("li",{key:"count"},I18n.t({one:"1 Session",other:"%{count} Sessions"},{count:t.sessionsCount||0}))),t.description&&s.default.createElement("div",{className:"removable-item__description"},s.default.createElement(c.default,{text:t.description,highlight:r})))};d.propTypes={liveCourse:n(105).isRequired,className:i.string,search:i.string},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(29),o=r(i),l=n(2481),u=r(l),c=n(3),d=s.default.createClass({displayName:"Listing",propTypes:{liveCourses:(0,c.arrayOf)(n(105)).isRequired,query:c.object,onRemove:c.func},getDefaultProps:function(){return{query:{search:""}}},render:function(){return s.default.createElement("ul",{className:"course-list unstyled bordered","data-capybara":"live_course_list"},this.props.liveCourses.map(this.renderEntry),0===this.props.liveCourses.length&&s.default.createElement("li",{key:"empty",className:"bold dark-grey padding-tb-m text-center"},"upcoming"===this.props.query.scope?I18n.t("There are no live trainings with upcoming sessions"):I18n.t("There are no existing live trainings")))},renderEntry:function(e){var t=this.canDelete(e);return s.default.createElement(u.default,{key:e.id,liveCourse:e,removable:t,onRemove:t?this.props.onRemove.bind(null,e.id):void 0,search:this.props.query.search})},canDelete:function(e){var t={type:"live_course",id:e.id};return e.enrollmentsCount>0||e.hasSharedEnrollments?(0,o.default)("live_course_force_destroy",t):(0,o.default)("live_course_force_destroy",t)||(0,o.default)("live_course_destroy",t)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(1456),u=r(l),c=n(13),d=r(c),p=n(3181),f=r(p),m=n(59),h=n(34),g=r(h),v=n(19),_=r(v),y=n(2),b=n(4),E=s.default.createClass({displayName:"AuthorLtiContentItem",propTypes:{ltiContentItem:m.LtiContentItemSchema,params:(0,y.shape)({ltiContentItemId:y.string}),query:(0,y.shape)({programId:y.string})},render:function(){var e=this.props.ltiContentItem;return s.default.createElement("div",{className:"lti-content-item"},this.renderHeader(),s.default.createElement(m.LtiContentItemView,{ltiContentItem:e,onFetchLtiLinkItemLaunchResource:this.fetchLtiLinkItemLaunchResource}))},renderHeader:function(){return s.default.createElement("header",{className:"lti-content-item__header--author"},this.renderTitle(),this.renderDoneButton())},renderTitle:function(){var e=this.props.ltiContentItem;return s.default.createElement("div",{className:"lti-content-item__title-container"},this.renderIcon(),s.default.createElement("span",{className:"lti-content-item__title-container__title margin-l-xs"},e.ltiAttributes.title))},renderIcon:function(){var e=this.props.ltiContentItem,t=(0,b.get)(e,"ltiAttributes.icon.@id");return t?s.default.createElement("img",{src:t,className:"lti-content-item__title-container__icon"}):null},renderDoneButton:function(){var e=this.props,t=e.query.programId,n=e.ltiContentItem.toolId;return s.default.createElement("div",{className:"lti-content-item__actions-container"},s.default.createElement(d.default,{to:"react.author.program.react.author.program.admin-launch-list",params:[{programId:t},{toolId:n}],className:"btn"},s.default.createElement("span",null,I18n.t("Done"))))},fetchLtiLinkItemLaunchResource:function(e){return(0,f.default)(e.id,this.props.query.programId).then(function(e){return{ltiResource:e,isLoading:!1}},function(){return{isLoading:!1}})}});t.default=(0,o.default)({type:E,blocking:!0,asyncProps:{ltiContentItem:{fetch:function(e){return u.default.fetch(e.params.ltiContentItemId)},get:function(e){return u.default.get(e.params.ltiContentItemId)},onFailure:function(e,t){console.error("Unable to retrieve Lti Content Item: ",e),console.info("Aborting transition."),t&&t.transition.abort(e),d.default.replaceWith(g.default.getPostAuthRoute()).then(function(e){return(0,_.default)(I18n.t("Failed to load Lti Content Item. Please try again.")),e})},shouldRefetch:function(e,t){return e.params.ltiContentItemId!==t.params.ltiContentItemId}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.lti_content_item",path:"/author/lti/content_items/:ltiContentItemId"}},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(13),i=r.createClass({displayName:"Market",propTypes:{market:n(458)},render:function(){return r.createElement("div",{className:"markets__item clearfix border-b border-grey removable-item__title--large","data-capybara":"market-item"},r.createElement("div",{className:"markets__info left medium"},r.createElement("img",{src:this.props.market.assets.longLogo,className:"brand-logo brand-logo--markets","data-capybara":"brand-logo"}),r.createElement("div",{className:"markets__description"},this.props.market.description)),r.createElement("div",{className:"markets__link-container","data-capybara":"market-link-container"},r.createElement(s,{to:"author.markets."+this.props.market.name,className:"right btn markets__btn-market"},a.t("Browse Courses"))))}});e.exports=i},function(e,t,n){"use strict";var r=n(1),a=n(2486),s=n(1435),i=n(22),o=n(54),l=n(102),u=n(5),c=u.Icon,d=u.Loader,p=n(3),f=p.arrayOf,m=r.createClass({displayName:"AuthorMarkets",propTypes:{markets:f(n(458))},getDefaultProps:function(){return{markets:[]}},render:function(){return r.createElement("div",{className:"author-markets"},r.createElement(l,{type:"markets",hasIcon:!1},r.createElement(o,{name:"layout--item-header__details"},r.createElement(c,{className:"layout--item-header__icon--marketplace gs-marketplace margin-t-xs"}),r.createElement("h1",{className:"markets__header__title"},I18n.t("Bridge Marketplace")))),this.props.markets.length?this.renderMarkets():r.createElement(d,null))},renderMarkets:function(){var e=this.props.markets;return r.createElement("div",{className:"markets__list centered padding-m","data-capybara":"market_list"},e.map(function(e){return r.createElement(a,{key:"market-"+e.name,market:e})}))}});e.exports=i({type:m,asyncProps:{markets:{fetch:function(){return s.fetchAll()},get:function(){return s.getAll()},setup:function(e){s.addChangeListener(e)},teardown:function(e){s.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.markets",path:"/author/markets",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(22),l=n(1433),u=n(1435),c=n(3),d=c.arrayOf,p=c.string,f=n(93),m=n(1309),h=n(467),g=n(67),v=n(19),_=n(6),y=i.createClass({displayName:"LyndaMarketplace",propTypes:{marketInfo:d(n(458)),marketplaceCategories:d(n(241)),basket:d(n(192)),pathname:p},render:function(){var e=this.props.pathname.split("/")[4],t=this.props.basket&&this.props.basket.length,n=t&&"basket"!==e,r=_("markets__lynda","markets__lynda--"+e,{"markets__lynda--basket-showing":n});return i.createElement("div",{className:r},i.createElement(m,{selected:{name:"lynda",prettyname:"Lynda.com"}}),i.createElement(f,(0,s.default)({isLearnerLibrary:!1},this.props)),n?this.renderBasketFooter():null)},renderBasketFooter:function(){var e=this.props.basket;return i.createElement("div",{className:"markets__lynda__basket-footer"},i.createElement("span",{className:"markets__lynda__basket-footer-wrapper"},i.createElement("span",{className:"markets__lynda__basket-footer-text"},i.createElement(g,{className:"markets__lynda__basket-footer-link",to:"/author/markets/lynda/basket"},I18n.t({zero:"%{count} items",one:"%{count} item",other:"%{count} items"},{count:e.length})),"",I18n.t("in basket")),i.createElement("button",{onClick:this.addBasketToCourseIndex,className:"btn filled"},I18n.t("Add to course index"))))},addBasketToCourseIndex:function(){h.addCoursesToIndex(!0).then(v.bind(null,I18n.t("Courses are being added to your course index!")),v.bind(null,I18n.t("Oh snap! There was a problem adding your courses to your index, please try again later."),{type:"error"}))}});e.exports=o({type:y,asyncProps:{marketInfo:{fetch:function(){return u.fetchAll()},get:function(){return u.getAll()},shouldRefetch:function(){return!1}},marketplaceCategories:{fetch:function(){return l.fetchAll()},get:function(){return l.getAll()},shouldRefetch:function(){return!1}},basket:{fetch:function(){return h.fetchAll()},get:function(){return h.getAll()},setup:function(e){h.addChangeListener(e)},teardown:function(e){h.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.markets.lynda",path:"/author/markets/lynda",ember:{parentPath:["author"],sink:!0}}},function(e,t,n){"use strict";var r=n(1),a=n(102),s=n(54),i=n(5),o=i.Icon,l=i.Loader,u=n(67),c=n(3),d=c.arrayOf,p=c.bool,f=n(50),m=f.Table,h=f.Tr,g=f.Thead,v=f.Tbody,_=f.Td,y=f.Th,b=n(868),E=n(467),C=n(19),I=n(869),T=n(6);e.exports=r.createClass({displayName:"BasketPage",propTypes:{basket:d(n(192)),isLoading:p},getInitialState:function(){return{success:!1,addingCourses:!1}},render:function(){return this.props.isLoading?r.createElement(l,null):this.state.success?this.renderSuccess():r.createElement("div",{className:"lynda-basket"},r.createElement("div",{className:"lynda-basket__top"},r.createElement(a,{type:"markets",hasIcon:!1},r.createElement(s,{name:"layout--item-header__details"},r.createElement("h1",null,I18n.t("Basket"))))),r.createElement("div",{className:"lynda-basket__body markets__lynda__body"},this.renderTable(),this.renderFooter()))},renderFooter:function(){var e=T({right:!0,btn:!0,filled:!0,"btn--loading":this.state.addingCourses});return r.createElement("div",{className:"lynda-basket__buttons"},r.createElement("button",{disabled:!this.props.basket.length||this.state.addingCourses,onClick:this.addCoursesToIndex,className:e},I18n.t("Add to course index")),r.createElement(u,{to:"/author/markets/lynda",className:"right btn secondary"},I18n.t("Find more tutorials")))},renderTable:function(){var e=[I18n.t("Name"),I18n.t("Author"),I18n.t("Time"),I18n.t("Level"),""];return r.createElement(m,null,r.createElement(g,null,r.createElement(h,null,e.map(function(e,t){return r.createElement(y,{key:t,sortable:!1,children:e})}))),r.createElement(v,{className:"lynda-basket__table-body"},this.props.basket.map(this.renderBasketItem),!this.props.basket.length&&this.renderEmpty(e)))},renderBasketItem:function(e){return r.createElement(h,{key:e.id},r.createElement(_,{className:"lynda-basket__course-link"},r.createElement(u,{to:"/author/markets/lynda/course/"+e.categoryId+"/"+e.id},e.title)),r.createElement(_,null,e.authorName),r.createElement(_,null,b.secondsToHours(e.durationInSeconds)),r.createElement(_,null,I(e.difficulty).text),r.createElement(_,{onClick:this.removeCourse.bind(this,e),className:"lynda-basket__delete-row","data-capybara":"remove-basket-item"},r.createElement(o,{className:"gs-x gs-1x dark-grey"})))},renderEmpty:function(e){return r.createElement(h,null,e.map(function(e,t){return 0===t?r.createElement(_,{key:t}," ",I18n.t("No courses in basket...")):r.createElement(_,{key:t})}))},renderSuccess:function(){return r.createElement("div",{className:"markets__lynda__body lynda-basket__success"},r.createElement("h1",{className:"lynda-basket__success-heading"},I18n.t("Success!")),r.createElement("div",null,I18n.t("The tutorials you've selected have been added to your"),r.createElement(u,{to:"/author/courses"}," ",I18n.t("Course Index")," ")),r.createElement("hr",null),r.createElement("div",null,r.createElement(u,{to:"/author/markets/lynda",className:"right btn secondary"},I18n.t("Find more tutorials"))))},showSuccess:function(){this.setState({success:!0})},removeCourse:function(e){var t=I18n.t("There was a problem removing the course from your basket! Please try again.");E.remove(e).catch(C.bind(null,t,{type:"error"}))},addCoursesToIndex:function(){var e=this,t=I18n.t("There was a problem adding the courses to your index! We're sorry, please try again");this.props.basket.length&&(this.setState({addingCourses:!0}),E.addCoursesToIndex(!1).then(this.showSuccess,C.bind(null,t,{type:"error"})).finally(function(){e.setState({addingCourses:!1})}))}})},function(e,t){"use strict";e.exports={name:"author.markets.lynda.basket",path:"basket",parent:"author.markets.lynda",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(1426),s=r.createClass({displayName:"AuthorMarketsLyndaCategoriesPage",render:function(){return r.createElement(a,this.props)}});e.exports=s},function(e,t){"use strict";e.exports={name:"author.markets.lynda.categories",default:!0,parent:"author.markets.lynda",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(3),l=o.string,u=o.arrayOf,c=o.shape,d=n(467),p=n(148),f=n(1437),m=f.normalizeToCourseSummary,h=n(19),g=n(1427),v=n(18),_=n(6),y=i.createClass({displayName:"AuthorMarketsLyndaCoursePage",propTypes:{basket:u(n(192)),params:c({categoryId:l.isRequired,courseId:l.isRequired}).isRequired},componentWillMount:function(){0===p.getAllLynda().length&&p.fetchAllLynda(),p.addChangeListener(this.onChange)},componentWillUnmount:function(){p.removeChangeListener(this.onChange)},onChange:function(){this.forceUpdate()},render:function(){return i.createElement(g,(0,s.default)({renderAddButton:this.renderAddButton},this.props))},renderAddButton:function(e){var t=d.basketHas(this.props.basket,e.id),n=p.hasLyndaCourse(e.id),r=d.isPending(e.id),a=_({"lynda-course__basket-checkbox":!0,secondary:t}),s=void 0;return s=n?I18n.t("Added to Course Index"):r?I18n.t("Adding..."):t?I18n.t("Remove from Basket"):I18n.t("Add to Basket"),i.createElement(v,{onClick:this.addButtonClicked.bind(this,e),disabled:n||r,className:a},s)},addButtonClicked:function(e){var t=this.props.params,n=t.courseId,r=t.categoryId;if(d.get(n))d.remove(e).catch(h.bind(null,I18n.t("Oh snap! There was a problem removing the course to your basket, please try again later."),{type:"error"}));else{var a=m(e,r);d.addCourse(a).catch(h.bind(null,I18n.t("Oh snap! There was a problem adding the course to your basket, please try again later."),{type:"error"}))}}});e.exports=y},function(e,t){"use strict";e.exports={name:"author.markets.lynda.course",path:"course/:categoryId/:courseId",parent:"author.markets.lynda",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(1428),s=r.createClass({displayName:"AuthorMarketsLyndaSearchPage",render:function(){return r.createElement(a,this.props)}});e.exports=s},function(e,t){"use strict";e.exports={name:"author.markets.lynda.search",path:"categories/:categoryId",parent:"author.markets.lynda",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(1429),s=r.createClass({displayName:"AuthorMarketsLyndaSearchAllPage",render:function(){return r.createElement(a,this.props)}});e.exports=s},function(e,t){"use strict";e.exports={name:"author.markets.lynda.searchAll",path:"course",parent:"author.markets.lynda",ember:!1}},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(5),i=s.Loader,o=a.createClass({displayName:"OpensesameFrameView",propTypes:{opensesameUrl:r.string.isRequired},getInitialState:function(){return{isLoaded:!1}},componentDidMount:function(){var e=this;this.refs.iframe.addEventListener("load",this.hasLoaded),this.loadTimeout=setTimeout(function(){e.state.isLoaded||(e.removeLoadListener(),e.hasLoaded())},5e3)},componentWillUnmount:function(){clearTimeout(this.loadTimeout)},hasLoaded:function(){clearTimeout(this.loadTimeout),this.setState({isLoaded:!0})},removeLoadListener:function(){this.refs.iframe&&this.refs.iframe.removeEventListener("load",this.hasLoaded)},render:function(){return a.createElement("div",null,this.state.isLoaded?null:a.createElement(i,null),a.createElement("iframe",{ref:"iframe",className:"markets__frame",src:this.props.opensesameUrl,hidden:!this.state.isLoaded}))}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(2501),u=r(l),c=n(22),d=r(c),p=n(1309),f=r(p),m=n(67),h=r(m),g=n(7),v=r(g),_=n(19),y=r(_),b=n(20),E=r(b),C="/api/author/markets/opensesame",I=o.default.createClass({displayName:"AuthorMarketsOpensesame",propTypes:{url:s.default.string.isRequired},render:function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent.toLowerCase());return o.default.createElement("div",null,o.default.createElement(f.default,{selected:{name:"opensesame",prettyname:"Open Sesame"}}),e&&!(0,E.default)("open_sesame_safari")?this.renderForSafari():this.renderDefault())},renderDefault:function(){return o.default.createElement(u.default,{opensesameUrl:this.props.url})},renderForSafari:function(){return o.default.createElement("div",{className:"markets__safari-apology"},o.default.createElement("h3",{className:"markets__safari-apology__header"},I18n.t("OUR APOLOGIES")),o.default.createElement("p",{className:"markets__safari-apology__body"},I18n.t("As much as we")," ",o.default.createElement("span",{className:"red"},"")," ",I18n.t("Safari, this browser currently does not support the authentication method for OpenSesame. At this moment, may we suggest using Chrome or Firefox.")),o.default.createElement("div",{className:"text-center"},o.default.createElement(h.default,{to:"/author/markets",className:"btn"},I18n.t("Got It!"))))}}),T=function(e){return e.url},N=function(){return(0,v.default)({url:C,type:"GET",dataType:"json"}).then(T).catch(function(e){(0,y.default)(I18n.t("There is an issue with your account, this can be resolved quickly by contacting OpenSesame. You can call (503) 808-1268 or email support@opensesame.com. Further details: %{openSesameError}",{openSesameError:e.responseJSON.error}),{type:"error"})})};e.exports=(0,d.default)({type:I,asyncProps:{url:{fetch:function(){return N()}}}})},function(e,t){"use strict";e.exports={name:"author.markets.opensesame",path:"/author/markets/opensesame",ember:{parentPath:["author"],sink:!0}}},function(e,t,n){"use strict";var r=n(272);e.exports=r({contextType:"program",contextRoute:"react.author.program.react.author.program.learners"})},function(e,t){"use strict";e.exports={name:"author.program.learners.import.confirm",path:"/author/programs/:contextId/learners/import/confirm"}},function(e,t,n){"use strict";var r=n(273),a=n(624);e.exports=r({contextType:"program",confirmRoute:"author.program.learners.import.confirm",uploadRoute:"author.program.learners.upload",cancelRoute:"react.author.program.react.author.program.learners",contextual:!0,fetchContext:function(e){return a(e.params.contextId)},generateContextTitle:function(e){return e.title||I18n.t("Untitled Program")}})},function(e,t){"use strict";e.exports={name:"author.program.learners.import",path:"/author/programs/:contextId/learners/import"}},function(e,t,n){"use strict";var r=n(22),a=n(3),s=a.object,i=n(308),o=n(19),l=n(13),u=n(624),c=i({contextType:"program",importRoute:"author.program.learners.import",cancelRoute:"react.author.program.react.author.program.learners",getTitle:function(){return this.props.program?this.props.program.title||I18n.t("Untitled Program"):null},propTypes:{program:s}});e.exports=r({type:c,blocking:!0,asyncProps:{program:{fetch:function(e){return u(e.params.contextId).catch(function(){throw o(I18n.t("Program does not exist"),{type:"error"}),l.transitionTo("react.author.programs"),r.AbortedError})}}}})},function(e,t){"use strict";e.exports={name:"author.program.learners.upload",path:"/author/programs/:contextId/learners/upload"}},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(27),i=n(94),o=n(3),l=o.bool,u=o.func,c=o.string,d={marginLeft:"0px",opacity:1},p={marginLeft:"-40px",opacity:0},f={transform:"scale(1)"},m={transform:"scale(.5)"},h={duration:150},g=r.createClass({displayName:"AddLearningObjectsContentButton",propTypes:{isSelected:l,tooltip:c,icon:c,iconUrl:c,disabled:l,onClick:u,dataCapybara:c},getDefaultProps:function(){return{disabled:!1}},componentWillReceiveProps:function(e){if(this.props.isSelected!==e.isSelected){var t=a.findDOMNode(this.refs.tooltip);e.isSelected?(this.refs.icon.animate([p,d],h),t.animate([m,f],h)):(this.refs.icon.animate([d,p],h),t.animate([f,m],h))}},render:function(){var e=this.props.tooltip;return r.createElement(i,{ref:"tooltip"},r.createElement(i.Trigger,null,this.renderIcon()),r.createElement(i.Content,{dark:!0},e))},renderIcon:function(){var e=this.props,t=e.tooltip,n=e.iconUrl,a=e.icon,i=e.onClick,o=e.disabled,l=e.dataCapybara;if(n){var u={backgroundImage:"url("+n+")"};return r.createElement("div",{ref:"icon",className:"gs-2x program-edit__add-learning-objects__item__add-row__lti-icon",style:u,onClick:o?null:i},r.createElement(s,{children:t}))}return r.createElement("i",{ref:"icon","aria-hidden":"true",className:a+" gs-2x blue-grey",onClick:o?null:i,"data-capybara":l},r.createElement(s,{children:t}))}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(24),h=r(m),g=n(223),v=r(g),_=n(2522),y=r(_),b=n(2529),E=r(b),C=n(3),I=n(57),T=r(I),N=n(113),S=r(N),x=n(84),A=r(x),k=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderLinear=function(){return[f.default.createElement(h.default,{key:"text"},I18n.t("Learners complete program content")),f.default.createElement(E.default,{key:"selector",isNonLinear:r.props.program.isNonLinear,onSelect:r.updateProgramIsNonLinear})]},r.getSearchResults=function(){var e=r.props,t=e.courseSearchResults,n=e.iltSearchResults,a=e.taskSearchResults;return{courseSearchResults:t,iltSearchResults:n,taskSearchResults:a}},r.updateProgramIsNonLinear=function(e){var t=r.props.program;t.isNonLinear!==e&&v.default.update(t.id,{isNonLinear:e})},r.programIsEmpty=function(){return 0===r.props.program.items.length},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"program-edit-body"},f.default.createElement("p",{className:"program-edit__linear-selector","data-capybara":"sort_label"},this.renderLinear()),f.default.createElement(y.default,{program:this.props.program,canEdit:this.props.canEdit,canEditCourse:this.props.canEditCourse,canEditILT:this.props.canEditILT,canEditTask:this.props.canEditTask,canAddILT:this.props.canAddILT,canAddTask:this.props.canAddTask,placements:this.props.placements,searchResults:this.getSearchResults(),searching:this.props.searching,canCreate:this.props.canCreate}))}}]),t}(f.default.Component);k.propTypes={program:T.default,canEdit:C.bool.isRequired,canEditCourse:C.bool.isRequired,canEditILT:C.bool.isRequired,canEditTask:C.bool.isRequired,courseSearchResults:(0,C.arrayOf)(S.default).isRequired,iltSearchResults:(0,C.arrayOf)(S.default).isRequired,taskSearchResults:(0,C.arrayOf)(S.default).isRequired,searching:C.bool,canCreate:C.bool,canAddILT:C.bool,canAddTask:C.bool,placements:(0,C.arrayOf)(A.default).isRequired},t.default=k,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(3),i=s.any,o=s.number,l=s.string,u={transparent:0,opaque:1},c=r.createClass({displayName:"CrossfadePanel",propTypes:{children:i,expandTo:o,duration:o,easing:l},getDefaultProps:function(){return{expandTo:0,duration:200,easing:"ease"}},getInitialState:function(){return{expandTo:0}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillReceiveProps:function(e){if(e.expandTo!==this.props.expandTo){this.animateResize(this.heightOfChildNode(this.props.expandTo),this.heightOfChildNode(e.expandTo));var t=e.expandTo;this.animateFade(this.props.expandTo,u.transparent,function(){this.isMounted()&&(this.setState({expandTo:t}),this.animateFade(t,u.opaque))}.bind(this))}},componentWillUnmount:function(){this.isMounted=function(){return!1}},getChildNode:function(e){return a.findDOMNode(this.refs[e])},heightOfChildNode:function(e){var t=this.getChildNode(e);return t.scrollHeight},animateResize:function(e,t,n){var r=this.refs.panel.animate([{height:e+"px"},{height:t+"px"}],{duration:this.props.duration,easing:this.props.easing});n&&(r.onfinish=n)},animateFade:function(e,t,n){var r=t===u.opaque?u.transparent:u.opaque,a=this.getChildNode(e).animate([{opacity:r},{opacity:t}],{duration:this.props.duration/2,easing:"linear"});n&&(a.onfinish=n)},renderChildrenWithRefs:function(){var e=this;return r.Children.map(this.props.children,function(t,n){var a=void 0,s=void 0,i=void 0;n===e.state.expandTo?(a="visible",s="auto",i="visible"):(a="hidden",s="0px",i="hidden");var o={visibility:a,height:s,overflow:i};return r.cloneElement(t,{ref:n,style:o})})},render:function(){return r.createElement("div",{ref:"panel"},this.renderChildrenWithRefs())}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=a.number,o=a.func,l=n(323),u=r.createClass({displayName:"ExpandButton",propTypes:{icon:s,color:s,width:i,height:i,margin:i,onClick:o},getDefaultProps:function(){return{icon:"gs-image",color:null,width:52,height:52,margin:4,onClick:null}},containerStyles:function(){var e={width:l(this.props.width),height:l(this.props.height),margin:l(this.props.margin)};return this.props.onClick&&(e.cursor="pointer"),e},iconStyles:function(){var e={lineHeight:l(this.props.height)};return this.props.color&&(e.color=this.props.color),e},render:function(){return r.createElement("div",{className:"expand-button","data-capybara":"expand-button",style:this.containerStyles(),onClick:this.props.onClick},r.createElement("i",{className:this.props.icon,style:this.iconStyles(),"aria-hidden":"true"}))}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.bool,i=a.func,o=a.number,l=r.createClass({displayName:"GradientButton",propTypes:{gradientId:o.isRequired,gradientsCount:o.isRequired,isSelected:s,isVisible:s,onClick:i},componentWillReceiveProps:function(e){if(this.props.isVisible!==e.isVisible&&e.isVisible){var t=this.props.gradientsCount-1;this.refs.content.animate([{transform:"translateX("+100*(t-this.props.gradientId+1)+"%)"},{transform:"translateX(0%)"}],{delay:125,duration:300})}},render:function(){var e=this.props.gradientId;return r.createElement("div",{ref:"content",className:"program-header__gradient-container","data-capybara":"program-header__gradient-container-"+e.toString()},this.props.isVisible&&r.createElement("button",{className:"\n            program-header__gradient-button\n            program-header__gradient-"+e+"\n            "+(this.props.isSelected?"program-header__gradient-button__selected":"")+"\n          ","data-capybara":"program-header__gradient-button",onClick:this.handleButtonClick}))},handleButtonClick:function(){this.props.onClick(this.props.gradientId)}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1311),o=r(i),l=n(2514),u=r(l),c=n(69),d=r(c),p=n(188),f=r(p),m=n(13),h=r(m),g=n(2516),v=r(g),_=n(223),y=r(_),b=n(3),E=n(4),C=n(11),I=r(C),T=n(20),N=r(T),S=n(649),x=n(12),A=x.PROGRAM_HEADER_GRADIENTS,k=s.default.createClass({displayName:"Header",propTypes:{program:n(57),onUpdateProgram:b.func,permissions:(0,b.shape)({program:(0,b.shape)({update:b.bool})})},getInitialState:function(){return{isDetailView:!1,description:this.props.program.description}},handleExpand:function(){this.setState({isDetailView:!this.state.isDetailView})},expandAndEdit:function(){this.setState({isDetailView:!0},function(){setTimeout(this.refs.title.startEditing,250)})},updateTitle:function(e){this.props.onUpdateProgram(this.props.program.id,{title:e})},updateDescription:function(e){this.setState({description:e.target.value})},saveDescription:function(){this.props.onUpdateProgram(this.props.program.id,{description:this.state.description})},updateImage:function(e){this.updateGraphic({image:e,gradient:this.props.program.graphic.gradient})},updateGradient:function(e){this.updateGraphic({gradient:e,image:this.props.program.graphic.image})},updateGraphic:function(e){this.props.onUpdateProgram(this.props.program.id,{graphic:e})},renderMetadata:function(){var e=this.dueDate();return s.default.createElement("div",{className:"program-header__meta"},this.itemCount()," / ",this.estimatedTime(),(0,N.default)("learn_program_due_date")&&e&&" / "+e)},renderAbbreviated:function(){var e=this.props.program;return s.default.createElement("div",{className:"program-header__abbreviated","data-capybara":"program-header__abbreviated",key:"c2"},s.default.createElement("h1",{className:"program-header__title x-large bold pure-u-1-3",onClick:this.expandAndEdit,"data-capybara":"collapsed_program-header__title"},this.displayTitle()),this.renderMetadata(),e.isShared&&s.default.createElement("p",{className:"program-header__meta bold"},I18n.t("Since this program has been affiliated with at least one account, changes that you publish here will be reflected there as well.")),s.default.createElement("div",{className:"program-header__abbreviated__bottom-padding"}))},renderDetailed:function(){var e=this.props.program,t=this.props.permissions.program.update;return s.default.createElement("div",{className:"program-header-edit","data-capybara":"program-header-edit",key:"c1"},s.default.createElement(d.default,{ref:"title",value:e.title,readOnly:!t,placeholder:I18n.t("Program Title"),onChange:this.updateTitle,maxLength:"255",className:"program-header__title x-large",inputClassName:"x-large"},s.default.createElement("h1",{className:"x-large bold text-center"},this.displayTitle())),this.renderMetadata(),e.isShared&&s.default.createElement("p",{className:"program-header__meta bold"},I18n.t("Since this program has been affiliated with at least one account, changes that you publish here will be reflected there as well.")),s.default.createElement("hr",null),s.default.createElement("div",{className:"program-header-edit__description","data-capybara":"program-header-edit__description"},s.default.createElement(f.default,{disabled:!t,value:this.state.description,placeholder:I18n.t("Describe what learners can expect from this program"),onBlur:this.saveDescription,onChange:this.updateDescription,maxLength:"255",multiline:!1,enableLinks:!0})),s.default.createElement(v.default,{onChange:this.updateImage,hasImage:!!e.graphic.image}),this.renderGradients())},render:function(){var e=this.props.program.graphic,t=e.image,n=e.gradient,r={backgroundImage:""+A[n].opaque};return t&&(r.backgroundImage=A[n].transparent+", url("+t+")"),s.default.createElement("div",{className:"program-header__background",style:r,"data-capybara":"program-header__gradient"},this.renderLinks(),s.default.createElement(o.default,{isExpanded:this.state.isDetailView,
onExpand:this.handleExpand},this.renderAbbreviated(),this.renderDetailed()))},renderLinks:function(){return this.state.isDetailView?null:s.default.createElement("div",{className:"program-header__buttons"},this.props.program.hasUnpublishedChanges&&this.props.program.publishable&&s.default.createElement("button",{type:"button",className:"btn dark secondary program-editor__publish-link",onClick:this.publish},I18n.t("Publish")),s.default.createElement(h.default,{to:"react.author.program.react.author.program.learners",params:[{programId:this.props.program.id}],className:"btn dark secondary program-editor__done-link",children:I18n.t("Done"),dataCapybara:"program-editor__done-link"}))},displayTitle:function(){return this.props.program.title||I18n.t("Untitled Program")},renderGradients:function(){return s.default.createElement("div",{className:"clearfix program-header__gradients-row","data-capybara":"program-header__gradients-row"},(0,E.times)(A.length,this.renderGradient))},renderGradient:function(e){var t=this.props.program.graphic;return s.default.createElement(u.default,{key:e,gradientId:e,gradientsCount:A.length,isSelected:t.gradient===e,isVisible:this.state.isDetailView,onClick:this.updateGradient})},itemCount:function(){return s.default.createElement("span",{"data-capybara":"course_count"},I18n.t("Step",{count:this.props.program.itemCount||0}))},estimatedTime:function(){var e=I.default.duration(this.props.program.estimatedTime/60,"hours").humanize();return s.default.createElement("span",{"data-capybara":"estimated_time"},I18n.t("Takes about %{time}",{time:e}))},dueDate:function(){var e=this.props.program,t=e.dueDateType,n=e.defaultDaysUntilDue,r=e.defaultDueOnDate;return(0,S.dueDateText)(t,n,r)},publish:function(){y.default.publish(this.props.program.id)}});e.exports=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(92),l=r(o),u=n(135),c=r(u),d=n(117),p=r(d),f=n(2),m=n(226),h=r(m),g=(0,h.default)(["jpg","jpeg","png","gif"]),v=s.default.createClass({displayName:"HeaderImageUploader",propTypes:{onChange:f.func,hasImage:f.bool},getInitialState:function(){return{pending:!1}},render:function(){var e=this.props.hasImage;return this.state.pending?s.default.createElement("div",null,s.default.createElement("div",{className:"media-uploader"}),s.default.createElement("div",{className:"media-uploader__inner-icon"},s.default.createElement("div",{className:"loader"}))):s.default.createElement("div",null,s.default.createElement(c.default,{ref:"mediaUploader",mimeType:g.mimeTypes,allowedFileRegex:g.regexp,invalidFileMessage:I18n.t("That doesn't appear to be an image."),onChange:this.upload}),s.default.createElement("div",{className:"media-uploader__inner-icon"},s.default.createElement(i.Icon,{className:"gs-upload gs-2x"}),s.default.createElement("p",null,I18n.t("Drop an image file"),s.default.createElement(l.default,{acceptedFileTypes:g.mimeTypeString,buttonClassName:"bold pointer",label:I18n.t("or click to browse"),onChange:this.acceptFromFilePicker}),s.default.createElement("br",null),e&&s.default.createElement("button",{className:"btn tertiary media-uploader__remove-button",onClick:this.remove},I18n.t("Remove Image")))))},upload:function(e){var t=this;this.setState({pending:!0});var n=(0,p.default)(e);n.uploadMultiPart().then(function(e){t.setState({pending:!1}),t.props.onChange(e.location)}).catch(function(){t.setState({pending:!1})})},acceptFromFilePicker:function(e){this.refs.mediaUploader.acceptFromFileList(e)},remove:function(){this.props.onChange(null)}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(113),h=r(m),g=n(5),v=n(11),_=r(v),y=n(3),b=n(298),E=r(b),C=n(6),I=r(C),T=n(20),N=r(T),S=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.programItem,t=(0,N.default)("learn_course_archive")&&e.isArchived,n=(0,I.default)("program-course-list-item__title",{"program-course-list-item__title--archived":t}),r=(0,I.default)("program-course-list-item__icon","gs-book","gs-1x",{"program-course-list-item__icon--archived":t}),a=void 0;return a=t?this.renderArchivedDetails():e.isPublished?this.renderPublishedDetails(e):this.renderUnpublishedDetails(e),f.default.createElement("div",null,f.default.createElement("div",{className:"program-course-list-item__icon-block"},f.default.createElement(g.Icon,{className:r})),f.default.createElement("div",{className:"program-course-list-item__details"},f.default.createElement("h2",{className:n},e.title,t&&f.default.createElement(E.default,{name:"ARCHIVED",className:"program-course-list-item__archived"})),a))}},{key:"renderPublishedDetails",value:function(e){var t=this.props.dueDateSetByProgram,n=(0,I.default)({italic:t});return f.default.createElement("ul",{className:"dark-grey list--slashed nowrap"},this.renderMaxAllotedTimes(e),f.default.createElement("li",null,this.renderEstimatedTime(e)),!this.props.wantsToRemove&&[f.default.createElement("li",{key:"score"},this.renderRequiredScore(e)),f.default.createElement("li",{key:"dueDate",className:n},this.renderDueDate(e))])}},{key:"renderUnpublishedDetails",value:function(e){return f.default.createElement("ul",{className:"pink list--slashed nowrap"},f.default.createElement("li",null,this.renderEstimatedTime(e)),f.default.createElement("li",null,I18n.t("Not yet published")))}},{key:"renderArchivedDetails",value:function(){return f.default.createElement("ul",{className:"dark-grey italic list--slashed nowrap"},f.default.createElement("li",null,I18n.t("This course will not appear for learners unless it is un-archived and published.")))}},{key:"renderMaxAllotedTimes",value:function(e){return e.maxQuizAttempts&&e.maxQuizAttempts>0?f.default.createElement("li",null,I18n.t({one:"1 Attempt Allotted",other:"%{count} Attempts Allotted"},{count:e.maxQuizAttempts})):null}},{key:"renderEstimatedTime",value:function(e){return _.default.duration(e.estimatedTime,"minutes").humanize()}},{key:"renderRequiredScore",value:function(e){return I18n.t("Required Score: %{percent}%",{percent:e.passingThreshold})}},{key:"renderDueDate",value:function(e){var t=this.props.dueDateSetByProgram;if(t)return I18n.t("Due date set by program");if(e.defaultDueOnDate){var n=(0,_.default)(e.defaultDueOnDate).format("ll");return I18n.t("Due on: %{date}",{date:n})}if(e.defaultDaysUntilDue){var r=I18n.t("day",{count:e.defaultDaysUntilDue});return I18n.t("Default Due: %{daysLabel}",{daysLabel:r})}return I18n.t("No Due Date")}}]),t}(f.default.Component);S.propTypes={programItem:h.default.isRequired,wantsToRemove:y.bool,dueDateSetByProgram:y.bool},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(113),h=r(m),g=n(430),v=r(g),_=n(6),y=r(_),b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.programItem,t=(0,y.default)("list--slashed nowrap","dark-grey");return f.default.createElement("div",null,f.default.createElement("div",{className:"program-course-list-item__calendar"},f.default.createElement(v.default,null)),f.default.createElement("div",{className:"program-course-list-item__details"},f.default.createElement("h2",{className:"program-course-list-item__calendar-title"},e.title),f.default.createElement("ul",{className:t},f.default.createElement("li",null,I18n.t("Session",{count:e.sessionsCount})))))}}]),t}(f.default.Component);b.propTypes={programItem:h.default.isRequired},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(113),h=r(m),g=n(5),v=n(4),_=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.programItem,t=e.title,n=e.description;return f.default.createElement("div",null,f.default.createElement("div",{className:"program-course-list-item__icon-block"},this.renderLtiIcon()),f.default.createElement("div",{className:"program-course-list-item__details"},f.default.createElement("h2",{className:"program-course-list-item__title"},t),f.default.createElement("ul",{className:"dark-grey list--slashed nowrap"},f.default.createElement("li",null,n))))}},{key:"renderLtiIcon",value:function(){var e=(0,v.get)(this.props.programItem,["icon","@id"]),t={backgroundImage:"url("+e+")"};return e?f.default.createElement("div",{className:"program-course-list-item__icon-lti",alt:I18n.t("LTI content icon"),style:t}):f.default.createElement(g.Icon,{className:"gs-cube gs-1x program-course-list-item__icon"})}}]),t}(f.default.Component);_.propTypes={programItem:h.default.isRequired},t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(3),v=n(6),_=r(v),y=n(749),b=r(y),E=n(43),C=n(5),I=n(4),T=n(12),N=" ",S=100,x=500,A=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.renderItem=function(){var e=n.state,t=e.title,r=e.description,a=e.titleError,s=e.descriptionError,i=S-t.length,o=x-r.length,l=a||s;return[h.default.createElement(E.TextInput,{key:"program-section-title",ref:function(e){n.titleInput=e},placeholder:I18n.t("Enter Header Text"),value:t,hideBorder:!0,spacing:"small",error:a&&N,countLabel:i,onChange:n.handleTitleChange,className:"program-course-list__program-section__title",countClassName:n.getCountClassName(i),"data-capybara":"section-title-input"}),h.default.createElement(E.TextArea,{key:"program-section-description",placeholder:I18n.t("Enter Description Text"),value:r,hideBorder:!0,spacing:"small",error:s&&N,countLabel:o,onChange:n.handleDescriptionChange,className:"program-course-list__program-section__description",countClassName:n.getCountClassName(o),"data-capybara":"section-description-input"}),l&&n.renderError(l)]},n.handleTitleChange=function(e){var t=e.target.value,r=n.isTitleValid(t),a=!r&&I18n.t("Titles longer than %{characterCount} characters will be truncated",{characterCount:S});n.setState({title:t,titleError:a},n.debouncedSave)},n.handleDescriptionChange=function(e){var t=e.target.value,r=n.isDescriptionValid(t),a=!r&&I18n.t("Descriptions longer than %{characterCount} characters will be truncated",{characterCount:x});n.setState({description:t,descriptionError:a},n.debouncedSave)},n.saveProgramSection=function(){var e=n.state,t=e.title,r=e.description;n.props.updateProgramSection(n.props.programItem.id,{title:t&&t.slice(0,S),description:r&&r.slice(0,x)})},n.state={title:e.programItem.title||"",description:e.programItem.description||""},n.debouncedSave=(0,I.debounce)(n.saveProgramSection,T.GENERAL_DEBOUNCE_MS),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.isFocused&&!this.props.programItem.title&&this.titleInput.focus()}},{key:"render",value:function(){var e=this.isLoading(this.props.programItem);return h.default.createElement(b.default,(0,s.default)({},(0,I.omit)(this.props,"canRemove"),{className:"program-course-list__program-section",canRemove:!e&&this.props.canRemove,renderItem:e?this.renderLoader:this.renderItem,titleClassName:"removable-item__title--program-section"}))}},{key:"renderLoader",value:function(){return h.default.createElement(C.Loader,null)}},{key:"renderError",value:function(e){return h.default.createElement("div",{key:"program-section-error",className:"program-course-list__program-section__error"},e)}},{key:"isLoading",value:function(e){return"loading"===e.id}},{key:"getCountClassName",value:function(e){var t="program-course-list__program-section__input-count--error";return(0,_.default)(e<0&&t,"program-course-list__program-section__input-count")}},{key:"isTitleValid",value:function(e){return!e||e.length<=S}},{key:"isDescriptionValid",value:function(e){return!e||e.length<=x}}]),t}(h.default.Component);A.propTypes=(0,s.default)({updateProgramSection:g.func,isFocused:g.bool},y.commonPropTypes),A.defaultProps={updateProgramSection:Function.prototype},t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(113),h=r(m),g=n(5),v=n(11),_=r(v),y=n(3),b=n(6),E=r(b),C=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.programItem;return f.default.createElement("div",null,f.default.createElement("div",{className:"program-course-list-item__icon-block"},f.default.createElement(g.Icon,{className:"gs-tasks gs-1x program-course-list-item__icon"})),f.default.createElement("div",{className:"program-course-list-item__details"},f.default.createElement("h2",{className:"program-course-list-item__title"},e.title),this.renderDetails(e)))}},{key:"renderDetails",value:function(e){var t=this.props.dueDateSetByProgram,n=(0,E.default)({italic:t}),r=(0,E.default)("list--slashed","nowrap",{"dark-grey":e.isPublished,pink:!e.isPublished});return f.default.createElement("ul",{className:r},e.defaultApprover&&e.defaultApprover.name&&f.default.createElement("li",null,I18n.t("Approval by %{name}",{name:e.defaultApprover.name})),e.requiresApproval&&!e.defaultApprover&&f.default.createElement("li",null,I18n.t("Requires Approval")),e.requiresEvidence&&f.default.createElement("li",null,I18n.t("Requires Evidence")),e.isPublished&&f.default.createElement("li",{key:"dueDate",className:n},this.renderDueDate(e)),!e.isPublished&&f.default.createElement("li",null,I18n.t("Not yet published")))}},{key:"renderDueDate",value:function(e){var t=this.props.dueDateSetByProgram;if(t)return I18n.t("Due date set by program");if(e.defaultDueOnDate){var n=(0,_.default)(e.defaultDueOnDate).format("ll");return I18n.t("Due on: %{date}",{date:n})}if(e.defaultDaysUntilDue){var r=I18n.t("day",{count:e.defaultDaysUntilDue});return I18n.t("Default Due: %{daysLabel}",{daysLabel:r})}return I18n.t("No Due Date")}}]),t}(f.default.Component);C.propTypes={programItem:h.default.isRequired,dueDateSetByProgram:y.bool},t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(23),v=r(g),_=n(1312),y=r(_),b=n(2520),E=r(b),C=n(1310),I=r(C),T=n(223),N=r(T),S=n(3329),x=r(S),A=n(6),k=r(A),w=n(3),R=n(4),O=n(57),P=r(O),L=n(113),M=r(L),D=n(84),U=r(D),F="ToTheFront!",q=function(e){function t(){(0,o.default)(this,t);var e=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderFirstAddItemControl=function(){var t={id:"placeholder"},n=e.getCommonItemProps(F,t,-1),r=e.state.addingNewItemAfterItemKey===F||0===e.props.program.items.length,a=(0,k.default)({"program-edit__add-learning-objects__item":!0,"program-edit__add-learning-objects__item--selected":r});return h.default.createElement("div",{className:a,"data-capybara":"add-learning-objects"},h.default.createElement(I.default,(0,s.default)({isSelected:r},n)))},e.renderProgramItem=function(t,n){var r=t.itemType+"-"+t.id,a=e.getCommonItemProps(r,t,n),i=e.props.program.items.length!==n+1?"add-learning-objects":"add-learning-objects-last";return"ProgramSection"===t.itemType?h.default.createElement(E.default,(0,s.default)({},a,{isFocused:e.state.newSectionId===t.id,removeItem:e.removeSection,updateProgramSection:function(t,n){N.default.updateSection(e.props.program.id,t,n)},addDataCapybara:i})):h.default.createElement(y.default,(0,s.default)({},a,{programTitle:e.props.program.title,canEditCourse:e.props.canEditCourse,canEditILT:e.props.canEditILT,canEditTask:e.props.canEditTask,addDataCapybara:i}))},e.getCommonItemProps=function(t,n,r){return{key:t,programItem:n,program:e.props.program,canAddILT:e.props.canAddILT,canAddTask:e.props.canAddTask,canMove:e.props.canEdit,canRemove:e.props.canEdit,canCreate:e.props.canCreate,removeItem:e.removeItem,placements:e.props.placements,searching:e.props.searching,searchResults:e.props.searchResults,addItem:(0,R.partial)(e.addItem,r+1),hideAddItem:e.state.sortInProgress,addingNewItem:t===e.state.addingNewItemAfterItemKey,toggleAddingNewItem:(0,R.partial)(e.toggleAddingNewItemAfter,t),createNewProgramSection:(0,R.partial)(e.createSection,r+1)}},e.toggleAddingNewItemAfter=function(t){var n=e.state.addingNewItemAfterItemKey!==t&&t;e.setState({addingNewItemAfterItemKey:n})},e.moveItem=function(t,n){N.default.moveItem(e.props.program.id,t,n),e.closeAddingItems()},e.removeItem=function(t){N.default.removeItem(e.props.program.id,t),e.closeAddingItems()},e.removeSection=function(t){N.default.removeSection(e.props.program.id,t),e.closeAddingItems()},e.addItem=function(t,n,r){N.default.addItem(e.props.program.id,r,n,t),e.closeAddingItems()},e.createSection=function(t){N.default.createSection(e.props.program.id,t).then(function(t){return e.setState({newSectionId:t.id})}),e.closeAddingItems()},e.closeAddingItems=function(){e.setState({addingNewItemAfterItemKey:null})},e.createPlaceholder=function(e){var t=e.clone(),n=t.children().first(),r=e.children().first();return t.attr("style",null),t.addClass("ui-sortable-placeholder"),n.width(r.width()),n.height(r.height()),n.empty(),n.addClass("program-course-list-item--sortable-placeholder"),t},e.initializeSorter=function(){var t=v.default.findDOMNode(e.refs.sortableContainer);e.sorter=new x.default({handleSelector:".program-course-list-item.grabbable",container:t,containment:"document",distance:30,elementSelector:"> li.sortable",placeholder:{element:e.createPlaceholder,update:Function.prototype},onStart:function(){e.setState({sortInProgress:!0})},onUpdateComplete:function(){e.setState({sortInProgress:!1})},onChange:e.moveItem})},e.teardownSorter=function(){e.sorter.teardown(),e.sorter=null},e.state={sortInProgress:!1,newSectionId:null,addingNewItemAfterItemKey:null},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.initializeSorter()}},{key:"shouldComponentUpdate",value:function(e,t){return!t.sortInProgress}},{key:"componentDidUpdate",value:function(){this.sorter.refresh()}},{key:"componentWillUnmount",value:function(){this.teardownSorter()}},{key:"render",value:function(){return h.default.createElement("ol",{className:"program-course-list unstyled",ref:"sortableContainer"},!this.state.sortInProgress&&this.renderFirstAddItemControl(),this.props.program.items.map(this.renderProgramItem))}}]),t}(h.default.Component);q.propTypes={program:P.default,canEdit:w.bool.isRequired,canEditCourse:w.bool.isRequired,canEditILT:w.bool.isRequired,canEditTask:w.bool.isRequired,canAddILT:w.bool,canAddTask:w.bool,placements:(0,w.arrayOf)(U.default),searchResults:(0,w.shape)({courseSearchResults:(0,w.arrayOf)(M.default),iltSearchResults:(0,w.arrayOf)(M.default),taskSearchResults:(0,w.arrayOf)(M.default)}),searching:w.bool,canCreate:w.bool},t.default=q,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(750),s=n(1445),i=n(1475),o=n(3),l=o.arrayOf,u=o.bool,c=o.func,d="CourseTemplate",p=r.createClass({displayName:"CourseSearch",propTypes:{program:n(57),searching:u,searchResults:l(n(113)).isRequired,canCreate:u,onAdd:c,onClose:c},render:function(){var e=this.props,t=e.program,n=e.searching,s=e.searchResults,i=e.canCreate,o=e.onClose;return r.createElement(a,{itemType:d,programItems:t.items,searchResults:s,searching:n,canCreate:i,searchText:I18n.t("Enter a course title"),newItemText:I18n.t("new course"),onSearch:this.searchForCourse,onAdd:this.addItem,onNew:this.createAndAddCourse,onKCEscape:o,programIsShared:t.isShared})},addItem:function(e){this.props.onAdd(d,e)},searchForCourse:function(e){var t=this.props.program;s.search({contextType:"Program",contextId:t.id,term:e})},createAndAddCourse:function(e){var t=this;i({title:e}).then(function(e){t.addItem(e.courseTemplate.id)})}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(750),s=n(317),i=n(3),o=i.arrayOf,l=i.bool,u=i.func,c="LiveCourse",d=r.createClass({displayName:"ILTSearch",propTypes:{program:n(57),searching:l,searchResults:o(n(113)).isRequired,canCreate:l,onAdd:u,onClose:u},render:function(){var e=this.props,t=e.program,n=e.searching,s=e.searchResults,i=e.canCreate,o=e.onClose;return r.createElement(a,{itemType:c,programItems:t.items,searchResults:s,searching:n,canCreate:i,searchText:I18n.t("Enter a live training title"),newItemText:I18n.t("new live training"),onSearch:this.searchForILT,onAdd:this.addItem,onNew:this.createAndAddILT,onKCEscape:o,programIsShared:t.isShared})},addItem:function(e){this.props.onAdd(c,e)},searchForILT:function(e){var t=this.props.program;s.search("Programs",t.id,{search:e})},createAndAddILT:function(e){s.create({title:e}).then(this.addItem)}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(841),o=r(i),l=n(18),u=r(l),c=n(77),d=r(c),p=n(3),f=n(59),m=s.default.createClass({displayName:"LtiContentItemDetailsEditorModal",mixins:[o.default],propTypes:{ltiContentItemAttributes:f.LtiContentItemAttributesSchema,toolTitle:p.string.isRequired,onClose:p.func.isRequired,onSave:p.func.isRequired},getInitialState:function(){return{errors:{}}},componentDidUpdate:function(e){null!==e.ltiContentItemAttributes&&0===Object.keys(e.ltiContentItemAttributes).length&&null!==this.props.ltiContentItemAttributes&&this.props.ltiContentItemAttributes!==e.ltiContentItemAttributes&&this.openDrawerModal()},onBlur:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.ltiContentItemAttributes,a=this.state.errors,s=(r[e]||"").trim(),i=!n||n.test(s);s&&i?delete a[e]:a[e]=I18n.t("Please enter a valid %{fieldName}",{fieldName:t}),r[e]=s,this.setState({errors:a})},onSave:function(){this.isValid()&&(this.closeDrawerModal(),this.props.onSave())},onClose:function(){this.closeDrawerModal(),this.props.onClose()},isValid:function(){return this.onBlur("title","title"),this.onBlur("text","description"),0===Object.keys(this.state.errors).length},render:function(){return this.props.ltiContentItemAttributes?this.renderDrawerModal(s.default.createElement("div",null,this.renderHead(),this.renderBody())):null},renderHead:function(){var e=this.props.toolTitle;return s.default.createElement("div",{className:"drawer-modal__head",key:"session-editor__head"},s.default.createElement("div",{className:"drawer-modal__content"},s.default.createElement("h2",null,e),s.default.createElement("div",{className:"drawer-modal__menu"},s.default.createElement(u.default,{className:"btn secondary",children:I18n.t("Cancel"),onClick:this.onClose}),s.default.createElement(u.default,{className:"btn filled",children:I18n.t("Save"),onClick:this.onSave}))))},renderBody:function(){var e=this.props.ltiContentItemAttributes.thumbnail;return e?s.default.createElement("div",{className:"drawer-modal__content drawer-modal__content--flex",key:"lti-tool-editor__content"},s.default.createElement("div",{className:"drawer-modal__content__col"},this.renderThumbnail()),s.default.createElement("div",{className:"drawer-modal__content__col"},this.renderTitleInput(),this.renderDescriptionInput())):s.default.createElement("div",{className:"drawer-modal__content drawer-modal__content--flex",key:"lti-tool-editor__content"},s.default.createElement("div",{className:"drawer-modal__content__col"},this.renderTitleInput()),s.default.createElement("div",{className:"drawer-modal__content__col"},this.renderDescriptionInput()))},renderTitleInput:function(){var e=this,t=this.props.ltiContentItemAttributes,n=this.state.errors;return s.default.createElement("p",null,s.default.createElement(d.default,{model:t,field:"title",label:I18n.t("Program Object Title"),type:"text",className:"input-field--long",onBlur:function(){return e.onBlur("title","title")},error:n.title}))},renderDescriptionInput:function(){var e=this,t=this.props.ltiContentItemAttributes,n=this.state.errors;return s.default.createElement("p",null,s.default.createElement(d.default,{model:t,field:"text",label:I18n.t("Description"),type:"text",className:"input-field--long",onBlur:function(){return e.onBlur("text","description")},error:n.text}))},renderThumbnail:function(){var e=this.props.ltiContentItemAttributes.thumbnail;if(!e)return"";var t=e["@id"],n={src:t};return e.width&&(n.width=e.width),e.height&&(n.height=e.height),s.default.createElement("p",null,s.default.createElement("img",n))}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(841),o=r(i),l=n(2527),u=r(l),c=n(18),d=r(c),p=n(3),f=n(59),m=s.default.createClass({displayName:"LtiContentItemSelectionModal",mixins:[o.default],propTypes:{placement:n(84),programId:p.string,ltiContentItemAttributes:f.LtiContentItemAttributesSchema,toolTitle:p.string,onNext:p.func.isRequired,onClose:p.func.isRequired,onError:p.func.isRequired},getInitialState:function(){return{}},componentDidMount:function(){this.listenForSelectedContent()},componentWillUnmount:function(){this.stopListeningForSelectedContent()},componentDidUpdate:function(e){null===e.ltiContentItemAttributes&&this.props.ltiContentItemAttributes!==e.ltiContentItemAttributes&&this.openDrawerModal()},listenForSelectedContent:function(){window.addEventListener("message",this.contentSelected)},stopListeningForSelectedContent:function(){window.removeEventListener("message",this.contentSelected)},contentSelected:function(e){if(this.isRelevantEvent(e))if(this.isValidContentItemSelectionEvent(e)){var t=e.data.content;this.nextModal(t[0])}else this.onError()},isValidContentItemSelectionEvent:function(e){var t=e.data,n=t.content,r=t.ltiType,a=t.errors;return"ContentItemSelection"===r&&!!n&&n.length>0&&!a},isRelevantEvent:function(e){var t=e.data.messageType;return e.origin===window.location.origin&&"LTI_CONTENT_ITEM_SELECTED"===t},nextModal:function(e){this.closeDrawerModal(),this.props.onNext(e)},onClose:function(){this.closeDrawerModal(),this.props.onClose()},onError:function(){this.closeDrawerModal(),this.props.onError()},render:function(){return this.renderDrawerModal(s.default.createElement("div",{className:"lti-tool-editor"},s.default.createElement("div",{className:"lti-tool-editor__placement"},this.renderHead(),this.renderBody())))},renderHead:function(){var e=this.props.toolTitle;return s.default.createElement("div",{className:"drawer-modal__head"},s.default.createElement("div",{className:"drawer-modal__content"},s.default.createElement("h2",null,e),s.default.createElement("div",{className:"drawer-modal__menu"},s.default.createElement(d.default,{className:"btn secondary",children:I18n.t("Cancel"),onClick:this.onClose}))))},renderBody:function(){var e=this.props,t=e.placement,n=e.programId;return s.default.createElement("div",{className:"drawer-modal__content drawer-modal__content--full-width lti-tool-editor__placement__content",key:"lti-tool-editor__content"},s.default.createElement(u.default,{placement:t,programId:n}))}});e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(59),o=n(22),l=r(o),u=n(238),c=r(u),d=n(3),p=s.default.createClass({displayName:"LtiContentItemSelectionPlacement",propTypes:{placement:n(84),programId:d.string,ltiResource:i.LtiResourceSchema,isLoading:d.bool},render:function(){return s.default.createElement(i.LtiResourceIframe,{ltiResource:this.props.ltiResource,isLoading:this.props.isLoading,isModal:!0})}});e.exports=(0,l.default)({type:p,asyncProps:{ltiResource:{fetch:function(e){return(0,c.default)("author",e.placement.id,{program_id:e.programId})},shouldRefetch:function(e,t){return e.placement.id!==t.placement.id}}}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(750),l=r(o),u=n(248),c=r(u),d="Task",p=s.default.createClass({displayName:"TaskSearch",propTypes:{program:n(57),searching:i.bool,searchResults:(0,i.arrayOf)(n(113)).isRequired,canCreate:i.bool,onAdd:i.func,onClose:i.func},addItem:function(e){this.props.onAdd(d,e)},createAndAddTask:function(e){c.default.create({title:e}).then(this.addItem)},searchForTask:function(e){var t=this.props.program;c.default.search("Programs",t.id,{search:e})},render:function(){var e=this.props,t=e.program,n=e.searching,r=e.searchResults,a=e.canCreate,i=e.onClose;return s.default.createElement(l.default,{itemType:d,programItems:t.items,searchResults:r,searching:n,canCreate:a,searchText:I18n.t("Enter a checkpoint title"),newItemText:I18n.t("new checkpoint"),onSearch:this.searchForTask,onAdd:this.addItem,onNew:this.createAndAddTask,onKCEscape:i,programIsShared:t.isShared})}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(173),o=n(24),l=n(3),u=l.bool,c=l.func,d=r.createClass({displayName:"LinearitySelector",propTypes:{isNonLinear:u.isRequired,onSelect:c.isRequired},render:function(){return r.createElement(i,{className:"linearity-popdown",ref:"popdown"},r.createElement(i.Trigger,null,r.createElement("button",{className:"linearity-popdown__trigger"},this.renderLabel()," ",r.createElement(s,{className:"gs-3-4 gs-arrow-down"}))),r.createElement(i.Content,null,r.createElement("div",{className:"linearity-popdown__content__header"},r.createElement("h3",{className:"linearity-popdown__content__header__label"},r.createElement(s,{className:"gs-1x gs-sort"}),r.createElement(o,null,I18n.t("Content taken")))),r.createElement("ul",null,r.createElement("li",null,r.createElement("button",{className:"linearity-popdown__content__item",onClick:this.setLinear},r.createElement(o,null,I18n.t("in order")))),r.createElement("li",null,r.createElement("button",{className:"linearity-popdown__content__item",onClick:this.setNonLinear},r.createElement(o,null,I18n.t("in any order")))))))},renderLabel:function(){return this.props.isNonLinear?r.createElement(o,null,I18n.t("in any order")):r.createElement(o,null,I18n.t("in order"))},hideSelector:function(){this.refs.popdown.closeModal()},setLinear:function(){this.hideSelector(),this.props.onSelect(!1)},setNonLinear:function(){this.hideSelector(),this.props.onSelect(!0)}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(805),o=r(i),l=n(116),u=r(l),c=n(106),d=r(c),p=n(22),f=r(p),m=n(1445),h=r(m),g=n(317),v=r(g),_=n(248),y=r(_),b=n(223),E=r(b),C=n(222),I=r(C),T=n(2515),N=r(T),S=n(2511),x=r(S),A=n(635),k=n(29),w=r(k),R=n(3),O=n(20),P=r(O),L=n(4),M=s.default.createClass({displayName:"AuthorProgramEdit",propTypes:{params:(0,R.shape)({programId:R.string}),program:n(57),courseSearchResults:(0,R.arrayOf)(n(113)),iltSearchResults:(0,R.arrayOf)(n(113)),taskSearchResults:(0,R.arrayOf)(n(113)),placements:(0,R.arrayOf)(n(84))},generatePresenceMessage:function(e,t){return I18n.t({one:"HEADS UP! %{user_names} is also looking at this program.",other:"HEADS UP! %{user_names} are also looking at this program."},{user_names:e,count:t})},render:function(){var e=this.props,t=e.program,n=e.placements,r={
type:"program",id:t.id},a={course:{update:(0,w.default)("course_template_update")},ilt:{update:(0,w.default)("live_course_update")},task:{update:(0,w.default)("task_update")},program:{update:(0,w.default)("program_update",r)}},i=h.default.isSearching()||v.default.isSearching()||y.default.isSearching();return s.default.createElement("div",{className:"author-program-edit program-editor"},s.default.createElement(u.default,null),s.default.createElement(o.default,{contextType:"program",contextId:t.id,generateMessage:this.generatePresenceMessage}),s.default.createElement(N.default,{program:t,permissions:a,onUpdateProgram:this.handleUpdateProgram}),s.default.createElement(x.default,{program:t,canEdit:a.program.update,canEditCourse:a.course.update,canEditILT:a.ilt.update,canEditTask:a.task.update,courseSearchResults:this.props.courseSearchResults,iltSearchResults:this.props.iltSearchResults,taskSearchResults:this.props.taskSearchResults,searching:i,canCreate:!t.subAccount.notCurrent,canAddILT:!t.subAccount.notCurrent,canAddTask:!t.subAccount.notCurrent,placements:n}))},handleUpdateProgram:function(e,t){E.default.optimisticUpdate(e,t)}});e.exports=(0,f.default)({type:(0,d.default)(M,function(e){return I18n.t("Editing: %{title}",{title:(0,A.getDisplayTitle)(e.program)})}),blocking:!0,asyncProps:{program:{fetch:function(e){return E.default.fetch(e.params.programId)},get:function(e){return E.default.get(e.params.programId)},setup:function(e){E.default.addChangeListener(e)},teardown:function(e){E.default.removeChangeListener(e)}},courseSearchResults:{get:function(e){var t=h.default.getAll({contextType:"Program",contextId:e.params.programId});return(0,P.default)("learn_course_archive")?(0,L.reject)(t,"isArchived"):t},setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)}},iltSearchResults:{get:function(e){return v.default.getSearchResults("Programs",e.params.programId)},setup:function(e){v.default.addChangeListener(e)},teardown:function(e){v.default.removeChangeListener(e)}},taskSearchResults:{get:function(e){return y.default.getSearchResults("Programs",e.params.programId)},setup:function(e){y.default.addChangeListener(e)},teardown:function(e){y.default.removeChangeListener(e)}},placements:{setup:function(e){I.default.addChangeListener(e)},fetch:function(){return I.default.fetchAll("program_object")},get:function(){return I.default.getAll("program_object")},teardown:function(e){I.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"react.author.program.edit",path:"/author/programs/:programId/edit",ember:{}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(61),o=r(i),l=n(5),u=n(88),c=r(u),d=n(29),p=r(d),f=n(13),m=r(f),h=n(3),g=n(6),v=r(g),_=n(635),y=s.default.createClass({displayName:"ProgramListItem",mixins:[c.default.mixin],propTypes:{highlight:h.string,program:n(57).isRequired,onRemove:h.func.isRequired},render:function(){var e=this.props.program,t=this.isConfirmingRemoval(),n=e.hasSharedEnrollments,r=(0,v.default)({"removable-item__title--large":!t||!n,"removable-item__title--none":t&&n});return s.default.createElement("li",null,s.default.createElement("div",{className:"removable-item "+(t?"removable-item--focused":""),"data-capybara":"removable-item"},s.default.createElement("div",{className:r},s.default.createElement("h2",{className:"h3 margin-none "+(e.isPublished?"":"unpublished")},s.default.createElement(m.default,{to:"react.author.program",params:[{programId:e.id}],className:e.title?"indigo":"dark-grey"},s.default.createElement(o.default,{text:(0,_.getDisplayTitle)(e),highlight:this.props.highlight}))),s.default.createElement("ul",{className:"dark-grey light margin-none list--slashed"},e.subAccount&&e.subAccount.notCurrent&&s.default.createElement("li",null,s.default.createElement("span",{className:"medium black"},e.subAccount.name)),this.renderCounts())),this.renderRemove()))},renderCounts:function(){var e=this.props.program,t=I18n.t("Step",{count:e.itemCount||0});return e.isPublished?[s.default.createElement("li",{key:"course"},t),s.default.createElement("li",{key:"learner"},I18n.t({one:"1 Unfinished Learner",other:"%{count} Unfinished Learners"},{count:e.unfinishedLearnersCount||0}))]:[s.default.createElement("li",{key:"course"},s.default.createElement("i",null,t)),s.default.createElement("li",{key:"draft"},s.default.createElement("i",null,I18n.t("Draft; this program has not been published")))]},renderRemove:function(){var e={type:"program",id:this.props.program.id};if(!(0,p.default)("program_destroy",e))return null;if(this.isConfirmingRemoval()){var t=this.props.program.hasSharedEnrollments,n=(0,v.default)({"removable-item__confirm":!0,"removable-item__confirm--shared":t});return[s.default.createElement("div",{key:"title",className:n},s.default.createElement("div",null,I18n.t("Delete Program?")),t&&s.default.createElement("div",{className:"pink"},I18n.t("This program is shared with 1 or more Sub-Accounts with active enrollments"))),s.default.createElement("div",{key:"actions",className:"removable-item__buttons"},s.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.cancelRemoval},I18n.t("Cancel")),s.default.createElement("button",{type:"button",className:"btn--reset pink upcase small padding-rl-s text-center",onClick:this.handleRemoveClicked},I18n.t("Delete")))]}return s.default.createElement("div",{className:"removable-item__remove"},s.default.createElement("button",{type:"button",className:"btn--reset dark-grey small",onClick:this.confirmRemoval},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Delete Program")),s.default.createElement(l.Icon,{className:"gs-x gs-1x dark-grey"})))},handleRemoveClicked:function(){this.props.onRemove(this.props.program.id)}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2532),s=n(30),i=n(54),o=n(123),l=n(438),u=n(13),c=n(5),d=c.Icon,p=n(97),f=n(52),m=n(24),h=n(29),g=n(6),v=n(31),_=n(3),y=_.arrayOf,b=_.func,E=_.object,C=_.bool,I=function(){return[{value:"newest",label:I18n.t("Newest")},{value:"updated",label:I18n.t("Updated")},{value:"title",label:I18n.t("Alphabetically")}]},T=function(){return[{value:"unpublished",label:I18n.t("Unpublished")},{value:"no_enrollments",label:I18n.t("No Enrollments")}]},N="updated",S=r.createClass({displayName:"Programs",propTypes:{programs:y(n(57)).isRequired,subAccounts:y(n(217)),onProgramRemoved:b.isRequired,query:E,isLoading:C},getDefaultProps:function(){return{subAccounts:[]}},render:function(){var e=this.props.subAccounts.filter(function(e){return e.hasItemClass}).map(function(e){return{label:e.name,value:e.id}});return r.createElement(p,null,r.createElement(i,{name:"layout--list__header-text"},I18n.t("Programs")),r.createElement(i,{name:"layout--list__after-header"},h("program_create")&&r.createElement(u,{to:"author.programs.new","aria-label":I18n.t("Add New Program"),className:"add-btn"},r.createElement(m,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Program*"),wrappers:{"*":r.createElement("span",{className:"add-btn__text"},"$1")}},"$1")))),r.createElement("div",{className:"sortable-table-header--first-item"},r.createElement("div",{className:"left indigo"},r.createElement(f,{searchTerm:this.props.query.search,placeholderText:I18n.t("Search for programs")})),v.get("DOMAIN.root")&&e.length>1&&r.createElement(o,{filterSets:[{key:"subaccounts",exclusive:!1,options:e}],activeFilters:this.props.query,onChange:this.updateSortAndFilters,align:"right"},this.renderSubaccountFilterButton()),r.createElement(l,{onChange:this.updateSortAndFilters,filterOptions:T(),activeFilters:this.props.query.filters,sortOptions:I(),activeSort:this.props.query.sort||N})),this.props.isLoading&&r.createElement("div",{className:"loader-container"},r.createElement("div",{className:"loader-large loader-7 margin-b-xl"})),!this.props.isLoading&&r.createElement("ul",{className:"program-list bordered"},this.renderPrograms()))},updateSortAndFilters:function(e){s.updateQuery(e)},renderPrograms:function(){var e=this.props.programs;return e.length?e.map(this.renderProgram):r.createElement("li",{className:"bold dark-grey padding-tb-m text-center"},r.createElement(m,null,I18n.t("There are no programs matching this filter.")))},renderProgram:function(e){return r.createElement(a,{program:e,onDelete:Function.prototype,highlight:this.props.query.search,programDetailLink:"",key:e.id,onRemove:this.props.onProgramRemoved})},renderSubaccountFilterButton:function(){var e=!!this.props.query.subaccounts,t=g({"author-course-templates__subaccount-filter__label--active":e});return r.createElement(o.Trigger,null,r.createElement("button",{type:"button",className:"popdown-selector__trigger author-course-templates__subaccount-filter"},r.createElement("span",{className:t},I18n.t("Accounts"),r.createElement(d,{className:"author-course-templates__subaccount-filter__icon"}))))}});e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2533),o=r(i),l=n(106),u=r(l),c=n(22),d=r(c),p=n(53),f=r(p),m=n(223),h=r(m),g=n(637),v=r(g),_=n(19),y=r(_),b=n(4),E=n(2),C="Program",I=s.default.createClass({displayName:"AuthorProgramsIndex",propTypes:{query:(0,E.shape)({sort:E.string,search:E.string,subaccounts:(0,E.oneOfType)([E.string,(0,E.arrayOf)(E.string)]),filters:(0,E.oneOfType)([E.string,(0,E.arrayOf)(E.string)])}),programs:(0,E.arrayOf)(n(57)),subAccounts:(0,E.arrayOf)(n(217)),isLoading:E.bool},mixins:[(0,f.default)(function(e){h.default.fetchNext(e.query)})],render:function(){return s.default.createElement(o.default,{programs:this.props.programs,onProgramRemoved:this.handleProgramRemoved,query:this.props.query,subAccounts:this.props.subAccounts,isLoading:this.props.isLoading})},handleProgramRemoved:function(e){h.default.remove(e).then(null,function(e){y.default.responseError(e)})}});t.default=(0,d.default)({type:(0,u.default)(I,function(){return I18n.t("Programs")}),asyncProps:{programs:{setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)},fetch:function(e){return h.default.fetchAll(e.query)},get:function(e){return h.default.getAll(e.query)},shouldRefetch:function(e,t){return!(0,b.isEqual)(e.query,t.query)}},subAccounts:{setup:function(e){v.default.addChangeListener(e)},teardown:function(e){v.default.removeChangeListener(e)},fetch:function(){return v.default.fetch(C)},get:function(){return v.default.getAll(C)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"react.author.programs",path:"/author/programs",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(223),i=n(19),o=r.createClass({displayName:"AuthorProgramsNew",statics:{willTransitionTo:function(){s.create().then(function(e){a.replaceWith("react.author.program.edit",e.id)},function(){i(I18n.t("Oh snap! We were unable to create the program. Please try again later."),{type:"error"}),a.replaceWith("react.author.programs")})}},render:function(){return null}});e.exports=o},function(e,t){"use strict";e.exports={name:"author.programs.new",path:"/author/programs/new",loadOrder:1,ember:{parentPath:["author"]}}},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(19),i=n(189),o=n(598),l=n(3),u=l.bool,c=l.func,d=r.createClass({displayName:"ActionBar",propTypes:{program:n(57),canSendMessage:u,canUpdate:u,canToggleOpenEnrollment:u,onChange:c},render:function(){var e=this.props,t=e.program,n=e.canSendMessage,l=e.canUpdate,u=e.canToggleOpenEnrollment;return r.createElement("div",null,r.createElement(o,{className:"btn btn--round-with-icon-large secondary margin-r-xs text-middle",learningItem:t,onChange:this.handleChange,disabled:!u&&!l}),l&&r.createElement(a,{to:"react.author.program.edit",params:[{programId:t.id}],className:"btn secondary edit__button",children:I18n.t("Edit")}),n&&r.createElement(i,{wrapperClassName:"margin-r-xs",recipientType:"program",recipientName:t.title||I18n.t("Untitled Program"),recipientId:t.id,filters:this.getMessageFilters(t.enrollmentCounts),onMessageSend:s,onMessageFail:function(e){return s(e,{type:"error"})},round:!0}))},handleChange:function(e){this.props.onChange({openEnrollment:e.target.checked})},getMessageFilters:function(e){if(e)return[{value:"",label:I18n.t("Everyone (%{count})",{count:e.all}),count:e.all},{value:"overdue",label:I18n.t("Overdue (%{count})",{count:e.overdue}),count:e.overdue},{value:"not_finished",label:I18n.t("Not Finished (%{count})",{count:e.notFinished}),count:e.notFinished},{value:"finished",label:I18n.t("Finished (%{count})",{count:e.finished}),count:e.finished}]}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2542),o=r(i),l=n(2543),u=r(l),c=n(59),d=n(3),p=s.default.createClass({displayName:"AuthorProgramView",propTypes:{program:n(57),permissions:(0,d.shape)({program:(0,d.shape)({update:d.bool,publish:d.bool}),message:(0,d.shape)({send:d.bool}),affiliatedSubAccount:(0,d.shape)({view:d.bool})}),children:d.node,placements:(0,d.arrayOf)(n(84)),ltiContentItemAdminLaunchLists:(0,d.arrayOf)(c.LtiContentItemAdminLaunchListSchema)},render:function(){var e=this.props,t=e.program,n=e.permissions,r=e.placements,a=e.ltiContentItemAdminLaunchLists;return s.default.createElement("div",null,s.default.createElement(o.default,{program:t,permissions:n}),s.default.createElement(u.default,{program:t,canViewSubAccounts:n.affiliatedSubAccount.view,ltiContentItemAdminLaunchLists:a,placements:r}),this.props.children)}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(1362),h=r(m),g=n(223),v=r(g),_=n(26),y=r(_),b=n(3),E=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.publish=function(){v.default.publish(r.props.programId)},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.canPublish,n=e.isPublished,r=e.hasUnpublishedChanges,a=e.publishable,s=!n||r,i=t&&(s||!a),o=n&&r,l=o?y.default.t("This program has unpublished changes"):y.default.t("This program has not been published"),u=s?y.default.t("This program cannot be published until its items have been published."):y.default.t("This program has items that have not been published.");return i&&f.default.createElement(h.default,{messageText:a?l:u,actionText:y.default.t("Publish"),onAction:this.publish,showAction:a})}}]),t}(f.default.Component);E.propTypes={canPublish:b.bool,isPublished:b.bool,hasUnpublishedChanges:b.bool,publishable:b.bool,programId:b.string},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(69),l=r(o),u=n(188),c=r(u),d=n(445),p=r(d),f=n(37),m=r(f),h=n(635),g=n(11),v=r(g),_=n(427),y=r(_),b=n(3),E=i.constants.DESCRIPTION_LENGTH_LIMIT,C=s.default.createClass({displayName:"Details",propTypes:{program:n(57),canUpdate:b.bool,onProgramUpdate:b.func,expanded:b.bool,onToggle:b.func},mixins:[(0,m.default)({mobile:m.default.QUERY_MOBILE})],getInitialState:function(){return{description:this.props.program.description}},render:function(){var e=this.props,t=e.program,n=e.canUpdate;return s.default.createElement("div",{className:"program-header-details"},s.default.createElement(i.Icon,{className:"layout--item-header__icon gs-books"}),s.default.createElement(l.default,{value:t.title,readOnly:!n,placeholder:I18n.t("Program Title"),maxLength:"255",onChange:this.onTitleChange,className:"x-large",inputClassName:"x-large"},s.default.createElement("h1",{className:"x-large indigo margin-none"},(0,h.getDisplayTitle)(t))),s.default.createElement("div",{className:"program-header-details__description"},s.default.createElement(c.default,{disabled:!n,value:this.state.description,placeholder:I18n.t("Describe what learners can expect from this program"),onChange:this.onDescriptionChange,onBlur:this.saveDescription,maxLength:E,multiline:!1,enableLinks:!0})),s.default.createElement("ul",{className:"list--slashed"},t.subAccount.notCurrent&&s.default.createElement("li",null,t.subAccount.name),s.default.createElement("li",null,I18n.t({one:"1 Step",other:"%{count} Steps"},{count:t.itemCount})),s.default.createElement(y.default,{record:t,recordType:"program"}),this.renderEstimatedTime(),s.default.createElement("li",{onClick:this.props.onToggle},s.default.createElement("span",{"data-capybara":"program__show-settings-button"},s.default.createElement(p.default,{iconOnly:this.state.media.mobile,expanded:this.props.expanded})))))},renderEstimatedTime:function(){var e=this.props.program.estimatedTime,t=v.default.duration(e/60,"hours").humanize();return s.default.createElement("li",{"data-capybara":"estimated_time"},I18n.t("Takes about %{time}",{time:t}))},onTitleChange:function(e){this.props.onProgramUpdate({title:e})},onDescriptionChange:function(e){this.setState({description:e.target.value})},saveDescription:function(){this.props.onProgramUpdate({description:this.state.description})}});e.exports=C},function(e,t,n){"use strict";var r=n(1),a=n(54),s=n(102),i=n(2540),o=n(2541),l=n(2538),u=n(2544),c=n(223),d=n(641),p=n(3),f=p.bool,m=p.shape,h=r.createClass({displayName:"Header",propTypes:{program:n(57),permissions:m({program:m({update:f,publish:f}),libraryItem:m({create:f}),message:m({send:f})})},getDefaultProps:function(){return{permissions:{program:{update:!1,publish:!1},message:{send:!1}}}},getInitialState:function(){return{expanded:!1}},render:function(){var e=this.props,t=e.program,n=e.permissions;return r.createElement(s,{type:"program"},r.createElement(a,{name:"layout--item-header__before-content"},r.createElement(i,{canPublish:n.program.publish,isPublished:t.isPublished,publishable:t.publishable,hasUnpublishedChanges:t.hasUnpublishedChanges,programId:t.id})),r.createElement(a,{name:"layout--item-header__details"},r.createElement(o,{program:t,canUpdate:n.program.update,onProgramUpdate:this.handleProgramChange,expanded:this.state.expanded,onToggle:this.toggleExpand})),r.createElement(a,{name:"layout--item-header__actions"},r.createElement(l,{program:t,canSendMessage:n.message.send,canUpdate:n.program.update,canToggleOpenEnrollment:n.libraryItem.create,onChange:this.handleProgramChange})),r.createElement(a,{name:"layout--item-header__expansion"},this.state.expanded&&r.createElement(u,{program:t,canUpdate:n.program.update,canEditLibrary:n.libraryItem.create,onProgramChange:this.handleProgramChange,onLibraryChange:this.handleLibraryChange})))},handleProgramChange:function(e){c.optimisticUpdate(this.props.program.id,e)},handleLibraryChange:function(e){var t=this.props.program.id;d.toggleRecord(e,"Program",t).then(function(){c.fetch(t)})},toggleExpand:function(){this.setState({expanded:!this.state.expanded})}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(13),o=r(i),l=n(31),u=r(l),c=n(3),d=n(59),p=s.default.createClass({displayName:"Nav",propTypes:{program:n(57),canViewSubAccounts:c.bool,placements:(0,c.arrayOf)(n(84)),ltiContentItemAdminLaunchLists:(0,c.arrayOf)(d.LtiContentItemAdminLaunchListSchema)},getDefaultProps:function(){return{program:{},canViewSubAccounts:!1,placements:[],ltiContentItemAdminLaunchLists:[]}},render:function(){var e=this.props.program;return s.default.createElement("nav",{className:"button-set-nav"},s.default.createElement("div",{className:"large-content-area--padded centered clearfix button-set"},s.default.createElement(o.default,{to:"react.author.program.react.author.program.learners",params:[{programId:e.id}],className:"dark-grey inline-block button-set__button",children:I18n.t("Learners")}),s.default.createElement(o.default,{to:"react.author.program.react.author.program.groups",params:[{programId:e.id}],className:"dark-grey inline-block button-set__button",children:I18n.t("Groups")}),this.shouldRenderAffiliatedAccounts()&&s.default.createElement(o.default,{to:"react.author.program.react.author.program.affiliated-accounts",params:[{programId:e.id}],className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item","data-capybara":"affiliated-accounts",children:I18n.t("Affiliated Accounts")}),this.renderAdminLaunchListTabs(),this.renderLtiPlacementTabs()))},shouldRenderAffiliatedAccounts:function(){var e=this.props,t=e.program,n=e.canViewSubAccounts;return u.default.get("DOMAIN.root")&&n&&!t.subAccount.notCurrent},renderAdminLaunchListTabs:function(){var e=this.props,t=e.program,n=e.ltiContentItemAdminLaunchLists;return n.map(function(e){return s.default.createElement(o.default,{to:"react.author.program.react.author.program.admin-launch-list",key:"launch_tab_"+e.toolId,params:[{programId:t.id},{toolId:e.toolId}],className:"learnable-nav__link button-set__button",children:e.title})})},renderLtiPlacementTabs:function(){var e=this.props,t=e.program,n=e.placements;return n.map(function(e){return s.default.createElement(o.default,{to:"react.author.program.react.author.program.placement",key:"placement"+e.id,params:[{programId:t.id},{placementId:e.id}],className:"learnable-nav__link button-set__button",children:e.text})})}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(55),o=r(i),l=n(69),u=r(l),c=n(132),d=r(c),p=n(777),f=r(p),m=n(436),h=r(m),g=n(20),v=r(g),_=n(136),y=n(3),b=s.default.createClass({displayName:"Settings",propTypes:{program:n(57),canUpdate:y.bool,canEditLibrary:y.bool,onProgramChange:y.func,onLibraryChange:y.func},render:function(){var e=this.props,t=e.program,n=e.canEditLibrary,r=e.canUpdate,a=e.onProgramChange;return s.default.createElement("div",null,s.default.createElement("div",{className:"layout--item-header__expansion-section"},s.default.createElement(d.default,null,s.default.createElement(d.default.Column,null,s.default.createElement(d.default.Label,null,I18n.t("Take in Any Order")),s.default.createElement(d.default.Field,{"data-capybara":"program-setting__linearity"},s.default.createElement(o.default,{disabled:!r,defaultChecked:t.isNonLinear,onChange:this.handleLinearityChange})),s.default.createElement(d.default.Label,null,I18n.t("Send Notification at Each Step")),s.default.createElement(d.default.Field,{"data-capybara":"program-setting__step-notification"},s.default.createElement(o.default,{disabled:!r,defaultChecked:t.stepNotifications,onChange:this.handleStepNotificationsChange})),(0,_.isExternalCourseIdEnabled)()&&[s.default.createElement(d.default.Label,{key:"external-0"},I18n.t("External ID")),s.default.createElement(d.default.Field,{key:"external-1",className:"course-meta-grid__sneak-up","data-capybara":"program-setting__external_id"},s.default.createElement(u.default,{growInPlace:!0,value:t.externalId,readOnly:!r,onChange:this.handleExternalIdChange,inputClassNames:"light blue-grey border-trbl"},s.default.createElement("span",{className:r&&"blue"},t.externalId||I18n.t("(none)"))))]),s.default.createElement(d.default.Column,null,(0,v.default)("learn_program_due_date")&&s.default.createElement(f.default,{canEdit:r,daysUntilDue:t.defaultDaysUntilDue,defaultDaysUntilDue:14,dueOnDate:t.defaultDueOnDate,dueDateType:t.dueDateType,daysUntilExpiration:0,emitChange:a,learnableName:"program"}),(0,v.default)("learn_program_due_date")&&s.default.createElement(h.default,{course:t,courseType:"program",canExpire:r,minDaysUntilExpiration:t.defaultDaysUntilDue+1,onExpiresChanged:this.handleExpiresChange,onAutoReEnrollChanged:this.handleAutoReEnrollChange,onDefaultDaysUntilExpirationChanged:this.handleDefaultDaysUntilExpirationChange,onReEnrollmentPeriodChanged:this.handleReEnrollmentPeriodChange}),(0,v.default)("learn_libraryitem_relevance")||[s.default.createElement(d.default.Label,{key:"library-0"},I18n.t("In Library")),s.default.createElement(d.default.Field,{key:"library-1","data-capybara":"program-setting__in-library"},s.default.createElement(o.default,{disabled:!n,checked:t.isLibraryItem,onChange:this.handleLibraryChange}))],s.default.createElement(d.default.Label,{key:"has-certificate-0"},I18n.t("Certificate")),s.default.createElement(d.default.Field,{key:"has-certificate-1","data-capybara":"program-setting__has-certificate"},s.default.createElement(o.default,{disabled:!r,checked:t.hasCertificate,onChange:this.handleHasCertificateChange}))))))},handleStepNotificationsChange:function(e){this.props.onProgramChange({stepNotifications:e.target.checked})},handleLinearityChange:function(e){this.props.onProgramChange({isNonLinear:e.target.checked})},handleLibraryChange:function(e){this.props.onLibraryChange(e.target.checked)},handleHasCertificateChange:function(e){this.props.onProgramChange({hasCertificate:e.target.checked})},handleExternalIdChange:function(e){this.props.onProgramChange({externalId:e})},handleExpiresChange:function(e){var t={expires:e};e&&(t.autoReEnroll=!0),this.props.onProgramChange(t)},handleAutoReEnrollChange:function(e){this.props.onProgramChange({autoReEnroll:e})},handleDefaultDaysUntilExpirationChange:function(e){this.props.onProgramChange({defaultDaysUntilExpiration:e})},handleReEnrollmentPeriodChange:function(e){this.props.onProgramChange({reEnrollmentPeriod:e})}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(93),u=r(l),c=n(13),d=r(c),p=n(106),f=r(p),m=n(22),h=r(m),g=n(635),v=n(223),_=r(v),y=n(1455),b=r(y),E=n(59),C=n(222),I=r(C),T=n(29),N=r(T),S=n(19),x=r(S),A=n(2539),k=r(A),w=n(3),R=o.default.createClass({displayName:"AuthorProgram",propTypes:{program:n(57),ltiContentItemAdminLaunchLists:(0,w.arrayOf)(E.LtiContentItemAdminLaunchListSchema),params:(0,w.shape)({programId:w.string}),placements:(0,w.arrayOf)(n(84))},render:function(){var e=this.props.program,t={type:"program",id:e.id},n={program:{publish:(0,N.default)("program_publish",t),update:(0,N.default)("program_update",t),enrollLearners:(0,N.default)("program_enrollment_create"),unenrollLearners:(0,N.default)("program_enrollment_destroy"),exportProgram:(0,N.default)("program_export"),enrollGroup:["program_team_enrollment_create","program_group_enrollment_create","program_smart_group_enrollment_create","program_domain_group_enrollment_create","program_expire_re_enroll"].some(function(e){return(0,N.default)(e)})},libraryItem:{create:(0,N.default)("library_item_create")},message:{send:e.directMessagingEnabled&&(0,N.default)("user_message_send")},affiliatedSubAccount:{view:(0,N.default)("affiliated_sub_account_view")}};return o.default.createElement(k.default,{program:this.props.program,permissions:n,placements:this.props.placements,ltiContentItemAdminLaunchLists:this.props.ltiContentItemAdminLaunchLists},o.default.createElement(u.default,(0,s.default)({permissions:n},this.props)))}});t.default=(0,h.default)({type:(0,f.default)(R,function(e){return(0,g.getDisplayTitle)(e.program)}),blocking:!0,asyncProps:{program:{fetch:function(e){return _.default.fetch(e.params.programId).then(null,function(){throw(0,x.default)(I18n.t("Program does not exist"),{type:"error"}),d.default.transitionTo("react.author.programs"),h.default.AbortedError})},get:function(e){return _.default.get(e.params.programId)},setup:function(e){_.default.addChangeListener(e)},teardown:function(e){_.default.removeChangeListener(e)}},ltiContentItemAdminLaunchLists:{setup:function(e){b.default.addChangeListener(e)},fetch:function(e){return b.default.fetchAll(e.params.programId)},get:function(){return b.default.getAll()},teardown:function(e){b.default.removeChangeListener(e)}},placements:{setup:function(e){I.default.addChangeListener(e)},fetch:function(){return I.default.fetchAll("program_tabs")},get:function(){return I.default.getAll("program_tabs")},teardown:function(e){I.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"react.author.program",path:"/author/programs/:programId",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(13),o=r(i),l=n(59),u=n(3),c=n(50),d=n(4);t.default=s.default.createClass({displayName:"LtiContentItem",propTypes:{ltiContentItem:l.LtiContentItemSchema.isRequired,programId:u.string},render:function(){var e=this.props,t=e.ltiContentItem,n=e.programId;return s.default.createElement(c.Tr,null,s.default.createElement(c.Td,null,this.renderIcon(),s.default.createElement("span",null,t.ltiAttributes.title)),s.default.createElement(c.Td,{className:"text-right"},s.default.createElement(o.default,{to:"author.lti_content_item",params:[{ltiContentItemId:t.id}],queryParams:{programId:n},children:I18n.t("Review Submissions"),className:"margin-r-xs"})))},renderIcon:function(){var e=this.props.ltiContentItem,t=(0,d.get)(e,"ltiAttributes.icon.@id");return t?s.default.createElement("img",{src:t,className:"lti-content-item__icon margin-r-xs"}):null}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(59),l=n(2547),u=r(l),c=n(50);t.default=s.default.createClass({displayName:"LtiContentItemList",propTypes:{ltiContentItems:(0,i.arrayOf)(o.LtiContentItemSchema).isRequired,programId:i.string},render:function(){return s.default.createElement("div",null,s.default.createElement(c.Table,null,s.default.createElement(c.Thead,null,s.default.createElement(c.Tr,null,s.default.createElement(c.Th,{sortParam:"title"},I18n.t("Title")),s.default.createElement(c.Th,null))),s.default.createElement(c.Tbody,null,this.renderLtiContentItems())))},renderLtiContentItems:function(){var e=this.props,t=e.ltiContentItems,n=e.programId;return t=t||[],t.map(function(e){return s.default.createElement(u.default,{ltiContentItem:e,programId:n,key:e.id})})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(3),u=n(1455),c=r(u),d=n(59),p=n(2548),f=r(p),m=n(52),h=r(m),g=n(53),v=r(g),_=n(4),y=s.default.createClass({displayName:"AdminLaunchList",mixins:[(0,v.default)(function(e){c.default.fetchNext(e.params.programId,e.params.toolId)})],getDefaultProps:function(){return{ltiContentItemAdminLaunchList:{title:"LTI Launch List",ltiContentItems:[]}}},propTypes:{ltiContentItemAdminLaunchLists:(0,l.arrayOf)(d.LtiContentItemAdminLaunchListSchema),ltiContentItemAdminLaunchList:d.LtiContentItemAdminLaunchListSchema,params:(0,l.shape)({toolId:l.string,programId:l.string}),query:(0,l.shape)({sort:l.string,search:l.string})},render:function(){var e=this.props,t=e.ltiContentItemAdminLaunchList,n=e.params.programId,r=e.query.search;return s.default.createElement("div",{className:"admin-launch-list large-content-area--padded centered"},s.default.createElement("div",null,s.default.createElement("h2",{className:"margin-t-xs margin-b-s"},this.getTitle())),s.default.createElement("div",{className:"indigo"},s.default.createElement(h.default,{searchTerm:r,placeholderText:I18n.t("Search for LTI Content Items")})),s.default.createElement(f.default,{ltiContentItems:t.ltiContentItems||[],programId:n}))},getTitle:function(){var e=this.props,t=e.params.toolId,n=e.ltiContentItemAdminLaunchLists,r=n.find(function(e){
return e.toolId===t});return r?r.title:I18n.t("LTI Content Items")}});t.default=(0,o.default)({type:y,asyncProps:{ltiContentItemAdminLaunchList:{fetch:function(e){return c.default.fetch(e.params.programId,e.params.toolId,e.query.sort,e.query.search)},get:function(e){return c.default.get(e.params.toolId,e.query.sort,e.query.search)},setup:function(e){c.default.addChangeListener(e)},teardown:function(e){c.default.addChangeListener(e)},shouldRefetch:function(e,t){return e.params.toolId!==t.params.toolId||!(0,_.isEqual)(e.query,t.query)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"react.author.program.admin-launch-list",parent:"react.author.program",path:"lti_launch_list/:toolId"}},function(e,t,n){"use strict";var r=n(1),a=n(585),s=n(53),i=n(239),o=n(274),l=n(22),u=n(636),c=n(3),d=c.arrayOf,p=c.object,f=n(29),m="Program",h=r.createClass({displayName:"AffiliatedAccounts",mixins:[s(function(e){u.fetchNext(e.params.programId,m,e.query.sort)}),i,o(function(e){return u.fetch(e.params.programId,m,e.query.sort)})],propTypes:{program:n(57),accounts:d(n(156)),query:p},render:function(){return r.createElement(a,{accounts:this.props.accounts,onChange:this.changeAffiliation,canShare:f("affiliated_sub_account_share"),learnableHasItems:!0,hasSharedContent:this.props.program.hasSharedContent})},changeAffiliation:function(e,t){t?u.share(this.props.program.id,m,e):u.revoke(this.props.program.id,m,e)}});e.exports=l({type:h,asyncProps:{accounts:{get:function(e){return u.getAll(e.params.programId,m,e.query.sort)},setup:function(e){u.addChangeListener(e)},teardown:function(e){u.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"react.author.program.affiliated-accounts",path:"affiliated-accounts",parent:"react.author.program",ember:{parentPath:["author","react.author.program"],leaf:!0}}},function(e,t,n){"use strict";var r=n(1),a=n(18),s=n(3),i=s.bool,o=s.func,l=r.createClass({displayName:"Header",propTypes:{canAddGroup:i,onAddGroup:o},render:function(){return r.createElement("div",{className:"sortable-table-header"},r.createElement("h2",{className:"left margin-none"},I18n.t("Groups")),this.props.canAddGroup&&r.createElement(a,{className:"btn secondary right margin-t-xs",onClick:this.props.onAddGroup,children:I18n.t("+ Group"),"data-capybara":"group_btn"}))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(13),o=r(i),l=n(27),u=r(l),c=n(5),d=n(18),p=r(d),f=n(782),m=r(f),h=n(3),g=n(20),v=r(g),_=n(652),y=r(_),b=s.default.createClass({displayName:"Group",propTypes:{group:n(51).isRequired,onRemove:h.func,canBeRemoved:h.bool,onEditGroup:h.func},handleEditGroup:function(){this.props.onEditGroup(this.props.group)},render:function(){var e=m.default.Column,t=m.default.Avatar,n=this.props.group,r=[s.default.createElement(e,{mobileClassNames:"pure-u-3-8",key:"avatar"},s.default.createElement(o.default,{to:"author.group",params:[{groupId:n.id}],className:"indigo"},s.default.createElement(t,{group:n}))),s.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"usersCount"},n.usersCount),s.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"overdueCount"},n.overdueCount),s.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"inProgressCount"},n.inProgressCount),s.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"finishedCount"},n.finishedCount),s.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"remove"},this.props.canBeRemoved&&s.default.createElement(p.default,{className:"text-right btn--reset remove-group full-width full-height",onClick:this.showRemovalConfirmationPrompt},s.default.createElement(u.default,{children:I18n.t("Remove Group")}),s.default.createElement(c.Icon,{className:"gs-x gs-1x dark-grey"})))];return(0,v.default)("learn_group_relevance")&&r.splice(1,0,s.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"relevance"},s.default.createElement("button",{className:"group-list__relevance btn--reset",onClick:this.handleEditGroup,"data-capybara":"relevance_btn"},s.default.createElement("span",{className:"button-focus-flat__label"},(0,y.default)(this.props.group.relevance))))),s.default.createElement(m.default,{ref:"entry",group:n,onRemove:this.props.onRemove},r)},showRemovalConfirmationPrompt:function(){this.refs.entry.confirmRemoval()}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(27),o=r(i),l=n(12),u=n(198),c=r(u),d=n(1375),p=r(d),f=n(2554),m=r(f),h=n(3),g=n(20),v=r(g),_=s.default.createClass({displayName:"EditorOutlet",propTypes:{children:h.node},render:function(){return this.props.children}}),y=s.default.createClass({displayName:"GroupList",statics:{EditorOutlet:_},propTypes:{removableGroupTypes:(0,h.arrayOf)((0,h.oneOf)(l.GROUP_TYPE_VALUES)),groups:(0,h.arrayOf)(n(51)),search:h.string,onRemove:h.func,children:h.node,onEditGroup:h.func},getDefaultProps:function(){return{removableGroupTypes:[],groups:[],onRemove:Function.prototype}},render:function(){var e=this.props,t=e.groups,n=e.removableGroupTypes,r=p.default.ColumnGroup,a=p.default.Column,i=p.default.Body,l=this.props.search?I18n.t("There are no groups matching your criteria."):I18n.t("You haven't invited any groups yet."),u=[s.default.createElement(a,{key:"name",sortParam:"name",className:"th-30",mobileClassNames:"pure-u-3-8"},I18n.t("Name")),s.default.createElement(a,{key:"usersCount",sortParam:"usersCount",className:"th-20",mobileClassNames:"pure-u-1-8"},I18n.t("# Members")),s.default.createElement(a,{key:"overdueCount",sortParam:"overdueCount",className:"th-20",mobileClassNames:"pure-u-1-8"},I18n.t("Overdue")),s.default.createElement(a,{key:"inProgressCount",sortParam:"inProgressCount",className:"th-20",mobileClassNames:"pure-u-1-8"},I18n.t("In Progress")),s.default.createElement(a,{key:"finishedCount",sortParam:"finishedCount",className:"th-20",mobileClassNames:"pure-u-1-8"},I18n.t("Finished")),s.default.createElement(a,{key:"remove",className:"sortable-table__th--icon",sortable:!1,mobileClassNames:"pure-u-1-8"},n.length>0&&s.default.createElement(o.default,{children:I18n.t("Remove Group")}))];return(0,v.default)("learn_group_relevance")&&u.splice(1,0,s.default.createElement(a,{key:"relevance",sortParam:"relevance",className:"th-20",mobileClassNames:"pure-u-1-8"},I18n.t("Relevance"))),s.default.createElement("div",{className:"group-list padding-t-xs"},s.default.createElement(p.default,null,s.default.createElement(r,null,u),s.default.createElement(i,{emptyStateMessage:l,emptyStateColSpan:"6"},(0,c.default)(this.props.children,_),t.map(this.renderGroup))))},renderGroup:function(e){return s.default.createElement(m.default,{key:e.id,group:e,onRemove:this.props.onRemove.bind(null,e.id),canBeRemoved:this.isGroupTypeRemovable(e),onEditGroup:this.props.onEditGroup})},isGroupTypeRemovable:function(e){var t=e.type,n=e.relevance;return(!(0,v.default)("learn_libraryitem_relevance")||"domain"!==t||void 0!==n)&&this.props.removableGroupTypes.indexOf(t)>-1}});e.exports=y},function(e,t,n){"use strict";var r=n(1),a=n(52),s=n(603),i=n(2555),o=n(2553),l=n(366),u=n(12),c=u.GROUP_TYPE_VALUES,d=n(20),p=n(19),f=n(1314),m=n(3),h=m.bool,g=m.arrayOf,v=m.func,_=m.oneOf,y=m.shape,b=m.string,E=r.createClass({displayName:"View",propTypes:{program:n(57),groups:g(n(51)),searchResults:g(n(309)),removableGroupTypes:g(_(c)),sort:b,search:b,onSearch:v,onAddGroup:v,onRemoveGroup:v,isEnrolling:h,canAddGroup:h,query:y({sort:b,search:b})},getInitialState:function(){return{editorVisible:!1,groupToEdit:null}},onEditGroup:function(e){this.setState({editorVisible:!0,groupToEdit:e})},render:function(){var e=this.props,t=e.groups,n=e.removableGroupTypes,u=e.onSearch,c=e.onAddGroup,p=e.onRemoveGroup,f=e.isEnrolling,m=e.canAddGroup,h=e.searchResults,g=e.search,v=I18n.t("Add a group");return this.state.groupToEdit&&(v=I18n.t("Edit Relevance")),r.createElement("div",{className:"large-content-area--padded centered"},r.createElement(o,{canAddGroup:m,onAddGroup:this.launchEditor}),r.createElement("div",{className:"left indigo"},r.createElement(a,{searchTerm:g,placeholderText:I18n.t("Search for enrolled groups")})),r.createElement(i,{groups:t,onEditGroup:this.onEditGroup,removableGroupTypes:n,onRemove:p,search:g},!d("learn_libraryitem_relevance")&&this.state.editorVisible&&r.createElement(i.EditorOutlet,null,r.createElement(l,{onCancel:this.closeEditor,searchResults:h,onSearch:u,onEnroll:c,isLoading:f,searchColSpan:"5",searcherName:"groups"}))),d("learn_libraryitem_relevance")&&this.state.editorVisible&&r.createElement(s,{title:v,group:this.state.groupToEdit,searchPlaceholder:I18n.t("Enter a name to find a group"),results:h,onCancel:this.closeEditor,onEnroll:this.addOrUpdateGroups,onSearch:u}))},launchEditor:function(){this.setState({editorVisible:!0,groupToEdit:null})},closeEditor:function(){this.setState({editorVisible:!1,groupToEdit:null})},addOrUpdateGroups:function(e){var t=this.props.query,n=t.sort,r=t.search,a=e.some(function(e){return"enrolled"===e.relevance}),s=this.state.groupToEdit?f.updateGroups:f.addGroups;return s(this.props.program.id,e,n,r).then(function(){a&&p(I18n.t("Enrolling groups. For large groups, it may take a few moments before individual learners appear."))},function(){p(I18n.t("Oh Snap! We were unable to enroll your group. Please try again later."),{type:"error"})})}});e.exports=E},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(29),i=n(20),o=n(19),l=n(4),u=l.isEqual,c=n(53),d=n(196),p=n(2570),f=n(385),m=n(12),h=m.GROUP_TYPES,g=n(2556),v=n(3),_=v.bool,y=v.arrayOf,b=v.shape,E=v.string,C=r.createClass({displayName:"Groups",mixins:[c(function(e){i("learn_libraryitem_relevance")?f.fetchNext("Program",e.params.programId,e.query.sort,e.query.search):p.fetchNext(e.params.programId,e.query.sort,e.query.search)})],propTypes:{program:n(57),groups:y(n(51)),isLoading:_,isEnrolling:_,removableGroupTypes:y(E),searchResults:y(n(309)),permissions:b({program:b({enrollGroup:_})}),params:b({programId:E}),query:b({sort:E,search:E})},shouldComponentUpdate:function(e){return!e.isLoading},render:function(){var e=this.props,t=e.program,n=e.groups,a=e.isEnrolling,s=e.query,i=e.searchResults,o=e.removableGroupTypes,l=e.permissions;return r.createElement(g,{query:this.props.query,program:t,groups:n,canAddGroup:l.program.enrollGroup,removableGroupTypes:o,search:s.search,searchResults:i,isEnrolling:a,onSearch:this.search,onAddGroup:this.enroll,onRemoveGroup:this.unenroll})},search:function(e){d.lookup(e,"program")},enroll:function(e){var t=this.props.program.id;p.enroll(t,[e]).then(function(){o(I18n.t("Enrolling the group. For a large group, it may take a few moments before individual learners appear."))},function(){o(I18n.t("Oh Snap! We were unable to enroll your group. Please try again later."),{type:"error"})})},unenroll:function(e){var t=this.props.program.id,n=this.props.query,r=n.sort,a=n.search;i("learn_libraryitem_relevance")?f.unenroll({learnableType:"Program",learnableId:t,sort:r,search:a},e).catch(function(){o(I18n.t("Oh Snap! We were unable to remove your group. Please try again later."),{type:"error"})}):p.unenroll(t,e).then(null,function(){o(I18n.t("Oh Snap! We were unable to remove your group. Please try again later."),{type:"error"})})}});e.exports=a({type:C,asyncProps:{groups:{setup:function(e){i("learn_libraryitem_relevance")?f.addChangeListener(e):p.addChangeListener(e)},fetch:function(e){return i("learn_libraryitem_relevance")?f.fetch("Program",e.params.programId,e.query.sort,e.query.search):p.fetch(e.params.programId,e.query.sort,e.query.search)},shouldRefetch:function(e,t){return!u(e.query,t.query)},get:function(e){return i("learn_libraryitem_relevance")?f.getAll("Program",e.params.programId,e.query.sort,e.query.search):p.getAll(e.params.programId,e.query.sort,e.query.search)},teardown:function(e){i("learn_libraryitem_relevance")?f.removeChangeListener(e):p.removeChangeListener(e)}},isEnrolling:{get:function(){return p.isEnrolling()}},searchResults:{setup:function(e){d.addChangeListener(e)},get:function(){return d.getFound()},teardown:function(e){d.removeChangeListener(e)}},removableGroupTypes:{get:function(){var e=[];return s("program_group_enrollment_destroy")&&e.push(h.GROUP),s("program_domain_group_enrollment_destroy")&&e.push(h.DOMAIN),s("program_smart_group_enrollment_destroy")&&e.push(h.SMART),s("program_team_enrollment_destroy")&&e.push(h.TEAM),e}}}})},function(e,t){"use strict";e.exports={name:"react.author.program.groups",path:"groups",parent:"react.author.program",ember:{parentPath:["author","react.author.program"],leaf:!0}}},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(133),i=n(18),o=n(37),l=n(114),u=n(3),c=u.string,d=u.bool,p=u.func,f=r.createClass({displayName:"ActionBar",mixins:[o({mobile:o.QUERY_MOBILE})],propTypes:{programId:c,sort:c,canEnroll:d,canUnenroll:d,canExport:d,onEnroll:p,hasEnrollments:d},getDefaultProps:function(){return{sort:""}},render:function(){var e=this.props,t=e.programId,n=e.sort,o=e.canEnroll,u=e.canUnenroll,c=e.canExport,d=e.onEnroll,p=e.hasEnrollments,f="margin-t-s margin-r-m right",m=!(this.state.media.mobile||l.isMobile());return r.createElement("div",null,o&&r.createElement(i,{className:"btn secondary right margin-t-xs",onClick:d,children:I18n.t("+ Learner")}),m&&r.createElement("span",{className:"right"},o&&r.createElement(a,{to:"author.program.learners.upload",params:[{contextId:t,uploadType:"import"}],queryParams:{uploadType:"import"},children:I18n.t("Add via CSV"),className:f}),p&&u&&r.createElement(a,{to:"author.program.learners.upload",params:[{contextId:t}],queryParams:{uploadType:"deport"},children:I18n.t("Remove via CSV"),className:f}),p&&c&&r.createElement(s,{type:"report",info:{id:"ProgramEnrollmentsReport",program_id:t,sort:n},children:I18n.t("Export Enrollments"),className:f,capybara:"export_enrollments"})))}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(6),o=r(i),l=n(13),u=r(l),c=n(18),d=r(c),p=n(27),f=r(p),m=n(5),h=n(374),g=r(h),v=n(111),_=r(v),y=n(103),b=r(y),E=n(608),C=r(E),I=n(751),T=r(I),N=n(19),S=r(N),x=n(20),A=r(x),k=n(12),w=n(11),R=r(w),O=n(120),P=r(O),L=n(151),M=n(3),D=n(368),U=r(D),F=n(1314);n(3554);var q=s.default.createClass({displayName:"Learner",propTypes:{program:n(57),learner:n(263).isRequired,canEnroll:M.bool,canUnenroll:M.bool,canUpdate:M.bool,onUnenroll:M.func},render:function(){var e=this.props,t=e.learner,n=e.program,r=e.canUnenroll,a=e.onUnenroll,i=g.default.Column,l=g.default.Avatar,c=0===t.currentProgramItemDue,p=t.currentProgramItemDue<=0,h=(0,o.default)({pink:p,upcase:c});return s.default.createElement(g.default,{ref:"entry",user:t,onRemove:a.bind(null,t.id),mobileClassNames:"pure-g"},s.default.createElement(i,{mobileClassNames:"pure-u-1-2"},s.default.createElement(u.default,{to:"author.learner",params:[{id:t.id}],className:"indigo",children:s.default.createElement(l,{user:t})})),this.renderProgress(),(0,A.default)("time_spent_in_programs")&&this.renderTimeSpent(),(0,A.default)("learn_program_due_date")&&n.expires&&this.renderExpireDate(),(0,A.default)("learn_program_due_date")&&this.renderDueDate(),s.default.createElement(i,{className:h,mobileClassNames:"pure-u-1-8"},this.renderCourseDueDateLabel(c,t.currentProgramItemDue)),s.default.createElement(i,{className:"text-center",mobileClassNames:"pure-u-1-8"},r&&s.default.createElement(d.default,{className:"text-right btn--reset remove-learner full-width full-height",onClick:this.showRemovalConfirmationPrompt},s.default.createElement(f.default,{children:I18n.t("Remove Learner")}),s.default.createElement(m.Icon,{className:"gs-x gs-1x dark-grey"}))))},renderProgress:function(){var e=this.props,t=e.learner,n=e.program,r=e.canEnroll,a=g.default.Column,i=(0,o.default)({"enrollment-list-item__popup-cursor":r,"enrollment-list-item__popup-progress":!0}),l=T.default.isCompleting(),u=t.pendingApprovalItemCount||0,c=u>0,d=t.state===k.PROGRAM_STATUS_COMPLETE&&!c,p="complete"===t.state&&!c,f=Math.max(t.currentProgramItemIndex-u,0),m=Math.min(f/n.itemCount,1);return l===t.id?s.default.createElement(a,{mobileClassNames:"pure-u-1-8"},s.default.createElement("div",{className:"loader"})):s.default.createElement(a,{mobileClassNames:"pure-u-1-8"},s.default.createElement("div",{className:"program-learner-list-item nowrap","data-capybara":"program-progress"},f," / ",d?t.currentProgramItemIndex:n.itemCount,p?s.default.createElement("div",{className:"program-learner-list-item__completed gs-check-circle"}):s.default.createElement(_.default,{ref:"popup",content:C.default,positioningAnchor:"#enrollment-"+t.id+"-progress",popupOptions:C.default.POPUP_OPTIONS,popupClassName:"enrollment-completion-popup",name:t.name,id:t.id,progress:m,hidePopup:this.hidePopup,onMarkComplete:this.onMarkComplete,showMarkCompleteButton:!0},s.default.createElement("div",{onClick:this.openPopup,className:"program-learner-list-item__progress"},s.default.createElement(b.default,{type:"circle",cx:14,cy:12,r:10,progress:m,className:i,id:"enrollment-"+t.id+"-progress"})))))},renderTimeSpent:function(){var e=g.default.Column;return s.default.createElement(e,{mobileClassNames:"pure-u-1-8"},s.default.createElement("span",{className:"program-learner-list-item__time-spent"},this.formatTimeSpent(this.props.learner.timeSpent)))},renderExpireDate:function(){var e=g.default.Column,t=this.props,n=t.learner,r=t.program,a=t.canEnroll;return s.default.createElement(e,{className:"program-learner-list-item__expire-date",mobileClassNames:"pure-u-1-8"},this.isComplete()&&s.default.createElement(U.default,{canEdit:a,clearPromptText:I18n.t("No renewal required"),dateToText:function(e){return(0,P.default)(e,"date")},onChange:F.updateEnrollmentExpiresAt.bind(null,r.id,n),value:n.expiresAt}))},renderDueDate:function(){var e=g.default.Column,t=this.props,n=t.learner,r=t.program,a=t.canEnroll;return s.default.createElement(e,{className:"program-learner-list-item__due-date",mobileClassNames:"pure-u-1-8"},!this.isComplete()&&s.default.createElement(U.default,{canEdit:a,clearPromptText:I18n.t("No due date"),dateToText:L.dueDateText,onChange:F.updateEnrollmentDueDate.bind(null,r.id,n),value:n.endAt}))},formatTimeSpent:function(e){return e?R.default.duration(e,"seconds").format("h:mm:ss",{trim:!1}):null},onMarkComplete:function(){return T.default.complete(this.props.program.id,this.props.learner.id).catch(function(){(0,S.default)(I18n.t("Oh Snap! We were unable to mark this learner complete. Please try again later."),{type:"error"})})},openPopup:function(){this.props.canEnroll&&T.default.isCompleting()===-1&&this.refs.popup.open()},hidePopup:function(){T.default.isCompleting()===-1&&this.refs.popup.close()},renderCourseDueDateLabel:function(e,t){return e?I18n.t("Today"):t?t<0?I18n.t({one:"Overdue 1 day",other:"Overdue %{count} days"},{count:Math.abs(t)}):I18n.t("day",{count:t}):""},showRemovalConfirmationPrompt:function(){this.refs.entry.confirmRemoval()},isComplete:function(){var e=this.props.learner,t=e.pendingApprovalItemCount||0,n=t>0;return"complete"===e.state&&!n}});e.exports=q},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(198),o=r(i),l=n(450),u=r(l),c=n(215),d=r(c),p=n(27),f=r(p),m=n(2560),h=r(m),g=n(20),v=r(g),_=n(12),y=n(3),b=s.default.createClass({displayName:"EditorOutlet",propTypes:{children:y.node},render:function(){return this.props.children}}),E=s.default.createClass({displayName:"LearnerList",statics:{EditorOutlet:b},propTypes:{program:n(57),learners:(0,y.arrayOf)(n(263)),canEnroll:y.bool,canUnenroll:y.bool,canUpdate:y.bool,onUnenroll:y.func,search:y.string,children:y.node},getDefaultProps:function(){return{learners:[]}},render:function(){var e=this.props,t=e.learners,n=e.program,r=e.canUnenroll,a=u.default.ColumnGroup,i=u.default.Column,l=u.default.Body,c=(0,o.default)(this.props.children,b);return s.default.createElement("div",{className:"enrollment-list"},s.default.createElement(u.default,null,s.default.createElement(a,{mobileClassNames:"hidden"},s.default.createElement(i,{sortParam:"name"},I18n.t("Name")),s.default.createElement(i,{sortParam:"progress"},I18n.t("Progress")),(0,v.default)("time_spent_in_programs")&&s.default.createElement(i,{sortable:!1},s.default.createElement(d.default,{label:I18n.t("as of yesterday")},s.default.createElement("span",{"aria-label":"Time spent (as of yesterday)",children:I18n.t("Time Spent")}))),(0,v.default)("learn_program_due_date")&&n.expires&&s.default.createElement(i,{sortParam:"renewDate"},I18n.t("Expires")),(0,v.default)("learn_program_due_date")&&s.default.createElement(i,{sortParam:"dueDate"},I18n.t("Program Due Date")),s.default.createElement(i,{sortParam:"courseDueDate"},I18n.t("Current Course Due Date")),s.default.createElement(i,{className:"sortable-table__th--icon",sortable:!1},r&&s.default.createElement(f.default,{children:I18n.t("Remove Enrollment")}))),s.default.createElement(l,null,c,t.map(this.renderLearner))),0===t.length&&!c&&s.default.createElement("div",{className:"border-b border-grey centered padding-m"},s.default.createElement("p",{className:"text-center dark-grey no-enrollments-message"},this.props.search?I18n.t("There are no learners matching your criteria."):I18n.t("You haven't invited any learners yet."))))},renderLearner:function(e){var t=this.props,n=t.program,r=t.canEnroll,a=t.canUnenroll,i=t.canUpdate,o=t.onUnenroll,l=a&&e.state!==_.PROGRAM_STATUS_COMPLETE;return s.default.createElement(h.default,{key:e.id,program:n,learner:e,canEnroll:r,canUnenroll:l,canUpdate:i,onUnenroll:o})}});e.exports=E},function(e,t,n){"use strict";var r=n(1),a=n(263),s=n(52),i=n(366),o=n(2561),l=n(2559),u=n(20),c=n(3),d=c.string,p=c.func,f=c.bool,m=c.arrayOf,h=c.shape,g=r.createClass({displayName:"View",propTypes:{program:n(57),learners:m(a),searchResults:m(n(42)),onSearch:p,search:d,sort:d,onEnroll:p,onUnenroll:p,isEnrolling:f,isLoading:f,permissions:h({program:h({enrollLearners:f,unenrollLearners:f,exportProgram:f,update:f})})},getInitialState:function(){return{editorVisible:!1}},render:function(){var e=this.props,t=e.learners,n=e.program,a=e.permissions,c=e.onEnroll,d=e.onUnenroll,p=e.isEnrolling,f=e.onSearch,m=e.searchResults,h=e.search,g=e.sort,v=e.isLoading,_=3;return u("time_spent_in_programs")&&(_+=1),u("learn_program_due_date")&&(_+=1,n.expires&&(_+=1)),_=""+_,r.createElement("div",{className:"large-content-area--padded centered","data-capybara":"learners_area"},r.createElement("div",{className:"sortable-table-header--first-item"},r.createElement("h2",{className:"margin-t-xs margin-b-s left"},I18n.t("All Learners")),r.createElement(l,{programId:n.id,canExport:a.program.exportProgram,canEnroll:a.program.enrollLearners,canUnenroll:a.program.unenrollLearners,onEnroll:this.launchEditor,hasEnrollments:t.length>0&&!v,sort:g})),r.createElement("div",{className:"left indigo"},r.createElement(s,{searchTerm:h,placeholderText:I18n.t("Search for enrolled learners")})),r.createElement(o,{program:n,learners:t,canEnroll:a.program.enrollLearners,canUnenroll:a.program.unenrollLearners,canUpdate:a.program.update,onUnenroll:d,search:h},this.state.editorVisible&&r.createElement(o.EditorOutlet,null,r.createElement(i,{searchResults:m,searchMemberMessage:I18n.t("Already In Program"),isLoading:p,onSearch:f,onEnroll:c,onCancel:this.closeEditor,searchColSpan:_}))))},launchEditor:function(){this.setState({editorVisible:!0})},closeEditor:function(){this.setState({editorVisible:!1})}});e.exports=g},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(53),i=n(19),o=n(4),l=o.isEqual,u=n(109),c=n(751),d=n(263),p=n(2562),f=n(29),m=n(25),h=n(448),g=n(3),v=g.string,_=g.bool,y=g.arrayOf,b=g.shape,E=r.createClass({displayName:"Learners",mixins:[s(function(e){c.fetchNext(e.params.programId,e.query.sort,e.query.search)})],propTypes:{program:n(57),learners:y(d),isLoading:_,isEnrolling:_,params:b({programId:v}),query:b({sort:v,search:v}),searchResults:y(n(42)),permissions:b({program:b({enrollLearners:_,unenrollLearners:_,exportProgram:_})})},shouldComponentUpdate:function(e){return!e.isLoading},render:function(){if(!f("user_view"))return r.createElement(h,null);var e=this.props,t=e.program,n=e.query,a=e.learners,s=e.permissions,i=e.isEnrolling,o=e.searchResults,l=e.isLoading;return r.createElement(p,{program:t,learners:a,permissions:s,searchResults:o,search:n.search,sort:n.sort,onSearch:this.search,onEnroll:this.enroll,onUnenroll:this.unenroll,isEnrolling:i,isLoading:l})},enroll:function(e){var t=this.props.params.programId,n=this.props.query,r=n.sort,a=n.search;c.enroll(t,e,r,a).then(null,function(){i(I18n.t("Oh Snap! We were unable to add this learner. Please try again later."),{type:"error"})})},unenroll:function(e){var t=this.props.params.programId;c.unenroll(t,e).then(null,function(){i(I18n.t("Oh Snap! We were unable to remove this learner. Please try again later."),{type:"error"})})},search:function(e){var t=this.props.params.programId;u.searchInProgram(e,t)}});e.exports=a({type:E,asyncProps:{learners:{setup:function(e){c.addChangeListener(e)},fetch:function(e){if(!f("user_view"))return m.resolve([]);var t=e.query,n=e.params.programId;return c.fetch(n,t.sort,t.search)},shouldRefetch:function(e,t){return!l(e.query,t.query)},get:function(e){var t=e.query,n=e.params.programId;return c.getAll(n,t.sort,t.search)},teardown:function(e){c.removeChangeListener(e)}},isEnrolling:{get:function(){return c.isEnrolling()}},searchResults:{setup:function(e){u.addChangeListener(e)},get:function(e){var t=e.params.programId;return u.getFoundInProgram(t)},teardown:function(e){u.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"react.author.program.learners",path:"",parent:"react.author.program",default:!0,ember:{parentPath:["author","react.author.program"],leaf:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(22),u=r(l),c=n(238),d=r(c),p=n(59),f=o.default.createClass({displayName:"Placement",propTypes:{params:s.default.shape({placementId:s.default.string,programId:s.default.string}),ltiResource:p.LtiResourceSchema,isLoading:s.default.bool},render:function(){return o.default.createElement(p.LtiResourceIframe,{ltiResource:this.props.ltiResource,isLoading:this.props.isLoading})}});t.default=(0,u.default)({type:f,asyncProps:{ltiResource:{fetch:function(e){return(0,d.default)("author",e.params.placementId,{program_id:e.params.programId})},shouldRefetch:function(e,t){return e.params.placementId!==t.params.placementId}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"react.author.program.placement",parent:"react.author.program",path:"placement/:placementId"}},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(263),perform:function(e,t){return a({url:"/api/author/programs/"+e+"/learners/"+t,type:"DELETE"})}})},function(e,t,n){"use strict";var r=n(7),a=n(8);e.exports=a({schema:n(263),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({url:t.nextPageURL||"/api/author/programs/"+e+"/learners",data:t.data})},parse:function(e,t){return t.learners.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(7),s=r(a),i=n(8),o=r(i),l=n(40),u=r(l),c=n(263),d=r(c);e.exports=(0,o.default)({schema:d.default,perform:function(e,t,n){return(0,s.default)({url:"/api/author/programs/"+e+"/learners/"+t,type:"PATCH",data:{enrollments:[(0,u.default)(n)]}})},parse:function(e,t){var n=t.learners;return e(n[0])}})},function(e,t,n){"use strict";function r(e){return{id:e.id,name:e.name,type:e.type,usersCount:e.usersCount}}var a=n(25),s=n(21),i=n(95),o=n(7),l=n(118),u=n(44),c=n(1473),d=n(379),p=n(3186),f=u(function(e,t,n,r){var a={};return n&&(a.sort=n),r&&(a.search=r),p.performWithoutParsing(t,{nextPageURL:e,data:a})}),m=s({displayName:"ProgramGroupEnrollmentStore",schema:n(51),initialize:function(){this.trackableAjax=o.use(l(this.emitChange)),this.transientsCache=i(this.emitChange,{displayName:"programGroupStore__transients",schema:n(51)})},clear:function(){this.transientsCache.clear()},fetch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return f.findFirstPage(e,n,r).then(function(a){t.cache.setCollection([e,n,r],p.parse(a)),t.transientsCache.setCollection([e],[])})},fetchNext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f.hasMorePages()&&f.findNextPage(e,n,r).then(function(a){t.cache.addToCollection([e,n,r],p.parse(a)),t.transientsCache.setCollection([e],[])})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.cache.getCollection([e,t,n]),a=this.transientsCache.getCollection([e]);return c([r,a])},enroll:function(e,t){var n=this;return this.trackableAjax({url:"/api/author/programs/"+e+"/groups",type:"POST",data:{enrollments:t.map(function(e){return{group_id:e}})}}).then(function(){return a.all(t.map(function(e){return d(e)}))}).then(function(t){n.transientsCache.addToCollection([e],t.map(function(e){return r(e)}))})},isEnrolling:function(){return this.trackableAjax.hasPendingRequests()},hasEnrollment:function(e,t){return this.getAll(e).some(function(e){return e.id===t})},unenroll:function(e,t){var n=this;return this.cache.transaction(function(){return n.cache.remove(t),n.transientsCache.transaction(function(){return n.transientsCache.remove(t),o({url:"/api/author/programs/"+e+"/groups/"+t,type:"DELETE"})})})},updateGroups:function(e,t,n,r){var a=this.cache.getCollection([e,t,n]),s=[];if(a.map(function(e){var t=r.filter(function(t){return t.result.id===e.id});0!==t.length&&(e.relevance=t[0].relevance,r=r.filter(function(e){return e.result.id!==t[0].result.id})),s.push(e)}),r.length>0)for(var i=0;i<r.length;i++)s.push(r[i].result);this.cache.setCollection([e,t,n],s)}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(2577),s=n(22),i=n(461),o=n(3261),l=n(3266),u=n(3),c=u.object,d=u.shape,p=u.string,f=r.createClass({displayName:"AuthorReportWithFilters",propTypes:{filters:i,stagedFilters:i,selectedItems:i,allowedFilters:o,filterState:l,params:d({reportId:p}),query:d({hideDaily:p}),media:c},getDefaultProps:function(){return{data:{}}},render:function(){return r.createElement(a,{reportId:this.props.params.reportId,query:this.props.query,filters:this.props.filters,stagedFilters:this.props.stagedFilters,selectedItems:this.props.selectedItems,allowedFilters:this.props.allowedFilters,filterState:this.props.filterState,media:this.props.media})}});e.exports=s({type:f,blocking:!0,asyncProps:n(2572)})},function(e,t,n){"use strict";var r=n(640);e.exports={allowedFilters:{fetch:function(){return r.fetchAllowedFilters()},get:function(e){return r.getAllowedFilters(e.params.reportId)},setup:function(e){r.addChangeListener(e)},teardown:function(e){r.removeChangeListener(e)}},filters:{get:function(){return r.getActive()},setup:function(e){r.addChangeListener(e)},teardown:function(e){r.removeChangeListener(e)}},filterState:{get:function(){return r.getFilterState()},setup:function(e){r.addChangeListener(e)},teardown:function(e){r.removeChangeListener(e)}},stagedFilters:{get:function(){return{group:r.getStaged("group"),program:r.getStaged("program"),course:r.getStaged("course"),live_training:r.getStaged("live_training"),type:r.getStaged("type"),tag:r.getStaged("tag"),team:r.getStaged("team"),learner:r.getStaged("learner")}},setup:function(e){r.setStage(r.getActive("group"),"group"),r.setStage(r.getActive("program"),"program"),r.setStage(r.getActive("course"),"course"),r.setStage(r.getActive("live_training"),"live_training"),r.setStage(r.getActive("type"),"type"),r.setStage(r.getActive("tag"),"tag"),r.setStage(r.getActive("team"),"team"),r.setStage(r.getActive("learner"),"learner"),
r.addChangeListener(e)},teardown:function(e){r.removeChangeListener(e)}},selectedItems:{get:function(){return r.getSelected()},setup:function(e){r.addChangeListener(e)},teardown:function(e){r.removeChangeListener(e)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(54),u=r(l),c=n(13),d=r(c),p=n(5),f=n(102),m=r(f),h=n(2574),g=r(h),v=n(2585);t.default=o.default.createClass({displayName:"ReportHeader",propTypes:{selected:s.default.string.isRequired,titles:s.default.arrayOf(s.default.object).isRequired,query:s.default.object},getDefaultProps:function(){return{titles:[],selected:""}},render:function(){return o.default.createElement("div",null,o.default.createElement(m.default,{type:"report",showBreadcrumbOnMobile:!0},o.default.createElement(u.default,{name:"layout--item-header__breadcrumb"},o.default.createElement(d.default,{to:"admin.insights",className:"no-link-style dark-grey",queryParams:this.props.query},I18n.t("Back to insights"))),o.default.createElement(u.default,{name:"layout--item-header__details"},o.default.createElement(p.Icon,{className:"layout--item-header__icon layout--item-header__icon--large gs-diver-head"}),o.default.createElement("h1",{className:"report-header__title","data-capybara":"report_title"},o.default.createElement(g.default,{options:this.props.titles,selected:this.props.selected,onChange:v.routeToReport})))))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(64),i=n(60);e.exports=a.createClass({displayName:"ReportSelector",propTypes:{onChange:r.func.isRequired,options:r.arrayOf(r.object),selected:r.string},getDefaultProps:function(){return{options:[]}},renderOptions:function(e){return e.map(function(e){return a.createElement(i,{key:e.reportId,value:e.reportId,className:"item-label",label:e.title})})},render:function(){return a.createElement(s,{selectedValue:this.props.selected,onChange:this.props.onChange},this.renderOptions(this.props.options))}})},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(1459),i=n(2576),o=n(133),l=n(50),u=l.Table,c=l.Thead,d=l.Tbody,p=l.Tr,f=l.Th,m=l.Td,h=n(22),g=n(461),v=n(114),_=n(20),y=n(53),b=n(1317),E=n(4),C=E.extend,I=E.isEqual,T=E.includes,N=20,S=function(e){return b.forTableReport(e)||e.filters},x=a.createClass({displayName:"ReportTable",mixins:[y(function(e,t,n){var r=s.fetchNext(e.reportId,S(e)),a=t.currentPage;a*N>=e.data.length&&!r||n.setState({currentPage:a+1})})],propTypes:{isLoading:r.bool,reportId:r.string,config:r.object.isRequired,data:r.arrayOf(r.object).isRequired,query:r.object,filters:g,media:r.object,children:r.any},getDefaultProps:function(){return{config:{},data:[]}},getInitialState:function(){return{currentPage:1}},paginatedData:function(){return this.props.data.slice(0,this.state.currentPage*N)},_resetCurrentPage:function(){this.setState({currentPage:1})},renderHeaderRow:function(e,t){return a.createElement(p,{mobileClassNames:"pure-g"},this.renderHeaderColumns(e,t))},renderHeaderColumns:function(e,t){return e.map(function(e,n){return a.createElement(f,{key:"th-"+e.title,sortParam:t[n].attribute,className:e.className,mobileClassNames:e.mobileClassNames,sortable:e.sortable},e.title)})},renderRows:function(e,t){var n=this;return e.map(function(e,r){return a.createElement(p,{key:"tr-"+r},n.renderColumns(e,t))})},renderColumns:function(e,t){var n=this;return t.map(function(t,r){var s=e[t.attribute],i="function"==typeof t.format?t.format.call(n,s,e):s,o="function"==typeof t.className?t.className.call(n,t.attribute,e):t.className;return a.createElement(m,{key:"td-"+r,className:o,mobileClassNames:t.mobileClassNames},i)})},renderLoading:function(){return a.createElement("div",{className:"loader-container"},a.createElement("div",{className:"loader-large loader-7 margin-b-xl"}))},renderNoDataMessage:function(){var e=this.props.data.length>0;return e?null:a.createElement("div",{ref:"noDataMsg",className:"border-b border-grey centered padding-m"},a.createElement("p",{className:"text-center dark-grey reports-table__no-data-message"},I18n.t("There are no data for the selected date range")))},renderExportBtn:function(){if(this.props.media.mobile||v.isMobile())return null;var e=this.props.reportId,t=S(this.props),n=C({id:e},s.getUrlParams(t));return a.createElement(o,{className:"right btn reports-table__export margin-b-s",type:"report",info:n,children:I18n.t("Export CSV"),capybara:"export_csv"})},getLearnableTypes:function(){return["CourseTemplate","LiveCourse"]},filterForLearnableTypes:function(e){if(!_("reports_with_ilts"))return e;if(null===e)return null;if("SignInReport"===this.props.reportId)return e;var t=this.getLearnableTypes();return e.filter(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.appliesTo,r=void 0===n?[]:n;return r.filter(function(e){return T(t,e)}).length===t.length})},applicableHeaders:function(){return this.filterForLearnableTypes(this.props.config.headers)},applicableFields:function(){return this.filterForLearnableTypes(this.props.config.fields)},render:function(){return a.createElement("div",{className:"reports-table large-content-area--padded","data-capybara":"reports-table"},a.createElement(i,{ref:"header"},this.renderExportBtn()),a.createElement("div",{className:"clearfix"},this.props.children),a.createElement(u,{className:"reports-table__table"},a.createElement(c,null,this.renderHeaderRow(this.applicableHeaders(),this.applicableFields())),a.createElement(d,null,this.renderRows(this.paginatedData(),this.applicableFields()))),this.props.isLoading?this.renderLoading():this.renderNoDataMessage())}});e.exports=h({type:x,asyncProps:{data:{fetch:function(e){return s.fetch(e.reportId,S(e))},get:function(e){return s.get(e.reportId,S(e))},shouldRefetch:function(e,t){return!I(e.params,t.params)||!I(e.query,t.query)||e.reportId!==t.reportId},setup:function(e){s.addChangeListener(e)},teardown:function(e){s.removeChangeListener(e)}}}}),e.exports.bareClass=x},function(e,t,n){"use strict";var r=n(2),a=n(1),s=a.createClass({displayName:"ReportTableHeader",propTypes:{title:r.string,children:r.any},getDefaultProps:function(){return{title:""}},render:function(){return a.createElement("div",{className:"clearfix"},this.props.title&&a.createElement("h2",{className:"left medium"},this.props.title),this.props.children)}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2581),o=r(i),l=n(2573),u=r(l),c=n(2575),d=r(c),p=n(1373),f=r(p),m=n(461),h=r(m),g=n(2);e.exports=s.default.createClass({displayName:"ReportView",propTypes:{reportId:g.string.isRequired,query:g.object,filters:h.default,stagedFilters:h.default,selectedItems:h.default,filterState:g.any,allowedFilters:g.array,media:g.object},getInitialState:function(){return{config:o.default.empty}},componentWillReceiveProps:function(e){this.getReportConfigFromUrl(e)},componentWillMount:function(){this.getReportConfigFromUrl(this.props)},getReportConfigFromUrl:function(e){this.setState({config:o.default.for(e.reportId)})},renderChart:function(){var e=this.props.query.hideDaily;return this.state.config.chart?this.state.config.chart({reportId:this.props.reportId,config:this.state.config,filters:this.props.filters,query:this.props.query,showDaily:!e}):void 0},renderFilterBar:function(){return s.default.createElement(f.default,{config:this.state.config,query:this.props.query,filters:this.props.filters,stagedFilters:this.props.stagedFilters,selectedItems:this.props.selectedItems,reportId:this.props.reportId,filterState:this.props.filterState,allowedFilters:this.props.allowedFilters,media:this.props.media})},render:function(){return s.default.createElement("div",null,s.default.createElement(u.default,{selected:this.props.reportId,titles:o.default.arrayOnly("title"),media:this.props.media,query:this.props.query}),this.renderFilterBar(),this.renderChart(),s.default.createElement(d.default,{reportId:this.props.reportId,config:this.state.config,filters:this.props.filters,query:this.props.query,media:this.props.media}))}})},function(e,t,n){"use strict";var r=n(4),a=r.isEqual,s=n(2),i=n(1),o=n(2580),l=n(1315),u=n(2579),c=n(620),d=n(30),p=n(22),f=n(461),m=120,h=i.createClass({displayName:"SignInChart",mixins:[o],aggregator:l,d3Renderer:u,propTypes:{isLoading:s.bool,data:s.arrayOf(s.object).isRequired,reportId:s.string,query:s.object,filters:f,children:s.any,showDaily:s.bool},getDefaultProps:function(){return{data:[],showDaily:!0}},componentWillReceiveProps:function(){this.setState({range:d.getQueryItem("range")})},componentDidUpdate:function(e){this.onlyShowLineChanged(e)?this.d3Renderer.toggleLine(this.props.showDaily):(this.clearChart(),this.drawChart())},componentWillUnmount:function(){this.clearChart()},getInitialState:function(){return{range:null}},componentDidMount:function(){var e=d.getQueryItem("range");e&&e!==this.state.range&&this.setState({range:e})},clearChart:function(){this.d3Renderer.clear()},drawChart:function(){this.props.isLoading||this.d3Renderer.draw(this.props.data,this.shouldDrawDailyValues())},onlyShowLineChanged:function(e){return a(e.data,this.props.data)&&this.props.showDaily!==e.showDaily},shouldComponentUpdate:function(e,t){return this.state.range!==t.range||this.props.isLoading!==e.isLoading||this.props.showDaily!==e.showDaily||!a(e.data,this.props.data)},handleToggleDailyValues:function(e){d.updateQuery({hideDaily:e.target.checked?void 0:"true"})},shouldDrawDailyValues:function(){return this.props.showDaily&&this.shouldShowDailyValuesToggle()},shouldShowDailyValuesToggle:function(){return this.aggregator.shouldAggregate(this.props.data)&&this.props.data.length<m},renderNoDataMessage:function(){var e=this.props.data.some(function(e){return!!e.count});return e?null:i.createElement("div",{ref:"noDataMsg",className:"text-center dark-grey reports-chart__no-data-message"},I18n.t("There are no user sign-ins for the selected date range"))},renderToggleDailyValuesControl:function(){return i.createElement(c,{ref:"dailyValues",editable:!0,checked:this.props.showDaily,onChange:this.handleToggleDailyValues},I18n.t("Show daily values:"))},renderLoading:function(){return i.createElement("div",{className:"loader-container reports-chart__loader-container"},i.createElement("div",{className:"loader-large loader-7"}))},render:function(){return i.createElement("div",{className:"reports-chart","data-capybara":"reports-chart"},this.props.isLoading?this.renderLoading():this.renderNoDataMessage(),i.createElement("div",{className:"reports-chart__container","data-capybara":"reports-chart-container"}),i.createElement("div",{className:"reports-chart__options","data-capybara":"reports-chart-options"},i.createElement("div",{className:"reports-chart__toggle-options left"},this.shouldShowDailyValuesToggle()&&this.renderToggleDailyValuesControl()),this.props.children))}});e.exports=p({type:h,asyncProps:n(2587)}),e.exports.THRESHOLD_TO_DRAW_LINE_CHART=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(14),s=r(a),i=n(15),o=r(i),l=n(1),u=r(l),c=n(544),d=n(47),p=r(d),f=n(11),m=r(f),h=n(56),g=n(71),v=n(89),_=n(75),y=n(171),b=n(1201),E=n(258),C=n(1198),I=n(3322),T=r(I),N=n(1315),S=r(N),x=n(48),A=.1,k=1e3,w=40,R=40,O=60,P=60,L={top:w,right:P,bottom:R,left:O},M=888,D=475,U=M/D,F=".reports-chart__container",q=".reports-chart__tip",B="reports-chart__line-bg";e.exports=function(){function e(t){(0,s.default)(this,e),this.xAttr="date",this.yAttr="count",this.aggregator=S.default,this.el=t}return(0,o.default)(e,[{key:"draw",value:function(e,t){this.clear(),this._drawSvg();var n=e.filter(function(e){return!!e.count});n.length>0&&(this._drawBarChart(e),this._drawLineChart(e,t))}},{key:"toggleLine",value:function(e){var t=(0,h.select)("."+B);e?t.attr("mask","url(#reports-chart__line-mask)").attr("fill","url(#reports-chart__line-gradient)"):t.attr("mask",null).attr("fill","none")}},{key:"clear",value:function(){(0,p.default)(F,this.el).empty(),(0,p.default)(q).remove()}},{key:"_drawSvg",value:function(){var e=this._getLayout(),t=(0,h.select)(F),n=t.append("svg").attr("viewBox","0 0 "+M+" "+D).attr("preserveAspectRatio","xMidYMid meet").attr("width",e.width).attr("height",e.height);this._drawDefs(n);var r=n.append("g").attr("transform","translate("+e.margin.left+","+e.margin.top+")");return r}},{key:"_drawDefs",value:function(e){var t=e.append("defs");return t=this._drawGradientDef(t,"reports-chart__bar-gradient--active","reports-chart__bar-stop--top--active","reports-chart__bar-stop--bottom--active"),t=this._drawGradientDef(t,"reports-chart__line-gradient","reports-chart__line-stop--top","reports-chart__line-stop--bottom")}},{key:"_getMaxRange",value:function(e,t){return Math.round(1.1*(0,g.max)(e,function(e){return e[t]}))}},{key:"_drawGradientDef",value:function(e,t,n,r){var a=e.append("linearGradient").attr("id",t).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");return a.append("stop").attr("offset","0%").attr("class",n),a.append("stop").attr("offset","100%").attr("class",r),e}},{key:"_getLayout",value:function(){var e=(0,p.default)(F,this.el).innerWidth(),t=e/U,n=M-O-P,r=D-w-R;return{margin:L,height:t,innerHeight:r,width:e,innerWidth:n}}},{key:"_drawBarChart",value:function(e){var t,n,r,a,s,i,o,l=this.xAttr,u=this.yAttr,c=this._getLayout(),d=(0,h.select)((0,p.default)(".reports-chart__container > svg > g",this.el)[0]),f=this._getMaxRange(e,u),m=this._drawYAxis(d,e,c.innerHeight,f),g=function(e){return m(e[u])},v=function(e){return c.innerHeight-m(e[u])};this.aggregator.shouldAggregate(e)?(u="median",s=this.aggregator.aggregate(e,c.innerWidth),i=this._genTimeScale(c.innerWidth,s),e=s,t=function(e){return i(e[l])},n=function(e){return i(e.period_end_date)-i(e.period_start_date)},r=i.domain()[0],a=i.domain()[1]):(o=e.map(function(e){return e[l]}),i=this._genXScaleForBars(c.innerWidth,o),t=function(e){return i(e[l])},n=i.bandwidth(),r=o[0],a=o[o.length-1]),this._drawXAxis(d,c.innerWidth,c.innerHeight,r,a);var _=this._drawBars(d,e,t,g,n,c.innerHeight,v),y=this._genToolTipFn(u);this._bindBarEvents(d,_,y)}},{key:"_drawLineChart",value:function(e,t){var n=this.xAttr,r=this.yAttr,a=this._getLayout(),s=this.aggregator.aggregate(e,a.innerWidth),i=this._genTimeScale(a.innerWidth,s),o=this._getMaxRange(e,r),l=this._genYScale(a.innerHeight,o),u=function(e){return i(e[n])},c=function(e){return l(e[r])};this._drawLine(e,t,a.innerWidth,a.innerHeight,u,c)}},{key:"_drawLine",value:function(e,t,n,r,a,s){var i=(0,v.line)().curve(v.curveMonotoneX).x(a).y(s),o=(0,h.select)((0,p.default)(".reports-chart__container defs",this.el)[0]),l=o.append("mask").attr("id","reports-chart__line-mask"),u=l.append("path").datum(e).attr("class","reports-chart__line").attr("d",i);this._drawLineBackground(t,n,r);var c=u.node().getTotalLength();return u.attr("stroke-dasharray",c+" "+c).attr("stroke-dashoffset",c).transition().duration(1500).ease(C.easeLinear).attr("stroke-dashoffset",0),u}},{key:"_drawLineBackground",value:function(e,t,n){var r=(0,h.select)((0,p.default)(".reports-chart__container > svg > g",this.el)[0]);r.append("rect").attr("x","0").attr("y","0").attr("width",t).attr("height",n).attr("class",B),this.toggleLine(e)}},{key:"_genTimeScale",value:function(e,t){var n=t[0].period_start_date,r=t[t.length-1].period_end_date;return(0,_.scaleTime)().domain([n,r]).range([0,e])}},{key:"_genXScaleForBars",value:function(e,t){return(0,_.scaleBand)().domain(t).rangeRound([0,e],A,0)}},{key:"_genYScale",value:function(e,t){return(0,_.scaleLinear)().domain([0,t]).range([e,0])}},{key:"_drawXAxis",value:function(e,t,n,r,a){var s=25,i=(0,b.timeFormat)("%e %b %Y"),o=e.append("g").attr("class","reports-chart__xaxis").attr("transform","translate(0,"+(n+s)+")");o.append("text").attr("class","reports-chart__xaxis__min").text(i(r)),o.append("text").attr("class","reports-chart__xaxis__max").attr("transform","translate("+t+", 0)").text(i(a))}},{key:"_drawYAxis",value:function(e,t,n,r){var a=(0,y.format)(","),s=Math.round(r/2),i=this._genYScale(n,r),o=(0,E.axisLeft)().scale(i).tickValues([0,s,r]).tickFormat(a);return e.append("g").attr("class","reports-chart__yaxis").call(o).append("text").attr("transform","translate(-32, 220) rotate(-90)").text(I18n.t("Users")),i}},{key:"_drawBars",value:function(e,t,n,r,a,s,i){var o=e.selectAll(".reports-chart__bar").data(t).enter().append("rect").attr("class","reports-chart__bar").attr("x",n).attr("y",s).attr("fill",x.GREY).attr("width",a).attr("height",0).attr("data-capybara","reports-chart__bar");return o.transition().duration(1e3).delay(function(e,t){return 70*t}).ease(C.easeBounce).attr("y",r).attr("height",i),o}},{key:"_genToolTipFn",value:function(e){function t(e){return e.hasOwnProperty("total")}function n(e){return t(e)?(0,m.default)(e.first_date).format("MMM D YYYY")+" - "+(0,m.default)(e.last_date).format("MMM D YYYY"):(0,m.default)(e.date).format("MMM D")}function r(e,t){var n=e>=k?a(e):e;return u.default.createElement("div",{className:"reports-chart__tip__cell"},u.default.createElement("div",{className:"reports-chart__tip__value"},n),u.default.createElement("div",{className:"reports-chart__tip__label"},t))}var a=(0,y.format)(".2s");return function(a){return(0,c.renderToStaticMarkup)(u.default.createElement("div",null,u.default.createElement("header",{className:"reports-chart__tip__header"},n(a)),u.default.createElement("div",{className:"reports-chart__tip__table"},r(t(a)?a.total:a[e],I18n.t("Total")),t(a)?r(a[e].toFixed(0),I18n.t("Avg / Day")):"")))}}},{key:"_bindBarEvents",value:function(e,t,n){function r(e,n){t.attr("fill",x.GREY),(0,h.select)(this).attr("fill","url(#reports-chart__bar-gradient--active)"),s.show.call(this,e,n)}function a(e,t){(0,h.select)(this).attr("fill",x.GREY),s.hide.call(this,e,t)}var s=void 0;s=(0,T.default)().attr("class","reports-chart__tip").offset([-10,0]).html(n),e.call(s),t.on("mouseover",r).on("mouseout",a).on("click",r)}}]),e}()},function(e,t,n){"use strict";var r=n(23),a=n(66),s=n(47);e.exports={componentDidMount:function(){this.d3Renderer=new this.d3Renderer(r.findDOMNode(this)),this.setupRerender(),this.drawChart()},componentWillUnmount:function(){this.teardownRerender()},setupRerender:function(){var e=this;s(window).on("resize",a(function(){e.rerender()},200))},teardownRerender:function(){s(window).off("resize")},rerender:function(){this.forceUpdate()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(4),s=n(29),i=r(s),o=n(1),l=r(o),u=n(120),c=r(u),d=n(2589),p=r(d),f=n(2590),m=r(f),h=n(2591),g=r(h),v=n(2588),_=r(v),y=n(227),b=n(20),E=r(b),C=n(880),I=n(13),T=r(I),N=n(94),S=r(N),x=["CourseTemplate"],A=["LiveCourse"],k=[].concat(x,A),w=function(e,t){return(0,i.default)("user_view")?l.default.createElement(T.default,{to:"author.learner",params:[{id:t.userId}]},e):e},R=function(e,t){return(0,E.default)("learn_course_archive")&&t&&t.archivedAt?l.default.createElement(S.default,null,l.default.createElement(S.default.Trigger,null,l.default.createElement("span",{className:"archived"},e)),l.default.createElement(S.default.Content,{dark:!0},l.default.createElement("p",{className:"warning-message"},I18n.t("This course is currently archived.")))):(0,i.default)("course_template_list_titles")?l.default.createElement(T.default,{to:"author.course",params:[{id:t.courseId}]},e):e},O=function(e,t){var n="CourseTemplate"===t.learnableType?"author.course":"author.live-course";return(0,E.default)("learn_course_archive")&&t&&t.archivedAt?l.default.createElement(S.default,null,l.default.createElement(S.default.Trigger,null,l.default.createElement("span",{className:"archived"},e)),l.default.createElement(S.default.Content,{dark:!0},l.default.createElement("p",{className:"warning-message"},I18n.t("This course is currently archived.")))):(0,i.default)("course_template_list_titles")&&(0,i.default)("live_course_view")?l.default.createElement(T.default,{to:n,params:[{id:t.learnableId}]},e):e},P=function(e,t){return t[e]<new Date?"pink":""},L=function(){var e={attribute:"name",format:w,mobileClassNames:"pure-u-1-2",appliesTo:k},t=(0,E.default)("reports_with_ilts")?{attribute:"title",format:O,mobileClassNames:"pure-u-1-2",appliesTo:k}:{attribute:"course",format:R,mobileClassNames:"pure-u-1-2",appliesTo:k},r={title:I18n.t("Name"),className:"th-20",mobileClassNames:"pure-u-1-2",appliesTo:k},a=(0,E.default)("reports_with_ilts")?{title:I18n.t("Title"),className:"th-20",mobileClassNames:"pure-u-1-2",appliesTo:k}:{title:I18n.t("Course"),className:"th-20",mobileClassNames:"pure-u-1-2",appliesTo:k},s={CompletedLearnersReport:{useRollingDates:!1,fields:[e,t,{attribute:"dueDate",format:function(e){return(0,c.default)(e,"fromNowDate")},mobileClassNames:"pure-u-1-5",className:_.default.classFor,appliesTo:x},{attribute:"completionDate",format:function(e){return(0,c.default)(e,"fromNowDate")},mobileClassNames:"pure-u-1-5",appliesTo:x},{attribute:"score",format:g.default,mobileClassNames:"pure-u-1-5",appliesTo:x},{attribute:"state",format:_.default.textFor,mobileClassNames:"pure-u-1-5",className:_.default.classFor,appliesTo:k},{attribute:"totalTime",format:m.default,mobileClassNames:"pure-u-1-5",appliesTo:x}],headers:[r,a,{title:I18n.t("Due Date"),className:"th-15",mobileClassNames:"pure-u-1-5",appliesTo:x},{title:I18n.t("Completion Date"),className:"th-15",mobileClassNames:"pure-u-1-5",appliesTo:x},{title:I18n.t("Score"),className:"th-10",mobileClassNames:"pure-u-1-5",appliesTo:x},{title:I18n.t("Status"),className:"th-10",mobileClassNames:"pure-u-1-5",appliesTo:k},{title:I18n.t("Time in Course"),className:"th-10",mobileClassNames:"pure-u-1-5",sortable:!1,appliesTo:x}],title:I18n.t("Completed Learners Report")},OverdueLearnersReport:{useRollingDates:!0,fields:[e,t,{attribute:"dueDate",format:function(e){return(0,c.default)(e,"fromNowDate")},mobileClassNames:"pure-u-1-3",className:"pink",appliesTo:x},{attribute:"state",format:_.default.textFor,mobileClassNames:"pure-u-1-3",className:_.default.classFor,appliesTo:k},{attribute:"totalTime",format:m.default,mobileClassNames:"pure-u-1-3",appliesTo:x}],headers:[r,a,{title:I18n.t("Due Date"),className:"th-15",mobileClassNames:"pure-u-1-3",appliesTo:x},{title:I18n.t("Status"),className:"th-15",mobileClassNames:"pure-u-1-3",appliesTo:k},{title:I18n.t("Time in Course"),className:"th-10",mobileClassNames:"pure-u-1-3",sortable:!1,appliesTo:x}],title:I18n.t("Overdue Learners Report")},IncompleteLearnersReport:{useRollingDates:!0,fields:[e,t,{attribute:"dueDate",format:function(e){return(0,c.default)(e,"fromNowDate")},mobileClassNames:"pure-u-1-4",className:P,appliesTo:x},{attribute:"state",format:_.default.textFor,mobileClassNames:"pure-u-1-4",className:_.default.classFor,appliesTo:k},{attribute:"totalTime",format:m.default,mobileClassNames:"pure-u-1-4",appliesTo:x},{attribute:"createdAt",format:function(e){return(0,c.default)(e,"fromNowDate")},mobileClassNames:"pure-u-1-4",appliesTo:k}],headers:[r,a,{title:I18n.t("Due Date"),className:"th-15",mobileClassNames:"pure-u-1-4",appliesTo:x},{title:I18n.t("Status"),className:"th-15",mobileClassNames:"pure-u-1-4",appliesTo:k},{title:I18n.t("Time in Course"),className:"th-15",mobileClassNames:"pure-u-1-4",sortable:!1,appliesTo:x},{title:I18n.t("Enrollment Date"),className:"th-15",mobileClassNames:"pure-u-1-4",appliesTo:k}],title:I18n.t("Incomplete Learners Report")},SignInReport:{useRollingDates:!1,chart:l.default.createFactory(n(2578)),fields:[{attribute:"date",format:function(e){return(0,c.default)(e,"date")},mobileClassNames:"pure-u-1-4"},{attribute:"count",format:g.default,mobileClassNames:"pure-u-1-4"},{attribute:"percent",format:p.default,mobileClassNames:"pure-u-1-4"},{attribute:"averageLength",format:m.default,mobileClassNames:"pure-u-1-4"}],headers:[{title:I18n.t("Date"),className:"th-50",mobileClassNames:"pure-u-1-4"},{title:I18n.t("Count"),className:"th-15",mobileClassNames:"pure-u-1-4"},{title:I18n.t("Percent"),className:"th-15",mobileClassNames:"pure-u-1-4"},{title:I18n.t("Average Length"),className:"th-20",mobileClassNames:"pure-u-1-4"}],title:I18n.t("Sign-In Report")}};return Object.keys(s).map(function(e){s[e].ranges=(0,y.getRanges)({includeCustom:!0,useRollingDates:s[e].useRollingDates,defaultValue:(0,C.defaultRangeFor)(e)})}),s},M={headers:[],fields:[],ranges:[]},D=function(e){return L()[e]||M},U=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=L();return Object.keys(r).reduce(function(e,n){return e[n]=t.reduce(function(e,t){return e[t]=r[n][t],e},{}),e},{})},F=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=U(t);return Object.keys(r).map(function(e){return(0,a.assign)({},r[e],{reportId:e})})};t.empty=M,t.for=D,t.only=U,t.arrayOnly=F},function(e,t,n){"use strict";var r=n(25),a=n(4),s=n(1480),i=n(640),o=n(473),l=n(1316),u=function(e,t,n,s){var i=s.fetcher,o=s.getter,l=s.setter,u=n.map(function(e){var n=o(e)||a.find(t,function(t){var n=t.id;return n===e});return n?r.resolve(n):i(e)});return r.all(u).then(function(t){var n=t.filter(function(e){return!!e});return l(n,e),n})},c=function(e,t){var n=Object.keys(e),r=Object.keys(t).map(function(e){return t[e].param});return n.filter(function(e){return!a.includes(r,e)})},d=function(e,t){return Object.keys(t).reduce(function(n,r){var a=t[r].param;return n[r]=e[a]?[].concat(e[a]):[],n},{})},p=function(e){return a.some(e,function(e){return e.length})},f=function(e,t){return a.some(e,function(e,n){var r=t[n].map(function(e){var t=e.id;return t});return!s(e,r)})};t.filterData={fetch:function(e){var t=e.params,n=e.query,s=Object.keys(l),m=t.reportId,h=a.assign({},i.getActive(),a.mapValues(o.getAll(m),function(e){return e?[{id:e}]:[]})),g=s.reduce(function(e,t){return e[t]=h[t]||[],e},{}),v=c(n,l).length>0,_=d(n,l);if(!v&&!p(_))return r.resolve(g);var y=v||f(_,g),b=s.map(function(e){if(y){var t=l[e].loadConfig;return u(e,g[e],_[e],t)}return r.resolve(g[e])});return y&&i.removeActive(),r.all(b).then(function(e){return e.reduce(function(e,t,n){return e[s[n]]=t,e},{})})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(2),l=o.array,u=o.oneOfType,c=o.shape,d=o.string,p=n(1480),f=n(37),m=n(30),h=n(22),g=n(2571),v=n(1316),_=n(473),y=i.createClass({displayName:"AuthorReport",mixins:[f({largerThanPhones:f.QUERY_LARGER_THAN_PHONES,mobile:f.QUERY_MOBILE})],propTypes:{filterData:c(Object.keys(v).reduce(function(e,t){return e[t]=l,e},{})),query:c(Object.keys(v).reduce(function(e,t){var n=v[t].param;return e[n]=u([d,l]),e},{}))},getQueryUpdates:function(){var e=this,t=Object.keys(v).reduce(function(t,n){var r=v[n],a=r.param,s=r.toQuery,i=e.props.query[a]?[].concat(e.props.query[a]):[],o=(e.props.filterData[n]||[]).map(function(e){return e.id});return p(i,o)||(t[a]=s(o)),t},{});return Object.keys(t).length>0?t:null},componentWillMount:function(){var e=this.getQueryUpdates();e&&m.updateQuery(e),_.initialize()},render:function(){return i.createElement(g,(0,s.default)({},this.props,{media:this.state.media}))}});e.exports=h({type:y,blocking:!0,asyncProps:n(2582)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),s=r(a);t.default={name:"react.author.report",path:"/author/reports/:reportId",loadOrder:2,layoutName:(0,s.default)("global_nav")?null:"admin",ember:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=i.default.get(e);Object.keys(t).forEach(function(e){null===t[e]&&delete t[e]});var n=(0,u.omit)(l.default.getQuery(),c.RANGE_KEYS),r=Object.assign({},n,t);l.default.replaceWith("react.author.report",{reportId:e},r)}Object.defineProperty(t,"__esModule",{value:!0}),t.routeToReport=a;var s=n(473),i=r(s),o=n(30),l=r(o),u=n(4),c=n(1458)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={currentReport:function(){var e=window.location.href.match(/author\/reports\/(.*?)(?:\?|$)/);return e&&e[1]}},e.exports=t.default},function(e,t,n){"use strict";var r=n(1459),a=n(1317),s=n(4),i=s.isEqual;e.exports={data:{fetch:function(e){var t=a.forChartReport(e)||e.filters;return r.fetch(e.reportId,t).then(function(e){return e.data})},shouldRefetch:function(e,t){return!i(e.params,t.params)||e.query.range!==t.query.range||e.query.start_date!==t.query.start_date||e.query.end_date!==t.query.end_date||e.reportId!==t.reportId}}}},function(e,t){"use strict";var n="upcase semi-bold",r=n+" pink",a=function(){return{on_time:{text:I18n.t("On Time"),className:n},early:{text:I18n.t("Early"),className:n},attended:{text:I18n.t("Attended"),className:n},late:{text:I18n.t("Late"),className:r},created:{text:I18n.t("Not Started"),className:r},registered:{text:I18n.t("Registered"),className:r},active:{text:I18n.t("Unfinished"),className:r},failed:{text:I18n.t("Failed"),className:r}}},s=function(e){return a()[e].text},i=function(e,t){var n,r=t[e];switch(e){case"due_date":r<t.completion_date&&(n="pink");break;case"state":n=a()[r].className}return n};t.textFor=s,t.classFor=i},function(e,t){"use strict";e.exports=function(e){return e+"%"}},function(e,t){"use strict";var n=3600,r=60,a=60;e.exports=function(e){e=parseInt(e,10);var t=Math.floor(e/n),s=Math.floor(e/r)%a,i=Math.floor(e)%r;return t<10&&(t="0"+t),s<10&&(s="0"+s),i<10&&(i="0"+i),t+":"+s+":"+i}},function(e,t){"use strict";e.exports=function(e){return e}},function(e,t,n){"use strict";var r=n(1),a=r.createClass({displayName:"AuthorReports",statics:{willTransitionTo:function(e){e.redirect("/author/reports/SignInReport")}},render:function(){return null}});e.exports=a},function(e,t){"use strict";e.exports={name:"react.author.reports",path:"/author/reports",loadOrder:1,ember:{parentPath:["author"],sink:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(272),s=r(a);e.exports=(0,s.default)({contextType:"task",contextRoute:"author.checkpoint"})},function(e,t){"use strict";e.exports={name:"author.checkpoint.learners.import.confirm",path:"/author/checkpoints/:contextId/learners/import/confirm"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(273),s=r(a),i=n(834),o=r(i),l=n(195);e.exports=(0,s.default)({contextType:"task",confirmRoute:"author.checkpoint.learners.import.confirm",uploadRoute:"author.checkpoint.learners.upload",cancelRoute:"author.checkpoint",contextual:!0,fetchContext:function(e){return(0,o.default)(e.params.contextId)},generateContextTitle:function(e){return(0,l.getDisplayTitle)(e)}})},function(e,t){"use strict";e.exports={name:"author.checkpoint.learners.import",path:"/author/checkpoints/:contextId/learners/import"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(22),o=r(i),l=n(308),u=r(l),c=n(19),d=r(c),p=n(13),f=r(p),m=n(834),h=r(m),g=n(195),v=n(106),_=r(v),y=(0,u.default)({contextType:"task",importRoute:"author.checkpoint.learners.import",cancelRoute:"author.checkpoint",getTitle:function(){return(0,g.getDisplayTitle)(this.props.task)},propTypes:{task:s.default.object}});t.default=(0,o.default)({type:(0,_.default)(y,function(e){return"import"===e.query.uploadType?I18n.t("Add Learners to %{taskTitle}",{taskTitle:(0,g.getDisplayTitle)(e.task)}):I18n.t("Remove Learners from %{taskTitle}",{taskTitle:(0,g.getDisplayTitle)(e.task)})}),blocking:!0,asyncProps:{task:{fetch:function(e){return(0,h.default)(e.params.contextId).then(null,function(){throw(0,d.default)(I18n.t("Checkpoint does not exist"),{type:"error"}),f.default.transitionTo("author.checkpoints"),o.default.AbortedError})}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.checkpoint.learners.upload",path:"/author/checkpoints/:contextId/learners/upload"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{
value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=r(m),g=n(82),v=r(g),_=n(116),y=r(_),b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"getSavingStatusText",value:function(){return this.props.isTaskDirty?I18n.t("Changes saved but not published"):I18n.t("All changes saved and published")}},{key:"render",value:function(){return f.default.createElement("div",null,f.default.createElement(y.default,null),f.default.createElement("div",{className:"cce-banner white padding-t-s padding-l-m border-none"},f.default.createElement("span",{className:"cce-banner__save-status"},this.getSavingStatusText()),f.default.createElement(v.default,{className:"cce-banner__menu-button padding-rl-xs",buttonClassName:"btn--reset",label:I18n.t("Close"),onClick:this.props.onGoBackToTask,icon:"x",iconClassName:"gs-half white gs-min-width"}),f.default.createElement("span",{className:"right margin-t-xxs cce-banner__action-buttons"},f.default.createElement("button",{type:"button",className:"btn dark secondary margin-rl-xxs",disabled:!this.props.isTaskDirty,onClick:this.props.onPublishTask},I18n.t("Publish Checkpoint")))))}}]),t}(f.default.Component);b.propTypes={task:n(85),onGoBackToTask:h.default.func,isTaskDirty:h.default.bool,onPublishTask:h.default.func},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=r(m),g=n(22),v=r(g),_=n(248),y=r(_),b=n(153),E=n(19),C=r(E),I=n(13),T=r(I),N=n(2600),S=r(N),x=n(284),A=n(1318),k=r(A),w=n(5),R=n(106),O=r(R),P=n(195),L=n(1462),M=r(L),D=n(138),U=n(386),F=r(U),q=n(238),B=r(q),j="task",H="instructor",G=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.goBackToTask=function(){T.default.transitionTo("author.checkpoint",r.props.task.id)},r.updateContent=function(e){k.default.updateTaskContent(r.props.task.id,e)},r.updateTitle=function(e){k.default.updateTask(r.props.task.id,{title:e})},r.requestMediaUpload=function(e){return k.default.requestMediaUpload(r.props.task.id,e)},r.createAttachment=function(e){return k.default.createAttachment(r.props.task.id,e)},r.reloadAttachments=function(e){k.default.reloadAttachments(r.props.task.id,e)},r.publishTask=function(){return k.default.publishChangesInTask(r.props.task.id)},r.handleFetchLtiResource=function(e){var t=r.props.task.id;return(0,B.default)("author",e,{checkpoint_id:t})},r.handleFetchLtiContent=function(e){var t=r.props.task.id;return F.default.fetch(e,j,t,H)},a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.task.id;D.LockActions.acquire({id:e,type:"Task",showToast:!0}).catch(function(){T.default.transitionTo("author.checkpoint",e)})}},{key:"componentWillUnmount",value:function(){var e=this.props.task.id;D.LockActions.release({id:e,type:"Task"})}},{key:"render",value:function(){var e=this.props.isLoading;return e?f.default.createElement(w.Loader,null):f.default.createElement("div",null,f.default.createElement(S.default,{task:this.props.task,onGoBackToTask:this.goBackToTask,isTaskDirty:this.props.isTaskDirty,onPublishTask:this.publishTask}),f.default.createElement("div",{className:"cce-content cce-content--centered white-bg"},f.default.createElement("div",{"data-capybara":"slide-editor-wrapper"},f.default.createElement(x.ContentEditor,{slide:this.props.task,attachmentStore:M.default,attachments:this.props.attachments,uploads:this.props.uploads,onTitleChange:this.updateTitle,onContentChange:this.updateContent,onRequestMediaUpload:this.requestMediaUpload,onUploadMedia:this.createAttachment,onCommentingStatusChange:Function.prototype,onReloadAttachments:this.reloadAttachments,titlePlaceholder:I18n.t("Untitled Checkpoint"),titleCentered:!0,fullWidth:!0,commentsHidden:!0,onFetchLtiResource:this.handleFetchLtiResource,onFetchLtiContent:this.handleFetchLtiContent}))))}}]),t}(f.default.Component);G.propTypes={isLoading:h.default.bool,task:n(85),attachments:h.default.arrayOf(n(33)),uploads:h.default.arrayOf(b.MediaUploadSchema),isTaskDirty:h.default.bool},e.exports=(0,v.default)({loadingPropName:"isLoading",type:(0,O.default)(G,function(e){return I18n.t("Editing: %{taskTitle}",{taskTitle:(0,P.getDisplayTitle)(e.task)})}),blocking:!0,asyncProps:{task:{setup:function(e){y.default.addChangeListener(e)},fetch:function(e){var t=e.params.taskId;return y.default.fetch(t,{include_instructions_attachments:!0}).catch(function(){throw(0,C.default)(I18n.t("Checkpoint does not exist"),{type:"error"}),T.default.transitionTo("author.checkpoints"),v.default.AbortedError}).then(function(){var e=y.default.get(t);e.instructionsAttachments&&M.default.injectPreloadedAttachments(t,e.instructionsAttachments)})},get:function(e){return y.default.get(e.params.taskId)},teardown:function(e){y.default.removeChangeListener(e)}},isTaskDirty:{get:function(e){return y.default.isTaskDirty(e.params.taskId)}},attachments:{get:function(e){return M.default.getAttachments(e.params.taskId)}},uploads:{get:function(e){return M.default.getActiveUploads(e.params.taskId)}}}})},function(e,t){"use strict";e.exports={name:"author.checkpoint.edit",path:"/author/checkpoints/:taskId/edit"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(61),d=r(c),p=n(13),f=r(p),m=n(65),h=r(m),g=n(11),v=r(g),_=n(85),y=r(_),b=u.default.createClass({displayName:"Content",propTypes:{task:y.default.isRequired,highlight:o.default.string,className:o.default.string},render:function(){var e=this.props,t=e.task,n=e.highlight,r=t.author,a=t.title&&t.title.length>0,i=a?t.title:I18n.t("Untitled Checkpoint");return u.default.createElement("div",{className:this.props.className},u.default.createElement("h2",{className:"h3 margin-none"},u.default.createElement(f.default,{to:"author.checkpoint",params:[{taskId:t.id}],className:a?"indigo":"dark-grey"},u.default.createElement(d.default,{text:i,highlight:n}))),u.default.createElement("ul",{className:"dark-grey light margin-none list--slashed"},r&&u.default.createElement("li",null,u.default.createElement(h.default,(0,s.default)({className:"author--avatar"},r)),u.default.createElement("span",{className:"medium"},I18n.t("by %{author}",{author:r.name||r.uid}))),t.updatedAt&&u.default.createElement("li",{className:"wrap"},I18n.t("Updated %{time}",{time:(0,v.default)(t.updatedAt).format("ll")})),t.subAccount.notCurrent&&u.default.createElement("li",null,u.default.createElement("span",{className:"medium black"},t.subAccount.name)),!t.isPublished&&u.default.createElement("li",{className:"wrap"},u.default.createElement("i",null,I18n.t("Draft; this checkpoint has not been published")))))}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(18),o=r(i),l=n(214),u=r(l),c=n(5),d=n(88),p=n(2603),f=r(p),m=n(6),h=r(m),g=n(3),v=n(85),_=r(v),y=s.default.createClass({displayName:"Entry",mixins:[d.mixin],propTypes:{task:_.default.isRequired,highlight:g.string,removable:g.bool.isRequired,onRemove:g.func.isRequired,onAttachmentIconClick:g.func.isRequired,activeItemId:g.string},render:function(){var e=this.props,t=e.highlight,n=e.task,r=this.isConfirmingRemoval(),a=n.hasSharedEnrollments,i=(0,h.default)({"removable-item":!0,"removable-item--focused":r}),l=(0,h.default)({"removable-item__title--large":!r||!a,"removable-item__title--none":r&&a}),u=(0,h.default)({"removable-item__confirm":!0,"removable-item__confirm--shared":a});return s.default.createElement("li",{className:"clearfix"},s.default.createElement("div",{className:i},s.default.createElement(f.default,{task:n,className:l,highlight:t}),r&&[s.default.createElement("div",{key:"prompt",className:u},s.default.createElement("div",null,I18n.t("Delete Checkpoint?")),a&&s.default.createElement("div",{className:"pink"},I18n.t("This checkpoint is shared with 1 or more Sub-Accounts with active enrollments"))),s.default.createElement("div",{key:"buttons",className:"removable-item__buttons"},s.default.createElement(o.default,{className:"btn--reset dark-grey small padding-rl-s text-center",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),s.default.createElement(o.default,{className:"btn--reset pink small padding-rl-s text-center",onClick:this.props.onRemove,children:I18n.t("Delete"),"data-capybara":"course-delete_confirm"}))],this.renderRemovablesPanel()))},renderRemovablesPanel:function(){var e=this.props.removable,t=this.hasAttachments();return this.isConfirmingRemoval()||!t&&!e?null:s.default.createElement("div",{className:"removable-item__remove full-height"},t&&s.default.createElement("div",{className:"removable-item__spacer"},this.renderAttachmentsButton()),e&&this.renderDeleteButton())},renderAttachmentsButton:function(){var e=this.props,t=e.task,n=e.activeItemId,r=e.onAttachmentIconClick;return s.default.createElement(u.default,{className:"margin-r-s",onClick:function(){return r(t)},activeItemId:n,itemId:t.id,attachmentsCount:this.attachmentsCount()})},renderDeleteButton:function(){return s.default.createElement("div",{className:"removable-item__spacer"},s.default.createElement(o.default,{className:"text-center btn--reset padding-r-m right",onClick:this.confirmRemoval,"data-capybara":"course-delete_x"},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Delete Checkpoint")),s.default.createElement(c.Icon,{className:"gs-x gs-1x dark-grey"})))},hasAttachments:function(){return this.attachmentsCount()>0},attachmentsCount:function(){return this.props.task.attachmentsCount||0}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(29),o=r(i),l=n(2604),u=r(l),c=n(85),d=r(c),p=n(3),f=s.default.createClass({displayName:"Listing",propTypes:{tasks:(0,p.arrayOf)(d.default).isRequired,query:p.object.isRequired,onRemove:p.func.isRequired,onAttachmentIconClick:p.func.isRequired,activeItemId:p.string},render:function(){return s.default.createElement("ul",{className:"course-list unstyled bordered","data-capybara":"task-list"},this.props.tasks.map(this.renderEntry),0===this.props.tasks.length&&s.default.createElement("li",{key:"empty",className:"bold dark-grey padding-tb-m text-center"},I18n.t("There are no existing checkpoints.")))},renderEntry:function(e){var t=this.canDelete(e);return s.default.createElement(u.default,{key:e.id,task:e,removable:t,highlight:this.props.query.search,onRemove:t?this.props.onRemove.bind(null,e.id):void 0,onAttachmentIconClick:this.props.onAttachmentIconClick,activeItemId:this.props.activeItemId})},canDelete:function(e){var t={type:"task",id:e.id};return e.enrollmentsCount>0||e.hasSharedEnrollments?(0,o.default)("task_force_destroy",t):(0,o.default)("task_force_destroy",t)||(0,o.default)("task_destroy",t)}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(54),o=r(i),l=n(13),u=r(l),c=n(97),d=r(c),p=n(52),f=r(p),m=n(270),h=r(m),g=n(24),v=r(g),_=n(31),y=r(_),b=n(123),E=r(b),C=n(6),I=r(C),T=n(5),N=n(4),S=n(87),x=r(S),A=n(2605),k=r(A),w=n(30),R=r(w),O=n(3),P=n(85),L=r(P),M=function(){return[{value:"newest",label:I18n.t("Newest")},{value:"updated",label:I18n.t("Updated")},{value:"alphabetical",label:I18n.t("Alphabetically")}]},D="updated",U=s.default.createClass({displayName:"View",propTypes:{tasks:(0,O.arrayOf)(L.default).isRequired,subAccounts:(0,O.arrayOf)(n(217)),query:O.object.isRequired,isLoading:O.bool.isRequired,canCreateTasks:O.bool.isRequired,onRemove:O.func.isRequired,onAttachmentIconClick:O.func.isRequired,activeItemId:O.string},componentWillReceiveProps:function(e){e.isLoading||this.storageFilterParamsRestored||(this.storageFilterParamsRestored=!0,this.restoreStorageFilterParams())},render:function(){var e=this.props.subAccounts.filter(function(e){return e.hasItemClass}).map(function(e){return{label:e.name,value:e.id}});return s.default.createElement(d.default,null,s.default.createElement(o.default,{name:"layout--list__header-text"},I18n.t("Checkpoints")),s.default.createElement(o.default,{name:"layout--list__after-header"},this.props.canCreateTasks&&s.default.createElement(u.default,{to:"author.checkpoints.new","aria-label":I18n.t("Add New Checkpoint"),className:"add-btn"},s.default.createElement(v.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Checkpoint*"),wrappers:{"*":s.default.createElement("span",{className:"add-btn__text"},"$1")}},"$1")))),s.default.createElement("div",{className:"sortable-table-header--first-item"},s.default.createElement("div",{className:"left indigo"},s.default.createElement(f.default,{searchTerm:this.props.query.search,placeholderText:I18n.t("Search for checkpoints")})),y.default.get("DOMAIN.root")&&e.length>1&&s.default.createElement(E.default,{filterSets:[{key:"subaccounts",exclusive:!1,options:e}],activeFilters:this.props.query,onChange:this.updateSubAccountFilter,align:"right"},this.renderSubaccountFilterButton()),s.default.createElement(h.default,{onChange:this.updateSort,sortOptions:M(),activeSort:this.props.query.sort||D,className:"right"})),this.props.isLoading&&s.default.createElement("div",{className:"loader-container"},s.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"})),!this.props.isLoading&&s.default.createElement(k.default,{tasks:this.props.tasks,query:this.props.query,onRemove:this.props.onRemove,onAttachmentIconClick:this.props.onAttachmentIconClick,activeItemId:this.props.activeItemId}))},renderSubaccountFilterButton:function(){var e=!!this.props.query.subaccounts,t=(0,I.default)({"author-course-templates__subaccount-filter__label--active":e});return s.default.createElement(E.default.Trigger,null,s.default.createElement("button",{type:"button",className:"popdown-selector__trigger author-course-templates__subaccount-filter"},s.default.createElement("span",{className:t},I18n.t("Accounts"),s.default.createElement(T.Icon,{className:"author-course-templates__subaccount-filter__icon"}))))},updateSort:function(e){this.updateQuery({sort:e})},updateSubAccountFilter:function(e){this.updateQuery(e)},updateQuery:function(e){this.setStorageFilterParams(e),R.default.updateQuery(e)},setStorageFilterParams:function(e){var t=JSON.parse(JSON.stringify(R.default.getQuery())),n=(0,N.assign)(t,e);delete n.search,x.default.setItem("tasksFilterParams",n,x.default.SCOPE_USER)},restoreStorageFilterParams:function(){var e=x.default.getItem("tasksFilterParams",x.default.SCOPE_USER);e&&R.default.updateQuery(e)}});e.exports=U},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(22),o=r(i),l=n(85),u=r(l),c=n(248),d=r(c),p=n(29),f=r(p),m=n(53),h=r(m),g=n(19),v=r(g),_=n(3),y=n(637),b=r(y),E=n(2606),C=r(E),I=n(237),T=n(302),N=r(T),S=n(12),x=n(4),A=n(106),k=r(A),w="Task",R=s.default.createClass({displayName:"AuthorTasksIndex",mixins:[(0,h.default)(function(e){d.default.fetchNext(e.query)})],propTypes:{tasks:(0,_.arrayOf)(u.default),subAccounts:(0,_.arrayOf)(n(217)),isLoading:_.bool,query:(0,_.shape)({sort:(0,_.oneOf)(["alphabetical","newest","updated"]),search:_.string,filters:(0,_.oneOfType)([_.string,(0,_.arrayOf)(_.string)])})},getInitialState:function(){return{trayIsOpen:!1,activeItem:null}},shouldComponentUpdate:function(e){return!e.isLoading},render:function(){return s.default.createElement(I.TrayLayout,{isOpen:this.state.trayIsOpen},s.default.createElement(I.ContentOutlet,null,this.renderMainContent()),s.default.createElement(I.TrayOutlet,{onCloseClick:this.closeTray},s.default.createElement(N.default,{role:"Author",activeItem:this.state.activeItem})))},renderMainContent:function(){return s.default.createElement(C.default,{tasks:this.props.tasks,subAccounts:this.props.subAccounts,query:this.props.query,isLoading:this.props.isLoading,canCreateTasks:(0,f.default)("task_create"),onRemove:this.removeTask,activeItemId:(0,x.get)(this.state,"activeItem.id"),onAttachmentIconClick:this.toggleAttachmentsTray})},removeTask:function(e){d.default.remove(e).then(null,function(){(0,v.default)(I18n.t("Oh Snap! We were unable to delete your checkpoint. Please try again later."),{type:"error"})})},closeTray:function(){this.setState({trayIsOpen:!1,activeItem:null})},openTray:function(e){this.setState({trayIsOpen:!0,activeItem:{id:e.id,contextId:e.id,title:e.title,type:S.LEARNING_ITEM_TASK_TYPE}})},toggleAttachmentsTray:function(e){this.state.trayIsOpen&&e.id===(0,x.get)(this.state,"activeItem.id")?this.closeTray():this.openTray(e)}});e.exports=(0,o.default)({type:(0,k.default)(R,function(){return I18n.t("Checkpoints")}),asyncProps:{tasks:{setup:function(e){d.default.addChangeListener(e)},fetch:function(e){return d.default.fetchAll(e.query)},shouldRefetch:function(e,t){return e.query!==t.query},get:function(e){return d.default.getAll(e.query)},teardown:function(e){d.default.removeChangeListener(e)}},subAccounts:{setup:function(e){b.default.addChangeListener(e)},teardown:function(e){b.default.removeChangeListener(e)},fetch:function(){return b.default.fetch(w)},get:function(){return b.default.getAll(w)}}}})},function(e,t){"use strict";e.exports={name:"author.checkpoints",path:"/author/checkpoints",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(248),o=r(i),l=n(19),u=r(l),c=n(13),d=r(c),p=s.default.createClass({displayName:"AuthorTasksNew",statics:{willTransitionTo:function(){o.default.create().then(function(e){d.default.replaceWith("author.checkpoint",e)},function(){(0,u.default)(I18n.t("Oh snap! We were unable to create the checkpoint. Please try again later."),{type:"error"}),d.default.replaceWith("author.checkpoints")})}},render:function(){return null}});e.exports=p},function(e,t){"use strict";e.exports={name:"author.checkpoints.new",path:"/author/checkpoints/new",loadOrder:1,ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),s=r(a),i=n(248),o=r(i),l=n(222),u=r(l),c=n(19),d=r(c),p=n(29),f=r(p),m=n(136),h=n(22),g=r(h),v=n(31),_=r(v);t.default={task:{setup:function(e){o.default.addChangeListener(e)},fetch:function(e){return o.default.fetch(e.params.taskId).catch(function(){throw(0,d.default)(I18n.t("Checkpoint does not exist"),{type:"error"}),s.default.transitionTo("author.checkpoints"),g.default.AbortedError})},get:function(e){return o.default.get(e.params.taskId)},teardown:function(e){o.default.removeChangeListener(e)}},placements:{setup:function(e){u.default.addChangeListener(e)},fetch:function(){return u.default.fetchAll("checkpoint_tabs")},get:function(){return u.default.getAll("checkpoint_tabs")},teardown:function(e){u.default.removeChangeListener(e)}},permissions:{setup:function(e){o.default.addChangeListener(e)},get:function(e){var t={type:"task",id:e.params.taskId};return{addGroup:["task_team_enrollment_create","task_group_enrollment_create","task_smart_group_enrollment_create","task_domain_group_enrollment_create"].some(function(e){return(0,f.default)(e)}),editTaskContent:(0,f.default)("task_update",t),updateSettings:(0,f.default)("task_update",t)||(0,f.default)("task_update",null,(0,m.currentSubAccountId)()),sendMessages:(0,f.default)("user_message_send"),cloneTask:(0,f.default)("task_clone",t),enrollLearners:(0,f.default)("task_enrollment_create"),unenrollLearners:(0,f.default)("task_enrollment_destroy"),exportLearners:(0,f.default)("task_export",t),canViewSubAccounts:_.default.get("DOMAIN.root")&&(0,f.default)("affiliated_sub_account_view")}},teardown:function(e){o.default.addChangeListener(e)}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(18),l=r(o),u=n(54),c=r(u),d=n(5),p=n(102),f=r(p),m=n(69),h=r(m),g=n(188),v=r(g),_=n(2618),y=r(_),b=n(2619),E=r(b),C=n(13),I=r(C),T=n(20),N=r(T),S=n(138),x=n(195),A=n(442),k=r(A),w=n(111),R=r(w),O=n(189),P=r(O),L=n(19),M=r(L),D=n(360),U=r(D),F=d.constants.DESCRIPTION_LENGTH_LIMIT,q=s.default.createClass({displayName:"Banner",propTypes:{task:n(85).isRequired,canUpdateSettings:i.bool,canEditTaskContent:i.bool,canSendMessages:i.bool,canCloneTask:i.bool,onChange:i.func.isRequired,onClone:i.func.isRequired},getInitialState:function(){return{instructions:this.props.task.instructions,description:this.props.task.description,expanded:!1,lockUser:null}},handleEdit:function(){var e=this,t=this.props.task.id;return S.LockActions.acquire({id:t,type:"Task",showToast:!1}).then(function(){return I.default.transitionTo("author.checkpoint.edit",t)}).catch(function(t){var n=t.lockHolder;e.setState({lockUser:{name:n.displayName,id:n.id}}),e.refs.popup.open()})},render:function(){var e=this.props,t=e.task,n=e.canEditTaskContent,r=e.canUpdateSettings,a=e.canCloneTask,i=Boolean(t.title&&t.title.length);return s.default.createElement(f.default,{type:"task"},s.default.createElement(c.default,{name:"layout--item-header__details"},s.default.createElement(d.Icon,{className:"layout--item-header__icon gs-tasks"}),s.default.createElement("h1",{className:"x-large indigo margin-none"},s.default.createElement(h.default,{value:t.title,readOnly:!n,autoFocus:!i,className:"editable-text--header indigo",inputClassName:"indigo x-large margin-b-s",placeholder:I18n.t("Checkpoint Title"),children:(0,x.getDisplayTitle)(t),onChange:this.updateTitle})),s.default.createElement("div",{className:"course-header__description"},s.default.createElement(v.default,{disabled:!n,value:this.state.description,placeholder:I18n.t("Describe what learners can expect from this checkpoint"),onBlur:this.saveDescription,onChange:this.updateDescription,maxLength:F,multiline:!0,enableLinks:!0})),s.default.createElement(E.default,{task:t,onToggleSettings:this.toggleExpand,settingsExpanded:this.state.expanded})),s.default.createElement(c.default,{name:"layout--item-header__actions"},s.default.createElement("div",{className:"task-header__author-actions"},this.messagingEnabled()&&this.renderMessageBox(),(0,N.default)("learn_checkpoint_clone")&&a&&this.renderCloneButton(),n&&s.default.createElement("span",null,s.default.createElement(R.default,{ref:"popup",lockableType:"checkpoint",user:this.state.lockUser,content:k.default,popupOptions:A.LockableLockedDialogOptions,popupClassName:"course-locked-popup"},s.default.createElement("span",null)),s.default.createElement(l.default,{onClick:this.handleEdit,className:"btn secondary edit__button",children:I18n.t("Edit")})))),this.state.expanded&&s.default.createElement(c.default,{name:"layout--item-header__expansion"},s.default.createElement("div",null,s.default.createElement("div",{className:"layout--item-header__expansion-section"},s.default.createElement(y.default,{task:t,canUpdateSettings:r,canEditTaskContent:n,onChange:this.props.onChange})))))},renderMessageBox:function(){var e=this.props.task;return s.default.createElement(P.default,{wrapperClassName:"btn-like margin-r-xs",recipientType:"task",recipientName:e.title||I18n.t("Untitled Checkpoint"),recipientId:e.id,filters:e.enrollmentCounts?this.getMessageFilters(e.enrollmentCounts,e.requiresApproval):void 0,onMessageSend:M.default,onMessageFail:function(e){return(0,M.default)(e,{type:"error"})},round:!0})},renderCloneButton:function(){return s.default.createElement(U.default,{buttonClassName:"btn btn--round-with-icon-medium secondary margin-r-xs",label:"Duplicate Checkpoint",onClick:this.props.onClone})},getMessageFilters:function(e,t){return t?[{value:"",label:I18n.t("Everyone (%{count})",{count:e.all}),count:e.all},{value:"overdue",label:I18n.t("Overdue (%{count})",{count:e.overdue}),count:e.overdue},{value:"open",label:I18n.t("Open (%{count})",{count:e.open}),count:e.open},{value:"requested",label:I18n.t("Requested (%{count})",{count:e.requested}),count:e.requested},{value:"rejected",label:I18n.t("Rejected (%{count})",{count:e.rejected}),count:e.rejected},{value:"approved",label:I18n.t("Approved (%{count})",{count:e.approved}),count:e.approved}]:[{value:"",label:I18n.t("Everyone (%{count})",{count:e.all}),count:e.all},{value:"overdue",label:I18n.t("Overdue (%{count})",{count:e.overdue}),count:e.overdue},{value:"incomplete",label:I18n.t("Incomplete (%{count})",{count:e.incomplete}),count:e.incomplete},{value:"finished",label:I18n.t("Finished (%{count})",{count:e.finished}),count:e.finished}]},messagingEnabled:function(){return(0,N.default)("learn_checkpoint_message")&&this.props.task.directMessagingEnabled&&this.props.canSendMessages},toggleExpand:function(){this.setState({expanded:!this.state.expanded})},updateInstructions:function(e){var t=e.target.value;this.setState({instructions:t})},saveInstructions:function(){var e=this.state.instructions;this.emitChange({instructions:e})},updateDescription:function(e){var t=e.target.value;this.setState({description:t})},saveDescription:function(){var e=this.state.description;this.emitChange({description:e})},updateTitle:function(e){this.emitChange({title:e})},emitChange:function(e){this.props.onChange&&this.props.onChange(e)}});e.exports=q},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(104),d=r(c),p=n(1320),f=n(196),m=r(f),h=function(e){return e&&0===e.usersCount},g=function(){return m.default.getFound()},v=function(e){return m.default.lookup(e,"task")},_=(0,p.configureSearchableApprover)(m.default,g),y=function(e){return u.default.createElement(_,(0,s.default)({type:"Group",title:I18n.t("Group"),description:I18n.t("Any member of the selected group can approve this checkpoint."),onSearch:v},e),h(e.approver)&&u.default.createElement("div",{className:"requires-approval-settings__approver-warning"},I18n.t("There are no learners in this group. Select a different group or add people to this group.")))};y.propTypes={selected:o.default.bool,onClick:o.default.func.isRequired,onChange:o.default.func.isRequired,onCancel:o.default.func,openEditorAfterSelection:o.default.bool,approver:d.default},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(1320),d=n(104),p=r(d),f=n(109),m=r(f),h=function(){return m.default.getSearchResults()},g=function(e){return m.default.search(e)},v=(0,c.configureSearchableApprover)(m.default,h),_=function(e){return u.default.createElement(v,(0,s.default)({type:"User",title:I18n.t("Individual"),description:I18n.t("The same individual will approve the checkpoint for all learners."),onSearch:g},e),e.approver&&e.approver.deletedAt&&u.default.createElement("div",{className:"requires-approval-settings__approver-warning"},I18n.t("The individual selected is no longer available. Checkpoints can still be approved by you or another admin.")))};_.propTypes={selected:o.default.bool,onClick:o.default.func.isRequired,onChange:o.default.func.isRequired,onCancel:o.default.func,openEditorAfterSelection:o.default.bool,approver:p.default},t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(4),u=n(1319),c=r(u),d=o.default.createClass({displayName:"ManagerApprover",propTypes:{selected:s.default.bool,onClick:s.default.func.isRequired,onChange:s.default.func.isRequired,disabled:s.default.bool},render:function(){return o.default.createElement(c.default,{onClick:(0,l.flow)(this.props.onClick,this.onChange),selected:this.props.selected,disabled:this.props.disabled},o.default.createElement("p",{className:"requires-approval-settings__approver-type"},I18n.t("Manager")),o.default.createElement("p",{className:"requires-approval-settings__approver-description"},I18n.t("Each learner's manager will approve the checkpoint.")))},onChange:function(){this.props.onChange({type:null,id:null})}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(132),u=r(l),c=o.default.createClass({displayName:"ConfirmTurningOff",propTypes:{pendingApprovalCount:s.default.number.isRequired,onCancel:s.default.func.isRequired,onConfirm:s.default.func.isRequired},render:function(){var e=this.props,t=e.pendingApprovalCount,n=e.onCancel,r=e.onConfirm,a=I18n.t("*Any learners with a rejected approval will be marked as* **Incomplete**.",{wrappers:['<span class="light">$1</span>','<span class="bold">$1</span>']});return o.default.createElement(u.default.CellAdditional,null,o.default.createElement("div",{className:"padding-rl-s"},o.default.createElement("p",{className:"bold margin-b-s"},I18n.t("Turn off Requires Approval?")),o.default.createElement("p",{className:"margin-b-s"},o.default.createElement("span",{className:"bold"},t," "),o.default.createElement("span",{className:"light"},this.getWarningMessage()),o.default.createElement("span",{className:"bold"}," ",I18n.t("Complete"),". "),o.default.createElement("span",{dangerouslySetInnerHTML:{__html:a}})),o.default.createElement("p",{className:"text-right margin-b-s"},o.default.createElement("button",{className:"btn--reset light upcase",type:"button",onClick:n},I18n.t("Cancel")),o.default.createElement("button",{className:"btn--reset pink upcase",type:"button",onClick:r},I18n.t("Turn Off")))))},getWarningMessage:function(){return I18n.t({one:"learner is pending approval. He/She will be marked",other:"learners are pending approval. They will all be marked"},{count:this.props.pendingApprovalCount})}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(132),u=r(l),c=n(55),d=r(c),p=n(24),f=r(p),m=n(85),h=r(m),g=o.default.createClass({displayName:"RequiresEvidenceSettings",propTypes:{task:h.default.isRequired,selected:s.default.bool,onChange:s.default.func.isRequired,canEdit:s.default.bool},render:function(){var e=this.props,t=e.canEdit,n=e.selected,r=e.task;return o.default.createElement("div",null,o.default.createElement(u.default.Cell,{key:"task-evidence-0"},o.default.createElement(f.default,null,I18n.t("Requires Evidence"))),o.default.createElement(u.default.Cell,{key:"task-evidence-1","data-capybara":"task-settings__requires-evidence"},o.default.createElement(d.default,{disabled:!t,checked:!!n,onChange:this.onRequiresEvidenceChange})),o.default.createElement(u.default.CellAdditional,null,o.default.createElement("span",{className:"small dark-grey"},r.requiresApproval?I18n.t("Learners will be required to upload files before they can request approval"):I18n.t("Learners will be required to upload files before the checkpoint can be completed"))))},onRequiresEvidenceChange:function(e){var t=e.target.checked;this.props.onChange({requiresEvidence:t})}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(132),u=r(l),c=n(55),d=r(c),p=n(20),f=r(p),m=n(1322),h=r(m),g=n(2617),v=r(g),_=n(777),y=r(_),b=o.default.createClass({displayName:"SettingsMeta",propTypes:{task:n(85).isRequired,canUpdateSettings:s.default.bool,canEditTaskContent:s.default.bool,onChange:s.default.func},render:function(){var e=this.props,t=e.task,n=e.canEditTaskContent,r=e.canUpdateSettings;return o.default.createElement("div",null,o.default.createElement("h3",null,I18n.t("General")),o.default.createElement(u.default,null,o.default.createElement(u.default.Column,null,this.renderEvidence(t,r),this.renderApprovalSettings(t,r)),o.default.createElement(u.default.Column,null,this.renderDueDate(t,r),this.renderCertificate(t,n))));
},renderCertificate:function(e,t){return(0,f.default)("task_certificates")?o.default.createElement("div",null,o.default.createElement(u.default.Cell,null,I18n.t("Certificate")),o.default.createElement(u.default.Cell,{"data-capybara":"task-settings__has-certificate"},o.default.createElement(d.default,{disabled:!t,checked:e.hasCertificate,onChange:this.updateHasCertificate}))):null},renderEvidence:function(e,t){return o.default.createElement(v.default,{task:e,canEdit:t,selected:e.requiresEvidence,onChange:this.emitChange})},renderApprovalSettings:function(e,t){return o.default.createElement(h.default,{task:e,canEdit:t,onChange:this.emitChange})},renderDueDate:function(e,t){var n=e.defaultDaysUntilDue||0;return o.default.createElement(y.default,{canEdit:t,daysUntilDue:n,dueOnDate:e.defaultDueOnDate,dueDateType:e.dueDateType,daysUntilExpiration:0,emitChange:this.emitChange,learnableName:"checkpoint"})},updateHasCertificate:function(e){this.emitChange({hasCertificate:e.target.checked})},emitChange:function(e){this.props.onChange&&this.props.onChange(e)}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(37),u=r(l),c=n(445),d=r(c),p=n(427),f=r(p),m=o.default.createClass({displayName:"Subtitle",propTypes:{task:n(85).isRequired,onToggleSettings:s.default.func.isRequired,settingsExpanded:s.default.bool.isRequired},mixins:[(0,u.default)({mobile:u.default.QUERY_MOBILE})],render:function(){var e=this.props,t=e.task,n=e.onToggleSettings,r=e.settingsExpanded;return o.default.createElement("div",{className:"course-header__subtitle","data-capybara":"task-header__subtitle"},o.default.createElement("ul",{className:"list--slashed margin-l-xs"},t.hasCertificate&&o.default.createElement("li",null,I18n.t("Has Certificate")),t.requiresApproval&&o.default.createElement("li",null,I18n.t("Requires Approval")),t.requiresEvidence&&o.default.createElement("li",null,I18n.t("Requires Evidence")),o.default.createElement(f.default,{record:t,recordType:"task"}),o.default.createElement("li",{className:"layout--item-header__expansion-trigger",onClick:n,"data-capybara":"task__show-settings-button"},o.default.createElement(d.default,{iconOnly:this.state.media.mobile,expanded:r}))))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=o.default.createClass({displayName:"Tabs",propTypes:{task:n(85).isRequired,canViewSubAccounts:s.default.bool,placements:s.default.arrayOf(n(84))},getDefaultProps:function(){return{task:{},canViewSubAccounts:!1,placements:[]}},render:function(){var e=this.props.task;return o.default.createElement("nav",{"data-capybara":"task-nav",className:"learnable-nav button-set-nav horizontal-scrolling-nav"},o.default.createElement("div",{className:"learnable-nav__container"},o.default.createElement(u.default,{to:"author.checkpoint.author.checkpoint.learners",params:[{taskId:e.id}],className:"learnable-nav__link button-set__button",children:I18n.t("Learners")}),o.default.createElement(u.default,{to:"author.checkpoint.author.checkpoint.groups",params:[{taskId:e.id}],className:"learnable-nav__link button-set__button",children:I18n.t("Groups")}),o.default.createElement(u.default,{to:"author.checkpoint.author.checkpoint.attachments",params:[{taskId:e.id}],className:"dark-grey inline-block button-set__button horizontal-scrolling-nav__item",children:I18n.t("Attachments")}),this.props.canViewSubAccounts&&o.default.createElement(u.default,{to:"author.checkpoint.author.checkpoint.affiliated-accounts",params:[{taskId:e.id}],className:"dark-grey inline-block button-set__button","data-capybara":"affiliated-accounts",children:I18n.t("Affiliated Accounts")}),this.renderLtiPlacementTabs()))},renderLtiPlacementTabs:function(){var e=this.props.task;return this.props.placements.map(function(t){return o.default.createElement(u.default,{to:"author.checkpoint.placement",key:"placement"+t.id,params:[{taskId:e.id},{placementId:t.id}],className:"learnable-nav__link button-set__button",children:t.text})})}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(93),d=r(c),p=n(22),f=r(p),m=n(2612),h=r(m),g=n(2620),v=r(g),_=n(248),y=r(_),b=n(615),E=r(b),C=n(106),I=r(C),T=n(195),N=n(1318),S=r(N),x=n(18),A=r(x),k=n(2611),w=r(k),R=u.default.createClass({displayName:"AuthorTasksShow",propTypes:{task:n(85),permissions:o.default.shape({updateSettings:o.default.bool,editTaskContent:o.default.bool,sendMessages:o.default.bool,cloneTask:o.default.bool}),placements:o.default.arrayOf(n(84)),query:o.default.object},updateTask:function(e){y.default.update(this.props.task.id,e)},handlePublish:function(){return S.default.publishChangesInTask(this.props.task.id)},cloneTask:function(){return S.default.cloneTask(this.props.task.id)},renderPublishBanner:function(){var e=this.props.task,t=e.isPublished,n=e.hasUnpublishedChanges,r=!t||n;return r&&u.default.createElement("div",{className:"white padding-s blue-bg"},u.default.createElement("div",{className:"layout--banner"},u.default.createElement("div",{className:"layout--banner__text"},I18n.t("This checkpoint has not been published.")),u.default.createElement("div",{className:"layout--banner__actions"},u.default.createElement(A.default,{className:"layout--banner__button",onClick:this.handlePublish,children:I18n.t("Publish")}))))},render:function(){var e=this.props,t=e.task,n=e.permissions,r=e.placements,a=e.query,i=a.programId,o=a.programTitle;return u.default.createElement("div",null,i&&u.default.createElement(E.default,{programId:i,programTitle:o}),n.editTaskContent&&this.renderPublishBanner(),u.default.createElement(h.default,{task:t,onChange:this.updateTask,onClone:this.cloneTask,canUpdateSettings:n.updateSettings,canEditTaskContent:n.editTaskContent,canSendMessages:n.sendMessages,canCloneTask:n.cloneTask}),u.default.createElement(v.default,{task:t,canViewSubAccounts:this.canViewSubAccounts(n,t),placements:r}),u.default.createElement(d.default,(0,s.default)({},this.props,{learnable:t})))},canViewSubAccounts:function(e,t){return e.canViewSubAccounts&&!t.subAccount.notCurrent}});t.default=(0,f.default)({type:(0,I.default)(R,function(e){return(0,T.getDisplayTitle)(e.task)}),blocking:!0,asyncProps:w.default}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.checkpoint",path:"/author/checkpoints/:taskId",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(585),o=r(i),l=n(22),u=r(l),c=n(636),d=r(c),p=n(3),f=n(29),m=r(f),h=n(53),g=r(h),v=n(239),_=r(v),y=n(274),b=r(y),E="Task",C=s.default.createClass({displayName:"AffiliatedAccounts",mixins:[(0,g.default)(function(e){d.default.fetchNext(e.params.taskId,E,e.query.sort)}),_.default,(0,b.default)(function(e){return d.default.fetch(e.params.taskId,E,e.query.sort)})],propTypes:{task:n(85),accounts:(0,p.arrayOf)(n(156)),query:p.object},render:function(){return s.default.createElement(o.default,{accounts:this.props.accounts,onChange:this.changeAffiliation,canShare:(0,m.default)("affiliated_sub_account_share")})},changeAffiliation:function(e,t){t?d.default.share(this.props.task.id,E,e):d.default.revoke(this.props.task.id,E,e)}});e.exports=(0,u.default)({type:C,asyncProps:{accounts:{get:function(e){return d.default.getAll(e.params.taskId,E,e.query.sort)},setup:function(e){d.default.addChangeListener(e)},teardown:function(e){d.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.checkpoint.affiliated-accounts",parent:"author.checkpoint",path:"affiliated-accounts",ember:{parentPath:["author","author.checkpoint"],leaf:!0}}},function(e,t,n){"use strict";var r=n(1),a=n(763),s=n(3),i=s.array,o=s.shape,l=s.string,u=n(221),c=n(22),d=n(37),p=n(53),f=n(29),m=n(4),h=m.isEqual,g=r.createClass({displayName:"AttachmentView",mixins:[d({mobile:d.QUERY_MOBILE}),p(function(e){u.fetchNext({type:"tasks",id:e.task.id},e.query.sort,e.query.search)})],propTypes:{task:n(85),attachments:o({all:i,pending:i}),query:o({sort:l,search:l})},render:function(){var e={type:"tasks",id:this.props.task.id},t=f("task_update",e);return r.createElement(a,{context:e,canEdit:t,isMobile:this.state.media.mobile,attachments:this.props.attachments,sort:this.props.query.sort,search:this.props.query.search})}});e.exports=c({type:g,asyncProps:{attachments:{fetch:function(e){return u.fetchByContext({type:"tasks",id:e.params.taskId},e.query.sort,e.query.search)},get:function(e){return u.getByContext({type:"tasks",id:e.params.taskId},e.query.sort,e.query.search)},shouldRefetch:function(e,t){return!h(e.query,t.query)},setup:function(e){u.addChangeListener(e)},teardown:function(e){u.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.checkpoint.attachments",parent:"author.checkpoint",path:"attachments",ember:{parentPath:["author","author.checkpoint"],leaf:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e?I18n.t("This checkpoint has a due date in the past. If you enroll new groups without changing it, they will already be overdue."):I18n.t("This checkpoint has a fixed due date. If any users are added to an enrolled group, they will be enrolled in this checkpoint, even if they will be overdue.")}function s(e){var t=!!e.defaultDueOnDate&&(0,d.default)(e.defaultDueOnDate).isBefore((0,d.default)(),"days");return{headerProps:{dueOnDateEnabled:!!e.defaultDueOnDate,getOverdueMessage:a.bind(null,t)}}}var i=n(3306),o=r(i),l=n(1378),u=r(l),c=n(11),d=r(c),p=o.default,f="taskId",m="task";e.exports=(0,u.default)({learnableGroupStore:p,learnableIdParam:f,learnableType:m,showRegistered:!1,useDrawerEditor:!1,getPropsForLearnable:s}),e.exports.learnableGroupStore=p,e.exports.learnableIdParam=f,e.exports.learnableType=m,e.exports.getPropsForLearnable=s},function(e,t){"use strict";e.exports={name:"author.checkpoint.groups",parent:"author.checkpoint",path:"groups",ember:{parentPath:["author","author.checkpoint"],leaf:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2),o=r(i),l=n(2634),u=n(788),c=r(u),d=n(13),p=r(d),f=n(94),m=r(f),h=n(374),g=n(368),v=r(g),_=n(151),y=n(29),b=r(y),E=n(5),C=n(12);t.default=s.default.createClass({displayName:"AuthorTasks::Show::Learners::TaskLearnerEntry",propTypes:{learnableId:o.default.string,enrollment:n(861).isRequired,requiresApproval:o.default.bool},render:function(){var e=this.props,t=e.enrollment,n=e.requiresApproval,r=e.learnableId,a=t.approval,i=this.getApprover(),o=n?"pure-u-1-2":"pure-u-3-8";return s.default.createElement(c.default,this.props,s.default.createElement(h.Column,{key:"endAt",mobileClassNames:o},!t.completedAt&&s.default.createElement(v.default,{canEdit:(0,b.default)("task_enrollment_create"),clearPromptText:I18n.t("No due date"),dateToText:_.dueDateText,onChange:l.updateEnrollmentDueDate.bind(null,r,t),value:t.endAt})),n&&[s.default.createElement(h.Column,{className:"text-right",key:"approverWarning",mobileClassNames:"pure-u-1-8"},this.shouldRenderApproverWarning()&&this.renderApproverWarning()),s.default.createElement(h.Column,{key:"approver",mobileClassNames:"pure-u-1-2"},i?i.name:null),s.default.createElement(h.Column,{key:"status",mobileClassNames:"pure-u-1-4"},a&&this.renderApprovalStatus())])},renderApproverWarning:function(){var e=this.props.enrollment,t=e.foreseenApprover,n=t.isAdminGroup?I18n.t("admin"):I18n.t("account admin"),r=this.getApproverWarningMessage();return s.default.createElement(m.default,{className:"task-learner-list__approval-warning"},s.default.createElement(m.default.Trigger,null,s.default.createElement(E.Icon,{className:"gs-warning orange"})),s.default.createElement(m.default.Content,{dark:!0},r,I18n.t("This checkpoint can still be approved by you or another %{memberTitle}",{memberTitle:n})))},renderApprovalStatus:function(){var e=this.props.enrollment.approval,t=this.getApprovalStatusText();return(0,b.default)("task_enrollment_create")?s.default.createElement(p.default,{to:"approver.task.approval",params:[{approvalId:e.id}],queryParams:{fromAuthoring:1}},t):t},getApprovalStatusText:function(){var e=this.props.enrollment.approval.state;switch(e){case C.APPROVAL_STATE_INCOMPLETE:return I18n.t("Open");case C.APPROVAL_STATE_REQUESTED:return I18n.t("Pending Approval");case C.APPROVAL_STATE_REJECTED:return I18n.t("Retry");case C.APPROVAL_STATE_APPROVED:return I18n.t("Completed")}throw Error("invalid task state")},getApprover:function(){var e=this.props.enrollment,t=e.approval,n=e.foreseenApprover;return t&&t.approver?t.approver:n},shouldRenderApproverWarning:function(){var e=this.props.enrollment,t=e.foreseenApprover,n=e.approval;if(!t)return!1;var r=t.isAdminGroup||t.isAccountAdminGroup;return!(n||{}).approver&&r},getApproverWarningMessage:function(){var e=this.props.enrollment,t=e.defaultApprover;return t?t.deletedAt?"User"===t.type?I18n.t("The individual selected is no longer available. "):I18n.t("The group selected is no longer available. "):I18n.t("There are no learners in the %{group} group. ",{group:t.name}):I18n.t("%{learner} does not have a manager. ",{learner:e.name})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={entryComponent:l.default,searchMemberMessage:I18n.t("Already In Checkpoint"),headerProps:{uploadRoute:"author.checkpoint.learners.upload",reportParams:{id:"TaskEnrollmentsReport",task_id:e.id},dueDatePast:!!e.defaultDueOnDate&&(0,y.default)(e.defaultDueOnDate).isBefore((0,y.default)(),"days"),getOverdueMessage:function(){return I18n.t("This checkpoint has a due date in the past. If you enroll new learners without changing it, they will already be overdue.")}},entryProps:{requiresApproval:e.requiresApproval}};return e.requiresApproval?(t.listingProps={children:[i.default.createElement(d.Column,{key:"endAt"},I18n.t("Due Date")),i.default.createElement(d.Column,{key:"approverWarning"}),i.default.createElement(d.Column,{key:"approver"},I18n.t("Approver")),i.default.createElement(d.Column,{key:"status"},I18n.t("Progress"))]},t.inlineEnrollmentEditorProps={searchColSpan:"5"}):(t.listingProps={children:[i.default.createElement(d.Column,{key:"endAt"},I18n.t("Due Date"))]},t.inlineEnrollmentEditorProps={searchColSpan:"2"}),t}var s=n(1),i=r(s),o=n(2629),l=r(o),u=n(1381),c=r(u),d=n(450),p=n(645),f=r(p),m=n(2964),h=r(m),g=n(109),v=r(g),_=n(11),y=r(_),b=f.default,E="taskId",C=v.default.searchInTask.bind(v.default),I=v.default.getFoundInTask.bind(v.default),T=h.default.unenroll.bind(h.default);e.exports=(0,c.default)({enrollmentStore:b,learnableIdParam:E,searchInLearnable:C,getFoundInLearnable:I,getPropsForLearnable:a,onUnenroll:T}),e.exports.enrollmentStore=b,e.exports.learnableIdParam=E,e.exports.searchInLearnable=C,e.exports.getFoundInLearnable=I,e.exports.getPropsForLearnable=a},function(e,t){"use strict";e.exports={name:"author.checkpoint.learners",path:"",parent:"author.checkpoint",default:!0,ember:{parentPath:["author","author.checkpoint"],leaf:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(22),u=r(l),c=n(238),d=r(c),p=n(59),f=o.default.createClass({displayName:"Placement",propTypes:{params:s.default.shape({placementId:s.default.string,taskId:s.default.string}),ltiResource:p.LtiResourceSchema,isLoading:s.default.bool},render:function(){return o.default.createElement(p.LtiResourceIframe,{ltiResource:this.props.ltiResource,isLoading:this.props.isLoading})}});t.default=(0,u.default)({type:f,asyncProps:{ltiResource:{fetch:function(e){return(0,d.default)("author",e.params.placementId,{checkpoint_id:e.params.taskId})},shouldRefetch:function(e,t){return e.params.placementId!==t.params.placementId}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.checkpoint.placement",parent:"author.checkpoint",path:"placement/:placementId",ember:{parentPath:["author","author.checkpoint"],leaf:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){t.endAt!==n&&i.default.update(e,t.id,{endAt:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateEnrollmentDueDate=a;var s=n(645),i=r(s)},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(6),i=n(5),o=i.Icon,l=n(3),u=l.func,c=l.bool,d=l.string,p=n(50),f=p.Tr,m=p.Td,h=r.createClass({displayName:"UserCreation",propTypes:{colSpan:d,onCreate:u.isRequired,onCancel:u.isRequired,isMobile:c.isRequired},render:function(){var e=I18n.t("Enter a username or e-mail"),t=this.props.isMobile;return r.createElement(f,null,r.createElement(m,{colSpan:this.props.colSpan,className:s({"pure-g":t})},r.createElement("form",{className:"user-add full-width",onSubmit:this.onSubmit},r.createElement("div",{className:s({left:!t,"th-60":!t,"pure-u-5-8":t})},r.createElement("input",{className:"user-add__input",maxLength:255,placeholder:e,"aria-label":e,ref:"newUser","data-capybara":"user-add-input"})),r.createElement("div",{className:s({left:!t,"th-20":!t,"pure-u-1-4":t})},r.createElement("button",{type:"submit",className:"btn btn--reset right margin-tb-xs",children:I18n.t("Create")})),r.createElement("div",{className:s({left:!t,"th-20":!t,"pure-u-1-8":t})},r.createElement("button",{type:"button",onClick:this.props.onCancel,className:"btn--reset text-right right padding-xs"},r.createElement("span",{className:"screenreader-only",children:I18n.t("Cancel")}),r.createElement(o,{className:"gs-x gs-1x dark-grey"}))))))},onSubmit:function(e){e.preventDefault();var t=a.findDOMNode(this.refs.newUser),n={uid:t.value,name:t.value};t.value.match(/@/)&&(n.email=t.value),this.props.onCreate(n),t.value="",t.focus()}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(3),u=n(13),c=r(u),d=n(6),p=r(d),f=n(50),m=n(34),h=r(m),g=n(88),v=r(g),_=n(29),y=r(_),b=n(65),E=r(b),C=n(61),I=r(C),T=n(5),N=n(622),S=r(N),x=n(39),A=r(x),k=n(4),w=o.default.createClass({displayName:"UserRow",mixins:[v.default.mixin],propTypes:{user:n(42),autoCsv:l.bool,onRemove:l.func,onHide:l.func,onRoleSave:l.func,canEditRoles:l.bool,highlight:l.string,isMobile:l.bool},getInitialState:function(){return{isEditingRoles:!1}},render:function(){return this.isConfirmingRemoval()?this.userIsDeleted()?this.renderWantToHide():this.renderWantToRemove():this.state.isEditingRoles?this.renderEditingRoles():this.renderDefault()},renderDefault:function(){var e=this,t=this.props.user,n=(0,k.uniq)([t.uid,t.email]).filter(Boolean).join(", ");return o.default.createElement(f.Tr,{className:"user-row",mobileClassNames:"pure-g",dataCapybara:"user-row"},o.default.createElement(f.Td,{className:"user-row__info",mobileClassNames:"pure-u-7-12"},o.default.createElement(E.default,(0,s.default)({},t,{className:"user-row__info__avatar"})),o.default.createElement("div",null,o.default.createElement("div",{className:"user-row__info__name"},o.default.createElement(c.default,{to:"author.learner",params:[{id:t.id}],queryParams:this.userIsDeleted()?{with_deleted:!0}:{},className:"indigo block",dataCapybara:"visit-user-link"},o.default.createElement(I.default,{text:t.name,highlight:this.props.highlight}))),o.default.createElement("div",{className:"user-row__info__details"},o.default.createElement(I.default,{text:n,highlight:this.props.highlight})))),o.default.createElement(f.Td,{className:"text-center",mobileClassNames:"pure-u-1-3"},(0,y.default)("grant_create",t)&&this.props.canEditRoles&&!t.deletedAt&&o.default.createElement("button",{type:"button",onClick:function(){return e.setState({isEditingRoles:!0})},className:"btn btn--reset","data-capybara":"modify-roles"},I18n.t("Modify Roles"))),o.default.createElement(f.Td,{className:"text-right",mobileClassNames:"pure-u-1-12"},this.renderRemoveOrHide()))},renderRemoveOrHide:function(){var e=void 0,t=void 0;if(this.canRemove())e=I18n.t("Delete"),t="gs-x";else{if(!this.canHide())return null;e=I18n.t("Hide"),t="gs-preview-off"}return o.default.createElement("button",{type:"button",onClick:this.confirmRemoval,className:"btn--reset padding-xs"},o.default.createElement("span",{className:"screenreader-only",children:e}),o.default.createElement(T.Icon,{className:t+" gs-1x dark-grey"}))},renderWantToRemove:function(){var e=this.props.user;return o.default.createElement(f.Tr,{mobileClassNames:"pure-g"},o.default.createElement(f.Td,{colSpan:"3",mobileClassNames:"pure-u-1",className:"padding-none"},o.default.createElement("div",{className:"removable-item removable-item--focused"},o.default.createElement("div",{className:"removable-item__title"},o.default.createElement(E.default,(0,s.default)({},e,{className:"left margin-r-s"})),o.default.createElement("span",{className:"avatar__label"},o.default.createElement(I.default,{text:e.name,highlight:this.props.highlight}))),o.default.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Delete Learner?")}),o.default.createElement("div",{className:"removable-item__buttons"},o.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),o.default.createElement("button",{type:"button",className:"btn--reset upcase small padding-rl-s text-center confirm-remove-learner pink",onClick:this.remove,children:I18n.t("Delete")})))))},renderWantToHide:function(){var e=this.props.user;return o.default.createElement(f.Tr,{mobileClassNames:"pure-g"},o.default.createElement(f.Td,{colSpan:"3",mobileClassNames:"pure-u-1",className:"padding-none"},o.default.createElement("div",{className:"removable-item removable-item--focused"},o.default.createElement("div",{className:"removable-item__title"},o.default.createElement(E.default,(0,s.default)({},e,{className:"left margin-r-s"})),o.default.createElement("span",{className:"avatar__label"},o.default.createElement(I.default,{text:e.name,highlight:this.props.highlight}))),o.default.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Permanently Hide Learner?")}),o.default.createElement("div",{className:"removable-item__buttons"},o.default.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),o.default.createElement("button",{type:"button",className:"btn--reset upcase small padding-rl-s text-center confirm-remove-learner pink",onClick:this.hide,children:I18n.t("Hide")})))))},renderEditingRoles:function(){var e=this.props,t=e.user,n=e.isMobile;return o.default.createElement(f.Tr,{mobileClassNames:"pure-g"},o.default.createElement(f.Td,{colSpan:"3",mobileClassNames:"pure-u-1",className:"padding-none"},o.default.createElement("div",{className:"removable-item removable-item--focused"},o.default.createElement(S.default,{onCancel:this.endEdit,onSave:this.saveEdit,isMobile:n,user:t,className:(0,p.default)("edit-user-roles","padding-s",{"pure-g-r":n,"pure-g":!n})},o.default.createElement(E.default,(0,s.default)({},t,{className:"left margin-r-s"})),o.default.createElement("span",{className:"avatar__label"},o.default.createElement(I.default,{text:t.name,highlight:this.props.highlight}))))))},canRemove:function(){return this.props.user.id!==h.default.getCurrentUserId()&&(!this.props.user.deletedAt&&((0,y.default)("user_destroy",this.props.user)&&!this.props.autoCsv))},canHide:function(){return!!A.default.inheritsSupportPrivileges()&&(this.props.user.id!==h.default.getCurrentUserId()&&(!!this.userIsDeleted()&&((0,y.default)("user_destroy",this.props.user)&&!this.props.autoCsv)))},endEdit:function(){this.setState({isEditingRoles:!1})},saveEdit:function(){this.props.onRoleSave&&this.props.onRoleSave(),this.endEdit()},userIsDeleted:function(){return!!this.props.user.deletedAt},hide:function(){this.props.onHide&&this.props.onHide()}});e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(13),o=r(i),l=n(54),u=r(l),c=n(133),d=r(c),p=n(24),f=r(p),m=n(5),h=n(97),g=r(h),v=n(52),_=r(v),y=n(123),b=r(y),E=n(30),C=r(E),I=n(19),T=r(I),N=n(239),S=r(N),x=n(50),A=n(189),k=r(A),w=n(109),R=r(w),O=n(2635),P=r(O),L=n(2636),M=r(L),D=n(6),U=r(D),F=n(3),q=n(626),B=r(q),j=n(114),H=r(j),G=s.default.createClass({displayName:"UsersView",mixins:[S.default,B.default],propTypes:{query:(0,F.shape)({search:F.string,sort:F.string,role:F.string,deleted:F.bool}),permissions:(0,F.shape)({user:(0,F.shape)({create:F.bool,destroy:F.bool,export:F.bool,send_message:F.bool}),role:(0,F.shape)({create:F.bool,view:F.bool})}),isMobile:F.bool,isLoading:F.bool,onRoleSave:F.func,users:(0,F.arrayOf)(n(42)),roles:(0,F.arrayOf)(n(175)),autoCsv:F.bool},getInitialState:function(){return{isAdding:!1}},getDefaultProps:function(){return{isLoading:!1,isMobile:!1,users:[],onUserCreate:Function.prototype,autoCsv:!0}},componentWillReceiveProps:function(e){e.isLoading&&this.freeze()},componentDidUpdate:function(e){e.isLoading&&!this.props.isLoading&&this.unfreeze()},render:function(){var e=this,t=this.props,n=t.users,r=t.isMobile,a=t.query,i=t.permissions,o=!(r||H.default.isMobile());return s.default.createElement(g.default,null,s.default.createElement(u.default,{name:"layout--list__header-text"},I18n.t("Users")),this.renderActions(),s.default.createElement("div",{className:"sortable-table-header--first-item"},s.default.createElement("div",{className:"left indigo"},s.default.createElement(_.default,{searchTerm:a.search,placeholderText:I18n.t("Search for users")})),s.default.createElement("div",{className:"right"},this.renderFilterDropDown(a),i.role.view&&this.renderRoleFilter(a),o&&!this.props.autoCsv&&this.renderCSVLinks(),o&&this.renderExportLink())),s.default.createElement(x.Table,{className:"user-list",sort:a.sort,onSort:this.updateSort},s.default.createElement(x.Thead,null,s.default.createElement(x.Tr,null,s.default.createElement(x.Th,{className:"th-60",sortParam:"name"},I18n.t("Name")),s.default.createElement(x.Th,{className:"th-40",sortable:!1}),s.default.createElement(x.Th,{className:"th-20",sortable:!1}))),s.default.createElement(x.Tbody,null,this.state.isAdding&&s.default.createElement(P.default,{colSpan:this.props.permissions.role.create?"3":"2",onCancel:function(){return e.setState({isAdding:!1})},onCreate:this.createUser,isMobile:r}),n.length>0&&n.map(function(t){return s.default.createElement(M.default,{key:"user-"+t.id,user:t,isMobile:r,highlight:a.search,autoCsv:e.props.autoCsv,canEditRoles:e.props.permissions.role.create,onRemove:e.deleteUser.bind(null,t),onRoleSave:e.props.onRoleSave.bind(null,t),onHide:e.hideUser.bind(null,t)})}))),this.renderUpgradeModal(),this.props.isLoading&&s.default.createElement("div",{className:"loader-container"},s.default.createElement("div",{className:"loader-large loader-7 marbin-b-xl"})),0===n.length&&!this.props.isLoading&&s.default.createElement("div",{className:"border-b border-grey centered padding-m"},s.default.createElement("p",{className:"text-center dark-grey"},I18n.t("There are no users matching your criteria.")),s.default.createElement("p",{className:"text-center"},s.default.createElement("button",{className:"btn--reset blue",onClick:this.clearQuery},I18n.t("Start over.")))))},renderFilterTrigger:function(){var e=this.activeFilters(),t=e.managersOnly,n=e.deleted,r=t||n,a=(0,U.default)({"users-view__filter-popup__trigger":!0,"users-view__filter-popup__trigger--last":!0,"dark-grey":!r});return s.default.createElement("button",{type:"button",className:a},r?this.activeFilterLabel(t,n):I18n.t("Filter"),s.default.createElement(m.Icon,{className:"margin-l-xs gs-arrow-down gs-3-4"}))},renderRoleFilterTrigger:function(){var e=this.activeFilters(),t=e.role,n=(0,U.default)({"users-view__filter-popup__trigger":!0,"dark-grey":!t});return s.default.createElement("button",{type:"button",className:n},t?t.name:I18n.t("Role"),s.default.createElement(m.Icon,{className:"margin-l-xs gs-arrow-down gs-3-4"}))},renderActions:function(){var e=this;return s.default.createElement(u.default,{name:"layout--list__after-header"},!this.props.autoCsv&&this.props.permissions.user.create&&s.default.createElement("button",{type:"button",className:"add-btn add-btn--detail","aria-label":I18n.t("Add Learner"),"data-capybara":"add_learner",onClick:function(){return e.setState({isAdding:!0})}},s.default.createElement(f.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New User*"),wrappers:{"*":s.default.createElement("span",{className:"add-btn__text"},"$1")}},"$1"))),!this.hasActiveFilters()&&this.props.permissions.user.send_message&&s.default.createElement(k.default,{wrapperClassName:"margin-r-xs right",round:!0,recipientType:"learner",onMessageSend:function(e){return(0,T.default)(e)},onMessageFail:function(e){return(0,T.default)(e,{type:"error"})}}))},renderCSVLinks:function(){return s.default.createElement("span",null,this.props.permissions.user.create&&s.default.createElement(o.default,{to:"author.users.upload",queryParams:{uploadType:"import"},className:"combo-box--btn margin-rl-m right",children:I18n.t("Add via CSV"),"data-capybara":"add_via_CSV"}),this.props.permissions.user.destroy&&s.default.createElement(o.default,{to:"author.users.upload",queryParams:{uploadType:"deport"},className:"combo-box--btn right",children:I18n.t("Remove via CSV"),"data-capybara":"remove_via_CSV"}))},renderExportLink:function(){if(this.props.isMobile||!this.props.permissions.user.export)return null;var e={id:"UsersReport",sort:this.props.query.sort};return s.default.createElement(d.default,{className:"combo-box--btn right margin-rl-m",type:"report",info:e,children:I18n.t("Export Users"),capybara:"export_users"})},renderFilterDropDown:function(e){var t=[{label:I18n.t("Show"),exclusive:!0,key:"only_managers",options:[{label:I18n.t("All Users"),value:void 0},{label:I18n.t("Managers Only"),value:!0}]},{label:I18n.t("Status"),key:"deleted",exclusive:!0,options:[{label:I18n.t("Active"),value:void 0},{label:I18n.t("Terminated"),value:!0}]}];return s.default.createElement(b.default,{filterSets:t,activeFilters:e,onChange:this.updateFilters,align:"right"},s.default.createElement(b.default.Trigger,null,this.renderFilterTrigger()))},renderRoleFilter:function(e){var t=[{label:I18n.t("Role"),key:"role",exclusive:!0,options:this.filterOptions()}];return s.default.createElement(b.default,{filterSets:t,activeFilters:e,onChange:this.updateFilters,align:"right"},s.default.createElement(b.default.Trigger,null,this.renderRoleFilterTrigger()))},clearFilters:function(e){e.stopPropagation(),this.updateFilters({role:null,deleted:null})},activeFilters:function(){var e=this,t=this.props.roles.filter(function(t){return t.id===e.props.query.role})[0],n=this.props.query.deleted===!0,r="true"===this.props.query.only_managers;return{role:t,deleted:n,managersOnly:r}},hasActiveFilters:function(){var e=this.activeFilters(),t=e.role,n=e.deleted,r=e.managersOnly;return t||n||r},filterOptions:function(){var e=this.props.roles.map(function(e){return{label:e.name,value:e.id}});return e.unshift({label:I18n.t("Any Role"),value:void 0}),e},activeFilterLabel:function(e,t){return I18n.t("%{deleted}%{type}",{deleted:t?I18n.t("Terminated "):"",type:e?I18n.t("Managers"):""})},clearQuery:function(){C.default.updateQuery({search:void 0,sort:void 0,role:void 0,deleted:void 0})},createUser:function(e){var t=this;R.default.createUser({attributes:e,params:this.props.query}).then(function(){(0,T.default)(I18n.t("User created successfully!"))},function(e){var n=e.responseJSON&&e.responseJSON.errors,r=n[0];r&&"user_limit"===r.code?t.openUpgradeModal(r.code,r.detail):(0,
T.default)(I18n.t("There was a problem saving the user."),{type:"error"})})},deleteUser:function(e){R.default.deleteUser(e)},hideUser:function(e){R.default.hideUser(e)},updateSort:function(e){C.default.updateQuery({sort:e})},updateFilters:function(e){C.default.updateQuery(e)}});e.exports=G},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(4),l=n(53),u=r(l),c=n(22),d=r(c),p=n(109),f=r(p),m=n(642),h=r(m),g=n(107),v=r(g),_=n(29),y=r(_),b=n(19),E=r(b),C=n(474),I=r(C),T=n(37),N=r(T),S=n(2640),x=r(S),A=n(842),k=r(A),w=n(2637),R=r(w),O=n(25),P=r(O),L=["deleted","only_deleted","with_deleted"],M=s.default.createClass({displayName:"AuthorUsers",mixins:[(0,u.default)(function(e){f.default.fetchNext(e.query)}),(0,N.default)({mobile:N.default.QUERY_MOBILE})],propTypes:{query:(0,i.shape)({sort:i.string,search:i.string,role:i.string,deleted:i.string}),users:(0,i.arrayOf)(n(42)),roles:(0,i.arrayOf)(n(175)),isLoading:i.bool,onDataChange:i.func},getInitialState:function(){return{updatingToastDisplayed:!1}},componentDidMount:function(){k.default.register(this.onImportUpdate,this.onImportComplete)},componentWillUnmount:function(){k.default.unregister(),this.clearToast()},updateUsers:function(){this.props.onDataChange(["users"])},autoCsvEnabled:function(){return v.default.isAutoCsv()},onRoleSave:function(e){var t=this;I.default.saveRolesForUser(e).then(function(e){(0,E.default)(I18n.t("Roles updated."));var n=t.props.query.role,r=e.roles.map(function(e){return e.name});n&&r.indexOf(n)===-1&&t.updateUsers()},function(){return(0,E.default)(I18n.t("An error occurred when updating roles."),{type:"error"})})},clearToast:function(){(0,E.default)(null,{type:null})},onImportUpdate:function(){this.state.updatingToastDisplayed||((0,E.default)(I18n.t("Updating users..."),{dontDismiss:!0}),this.setState({updatingToastDisplayed:!0}))},onImportComplete:function(){this.clearToast(),(0,E.default)(I18n.t("Update complete!")),this.setState({updatingToastDisplayed:!1}),this.updateUsers()},normalizeTheBooleans:function(e){var t=(0,o.cloneDeep)(e);return L.forEach(function(n){"undefined"!=typeof e[n]&&(t[n]=!!e[n])}),t},render:function(){return s.default.createElement(R.default,{query:this.normalizeTheBooleans(this.props.query),users:this.props.users,roles:this.props.roles,isLoading:this.props.isLoading,permissions:(0,x.default)(),autoCsv:this.autoCsvEnabled(),onRoleSave:this.onRoleSave,isMobile:this.state.media.mobile})}});e.exports=(0,d.default)({type:M,blocking:!1,asyncProps:{users:{setup:function(e){f.default.addChangeListener(e)},teardown:function(e){f.default.removeChangeListener(e)},fetch:function(e){return f.default.fetchAll(e.query)},get:function(e){return f.default.getAll(e.query)},shouldRefetch:function(e,t){return!(0,o.isEqual)(e.query,t.query)}},roles:{fetch:function(){return(0,y.default)("role_view")?h.default.fetchAll():P.default.resolve([])},get:function(){return h.default.getAll()},setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"author.users",path:"/author/users",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return u.default.get("direct_messaging_enabled")}function s(){return{user:{create:(0,o.default)("user_create"),destroy:(0,o.default)("user_destroy"),export:(0,o.default)("user_data_export"),send_message:(0,o.default)("user_message_send")&&a()},role:{create:(0,o.default)("grant_create"),view:(0,o.default)("role_view")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n(29),o=r(i),l=n(107),u=r(l);e.exports=t.default},function(e,t,n){"use strict";var r=n(1323);e.exports={name:"author.learner",path:"/author/learner/:id",loadOrder:2,ember:{parentPath:["author"],sink:!0},handler:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(4),u=n(34),c=r(u),d=n(1449),p=r(d),f=n(37),m=r(f),h=n(53),g=r(h),v=n(107),_=r(v),y=n(29),b=r(y),E=n(302),C=r(E),I=n(237),T=n(2655),N=r(T),S=n(160),x=r(S),A=n(2),k=o.default.createClass({displayName:"AuthorLearnerDetails",mixins:[(0,g.default)(function(e){p.default.fetchNext(e.learner.id)}),(0,m.default)({mobile:m.default.QUERY_MOBILE})],propTypes:{learningItems:(0,A.arrayOf)(n(81)),learner:n(157),notificationTypes:(0,A.arrayOf)(x.default),attachments:A.any},getInitialState:function(){return{activeItem:null,trayIsOpen:!1}},render:function(){var e=this.props.attachments,t=e?{attachments:e}:{};return o.default.createElement(I.TrayLayout,{isOpen:this.state.trayIsOpen},o.default.createElement(I.ContentOutlet,null,o.default.createElement(N.default,(0,s.default)({permissions:this.getPermissions(),onAttachmentIconClick:this.toggleAttachmentsTray},this.props,{media:this.state.media}))),o.default.createElement(I.TrayOutlet,{onCloseClick:this.closeTray},o.default.createElement(C.default,(0,s.default)({},t,{activeItem:this.state.activeItem,role:"Author"}))))},closeTray:function(){this.setState({activeItem:null,trayIsOpen:!1})},openTray:function(e){this.setState({trayIsOpen:!0,activeItem:e})},toggleAttachmentsTray:function(e){this.state.trayIsOpen&&e.id===this.state.activeItem.id?this.closeTray():this.openTray(e)},getPermissions:function(){return{exportVisits:c.default.isSupport(),masquerade:this.canMasquerade(),message:this.isMessageable(),passwordMessage:this.isPasswordMessageable(),unsubscribe:(0,b.default)("user_email_unsubscribe"),update:(0,b.default)("user_update",this.props.learner),restore:(0,b.default)("user_restore",this.props.learner),updateUid:(0,b.default)("user_uid_update"),viewCourses:(0,b.default)("course_template_view"),viewLiveCourses:(0,b.default)("live_course_view"),viewNotifications:(0,b.default)("user_notification_history_view")||c.default.isSupport(),viewTeam:(0,b.default)("team_view")}},canMasquerade:function(){var e=this.props.learner;return!e.deletedAt&&(0,l.get)(e,"meta.canMasquerade")&&(0,b.default)("user_masquerade")},isMessageable:function(){return!!this.isAccountMessageable()&&(!!this.isLearnerMessageable()&&this.isMessagingPermitted())},isPasswordMessageable:function(){return this.isLearnerMessageable()&&!this.isAccountMessageable()},isAccountMessageable:function(){return _.default.get("notifications")},isLearnerMessageable:function(){var e=this.props.learner,t=e.deletedAt,n=e.email,r=e.unsubscribed;return n&&!(t||r)},isMessagingPermitted:function(){return(0,b.default)("user_message_send",this.props.learner)}});t.default=k,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={default:!0,parent:"author.learner"},e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=n(27),o=n(5),l=o.Icon,u=r.createClass({displayName:"NotificationDetail",propTypes:{notification:n(357).isRequired,onClose:s},getDefaultProps:function(){return{onClose:Function.prototype}},render:function(){var e=this.props.notification;return r.createElement("div",{className:"notification-details"},r.createElement("div",{className:"notification-actions"},r.createElement("button",{type:"button",onClick:this.props.onClose,className:"text-right right btn--reset padding-r-m pure-u-2-24"},r.createElement(i,{children:I18n.t("Close")}),r.createElement(l,{className:"gs-x gs-1x dark-grey"}))),r.createElement("div",{className:"notification-content"},e.html?r.createElement("div",{className:"dangerous-notification-details",dangerouslySetInnerHTML:{__html:e.html}}):r.createElement("div",null,I18n.t("This message has no HTML component"))))}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.string,i=a.func,o=n(120),l=n(50),u=l.Tr,c=l.Td,d=n(61),p=n(27),f=n(5),m=f.Icon,h=r.createClass({displayName:"NotificationRow",propTypes:{notification:n(357).isRequired,highlight:s,onClick:i},getDefaultProps:function(){return{highlight:"",onClick:Function.prototype}},render:function(){var e=this.props.notification;return r.createElement(u,{className:"notification-row"},r.createElement(c,null,r.createElement("span",{className:"notification-row__date"},o(e.sentAt,"llll Z"))),r.createElement(c,null,r.createElement("span",{className:"notification-row__subject"},r.createElement(d,{text:e.subject,highlight:this.props.highlight}))),r.createElement(c,null,r.createElement("a",{className:"notification-row__actions",onClick:this.props.onClick},r.createElement(m,{className:"notification-actions__view-icon"}),r.createElement(p,{children:I18n.t("View Notification")}))))}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(30),l=r(o),u=n(78),c=r(u),d=n(143),p=r(d),f=n(97),m=r(f),h=n(54),g=r(h),v=n(52),_=r(v),y=n(50),b=n(2645),E=r(b),C=n(2644),I=r(C),T=s.default.createClass({displayName:"NotificationsView",mixins:[p.default],propTypes:{query:(0,i.shape)({search:i.string,sort:i.string}),learner:n(157),notifications:(0,i.arrayOf)(n(357))},getInitialState:function(){return{viewingNotification:null}},render:function(){var e=this,t=this.props,n=t.query,r=t.notifications,a=this.props.learner.name;return s.default.createElement(m.default,null,s.default.createElement(g.default,{name:"layout--list__header-text"},I18n.t("Notifications for %{name}",{name:a})),s.default.createElement("div",{className:"sortable-table-header--first-item"},s.default.createElement("div",{className:"left indigo"},s.default.createElement(_.default,{searchTerm:n.search,placeholderText:I18n.t("Search for notifications")}))),s.default.createElement(y.Table,{className:"notifications-list",sort:n.sort,onSort:this.updateSort},s.default.createElement(y.Thead,null,s.default.createElement(y.Tr,{className:"notification-row"},s.default.createElement(y.Th,{className:"th-30",sortParam:"date"},I18n.t("Date")),s.default.createElement(y.Th,{className:"th-60",sortParam:"subject"},I18n.t("Subject")),s.default.createElement(y.Th,{className:"th-10",sortable:!1}))),s.default.createElement(y.Tbody,null,r.map(function(t){return s.default.createElement(E.default,{key:"notification-"+t.id,notification:t,highlight:n.search,onClick:function(){return e.viewNotification(t)}})}))),s.default.createElement(c.default,{isOpen:!!this.state.viewingNotification,className:"notification-details__modal",overlayClassName:"notification-details__overlay",onRequestClose:this.unviewNotification,contentLabel:I18n.t("Viewing Notification")},this.state.viewingNotification&&s.default.createElement(I.default,{notification:this.state.viewingNotification,onClose:this.unviewNotification})),0===r.length&&s.default.createElement("div",{className:"border-b border-grey centered padding-m"},s.default.createElement("p",{className:"text-center dark-grey"},n.search?I18n.t("%{name} has received no notifications matching your criteria.",{name:a}):I18n.t("%{name} has received no notifications.",{name:a})),!!n.search&&s.default.createElement("p",{className:"text-center"},s.default.createElement("button",{className:"btn--reset blue",onClick:this.clearSearch},I18n.t("Start over.")))))},clearSearch:function(){l.default.updateQuery({search:void 0})},updateSort:function(e){l.default.updateQuery({sort:e})},viewNotification:function(e){e!==this.state.viewingNotification&&(this.setState({viewingNotification:e}),e||this.closeModal)},unviewNotification:function(){this.viewNotification(null)}});e.exports=T},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.arrayOf,i=a.shape,o=a.string,l=n(22),u=n(4),c=u.get,d=n(53),p=n(1325),f=n(2646),m=r.createClass({displayName:"AuthorNotifications",mixins:[d(function(e){p.fetchNext(e.params.id,e.query)})],propTypes:{query:i({sort:o,search:o}),learner:n(157),notifications:s(n(357))},getDefaultProps:function(){return{query:{}}},render:function(){return r.createElement(f,this.props)}});e.exports=l({type:m,blocking:!0,asyncProps:{notifications:{setup:function(e){p.addChangeListener(e)},teardown:function(e){p.removeChangeListener(e)},get:function(e){return p.getAll(e.params.id,e.query)},fetch:function(e){return p.fetchAll(e.params.id,e.query)},shouldRefetch:function(e,t){return c(e,"params.id")!==c(t,"params.id")}}}})},function(e,t){"use strict";e.exports={name:"author.learner.notifications",parent:"author.learner",path:"notifications",loadOrder:1,ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(64),u=r(l),c=n(60),d=r(c),p=n(2653),f=r(p),m=n(143),h=r(m),g=n(359),v=r(g),_=n(2656),y=r(_),b=n(2654),E=r(b),C=n(34),I=r(C),T=n(29),N=r(T),S=n(2),x=[{value:"custom",label:I18n.t("Custom Message")},{value:"welcome",label:I18n.t("Invite")},{value:"password",label:I18n.t("Password Reset Request")}],A=o.default.createClass({displayName:"AuthorLearnerMessageBox",mixins:[h.default],propTypes:{loggedInAt:S.string,recipientName:S.string,recipientId:S.string,welcomedAt:S.string,welcomeUrl:S.string,passwordUrl:S.string,passwordOnly:S.bool,onMessageSend:S.func.isRequired,onMessageFail:S.func.isRequired,customMessageEnabled:S.bool,welcomeMessageEnabled:S.bool},getInitialState:function(){var e=void 0;return e=this.props.passwordOnly&&this.props.loggedInAt?"password":this.props.customMessageEnabled?"custom":"welcome",{currentMessageTypeValue:e,customMessageBody:""}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){var e=x.filter(this.messageTypeIsDisplayable);return 0===e.length?null:o.default.createElement(v.default,{close:this.closeModal,open:this.openModal,isOpen:this.isModalOpen(),className:"message-box"},o.default.createElement(v.default.Trigger,{round:!0,onTrigger:this.openModal,iconClassName:"gs-message",text:I18n.t("Send Message")}),o.default.createElement(v.default.Body,null,this.renderBody(e)))},renderBody:function(e){switch(this.state.currentMessageTypeValue){case"custom":return this.renderCustomMessage(e);case"welcome":return this.renderWelcomeMessage(e);case"password":return this.renderPasswordMessage(e);default:throw new Error('Unrecognized message type "'+this.state.currentMessageTypeValue+'"')}},renderCustomMessage:function(e){return o.default.createElement(f.default,{body:this.state.customMessageBody,recipientName:this.props.recipientName,recipientId:this.props.recipientId,onMessageSend:this.onMessageSend,onMessageFail:this.onMessageFail,onCancel:this.onCancel,onBodyChange:this.onCustomMessageBodyChange},this.renderHeader(e))},renderWelcomeMessage:function(e){return o.default.createElement(y.default,{recipientName:this.props.recipientName,recipientId:this.props.recipientId,welcomedAt:this.props.welcomedAt,welcomeUrl:this.props.welcomeUrl,onMessageSend:this.onMessageSend,onMessageFail:this.onMessageFail,onCancel:this.onCancel},this.renderHeader(e))},renderPasswordMessage:function(e){return o.default.createElement(E.default,{recipientName:this.props.recipientName,recipientId:this.props.recipientId,passwordUrl:this.props.passwordUrl,onMessageSend:this.onMessageSend,onMessageFail:this.onMessageFail,loggedInAt:this.props.loggedInAt,onCancel:this.onCancel},this.renderHeader(e))},renderHeader:function(e){var t=I18n.t("Message %{name}",{name:this.props.recipientName});return o.default.createElement("div",{className:"message-box__header"},o.default.createElement("div",{className:"ic-modal-title"},t),o.default.createElement(u.default,{id:"message-filter",className:"combo-box--message-filter",onChange:this.onMessageTypeChange,selectedValue:this.state.currentMessageTypeValue,dataCapybara:"message-type"},e.map(function(e,t){return o.default.createElement(d.default,(0,s.default)({key:"type-"+t},e),o.default.createElement("span",{"data-capybara":"message_type_option",className:"message-filter__label"},e.label))})))},passwordResetAllowed:function(){return!I.default.isSingleSignOn()},messageTypeIsDisplayable:function(e){var t=this.props,n=t.loggedInAt,r=t.passwordOnly,a=t.customMessageEnabled,s=t.welcomeMessageEnabled,i=this.passwordResetAllowed()&&(0,N.default)("resend_reset_password_email");switch(e.value){case"welcome":return!n&&i&&s&&!r;case"password":return n&&i;case"custom":default:return a&&!r}},onCancel:function(){this.setState({customMessageBody:""}),this.closeModal()},onCustomMessageBodyChange:function(e){this.setState({customMessageBody:e})},onMessageSend:function(){this.closeModal(),this.props.onMessageSend(I18n.t("Your message was successfully sent!"))},onMessageFail:function(){this.props.onMessageFail(I18n.t("There was a problem sending your message, please try again.")),this.isMounted()&&this.openModal()},onMessageTypeChange:function(e){this.setState({currentMessageTypeValue:e})}});e.exports=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(6),g=r(h),v=n(66),_=r(v),y=n(390),b=r(y),E=n(2657),C=r(E),I=n(19),T=r(I),N=n(90),S=r(N),x=n(24),A=r(x),k=function(e){return function(t){"Enter"!==t.key&&" "!==t.key||e(t)}},w=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderSearchResult=function(e){return f.default.createElement(S.default.Option,{className:"custom-field-value-autocomplete__widget__result",value:e,label:e,children:e})},e.componentDidUpdate=function(t,n){!n.isSearching&&e.state.isSearching&&e.refs.search.refs.input.focus()},e.startSearching=function(){e.setState({isSearching:!0})},e.stopSearching=function(){e.setState({isSearching:!1,searchResults:[]})},e.handleEscape=function(t){"Escape"===t.key&&e.setState({isSearching:!1,searchResults:[]},function(){e.refs.label.focus()})},e.performSearch=(0,_.default)(function(e){var t=this;return(0,b.default)(e)?void this.setState({searchResults:[]}):void this.props.onSearch(this.props.field.customField.id,e).then(function(e){t.setState({searchResults:e})},function(){(0,T.default)(I18n.t("Oh snap! We're having some trouble connecting to the server. Please try again."),{type:"error"})})}.bind(e),250),e.handleSelect=function(t){e.setState({isSearching:!1,searchResults:[]},function(){e.props.onSelect(e.props.field,t)})},e.state={isSearching:!1,searchResults:[]},e}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.field,t=this.state,n=t.isSearching,r=t.searchResults;return f.default.createElement("div",{onKeyUp:this.handleEscape},f.default.createElement("div",{ref:"label",className:(0,g.default)("custom-field-value-autocomplete__label",{hidden:n}),onClick:this.startSearching,onKeyUp:k(this.startSearching),tabIndex:"0",children:e.value||f.default.createElement("span",{className:"dark-grey"},f.default.createElement(A.default,null,I18n.t("(none)")))}),f.default.createElement(S.default,{ref:"search",className:(0,g.default)("custom-field-value-autocomplete__widget",{hidden:!n,react:!0}),inputClassName:(0,g.default)("custom-field-value-autocomplete__widget__input",{"ic-autocomplete-input":!0}),autocomplete:"list",onBlur:this.stopSearching,onInput:this.performSearch,onEnter:this.handleSelect,onSelect:this.handleSelect,placeholder:e.value,resetInputValue:!0,children:r.map(this.renderSearchResult)}))}}]),t}(p.Component);w.propTypes={field:m.object,onSelect:m.func,onSearch:m.func},w.defaultProps={onSearch:C.default},t.default=w,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.arrayOf,i=a.func,o=a.shape,l=a.string,u=n(2652),c=r.createClass({displayName:"Column",propTypes:{fields:s(o({customField:o({name:l})})),onUpdate:i},render:function(){return r.createElement("div",{className:"pure-u-1-2"},r.createElement("dl",{className:"attribute-list"},this.props.fields.map(this.renderField)))},renderField:function(e,t){return[r.createElement("dt",{key:"label-"+t,className:"attribute-list__name label blue",children:e.customField.name}),r.createElement(u,{key:"value-"+t,field:e,onUpdate:this.props.onUpdate,dataCapybara:e.customField.name.replace(" ","-")})]}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.any,i=a.bool,o=a.func,l=a.shape,u=a.string,c=n(4),d=c.partial,p=n(2650),f=n(55),m=n(69),h=r.createClass({displayName:"Value",propTypes:{field:l({isAttribute:i,isEditable:i,isBoolean:i,value:s}).isRequired,onUpdate:o.isRequired,dataCapybara:u},render:function(){return r.createElement("dd",{className:"attribute-list__value","data-capybara":this.props.dataCapybara},this.renderControl())},renderControl:function(){return this.props.field.isAttribute?this.renderAttribute():this.renderAutocomplete()},renderAttribute:function(){return this.props.field.isBoolean?this.renderToggle():this.renderTextField()},renderToggle:function(){var e=this.props.field;return r.createElement(f,{checked:e.value,disabled:!e.isEditable,onChange:this.handleCheckboxChange})},renderTextField:function(){var e=this.props.field,t=I18n.t("(none)");return r.createElement(m,{value:e.value,placeholder:t,readOnly:!e.isEditable,autoFocus:!0,className:e.value?null:"dark-grey",inputClassName:"x-medium",maxLength:"255",children:e.value||t,onChange:d(this.props.onUpdate,e)})},renderAutocomplete:function(){var e=this.props,t=e.field,n=e.onUpdate;return r.createElement(p,{field:t,onSelect:n})},handleCheckboxChange:function(){this.props.onUpdate(this.props.field,!this.props.field.value)}});e.exports=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=a(s),o=n(579),l=r(o),u=n(24),c=a(u),d=n(2),p=i.default.createClass({displayName:"CustomMessage",propTypes:{body:d.string,recipientId:d.string,recipientName:d.string,onBodyChange:d.func.isRequired,onMessageSend:d.func.isRequired,onMessageFail:d.func.isRequired,onCancel:d.func.isRequired,children:d.node},onSubmit:function(e){e.preventDefault(),""!==this.props.body&&l.sendCustomMessage(this.props.recipientId,this.props.body,this.props.onMessageSend,this.props.onMessageFail)},onBodyChange:function(){this.props.onBodyChange(this.refs.body.value)},render:function(){return i.default.createElement("form",{className:"ic-modal-form",onSubmit:this.onSubmit},i.default.createElement("div",{className:"ic-modal-main"},this.props.children,i.default.createElement("div",{className:"message-box__contents"},i.default.createElement("textarea",{ref:"body","data-capybara":"email-message-box-contents",placeholder:I18n.t("Write your message"),defaultValue:this.props.body,onChange:this.onBodyChange})),i.default.createElement("div",{className:"message-box__footer"},i.default.createElement("button",{type:"button",className:"btn button-cancel tertiary",onClick:this.props.onCancel},i.default.createElement(c.default,null,I18n.t("Cancel"))),i.default.createElement("button",{type:"submit",className:"btn button-submit filled"},i.default.createElement(c.default,null,I18n.t("Send"))))))}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=a(s),o=n(11),l=a(o),u=n(579),c=r(u),d=n(293),p=a(d),f=n(24),m=a(f),h=n(2),g=i.default.createClass({displayName:"PasswordMessage",propTypes:{recipientId:h.string,recipientName:h.string,loggedInAt:h.string,passwordUrl:h.string,onCancel:h.func.isRequired,onMessageSend:h.func.isRequired,onMessageFail:h.func.isRequired,children:h.node},onSubmit:function(e){e.preventDefault(),c.sendPasswordMessage(this.props.recipientId,this.props.onMessageSend,this.props.onMessageFail)},renderLastLoginInfo:function(){return this.props.loggedInAt?i.default.createElement("div",{className:"text-center clearfix"},i.default.createElement(m.default,null,i.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("last logged in on %{moment_logged_in_at_format_ll}",{moment_logged_in_at_format_ll:"%{moment_logged_in_at_format_ll}"}),moment_logged_in_at_format_ll:(0,l.default)(this.props.loggedInAt).format("ll")},"$1"))):null},render:function(){var e=I18n.t("%{name} will receive an email with this link",{name:this.props.recipientName});return i.default.createElement("form",{className:"welcome-message-box ic-modal-form",onSubmit:this.onSubmit},i.default.createElement("div",{className:"ic-modal-main"},this.props.children,i.default.createElement("div",{className:"message-box__contents"},i.default.createElement("p",{className:"text-center dark-grey bold","data-capybara":"password-reset-label"},e),i.default.createElement(p.default,{"data-capybara":"password-reset-url",value:this.props.passwordUrl}),this.renderLastLoginInfo()),i.default.createElement("div",{className:"message-box__footer"},i.default.createElement("button",{type:"button",className:"btn button-cancel tertiary","data-capybara":"cancel-message",onClick:this.props.onCancel},i.default.createElement(m.default,null,I18n.t("Cancel"))),i.default.createElement("button",{type:"submit",className:"btn button-submit filled","data-capybara":"send-message"},i.default.createElement(m.default,null,I18n.t("Send"))))))}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),i=a(s),o=n(1),l=a(o),u=n(4),c=n(36),d=a(c),p=n(11),f=a(p),m=n(579),h=r(m),g=n(34),v=a(g),_=n(107),y=a(_),b=n(39),E=a(b),C=n(2658),I=a(C),T=n(19),N=a(T),S=n(26),x=a(S),A=n(2649),k=a(A),w=n(54),R=a(w),O=n(18),P=a(O),L=n(792),M=a(L),D=n(1324),U=a(D),F=n(67),q=a(F),B=n(13),j=a(B),H=n(102),G=a(H),W=n(24),V=a(W),Y=n(65),z=a(Y),K=n(133),Q=a(K),$=n(626),X=a($),J=n(114),Z=a(J),ee=n(160),te=a(ee),ne=n(2),re=l.default.createClass({displayName:"View",mixins:[X.default],propTypes:{learningItems:(0,ne.arrayOf)(n(81)),learner:n(157),isMessageable:ne.bool,onAttachmentIconClick:ne.func,permissions:(0,ne.shape)({exportVisits:ne.bool,masquerade:ne.bool,message:ne.bool,unsubscribe:ne.bool,update:ne.bool,updateUid:ne.bool,viewCourses:ne.bool,viewLiveCourses:ne.bool,viewNotifications:ne.bool,passwordMessage:ne.bool,viewTeam:ne.bool}),media:ne.object,notificationTypes:(0,ne.arrayOf)(te.default)},getInitialState:function(){var e=this.props,t=e.learner,n=e.permissions;return{customFieldHistory:d.default.List([(0,I.default)(t,n)]),isEditing:!1}},componentWillReceiveProps:function(e){var t=e.learner,n=e.permissions;t.id===this.props.learner.id&&(0,u.isEqual)(t.customFieldValues,this.props.learner.customFieldValues)||this.setState({customFieldHistory:d.default.List([(0,I.default)(t,n)])})},componentWillUnmount:function(){this.state.customFieldHistory=null},sendPasswordEmail:function(){var e=this.props.learner;h.sendPasswordMessage(e.id,this.onMessageSend,this.onMessageFail)},onMessageSend:function(){(0,N.default)(x.default.t("Your message was successfully sent!"))},onMessageFail:function(){(0,N.default)(x.default.t("There was a problem sending your message, please try again."),{type:"error"})},renderPasswordInfos:function(){var e=this.props.learner;return(this.props.permissions.message||this.props.permissions.passwordMessage)&&e.loggedInAt?l.default.createElement("div",{className:"padding-rl-m large-content-area centered clearfix"},l.default.createElement("div",null,l.default.createElement(P.default,{type:"button",className:"btn filled primary btn-margin-r",onClick:this.sendPasswordEmail,children:x.default.t("Reset Password")})),l.default.createElement(V.default,null,l.default.createElement(x.default.ComponentInterpolator,{string:x.default.t("last logged in on %{moment_learner_logged_in_at_format_ll}",{moment_learner_logged_in_at_format_ll:"%{moment_learner_logged_in_at_format_ll}"}),moment_learner_logged_in_at_format_ll:(0,f.default)(e.loggedInAt).format("ll")},"$1"))):null},render:function(){return l.default.createElement("div",{className:"author-user"},l.default.createElement(G.default,{type:"learner",hasIcon:!1},this.renderBasicInfo(),this.renderActions(),this.renderCustomFields()),l.default.createElement(M.default,{className:"margin-t-xl",learningItems:this.props.learningItems,itemLink:"author.course.index",isLearner:!1,onAttachmentIconClick:this.props.onAttachmentIconClick,noItemsText:x.default.t("This user currently doesn't have anything assigned."),permissions:this.props.permissions}),this.renderUpgradeModal())},renderBasicInfo:function(){var e=this.props.learner;return l.default.createElement(R.default,{name:"layout--item-header__details"},l.default.createElement("div",{className:"author-user-header"},l.default.createElement(z.default,(0,i.default)({className:"avatar--user-header"},e)),l.default.createElement("div",{className:"author-user-header__info"},l.default.createElement("h1",{className:"author-user-header__name","data-capybara":"avatar-user-header-label"},e.name),l.default.createElement("ul",{className:"author-user-header__meta"},this.shouldShowManager(e)&&this.renderManagerInfo(e),this.shouldShowTeam(e)&&this.renderTeamInfo(e)))))},renderTeamInfo:function(e){var t=this.props.permissions,n=x.default.t({one:"Manages 1 person",other:"Manages %{count} people"},{count:e.ownedTeamMembershipCount});return l.default.createElement("li",{className:"author-user-header__team","data-capybara":"avatar-user-header-team"},t.viewTeam?l.default.createElement(q.default,{to:"author.group",params:{groupId:e.ownedTeamId}},n):n)},renderManagerInfo:function(e){return l.default.createElement("li",{className:"author-user-header__manager","data-capybara":"avatar-user-header-manager"},l.default.createElement(V.default,null,x.default.t("Manager:"))," ",l.default.createElement(q.default,{to:"author.learner",params:{id:e.managerId}},e.managerName))},renderActions:function(){var e=this.state.isEditing,t=this.props.permissions;return l.default.createElement(R.default,{name:"layout--item-header__actions"},!e&&this.renderMessageBox(),this.renderButtons(),!e&&t.viewNotifications&&this.renderViewNotificationsLink())},renderViewNotificationsLink:function(){return l.default.createElement(q.default,{to:"author.learner.notifications",params:{id:this.props.learner.id},children:x.default.t("View Notifications"),className:"btn secondary btn-margin-r"})},renderMessageBox:function(){var e=this.props,t=e.learner,n=e.permissions;return n.message||n.passwordMessage&&t.loggedInAt?l.default.createElement(k.default,(0,i.default)({recipientName:t.name,recipientId:t.id,onMessageSend:N.default,onMessageFail:(0,u.partialRight)(N.default,{type:"error"}),passwordOnly:!!this.props.permissions.passwordMessage,customMessageEnabled:this.customMessageEnabled(),welcomeMessageEnabled:this.welcomeMessageEnabled()},t)):null},renderButtons:function(){return this.state.isEditing?this.renderEditingButtons():this.renderNotEditingButtons()},renderEditingButtons:function(){return[l.default.createElement(P.default,{key:"cancel-editing",className:"btn secondary btn-margin-r",onClick:this.handleCancelEditingCustomFields,children:x.default.t("Cancel")}),l.default.createElement(P.default,{key:"save-fields",className:"btn filled primary btn-margin-r",disabled:this.state.customFieldHistory.size<=1,onClick:this.handleSaveCustomFields,children:x.default.t("Save")})]},renderNotEditingButtons:function(){var e=this.props,t=e.learner,n=e.permissions,r={id:"UserVisitReport",user_id:this.props.learner.id},a=!(this.props.media.mobile||Z.default.isMobile());return[n.masquerade&&l.default.createElement(P.default,{key:"masquerade",type:"button",className:"btn secondary btn-margin-r",onClick:this.handleMasquerade,
children:x.default.t("Become")}),a&&n.exportVisits&&l.default.createElement("span",{key:"export-visits"},l.default.createElement(Q.default,{className:"btn secondary btn-margin-r",type:"report",info:r,children:x.default.t("Export Visits"),capybara:"export_visits"})),n.update&&!t.deletedAt&&l.default.createElement(P.default,{key:"edit",className:"btn secondary btn-margin-r",onClick:this.handleStartEditingCustomFields,children:x.default.t("Edit User"),"data-capybara":"edit-user-btn"}),n.restore&&t.deletedAt&&this.nonAutoCsv()&&l.default.createElement(P.default,{key:"restore",className:"btn secondary btn-margin-r",onClick:this.handleRestore,children:x.default.t("Restore")})].filter(function(e){return e})},renderCustomFields:function(){return this.state.isEditing?l.default.createElement(R.default,{name:"layout--item-header__after-content"},l.default.createElement(U.default,{fields:this.getCustomFields().toJS(),onUpdate:this.handleUpdateCustomField}),this.renderPasswordInfos()):null},nonAutoCsv:function(){return!y.default.isAutoCsv()},shouldShowManager:function(e){return e.managerId&&e.managerId!==v.default.getCurrentUserId()},shouldShowTeam:function(e){return!!e.ownedTeamId},handleStartEditingCustomFields:function(){this.setState({isEditing:!0})},handleUpdateCustomField:function(e,t){var n=this.getCustomFields(),r=n.findIndex(function(t){return t.getIn(["customField","id"])===e.customField.id});if(~r){var a=this.state.customFieldHistory;this.setState({customFieldHistory:a.push(n.setIn([r,"value"],t))})}},handleCancelEditingCustomFields:function(){this.setState({customFieldHistory:this.state.customFieldHistory.take(1),isEditing:!1})},handleSaveCustomFields:function(){var e=this;this.setState({isEditing:!1}),h.saveCustomFields(this.props.learner,this.getCustomFields().toJS()).then(function(){e.setState({customFieldHistory:e.state.customFieldHistory.takeLast(1)}),e.updateCurrentUser()},this.handleSaveCustomFieldsError)},handleMasquerade:function(){var e=this.props.learner;return v.default.becomeUser(e.id).then(function(){j.default.replaceWith(v.default.getPostAuthRoute())},function(){(0,N.default)(x.default.t("There was a problem masquerading as %{name}",{name:e.name}),{type:"error"})})},handleRestore:function(){var e=this;h.restore(this.props.learner).catch(function(t){if(402===t.status){var n=t.responseJSON&&t.responseJSON.errors,r=n[0];r&&"user_limit"===r.code&&e.openUpgradeModal(r.code,r.detail)}else(0,N.default)(x.default.t("Sorry! %{error_message}",{error_message:t.responseText}),{type:"error"})})},getCustomFields:function(){return this.state.customFieldHistory.last()},updateCurrentUser:function(){var e=this.props.learner,t=v.default.getCurrentUserId();e.id===t&&E.default.updateNameAndUID(e.name,e.uid)},handleSaveCustomFieldsError:function(e){N.default.responseError(e,x.default.t("There was a problem saving the learner.")),this.setState({isEditing:!0})},customMessageEnabled:function(){var e=this.props.notificationTypes.find(function(e){return"direct_message"===e.id});return e.channels.email||e.channels.slack},welcomeMessageEnabled:function(){var e=this.props.notificationTypes.find(function(e){return"welcome"===e.id});return e.channels.email}});t.default=re,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=a(s),o=n(579),l=r(o),u=n(293),c=a(u),d=n(24),p=a(d),f=n(11),m=a(f),h=n(2),g=i.default.createClass({displayName:"WelcomeMessage",propTypes:{recipientId:h.string,recipientName:h.string,welcomedAt:h.string,welcomeUrl:h.string,onCancel:h.func.isRequired,onMessageSend:h.func.isRequired,onMessageFail:h.func.isRequired,children:h.node},onSubmit:function(e){e.preventDefault(),l.sendWelcomeMessage(this.props.recipientId,this.props.onMessageSend,this.props.onMessageFail)},renderDate:function(){var e=I18n.t("Last Invited on %{date}",{date:(0,m.default)(this.props.welcomedAt).format("LL")});return i.default.createElement("p",{className:"text-center dark-grey small"},e)},render:function(){var e=I18n.t("%{name} will receive an email with this link",{name:this.props.recipientName});return i.default.createElement("form",{className:"welcome-message-box ic-modal-form",onSubmit:this.onSubmit},i.default.createElement("div",{className:"ic-modal-main"},this.props.children,i.default.createElement("div",{className:"message-box__contents"},i.default.createElement("p",{className:"text-center dark-grey bold"},e),i.default.createElement(c.default,{value:this.props.welcomeUrl}),this.props.welcomedAt&&this.renderDate()),i.default.createElement("div",{className:"message-box__footer"},i.default.createElement("button",{type:"button",className:"btn button-cancel tertiary",onClick:this.props.onCancel},i.default.createElement(p.default,null,I18n.t("Cancel"))),i.default.createElement("button",{type:"submit",className:"btn button-submit filled"},i.default.createElement(p.default,null,I18n.t("Send"))))))}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return n({url:"/api/author/search/custom_field_values",data:{term:t,custom_field_id:e,limit:5}}).then(function(e){var t=e.values;return t})}var a=n(7);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(36);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[{customField:{id:"firstName",name:I18n.t("First Name")},value:e.firstName,isAttribute:!0,isEditable:!0},{customField:{id:"lastName",name:I18n.t("Last Name")},value:e.lastName,isAttribute:!0,isEditable:!0},{customField:{id:"fullName",name:I18n.t("Full Name")},value:e.fullName,isAttribute:!0,isEditable:!0},{customField:{id:"sortableName",name:I18n.t("Sortable Name")},value:e.sortableName,isAttribute:!0,isEditable:!0},{customField:{id:"uid",name:I18n.t("Unique Identifier")},value:e.uid,isAttribute:!0,isEditable:t.updateUid},{customField:{id:"hrisId",name:I18n.t("HRIS Identifier")},value:e.hrisId,isAttribute:!0,isEditable:t.updateUid},{customField:{id:"email",name:I18n.t("Email Address")},value:e.email,isAttribute:!0,isEditable:!0},{customField:{id:"hireDate",name:I18n.t("Hire Date")},value:e.hireDate,isAttribute:!0,isEditable:!1},{customField:{id:"jobTitle",name:I18n.t("Job Title")},value:e.jobTitle,isAttribute:!0,isEditable:!1},{customField:{id:"unsubscribed",name:I18n.t("Unsubscribed")},value:e.unsubscribed,isAttribute:!0,isEditable:t.unsubscribe,isBoolean:!0}],r=e.customFields,a=e.customFieldValues,o=n.filter(function(e){return!e.isHidden});return i.fromJS(o.concat(a.map(function(e){var t=r.filter(function(t){return t.id===e.customFieldId}),n=(0,s.default)(t,1),a=n[0];return{customField:{id:a.id,name:a.name},value:e.value,isAttribute:!1}})))}},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(357),perform:function(e,t){var n=t.sort,r=void 0===n?null:n,s=t.search,i=void 0===s?null:s,o=t.nextPageURL,l=void 0===o?null:o;return a({url:l||"/api/author/users/"+e+"/notifications",data:{search:i,sort:r}})},parse:function(e,t){return t.notifications.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(273),s=r(a);t.default=(0,s.default)({contextType:"domain",confirmRoute:"author.users.import.confirm",uploadRoute:"author.users.upload",cancelRoute:"author.users",contextual:!1,generateTitle:function(e){var t=I18n.t("Add/Update Learners & Assign Managers");return e?t:I18n.t("Remove Users")},generateContextTitle:function(){return I18n.t("Bridge")}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"author.users.import",path:"/author/users/import"}},function(e,t,n){"use strict";var r=n(272),a=n(842);e.exports=r({contextType:"account",contextRoute:"author.users",contextual:!1,notifier:a})},function(e,t){"use strict";e.exports={name:"author.users.import.confirm",path:"/author/users/import/confirm"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(308),s=r(a),i=n(13),o=r(i),l=n(107),u=r(l),c=n(20),d=r(c),p=n(177),f="author.users",m=(0,s.default)({contextType:"domain",importRoute:"author.users.import",cancelRoute:f,contextual:!1,getToastTitle:function(){return I18n.t("Heads Up!")},getToastMessage:function(){return I18n.t("While you won't be able to import your users, we want you to see how great the experience will be. Contact us to learn more: %{phoneNumber} or %{emailAddress}",{phoneNumber:"<strong>844.358.7156</strong>",emailAddress:'<a href="mailto:upgrade@getbridge.com">upgrade@getbridge.com</a>'})},toastPrecondition:function(){return(0,d.default)("free_trial_restrictions")&&"import"===this.query.uploadType&&(0,p.isFreeAccount)()},willMountHook:function(){u.default.isAutoCsv()&&o.default.transitionTo(f)}});e.exports=m},function(e,t){"use strict";e.exports={name:"author.users.upload",path:"/author/users/upload"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(580),s=r(a),i=n(12);e.exports=(0,s.default)({fragment:"courses",params:["courseId","learnerId"],learnableType:i.LEARNING_ITEM_COURSE_TYPE})},function(e,t){"use strict";e.exports=function(e){e({name:"course-certificate",path:"learner/courses/:courseId/certificate"}),e({name:"course-certificate-for-other",path:"learner/courses/:courseId/certificate/:learnerId"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(580),s=r(a),i=n(12);e.exports=(0,s.default)({fragment:"live_courses",params:["liveCourseId","learnerId"],learnableType:i.LEARNING_ITEM_LIVE_COURSE_TYPE})},function(e,t){"use strict";e.exports=function(e){e({name:"training-certificate",path:"learner/training/:liveCourseId/certificate"}),e({name:"training-certificate-for-other",path:"learner/training/:liveCourseId/certificate/:learnerId"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(580),s=r(a),i=n(12);e.exports=(0,s.default)({fragment:"programs",params:["programId","learnerId"],learnableType:i.LEARNING_ITEM_PROGRAM_TYPE})},function(e,t){"use strict";e.exports=function(e){e({name:"program-certificate",path:"learner/programs/:programId/certificate"}),e({name:"program-certificate-for-other",path:"learner/programs/:programId/certificate/:learnerId"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(580),s=r(a),i=n(12);e.exports=(0,s.default)({fragment:"tasks",params:["taskId","learnerId"],learnableType:i.LEARNING_ITEM_TASK_TYPE})},function(e,t){"use strict";e.exports=function(e){e({name:"checkpoint-certificate",path:"learner/checkpoints/:taskId/certificate"}),e({name:"checkpoint-certificate-for-other",path:"learner/checkpoints/:taskId/certificate/:learnerId"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(186),o=r(i),l=n(12);e.exports=function(e){e.Preview=o.default.addScreen("certificate",function(){return I18n.t("Certificate")},s.default.createClass({displayName:"Preview",render:function(){var t={learnableTitle:"Giraffe Herding 101",earnedAt:"2015-04-21T10:57:33.299-06:00",issuer:"WubWub",recipient:"Nick Mabry",score:100};return s.default.createElement(e,{certificate:t,learnableType:l.LEARNING_ITEM_COURSE_TYPE,isPrinting:!1,onPrint:Function.prototype})}}))}},function(e,t,n){"use strict";var r=n(8);e.exports=r({schema:n(847),url:"/api/learner/%@/%@/certificate/%@",parse:function(e,t){return e(t.certificates[0])}})},function(e,t,n){"use strict";var r=n(1),a=n(849),s=a.FAILED,i=n(1328),o={id:"FAILED",downloadType:"FAILURE",userId:"FAILED",state:s},l=r.createClass({displayName:"DownloadFailed",render:function(){return r.createElement(i,{download:o})}});e.exports=l},function(e,t){"use strict";e.exports={name:"download_failed",path:"/download/failed",loadOrder:2}},function(e,t,n){"use strict";var r=n(1),a=n(875),s=n(13),i=r.createClass({displayName:"DownloadNew",statics:{willTransitionTo:function(e,t,n){a.create(n.type,n.info).then(function(e){s.replaceWith("/download/"+e.id)},function(){s.replaceWith("/download/failed")})}},render:function(){return null}});e.exports=i},function(e,t){"use strict";e.exports={name:"download_new",path:"/download/new",loadOrder:1}},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(456),i=n(875),o=n(1328),l=n(4),u=l.isEqual,c=n(116),d=r.createClass({displayName:"DownloadShow",propTypes:{download:s},render:function(){return r.createElement("div",null,r.createElement(c,null),r.createElement(o,{download:this.props.download}),")")}});e.exports=a({type:d,blocking:!0,asyncProps:{download:{setup:function(e){i.addChangeListener(e)},teardown:function(e){i.removeChangeListener(e)},fetch:function(e){return i.fetch(e.params.id).then(function(e){return i.poll(e.id),e})},get:function(e){return i.get(e.params.id)},shouldRefetch:function(e,t){return!u(e.params.id,t.params.id)}}}})},function(e,t){"use strict";e.exports={name:"download",path:"/download/:id",loadOrder:3}},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.string,i=n(98),o=i.NikkiSixxGradient,l=r.createClass({displayName:"CautionIcon",propTypes:{className:s},render:function(){return r.createElement("svg",{className:this.props.className,viewBox:"0 0 512 512"},r.createElement("defs",null,r.createElement(o,{orientation:"vertical"})),r.createElement("path",{d:"M503.9,422.7L290.6,50.9c-19-33-50.2-32.2-69.2,0.8L8.1,422.3c-19,33-3.5,62.7,34.6,62.7h426.5 C507.3,485,522.9,455.7,503.9,422.7z M275.6,400.6c-1.3,3-3.1,5.4-5.3,7.2c-2.2,1.8-4.8,3.2-7.7,4c-2.9,0.8-6,1.2-9.3,1.2 c-3.4,0-6.5-0.4-9.5-1.2c-3-0.8-5.6-2.1-7.7-4c-2.2-1.8-3.9-4.2-5.1-7.2c-1.3-3-1.9-6.7-1.9-11.1c0-4.5,0.6-8.3,1.9-11.3 c1.2-3,2.9-5.5,5.1-7.3c2.2-1.8,4.7-3.1,7.7-3.9c3-0.8,6.1-1.1,9.5-1.1c3.3,0,6.4,0.4,9.3,1.1c2.9,0.8,5.5,2.1,7.7,3.9 c2.2,1.8,4,4.3,5.3,7.3c1.3,3,1.9,6.8,1.9,11.3C277.6,394,276.9,397.7,275.6,400.6z M261.4,347h-16.6l-17.4-139h51.3L261.4,347z",fill:o.getFill()}))}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=n(2684),o=n(752),l=r.createClass({displayName:"Waiting",propTypes:{onClose:s.isRequired},render:function(){return r.createElement(o,{title:I18n.t("Done exporting"),header:I18n.t("Downloading now. Go nerd it up in spreadsheet land."),help:I18n.t("Youre all set!"),button:window.opener?I18n.t("Close Window"):I18n.t("Okay"),icon:r.createElement(i,{className:"download-icon"}),onClose:this.props.onClose})}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.string,i=n(98),o=i.ReverseRothGradient,l=r.createClass({displayName:"DownloadIcon",propTypes:{className:s},render:function(){return r.createElement("svg",{className:this.props.className,viewBox:"0 0 512 512"},r.createElement("defs",null,r.createElement(o,{orientation:"horizontal"})),r.createElement("g",{transform:"translate(255.840909, 250.159091) rotate(-270.000000) translate(-255.840909, -250.159091) translate(27.840909, -3.840909)"},r.createElement("path",{d:"M445.250311,507.107554 C450.82009,507.107554 455.117436,502.781469 455.117436,497.444973 L455.117436,10.4353075 C455.117436,5.15002105 450.699774,0.772727273 445.250311,0.772727273 L413.632493,0.772727273 L306.018043,0.772727273 C300.781281,0.772727273 296.272727,5.29696668 296.272727,10.8778988 L296.272727,51.8629306 C296.272727,57.5670817 300.635854,61.9681021 306.018043,61.9681021 L395.363636,61.9681021 L395.363636,445.931958 L306.018043,445.931958 C300.781281,445.931958 296.272727,450.456198 296.272727,456.03713 L296.272727,497.022162 C296.272727,502.726313 300.635854,507.127333 306.018043,507.127333 L422.034224,507.127333 C422.235124,507.127333 422.434951,507.120675 422.633493,507.107554 L445.250311,507.107554 Z M177.880642,176.853645 C172.912928,171.75382 172.915403,163.460068 177.840911,158.375747 L195.058462,140.603054 C200.004234,135.497818 208.053272,135.506414 212.996753,140.581457 L320.810473,251.264443 C324.526804,255.079677 324.516693,261.275918 320.810473,265.080952 L212.996753,375.769123 C208.03548,380.86267 199.983971,380.832278 195.058462,375.747958 L177.840911,357.975266 C172.895141,352.870029 172.920622,344.589022 177.879296,339.498143 L224.443318,291.692666 C226.937004,289.132495 226.059392,287.057066 222.506037,287.057066 L10.8773795,287.057061 C5.29734453,287.057061 0.773832418,282.482687 0.773832418,276.902707 L0.773832418,238.915612 C0.773832418,233.307517 5.39501333,228.763242 10.8555386,228.765587 L222.026716,228.856255 C225.621763,228.856255 226.517271,226.783713 224.052656,224.253553 L177.880642,176.853645 Z",fill:o.getFill()})))}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=n(2682),o=n(752),l=r.createClass({displayName:"Failed",propTypes:{onClose:s.isRequired},render:function(){return r.createElement(o,{title:I18n.t("Error in download"),header:I18n.t("There was an error in downloading your file."),body:I18n.t("Please notify *customer support*.",{wrappers:['<a href="http://help.bridgeapp.com/customer/portal/emails/new" target="_blank">$1</a>']}),help:I18n.t("Oh snap, something went wrong."),button:window.opener?I18n.t("Close Window"):I18n.t("Okay"),icon:r.createElement(i,{className:"download-icon"}),onClose:this.props.onClose})}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=n(752),o=r.createClass({displayName:"Processing",propTypes:{onClose:s.isRequired},render:function(){return r.createElement(i,{title:I18n.t("Processing"),header:I18n.t("Hang on while we process your export."),body:I18n.t("Your download will kick into gear automatically."),help:I18n.t("Prepping your download, this may take a minute."),button:I18n.t("Cancel"),icon:r.createElement("div",{className:"loader-large loader-7"}),onClose:this.props.onClose})}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(273),o=r(i),l=n(1163),u=n(91),c=r(u),d=n(2992),p=n(415),f=r(p),m=n(29),h=r(m),g=n(12);t.default=(0,o.default)({confirmRoute:function(e){return e.contextId?"author.enrollments.import.confirm":"author.enrollments.imports.confirm"},uploadRoute:function(e){return e.contextId?"author.enrollments.upload":"author.enrollments.uploads"},cancelRoute:function(e){var t=e.contextId;switch(e.learnableType){case g.PROGRAM_ENROLLABLE_TYPE:return t?"react.author.program.react.author.program.learners":"author.programs";case g.LIVE_COURSE_ENROLLABLE_TYPE:return t?"author.live-course.learners":"author.live-courses";case g.CHECKPOINT_ENROLLABLE_TYPE:return t?"author.checkpoint":"author.checkpoints";case g.COURSE_TEMPLATE_ENROLLABLE_TYPE:default:return t?"author.course.learners":"author.courses"}},contextType:function(e){return e.learnableType},contextual:function(e){return"undefined"!=typeof e.contextId},generateTitle:function(){return I18n.t("Add Enrollments")},generateContextTitle:function(){return I18n.t("Bridge")},fields:function(){return[f.default.create({id:"perm-1",name:"completedAt",text:I18n.t("Completed At"),isCustom:!1}),f.default.create({id:"perm-2",name:"score",text:I18n.t("Score"),isCustom:!1}),f.default.create({id:"perm-3",name:"attemptsCount",text:I18n.t("Attempts"),isCustom:!1}),f.default.create({id:"perm-4",name:"endAt",text:I18n.t("Due At"),isCustom:!1}),f.default.create({id:"perm-5",name:"expiresAt",text:I18n.t("Expiration Date"),isCustom:!1})]},tabs:function(e){var t=!!e.contextId;return function(){var e=this.props.csvPreview,n=this.state.activeTab,r=e.get("isValid");return s.default.createElement("div",{className:"csv-preview__account-users-header"},s.default.createElement(c.default,{className:"csv-preview__checkbox",checked:e.get("hasHeaders"),onChange:this.setHasHeaders},I18n.t("This file has column headers")),s.default.createElement("div",{className:"tab-container active-"+n},s.default.createElement(l.Tabs,{onSelect:this.props.onTabChange,selectedIndex:n,forceRenderTabPanel:!0},s.default.createElement(l.TabList,null,s.default.createElement(l.Tab,null,s.default.createElement("span",{className:"csv-preview__field-description"},I18n.t("Assign User Login ID")," ",s.default.createElement("span",{className:"pink super"},"* ",s.default.createElement("span",{className:"screenreader-only"},I18n.t("required")))),s.default.createElement("span",{className:"active-border active-border-1"})),!t&&s.default.createElement(l.Tab,{disabled:!r},s.default.createElement("span",{className:"csv-preview__field-description"},I18n.t("Assign Course ID")),s.default.createElement("span",{className:"active-border active-border-2"})),(0,h.default)("enrollment_update")&&s.default.createElement(l.Tab,{disabled:!r},s.default.createElement("span",{className:"csv-preview__field-description"},I18n.t("Add Other Data Fields")),s.default.createElement("span",{className:"active-border active-border-3"}))),s.default.createElement("div",{className:"csv-preview__tab-panel-container"},s.default.createElement(l.TabPanel,null,s.default.createElement("ul",{className:"csv-preview__field-list left"},s.default.createElement(d.FieldListItem,{field:e.get("primaryFieldDupes"),isPrimary:!0,primaryFieldDidDrag:this.markFieldBeingDragged.bind(this,"primaryDupes"),primaryFieldDidDrop:this.markFieldDropped.bind(this,"primaryDupes")})),s.default.createElement("p",{className:"left margin-t-xs"},I18n.t("Drag the Login ID key to the column containing the user unique identifier."))),!t&&s.default.createElement(l.TabPanel,null,s.default.createElement("ul",{className:"csv-preview__field-list left","data-capybara":"learnable_key"},s.default.createElement(d.FieldListItem,{field:e.get("learnableField"),isPrimary:!0,primaryFieldDidDrag:this.markFieldBeingDragged.bind(this,"learnable"),primaryFieldDidDrop:this.markFieldDropped.bind(this,"learnable")})),s.default.createElement("p",{className:"left margin-t-xs"},I18n.t("Drag the Course ID key to the column that matches the course's unique identifier."))),(0,h.default)("enrollment_update")&&s.default.createElement(l.TabPanel,null,this.renderSortedFields(e)),this.renderSortedFields(e,!0)))))}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e({name:"author.enrollments.imports",path:"/author/:learnableType/enrollments/import"}),e({name:"author.enrollments.import",path:"/author/:learnableType/:contextId/enrollments/import"})},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(272),s=r(a),i=n(842),o=r(i),l=n(12);t.default=(0,s.default)({contextRoute:function(e){var t=e.contextId;switch(e.learnableType){case l.PROGRAM_ENROLLABLE_TYPE:return t?"react.author.program.react.author.program.learners":"author.programs";case l.LIVE_COURSE_ENROLLABLE_TYPE:return t?"author.live-course.learners":"author.live-courses";case l.CHECKPOINT_ENROLLABLE_TYPE:return t?"author.checkpoint":"author.checkpoints";case l.COURSE_TEMPLATE_ENROLLABLE_TYPE:default:return t?"author.course.learners":"author.courses"}},contextType:function(e){return e.learnableType},contextual:function(e){return"undefined"!=typeof e.contextId},notifier:o.default}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e({name:"author.enrollments.imports.confirm",path:"/author/:learnableType/enrollments/import/confirm"}),e({name:"author.enrollments.import.confirm",path:"/author/:learnableType/:contextId/enrollments/import/confirm"})},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(308),s=r(a),i=n(22),o=r(i),l=n(148),u=r(l),c=n(314),d=n(13),p=r(d),f=n(106),m=r(f),h=n(25),g=r(h),v=n(19),_=r(v),y=n(20),b=r(y),E=n(177),C=n(3),I=n(45),T=r(I),N=n(12),S=(0,s.default)({importRoute:function(e){return e.contextId?"author.enrollments.import":"author.enrollments.imports"},cancelRoute:function(e){var t=e.contextId;switch(e.learnableType){case N.PROGRAM_ENROLLABLE_TYPE:return t?"react.author.program.react.author.program.learners":"author.programs";case N.LIVE_COURSE_ENROLLABLE_TYPE:return t?"author.live-course.learners":"author.live-courses";case N.CHECKPOINT_ENROLLABLE_TYPE:return t?"author.checkpoint":"author.checkpoints";case N.COURSE_TEMPLATE_ENROLLABLE_TYPE:default:return t?"author.course.learners":"author.courses"}},contextType:function(e){return e.learnableType},contextual:function(e){return"undefined"!=typeof e.contextId},getToastTitle:function(){return I18n.t("Heads Up!")},getToastMessage:function(){return I18n.t("While you won't be able to import your users, we want you to see how great the experience will be. Contact us to learn more: %{phoneNumber} or %{emailAddress}",{phoneNumber:"<strong>844.358.7156</strong>",emailAddress:'<a href="mailto:upgrade@getbridge.com">upgrade@getbridge.com</a>'})},toastPrecondition:function(){return(0,b.default)("free_trial_restrictions")&&"import"===this.query.uploadType&&(0,E.isFreeAccount)()},propTypes:{learnable:(0,C.oneOfType)([T.default])},getTitle:function(){return(0,c.getDisplayTitle)(this.props.learnable)}});t.default=(0,o.default)({type:(0,m.default)(S,function(e){return e.learnable?I18n.t("Import Enrollments to %{courseTitle}",{courseTitle:(0,c.getDisplayTitle)(e.learnable)}):e.params.learnableType===N.COURSE_TEMPLATE_ENROLLABLE_TYPE?I18n.t("Import Enrollments to Courses"):I18n.t("Import Enrollments")}),asyncProps:{learnable:{setup:function(e){u.default.addChangeListener(e)},teardown:function(e){u.default.removeChangeListener(e)},fetch:function(e){var t=e.params.contextId,n=e.params.learnableType;return t&&n===N.COURSE_TEMPLATE_ENROLLABLE_TYPE?u.default.fetch(t).catch(function(){(0,_.default)(I18n.t("Course does not exist"),{type:"error"}),p.default.transitionTo("author.courses")}):g.default.resolve()},get:function(e){var t=e.params.contextId,n=e.params.learnableType;return t&&n===N.COURSE_TEMPLATE_ENROLLABLE_TYPE?u.default.get(t):null}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e({name:"author.enrollments.uploads",path:"/author/:learnableType/enrollments/upload"}),e({name:"author.enrollments.upload",path:"/author/:learnableType/:contextId/enrollments/upload"})},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2),o=r(i),l=n(34),u=r(l),c=n(266),d=r(c),p=n(67),f=r(p);t.default=s.default.createClass({displayName:"Error",propTypes:{query:o.default.shape({code:o.default.string})},getErrorMessage:function(){switch(this.props.query.code){case"expired":return I18n.t("Sorry, we expired the log in process for taking too long. Please try again.");default:return I18n.t("Sorry, something went wrong")}},isAuthenticated:function(){return u.default.isAuthenticated()},renderLink:function(){return this.isAuthenticated()?s.default.createElement(f.default,{to:"learner.courses",className:"btn filled"},I18n.t("Back to My Learning")):s.default.createElement(f.default,{to:"login",className:"btn filled"},I18n.t("Log In"))},render:function(){return s.default.createElement(d.default,null,s.default.createElement("h1",{className:"h1"},I18n.t("Oh, snap!")),s.default.createElement("p",{className:"large"},this.getErrorMessage()),s.default.createElement("p",{className:"margin-t-xl"},this.renderLink()))}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"error",path:"/error",ember:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(266),l=r(o),u=n(13),c=r(u),d=n(77),p=r(d),f=n(20),m=r(f),h=n(6),g=r(h),v=n(43),_=s.default.createClass({displayName:"ForgotPasswordView",propTypes:{emailPlaceholder:i.string,initialLoginId:i.string,errorText:i.string,onSubmit:i.func.isRequired},getInitialState:function(){return{formData:{uid:this.props.initialLoginId}}},render:function(){var e=(0,m.default)("learn_login_branding"),t=this.props,n=t.emailPlaceholder,r=t.errorText,a=e?I18n.t("Username"):I18n.t("Email or Login ID"),i=n||a,o=(0,g.default)("h1 margin-none text-center",{"screenreader-only":e}),u=(0,g.default)("h2 light text-center",{"screenreader-only":e}),d=e?I18n.t("Nevermind"):I18n.t("Nevermind, I remembered");return s.default.createElement(l.default,null,s.default.createElement("h1",{className:o},I18n.t("You Forgot?")),s.default.createElement("h2",{className:u},I18n.t("Let's reset your password")),e&&s.default.createElement(v.BridgeLogo,{className:"auth-layout__bridge-logo--horizontal brand-color"}),s.default.createElement("form",{className:"auth-layout__login-form",onSubmit:this.handleSubmit},s.default.createElement("label",{htmlFor:"uid",className:"screenreader-only"},i),s.default.createElement(p.default,{model:this.state.formData,field:"uid",label:i,className:"auth-layout__input",error:!!r}),s.default.createElement("p",{className:"margin-t-s margin-b-xxl error-msg"},r),s.default.createElement("button",{type:"submit",className:"auth-layout__submit-btn brand-bg brand-border"},I18n.t("Reset Password")),s.default.createElement(c.default,{to:"login",className:"auth-layout__i-forgot",id:"login-link"},d)))},handleSubmit:function(e){e.preventDefault(),this.props.onSubmit(this.state.formData.uid)}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(34),u=r(l),c=n(22),d=r(c),p=n(2695),f=r(p),m=n(2698),h=r(m),g=n(25),v=r(g),_=n(19),y=r(_),b=o.default.createClass({displayName:"ForgotPasswordHandler",propTypes:{initialLoginId:s.default.string},getInitialState:function(){return{errorText:""}},render:function(){return o.default.createElement(f.default,{initialLoginId:this.props.initialLoginId,errorText:this.state.errorText,onSubmit:this.handleSubmit})},handleSubmit:function(e){var t=this;return e?h.default.requestPasswordReset(e).then(function(){t.setState({errorText:""}),(0,y.default)(I18n.t("Check your Inbox! We sent you a link to change your password"))},function(){t.setState({errorText:I18n.t("Snap! There was a problem resetting your password. Please try again.")})}):(this.setState({errorText:I18n.t("Please provide an Email or Login ID.")}),v.default.resolve())}});t.default=(0,d.default)({type:b,blocking:!1,asyncProps:{initialLoginId:{get:function(){return u.default.getForgotPasswordLoginId()}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"forgot_password",path:"/forgot-password"}},function(e,t,n){"use strict";var r=n(878);e.exports={requestPasswordReset:function(e){return r.create(e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),s=r(a),i=n(30),o=r(i);t.default={parent:"/",default:!0,handler:["bridge-router",{enter:function(){s.default.isAuthenticated()?o.default.replaceWith(s.default.getPostAuthRoute()):o.default.replaceWith("/login")}}]},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(13),o=r(i);t.default=s.default.createClass({displayName:"Archived",render:function(){return s.default.createElement("div",{className:"text-center full-min-height"},s.default.createElement("h1",{className:"margin-t-xl"},I18n.t("Sorry, this course has been archived.")),s.default.createElement("p",{className:"large margin-b-xl"},I18n.t("The content is no longer available.")),s.default.createElement(o.default,{to:"learner.courses",
className:"brand-bg brand-border btn filled"},I18n.t("Back To My Learning")))}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"learner.course.archived",path:"/learner/courses/archived"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=n(2999),d=r(c),p=n(125),f=r(p),m=n(315),h=r(m),g=n(790),v=r(g),_=n(22),y=r(_),b=n(281),E=r(b),C=n(240),I=r(C),T=n(322),N=r(T),S=o.default.createClass({displayName:"Finished",mixins:[(0,I.default)(function(){return I18n.t("%{title} - Finished - Bridge",{title:this.props.course.title})})],propTypes:{course:d.default.propTypes.course,query:s.default.shape({programId:s.default.string})},componentWillMount:function(){var e=this.props.course;h.default.isCompletedOrFailed(e)||u.default.replaceWith("learner.course.current_slide",e.learnableId)},getRetryRoute:function(){return h.default.isExternal(this.props.course)?"learner.course.external":"learner.course.current_slide"},render:function(){var e=this.props.course,t=f.default.isFailed(e),n=!0;return e.maxQuizAttempts>0&&(n=e.maxQuizAttempts-e.attemptsCount>0),h.default.isCompletedOrFailed(e)?o.default.createElement(v.default,{passed:!t,canRetry:n,programId:this.props.query.programId,showRetainHint:!t&&e.retain,retryLinkProps:{to:this.getRetryRoute(),params:[{courseId:e.learnableId}],queryParams:this.props.query}},o.default.createElement(d.default,{className:"learning-item-list-item--white learning-item-list-item--single",course:e,onAttachmentIconClick:Function.prototype,onRemove:Function.prototype,noLink:!0,single:!0,showCertificateForSingle:!0})):null}});e.exports=(0,y.default)({type:S,blocking:!0,asyncProps:{course:{fetch:function(e){return E.default.fetch(e.params.courseId)},get:function(e){return E.default.get(e.params.courseId)},onFailure:function(e,t){(0,N.default)(e,t)}}}})},function(e,t){"use strict";e.exports={name:"learner.course.finished",path:"/learner/courses/:courseId/finished",ember:{leaf:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){l.default.replaceWith("learner.courses")}var s=n(1),i=r(s),o=n(13),l=r(o),u=n(26),c=r(u),d=n(19),p=r(d),f=n(12),m=n(281),h=r(m),g=n(836),v=r(g),_=n(22),y=r(_),b=n(3),E=n(322),C=i.default.createClass({displayName:"CurrentSlide",propTypes:{data:(0,b.shape)({slide:(0,b.shape)({id:b.string}),course:(0,b.shape)({id:b.string,state:b.string}).isRequired}).isRequired,query:b.object},componentDidMount:function(){var e=this.props.data,t=e.slide,n=e.course;t?l.default.replaceWith("learner.course.slide",n.id,t.id,{queryParams:this.props.query}):["complete","failed"].indexOf(n.state)!==f.NOT_FOUND?l.default.replaceWith("learner.course.finished",n,{queryParams:this.props.query}):a()},render:function(){return null}});e.exports=(0,y.default)({type:C,blocking:!0,asyncProps:{data:{fetch:function(e){return h.default.fetch(e.params.courseId).then(function(){var t=h.default.get(e.params.courseId);return(0,v.default)(t.id,"current").then(function(e){return{slide:{id:e.slide.id},course:{id:t.id,state:t.state}}})})},onFailure:function(e,t){(0,E.isArchivedFailure)(e)?(0,E.onArchivedFailure)(e,t):(console.error("Unable to retrieve current slide: ",e),console.info("Aborting transition."),t.transition.abort(e),l.default.transitionTo(a()).then(function(e){return(0,p.default)(c.default.t("Sorry, your admin has removed access to this course. No need to worry.")),e}))}}}})},function(e,t){"use strict";e.exports={name:"learner.course.current_slide",path:"/learner/courses/:courseId/slide/current"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){l.default.replaceWith("author.courses")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=r(s),o=n(13),l=r(o),u=n(26),c=r(u),d=n(19),p=r(d),f=n(12),m=n(1465),h=r(m),g=n(837),v=r(g),_=n(22),y=r(_),b=n(3),E=i.default.createClass({displayName:"CurrentSlide",propTypes:{data:(0,b.shape)({slide:(0,b.shape)({id:b.string}),course:(0,b.shape)({id:b.string,state:b.string}).isRequired}).isRequired,query:b.object},componentDidMount:function(){var e=this.props.data,t=e.slide,n=e.course;t?l.default.replaceWith("learner.course.slide.preview",n.id,t.id,{queryParams:this.props.query}):["complete","failed"].indexOf(n.state)!==f.NOT_FOUND?l.default.replaceWith("learner.course.finished",n):a()},render:function(){return null}});t.default=(0,y.default)({type:E,blocking:!0,asyncProps:{data:{fetch:function(e){return h.default.fetch(e.params.courseId).then(function(){var t=h.default.get(e.params.courseId);return(0,v.default)(t.id,"current").then(function(e){return{slide:{id:e.slide.id},course:{id:t.id,state:t.state}}})})},onFailure:function(e,t){console.error("Unable to retrieve current slide: ",e),t.transition.abort(e),l.default.transitionTo(a()).then(function(e){return(0,p.default)(c.default.t("Sorry, your admin has removed access to this course. No need to worry.")),e})}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"learner.course.current_slide.preview",path:"/learner/courses/:courseId/slide/current/preview"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(13),l=r(o),u=n(22),c=r(u),d=n(281),p=r(d),f=n(187),m=r(f),h=n(194),g=r(h),v=n(322),_=n(25),y=r(_),b=s.default.createClass({displayName:"CourseDetail",propTypes:{course:g.default},componentWillMount:function(){var e=this.props.course;e&&l.default.replaceWith("learner.course.current_slide",e.id)},render:function(){return this.props.course?null:s.default.createElement(i.NotFound,null,s.default.createElement(m.default,{className:"blue margin-t-m block",hasBackIcon:!0}))}});e.exports=(0,c.default)({type:b,blocking:!0,asyncProps:{course:{fetch:function(e){return p.default.fetch(e.params.courseId).catch(function(e){return(0,v.isArchivedFailure)(e)?y.default.reject(e):null})},get:function(e){return p.default.get(e.params.courseId)},onFailure:function(e,t){(0,v.onArchivedFailure)(e,t)}}}})},function(e,t){"use strict";e.exports={name:"learner.course",path:"/learner/courses/:courseId"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2),o=n(194),l=r(o),u=n(34),c=r(u),d=n(789),p=r(d),f=n(22),m=r(f),h=n(380),g=r(h),v=n(13),_=r(v),y=n(3328),b=r(y),E=n(322),C=n(281),I=r(C),T=n(4),N=s.default.createClass({displayName:"External",propTypes:{course:l.default,location:(0,i.shape)({hostname:i.string,port:i.string,protocol:i.string}),query:(0,i.shape)({programId:i.string})},getDefaultProps:function(){return{location:window.location}},componentDidMount:function(){window.addEventListener("message",this.handleMessage,!1)},componentWillUnmount:function(){window.removeEventListener("message",this.handleMessage,!1)},location:function(){return{hostname:this.props.location.hostname||window.location.hostname,port:this.props.location.port||window.location.port,protocol:this.props.location.protocol||window.location.protocol}},handleMessage:function(e){if((0,b.default)(this.location(),e.origin))try{var t=JSON.parse(e.data),n=t.type,r=t.course;if("scorm.redirect"!==n)return;var a=r||{},s=a.id,i=a.state;if(!s||"complete"!==i&&"failed"!==i){var o=this.props.query.programId;o?_.default.transitionTo("learner.program",o):_.default.transitionTo("learner.courses")}else _.default.transitionTo("learner.course.finished",s,{queryParams:this.props.query})}catch(e){}},render:function(){var e=this.props.course.launchUrl;return s.default.createElement(p.default,(0,T.pick)(this.props,["course","query"]),s.default.createElement("div",{className:"learner-course-external"},s.default.createElement("iframe",{frameBorder:"0",src:e})))}});e.exports=(0,m.default)({type:(0,g.default)(N,function(e){return e.course&&e.course.brandingOverride}),blocking:!0,asyncProps:{course:{fetch:function(e){var t=e.params.courseId;return I.default.fetch(t).then(function(){var e=I.default.get(t);return I.default.fetchLaunchUrl(t).then(function(t){return Object.assign({},e,{launchUrl:t})})})},setup:function(e){c.default.addChangeListener(e)},teardown:function(e){c.default.removeChangeListener(e)},onFailure:function(e,t){(0,E.onArchivedFailure)(e,t)}}}})},function(e,t){"use strict";e.exports={name:"learner.course.external",path:"/learner/courses/:courseId/external"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(899),a=function(e){var t="slide"===e.type||"cover"===e.type;return t||(0,r.isAnswered)(e)};t.default={canAdvance:a},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(13),s=r(a),i=n(281),o=r(i),l=n(836),u=r(l),c=n(22),d=r(c),p=n(322),f=r(p);e.exports={course:{fetch:function(e){return o.default.fetch(e.params.courseId)},get:function(e){return o.default.get(e.params.courseId)},onFailure:function(e,t){(0,f.default)(e,t)}},data:{fetch:function(e){var t=e.params,n=t.courseId,r=t.slideId;return(0,u.default)(n,r).then(null,function(e){throw!e||400!==e.status&&404!==e.status?e:(s.default.transitionTo("learner.course.current_slide",n,{queryParams:{reset:"1"}}),d.default.AbortedError)})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(12),o=r(i),l=n(1383),u=r(l),c=n(13),d=r(c),p=n(237),f=n(302),m=r(f),h=n(2719),g=r(h),v=n(22),_=r(v),y=n(278),b=r(y),E=n(3097),C=r(E),I=n(20),T=r(I),N=n(240),S=r(N),x=n(2712),A=n(2),k=n(380),w=r(k),R=s.default.createClass({displayName:"LearnerCourseSlide",mixins:[(0,S.default)(function(){var e=Math.max(Math.round(this.props.data.course.progress.current*this.props.course.slideTotal),1);return this.props.course.title+I18n.t(" - Slide ")+e+I18n.t(" of ")+this.props.course.slideTotal+I18n.t(" - Course - Bridge")})],propTypes:{course:A.object,data:b.default.isRequired,query:(0,A.shape)({reset:(0,A.oneOf)(["1"])})},getInitialState:function(){return{learnerTimeTracker:new C.default,trayIsOpen:!1,resourcesButton:null}},componentDidMount:function(){document.addEventListener("keydown",this.handleBodyKeyDown),(0,T.default)("learner_time_tracker")&&this.state.learnerTimeTracker.watch(this.props.course.enrollmentId)},componentWillUnmount:function(){document.removeEventListener("keydown",this.handleBodyKeyDown),(0,T.default)("learner_time_tracker")&&this.state.learnerTimeTracker.unWatch()},componentWillReceiveProps:function(){this.props.data.slide.type!==i.QUESTION_TYPES.SLIDE&&this.setState({trayIsOpen:!1})},handleBodyKeyDown:function(e){var t=void 0,n=!0;if(!(e.metaKey||e.shiftKey||e.ctrlKey||"TEXTAREA"===e.target.nodeName||"INPUT"===e.target.nodeName||void 0!==e.target.attributes.role&&"radio"===e.target.attributes.role.value)){switch([o.default.KC_LEFT,o.default.KC_RIGHT,o.default.KC_ONE,o.default.KC_TWO,o.default.KC_THREE,o.default.KC_FOUR].indexOf(e.keyCode)!==-1&&e.preventDefault(),e.keyCode){case o.default.KC_LEFT:t=document.querySelector(".previousStep"),n=(0,x.canAdvance)(this.props.data.slide);break;case o.default.KC_RIGHT:t=document.querySelector(".nextStep"),n=(0,x.canAdvance)(this.props.data.slide);break;case o.default.KC_ONE:case o.default.KC_TWO:case o.default.KC_THREE:case o.default.KC_FOUR:var r=parseInt(String.fromCharCode(e.keyCode),10)-1;t=document.querySelectorAll(".answer-list__item__indicator")[r]}t&&n&&(t.click(),t.focus())}},handleCompleteCourse:function(e){g.default.completeCourse(e,this.props.query)},resetCourse:function(){d.default.replaceWith("learner.course.current_slide",this.props.course.id,{queryParams:{reset:!0}})},openTray:function(){this.setState({trayIsOpen:!0})},closeTray:function(){var e=this;this.setState({trayIsOpen:!1},function(){var t=e.state.resourcesButton;t&&t.focus()})},toggleResourcesTray:function(e){this.setState({resourcesButton:e}),this.state.trayIsOpen?this.closeTray():this.openTray()},render:function(){var e=this.props.course;return s.default.createElement(p.TrayLayout,{isOpen:this.state.trayIsOpen},s.default.createElement(p.ContentOutlet,null,this.renderSlide()),s.default.createElement(p.TrayOutlet,{onCloseClick:this.closeTray},s.default.createElement(m.default,{activeItem:{id:e.id,contextId:e.id,title:e.title,type:i.LEARNING_ITEM_COURSE_TYPE}})))},renderSlide:function(){return s.default.createElement(u.default,{query:this.props.query,data:this.props.data,course:this.props.course,onSubmitQuestion:g.default.submitQuestion,onSubmissionError:this.resetCourse,onCompleteCourse:this.handleCompleteCourse,onToggleResourcesTray:this.toggleResourcesTray})}});e.exports=(0,_.default)({type:(0,w.default)(R,function(e){return e.course&&e.course.brandingOverride}),asyncProps:n(2713),blocking:!0})},function(e,t){"use strict";e.exports={name:"learner.course.slide",path:"/learner/courses/:courseId/slide/:slideId"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(12),u=r(l),c=n(1383),d=r(c),p=n(2718),f=r(p),m=n(6),h=r(m),g=n(655),v=n(1465),_=r(v),y=n(837),b=r(y),E=n(13),C=r(E),I=n(380),T=n(4),N=o.default.createClass({displayName:"LearnerCourseSlidePreview",propTypes:{params:s.default.shape({courseId:s.default.string,slideId:s.default.string}),query:s.default.shape({variation:s.default.string,reset:s.default.oneOf(["1"])})},getInitialState:function(){return{refreshing:!1,course:null,data:null}},fetchSlide:function(e){var t=this,n=this.props.params.courseId;(0,b.default)(n,e).then(function(e){t.setState({data:e,refreshing:!1})},function(t){if(!t||400!==t.status&&404!==t.status){if(!t||422!==t.status||!(0,g.isInIframe)())throw t;(0,g.messageTarget)().postMessage({courseId:n,slideId:e},location.origin)}else C.default.transitionTo("learner.course.current_slide.preview",n,{queryParams:{reset:"1"}})})},fetchData:function(){var e=this,t=this.props.params.courseId;_.default.fetch(t).then(function(){var n=_.default.get(t);e.setState({course:n})}),this.fetchSlide(this.props.params.slideId)},componentDidMount:function(){this.fetchData(),document.addEventListener("keydown",this.handleBodyKeyDown),(0,g.isInIframe)()&&(window.addEventListener("message",this.onMessage,!1),this.sendSlideType())},componentDidUpdate:function(){(0,g.isInIframe)()&&this.sendSlideType()},componentWillMount:function(){var e=(0,T.get)(window,"parent.DOMAIN.config.override_branding");e&&(0,I.setBrandingOverride)(e)},componentWillUnmount:function(){var e=(0,T.get)(window,"parent.DOMAIN.config.override_branding");e&&(0,I.removeBrandingOverride)(),document.removeEventListener("keydown",this.handleBodyKeyDown),(0,g.isInIframe)()&&window.removeEventListener("message",this.onMessage,!1)},handleBodyKeyDown:function(e){if(!(e.metaKey||e.shiftKey||e.ctrlKey)&&"TEXTAREA"!==e.target.nodeName&&"INPUT"!==e.target.nodeName){[u.default.KC_LEFT,u.default.KC_RIGHT,u.default.KC_ONE,u.default.KC_TWO,u.default.KC_THREE,u.default.KC_FOUR].indexOf(e.keyCode)!==-1&&e.preventDefault();var t;switch(e.keyCode){case u.default.KC_LEFT:t=document.querySelector(".previousStep");break;case u.default.KC_RIGHT:t=document.querySelector(".nextStep");break;case u.default.KC_ONE:case u.default.KC_TWO:case u.default.KC_THREE:case u.default.KC_FOUR:var n=parseInt(String.fromCharCode(e.keyCode),10)-1;t=document.querySelectorAll(".answer-list__item__indicator")[n]}t&&(t.click(),t.focus())}},onMessage:function(e){e.origin===location.origin&&(e.data.refreshQuestion?this.refreshQuestion():e.data.resizeWindow&&this.forceUpdate(),e.data.slideId&&this.fetchSlide(e.data.slideId))},refreshQuestion:function(){this.setState({refreshing:!0}),this.fetchSlide(this.props.params.slideId)},handleSubmissionError:function(e){console.error("Error submitting question preview: ",e)},render:function(){return this.state.data&&this.state.course?o.default.createElement("div",{className:(0,h.default)("learner-course-slide-preview",{refreshing:this.state.refreshing})},o.default.createElement(d.default,{query:this.props.query,data:this.state.data,course:this.state.course,onSubmitQuestion:f.default.submitQuestionPreview,onSubmissionError:this.handleSubmissionError,preview:!0})):o.default.createElement("div",{className:"loader-container"},o.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"}))},sendSlideType:function(){if(!this.state.data)return void(0,g.messageTarget)().postMessage({slideIsRefreshable:!1},location.origin);var e=this.state.data.slide.refreshable;(0,g.messageTarget)().postMessage({slideIsRefreshable:e},location.origin)}});t.default=N,e.exports=t.default},function(e,t){"use strict";e.exports={name:"learner.course.slide.preview",path:"/learner/courses/:courseId/slide/:slideId/preview"}},function(e,t,n){"use strict";var r=n(7);t.submitQuestionPreview=function(e){return r({url:"/api/learner/slides/"+e.id+"/responses/preview",type:"POST",dataType:"json",data:{answers:e.chosen_answers,seed:e.seed}})}},function(e,t,n){"use strict";var r=n(281),a=n(13),s=n(7);t.completeCourse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.complete(e).then(function(){a.replaceWith("learner.course.finished",e,{queryParams:t})})},t.submitQuestion=function(e){return s({url:"/api/learner/slides/"+e.id+"/responses",type:"POST",dataType:"json",data:{answers:e.chosen_answers}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(22),l=r(o),u=n(613),c=r(u),d=n(13),p=r(d),f=n(281),m=r(f),h=n(34),g=r(h),v=n(19),_=r(v),y=n(3308),b=r(y),E=n(322),C=s.default.createClass({displayName:"LearnerCourseEnroll",propTypes:{course:n(194),isLoading:i.bool,params:(0,i.shape)({courseUuid:i.string})},getInitialState:function(){return{querying:!0,polling:!1}},componentDidMount:function(){var e=this,t=this.props.params;b.default.fetchByUuid(t.courseUuid).then(function(){var n=b.default.getByUuid(t.courseUuid);n.enrolled?m.default.fetchByUuid(t.courseUuid).then(function(){var e=m.default.getByUuid(t.courseUuid);p.default.transitionTo("learner.course.launch",e.id)}):e.setState({querying:!1})})},render:function(){return this.state.querying||this.props.isLoading?null:s.default.createElement(c.default,{heading:I18n.t("You've been invited to take the following course:"),title:this.props.course.title,description:this.props.course.description,onRegister:this.handleRegistration,polling:this.state.polling})},handleRegistration:function(){var e=this;this.setState({polling:!0}),m.default.enroll(this.props.params.courseUuid).then(function(){p.default.replaceWith("learner.course.launch",e.props.course.id)})}});e.exports=(0,l.default)({type:C,blocking:!1,asyncProps:{course:{setup:function(e){m.default.addChangeListener(e)},fetch:function(e){return m.default.fetchByUuid(e.params.courseUuid).catch(function(e){(0,E.isArchivedFailure)(e)?(0,E.onArchivedFailure)(e):p.default.replaceWith(g.default.getPostAuthRoute()).then(function(){(0,_.default)(I18n.t("Sorry, your admin has removed access to this course. No need to worry."))})})},get:function(e){return m.default.getByUuid(e.params.courseUuid)},teardown:function(e){m.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"learner.course.enroll",path:"/learner/courses/:courseUuid/enroll"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=n(26),d=r(c),p=n(34),f=r(p),m=n(19),h=r(m),g=n(22),v=r(g),_=n(281),y=r(_),b=n(315),E=r(b),C=n(194),I=r(C),T=n(20),N=r(T),S=n(322),x=o.default.createClass({displayName:"Launch",propTypes:{course:I.default,query:s.default.object},componentWillMount:function(){var e=this.props.course;E.default.isExternal(e)&&!this.shouldShowCoverSlide()?u.default.replaceWith("learner.course.external",e.id,{queryParams:this.props.query}):u.default.replaceWith("learner.course.current_slide",e.id,{queryParams:this.props.query})},render:function(){return null},shouldShowCoverSlide:function(){var e=this.props.course;return this.hasCoverSlide()&&!E.default.isStarted(e)},hasCoverSlide:function(){return!!(0,N.default)("learn_scorm_cover_slide")&&this.props.course.hasCoverSlide}});e.exports=(0,v.default)({type:x,blocking:!0,asyncProps:{course:{fetch:function(e){var t=e.params.courseId;return y.default.fetch(t).then(function(){return y.default.get(t)})},onFailure:function(e,t){(0,S.isArchivedFailure)(e)?(0,S.onArchivedFailure)(e,t):(console.error("Unable to launch course: ",e),console.info("Aborting transition."),t.transition.abort(e),u.default.transitionTo(f.default.getPostAuthRoute()).then(function(e){return(0,h.default)(d.default.t("Sorry, your admin has removed access to this course. No need to worry.")),e}))}}}})},function(e,t){"use strict";e.exports={name:"learner.course.launch",path:"/learner/courses/:courseId/launch",ember:{parentPath:["learner"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(97),l=n(54),u=n(115),c=n(26),d=n(22),p=n(7),f=n(2),m=f.bool,h=f.object,g=i.createClass({displayName:"LearnerIntegrations",propTypes:{isLoading:m,profile:h,query:h},render:function(){var e=this.props,t=e.isLoading,n=e.profile,r=e.query,a=[{name:"office365",title:c.t("Microsoft Outlook 365"),description:c.t("Automatically add appointments to your Outlook 365 Calendar for all trainings, instructor-led trainings (ILT), and courses."),logoFilename:"outlook.png",addServiceUrl:"/api/outlook/authorize",toggleOff:function(){p({url:"/api/learner/profile/self/calendar.office365",type:"DELETE"})}}].map(function(e){var t=null;return"1"===r[e.name]&&(t="success"),"0"===r[e.name]&&(t="error"),e.toast=t,e.default=!!n&&n.integrations[e.name],e});return i.createElement(o,null,i.createElement(l,{name:"layout--list__header-text"},c.t("My Integrations")),t&&i.createElement("p",{className:"integrations__loading"},c.t("Loading...")),!t&&a.map(function(e,t){return i.createElement(u,(0,s.default)({},e,{key:t}))}))}});e.exports=d({type:g,blocking:!1,asyncProps:{profile:{fetch:function(){return p({url:"/api/learner/profile/self"})}}}})},function(e,t){"use strict";e.exports={name:"learner.integrations",path:"/learner/integrations",ember:{parentPath:["learner"]}}},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(52),i=n(123),o=n(2),l=o.func,u=o.string,c=o.oneOfType,d=o.arrayOf,p=n(6),f=n(20),m=n(270),h=n(12),g=h.GENERAL_DEBOUNCE_MS,v=n(12),_=v.MY_LEARNING_STYLE_GRID,y=v.MY_LEARNING_STYLE_LIST,b=n(1481),E=b.filterLabels,C=b.LEARNABLE_TYPE_COURSE,I=b.LEARNABLE_TYPE_PROGRAM,T=b.LEARNABLE_TYPE_LIVE_COURSE,N=b.LEARNABLE_TYPE_SURVEY,S=b.LEARNABLE_TYPE_TASK,x=b.STATUS_TYPE_PERMANENTLY_FAILED,A=r.createClass({displayName:"MyLearningHeaderActions",propTypes:{searchTerm:u,filters:c([u,d(u)]),viewStyle:u,onChangeFilters:l,onChangeViewStyle:l,className:u},getDefaultProps:function(){return{onChangeFilters:Function.prototype,onChangeViewStyle:Function.prototype,viewStyle:y}},render:function(){var e=E(),t=[{label:a.t("Type"),key:"filters",options:[{label:e[C],value:C},{label:e[I],value:I},{label:e[T],value:T},{label:e[N],value:N},{label:e[S],value:S}]},{label:a.t("Status"),key:"filters",options:[{label:e[x],value:x}]}],n=p("pure-g-r centered",f("learn_new_cards")?"mylearning-content-area":"large-content-area",this.props.className);return r.createElement("div",{className:"library-actions"},r.createElement("div",{className:n},r.createElement("div",{className:"pure-u-1-2"},r.createElement(s,{label:a.t("SEARCH"),searchTerm:this.props.searchTerm,onChange:this.formatSearchChange,debounceRate:g,placeholderText:a.t("Search for learning items")})),r.createElement("div",{className:"pure-u-1-2 text-right small library-actions__links"},f("private_libraries")&&r.createElement(m,{onChange:this.props.onChangeViewStyle,activeSort:this.props.viewStyle,iconClassName:"gs-preview",label:a.t("View"),sortOptions:[{value:y,label:a.t("List")},{value:_,label:a.t("Grid")}]}),r.createElement(i,{activeFilters:{filters:this.props.filters},onChange:this.props.onChangeFilters,filterSets:t}))))},formatSearchChange:function(e){this.props.onChangeFilters({search:e||void 0})}});e.exports=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(600),o=r(i),l=n(186),u=r(l),c=n(11),d=r(c),p=n(4),f=n(20),m=r(f),h=n(62),g=r(h),v=function(){if((0,m.default)("learn_my_learning_tabbed_nav")){if((0,m.default)("learn_learning_header_branding")){var e=g.default.getHeaderCustomText();return null===e?I18n.t("Learning"):e}return I18n.t("My Learning")}return I18n.t("My Approvals")};e.exports=function(e){e.Preview=u.default.addScreen("my-learning",function(){return v()},s.default.createClass({displayName:"Preview",render:function(){var t=function(e){return(0,p.assign)({id:e.title,state:"active"},e)},n=[t({learnableType:"CourseTemplate",learnableId:"C1",title:I18n.t("Challenger Methodology Update"),data:{required:!0,timeRemaining:40,endAt:(0,d.default)().subtract(8,"d").format(),furthestProgress:.2}}),t({learnableType:"Program",learnableId:"P1",title:I18n.t("New Hire Orientation"),data:{itemCount:4,programIndex:4,currentCourse:{title:I18n.t("Core Values"),required:!0,estimatedTime:130,endAt:(0,d.default)().subtract(8,"d").format(),furthestProgress:.4}}}),t({learnableType:"CourseTemplate",learnableId:"C2",title:I18n.t("Business Process Analysis"),state:"created",data:{required:!0,timeRemaining:130,endAt:(0,d.default)().subtract(1,"d").format()}}),t({learnableType:"CourseTemplate",learnableId:"C3",title:I18n.t("The Corporation: A History in 10 Minutes or Less"),state:"complete",data:{required:!0,furthestProgress:1,hasCertificate:!0,score:100}}),t({learnableType:"CourseTemplate",learnableId:"C4",title:I18n.t("Healthcare Education"),data:{required:!0,timeRemaining:20,furthestProgress:.2}}),t({learnableType:"CourseTemplate",learnableId:"C5",title:I18n.t("Findings in Traumatic Brain Injury"),state:"failed",data:{required:!0,score:80,passingThreshold:90,timeRemaining:60}}),t({learnableType:"Program",learnableId:"P2",title:I18n.t("3 Steps of Intrapreneurship"),data:{itemCount:3,programIndex:2,currentCourse:{title:I18n.t("First Step: Gather your friends"),required:!0,timeRemaining:45,furthestProgress:0}}}),t({learnableType:"Surveys::Survey",learnableId:"S2",title:I18n.t("Company Values %{year} Survey",{year:(0,d.default)().format("YYYY")}),data:{id:"d1",closes_at:(0,d.default)().add(1,"w").format(),distributionId:"d1"}})];return s.default.createElement(o.default,{currentPath:"/learner/courses"},s.default.createElement(e,{learningItems:n}))}}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(885),o=r(i),l=n(1450),u=r(l),c=n(53),d=r(c),p=n(19),f=r(p),m=n(1329),h=r(m),g=n(1330),v=r(g),_=n(240),y=r(_),b=n(1410),E=r(b),C=n(30),I=r(C),T=n(87),N=r(T),S=n(4),x=n(137),A=r(x),k=n(20),w=r(k),R=n(237),O=n(302),P=r(O),L=n(2),M=n(26),D=r(M),U=n(12),F=n(25),q=r(F),B=n(125),j=r(B),H=n(1474),G=r(H),W=n(477),V=n(3319),Y="myLearningFilterParams",z="myLearningViewStyle",K=s.default.createClass({displayName:"LearnerItems",mixins:[(0,y.default)(function(){return D.default.t("My Learning - Bridge")}),(0,d.default)(function(e){o.default.fetchNext(e.query)})],propTypes:{isLoading:L.bool,query:h.default.propTypes.query,learningItems:(0,L.arrayOf)(n(81)),recentLibraryItems:(0,L.arrayOf)(n(146))},getInitialState:function(){var e=U.MY_LEARNING_VIEWALL_ENUM.NONE;return this.props.query&&(this.isValidCategoryName(this.props.query.viewAll)?e=this.props.query.viewAll:window.history.replaceState(null,null,"/learner/courses")),{trayIsOpen:!1,activeItem:null,viewAllCategory:e}},componentDidUpdate:function(){var e=this.retrieveFilters();!this.props.isLoading&&e&&(e.filters&&e.filters.length||e.search)&&(0,A.default)(D.default.t({zero:"No results",one:"1 result",other:"%{count} results"},{count:this.props.learningItems.length}))},componentDidMount:function(){this.restoreFilters()},render:function(){return this.state.viewAllCategory!==U.MY_LEARNING_VIEWALL_ENUM.NONE?this.renderViewAll():s.default.createElement(R.TrayLayout,{isOpen:this.state.trayIsOpen},s.default.createElement(R.ContentOutlet,{className:"my-learning"},this.renderMyLearning()),s.default.createElement(R.TrayOutlet,{onCloseClick:this.closeTray},s.default.createElement(P.default,{activeItem:this.state.activeItem})))},renderViewAll:function(){var e=this.retrieveFilters(),t=this.props.learningItems,n=[],r=[];switch(this.state.viewAllCategory){case U.MY_LEARNING_VIEWALL_ENUM.ACTIONABLE:n=j.default.getActionItems(t),r=n.map(G.default);break;case U.MY_LEARNING_VIEWALL_ENUM.REQUIRED:n=j.default.getRequiredItems(t),r=n.map(G.default);break;case U.MY_LEARNING_VIEWALL_ENUM.OPTIONAL:n=j.default.getOptionalItems(t),r=n.map(G.default);break;case U.MY_LEARNING_VIEWALL_ENUM.COMPLETED:n=j.default.getCompletedItems(t),r=n.map(G.default);break;case U.MY_LEARNING_VIEWALL_ENUM.RECENT:r=this.props.recentLibraryItems;break;default:n=n.map(G.default)}return s.default.createElement(v.default,{libraryItems:r||[],learningItems:n,onRemoveItem:this.handleRemoveItem,searchTerm:e&&e.search,onChangeFilters:this.changeFilters,viewAllCategory:this.state.viewAllCategory,onViewAll:this.handleViewAll})},renderMyLearning:function(){var e=this.retrieveFilters(),t=this.retrieveViewStyle()||U.MY_LEARNING_STYLE_LIST;return s.default.createElement(h.default,{isLoading:this.props.isLoading,learningItems:this.props.learningItems||[],recentLibraryItems:this.props.recentLibraryItems||[],activeItemId:(0,S.get)(this.state,"activeItem.id"),viewStyle:t,searchTerm:e&&e.search,query:this.props.query,onAttachmentIconClick:this.toggleAttachmentsTray,onRemoveItem:this.handleRemoveItem,onChangeFilters:this.changeFilters,onChangeViewStyle:this.changeViewStyle,onViewAll:this.handleViewAll})},isValidCategoryName:function(e){return(0,S.values)(U.MY_LEARNING_VIEWALL_ENUM).indexOf(e)>-1},handleBack:function(){this.setState({viewAllCategory:U.MY_LEARNING_VIEWALL_ENUM.NONE})},handleViewAll:function(e){var t=e;t=t!==U.MY_LEARNING_VIEWALL_ENUM.NONE&&this.isValidCategoryName(e)?"?viewAll="+t:"/learner/courses",window.history.pushState(null,null,t),window.onpopstate=this.handleBack,this.setState({viewAllCategory:e})},handleRemoveItem:function(e){o.default.delete(e.learningItemId||e.id).then(null,function(){(0,f.default)(D.default.t("Oh Snap! We were unable to remove this learning item. Please try again later."),{type:"error"})})},closeTray:function(){var e=this.state.activeItem.button;this.setState({activeItem:null,trayIsOpen:!1},function(){e&&e.focus()})},openTray:function(e,t,n){this.setState({trayIsOpen:!0,activeItem:{button:n,id:e.id,contextId:e.learnableId,title:e.title,type:t}})},toggleAttachmentsTray:function(e,t,n){this.state.trayIsOpen&&e.id===this.state.activeItem.id?this.closeTray():this.openTray(e,t,n)},changeViewStyle:function(e){this.storeViewStyle(e),this.forceUpdate()},changeFilters:function(e){I.default.updateQuery(e),this.storeFilterParameters(e)},storeFilterParameters:function(e){N.default.setItem(Y,(0,S.assign)({},I.default.getQuery(),e),N.default.SCOPE_USER)},storeViewStyle:function(e){N.default.setItem(z,e,N.default.SCOPE_USER)},retrieveViewStyle:function(){return N.default.getItem(z,N.default.SCOPE_USER)},retrieveFilters:function(){return N.default.getItem(Y,N.default.SCOPE_USER)},restoreFilters:function(){var e=this.retrieveFilters();e&&I.default.updateQuery(e)}});e.exports=(0,E.default)({type:K,asyncProps:{recentLibraryItems:{fetch:function(){return(0,w.default)("private_libraries")&&(0,W.canViewLearnerLibrary)()?u.default.fetchRecent({excludes:["enrolled"]}).then(null,function(e){(0,V.isUnauthorizedRequest)(e)||(0,V.isAbortedOrUnsent)(e)||(0,f.default)(D.default.t("Failed to retrieve recent learning items. Please try again."),{type:"error"})}):q.default.resolve()}},learningItems:{fetch:function(e){var t=(0,S.assign)({},e.query,{absoluteLimit:300});return o.default.fetchAll(t).then(null,function(e){(0,V.isUnauthorizedRequest)(e)||(0,
V.isAbortedOrUnsent)(e)||(0,f.default)(D.default.t("Failed to retrieve learning items. Please try again."),{type:"error"})})},get:function(e){var t=(0,S.assign)({},e.query,{absoluteLimit:300});return o.default.getAll(t)},shouldRefetch:function(e,t){return!(0,S.isEqual)(e.query,t.query)},setup:function(e){o.default.addChangeListener(e)},teardown:function(e){o.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"learner.courses",path:"/learner/courses",ember:{parentPath:["learner"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(67),o=r(i),l=n(2),u=n(469),c=r(u),d=n(443),p=r(d),f=s.default.createClass({displayName:"LearnerLibrariesHeader",propTypes:{onLyndaTransition:l.func},render:function(){return(0,c.default)()?s.default.createElement("nav",{className:"library-header margin-b-s-desktop horizontal-scrolling-nav"},s.default.createElement("div",{className:"large-content-area--padded centered clearfix button-set horizontal-scrolling-nav__container"},s.default.createElement(o.default,{to:"/learner/library",className:"inline-block button-set__button"},I18n.t("Learning Library")),s.default.createElement(o.default,{to:"/learner/library/lynda",className:"library-header__lynda-link inline-block button-set__button",onClick:this.props.onLyndaTransition},s.default.createElement(p.default,null)))):null}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(93),l=n(2),u=l.arrayOf,c=l.bool,d=n(22),p=n(387),f=n(237),m=f.TrayLayout,h=f.TrayOutlet,g=f.ContentOutlet,v=n(606),_=n(2730),y=n(20),b=i.createClass({displayName:"LearnerLibraries",propTypes:{tags:u(n(247)),isLoading:c},getInitialState:function(){return{trayIsOpen:!1}},render:function(){return i.createElement("div",{className:"markets__lynda"},i.createElement(m,{isOpen:this.state.trayIsOpen},i.createElement(g,{className:"library"},!y("learn_my_learning_tabbed_nav")&&i.createElement(_,{onLyndaTransition:this.closeTray}),i.createElement(o,(0,s.default)({onTagRemoved:this.removeTagFilter,onTagTrayToggle:this.toggleTray,trayIsOpen:this.state.trayIsOpen},this.props))),i.createElement(h,{onCloseClick:this.closeTray},i.createElement(v,{tags:this.props.tags,onTagClick:this.toggleTagFilter,isLoading:this.props.isLoading}))))},closeTray:function(){this.setState({trayIsOpen:!1})},openTray:function(){this.setState({trayIsOpen:!0})},toggleTray:function(){this.state.trayIsOpen?this.closeTray():this.openTray()},toggleTagFilter:function(e){var t=p.getByName(e);p.toggleSelected(t)},removeTagFilter:function(e){var t=p.getByName(e);p.removeSelected(t)}});e.exports=d({type:b,asyncProps:{tags:{fetch:function(){return p.fetchAll("library")},get:function(){return p.getAll()}}}})},function(e,t){"use strict";e.exports={name:"learner.library",path:"/learner/library",ember:{parentPath:["learner"],sink:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(26),o=r(i),l=n(30),u=r(l),c=n(1450),d=r(c),p=n(53),f=r(p),m=n(137),h=r(m),g=n(1393),v=r(g),_=n(87),y=r(_),b=n(1485),E=r(b),C=n(66),I=r(C),T=n(4),N=n(3),S=n(240),x=r(S),A=(0,I.default)(h.default,200,!0),k=s.default.createClass({displayName:"LearnerLibrary",mixins:[(0,f.default)(function(e){d.default.fetchNext(e.query)}),(0,x.default)(function(){return o.default.t("Learning Library - Bridge")})],propTypes:{query:(0,N.shape)({sort:N.string,filters:(0,N.oneOfType)([N.string,(0,N.arrayOf)(N.string)]),search:N.string}),trayIsOpen:N.bool,onTagRemoved:N.func,onTagTrayToggle:N.func},componentDidUpdate:function(e,t){(this.state.isLoading||(0,T.isEqual)(this.state.libraryItems,t.libraryItems))&&(0,T.isEqual)(this.props.query,e.query)||A(o.default.t("The library items have been updated"))},getInitialState:function(){return this.getStateFromStores(this.props.query)},componentWillMount:function(){this.fetchLibraryItems(this.props.query)},componentWillReceiveProps:function(e){(0,T.isEqual)(this.props.query,e.query)||this.fetchLibraryItems(e.query)},fetchLibraryItems:function(e){d.default.fetchAll(e)},componentDidMount:function(){d.default.addChangeListener(this._onChange),this.props.query&&this.props.query.search?(0,E.default)(this.props.query):this.restoreStorageFilterParams()},componentWillUnmount:function(){d.default.removeChangeListener(this._onChange)},getFilterParams:function(){return y.default.getItem("libraryFilterParams",y.default.SCOPE_USER)},restoreStorageFilterParams:function(){var e=this.getFilterParams();e&&u.default.updateQuery(e)},changeParams:function(e){u.default.updateQuery(e),(0,E.default)(e)},render:function(){var e=this.getFilterParams();return s.default.createElement(v.default,{onChangeParams:this.changeParams,onTagRemoved:this.props.onTagRemoved,onTagTrayToggle:this.props.onTagTrayToggle,trayIsOpen:this.props.trayIsOpen,libraryItems:this.state.libraryItems,searchTerm:e&&e.search,query:this.props.query})},getStateFromStores:function(e){return{libraryItems:d.default.getAll(e),isLoading:d.default.isSaving()}},_onChange:function(){this.setState(this.getStateFromStores(u.default.getQuery()))}});e.exports=k},function(e,t){"use strict";e.exports={name:"learner.library.default",parent:"learner.library",default:!0,ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=r(i),l=n(93),u=r(l),c=n(22),d=r(c),p=n(1433),f=r(p),m=n(469),h=r(m),g=n(3),v=n(240),_=r(v),y=o.default.createClass({displayName:"LearnerLibrariesLynda",mixins:[(0,_.default)(function(){return I18n.t("Lynda - Learning Library - Bridge")})],propTypes:{marketplaceCategories:(0,g.arrayOf)(n(241))},render:function(){return(0,h.default)()?o.default.createElement(u.default,(0,s.default)({isLearnerLibrary:!0},this.props)):null}});e.exports=(0,d.default)({type:y,asyncProps:{marketplaceCategories:{fetch:function(){return f.default.fetchAll()},get:function(){return f.default.getAll()},shouldRefetch:function(){return!1}}}})},function(e,t){"use strict";e.exports={name:"learner.library.lynda",path:"lynda",parent:"learner.library",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1426),o=r(i),l=s.default.createClass({displayName:"LearnerLibrariesLyndaCategoriesPage",render:function(){return s.default.createElement(o.default,this.props)}});e.exports=l},function(e,t){"use strict";e.exports={name:"learner.library.lynda.categories",default:!0,parent:"learner.library.lynda",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(3),l=o.string,u=o.arrayOf,c=o.shape,d=n(1427),p=n(867),f=n(19),m=n(18),h=n(6),g=i.createClass({displayName:"LearnerLibrariesLyndaCoursePage",propTypes:{marketplaceCategories:u(n(241)),params:c({categoryId:l.isRequired,courseId:l.isRequired}).isRequired},getInitialState:function(){return{isAddingToMyLearning:!1}},componentWillMount:function(){p.fetch(this.props.params.courseId),p.addChangeListener(this.onChange)},componentWillUnmount:function(){p.removeChangeListener(this.onChange)},onChange:function(){this.forceUpdate()},render:function(){return i.createElement(d,(0,s.default)({renderAddButton:this.renderAddButton},this.props))},renderAddButton:function(e){var t=p.hasCourse(e.id),n=h({"lynda-course__basket-checkbox":!0,secondary:t}),r=void 0;return r=this.state.isAddingToMyLearning?I18n.t("Adding..."):t?I18n.t("Remove from My Learning"):I18n.t("Add to My Learning"),i.createElement(m,{onClick:this.addButtonClicked(e),disabled:this.state.isAddingToMyLearning,className:n},r)},addButtonClicked:function(e){var t=this;return function(){var n=p.get(e.id);n?p.delete(n.id,n.learnableId).then(null,function(){f(I18n.t("Oh Snap! We were unable to remove this course. Please try again later."),{type:"error"})}):(t.setState({isAddingToMyLearning:!0}),p.enroll({courseId:e.id,courseTitle:e.title,courseAuthor:e.authorName},!0).then(function(){t.setState({isAddingToMyLearning:!1})},function(){t.setState({isAddingToMyLearning:!1})}))}}});e.exports=g},function(e,t){"use strict";e.exports={name:"learner.library.lynda.course",path:"course/:categoryId/:courseId",parent:"learner.library.lynda",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1428),o=r(i),l=s.default.createClass({displayName:"LearnerLibrariesLyndaSearchPage",render:function(){return s.default.createElement(o.default,this.props)}});e.exports=l},function(e,t){"use strict";e.exports={name:"learner.library.lynda.search",path:"categories/:categoryId",parent:"learner.library.lynda",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(1429),s=r.createClass({displayName:"LearnerLibrariesLyndaSearchAllPage",render:function(){return r.createElement(a,this.props)}});e.exports=s},function(e,t){"use strict";e.exports={name:"learner.library.lynda.searchAll",path:"course",parent:"learner.library.lynda",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return"month"};return{liveCourse:{fetch:function(t){var n=e(t),r=n.liveCourseId,a=n.liveCourseUuid;return r?s.default.fetch(r).catch(function(){(0,f.default)(d.default.t("Sorry, we couldn't find the training you were looking for."),{type:"error"})}):a?s.default.fetchByUuid(a).catch(function(){(0,f.default)(d.default.t("Sorry, your admin has removed access to this course. No need to worry."))}):u.default.resolve()},get:function(t){var n=e(t),r=n.liveCourseId,a=n.liveCourseUuid;return r&&s.default.get(r)||a&&s.default.getByUuid(a)},setup:function(e){s.default.addChangeListener(e)},teardown:function(e){s.default.removeChangeListener(e)},shouldRefetch:function(t,n){var r=e(t),a=r.liveCourseId,s=r.liveCourseUuid,i=e(n),o=i.liveCourseId,l=i.liveCourseUuid;return l!==s||o!==a}},sessions:{fetch:function(n){var r=e(n),a=r.liveCourseId,s=r.liveCourseUuid,i=r.sessionId,l=r.date,c=r.search,d=(0,v.default)({search:c,liveCourseId:a,liveCourseUuid:s});switch(i&&(d.sessionIds=[i]),t(n)){case"month":return o.default.fetchForMonthOfYear(l.getMonth(),l.getFullYear(),d);case"agenda":return o.default.fetchAgendaSessions(l.getFullYear(),l.getMonth(),l.getDate(),d);default:return u.default.resolve([])}},get:function(n){var r=e(n),a=r.date;switch(t(n)){case"month":return o.default.getForMonthOfYear(a.getMonth(),a.getFullYear());case"agenda":return o.default.getAgendaSessions();default:return[]}},setup:function(e){o.default.addChangeListener(e)},teardown:function(e){o.default.removeChangeListener(e)},shouldRefetch:function(t,n){var r=e(t),a=r.date,s=r.view,i=r.search,o=r.liveCourseId,l=r.liveCourseUuid,u=e(n),c=u.date,d=u.view,p=u.search,f=u.liveCourseId,m=u.liveCourseUuid;return!(0,h.default)(c).isSame(a,"day")||d!==s||p!==i||m!==l||f!==o}}}};var a=n(3309),s=r(a),i=n(886),o=r(i),l=n(25),u=r(l),c=n(26),d=r(c),p=n(19),f=r(p),m=n(11),h=r(m),g=n(478),v=r(g);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=s.default.createClass({displayName:"AgendaDetail",propTypes:{header:i.string,children:i.node},render:function(){return s.default.createElement("div",{className:"live-training-calendar__agenda-event__extra-details__wrapper"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__small-header"},this.props.header),s.default.createElement("div",{className:"live-training-calendar__agenda-event__extra-details__box"},this.props.children))}});t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(1331),o=r(i),l=n(2746),u=r(l),c=n(24),d=r(c),p=n(61),f=r(p),m=n(5),h=n(898),g=n(161),v=r(g),_=n(753),y=n(384),b=n(87),E=r(b),C=n(27),I=r(C),T=n(18),N=r(T),S=n(298),x=r(S),A=n(807),k=r(A),w=n(6),R=r(w),O=n(4),P=n(3),L=n(37),M=r(L),D=s.default.createClass({displayName:"AgendaEvent",mixins:[(0,M.default)({mobile:M.default.QUERY_MOBILE})],propTypes:{event:v.default.isRequired},contextTypes:{searchTerm:P.string},getDefaultProps:function(){return{event:{}}},getInitialState:function(){return{expanded:this.getExpandedState()}},componentWillReceiveProps:function(e){e.event.id!==this.props.event.id&&this.setState({expanded:this.getExpandedState()})},render:function(){var e=this.props.event,t=e.liveCourse,n=(0,y.getLocation)(e);if(t){var r=this.state.expanded,a=(0,R.default)("live-training-calendar__agenda-event",{"live-training-calendar__agenda-event__expanded":r});return s.default.createElement("div",{className:a},s.default.createElement("div",{className:"live-training-calendar__agenda-event__content"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__details"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__title-wrapper"},s.default.createElement("h3",{className:"live-training-calendar__agenda-event__title"},s.default.createElement(f.default,{text:t.title,highlight:this.context.searchTerm})),e.isRegistered&&s.default.createElement(x.default,{name:I18n.t("REGISTERED"),className:"live-training-calendar__agenda-event__pill--registered"})),s.default.createElement("span",{className:"live-training-calendar__agenda-event__time"},this.formatTimeframe(e))),n&&!this.isMobile()&&s.default.createElement("div",{className:"live-training-calendar__agenda-event__location-wrapper"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__small-header"},s.default.createElement(d.default,null,I18n.t("Location"))),s.default.createElement(f.default,{text:n,highlight:this.context.searchTerm})),s.default.createElement("div",{className:"live-training-calendar__agenda-event__actions"},(0,_.isFutureSession)(e)&&!this.isMobile()&&this.renderRegistrationButton(),this.renderExpandButton())),r&&this.renderExpandedContent())}return console.warn("Warning: LiveCourse not defined for AgendaEvent:",e),null},renderExpandButton:function(){var e=this.state.expanded;return this.hasExpandableContent()?s.default.createElement(N.default,{onClick:(0,O.partial)(this.setExpandedState,!e),className:"live-training-calendar__agenda-event__expand-btn"},s.default.createElement(I.default,null,e?I18n.t("More information"):I18n.t("Less information")),s.default.createElement(m.Icon,{className:e?"gs-arrow-up":"gs-arrow-down"})):s.default.createElement("div",{className:"live-training-calendar__agenda-event__expand-btn-placeholder"})},renderExpandedContent:function(){var e=this.props.event,t=e.id,n=e.liveCourse,r=e.multiPart,a=e.parts,i=e.parentId,o=n.description,l=n.instructor,u=(0,y.getLocation)(this.props.event);return s.default.createElement("div",{className:"live-training-calendar__agenda-event__expanded-content"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__expanded-content__section"},(r||i)&&s.default.createElement("div",{className:"live-training-calendar__agenda-event__parts-wrapper"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__small-header"},s.default.createElement(d.default,null,I18n.t("Multi-part Training"))),s.default.createElement("div",{className:"live-training-calendar__agenda-event__parts"},s.default.createElement(k.default,{sessions:a,selectedId:t}))),s.default.createElement("div",{className:"live-training-calendar__agenda-event__description-wrapper"},o&&s.default.createElement("div",null,s.default.createElement("div",{className:"live-training-calendar__agenda-event__small-header"},s.default.createElement(d.default,null,I18n.t("Description"))),s.default.createElement(f.default,{text:o,highlight:this.context.searchTerm})))),this.isMobile()&&s.default.createElement("div",{className:"live-training-calendar__agenda-event__registration-button-box"},this.renderRegistrationButton()),u&&this.isMobile()&&s.default.createElement("div",{className:"live-training-calendar__agenda-event__location-wrapper"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__small-header"},s.default.createElement(d.default,null,I18n.t("Location"))),s.default.createElement(f.default,{text:u,highlight:this.context.searchTerm})),s.default.createElement("div",{className:"live-training-calendar__agenda-event__bottom-second-boxes"},l&&s.default.createElement("div",{className:"live-training-calendar__agenda-event__instructor-wrapper"},s.default.createElement("div",{className:"live-training-calendar__agenda-event__small-header"},s.default.createElement(d.default,null,I18n.t("Instructor"))),s.default.createElement("div",null,l)),this.renderExtraDetails()),s.default.createElement("div",{className:"live-training-calendar__agenda-event__actions"}))},renderExtraDetails:function(){var e=this.props.event,t=e.waitlist,n=e.webConference,r=(0,_.getSeatsRemaining)(e);return s.default.createElement("div",{className:"live-training-calendar__agenda-event__extra-details"},(0,O.isNumber)(r)&&s.default.createElement(u.default,{header:I18n.t("Seats Left")},r),t&&s.default.createElement(u.default,{header:I18n.t("Waitlist")},t),this.getWebConferenceURL(n)&&s.default.createElement(u.default,{header:I18n.t("Web Conf.")},s.default.createElement("a",{href:this.getWebConferenceURL(n)},s.default.createElement(I.default,null,I18n.t("Web Conference Link")),s.default.createElement(m.Icon,{className:"gs-webconf live-training-calendar__agenda-event__extra-details__box__web"}))))},renderRegistrationButton:function(){var e=this.props.event;return s.default.createElement(o.default,{session:e})},setExpandedState:function(e){return this.setState({expanded:e}),E.default.setItem("AgendaEvent_"+this.props.event.id,e,E.default.SCOPE_USER)},getExpandedState:function(){var e=this.props.event.liveCourse.description,t=f.default.getHighlightRegExp(this.context.searchTerm);return t&&t.test(e)||E.default.getItem("AgendaEvent_"+this.props.event.id,E.default.SCOPE_USER)},formatTimeframe:function(e){return(0,h.formatTimeRangeWithZone)(e.startAt,e.endAt,e.timezone)},getWebConferenceURL:function(e){return e&&!/javascript:/.test(e.url)&&e.url},hasExpandableContent:function(){var e=this.props.event,t=e.waitlist,n=e.liveCourse,r=e.webConference,a=e.multiPart,s=e.parentId,i=this.getWebConferenceURL(r),o=n&&n.description,l=n&&n.instructor,u=(0,_.isFutureSession)(e)&&this.isMobile();return(0,_.getSeatsRemaining)(e)||u||t||i||o||l||a||s},isMobile:function(){var e=this.state.media;return e&&e.mobile}});t.default=D,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2750),o=r(i),l=n(1331),u=r(l),c=n(753),d=n(24),p=r(d),f=n(161),m=r(f),h=n(4),g=n(3),v=s.default.createClass({displayName:"PopupContent",propTypes:{session:m.default.isRequired,searchTerm:g.string},shouldComponentUpdate:function(e){return!(0,h.isEqual)(e.session,this.props.session)},render:function(){var e=this.props,t=e.session,n=e.searchTerm;return s.default.createElement("div",{className:"live-training-calendar__popup-info"},s.default.createElement(o.default,{session:t,searchTerm:n}),s.default.createElement("div",{className:"live-training-calendar__popup-info__actions"},(0,c.isFutureSession)(t)?this.renderRegistrationButton():this.renderSessionEnded()))},renderRegistrationButton:function(){var e=this.props.session;return s.default.createElement(u.default,{session:e})},renderSessionEnded:function(){return s.default.createElement("div",{className:"live-training-calendar__popup-info__session-ended"},s.default.createElement(p.default,null,I18n.t("Session has ended")))}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(111),o=r(i),l=n(61),u=r(l),c=n(2748),d=r(c),p=n(6),f=r(p),m=n(11),h=r(m),g=n(161),v=r(g),_=n(3),y=s.default.createClass({displayName:"PopupEvent",propTypes:{event:v.default.isRequired},contextTypes:{searchTerm:_.string},render:function(){var e=this.props.event,t=e.liveCourse;if(t){var n=(0,f.default)({"live-training-calendar--available":!t.isEnrolled&&!e.isRegistered,"live-training-calendar--enrolled":t.isEnrolled,"live-training-calendar--registered":e.isRegistered,"live-training-calendar--past":(0,h.default)(e.startAt).isBefore(),"live-training-calendar__popup":!0}),r={position:{my:"bottom center",at:"top center"},style:{def:!1,tip:{border:0,width:32,height:20}}};return s.default.createElement(o.default,{ref:"popup",session:e,searchTerm:this.context.searchTerm,content:d.default,positioningAnchor:"#event-"+e.id,popupClassName:n,popupOptions:r},s.default.createElement("div",{className:n,id:"event-"+e.id,onClick:this.openPopup,"data-capybara":"live-training__pill"},s.default.createElement(u.default,{text:t.title,highlight:this.context.searchTerm})))}return console.warn("Warning: LiveCourse not defined for PopupEvent: ",e),null},openPopup:function(){this.refs.popup.open()}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.liveCourse;return f.default.createElement("div",null,f.default.createElement("p",{className:"popup__content__intro"},i(e)),f.default.createElement("h3",null,f.default.createElement(E.default,{text:n.title,highlight:t})),e.parts&&l(e),f.default.createElement("div",{className:"popup__content__time-location"},f.default.createElement("p",null,s(e.startAt,e.timezone)),f.default.createElement("p",null,f.default.createElement(E.default,{text:(0,N.getLocation)(e),highlight:t}))),f.default.createElement("p",{className:"popup__content__description"},f.default.createElement(E.default,{text:n.description,highlight:t})))}function s(e,t){return f.default.createElement("strong",{className:"popup__content__time"},h.default.tz(e,t).format("dddd, MMMM DD, YYYY"),f.default.createElement("br",null),(0,T.formatTimeWithZone)(e,t))}function i(e){return e.isRegistered?I18n.t("You've been registered for"):e.liveCourse.isEnrolled?I18n.t("You've been enrolled in"):I18n.t("Open enrollment for")}function o(e){var t=e.liveCourse,n=(0,v.default)(e.startAt).format("YYYY-MM-DD");return e.liveCourse.isEnrolled?{queryParams:{liveCourseId:t.id,view:"agenda",date:n},to:"learner.live_training_calendar"}:{params:[{liveCourseUuid:t.uuid}],to:"learner.live_course.enroll"}}function l(e){var t=u(e),n=e.parts.length;return t>0?f.default.createElement("p",{className:"live-training-calendar__view-parts"},f.default.createElement("span",{className:"live-training-calendar__part-position"},I18n.t("Part %{position} of %{length}",{position:t,length:n}))):null}function u(e){return(0,x.findIndex)(e.parts,["id",e.id])+1}Object.defineProperty(t,"__esModule",{value:!0});var c=n(9),d=r(c),p=n(1),f=r(p),m=n(282),h=r(m),g=n(11),v=r(g),_=n(13),y=r(_),b=n(61),E=r(b),C=n(161),I=r(C),T=n(898),N=n(384),S=n(3),x=n(4),A=function(e){var t=e.session,n=e.searchTerm;return t.liveCourse?(0,v.default)(t.startAt).isAfter()?f.default.createElement(y.default,(0,d.default)({className:"live-training-calendar__session-link"},o(t)),a(t,n)):a(t,n):(console.warn("Warning: LiveCourse not defined for PopupSessionLink:",t),null)};A.propTypes={session:I.default.isRequired,searchTerm:S.string},t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(24),o=r(i),l=n(5),u=n(2996),c=r(u),d=n(52),p=r(d),f=n(67),m=r(f),h=n(296),g=r(h),v=n(2749),_=r(v),y=n(2747),b=r(y),E=n(464),C=r(E),I=n(161),T=r(I),N=n(20),S=r(N),x=n(3),A=s.default.createClass({displayName:"View",propTypes:{liveCourse:C.default,sessions:(0,x.arrayOf)(T.default),selectedDate:(0,x.instanceOf)(Date),calendarView:(0,x.oneOf)(["agenda","month"]),onDateChange:x.func,onViewChange:x.func,hideViewToggles:x.bool,isLoading:x.bool,hasMorePages:x.bool,searchTerm:x.string},render:function(){var e=this.props,t=e.calendarView,n=e.selectedDate,r=e.onDateChange,a=e.onViewChange,i=e.hideViewToggles,o=e.isLoading,u=e.hasMorePages,d=e.searchTerm;return s.default.createElement("div",{className:"live-training-calendar"},this.renderHeader(),s.default.createElement("div",{className:"live-training-calendar__box"},s.default.createElement("div",{className:"library-actions"},s.default.createElement("div",{className:"live-training-calendar__search"},s.default.createElement(p.default,{searchTerm:d,ariaLabelText:I18n.t("Search for Live Trainings")}))),s.default.createElement(c.default,{date:n,view:t,hideViewToggles:i,onNavigate:r,onViewChange:a},o?s.default.createElement(l.Loader,{className:"live-training-calendar__loader"}):this.renderCalendarView()),!o&&u&&"agenda"===t&&s.default.createElement(l.Loader,{className:"live-training-calendar__next-loader"})))},renderHeader:function(){var e=this.props.liveCourse,t=(0,S.default)("learn_my_learning_tabbed_nav")?s.default.createElement(g.default,null):s.default.createElement(g.default,{header:s.default.createElement("h1",{className:"layout--list__header-text"},I18n.t("Calendar"))});return e?s.default.createElement(g.default,{header:this.renderLiveCourseTitle(e),headerHasIcon:!0,customBranding:!1,navigation:!1}):t},renderLiveCourseTitle:function(e){return s.default.createElement("div",{className:"live-training-calendar__live-course-header"},s.default.createElement("div",{className:"live-training-calendar__live-course-title"},s.default.createElement(l.Icon,{className:"layout--item-header__icon gs-in-class"}),s.default.createElement("h1",{className:"xx-large margin-none"},e.title)),s.default.createElement(m.default,{to:"learner.live_training_calendar",query:{view:this.props.calendarView},className:"live-training-calendar__view-full-calendar"},s.default.createElement(o.default,null,I18n.t("View Full Calendar")),s.default.createElement(l.Icon,{className:"gs-arrow-right"})))},renderCalendarView:function(){return"agenda"===this.props.calendarView?this.renderAgendaView():this.renderMonthView()},renderMonthView:function(){return s.default.createElement(c.default.MonthView,{events:this.props.sessions,eventComponent:_.default})},renderAgendaView:function(){return s.default.createElement(c.default.AgendaView,{events:this.props.sessions,eventComponent:b.default})}});t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){f.default.setItem(H,e,f.default.SCOPE_USER)}function s(e){var t=[j.NAVIGATE_DATE_FORMAT,"MM-DD-YYYY"],n=(0,x.default)(e,t,!0);return n.isValid()?new Date(n.format()):new Date}function i(e){return!!e&&"string"==typeof e&&["month","agenda"].indexOf(e.toLowerCase())!==-1}function o(){var e=f.default.getItem(H,f.default.SCOPE_USER)||{};return i(e.view)?e.view:null}function l(e){var t=u(e),n=t.view,r=t.liveCourseId,a=t.liveCourseUuid,s=!(!r&&!a)&&"agenda";return n||s||o()||"month"}function u(e){var t=e.query,n=e.params;return(0,N.omitBy)({view:i(t.view)&&t.view,date:s(t.date),search:t.search,liveCourseId:t.liveCourseId||n.liveCourseId,liveCourseUuid:t.liveCourseUuid||n.liveCourseUuid,sessionId:t.sessionId||n.sessionId},function(e){return!e})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),d=r(c),p=n(87),f=r(p),m=n(30),h=r(m),g=n(2751),v=r(g),_=n(22),y=r(_),b=n(886),E=r(b),C=n(137),I=r(C),T=n(3),N=n(4),S=n(11),x=r(S),A=n(2745),k=r(A),w=n(37),R=r(w),O=n(53),P=r(O),L=n(240),M=r(L),D=n(389),U=n(464),F=r(U),q=n(161),B=r(q),j=n(12),H="learnerCalendarSettings",G=d.default.createClass({displayName:"LiveTrainingCalendar",mixins:[(0,M.default)(function(){if(this.props.query.date){var e=(0,x.default)(this.props.query.date).format("LL");return I18n.t("%{date} - Calendar - Bridge",{date:e})}return I18n.t("Calendar - Bridge")}),(0,R.default)({mobile:R.default.QUERY_MOBILE}),(0,P.default)(function(e){var t=E.default.hasMoreAgendaSessions();"agenda"===l(e)&&t&&((0,I.default)(I18n.t("Loading next page of events")),E.default.fetchNextAgendaSessions().then(function(){(0,I.default)(I18n.t("Events loaded"))}))})],propTypes:{liveCourse:F.default,sessions:(0,T.arrayOf)(B.default),isLoading:T.bool,updateQuery:T.func,params:(0,T.shape)({liveCourseId:T.string,liveCourseUuid:T.string,sessionId:T.string}),query:(0,T.shape)({date:T.string,view:T.string,search:T.string,liveCourseId:T.string})},childContextTypes:{searchTerm:T.string},getDefaultProps:function(){return{updateQuery:null,query:{}}},getChildContext:function(){var e=u(this.props),t=e.search;return{searchTerm:t}},componentDidMount:function(){this.setDefaultMobileView()},componentDidUpdate:function(e){var t=this.props,n=t.query,r=t.sessions,a=e.query.date!==n.date,s=e.sessions.length!==r.length;this.setDefaultMobileView(),(a||s)&&(0,I.default)(I18n.t("Displaying events starting from %{date}",{date:(0,x.default)(n.date).format("LL")}),"assertive")},render:function(){var e=this.props,t=e.sessions,n=e.liveCourse,r=e.isLoading,a=u(this.props),s=a.date,i=a.search,o=this.state.media.mobile||(0,D.isUnderAllyRouter)(),c=E.default.hasMoreAgendaSessions();return d.default.createElement(v.default,{sessions:t,liveCourse:n,selectedDate:s,calendarView:l(this.props),searchTerm:i,onDateChange:this.changeDate,onViewChange:this.changeView,hideViewToggles:o,isLoading:r,hasMorePages:c})},changeDate:function(e){var t=(0,x.default)(e),n=t.isValid()?t:(0,x.default)(new Date),r=null===e;(0,I.default)(I18n.t("Loading events starting from %{date}",{date:(0,x.default)(t).format("LL")})),this.updateQuery({view:l(this.props),date:r?void 0:n.format(j.NAVIGATE_DATE_FORMAT)})},changeView:function(e){var t=u(this.props),n=t.date;i(e)&&(a({view:e}),this.updateQuery({view:e,date:(0,x.default)(n).format(j.NAVIGATE_DATE_FORMAT)}))},updateQuery:function(e){this.props.updateQuery?this.props.updateQuery(e):h.default.updateQuery(e)},setDefaultMobileView:function(){this.state.media.mobile&&"agenda"!==l(this.props)&&this.changeView("agenda")}});t.default=(0,y.default)({type:G,asyncProps:(0,k.default)(u,l)}),e.exports=t.default},function(e,t){"use strict";e.exports=function(e){e({name:"learner.live_training_calendar",path:"/learner/calendar",ember:{parentPath:["learner"]}}),e({name:"learner.live_course.enroll",path:"/learner/training/:liveCourseUuid/enroll",ember:{parentPath:["learner"]}}),e({name:"learner.live_course.session.enroll",path:"/learner/training/:liveCourseUuid/sessions/:sessionId/enroll",ember:{parentPath:["learner"]}}),e({name:"learner.live_course",path:"/learner/training/:liveCourseId",ember:{parentPath:["learner"]}}),e({name:"learner.live_course.session",path:"/learner/training/:liveCourseId/sessions/:sessionId",ember:{parentPath:["learner"]}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(22),o=r(i),l=n(1466),u=r(l),c=n(790),d=r(c),p=n(1387),f=r(p),m=n(634),h=r(m),g=n(12),v=n(2),_=s.default.createClass({displayName:"Finished",propTypes:{ltiContentItem:h.default,params:(0,v.shape)({ltiContentItemId:v.string}),query:(0,v.shape)({programId:v.string})},render:function(){var e=this.props.query.programId,t=this.props.ltiContentItem,n={title:t.ltiAttributes.title,description:t.ltiAttributes.text,learnableId:t.id,state:g.STATUS_COMPLETE,data:{toolId:t.toolId,icon:t.ltiAttributes.icon,thumbnail:t.ltiAttributes.thumbnail,custom:t.ltiAttributes.custom}};return s.default.createElement(d.default,{passed:!0,canRetry:!0,programId:e,completedText:I18n.t("You Completed")},s.default.createElement(f.default,{learningItem:n,programId:e,noLink:!0}))}});e.exports=(0,o.default)({type:_,blocking:!0,asyncProps:{ltiContentItem:{fetch:function(e){return u.default.fetch(e.params.ltiContentItemId)},get:function(e){return u.default.get(e.params.ltiContentItemId)},shouldRefetch:function(e,t){return e.params.ltiContentItemId!==t.params.ltiContentItemId;
}}}})},function(e,t){"use strict";e.exports={name:"learner.lti_content_item.finished",path:"/learner/lti/content_items/:ltiContentItemId/finished"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(22),o=r(i),l=n(1466),u=r(l),c=n(13),d=r(c),p=n(18),f=r(p),m=n(187),h=r(m),g=n(268),v=r(g),_=n(3215),y=r(_),b=n(59),E=n(34),C=r(E),I=n(19),T=r(I),N=n(2),S=s.default.createClass({displayName:"LearnerLtiContentItem",propTypes:{ltiContentItem:n(634),params:(0,N.shape)({ltiContentItemId:N.string}),query:(0,N.shape)({programId:N.string})},complete:function(){var e=this.props.ltiContentItem;return u.default.complete(e).then(this.transitionToFinished)},isComplete:function(){return"complete"===this.props.ltiContentItem.state},transitionToFinished:function(){var e=this.props.ltiContentItem,t=this.props.query.programId,n=t?{programId:t}:{};d.default.transitionTo("learner.lti_content_item.finished",e.id,{queryParams:n})},render:function(){var e=this.props.ltiContentItem;return s.default.createElement("div",{className:"lti-content-item"},this.renderHeader(),s.default.createElement(b.LtiContentItemView,{ltiContentItem:e,onFetchLtiLinkItemLaunchResource:this.fetchLtiLinkItemLaunchResource}))},renderHeader:function(){return s.default.createElement("header",null,s.default.createElement("div",{className:"pure-g-r lti-content-item__nav-container"},this.renderBackButton()),this.renderCompletionButton())},renderCompletionButton:function(){return this.isComplete()?null:s.default.createElement("div",{className:"lti-content-item__actions-container"},s.default.createElement(f.default,{className:"lti-content-item__actions-container__complete btn filled",onClick:this.complete},I18n.t("Mark Complete")))},renderBackButton:function(){var e=this.props.query.programId;return e?s.default.createElement(v.default,{className:"learner-slide-header__exit-link",hasBackIcon:!0,programId:e,hideTextOnMobile:!0}):s.default.createElement(h.default,{className:"learner-learnable-header__exit-link",hasBackIcon:!0,hideTextOnMobile:!0})},fetchLtiLinkItemLaunchResource:function(e){return(0,y.default)(e.id,this.props.query.programId).then(function(e){return{ltiResource:e,isLoading:!1}},function(){return{isLoading:!1}})}});t.default=(0,o.default)({type:S,blocking:!0,asyncProps:{ltiContentItem:{fetch:function(e){return u.default.fetch(e.params.ltiContentItemId)},get:function(e){return u.default.get(e.params.ltiContentItemId)},onFailure:function(e,t){console.error("Unable to retrieve Lti Content Item: ",e),console.info("Aborting transition."),t&&t.transition.abort(e),d.default.replaceWith(C.default.getPostAuthRoute()).then(function(e){return(0,T.default)(I18n.t("Failed to load Lti Content Item. Please try again.")),e})},shouldRefetch:function(e,t){return e.params.ltiContentItemId!==t.params.ltiContentItemId}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"learner.lti_content_item",path:"/learner/lti/content_items/:ltiContentItemId"}},function(e,t,n){"use strict";var r=n(177),a=n(1),s=n(2),i=s.bool,o=s.func,l=s.string,u=n(55),c=a.createClass({displayName:"A11yToggle",propTypes:{checked:i,onChange:o.isRequired,className:l},getDefaultProps:function(){return{checked:!1,className:"a11y-toggle"}},render:function(){return(0,r.isFreeOrLiteAccount)({excludeSupport:!1})?null:a.createElement("div",{className:"learner-profile__boolean-setting"},a.createElement("label",{className:"learner-profile__boolean-setting__container"},a.createElement("div",{className:"learner-profile__boolean-setting__label"},I18n.t("Use accessibility enhanced version of Bridge")),a.createElement("div",null,a.createElement(u,{className:this.props.className,checked:this.props.checked,onChange:this.handleChange}))))},handleChange:function(e){e.target.checked!==this.props.checked&&this.props.onChange(e.target.checked)}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.func,i=a.bool,o=n(24),l=n(94),u=n(92),c=n(1332),d=r.createClass({displayName:"AvatarMenu",propTypes:{onRequestSelfie:s,onFileSelected:s,onRemove:s,hasAvatar:i},getDefaultProps:function(){return{onRequestSelfie:Function.prototype,onFileSelected:Function.prototype,onRemove:Function.prototype,hasAvatar:!0}},render:function(){return r.createElement("div",{className:"learner-profile__avatar-menu","data-capybara":"learner-profile__avatar-menu"},r.createElement(l,{activateOnClick:!0},r.createElement(l.Trigger,null,r.createElement("div",null,r.createElement("i",{className:"gs-camera gs-3x"})),r.createElement("p",{className:"text-center light upcase small learner-profile__change"},r.createElement(o,null,I18n.t("Change Photo")))),r.createElement(l.Content,null,r.createElement("ul",{className:"unstyled bordered dark-grey"},r.createElement("li",{className:"padding-trbl-s"},r.createElement(u,{acceptedFileTypes:"image/*",label:I18n.t("Upload Photo"),onChange:this.props.onFileSelected})),!!c()&&r.createElement("li",{className:"padding-trbl-s"},r.createElement("button",{className:"btn--reset",type:"button",onClick:this.props.onRequestSelfie},r.createElement(o,null,I18n.t("Take a Selfie")))),this.props.hasAvatar&&r.createElement("li",{className:"padding-trbl-s"},r.createElement("button",{className:"btn--reset",type:"button",onClick:this.props.onRemove},r.createElement(o,null,I18n.t("Remove Photo"))))))))}});e.exports=d},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(2759),i=n(784),o=n(2764),l=n(2767),u=n(3325),c=n(754),d=n(365),p=d.VALID_MIME_TYPES,f=a.createClass({displayName:"AvatarUploader",propTypes:{hasAvatar:r.bool},getInitialState:function(){return{takeSelfie:!1,shouldReplaceWithSelfie:!1,image:null}},render:function(){return a.createElement("div",null,a.createElement(s,{onFileSelected:this.onFileSelected,onRequestSelfie:this.onRequestSelfie,onRemove:this.clearAvatarURL,hasAvatar:this.props.hasAvatar}),this.state.image&&a.createElement(i,{image:this.state.image,onRequestClose:this.onRequestCloseImageManipulator,shouldReplaceWithSelfie:this.state.shouldReplaceWithSelfie,onRequestSelfie:this.onRequestSelfie,onReplaceImage:this.onFileSelected,onSaveImage:this.onSaveImage,isOpen:!0}),a.createElement(o,{onRequestClose:this.onRequestCloseWebcam,onImageCaptured:this.onSelfieCaptured,isOpen:this.state.takeSelfie}))},onFileSelected:function(e){var t=this,n=e[0],r=p[n.type];r&&l(n).then(function(e){t.setState({image:e})})},onRequestSelfie:function(){this.setState({image:null,takeSelfie:!0})},onSelfieCaptured:function(e){this.setState({image:e})},onRequestCloseImageManipulator:function(){this.setState({image:null,shouldReplaceWithSelfie:!1})},onRequestCloseWebcam:function(){this.setState({takeSelfie:!1,shouldReplaceWithSelfie:!0})},onSaveImage:function(e){c.uploadFile(u(e))},clearAvatarURL:function(){c.updateAvatarURL("")}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(23),u=r(l),c=n(24),d=r(c),p=n(19),f=r(p),m=n(7),h=r(m),g=n(1486),v=r(g),_=u.default.findDOMNode,y=function(){},b=o.default.createClass({displayName:"Settings",propTypes:{onSuccess:s.default.func,onFailure:s.default.func},getDefaultProps:function(){return{onSuccess:y,onFailure:y}},getInitialState:function(){return{errors:{currentPassword:!1,newPassword:!1,confirmPassword:!1}}},handleFormSubmit:function(e){e.preventDefault(),this.validateForm()&&this.submitForm()},getFormData:function(){return{current_password:_(this.refs.currentPassword).value,new_password:_(this.refs.newPassword).value}},resetForm:function(){_(this.refs.currentPassword).value="",_(this.refs.newPassword).value="",_(this.refs.confirmPassword).value="",this.setState({errors:{}})},submitForm:function(){var e=this;(0,h.default)({url:"/api/learner/profile/password",data:this.getFormData(),dataType:"json",method:"PUT"}).then(function(){(0,f.default)(I18n.t("Your password has been updated")),e.resetForm(),e.props.onSuccess()},function(t){401===t.status||400===t.status?t.responseJSON.errors instanceof Array&&"fails_password_requirements"===t.responseJSON.errors[0]?e.setState({errors:{invalidPassword:!0,invalidPasswordErrorString:I18n.t("Password does not meet requirements")}},function(){_(e.refs.newPassword).focus()}):e.setState({errors:{currentPassword:!0}},function(){_(e.refs.currentPassword).focus()}):(0===t.status||t.status>=500)&&(0,f.default)(I18n.t("Oh Snap! We were unable to update your password. Please try again later."),{type:"error"}),e.props.onFailure()})},validateForm:function(){var e=_(this.refs.currentPassword),t=_(this.refs.newPassword),n=_(this.refs.confirmPassword);if(""===t.value)return this.setState({errors:{newPassword:!0}},function(){t.focus()}),!1;if(n.value!==t.value)return this.setState({errors:{confirmPassword:!0}},function(){n.focus()}),!1;if(""===e.value)return this.setState({errors:{currentPassword:!0}},function(){e.focus()}),!1;var r=(0,v.default)(t.value);return r?(this.setState({errors:{invalidPassword:!0,invalidPasswordErrorString:r}},function(){t.focus()}),!1):(this.setState({errors:{}}),!0)},getErrorMessageClassName:function(e){var t="help-block input-m input-r error-message pink";return e||(t+=" hidden"),t},render:function(){return o.default.createElement("form",{className:"settings-form",onSubmit:this.handleFormSubmit},o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"current-password",className:"screenreader-only"},o.default.createElement(d.default,null,I18n.t("Current Password"))),o.default.createElement("input",{ref:"currentPassword",type:"password",id:"current-password",placeholder:I18n.t("Current Password"),"aria-invalid":this.state.errors.currentPassword,className:"padding-trbl-s input-m input-r margin-t-xl"}),this.state.errors.currentPassword&&o.default.createElement(E,null,o.default.createElement(d.default,null,I18n.t("Incorrect Password")))),o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"new-password",className:"screenreader-only"},o.default.createElement(d.default,null,I18n.t("New Password"))),o.default.createElement("input",{ref:"newPassword",type:"password",id:"new-password",placeholder:I18n.t("New Password"),"aria-invalid":this.state.errors.newPassword||this.state.errors.invalidPassword,className:"padding-trbl-s input-m input-r margin-t-xl"}),this.state.errors.newPassword&&o.default.createElement(E,null,o.default.createElement(d.default,null,I18n.t("New password required"))),this.state.errors.invalidPassword&&o.default.createElement(E,null,o.default.createElement(d.default,null,o.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{errors_invalid_password_error_string}",{errors_invalid_password_error_string:"%{errors_invalid_password_error_string}"}),errors_invalid_password_error_string:this.state.errors.invalidPasswordErrorString},"$1")))),o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"confirm-password",className:"screenreader-only"},o.default.createElement(d.default,null,I18n.t("Confirm Password"))),o.default.createElement("input",{ref:"confirmPassword",type:"password",id:"confirm-password",placeholder:I18n.t("Confirm Password"),"aria-invalid":this.state.errors.confirmPassword,className:"padding-trbl-s input-m input-r margin-t-xl"}),this.state.errors.confirmPassword&&o.default.createElement(E,null,o.default.createElement(d.default,null,I18n.t("Passwords do not match")))),o.default.createElement("button",{type:"submit",className:"settings-form__button"},o.default.createElement(d.default,null,I18n.t("Change password"))))}}),E=o.default.createClass({displayName:"ErrorMessage",propTypes:{children:s.default.any},render:function(){return o.default.createElement("span",{className:"help-block input-m input-r error-message pink"},this.props.children)}});e.exports=b},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(69),i=n(754),o=a.createClass({displayName:"Tagline",propTypes:{tagline:r.string},render:function(){var e=I18n.t("Bridge Learner"),t=(this.props.tagline||"").length,n=t?this.props.tagline:e;return a.createElement(s,{value:this.props.tagline,placeholder:e,maxLength:"36",inputClassName:"learner-profile__tagline upcase light dark-grey text-center",onChange:i.updateTagline},a.createElement("p",{className:"upcase light dark-grey",tabIndex:"-1"},n))}});e.exports=o},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(2),i=s.bool,o=s.number,l=s.func,u=n(1332),c=window.URL,d=c.createObjectURL,p=c.revokeObjectURL,f=r.createClass({displayName:"Webcam",propTypes:{height:o,width:o,audio:i,onError:l},getDefaultProps:function(){return{height:480,width:640,audio:!0,onError:Function.prototype}},getInitialState:function(){return{src:void 0,stream:void 0}},componentDidMount:function(){var e=this,t=u();t&&t({video:!0,audio:this.props.audio},function(t){e.setState({src:d(t),stream:t})},this.props.onError)},componentWillUnmount:function(){var e=this.state.stream||{},t=!!e.getTracks&&e.getTracks()[0];this.state.src&&p(this.state.src),t&&t.stop&&t.stop(),e.stop&&e.stop(),e.pause&&e.pause()},getScreenshot:function(){if(!this.state.src)return!1;var e=a.findDOMNode(this.refs.video),t=document.createElement("canvas");t.height=this.props.height,t.width=this.props.width;var n=t.getContext("2d");return n.drawImage(e,0,0,t.width,t.height),t.toDataURL("image/webp")},render:function(){return r.createElement("video",{autoPlay:!0,src:this.state.src,width:this.props.width,height:this.props.height,ref:"video"})}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(2763),l=r(o),u=n(78),c=r(u),d=n(24),p=r(d),f=n(19),m=r(f),h=n(6),g=r(h),v=s.default.createClass({displayName:"WebcamImageCapture",propTypes:{onImageCaptured:i.func,onRequestClose:i.func,isOpen:i.bool},getDefaultProps:function(){return{onImageCaptured:Function.prototype,onRequestClose:Function.prototype,isOpen:!1}},getInitialState:function(){return{open:!1}},componentWillMount:function(){this.timers=[]},componentDidMount:function(){this.isMounted=function(){return!1}},componentWillReceiveProps:function(e){var t=this;this.timers.push(setTimeout(function(){t.isMounted()&&t.setState({open:e.isOpen})},0))},componentWillUnmount:function(){this.timers.forEach(function(e){return clearTimeout(e)}),this.timers=null,this.isMounted=function(){return!1}},render:function(){var e=(0,g.default)("webcam-image-taker__modal",{"webcam-image-taker__modal-slide":this.state.open});return s.default.createElement(c.default,{className:e,isOpen:this.props.isOpen,contentLabel:I18n.t("Take a Selfie")},s.default.createElement("div",{className:"david-lee-roth webcam-image-taker"},s.default.createElement(l.default,{audio:!1,onError:this.handleError,ref:"webcam"}),s.default.createElement("div",{className:"webcam-image-taker__action-bar"},s.default.createElement("button",{className:"webcam-image-taker__close-button",onClick:this.handleClose},s.default.createElement(p.default,null,I18n.t("Close"))),s.default.createElement("button",{className:"webcam-image-taker__capture-button",onClick:this.captureImage},s.default.createElement(p.default,null,I18n.t("Capture"))))))},captureImage:function(){this.props.onImageCaptured(this.refs.webcam.getScreenshot()),this.handleClose()},handleClose:function(){var e=this;this.setState({open:!1}),this.timers.push(setTimeout(function(){e.isMounted()&&e.props.onRequestClose()},300))},handleError:function(){this.props.isOpen&&((0,m.default)(I18n.t("Oh Snap! We were unable to access your webcam. Please try again later."),{type:"error"}),this.handleClose())}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(65),o=r(i),l=n(2761),u=r(l),c=n(2762),d=r(c),p=n(2760),f=r(p),m=n(441),h=r(m),g=n(2758),v=r(g),_=n(55),y=r(_),b=n(34),E=r(b),C=n(39),I=r(C),T=n(22),N=r(T),S=n(754),x=r(S),A=n(42),k=r(A),w=n(108),R=r(w),O=n(37),P=r(O),L=n(2),M=n(12),D=n(20),U=r(D),F=s.default.createClass({displayName:"Profile",mixins:[(0,P.default)({mobile:P.default.QUERY_MOBILE})],propTypes:{user:k.default,locales:L.object},getDefaultProps:function(){return{user:{id:"",name:"",avatar_url:"",email:"",a11y:!1}}},render:function(){var e=this.props.user;if(!e)return null;var t=e&&!!e.avatar_url,n=t?e.avatar_url:"";return s.default.createElement("div",{className:"learner-profile content-wrapper"},s.default.createElement("div",{className:"david-lee-roth learner-profile__backdrop"},s.default.createElement("div",{className:"learner-profile__avatar-container"},!this.state.media.mobile&&s.default.createElement(f.default,{hasAvatar:t}),s.default.createElement(o.default,{id:e.id,name:e.name,email:e.email,avatarUrl:n,className:"avatar--user-header"}))),s.default.createElement("div",{className:"learner-profile__settings-container"},s.default.createElement("h1",{className:"margin-none"},e.name),s.default.createElement(d.default,{tagline:e.tagline}),s.default.createElement("p",null,e.uid),s.default.createElement(h.default,{className:"input-m centered",onChange:x.default.updateLocale,selectedValue:R.default.getCurrentLocale(),locales:this.props.locales}),(0,U.default)("a11y")&&s.default.createElement(v.default,{checked:e.a11y,onChange:x.default.updateA11y,className:"learner-profile__a11y-toggle"}),this.renderContrastToggle(),!E.default.shouldRedirectAfterLogout()&&!E.default.isMasquerading()&&s.default.createElement(u.default,null)))},renderContrastToggle:function(){var e=this.props.user;return s.default.createElement("div",{className:"learner-profile__boolean-setting"},s.default.createElement("label",{className:"learner-profile__boolean-setting__container"},s.default.createElement("div",{className:"learner-profile__boolean-setting__label"},I18n.t("Use high contrast mode")),s.default.createElement("div",null,s.default.createElement(y.default,{className:"learner-profile__high-contrast-toggle",checked:e.theme===M.THEME_HIGH_CONTRAST,onChange:this.handleContrastToggle}))))},handleContrastToggle:function(e){var t=e.target.checked?M.THEME_HIGH_CONTRAST:null;x.default.updateTheme(t)}});e.exports=(0,N.default)({type:F,asyncProps:{user:{get:function(){return{id:I.default.getId(),uid:I.default.getUID(),name:I.default.getName(),email:I.default.getEmail(),tagline:I.default.getTagline(),a11y:I.default.getA11y(),theme:I.default.getTheme(),avatar_url:I.default.getAvatarUrl()}},setup:function(e){I.default.addChangeListener(e)},teardown:function(e){I.default.removeChangeListener(e)}},locales:{fetch:function(){return R.default.fetchAll()},get:function(){return R.default.getAll()},setup:function(e){R.default.addChangeListener(e)},teardown:function(e){R.default.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"learner.profile",path:"/learner/profile",ember:{parentPath:["learner"]}}},function(e,t,n){"use strict";var r=n(25);e.exports=function(e){return new r(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=n,r.readAsDataURL(e)})}},function(e,t,n){"use strict";var r=n(13),a=n(19),s=n(34),i=n(1467),o=n(885);e.exports={program:{setup:function(e){i.addChangeListener(e)},fetch:function(e){var t=e.params.programId;return i.fetch(t)},get:function(e){var t=e.params.programId;return i.get(t)},onFailure:function(e,t){console.error("Unable to retrieve Program: ",e),console.info("Aborting transition."),t.transition.abort(e),r.replaceWith(s.getPostAuthRoute()).then(function(e){return a(I18n.t("Sorry, your admin has removed access to this program. No need to worry.")),e})},teardown:function(e){i.removeChangeListener(e)}},items:{fetch:function(e){var t=e.params.programId;return o.fetchAll({programId:t})},get:function(e){var t=e.params.programId;return o.getAll({programId:t})},onFailure:function(e,t){console.error("Unable to retrieve program items for ",e),console.info("Aborting transition."),t.transition.abort(e),r.replaceWith(s.getPostAuthRoute()).then(function(e){return a(I18n.t("Sorry, your admin has removed access to this program. No need to worry.")),e})},setup:function(e){o.addChangeListener(e)},teardown:function(e){o.removeChangeListener(e)}}}},function(e,t,n){"use strict";var r=n(1),a=n(440),s=n(3),i=s.string,o=r.createClass({displayName:"LearnerProgramHeaderDescription",propTypes:{description:i},render:function(){return r.createElement("div",{className:"learner-program__header__description"},r.createElement(a,null,this.props.description))}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s=n(9),i=r(s),o=n(38),l=r(o),u=n(1),c=r(u),d=n(11),p=r(d),f=n(6),m=r(f),h=n(3),g=n(5),v=n(13),_=r(v),y=n(24),b=r(y),E=n(18),C=r(E),I=n(2769),T=r(I),N=n(2772),S=r(N),x=n(2771),A=r(x),k=n(312),w=r(k),R=n(12),O=(a={},(0,l.default)(a,R.LEARNING_ITEM_COURSE_TYPE,"learner.course.launch"),(0,l.default)(a,R.LEARNING_ITEM_LIVE_COURSE_TYPE,"learner.live_training_calendar"),(0,l.default)(a,R.LEARNING_ITEM_TASK_TYPE,"learner.checkpoint"),(0,l.default)(a,R.LEARNING_ITEM_LTI_CONTENT_ITEM_TYPE,"learner.lti_content_item"),a),P=365,L=c.default.createClass({displayName:"LearnerProgramHeader",propTypes:{program:w.default,isMobile:h.bool,isTrayOpen:h.bool,loading:h.bool},getInitialState:function(){return{collapsed:!1}},componentWillMount:function(){this.requestAnimation()},componentWillUnmount:function(){window.cancelAnimationFrame(this.animationFrame)},renderAnimation:function(){var e=this.props.program.graphic;return c.default.createElement(A.default,{graphic:e})},render:function(){var e=(0,m.default)("learner-program__header",{"learner-program__header--collapsed":this.state.collapsed,"learner-program__header--tray-open":this.props.isTrayOpen}),t=(0,m.default)("learner-program__loader",{"margin-t-xxl":!this.state.collapsed&&!this.props.isMobile,"margin-t-s":!this.state.collapsed&&!this.props.isMobile});return c.default.createElement("div",{className:e,ref:"header"},this.renderAnimation(),this.state.collapsed?this.renderCollapsed():this.renderFull(),this.props.loading&&c.default.createElement("div",{className:t},this.isProgramCompleted()?I18n.t("Loading items"):I18n.t("Enrolling you in the program."),c.default.createElement(g.Loader,{loaderNumber:1,loaderSize:"small"})))},renderCollapsed:function(){var e=this.props.program,t=e.endAt,n=e.title,r=e.timeRemaining,a=e.programItemsCount;return c.default.createElement("div",{className:"learner-program__header--collapsed__content"},c.default.createElement(_.default,{to:"learner.courses",className:"learner-program__header--collapsed__exit-link"},c.default.createElement(g.Icon,{className:"gs-arrow-left"})),c.default.createElement("h1",{className:"learner-program__header--collapsed__title"},n),c.default.createElement(S.default,{className:"learner-program__header--collapsed__summary",stepCount:a,timeRemaining:r,isStarted:this.isProgramStarted(),isCompleted:this.isProgramCompleted(),endAt:t}),this.renderHeaderButton())},renderFull:function(){var e=this.props.program,t=e.endAt,n=e.title,r=e.description,a=e.timeRemaining,s=e.programItemsCount;return c.default.createElement("div",{className:"learner-program__header__content"},c.default.createElement(_.default,{to:"learner.courses",className:"learner-program__header__exit-link"},c.default.createElement(g.Icon,{className:"gs-arrow-left gs-1x padding-r-xs"}),c.default.createElement(b.default,{className:"button-focus-flat__label"},I18n.t("My Learning"))),c.default.createElement("h1",{className:"learner-program__header__title","data-capybara":"program_title"},n),c.default.createElement(S.default,{stepCount:s,timeRemaining:a,isStarted:this.isProgramStarted(),isCompleted:this.isProgramCompleted(),endAt:t}),c.default.createElement("hr",null),c.default.createElement(T.default,{description:r}),this.renderHeaderButton(),this.props.isMobile&&c.default.createElement("i",{className:"learner-program__arrow-icon gs-arrow-down"}))},renderHeaderButton:function(){var e=this.props.program,t=e.id,n=e.nextItemId,r=e.nextItemType,a=e.programItemsCount,s=e.completedProgramItemsCount,o=e.hasCertificate;if(o&&!n)return c.default.createElement(_.default,{className:"learner-program__header__certificate-link",to:"program-certificate",params:[{programId:t}]},c.default.createElement(g.Icon,{className:"gs-certificate gs-1x"})," ",c.default.createElement(b.default,null,I18n.t("View Certificate")));var l="learner-program__header"+(this.state.collapsed?"--collapsed":"")+"__launch-button",u=s+1,d={programId:t};return r===R.LEARNING_ITEM_LIVE_COURSE_TYPE&&(d=(0,i.default)({},d,{liveCourseId:n,date:(0,p.default)().format("YYYY-MM-DD")})),n?c.default.createElement(_.default,{className:l,to:O[r],params:[{courseId:n}],queryParams:d},this.isProgramStarted()?I18n.t("RESUME %{currentIndex} of %{total}",{currentIndex:u,total:a}):c.default.createElement(b.default,null,I18n.t("Lets Get Started"))):c.default.createElement(C.default,{className:l+"--complete",disabled:!0},I18n.t("COMPLETED %{programItemsCount} of %{programItemsCount}",{programItemsCount:a}))},isProgramStarted:function(){var e=this.props.program;return e.nextEnrollmentState!==R.COURSE_STATUS_LOCKED&&e.nextEnrollmentState!==R.COURSE_STATUS_CREATED&&e.nextEnrollmentState!==R.STATUS_ASSIGNED||e.completedProgramItemsCount>0},isProgramCompleted:function(){return!this.props.program.nextItemId},requestAnimation:function(){this.animationFrame=window.requestAnimationFrame(this.scrollTransition)},scrollTransition:function(){var e=window.pageYOffset,t=this.refs.header.lastChild;!this.props.isMobile&&e>P?this.state.collapsed||(this.setState({collapsed:!0}),t.animate([{opacity:.1},{opacity:1}],{duration:500}),t.style.opacity=1):(t.style.opacity=1.1-e/P,this.state.collapsed&&this.setState({collapsed:!1})),this.requestAnimation()}});e.exports=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(139),s=r(a),i=n(1),o=r(i),l=n(12),u=n(3),c=n(4),d=n(39),p=r(d),f=o.default.createClass({displayName:"LearnerProgramHeaderAnimation",propTypes:{count:u.number,minSpeed:u.number,maxSpeed:u.number,graphic:(0,u.shape)({gradient:u.number.isRequired,image:u.string})},getDefaultProps:function(){return{count:10,minSpeed:480,maxSpeed:600}},shouldComponentUpdate:function(e){return!(0,c.isEqual)(e,this.props)},render:function(){var e=window.CSS&&window.CSS.supports&&window.CSS.supports("mix-blend-mode","multiply")&&window.CSS.supports("mix-blend-mode","overlay"),t=this.props.graphic,n=t.gradient,r=t.image,a=l.PROGRAM_HEADER_GRADIENTS,s=""+a[n].opaque;return p.default.getTheme()===l.THEME_HIGH_CONTRAST?s="linear-gradient(rgba(7, 26, 50, 0.8), rgb(7, 26, 50))":r&&(s=a[n].transparent+", url("+r+")"),o.default.createElement("div",{className:"learner-program__header-animation"},o.default.createElement("svg",{className:"learner-program__header-animation__container",style:{backgroundImage:s}},e&&this.renderRects()))},renderRects:function(){var e=this;return[].concat((0,s.default)(Array(this.props.count))).map(function(t,n){var r=Math.round(n/e.props.count*100),a=200;return o.default.createElement("rect",{className:"learner-program__header-animation__rect",ref:e.rotateRect.bind(e,n),key:"rect-"+n,x:r-a+"%",y:r+"%"})})},rotateRect:function(e,t){if(t){var n=e%2===0?-1:1,r=360*(e/this.props.count),a=r+360*n;t.animate([{transform:"rotate("+r+"deg)"},{transform:"rotate("+a+"deg)"}],{iterations:1/0,duration:(0,c.random)(1e3*this.props.minSpeed,1e3*this.props.maxSpeed)})}}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2),o=n(11),l=r(o),u=n(151),c=n(20),d=r(c),p=s.default.createClass({displayName:"LearnerProgramHeaderSummary",propTypes:{timeRemaining:i.number,isStarted:i.bool,isCompleted:i.bool,stepCount:i.number,className:i.string,endAt:i.string},getDefaultProps:function(){return{className:"learner-program__header__summary"}},render:function(){var e=this.props.stepCount;return s.default.createElement("div",{className:this.props.className},s.default.createElement("ul",{className:"list--slashed"},s.default.createElement("li",null,I18n.t("Step",{count:e})),this.renderTimeRemaining(),this.renderDueDate()))},renderTimeRemaining:function(){if(this.props.isCompleted)return null;var e=l.default.duration(this.props.timeRemaining,"minutes").humanize(),t=this.props.isStarted?I18n.t("About %{timeEstimate} remaining",{timeEstimate:e}):I18n.t("Takes about %{timeEstimate}",{timeEstimate:e});return s.default.createElement("li",null,t)},renderDueDate:function(){var e=this.props,t=e.isCompleted,n=e.endAt;return(0,d.default)("learn_program_due_date")&&!t&&n?s.default.createElement("li",null,(0,u.dueDateText)((0,l.default)(n))):null}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(37),o=r(i),l=n(2770),u=r(l),c=n(237),d=n(302),p=r(d),f=n(792),m=r(f),h=n(3),g=n(312),v=r(g),_=n(1423),y=r(_),b=n(4);t.default=s.default.createClass({displayName:"View",propTypes:{program:v.default,items:(0,h.arrayOf)(y.default),loading:h.bool},mixins:[(0,o.default)({mobile:o.default.QUERY_MOBILE})],getInitialState:function(){return{activeItem:null}},closeTray:function(){this.setState({activeItem:null})},openTray:function(e,t){this.setState({activeItem:{id:e.id,contextId:e.learnableId,title:e.title,type:t}})},isTrayOpen:function(){return!!this.state.activeItem},toggleAttachmentsTray:function(e,t){this.isTrayOpen()&&e.id===this.state.activeItem.id?this.closeTray():this.openTray(e,t)},render:function(){return s.default.createElement(c.TrayLayout,{isOpen:this.isTrayOpen()},s.default.createElement(c.ContentOutlet,null,this.renderProgramPreview()),s.default.createElement(c.TrayOutlet,{onCloseClick:this.closeTray},s.default.createElement(p.default,{activeItem:this.state.activeItem})))},renderProgramPreview:function(){return s.default.createElement("div",{className:"learner-program"},s.default.createElement("div",{className:"learner-program__expander"}),s.default.createElement(u.default,{isMobile:this.state.media.mobile,program:this.props.program,isTrayOpen:this.isTrayOpen(),loading:this.props.loading}),s.default.createElement("div",{className:"learner-program__item-list"},s.default.createElement(m.default,{learningItems:this.props.items,programId:this.props.program.id,activeItemId:(0,b.get)(this.state,"activeItem.id"),noItemsText:I18n.t("No program items found."),onAttachmentIconClick:this.toggleAttachmentsTray,isSimple:!0,isProgram:!0,showAllDetails:!0,showDescription:!0})))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(53),o=r(i),l=n(885),u=r(l),c=n(22),d=r(c),p=n(2773),f=r(p),m=n(3),h=n(312),g=r(h),v=n(1423),_=r(v),y=n(12),b=n(4),E=n(240),C=r(E),I=s.default.createClass({displayName:"LearnerProgramPreview",propTypes:{program:g.default,items:(0,m.arrayOf)(_.default)},mixins:[(0,C.default)(function(){return I18n.t("%{title} - Bridge",{title:this.props.program.title})}),(0,o.default)(function(e){u.default.fetchNext({programId:e.program.id})})],getInitialState:function(){return{loading:!1}},componentDidMount:function(){var e=this.props,t=e.program,n=e.items;this.itemsAreLoaded(t,n)||(this.pollLearningItems(t.id),this.setState({loading:!0}))},componentWillReceiveProps:function(e){this.itemsAreLoaded(e.program,e.items)&&(this.stopPollingLearningItems(),this.setState({loading:!1}))},componentWillUnmount:function(){this.stopPollingLearningItems()},mapLearnablesToProgramItem:function(e,t){return t.map(function(t){var n=t.learnableType+":"+t.learnableId,r=(0,b.findIndex)(e.programItems,function(e){return e.itemType+":"+e.itemId===n});return r!==-1?e.programItems[r].id:-1})},howManyItemsAreCompleted:function(e,t){return e.filter(function(e){return t.indexOf(e)!==-1})},itemsAreLoaded:function(e,t){if(t.length&&t[0].state===y.COURSE_STATUS_LOCKED)return!1;var n=void 0;if(e.programItemsCount>y.DEFAULT_PAGE_SIZE)n=y.DEFAULT_PAGE_SIZE;else{if(e.programCompleted){var r=(0,b.map)(e.completedProgramItems,"itemId"),a=(0,
b.map)(e.programItems,"id"),s=this.howManyItemsAreCompleted(a,r),i=this.mapLearnablesToProgramItem(e,t),o=this.howManyItemsAreCompleted(s,i);return o.length===s.length}n=e.programItemsCount}return n<=t.length},pollLearningItems:function(e){function t(){u.default.fetchAll({programId:e})}this.intervalId=setInterval(t,y.DEFAULT_POLLING_FREQUENCY)},stopPollingLearningItems:function(){this.intervalId&&clearInterval(this.intervalId)},render:function(){return s.default.createElement(f.default,{program:this.props.program,items:this.props.items,loading:this.state.loading})}});e.exports=(0,d.default)({type:I,blocking:!0,asyncProps:n(2768)})},function(e,t){"use strict";e.exports={name:"learner.program",path:"/learner/programs/:programId"}},function(e,t,n){"use strict";var r=n(1),a=n(1467),s=n(3310),i=n(34),o=n(22),l=n(613),u=n(13),c=n(19),d=n(3),p=d.shape,f=d.string,m=r.createClass({displayName:"LearnerProgramEnroll",propTypes:{program:n(312),params:p({programUuid:f})},statics:{willTransitionTo:function(e,t,n,r){s.fetchByUuid(t.programUuid).then(function(){var e=s.getByUuid(t.programUuid);e.enrolled?a.fetchByUuid(t.programUuid).then(function(){var e=a.getByUuid(t.programUuid);u.transitionTo("learner.program",e.id)}):r()})}},getInitialState:function(){return{polling:!1}},render:function(){return r.createElement(l,{heading:I18n.t("You've been invited to take the following program:"),title:this.props.program.title,description:this.props.program.description,onRegister:this.handleRegistration,polling:this.state.polling})},handleRegistration:function(){var e=this;this.setState({polling:!0}),a.enroll(this.props.params.programUuid).then(function(){u.replaceWith("learner.program",e.props.program.id)})}});e.exports=o({type:m,blocking:!0,asyncProps:{program:{setup:function(e){a.addChangeListener(e)},teardown:function(e){a.removeChangeListener(e)},fetch:function(e){return a.fetchByUuid(e.params.programUuid)},get:function(e){return a.getByUuid(e.params.programUuid)},onFailure:function(e,t){console.error("Unable to retrieve program: ",e),console.info("Aborting transition."),t.transition.abort(e),u.replaceWith(i.getPostAuthRoute()).then(function(e){return c(I18n.t("Sorry, your admin has removed access to this program. No need to worry.")),e})}}}})},function(e,t){"use strict";e.exports={name:"learner.program.enroll",path:"/learner/programs/:programUuid/enroll"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(420),u=r(l),c=n(22),d=r(c),p=n(13),f=r(p),m=n(243),h=r(m),g=n(19),v=r(g),_=o.default.createClass({displayName:"QuizArchived",propTypes:{quiz:h.default,params:s.default.shape({quizId:s.default.string})},componentWillMount:function(){var e=this.props.quiz;e.isArchived||f.default.transitionTo("learner.quiz.launch",e.id)},render:function(){return o.default.createElement("div",{className:"text-center full-min-height"},o.default.createElement("h1",{className:"margin-t-xl"},I18n.t("Sorry, this quiz is unavailable.")),o.default.createElement("p",{className:"large margin-b-xl"},I18n.t("The associated course has been archived.")),o.default.createElement(f.default,{to:"learner.courses",className:"brand-bg brand-border btn filled"},I18n.t("Back To My Learning")))}});t.default=(0,d.default)({type:_,blocking:!0,asyncProps:{quiz:{fetch:function(e){return u.default.fetch(e.params.quizId)},get:function(e){return u.default.get(e.params.quizId)},setup:function(e){u.default.addChangeListener(e)},teardown:function(e){u.default.removeChangeListener(e)},onFailure:function(e,t){t.transition.abort(e),f.default.replaceWith("learner.courses").then(function(e){return(0,v.default)(I18n.t("Quiz does not exist"),{type:"error"}),e})}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"learner.quiz.archived",path:"/learner/quizzes/:quizId/archived"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(1333),u=r(l),c=n(13),d=r(c),p=n(1408),f=r(p),m=n(22),h=r(m),g=n(420),v=r(g),_=n(243),y=r(_),b=n(19),E=r(b),C=n(34),I=r(C),T=n(58),N=r(T),S=n(11),x=r(S),A=o.default.createClass({displayName:"QuizComplete",propTypes:{quiz:y.default,params:s.default.shape({quizId:s.default.string})},getInitialState:function(){return{teamData:[]}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(e){this.props.params.quizId!==e.params.quizId&&this.fetchData()},fetchData:function(){var e=this,t=this.props.quiz,n=I.default.getCurrentUserId();(0,f.default)(t.meta,t.courseId,{userId:n}).then(function(t){return e.setState(t)})},getRemainingDaysMessage:function(){var e=this.props.quiz;if((0,N.default)(e.nextQuizSendAt))return I18n.t("You have completed all of your quizzes!");var t=(0,x.default)(e.nextQuizSendAt);return t.isAfter((0,x.default)())?I18n.t("%{duration} until your next review",{duration:(0,x.default)(e.nextQuizSendAt).fromNow(!0)}):null},render:function(){var e=this.state.teamData,t=this.props.quiz,n=t.score>=60,r=t.score<60;return o.default.createElement("div",{className:"learner-quiz-complete full-min-height"},o.default.createElement("h1",{className:"learner-quiz-complete__title"},n&&I18n.t("Congratulations! You're ahead of the curve."),r&&I18n.t("Keep at it. Practice makes perfect.")),o.default.createElement("div",{className:"centered constrain-width"},o.default.createElement(u.default,{teamData:e})),o.default.createElement("div",{className:"bold margin-t-xxl"},I18n.t("Good job retaining your learning!")),o.default.createElement("div",null,this.getRemainingDaysMessage()),o.default.createElement(d.default,{to:"learner.courses",className:"brand-bg brand-border btn filled learner-quiz-complete__done"},I18n.t("Done")))}});t.default=(0,h.default)({type:A,blocking:!0,asyncProps:{quiz:{fetch:function(e){return v.default.fetch(e.params.quizId)},get:function(e){return v.default.get(e.params.quizId)},setup:function(e){v.default.addChangeListener(e)},teardown:function(e){v.default.removeChangeListener(e)},onFailure:function(e,t){t.transition.abort(e),d.default.replaceWith("learner.courses").then(function(e){return(0,E.default)(I18n.t("Quiz does not exist"),{type:"error"}),e})}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"learner.quiz.complete",path:"/learner/quizzes/:quizId/complete"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(420),u=r(l),c=n(22),d=r(c),p=n(13),f=r(p),m=n(243),h=r(m),g=n(19),v=r(g),_=n(12),y=o.default.createClass({displayName:"QuizExpired",propTypes:{quiz:h.default,params:s.default.shape({quizId:s.default.string})},componentWillMount:function(){var e=this.props.quiz;e.state!==_.STATUS_EXPIRED&&f.default.transitionTo("learner.quiz.launch",e.id)},render:function(){return o.default.createElement("div",{className:"text-center full-min-height"},o.default.createElement("h1",{className:"margin-t-xl"},I18n.t("Sorry, this quiz has expired.")),o.default.createElement("p",{className:"large margin-b-xl"},I18n.t("Retain quizzes are valid for 48 hours.")),o.default.createElement(f.default,{to:"learner.courses",className:"brand-bg brand-border btn filled"},I18n.t("Back To My Learning")))}});t.default=(0,d.default)({type:y,blocking:!0,asyncProps:{quiz:{fetch:function(e){return u.default.fetch(e.params.quizId)},get:function(e){return u.default.get(e.params.quizId)},setup:function(e){u.default.addChangeListener(e)},teardown:function(e){u.default.removeChangeListener(e)},onFailure:function(e,t){t.transition.abort(e),f.default.replaceWith("learner.courses").then(function(e){return(0,v.default)(I18n.t("Quiz does not exist"),{type:"error"}),e})}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"learner.quiz.expired",path:"/learner/quizzes/:quizId/expired"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(22),u=r(l),c=n(13),d=r(c),p=n(420),f=r(p),m=n(243),h=r(m),g=n(19),v=r(g),_=n(12),y=o.default.createClass({displayName:"QuizLaunch",propTypes:{quiz:h.default,params:s.default.shape({quizId:s.default.string})},componentWillMount:function(){var e=this.props.quiz;e.startedAt||f.default.update(e.id,{startedAt:(new Date).toString()}),e.state===_.STATUS_COMPLETE?d.default.transitionTo("learner.quiz.complete",e.id):e.state===_.STATUS_EXPIRED?d.default.transitionTo("learner.quiz.expired",e.id):e.isArchived?d.default.transitionTo("learner.quiz.archived",e.id):d.default.transitionTo("learner.quiz.question",e.id,e.currentQuestionId)},render:function(){return null}});t.default=(0,u.default)({type:y,blocking:!0,asyncProps:{quiz:{fetch:function(e){return f.default.fetch(e.params.quizId)},get:function(e){return f.default.get(e.params.quizId)},setup:function(e){f.default.addChangeListener(e)},teardown:function(e){f.default.removeChangeListener(e)},onFailure:function(e,t){t.transition.abort(e),d.default.replaceWith("learner.courses").then(function(e){return(0,v.default)(I18n.t("Quiz does not exist"),{type:"error"}),e})}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"learner.quiz.launch",path:"/learner/quizzes/:quizId/launch"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(22),u=r(l),c=n(420),d=r(c),p=n(2793),f=r(p),m=n(243),h=r(m),g=n(858),v=r(g),_=n(13),y=r(_),b=n(789),E=r(b),C=n(1382),I=r(C),T=n(6),N=r(T),S=n(19),x=r(S),A=o.default.createClass({displayName:"RetainQuestion",propTypes:{params:s.default.shape({quizId:s.default.string,questionId:s.default.string}),quiz:h.default,question:v.default},getInitialState:function(){return{slide:this.getFakeSlideModel(this.props.question)}},componentWillReceiveProps:function(e){e.question.id!==this.props.question.id&&this.setState({slide:this.getFakeSlideModel(e.question)})},getFakeSlideModel:function(e){var t=[];"reorder"===e.type&&(t=e.answers.map(function(e){return e.id}));var n={type:e.type,title:e.title,subject:e.subject,answers:e.answers,chosen_answers:t,correct_answers:e.correctAnswers||[],attachment_url:e.attachmentUrl,attachment_align:e.attachmentAlign,attachment_alt_text:e.attachmentAltText,next:e.meta.next,feedback:e.feedback};return"undefined"!=typeof e.score&&(n.score=e.score),n},reload:function(){this.forceUpdate()},submitResponse:function(e){return f.default.respond(this.props.question.id,e.chosen_answers)},handleSubmissionError:function(){(0,x.default)(I18n.t("Sorry, there was an error recording your response.  Please try again later."),{type:"error"})},navigateToNext:function(){var e=this.props,t=e.quiz,n=e.question;n.meta.next?y.default.transitionTo(["learner.quiz.question",t.id,n.meta.next]):d.default.complete(t.id).then(function(){y.default.transitionTo(["learner.quiz.complete",t.id])})},render:function(){var e=this.props,t=e.quiz,n=e.question,r=this.state.slide,a=r.correct_answers.length,s=(0,N.default)({"content-wrapper":!0,"full-height":!0,"full-min-height":!0,"page--question":!a,"page--question-answered":!0});return o.default.createElement("div",{className:s,"data-capybara":"retain_slide"},o.default.createElement(E.default,{course:{id:t.courseId},title:n.title,onNextSlide:this.navigateToNext,slide:this.state.slide},o.default.createElement("div",{className:"pure-g-r"},o.default.createElement("div",{className:"pure-u-4-24"}),o.default.createElement("div",{className:"pure-u-16-24 margin-b-xxl"},o.default.createElement(I.default,{course:{id:t.courseId,open_book:!1},slide:this.state.slide,onChange:this.reload,onNextSlide:this.navigateToNext,onPreviousSlide:function(){return null},onSubmitQuestion:this.submitResponse,onSubmissionError:this.handleSubmissionError})),o.default.createElement("div",{className:"pure-u-4-24"}))))}});t.default=(0,u.default)({type:A,blocking:!0,asyncProps:{quiz:{fetch:function(e){return d.default.fetch(e.params.quizId)},get:function(e){return d.default.get(e.params.quizId)},setup:function(e){d.default.addChangeListener(e)},teardown:function(e){d.default.removeChangeListener(e)},onFailure:function(e,t){t.transition.abort(e),y.default.replaceWith("learner.courses").then(function(){(0,x.default)(I18n.t("Quiz does not exist"),{type:"error"})})}},question:{fetch:function(e){return f.default.fetch(e.params.quizId,e.params.questionId)},get:function(e){return f.default.get(e.params.questionId)},setup:function(e){f.default.addChangeListener(e)},teardown:function(e){f.default.removeChangeListener(e)},onFailure:function(e,t){console.error(e),t.transition.abort(e),y.default.replaceWith("learner.courses").then(function(){(0,x.default)(I18n.t("Question does not exist"),{type:"error"})})}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"learner.quiz.question",path:"/learner/quizzes/:quizId/question/:questionId"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(243),o=r(i);t.default=(0,s.default)({url:"/api/learner/retain_quizzes/%@/complete",schema:o.default,type:"POST",parse:function(e,t){return e(t.quizzes[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(858),o=r(i),l=n(180),u=r(l);t.default=(0,s.default)({url:"/api/learner/retain_quizzes/%@/questions/%@",type:"GET",schema:o.default,parse:function(e,t){var n=(0,u.default)(t,"meta.next"),r=e(t.questions[0]);return r.meta={next:n},r}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(180),o=r(i),l=n(228),u=r(l),c=n(243),d=r(c);t.default=(0,s.default)({url:"/api/learner/retain_quizzes/%@",type:"GET",schema:d.default,parse:function(e,t){return(0,u.default)((0,o.default)(t,"meta.permissions")),e(t.quizzes[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(10),o=n(7),l=r(o);t.default=(0,s.default)({schema:(0,i.shape)({answers:(0,i.arrayOf)((0,i.shape)({id:i.string,body:i.string,correct:i.bool,position:i.number})),nextQuestionId:i.string,score:i.number}),perform:function(e,t){return(0,l.default)({url:"/api/learner/retain_questions/"+e+"/responses",type:"POST",dataType:"json",data:{answers:t}})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(243),o=r(i),l=n(7),u=r(l),c=n(40),d=r(c);t.default=(0,s.default)({schema:o.default,perform:function(e,t){return(0,u.default)({url:"/api/learner/retain_quizzes/"+e,type:"PUT",dataType:"json",data:(0,d.default)(t)})},parse:function(e,t){return e(t.quizzes[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(2789),o=r(i),l=n(2791),u=r(l),c=n(858),d=r(c);t.default=(0,s.default)({displayName:"/var/web/bridge/jsapp/screens/LearnerRetainQuiz/shared/stores/RetainQuestionStore.js",schema:d.default,fetch:function(e,t){return(0,o.default)(e,t).then(this.cache.add)},get:function(e){return this.cache.get(e)},respond:function(e,t){return(0,u.default)(e,t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{id:e,type:"tasks"}}function s(e){return{id:e.id,learnerId:e.learner.id}}function i(e,t){console.error("Unable to retrieve Task: ",e),console.info("Aborting transition."),t&&t.transition.abort(e),(0,b.default)(I18n.t("Failed to load checkpoint, please try again.")),_.default.replaceWith?_.default.replaceWith(C.default.getPostAuthRoute()).then(function(e){return e}):window.location.hash="/learner/courses"}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),l=r(o),u=n(2),c=r(u),d=n(1),p=r(d),f=n(22),m=r(f),h=n(1468),g=r(h),v=n(13),_=r(v),y=n(19),b=r(y),E=n(34),C=r(E),I=n(313),T=r(I),N=n(619),S=r(N),x=n(3041),A=r(x),k=n(18),w=r(k),R=n(3307),O=r(R),P=n(1442),L=r(P),M=n(144),D=r(M),U=n(33),F=r(U),q=n(311),B=r(q),j=n(179),H=r(j),G=n(195),W=n(221),V=r(W),Y=n(318),z=r(Y),K=n(432),Q=r(K),$=n(4),X=n(166),J=p.default.createClass({displayName:"LearnerTask",propTypes:{task:T.default,taskData:c.default.shape({task:T.default,approvalEvents:c.default.arrayOf(D.default.isRequired)}),params:c.default.shape({taskId:c.default.string}),query:c.default.shape({programId:c.default.string}),attachments:c.default.arrayOf(F.default).isRequired,evidences:B.default.isRequired},componentDidMount:function(){(0,H.default)(this.h1)},renderApproval:function(){var e=this.props.taskData.task;return p.default.createElement(A.default,{learner:e.learner,approval:e.approval,approver:e.defaultApprover,approverType:e.defaultApproverType,onCreateApproval:this.createApproval,approvalEvents:this.props.taskData.approvalEvents,onComment:this.updateApproval,showFooter:this.canShowApprovalFooter()})},renderCompletionFooter:function(){return p.default.createElement(Q.default,{isOpen:this.canShowCompletionFooter(),title:I18n.t("When you're done, just mark it complete.")},p.default.createElement(w.default,{className:"btn--themed filled learner-task__complete",onClick:this.complete},I18n.t("Mark Complete")))},render:function(){var e=this.props.taskData.task;return e?p.default.createElement(S.default,{task:e,isOverdue:(0,G.isOverdue)(e),isComplete:(0,G.isComplete)(e),programId:this.props.query.programId,showInstructions:!0,showInstructionsToggle:!0,h1:this.renderH1(),approval:e.approval,approver:e.defaultApprover,approverType:e.defaultApproverType,attachments:this.props.attachments,evidences:this.props.evidences},e.requiresApproval?this.renderApproval():this.renderCompletionFooter()):null},renderH1:function(){var e=this;return p.default.createElement("h1",{ref:function(t){e.h1=t},className:"screenreader-only"},I18n.t("Checkpoint"))},canShowApprovalFooter:function(){var e=this.props.taskData.task;return!!e.requiresApproval&&(!e.requiresEvidence||this.hasCompletedPending())},transitionToFinished:function(){var e=this.props.taskData.task,t=this.props.query.programId,n=t?{programId:t}:{};z.default.clearCompletedPending(s(e)),_.default.transitionTo("learner.checkpoint.finished",e.id,{queryParams:n})},complete:function(){var e=this.props.taskData.task,t=s(e),n=z.default.getCompletedPending(t);return g.default.complete(e.id,n).then(this.transitionToFinished).catch(this.handleUpdateError)},createApproval:function(e){var t=this.props.taskData.task,n=s(t),r=z.default.getCompletedPending(n);return O.default.create(t.id,e,r).then(this.transitionToFinished).catch(this.handleUpdateError)},updateApproval:function(e){var t=this.props.taskData.task.approval;O.default.update(t.id,{comment:e})},handleUpdateError:function(e){if(422===e.status){var t=e.responseJSON.errors[0];if("evidences_limit_exceeded"===t.code)return void(0,X.toastOfError)(I18n.t("Sorry, there was an error submitting this checkpoint. %{msg}",{msg:t.title}))}throw e},canShowCompletionFooter:function(){var e=this.props.taskData.task;return!e.requiresApproval&&(!(0,G.isComplete)(e)&&(!e.requiresEvidence||this.hasCompletedPending()))},hasCompletedPending:function(){var e=s(this.props.taskData.task);return z.default.getCompletedPending(e).length>0&&0===z.default.getIncompletePending(e).length}});t.default=(0,m.default)({type:J,blocking:!0,asyncProps:{taskData:{setup:function(e){g.default.addChangeListener(e),L.default.addChangeListener(e)},fetch:function(e){function t(e){return e.approval?L.default.fetchAll(e.approval.id).then(function(t){return{task:e,approvalEvents:t}}):{task:e}}function n(e){return(0,$.get)(e,"task.requiresEvidence")?z.default.fetchAll(s(e.task)).then(function(t){return(0,l.default)({},e,{evidences:t})}):e}return g.default.fetch(e.params.taskId).then(t).then(n).catch(i)},get:function(e){var t=g.default.get(e.params.taskId);return{task:t,approvalEvents:t.approval&&L.default.getAll(t.approval.id)}},teardown:function(e){g.default.removeChangeListener(e),L.default.removeChangeListener(e)}},attachments:{fetch:function(e){var t=a(e.params.taskId);return V.default.fetchAllByContext(t,"Learner")},get:function(e){var t=a(e.params.taskId);return V.default.getByContext(t).all},shouldRefetch:function(e,t){return e.params.taskId!==t.params.taskId},setup:function(e){V.default.addChangeListener(e)},teardown:function(e){V.default.removeChangeListener(e)}},evidences:{get:function(e){var t=g.default.get(e.params.taskId),n=s(t);return z.default.getAll(n)},setup:function(e){z.default.addChangeListener(e)},teardown:function(e){z.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"learner.checkpoint",path:"/learner/checkpoints/:taskId",ember:{sink:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(1468),u=r(l),c=n(22),d=r(c),p=n(790),f=r(p),m=n(1390),h=r(m),g=n(313),v=r(g),_=n(12),y=o.default.createClass({displayName:"Finished",propTypes:{task:v.default,query:s.default.shape({programId:s.default.string})},render:function(){var e=this.props.task,t={title:e.title,learnableId:e.id,state:e.requiresApproval?_.STATUS_ACTIVE:_.STATUS_COMPLETE,data:{hasCertificate:e.hasCertificate,requiresApproval:e.requiresApproval,approval:e.approval}};return o.default.createElement(f.default,{passed:!0,canRetry:!0,programId:this.props.query.programId,completedText:this.getCompletedText()},o.default.createElement(h.default,{className:"learning-item-list-item__task--finished",learningItem:t,isSingleLine:t.state===_.STATUS_COMPLETE,showTaskEventsLink:e.requiresApproval,progressIconClass:this.getProgressIconClass(),showApprovedIcon:!1,showApprovalStateLabel:e.requiresApproval,noLink:!0}))},getCompletedText:function(){var e=this.props.task;return e.requiresApproval?I18n.t("You Requested Approval"):I18n.t("You Completed")},getProgressIconClass:function(){var e=this.props.task;return e.approval&&e.approval.state===_.APPROVAL_STATE_APPROVED?"gs-thumb":"gs-tasks"}});e.exports=(0,d.default)({type:y,blocking:!0,asyncProps:{task:{fetch:function(e){return u.default.fetch(e.params.taskId)},get:function(e){return u.default.get(e.params.taskId)}}}})},function(e,t){"use strict";e.exports={name:"learner.checkpoint.finished",path:"/learner/checkpoints/:taskId/finished"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l);t.default=o.default.createClass({displayName:"LearnerTaskRedirect",propTypes:{params:s.default.shape({taskId:s.default.string.isRequired}).isRequired},componentDidMount:function(){u.default.replaceWith("learner.checkpoint",this.props.params.taskId)},render:function(){return null}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"learner.task",path:"/learner/tasks/:taskId"}},function(e,t,n){"use strict";var r=n(1),a=n(186);e.exports=function(e){e.Preview=a.addScreen("login",function(){return I18n.t("Login")},r.createClass({displayName:"Preview",getInitialState:function(){return{isPublic:!1}},togglePublic:function(){this.setState({isPublic:!this.state.isPublic})},render:function(){return r.createElement(e,{layoutClasses:"full-height",autoFocus:!1,onTogglePublic:this.togglePublic,isPublic:this.state.isPublic})}}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2),o=r(i),l=n(7),u=r(l),c=n(13),d=r(c),p=n(1334),f=r(p),m=n(34),h=r(m),g=n(2803),v=r(g),_=n(62),y=r(_),b=n(376),E=r(b),C=n(20),I=r(C),T=n(22),N=r(T),S=n(31),x=r(S),A=n(19),k=r(A),w=x.default.get("AUTHMONGER_URL")+"/basic/callback",R=s.default.createClass({displayName:"LoginHandler",propTypes:{auth:o.default.shape({public:o.default.bool,authenticated:o.default.bool,postAuthRoute:o.default.string,oauthRedirectUrl:o.default.string}),query:o.default.shape({external:o.default.string,state:o.default.string,redirect:o.default.string})},getDefaultProps:function(){return{auth:{},query:{}}},getWillTransition:function(){return(0,I.default)("learn_authmonger_basic")?!!x.default.get("LOGIN_URL")&&!this.props.query.external:!!x.default.get("LOGIN_URL")},getInitialState:function(){var e=x.default.get("DOMAIN").config;return{loginAttempts:0,willTransition:this.getWillTransition(),showPasswordReset:!e||e.password_reset_allowed}},componentWillMount:function(){h.default.clearForgotPasswordLoginId(),this.skipLogin()?d.default.replaceWith(this.props.auth.postAuthRoute):this.state.willTransition&&v.default.changeLocation(x.default.get("LOGIN_URL"))},componentDidUpdate:function(){var e=this.props;if(this.skipLogin()){var t=this.getRedirect();t?this.redirectTo(t):d.default.replaceWith(e.auth.afterAuthTransition)}},getRedirect:function(){var e=this.props.query.redirect;return e&&this.locationMatchesOrigin(e)&&!e.startsWith("/auth/")?e:null},locationMatchesOrigin:function(e){var t=window.document.createElement("a");return t.href=e,t.origin===window.location.origin},redirectTo:function(e){(0,u.default)({url:"/api/learner/profile/self"}).then(function(){h.default.changeLocation(e)})},skipLogin:function(){return this.props.auth.authenticated&&!this.props.query.external},render:function(){return this.skipLogin()||this.state.willTransition?null:s.default.createElement(f.default,{isFailed:!this.skipLogin()&&this.state.loginAttempts>0,isPublic:this.props.auth.public,onForgotPassword:this.handleForgotPassword,onLogin:this.login,onTogglePublic:v.default.setPublic,showPasswordReset:this.state.showPasswordReset,showPublicToggle:!this.props.query.external})},handleForgotPassword:function(e){h.default.setForgotPasswordLoginId(e),d.default.transitionTo("forgot_password")},login:function(e,t){var n=this,r=this.props.query,a=r.external,s=r.state;v.default.login(e,t).then(function(){n.setState({loginAttempts:0}),a&&s&&n.loginToExternal(e,t)},function(){n.setState({loginAttempts:n.state.loginAttempts+1}),(0,k.default)(I18n.t("Snap! Your username or password didn't work..."),{type:"error"})})},loginToExternal:function(e,t){var n=location.hostname.split(".")[0],r=document.createElement("form");r.action=w+"?state="+this.props.query.state,r.method="POST";var a={uid:e,password:t,account:n};for(var s in a){var i=document.createElement("input");i.type="hidden",i.name=s,i.value=a[s],r.appendChild(i)}document.body.appendChild(r),r.submit()}});t.default=(0,N.default)({type:R,blocking:!0,asyncProps:{auth:{get:function(){return E.default.install(Object.assign({shared_page:!0},y.default.getBranding())),h.default.getOauthRedirectUrl()?(window.location=h.default.getOauthRedirectUrl(),null):{afterAuthTransition:h.default.getAfterAuthTransition(),authenticated:h.default.isAuthenticated(),oauthRedirectUrl:h.default.getOauthRedirectUrl(),postAuthRoute:h.default.getPostAuthRoute(),public:h.default.isPublic()}},setup:function(e){h.default.addChangeListener(e)},teardown:function(e){h.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"login",path:"/login"}},function(e,t,n){"use strict";var r=n(34);e.exports={login:function(e,t){return r.loginRequest(e,t)},setPublic:function(e){r.setPublic(e)},changeLocation:function(e){window.location=e}}},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(34),i=r.createClass({displayName:"Logout",statics:{willTransitionTo:function(){s.logout().then(function(e){e&&a.transitionTo(s.getPostLogoutRoute())})}},render:function(){return null}});e.exports=i},function(e,t){"use strict";e.exports={name:"logout",path:"/logout"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(1335),g=r(h),v=n(22),_=r(v),y=n(84),b=r(y),E=n(222),C=r(E),I=n(5),T=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.placements;return t?f.default.createElement(I.Loader,null):f.default.createElement(g.default,{placements:n,placementRouteName:"admin.lti_resource"})}}]),t}(f.default.Component);T.propTypes={isLoading:m.bool,placements:(0,m.arrayOf)(b.default)},t.default=(0,_.default)({type:T,loadingPropName:"isLoading",asyncProps:{placements:{setup:function(e){C.default.addChangeListener(e)},teardown:function(e){C.default.addChangeListener(e)},get:function(){return C.default.getAll("admin_nav")},fetch:function(){return C.default.fetchAll("admin_nav")}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin.lti_resources",path:"admin/lti_resources",ember:{parentPath:["admin"]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(59),o=n(22),l=r(o),u=n(238),c=r(u),d=n(2),p=s.default.createClass({displayName:"AdminLtiToolGenericPage",propTypes:{params:(0,d.shape)({placementId:d.string}),ltiResource:i.LtiResourceSchema,isLoading:d.bool},render:function(){return s.default.createElement(i.LtiResourceIframe,{ltiResource:this.props.ltiResource,isLoading:this.props.isLoading})}});t.default=(0,l.default)({type:p,asyncProps:{ltiResource:{fetch:function(e){return(0,c.default)("admin",e.params.placementId)},shouldRefetch:function(e,t){return e.params.placementId!==t.params.placementId}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"admin.lti_resource",path:"admin/lti_resource/:placementId",ember:{parentPath:["admin"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(3),h=n(1335),g=r(h),v=n(22),_=r(v),y=n(84),b=r(y),E=n(222),C=r(E),I=n(5),T=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.placements;return t?f.default.createElement(I.Loader,null):f.default.createElement(g.default,{placements:n,placementRouteName:"learner.lti_resource"})}}]),t}(f.default.Component);T.propTypes={isLoading:m.bool,placements:(0,m.arrayOf)(b.default)},t.default=(0,_.default)({type:T,loadingPropName:"isLoading",asyncProps:{placements:{setup:function(e){C.default.addChangeListener(e)},teardown:function(e){C.default.addChangeListener(e)},get:function(){return C.default.getAll("learner_nav")},fetch:function(){return C.default.fetchAll("learner_nav")}}}}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"learner.lti_resources",path:"learner/lti_resources",ember:{parentPath:["learner"]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2814),o=r(i),l=n(2);t.default=s.default.createClass({
displayName:"LtiPlacements::Learner::Show",propTypes:{params:(0,l.shape)({placementId:l.string})},render:function(){return s.default.createElement(o.default,{placementId:this.props.params.placementId})}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"learner.lti_resource",path:"learner/lti_resource/:placementId",ember:{parentPath:["learner"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(59),o=n(22),l=r(o),u=n(238),c=r(u),d=n(2),p=s.default.createClass({displayName:"LearnerLtiToolView",propTypes:{placementId:d.string,ltiResource:i.LtiResourceSchema,isLoading:d.bool},render:function(){return s.default.createElement(i.LtiResourceIframe,{ltiResource:this.props.ltiResource,isLoading:this.props.isLoading})}});t.default=(0,l.default)({type:p,blocking:!1,asyncProps:{ltiResource:{fetch:function(e){return(0,c.default)("learner",e.placementId)},shouldRefetch:function(e,t){return e.placementId!==t.placementId}}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.NotFound,i=r.createClass({displayName:"NoUserHandler",render:function(){return r.createElement(s,{iconText:I18n.t("ACCOUNT ERROR"),contentTitle:I18n.t("Oops. We can't find your account."),contentMessage:I18n.t("Your account hasn't been created yet. Please contact your administrator.")})}});e.exports=i},function(e,t){"use strict";e.exports={name:"no_user",path:"/no_user"}},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.NotFound,i=r.createClass({displayName:"NotFoundHandler",render:function(){return r.createElement(s,null)}});e.exports=i},function(e,t){"use strict";e.exports={name:"not-found",path:"*",loadOrder:-100}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(266),o=r(i),l=n(1338),u=r(l),c=n(19),d=r(c),p=n(1336),f=r(p),m=n(34),h=r(m),g=n(22),v=r(g),_=n(1337),y=r(_),b=n(2),E=n(6),C=r(E),I=n(20),T=r(I),N=n(43),S=s.default.createClass({displayName:"ResetHandler",propTypes:{data:(0,b.shape)({name:b.string,token:b.string})},getInitialState:function(){return{loggedOut:!1}},componentWillMount:function(){this.checkLoggedIn()},checkLoggedIn:function(){var e=this;h.default.isAuthenticated()?h.default.logout().then(function(){e.setState({loggedOut:!0})}):this.setState({loggedOut:!0})},handleReset:function(e){f.default.handleReset(this.props.data.token,e).then(function(){(0,d.default)(I18n.t("Your password has been reset!"))},function(){(0,d.default)(I18n.t("There was a server error. Please try again."),{type:"error"})})},render:function(){if(!this.state.loggedOut)return null;var e=(0,C.default)("h1 margin-none",{"screenreader-only":(0,T.default)("learn_login_branding")}),t=(0,C.default)("h2 light",{"screenreader-only":(0,T.default)("learn_login_branding")});return s.default.createElement(o.default,null,s.default.createElement("h1",{className:e},I18n.t("Hi %{name}",{name:this.props.data.name})),s.default.createElement("h2",{className:t},I18n.t("Create a New Password")),(0,T.default)("learn_login_branding")&&s.default.createElement(N.BridgeLogo,{className:"auth-layout__bridge-logo--horizontal brand-color"}),s.default.createElement(u.default,{onSubmit:this.handleReset}))}});e.exports=(0,v.default)({type:S,asyncProps:y.default,blocking:!0})},function(e,t){"use strict";e.exports={name:"react.reset_password",path:"/reset-password/:token"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(13),o=r(i),l=n(2823),u=r(l),c=n(266),d=r(c),p=n(1338),f=r(p),m=n(6),h=r(m),g=n(20),v=r(g),_=n(43),y=(0,u.default)(function(){var e=(0,h.default)("h1 margin-none",{"screenreader-only":(0,v.default)("learn_login_branding")}),t=(0,h.default)("h2 light",{"screenreader-only":(0,v.default)("learn_login_branding")}),n=(0,h.default)("login-form",{"login-form--updated":(0,v.default)("learn_login_branding")});return s.default.createElement(d.default,{showBridgeLogo:!1},s.default.createElement("h1",{className:e},I18n.t("Hello %{name}",{name:this.props.data.name})),s.default.createElement("h2",{className:t},I18n.t("Plug in a password to finish creating your account.")),(0,v.default)("learn_login_branding")&&s.default.createElement(_.BridgeLogo,{className:"auth-layout__bridge-logo--horizontal brand-color"}),s.default.createElement("div",{className:n},s.default.createElement("label",{htmlFor:"uid",className:"screenreader-only"},I18n.t("Username")),s.default.createElement("span",{id:"uid"},this.props.data.uid)),s.default.createElement(f.default,{onSubmit:this.handleReset,submitButtonLabel:I18n.t("Get Started")}),!(0,v.default)("learn_login_branding")&&s.default.createElement("div",{className:"login-form"},s.default.createElement("p",null,I18n.t("Already have an account?"),s.default.createElement(o.default,{to:"login",className:"inline-block margin-l-xs white bold brand-color"},I18n.t("Login.")))))});e.exports=y},function(e,t){"use strict";e.exports={name:"react.user_setup",path:"/user-setup/:token",ember:{leaf:!0}}},function(e,t,n){"use strict";var r=n(1),a=n(4),s=a.assign,i=n(13),o=n(1336),l=n(34),u=n(22),c=n(19),d={componentWillMount:function(){l.isAuthenticated()&&i.transitionTo(l.getPostAuthRoute())},handleReset:function(e){o.handleReset(this.props.data.token,e).then(function(){c(I18n.t("Your password has been reset!"))},function(){c(I18n.t("There was a server error. Please try again."),{type:"error"})})}};e.exports=function(e){return u({type:r.createClass(s({},d,{render:e})),asyncProps:n(1337),blocking:!0})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(136),h=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return null}}],[{key:"willTransitionTo",value:function(){window.location="//"+(0,m.performURL)()+"/talent"}}]),t}(f.default.Component);t.default=h,e.exports=t.default},function(e,t){"use strict";e.exports={name:"perform",path:"/perform"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(2),o=r(i),l=n(13),u=r(l),c=n(1339),d=r(c),p=n(34),f=r(p),m=n(22),h=r(m),g=s.default.createClass({displayName:"SignedOutHandler",propTypes:{auth:o.default.shape({authenticated:o.default.bool,postAuthRoute:o.default.string})},getDefaultProps:function(){return{auth:{}}},componentWillMount:function(){this.skipLogin()&&u.default.replaceWith(this.props.auth.postAuthRoute)},skipLogin:function(){return this.props.auth.authenticated},render:function(){return this.skipLogin()?null:s.default.createElement(d.default,null)}});t.default=(0,h.default)({type:g,blocking:!0,asyncProps:{auth:{get:function(){return{authenticated:f.default.isAuthenticated(),postAuthRoute:f.default.getPostAuthRoute()}},setup:function(e){f.default.addChangeListener(e)},teardown:function(e){f.default.removeChangeListener(e)}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"signed-out",path:"/signed-out"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{accounts:{setup:function(e){i.default.addChangeListener(e)},teardown:function(e){i.default.removeChangeListener(e)},fetch:function(e){return i.default.fetchAll(e.query)},get:function(e){return i.default.getAll(e.query)},shouldRefetch:function(e,t){return!(0,a.isEqual)(e.query,t.query)}}}};var a=n(4),s=n(470),i=r(s);e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(61),s=n(13),i=n(24),o=n(50),l=o.Tr,u=o.Td,c=n(11),d=n(3),p=d.string,f=n(893),m=f.getAccountTypes;e.exports=r.createClass({displayName:"AccountSummaryRow",propTypes:{model:n(72).isRequired,highlight:p},render:function(){var e=this.props.model;return r.createElement(l,{mobileClassNames:"pure-g"},r.createElement(u,{mobileClassNames:"pure-u-3-5"},r.createElement(s,{to:"support.account",params:[{id:e.id}]},r.createElement(a,{text:e.name,highlight:this.props.highlight}))),r.createElement(u,{mobileClassNames:"pure-u-2-0"},r.createElement(a,{text:e.host?e.host.subdomain:"",highlight:this.props.highlight})),r.createElement(u,{mobileClassNames:"pure-u-1-5"},r.createElement(i,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{model_active_yes_no}",{model_active_yes_no:"%{model_active_yes_no}"}),model_active_yes_no:e.active?"Yes":"No"},"$1"))),r.createElement(u,{mobileClassNames:"pure-u-1-5"},r.createElement(i,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{this_human_readable_account_type_model_account_type}",{this_human_readable_account_type_model_account_type:"%{this_human_readable_account_type_model_account_type}"}),this_human_readable_account_type_model_account_type:this.humanReadableAccountType(e.accountType)},"$1"))),r.createElement(u,{mobileClassNames:"pure-u-1-5"},c(e.createdAt).format("LL")))},humanReadableAccountType:function(e){return m().filter(function(t){return t.value===e})[0].label}})},function(e,t,n){"use strict";var r=n(1),a=n(2829),s=n(54),i=n(13),o=n(97),l=n(52),u=n(123),c=n(50),d=c.Table,p=c.Thead,f=c.Tbody,m=c.Tr,h=c.Th,g=n(24),v=n(3),_=v.string,y=v.arrayOf,b=v.oneOfType,E=v.bool,C=v.shape,I=v.func,T=n(893),N=T.getAccountTypes;e.exports=r.createClass({displayName:"Accounts",propTypes:{query:C({search:_,sort:_,filters:b([_,y(_)])}).isRequired,allowCreate:E,onChangeQuery:I,accounts:y(n(72)).isRequired},onChangeFilters:function(e){this.props.onChangeQuery(e)},renderActions:function(){return r.createElement(s,{name:"layout--list__after-header"},this.props.allowCreate&&r.createElement(i,{className:"add-btn","aria-label":I18n.t("Add New Account"),to:"support.accounts.new"},r.createElement(g,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *Account*"),wrappers:{"*":r.createElement("span",{className:"add-btn__text"},"$1")}},"$1"))))},renderSearchAndFilters:function(){return r.createElement("div",{className:"sortable-table-header--first-item"},r.createElement("div",{className:"pure-u-1-2 indigo"},r.createElement(l,{label:I18n.t("Search"),searchTerm:this.props.query.search,placeholderText:I18n.t("Search for accounts")})),r.createElement("div",{className:"pure-u-1-2 text-right small"},r.createElement(u,{activeFilters:this.props.query,onChange:this.onChangeFilters,filterSets:[{label:I18n.t("Type"),key:"filters",options:N(),exclusiveOnlyForSet:!0},{label:I18n.t("Active"),key:"filters",options:[{label:I18n.t("Yes"),value:"active",exclusive:!0},{label:I18n.t("No"),value:"inactive",exclusive:!0}],exclusiveOnlyForSet:!0}]})))},renderAccounts:function(){var e=this;return r.createElement(d,{className:"accounts-table",sort:this.props.query.sort},r.createElement(p,null,r.createElement(m,null,r.createElement(h,{className:"th-35",sortParam:"name"},r.createElement(g,null,I18n.t("Name"))),r.createElement(h,{className:"th-20",sortParam:"subdomain"},r.createElement(g,null,I18n.t("Subdomain"))),r.createElement(h,{className:"th-15",sortParam:"active"},r.createElement(g,null,I18n.t("Active"))),r.createElement(h,{className:"th-15",sortParam:"account_type"},r.createElement(g,null,I18n.t("Type"))),r.createElement(h,{className:"th-15",sortParam:"created_at"},r.createElement(g,null,I18n.t("Date Created"))))),r.createElement(f,null,this.props.accounts.map(function(t){return r.createElement(a,{key:t.id,model:t,highlight:e.props.query.search})})))},render:function(){return r.createElement(o,null,r.createElement(s,{name:"layout--list__header-text"},I18n.t("Accounts")),this.renderActions(),this.renderSearchAndFilters(),this.renderAccounts())}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2830),o=r(i),l=n(37),u=r(l),c=n(53),d=r(c),p=n(470),f=r(p),m=n(22),h=r(m),g=n(29),v=r(g),_=n(3),y=n(30),b=r(y),E=n(2828),C=r(E),I=s.default.createClass({displayName:"SupportAccount",mixins:[(0,d.default)(function(e){f.default.fetchNext(e.query)}),(0,u.default)({mobile:u.default.QUERY_MOBILE})],propTypes:{accounts:(0,_.arrayOf)(n(72)),query:(0,_.shape)({sort:_.string,filters:(0,_.oneOfType)([_.string,(0,_.arrayOf)(_.string)])})},onChangeQuery:function(e){b.default.updateQuery(e)},render:function(){return s.default.createElement(o.default,{query:this.props.query,allowCreate:(0,v.default)("account_create"),accounts:this.props.accounts,onChangeQuery:this.onChangeQuery})}});e.exports=(0,h.default)({type:I,asyncProps:(0,C.default)()})},function(e,t){"use strict";e.exports={name:"support.accounts",path:"support/accounts",ember:{parentPath:["support"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(1343),h=r(m),g=n(24),v=r(g),_=n(22),y=r(_),b=n(108),E=r(b),C=n(1446),I=r(C),T=n(291),N=r(T),S=n(3293),x=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("div",null,f.default.createElement("header",{className:"layout--item-header"},f.default.createElement("div",{className:"large-content-area centered layout--item-header__content"},f.default.createElement("div",{className:"pure-g-r"},f.default.createElement("div",{className:"pure-u-16-24"},f.default.createElement("h1",{className:"clearfix margin-none"},f.default.createElement("span",{className:"inline-block padding-tb-xs"},f.default.createElement(v.default,null,I18n.t("Create New Account")))))))),f.default.createElement("div",{className:"large-content-area--main-container centered"},f.default.createElement(h.default,{isNew:!0,account:(0,S.defaultAccount)(),onSubmit:this.handleSubmit})))}},{key:"handleSubmit",value:function(e){N.default.createAccount(e)}}]),t}(f.default.Component);t.default=(0,y.default)({type:x,blocking:!0,asyncProps:{locales:{fetch:function(){return E.default.fetchAll()}},clusters:{fetch:function(){return I.default.fetchAll()}}}}),e.exports=t.default},function(e,t){"use strict";e.exports={name:"support.accounts.new",path:"support/accounts/new",ember:{parentPath:["support"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(470),u=r(l),c=n(108),d=r(c),p=n(34),f=r(p),m=n(22),h=r(m),g=n(93),v=r(g),_=n(67),y=r(_),b=n(29),E=r(b),C=n(1344),I=r(C),T=n(20),N=r(T),S=o.default.createClass({displayName:"SupportAccountShow",propTypes:{account:n(72),permissions:n(101),params:s.default.object,query:s.default.object},handleSubmit:function(){u.default.fetch(this.props.account.id)},render:function(){var e=this.props.account,t={update:(0,E.default)("account_update",e),admin_create:(0,E.default)("account_admin_create",e),token_create:(0,E.default)("token_create"),token_destroy:(0,E.default)("token_destroy"),lti_tool_create:(0,E.default)("lti_tool_create"),lti_tool_destroy:(0,E.default)("lti_tool_destroy"),webhook_create:(0,E.default)("webhook_configuration_service_create"),webhook_destroy:(0,E.default)("webhook_configuration_service_destroy")};return o.default.createElement("div",null,o.default.createElement("header",{className:"layout--item-header course-header"},o.default.createElement("div",{className:"layout--item-header__content"},o.default.createElement("block",{className:"layout--item-header__details"},o.default.createElement("h1",{className:"h1 clearfix margin-none left"},o.default.createElement("span",{className:"inline-block padding-tb-xs"},e.name))),o.default.createElement("block",{className:"layout--item-header__actions"},(0,I.default)(e)&&o.default.createElement("div",null,o.default.createElement("form",{onSubmit:this.handleSubmit,action:e.visitUrl,method:"post",target:"_blank"},o.default.createElement("input",{type:"hidden",value:e.adminToken,name:"token"}),o.default.createElement("input",{type:"hidden",value:f.default.isPublic(),name:"is_public"}),o.default.createElement("button",{className:"btn margin-tb-m",type:"submit"},I18n.t("Visit"))))))),o.default.createElement("nav",{className:"border-b border-grey margin-b-s-desktop horizontal-scrolling-nav"},o.default.createElement("div",{className:"large-content-area--padded centered clearfix button-set horizontal-scrolling-nav__container"},o.default.createElement(y.default,{to:"support.account.details",params:{accountId:e.id},className:"dark-grey inline-block button-set__button"},I18n.t("Summary")),(0,N.default)("learn_sub_account_support_settings")&&o.default.createElement(y.default,{to:"support.account.support",params:{accountId:e.id},className:"dark-grey inline-block button-set__button"},I18n.t("Support")),o.default.createElement(y.default,{to:"support.account.lti",params:{accountId:e.id},className:"dark-grey inline-block button-set__button"},I18n.t("LTI Tools")),(0,N.default)("webhooks_v2")&&o.default.createElement(y.default,{to:"support.account.webhook",params:{accountId:e.id},className:"dark-grey inline-block button-set__button"},I18n.t("Webhooks")),o.default.createElement(y.default,{to:"support.account.features",params:{accountId:e.id},className:"dark-grey inline-block button-set__button",children:I18n.t("Features")}),o.default.createElement(y.default,{to:"support.account.content",params:{accountId:e.id},className:"dark-grey inline-block button-set__button"},I18n.t("Content")))),o.default.createElement(v.default,{params:this.props.params,query:this.props.query,account:e,permissions:t}))}});e.exports=(0,h.default)({type:S,blocking:!0,asyncProps:{account:{fetch:function(e){return u.default.fetch(e.params.accountId)},get:function(e){return u.default.get(e.params.accountId)},setup:function(e){u.default.addChangeListener(e)},teardown:function(e){u.default.removeChangeListener(e)}},locales:{fetch:function(){return d.default.fetchAll()}}}})},function(e,t){"use strict";e.exports={name:"support.account",path:"/support/accounts/:accountId",ember:{parentPath:["support"],sink:!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(2840),l=r(o),u=n(2839),c=r(u),d=n(291),p=r(d),f=s.default.createClass({displayName:"ContentManagement",propTypes:{account:n(72),permissions:n(101),onSubmit:i.func},getDefaultProps:function(){return{account:{},permissions:{}}},getInitialState:function(){return{account:this.props.account,filesToUpload:[]}},render:function(){var e=this.props.permissions,t=this.state,n=t.account,r=t.filesToUpload;return n.config.scorm=n.config.scorm||{},s.default.createElement("div",{className:"support-account layout--list"},s.default.createElement("div",{className:"layout--list__header"},s.default.createElement("h2",{className:"layout--list__header-text medium"},I18n.t("Content Management"))),s.default.createElement("div",{className:"large-content-area--main-container centered support-account__content-tab"},s.default.createElement("div",null,s.default.createElement("h3",null,I18n.t("SCORM SFTP")),s.default.createElement(c.default,{account:n,permissions:e,onSubmit:this.handleSubmit,onRegistrationChange:this.handleScormRegistrationInstancingOptionChanged,onLaunchChange:this.handleScormScoLaunchTypeChanged,onRollupChange:this.handleScormScoreRollupModeChanged})),s.default.createElement(l.default,{account:n,onRegistrationChange:this.handleScormRegistrationInstancingOptionChanged,onLaunchChange:this.handleScormScoLaunchTypeChanged,onRollupChange:this.handleScormScoreRollupModeChanged,onAdd:this.handleMediaChange,onRemove:this.handleMediaRemove,onSubmit:this.handleUploadSubmit,files:r})))},handleScormRegistrationInstancingOptionChanged:function(e){this.setState(function(t){var n=t.account;return n.config.scorm.registrationInstancingOption=e,{account:n}})},handleScormScoLaunchTypeChanged:function(e){this.setState(function(t){var n=t.account;return n.config.scorm.scoLaunchType=e,{account:n}})},handleScormScoreRollupModeChanged:function(e){this.setState(function(t){var n=t.account;return n.config.scorm.scoreRollupMode=e,{account:n}})},handleMediaChange:function(e){var t=this.state.filesToUpload;t.push(e),this.setState({filesToUpload:t})},handleMediaRemove:function(e){var t=this;return function(){var n=t.state.filesToUpload,r=n.indexOf(e);n.splice(r,1),t.setState({filesToUpload:n})}},handleSubmit:function(e){p.default.updateAccount(e)}});e.exports=f},function(e,t){"use strict";e.exports={name:"support.account.content",path:"content",parent:"support.account",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(421),o=r(i),l=n(361),u=r(l),c=n(1340),d=r(c),p=n(291),f=r(p),m=n(18),h=r(m),g=n(3),v=n(20),_=r(v),y=n(19),b=r(y),E=n(4),C=n(6),I=r(C);e.exports=s.default.createClass({displayName:"exports",propTypes:{account:n(72),permissions:n(101),onSubmit:g.func},getDefaultProps:function(){return{account:{importScormProfile:{},config:{}},permissions:{}}},getInitialState:function(){return{account:this.props.account,sftpEnabled:this.props.account.config.scormSftp,currentImportScormProfile:(0,E.cloneDeep)(this.props.account.importScormProfile)}},render:function(){var e=this.props.permissions.update,t=this.state,n=t.currentImportScormProfile,r=t.sftpEnabled,a=(0,I.default)("inline-block input-m margin-b-xl margin-t-s",{"padding-trb-s scorm-sftp_url_field":(0,_.default)("scorm_sftp_improved"),"padding-trbl-s":!(0,_.default)("scorm_sftp_improved")});return s.default.createElement("div",null,s.default.createElement("div",{className:"block"},s.default.createElement(o.default,{type:"checkbox",formObject:this.state,field:"sftpEnabled",onObjectUpdated:this.updated,checked:r}),I18n.t(" Enable Automatic SCORM Import")),r&&s.default.createElement("div",{className:"margin-t-m"},s.default.createElement(d.default,{scormSettings:n,onRegistrationChange:this.onRegistrationChange,onLaunchChange:this.onLaunchChange,onRollupChange:this.onRollupChange}),s.default.createElement("div",{className:"block padding-trbl-s input-m margin-b-s margin-t-s"},s.default.createElement(o.default,{type:"checkbox",formObject:n,field:"addToLearnerLibrary",onObjectUpdated:this.updated,checked:n.addToLearnerLibrary}),I18n.t(" Add to learner library")),s.default.createElement("div",{className:"block padding-trbl-s input-m margin-b-xl margin-t-s"},s.default.createElement(o.default,{type:"checkbox",formObject:n,field:"publishOnUpload",onObjectUpdated:this.updated,checked:n.publishOnUpload}),I18n.t(" Publish courses immediately on upload")),s.default.createElement("label",{className:"margin-l-m block"},I18n.t("Default Days Until Due"),s.default.createElement(o.default,{value:n.defaultDaysUntilDue,type:"number",min:"0",formObject:n,field:"defaultDaysUntilDue",onObjectUpdated:this.updated,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),(0,_.default)("key_based_sftp")&&s.default.createElement("div",{className:"block margin-bl-m"},s.default.createElement(o.default,{type:"checkbox",formObject:n,field:"tryKeyBasedAuth",onObjectUpdated:this.handleTryKeyBasedAuthChecked,checked:n.tryKeyBasedAuth}),I18n.t(" Use Key-Based Auth")),s.default.createElement("label",{className:"margin-l-m block"},s.default.createElement("span",{className:"block"},I18n.t("Auto SCORM URL")),(0,_.default)("scorm_sftp_improved")&&s.default.createElement("span",{className:"inline-block"},"sftp://"),s.default.createElement(o.default,{value:this.sftpUrl(),type:"url",formObject:n,field:"sftpUrl",onObjectUpdated:this.updated,className:a})),s.default.createElement("label",{className:"margin-l-m block"},I18n.t("Auto SCORM Username"),s.default.createElement(o.default,{value:n.sftpUser,formObject:n,field:"sftpUser",onObjectUpdated:this.updated,className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),!n.tryKeyBasedAuth&&s.default.createElement("label",{className:"margin-l-m block"},I18n.t("Auto SCORM Password"),s.default.createElement(o.default,{value:n.sftpPassword,formObject:n,field:"sftpPassword",onObjectUpdated:this.updated,type:"password",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),n.tryKeyBasedAuth&&s.default.createElement("div",null,s.default.createElement("label",{className:"margin-l-m"},I18n.t("Auto SCORM Public Key"),s.default.createElement("textarea",{readOnly:!0,placeholder:I18n.t("Loading..."),value:n.sftpPublicKey||"",className:"block padding-trbl-s input-m margin-t-s margin-l-m"})),s.default.createElement(h.default,{className:"btn filled block margin-t-s margin-b-xl margin-l-m",onClick:this.regenerateScormSftpKeys},I18n.t("Regenerate Keys"))),(0,_.default)("scorm_sftp_improved")&&s.default.createElement("label",{className:"margin-l-m block"},I18n.t("Failure Notification Email"),s.default.createElement(o.default,{value:n.email,formObject:n,field:"email",onObjectUpdated:this.updated,type:"email",className:"block padding-trbl-s input-m margin-b-xl margin-t-s"})),s.default.createElement("label",{className:"margin-l-m"},I18n.t("Auto SCORM Schedule")),s.default.createElement(u.default,{days:n.sftpDays,onChangeDays:this.handleChangeScormSftpDays,time:n.sftpTime,onChangeTime:this.handleChangeScormSftpTime})),e&&s.default.createElement("button",{className:"btn filled block margin-t-m",onClick:this.handleSubmit,"data-capybara":"submit-button",type:"submit"},I18n.t("Update")),e&&r&&(0,_.default)("scorm_sftp_improved")&&s.default.createElement(h.default,{className:"btn filled block margin-t-m margin-l-m",onClick:this.triggerImport},I18n.t("Manually Trigger Import")))},sftpUrl:function(){var e=this.state.currentImportScormProfile;return e.sftpUrl&&0===e.sftpUrl.indexOf("sftp://")?e.sftpUrl.substring(7):e.sftpUrl||""},onRegistrationChange:function(e){var t=this.state.currentImportScormProfile;t.registrationInstancingOption=e,this.setState({currentImportScormProfile:t})},onLaunchChange:function(e){var t=this.state.currentImportScormProfile;t.scoLaunchType=e,this.setState({currentImportScormProfile:t})},onRollupChange:function(e){var t=this.state.currentImportScormProfile;t.scoreRollupMode=e,this.setState({currentImportScormProfile:t})},handleTryKeyBasedAuthChecked:function(){var e=this.state.currentImportScormProfile;e.tryKeyBasedAuth&&!e.sftpPublicKey&&this.regenerateScormSftpKeys(),this.updated()},handleChangeScormSftpDays:function(e,t){var n=this.state.currentImportScormProfile;n.sftpDays[e]=t,this.setState({currentImportScormProfile:n})},handleChangeScormSftpTime:function(e){var t=this.state.currentImportScormProfile;t.sftpTime=e,this.setState({currentImportScormProfile:t})},handleSubmit:function(e){var t=this.state,n=t.account,r=t.sftpEnabled,a=t.currentImportScormProfile;e.preventDefault(),n.importScormProfile=a,n.importScormProfile.defaultDaysUntilDue=parseInt(a.defaultDaysUntilDue,10)||null,n.config.scormSftp=r,this.props.onSubmit(n)},updated:function(){this.forceUpdate()},triggerImport:function(){var e=this.state,t=e.account,n=e.sftpEnabled,r=e.currentImportScormProfile;(0,E.isEqual)(t.importScormProfile,r)&&n===t.config.scormSftp?f.default.triggerSftpScormImport(t.id):(0,b.default)(I18n.t('You have unsaved changes. Click "Update" before triggering an import.'),{type:"error"})},regenerateScormSftpKeys:function(){var e=this,t=this.state.currentImportScormProfile.sftpPublicKey;this.setScormSftpKey(null),f.default.regenerateScormKeyBasedAuth(this.state.account.id).then(function(t){e.setScormSftpKey(t.importScormProfile.sftpPublicKey)}).catch(function(){e.setScormSftpKey(t)})},setScormSftpKey:function(e){this.state.currentImportScormProfile.sftpPublicKey=e,this.state.account.importScormProfile.sftpPublicKey=e,this.updated()}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1340),o=r(i),l=n(324),u=n(421),c=r(u),d=n(2842),p=r(d),f=n(117),m=r(f),h=n(103),g=r(h),v=n(803),_=r(v),y=n(5),b=n(19),E=r(b),C=n(4),I=s.default.createClass({displayName:"ScormMassUploader",propTypes:{account:n(72)},componentWillReceiveProps:function(e){this.setState({scormSettings:this.scormSettingsForAccount(e.account)})},getInitialState:function(){return{pending:!1,scormSettings:this.scormSettingsForAccount(this.props.account),courseSettings:{publishOnUpload:!0}}},componentDidMount:function(){this.isMounted=function(){return!0}},scormSettingsForAccount:function(e){return{registrationInstancingOption:(0,C.get)(e,"config.scorm.registrationInstancingOption",(0,l.getScormRegistrationInstancingOptions)()[0].value),scoLaunchType:(0,C.get)(e,"config.scorm.scoLaunchType",(0,l.getScormScoLaunchTypes)()[0].value),scoreRollupMode:(0,C.get)(e,"config.scorm.scoreRollupMode",(0,l.getScormScoreRollupModes)()[0].value)}},componentWillUnmount:function(){this.progressListener&&(window.clearInterval(this.progressListener),this.progressListener=null),this.isMounted=function(){return!1}},render:function(){var e=this.state,t=e.scormSettings,n=e.courseSettings;return s.default.createElement("div",null,s.default.createElement("h3",{className:"padding-t-xl margin-t-xl"},I18n.t("Mass SCORM Upload")),s.default.createElement(o.default,{scormSettings:t,onRegistrationChange:this.onRegistrationChange,onLaunchChange:this.onLaunchChange,onRollupChange:this.onRollupChange}),s.default.createElement("label",{className:"block padding-trbl-s input-m margin-b-s margin-t-s"},s.default.createElement(c.default,{type:"checkbox",formObject:n,field:"addToLearnerLibrary",onObjectUpdated:this.handleCourseSettingsChange,checked:n.addToLearnerLibrary}),I18n.t(" Add to learner library")),s.default.createElement("label",{className:"block padding-trbl-s input-m margin-b-xl margin-t-s"},s.default.createElement(c.default,{type:"checkbox",formObject:n,field:"publishOnUpload",onObjectUpdated:this.handleCourseSettingsChange,checked:n.publishOnUpload}),I18n.t(" Publish courses immediately on upload")),s.default.createElement("label",{className:"margin-l-m"},I18n.t("Default Days Until Due"),s.default.createElement(c.default,{value:n.defaultDaysUntilDue,type:"number",min:"0",formObject:n,field:"defaultDaysUntilDue",onObjectUpdated:this.handleCourseSettingsChange,className:"block padding-trbl-s input-m margin-b-xl margin-t-s margin-l-m"})),this.renderCourseUploader())},renderCourseUploader:function(){return s.default.createElement("div",{className:"course-upload white-bg padding-l centered"},s.default.createElement("div",{className:"text-center"},s.default.createElement(y.Icon,{className:"gs-zip gs-4x grey"})),this.state.pending&&s.default.createElement("div",{className:"media-uploader media-uploader--uploading"},s.default.createElement("p",null,I18n.t("Uploading...")),s.default.createElement(g.default,{intervals:1,current:this.state.progress,progress:this.state.progress})),!this.state.pending&&s.default.createElement(_.default,{mainMessage:I18n.t("Drop Zip folder of SCORM packages here"),action:this.upload}))},onRegistrationChange:function(e){var t=this.state.scormSettings;t.registrationInstancingOption=e,this.setState({scormSettings:t})},onLaunchChange:function(e){var t=this.state.scormSettings;t.scoLaunchType=e,this.setState({scormSettings:t})},onRollupChange:function(e){var t=this.state.scormSettings;t.scoreRollupMode=e,this.setState({scormSettings:t})},handleCourseSettingsChange:function(){this.setState({courseSettings:this.state.courseSettings})},upload:function(e){var t=this,n=(0,m.default)(e);this.setState({pending:!0,progress:0}),E.default.clear(),this.progressListener=window.setInterval(function(){t.isMounted()&&(t.setState({progress:n.getProgress()}),t.state.progress>=1&&(window.clearInterval(t.progressListener),t.progressListener=null))},250);var r=n.uploadMultiPart();r.then(function(n){var r=t.state,a=r.scormSettings,s=r.courseSettings;return p.default.create(t.props.account.id,{location:n.location,
name:e.name,file_modified_at:new Date(e.lastModified||e.lastModifiedDate).toISOString(),registrationInstancingOption:a.registrationInstancingOption,scoLaunchType:a.scoLaunchType,scoreRollupMode:a.scoreRollupMode,publishOnUpload:s.publishOnUpload,addToLearnerLibrary:s.addToLearnerLibrary,defaultDaysUntilDue:s.defaultDaysUntilDue})}).then(function(){t.setState({progress:0,pending:!1}),(0,E.default)(I18n.t("We're processing your file, and we'll send you an email when the upload process is complete."))})}});e.exports=I},function(e,t,n){"use strict";var r=n(8),a=n(1341),s=n(7),i=n(40);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/accounts/"+e+"/scorm_imports",dataType:"json",data:{scorm_imports:[i(t)]},type:"POST"})},parse:function(e,t){return t.scorm_imports.map(e)}})},function(e,t,n){"use strict";var r=n(21),a=n(2841),s=r({displayName:"ScormImportStore",schema:n(1341),create:function(e,t){var n=this;return a(e,t).then(function(t){n.cache.setCollection({accountId:e},t)})}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(22),o=r(i),l=n(31),u=r(l),c=n(1343),d=r(c),p=n(24),f=r(p),m=n(584),h=r(m),g=n(617),v=r(g),_=n(618),y=r(_),b=n(291),E=r(b),C=n(1344),I=r(C),T=n(1472),N=r(T),S=n(4),x=s.default.createClass({displayName:"SupportAccountShowDetails",propTypes:{account:n(83),dns:n(191),permissions:n(101)},getDefaultProps:function(){return{account:{},dns:{status:"none"},permissions:{}}},getInitialState:function(){return{adminUid:""}},handleOnAdminUidChanged:function(e){this.setState({adminUid:e.target.value})},handleCreateAdmin:function(e){e.preventDefault(),E.default.createAdmin(this.state.adminUid,this.props.account.id)},handleSubmit:function(e){E.default.updateAccount(e)},handleCreateToken:function(){E.default.addAccountToken(this.props.account.id)},handleRevokeToken:function(e){E.default.revokeAccountToken(this.props.account.id,e)},render:function(){var e=this.props,t=e.account,n=e.dns,r=e.permissions,a=t.tokens||[],i=(0,S.some)(a,function(e){return"scim"===e.roleId});return s.default.createElement("div",{className:"large-content-area--main-container centered"},s.default.createElement("h2",{className:"medium margin-t-m margin-b-xxs"},I18n.t("Account details")),s.default.createElement(d.default,{account:t,dns:n,permissions:r,onSubmit:this.handleSubmit}),this.renderCreateAdmin(),s.default.createElement(v.default,{id:t.id,type:"account",provider:t.config&&t.config.auth&&t.config.auth.provider}),i&&s.default.createElement(y.default,{id:u.default.get("DOMAIN").id}),s.default.createElement(h.default,{tokens:a,allowCreate:r.token_create,allowRevoke:r.token_destroy,onCreate:this.handleCreateToken,onRevoke:this.handleRevokeToken}))},renderCreateAdmin:function(){var e=this.props,t=e.account,n=e.permissions;return n.admin_create?s.default.createElement("form",{onSubmit:this.handleCreateAdmin},s.default.createElement("h2",{className:"medium margin-t-xl margin-b-xxs"},s.default.createElement(f.default,null,s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Add an admin account to %{account_name}",{account_name:"%{account_name}"}),account_name:t.name},"$1"))),s.default.createElement("div",{hidden:(0,I.default)(t)},s.default.createElement("p",{className:"margin-b-m"},I18n.t("In order to visit an account, that account must first have an admin user. You can create one with this form."))),s.default.createElement("label",null,I18n.t("Username or email")),s.default.createElement("input",{className:"block padding-trbl-s input-m margin-b-m margin-t-s",value:this.state.adminUid,id:"account-admin-uid","data-capybara":"account-admin-name-input",onChange:this.handleOnAdminUidChanged}),s.default.createElement("button",{type:"submit",className:"btn filled block margin-t-m",onSubmit:this.handleCreateAdmin},I18n.t("Add as admin"))):null}});e.exports=(0,o.default)({type:x,blocking:!1,asyncProps:(0,N.default)("account.host.subdomain")})},function(e,t){"use strict";e.exports={name:"support.account.details",parent:"support.account",ember:!1,default:!0}},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.bool,i=a.object,o=a.shape,l=a.string,u=n(755),c=n(22),d=n(2848),p=r.createClass({displayName:"SupportAccountFeatures",propTypes:{features:i,isLoading:s.isRequired,params:o({accountId:l.isRequired}).isRequired,permissions:n(101)},getDefaultProps:function(){return{features:{},permissions:{}}},render:function(){return r.createElement("div",{className:"support-account"},r.createElement("div",{className:"layout--list"},r.createElement("div",{className:"layout--list__header"},r.createElement("h1",{className:"layout--list__header-text"},I18n.t("Features"))),r.createElement("div",{className:"layout--list__content"},this.props.isLoading&&r.createElement("div",{className:"loader-container"},r.createElement("div",{className:"loader-large loader-7"})),!this.props.isLoading&&r.createElement(d,{accountId:this.props.params.accountId,features:this.props.features,permissions:this.props.permissions}))))}});e.exports=c({type:p,asyncProps:{features:{fetch:function(e){var t=e.params,n=t.accountId;return u.fetch(n)},get:function(e){var t=e.params,n=t.accountId;return u.get(n)},setup:function(e){u.addChangeListener(e)},teardown:function(e){u.removeChangeListener(e)},shouldRefetch:function(e,t){return e.accountId!==t.accountId}}}})},function(e,t){"use strict";e.exports={name:"support.account.features",parent:"support.account",path:"features",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(755),o=n(19);e.exports={toggleFeature:function(e,t,n){return i.update(e,(0,s.default)({},t,n)).catch(function(){var e=I18n.t('There was a problem toggling feature "%{feature}".',{feature:t});o(e,{type:"error"})})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(2847),o=n(1),l=n(2),u=l.object,c=l.string,d=n(50),p=d.Table,f=d.Thead,m=d.Tbody,h=d.Tr,g=d.Th,v=d.Td,_=n(55),y=n(4),b=y.assign,E=n(20),C=o.createClass({displayName:"FeatureToggles",propTypes:{accountId:c.isRequired,features:u.isRequired,permissions:n(101)},getInitialState:function(){return{updating:{}}},handleChange:function(e,t){var n=this;if(E("account_flags")&&this.props.permissions.update){var r=t.target.checked;i.toggleFeature(this.props.accountId,e,r).catch(Function.prototype).then(function(){n.setState({updating:b({},n.state.updating,(0,s.default)({},e,!1))})}),this.setState({updating:b({},this.state.updating,(0,s.default)({},e,!0))})}},render:function(){var e=this,t=E("feature_write_access")&&this.props.permissions.update;return o.createElement(p,null,o.createElement(f,null,o.createElement(h,null,o.createElement(g,null,I18n.t("Name")),o.createElement(g,null,I18n.t("Enabled")))),o.createElement(m,null,Object.keys(this.props.features).sort().map(function(n){return o.createElement(h,{key:n},o.createElement(v,null,o.createElement("span",{className:"monospace"},n)),o.createElement(v,null,o.createElement(_,{checked:e.props.features[n],disabled:!t||e.state.updating[n],onChange:e.handleChange.bind(e,n)})))})))}});e.exports=C},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){return r({url:"/api/support/accounts/"+e+"/features",type:"GET"}).then(function(e){var t=e.features;return t})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){return r({url:"/api/support/accounts/"+e+"/features",method:"PATCH",data:{features:t}}).then(function(e){var t=e.features;return t})}},function(e,t,n){"use strict";function r(){a.call(this,{transformers:{value:function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=!!e[n]}),t}}})}var a=n(377),s=n(4),i=s.assign,o=n(2849),l=n(2850);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,i(r.prototype,{fetch:function(e){var t=this;return o(e).then(function(n){return t.set(e,n),n})},update:function(e,t){var n=this;return l(e,t).then(function(t){return n.set(e,t),t})}}),e.exports=r},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(1395),i=n(3),o=i.arrayOf,l=n(2884),u=n(19),c=r.createClass({displayName:"SupportAccountLti",propTypes:{account:n(72),permissions:n(101),ltiTools:o(n(159))},render:function(){return r.createElement("div",null,r.createElement(s,{accountId:this.props.account.id,permissions:this.props.permissions,ltiTools:this.props.ltiTools,onEnableToggle:this.onEnableToggle,onRemove:this.onRemove,addTool:this.addTool}))},onEnableToggle:function(e,t){l.update(e,t.id,{toolEnabled:!t.toolEnabled}).catch(u.bind(null,"There was a problem updating the LTI Tool.",{type:"error"}))},onRemove:function(e,t){l.delete(e,t)},addTool:function(e,t,n,r){r&&r.preventDefault(),e()||l.create(this.props.account.id,t()).then(function(){u(I18n.t("LTI tool added!")),n()},u.bind(null,I18n.t("An error occurred while adding the tool."),{type:"error"}))}});e.exports=a({type:c,blocking:!1,asyncProps:{ltiTools:{setup:function(e){l.addChangeListener(e)},teardown:function(e){l.removeChangeListener(e)},fetch:function(e){return l.fetchAll(e.params.accountId)},get:function(e){return l.getAll(e.params.accountId)}}}})},function(e,t){"use strict";e.exports={name:"support.account.lti",path:"lti",parent:"support.account",ember:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(818),v=r(g),_=n(83),y=r(_),b=n(101),E=r(b),C=n(291),I=r(C),T=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={account:r.props.account},r.handleConfigsChanged=function(e){r.setState(function(t){return{account:(0,s.default)({},t.account,{config:(0,s.default)({},t.account.config,e)})}})},r.handleSubmit=function(){I.default.updateAccount(r.state.account)},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.state.account,t=this.props.permissions;return h.default.createElement("div",{className:"large-content-area--main-container centered"},h.default.createElement("h2",{className:"medium margin-t-m margin-b-xxs"},I18n.t("Support Settings")),h.default.createElement("form",{className:"account-profile",onSubmit:this.handleSubmit},h.default.createElement(v.default,{config:e.config,accountType:e.accountType,accountName:e.name,onChange:this.handleConfigsChanged}),t.update&&h.default.createElement("button",{className:"btn filled block margin-t-m",onClick:this.handleSubmit,"data-capybara":"submit-button",type:"submit"},I18n.t("Update"))))}}]),t}(h.default.Component);T.propTypes={account:y.default,permissions:E.default},t.default=T,e.exports=t.default},function(e,t){"use strict";e.exports={name:"support.account.support",path:"support",parent:"support.account",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(93),s=r.createClass({displayName:"WebhookConfigurator",propTypes:{account:n(72),permissions:n(101)},getDefaultProps:function(){return{permissions:{}}},getInitialState:function(){return{toolFormIsOpen:!1}},render:function(){return r.createElement(a,this.props)}});e.exports=s},function(e,t){"use strict";e.exports={name:"support.account.webhook",path:"webhooks",parent:"support.account",feature:"webhooks_v2",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(1463),i=n(2861),o=n(3),l=o.arrayOf,u=o.object,c=o.string,d=r.createClass({displayName:"WebhookAttemptsIndex",propTypes:{attempts:l(n(277)),account:n(72),webhookId:c,params:u,permissions:n(101)},render:function(){var e=this.props,t=e.account,n=e.permissions,a=e.attempts,s=this.props.params.webhookId;return r.createElement("div",{className:"support-account layout--list"},r.createElement("div",{className:"layout--list__header"},r.createElement("h2",{className:"layout--list__header-text medium"},I18n.t("Recent Webhook Attempts"))),r.createElement("div",{className:"layout--list__content"},r.createElement(i,{attempts:a,permissions:n,accountId:t.id,webhookId:s})))}});e.exports=a({type:d,blocking:!1,asyncProps:{attempts:{setup:function(e){s.addChangeListener(e)},teardown:function(e){s.removeChangeListener(e)},fetch:function(e){var t=e.params,n=t.accountId,r=t.webhookId;return s.fetchAll(n,r)},get:function(e){var t=e.params,n=t.accountId,r=t.webhookId;return s.getAll(n,r)}}}})},function(e,t){"use strict";e.exports={name:"support.account.webhook.attempts.index",path:":webhookId/attempts",parent:"support.account.webhook.attempts",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(67),s=n(5),i=s.Icon,o=n(120),l=n(3),u=l.string,c=n(277);e.exports=r.createClass({displayName:"exports",propTypes:{attempt:c,accountId:u,webhookId:u},getDefaultProps:function(){return{attempt:{}}},render:function(){var e=this.props,t=e.accountId,n=e.webhookId,s=e.attempt,l=s.id,u=s.resource,c=s.status,d=o(s.createdAt,"MMM DD, YYYY HH:mm:ss"),p="fail"===c?"webhook-attempt__highlighted":"";return r.createElement("tr",{key:s.id,className:"sortable-table__tr "+p},r.createElement("td",{className:"sortable-table__td webhooks-table__name"},u),r.createElement("td",{className:"sortable-table__td"},c),r.createElement("td",{className:"sortable-table__td"},d),r.createElement("td",{className:"text-center sortable-table__td"},r.createElement(a,{to:"support.account.webhook.attempts.show",params:{accountId:t,webhookId:n,attemptId:l},className:"btn--reset padding-xs"},r.createElement(i,{className:"gs-search gs-1x dark-grey"}))))}})},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.string,i=a.arrayOf,o=n(2860),l=n(4),u=l.sortBy,c=n(277);e.exports=r.createClass({displayName:"exports",propTypes:{attempts:i(c),accountId:s,webhookId:s,permissions:n(101)},getDefaultProps:function(){return{permissions:{}}},render:function(){var e=this.props.attempts;return r.createElement("table",{className:"sortable-table webhooks-table"},r.createElement("thead",{className:"sortable-table__thead"},r.createElement("tr",{className:"sortable-table__tr"},r.createElement("th",{className:"th-40  sortable-table__th sortable-table__th--sortable"},r.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Resource"))),r.createElement("th",{className:"th-20  sortable-table__th sortable-table__th--sortable"},r.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Status"))),r.createElement("th",{className:"th-20 sortable-table__th sortable-table__th--sortable"},r.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Attempted At"))),r.createElement("th",{className:"text-center sortable-table__th"}))),r.createElement("tbody",{className:"sortable-table__tbody"},u(e,function(e){return e.createdAt}).map(this.renderAttempt).reverse(),0===this.props.attempts.length&&r.createElement("tr",{className:"border-b border-grey centered padding-m"},r.createElement("td",{colSpan:"4",className:"text-center dark-grey no-ltitools-message"},I18n.t("There are no attempts for this webhook.")))))},renderAttempt:function(e){var t=this.props,n=t.accountId,a=t.webhookId,s=t.permissions;return r.createElement(o,{key:e.id,accountId:n,webhookId:a,permissions:s,attempt:e})}})},function(e,t,n){"use strict";var r=n(1),a=n(120),s=n(277),i=r.createClass({displayName:"AttemptPayload",propTypes:{attempt:s},getDefaultProps:function(){return{attempt:{attempt:{msg:{event:{}},response:{}}}}},render:function(){var e=this.props.attempt,t=e.attempt,n=t.msg,s=t.response,i=a(e.createdAt,"MMM DD, YYYY HH:mm:ss");return r.createElement("div",{className:"webhook-attempt"},r.createElement("header",null,"Details"),r.createElement("section",null,r.createElement("p",null,r.createElement("label",null,"Resource:"),r.createElement("span",null,e.resource)),r.createElement("p",null,r.createElement("label",null,"Event:"),r.createElement("span",null,n.event.trigger)),r.createElement("p",null,r.createElement("label",null,"Status:"),r.createElement("span",null,s.status)),r.createElement("p",null,r.createElement("label",null,"Response:"),r.createElement("span",null,s.body)),r.createElement("p",null,r.createElement("label",null,"Attempted at:"),r.createElement("span",null,i))),r.createElement("header",null,"Payload"),r.createElement("section",null,r.createElement("div",{className:"webhook-attempt__json"},r.createElement("pre",null,this.renderAsJson(n)))),r.createElement("header",null,"Server Response"),r.createElement("section",null,r.createElement("div",{className:"webhook-attempt__json"},r.createElement("pre",null,this.renderAsJson(s)))))},renderAsJson:function(e){return JSON.stringify(e,null,2)}});e.exports=i},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(1463),i=n(2862),o=n(3),l=o.object,u=r.createClass({displayName:"WebhookAttemptIndex",propTypes:{account:n(72),attempt:n(277),params:l,permissions:n(101)},render:function(){var e=this.props.attempt;return r.createElement("div",{className:"support-account layout--list"},r.createElement("div",{className:"layout--list__header"},r.createElement("h2",{className:"layout--list__header-text medium"},I18n.t("Webhook Attempt Payload"))),r.createElement("div",{className:"layout--list__content"},r.createElement(i,{attempt:e})))}});e.exports=a({type:u,blocking:!1,asyncProps:{attempt:{setup:function(e){s.addChangeListener(e)},teardown:function(e){s.removeChangeListener(e)},fetch:function(e){var t=e.params,n=t.accountId,r=t.attemptId,a=t.webhookId;return s.fetch(n,a,r)}}}})},function(e,t){"use strict";e.exports={name:"support.account.webhook.attempts.show",path:":webhookId/attempts/:attemptId",parent:"support.account.webhook.attempts",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(93),s=r.createClass({displayName:"AttemptsConfigurator",propTypes:{account:n(72),permissions:n(101)},getDefaultProps:function(){return{permissions:{}}},getInitialState:function(){return{toolFormIsOpen:!1}},render:function(){return r.createElement(a,this.props)}});e.exports=s},function(e,t){"use strict";e.exports={name:"support.account.webhook.attempts",path:"attempts",parent:"support.account.webhook",feature:"webhooks_v2",ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(67),s=n(3),i=s.func,o=s.object,l=s.string,u=n(5),c=u.Icon,d=n(18),p=n(88),f=n(61),m=n(120),h=n(37),g=n(6);e.exports=r.createClass({displayName:"exports",mixins:[p.mixin,h({isMobile:h.MEDIA_QUERY_MOBILE})],propTypes:{webhook:o,accountId:l,permissions:n(101),onRemove:i,highlight:i},getDefaultProps:function(){return{permissions:{}}},renderRemovalForm:function(){var e=this.props,t=e.webhook,n=e.highlight,a=e.onRemove,s=g({"pure-g":this.state.media.isMobile}),i=g("padding-none",{"pure-u-1":this.state.media.isMobile});return r.createElement("tr",{className:s},r.createElement("td",{colSpan:"5",className:i},r.createElement("div",{className:"removable-item removable-item--focused"},r.createElement("div",{className:"removable-item__title"},r.createElement(f,{text:t.url,highlight:n})),r.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Delete Webhook?")}),r.createElement("div",{className:"removable-item__buttons"},r.createElement("button",{type:"button",className:"btn--reset dark-grey",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),r.createElement("button",{type:"button",className:"btn--reset confirm-remove-webhook pink",onClick:a.bind(null,t.id),children:I18n.t("Delete")})))))},render:function(){var e=this.props,t=e.accountId,n=e.webhook,s=e.permissions,i="btn--reset padding-xs",o=this.formatLatestAttempt(n),l=o.status,u=o.createdAt,p="fail"===l?"webhooks-table__highlighted":"";return this.isConfirmingRemoval()?this.renderRemovalForm():r.createElement("tr",{key:n.id,className:"sortable-table__tr "+p},r.createElement("td",{className:"sortable-table__td webhooks-table__name"},n.name),r.createElement("td",{className:"sortable-table__td webhooks-table__url"},n.url),r.createElement("td",{className:"sortable-table__td"},u),r.createElement("td",{className:"sortable-table__td"},l),r.createElement("td",{className:"text-center sortable-table__td"},r.createElement(a,{to:"support.account.webhook.show",params:{accountId:t,webhookId:n.id},className:i},r.createElement(c,{className:"gs-edit gs-1x dark-grey"})),r.createElement(a,{to:"support.account.webhook.attempts.index",params:{accountId:t,webhookId:n.id},className:i},r.createElement(c,{className:"gs-reports gs-1x dark-grey"})),s.webhook_destroy&&r.createElement(d,{className:i,onClick:this.confirmRemoval},r.createElement(c,{className:"gs-x gs-1x dark-grey"}))))},formatLatestAttempt:function(e){var t=e.latestAttempt;if(t){var n=t.status,r=t.createdAt;return{status:n,createdAt:m(r,"MMM DD, YYYY HH:mm:ss")}}return{status:"N/A",createdAt:"N/A"}}})},function(e,t,n){"use strict";var r=n(1),a=n(2867),s=n(3),i=s.arrayOf,o=s.object,l=s.string,u=n(4),c=u.sortBy,d=n(475);e.exports=r.createClass({displayName:"exports",propTypes:{webhooks:i(o),accountId:l,permissions:n(101)},render:function(){var e=this.props.webhooks;return r.createElement("table",{className:"sortable-table webhooks-table"},r.createElement("thead",{className:"sortable-table__thead"},r.createElement("tr",{className:"sortable-table__tr"},r.createElement("th",{className:"th-20  sortable-table__th sortable-table__th--sortable"},r.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Name"))),r.createElement("th",{className:"th-30  sortable-table__th sortable-table__th--sortable"},r.createElement("span",{role:"button",tabIndex:"0"},I18n.t("URL"))),r.createElement("th",{className:"th-20 sortable-table__th sortable-table__th--sortable"},r.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Last Attempt"))),r.createElement("th",{className:"th-10 sortable-table__th sortable-table__th--sortable"},r.createElement("span",{role:"button",tabIndex:"0"},I18n.t("Last Status"))),r.createElement("th",{className:"text-center sortable-table__th"}))),r.createElement("tbody",{className:"sortable-table__tbody"},c(e,function(e){return e.name}).map(this.renderWebhook),0===this.props.webhooks.length&&r.createElement("tr",{className:"border-b border-grey centered padding-m"},r.createElement("td",{colSpan:"5",className:"text-center dark-grey no-ltitools-message"},I18n.t("There are no webhooks for this account.")))))},renderWebhook:function(e){var t=this.props,n=t.accountId,s=t.permissions;return r.createElement(a,{key:e.id,accountId:n,permissions:s,webhook:e,onRemove:this.onRemove.bind(null,n,e.id)})},onRemove:function(e,t){d.delete(e,t)}})},function(e,t,n){"use strict";var r=n(1),a=n(22),s=n(475),i=n(67),o=n(2868),l=n(3),u=l.arrayOf,c=r.createClass({displayName:"WebhookConfiguratorIndex",propTypes:{webhooks:u(n(193)),account:n(72),permissions:n(101)},render:function(){var e=this.props,t=e.account,n=e.permissions,a=e.webhooks;return r.createElement("div",{className:"support-account layout--list"},r.createElement("div",{className:"layout--list__header"},r.createElement("h2",{className:"layout--list__header-text medium"},I18n.t("Webhooks")),n.webhook_create&&r.createElement(i,{to:"support.account.webhook.new",params:{accountId:t.id},className:"add-btn add-btn--detail"},I18n.t("+ Add Webhook"))),r.createElement("div",{className:"layout--list__content"},r.createElement(o,{webhooks:a,permissions:n,accountId:t.id})))}});e.exports=a({type:c,blocking:!1,asyncProps:{webhooks:{setup:function(e){s.addChangeListener(e)},teardown:function(e){s.removeChangeListener(e)},fetch:function(e){return s.fetchAll(e.params.accountId)},get:function(e){return s.getAll(e.params.accountId)}}}})},function(e,t){"use strict";e.exports={name:"support.account.webhook.index",parent:"support.account.webhook",loadOrder:1,ember:!1,default:!0}},function(e,t,n){"use strict";var r=n(1),a=n(1342),s=r.createClass({displayName:"NewWebhook",propTypes:{webhook:n(193),account:n(72),permissions:n(101)},render:function(){var e=this.props,t=e.account,n=e.permissions;return r.createElement(a,{account:t,permissions:n,title:I18n.t("New Webhook")})}});e.exports=s},function(e,t){"use strict";e.exports={name:"support.account.webhook.new",path:"new",parent:"support.account.webhook",loadOrder:2,ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(475),s=n(1342),i=n(22),o=r.createClass({displayName:"ShowWebhook",propTypes:{webhook:n(193),account:n(72),permissions:n(101)},render:function(){var e=this.props,t=e.webhook,n=e.account,a=e.permissions;return r.createElement(s,{webhook:t,account:n,permissions:a,title:I18n.t("Edit Webhook")})}});e.exports=i({type:o,blocking:!1,asyncProps:{webhook:{setup:function(e){a.addChangeListener(e)},teardown:function(e){a.removeChangeListener(e)},fetch:function(e){return a.fetch(e.params.accountId,e.params.webhookId)},get:function(e){return a.get(e.params.webhookId)}}}})},function(e,t){"use strict";e.exports={name:"support.account.webhook.show",path:":webhookId",parent:"support.account.webhook",loadOrder:3,ember:!1}},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.arrayOf,i=a.object,o=a.string,l=a.bool,u=a.func,c=n(6),d=n(18),p=n(91),f=n(50),m=f.Tr,h=f.Td,g=n(475),v=r.createClass({displayName:"WebhookResource",propTypes:{webhook:n(193),account:n(72),name:o,value:o,events:s(i),formOpen:l,isCheckboxChecked:u,onCheckboxChange:u,onEventCancel:u},getInitialState:function(){return{formOpen:!1,events:this.props.events,savedEvents:this.props.events}},componentWillReceiveProps:function(e){this.setState({events:e.events,savedEvents:e.events})},render:function(){var e=this.props,t=e.events,n=e.name,a=t.some(function(e){return e.selected}),s=c("btn",{tertiary:!a,"btn--content-editor":a}),i=a?I18n.t("Edit Events"):I18n.t("Choose Events");return this.isFormOpen()?this.renderEventForm(t):r.createElement(m,{mobileClassNames:"pure-g"},r.createElement(h,{mobileClassNames:"pure-u-4-5"},n),r.createElement(h,{mobileClassNames:"pure-u-1-5"},r.createElement(d,{className:s,onClick:this.toggleForm},i)))},renderEventForm:function(e){var t=this.props,n=t.account,a=t.webhook;return r.createElement(m,{mobileClassNames:"pure-g"},r.createElement(h,{colSpan:"2",mobileClassNames:"pure-u-1",className:"padding-none"},r.createElement("div",{className:"removable-item removable-item--focused"},r.createElement("div",{className:"pure-u-3-4 padding-trbl-s"},r.createElement("span",{className:"semi-bold"},this.props.name)),r.createElement("div",{className:"pure-u-1-4 text-center admin-dashboard__actions"},r.createElement(d,{className:"admin-dashboard__button",onClick:this.cancelChanges},I18n.t("Cancel")),r.createElement(d,{className:"admin-dashboard__button",onClick:this.saveChanges.bind(this,n,a)},I18n.t("Save"))),r.createElement("div",{className:"pure-u-1 padding-t-xs"},e.map(this.renderEvent)))))},renderEvent:function(e){return r.createElement(p,{className:"checkbox--role padding-l-xs",key:e.key,value:e.value,checked:e.selected,onChange:this.props.onCheckboxChange.bind(null,e)},e.name)},toggleForm:function(){this.setState({formOpen:!this.state.formOpen})},cancelChanges:function(){this.props.onEventCancel(this.props.value),this.setState({formOpen:!1})},saveChanges:function(e,t){var n=this.props.value,r=this.state.events.filter(function(e){return e.selected}).map(function(e){return e.key}),a=t.resources.find(function(e){return e.resource===n}),s={resource:n,events:r};a?g.updateResource(e.id,t.id,a.id,s):g.createResource(e.id,t.id,s),this.toggleForm()},isFormOpen:function(){return this.state.formOpen},eventSort:function(e,t){return e.name.localeCompare(t.name)}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountTypes=void 0;var a=n(1),s=r(a),i=n(893),o=n(235),l=r(o),u=n(64),c=r(u),d=n(60),p=r(d),f=n(421),m=r(f),h=n(11),g=r(h),v=n(3),_=v.func,y=t.getAccountTypes=function(e){return e?(0,i.getAccountTypes)().filter(function(e){return"paid"===e.value}):(0,i.getAccountTypes)()},b=function(e){var t=e.account,n=e.handleAccountTypeChanged,r=e.handleExpirationDateChanged,a=e.handleFormInputChanged;return s.default.createElement("div",{"data-capybara":"account-filter"},s.default.createElement("label",null,I18n.t("Account Type")),s.default.createElement(c.default,{className:"combo-box--message-filter padding-t-xs margin-b-xl",onChange:n,selectedValue:t.accountType,children:y(t.supportAccount).map(function(e){return s.default.createElement(p.default,{key:e.value,value:e.value,label:e.label})})}),s.default.createElement("div",{hidden:"free"!==t.accountType},s.default.createElement("div",null,s.default.createElement("label",null,I18n.t("Account expiration date"),s.default.createElement("div",null,s.default.createElement(l.default,{format:"LL",placeholder:I18n.t("Choose date"),className:"block padding-trbl-s input-m margin-b-l margin-t-s",value:(0,g.default)(t.config.expirationDate).toDate(),onChange:r,emitChangeInitially:!1})))),s.default.createElement("div",null,s.default.createElement("label",null,I18n.t("User Limit"),s.default.createElement(m.default,{value:t.config.userLimit,formObject:t.config,field:"userLimit",onObjectUpdated:a,className:"block padding-trbl-s input-m margin-b-xl margin-t-s",type:"number"})))))};b.propTypes={account:n(72).isRequired,handleAccountTypeChanged:_.isRequired,handleExpirationDateChanged:_.isRequired,handleFormInputChanged:_.isRequired},t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(421),o=r(i),l=n(291),u=r(l),c=n(18),d=r(c),p=n(361),f=r(p),m=n(20),h=r(m),g=n(3),v=n(6),_=r(v);e.exports=s.default.createClass({displayName:"exports",propTypes:{account:n(72).isRequired,handleFormInputChanged:g.func.isRequired},render:function(){var e=this.props.account,t=(0,_.default)("input-m margin-b-xl margin-t-s",{"inline-block padding-trb-s auto-csv_url_field":e.importProfile.tryKeyBasedAuth,"block padding-trbl-s margin-l-m":!e.importProfile.tryKeyBasedAuth});return s.default.createElement("div",null,(0,h.default)("key_based_sftp")&&e.id&&s.default.createElement("div",{className:"block margin-bl-m"},s.default.createElement(o.default,{type:"checkbox",formObject:e.importProfile,field:"tryKeyBasedAuth",onObjectUpdated:this.handleTryKeyBasedAuthChecked,checked:e.importProfile.tryKeyBasedAuth}),I18n.t(" Use Key-Based Auth")),s.default.createElement("label",{className:"block"},s.default.createElement("span",{className:"block margin-l-m"},I18n.t("Auto CSV URL")),e.importProfile.tryKeyBasedAuth&&s.default.createElement("span",{className:"inline-block margin-l-m"},"sftp://"),s.default.createElement(o.default,{value:this.csvUrl(),type:"url",formObject:e.importProfile,field:"csvUrl",onObjectUpdated:this.props.handleFormInputChanged,className:t})),s.default.createElement("label",{className:"margin-l-m"},I18n.t("Auto CSV Username"),s.default.createElement(o.default,{value:e.importProfile.csvUser,formObject:e.importProfile,field:"csvUser",onObjectUpdated:this.props.handleFormInputChanged,className:"block padding-trbl-s input-m margin-b-xl margin-t-s margin-l-m"})),!e.importProfile.tryKeyBasedAuth&&s.default.createElement("div",null,s.default.createElement("label",{className:"margin-l-m"},I18n.t("Auto CSV Password"),s.default.createElement(o.default,{value:e.importProfile.csvPassword,formObject:e.importProfile,field:"csvPassword",onObjectUpdated:this.props.handleFormInputChanged,type:"password",className:"block padding-trbl-s input-m margin-b-xl margin-t-s margin-l-m"}))),e.importProfile.tryKeyBasedAuth&&s.default.createElement("div",null,s.default.createElement("label",{className:"margin-l-m"},I18n.t("Auto CSV Public Key"),s.default.createElement("textarea",{readOnly:!0,placeholder:I18n.t("Loading..."),value:e.importProfile.csvPublicKey||"",className:"block padding-trbl-s input-m margin-t-s margin-l-m"})),s.default.createElement(d.default,{className:"btn filled block margin-t-s margin-b-xl margin-l-m",onClick:this.regenerateAutoCsvKeys,"data-capybara":"regenerate-csv-keys-button"},I18n.t("Regenerate Keys"))),s.default.createElement("label",{
className:"margin-l-m"},I18n.t("Auto CSV Schedule")),s.default.createElement(f.default,{days:e.importProfile.csvDays,onChangeDays:this.handleChangeAutoCsvDays,time:e.importProfile.csvTime,onChangeTime:this.handleChangeAutoCsvTime}))},csvUrl:function(){var e=this.props.account.importProfile;return e.tryKeyBasedAuth&&e.csvUrl&&0===e.csvUrl.indexOf("sftp://")?e.csvUrl.substring(7):e.csvUrl},handleChangeAutoCsvDays:function(e,t){this.props.account.importProfile.csvDays[e]=t,this.props.handleFormInputChanged()},handleChangeAutoCsvTime:function(e){this.props.account.importProfile.csvTime=e,this.props.handleFormInputChanged()},handleTryKeyBasedAuthChecked:function(){var e=this.props.account.importProfile;e.tryKeyBasedAuth&&!e.csvPublicKey&&this.regenerateAutoCsvKeys(),this.props.handleFormInputChanged()},regenerateAutoCsvKeys:function(){var e=this,t=this.props.account.importProfile,n=t.csvPublicKey;t.csvPublicKey=null,this.props.handleFormInputChanged(),u.default.regenerateAutoCsvKeyBasedAuth(this.props.account.id).then(function(n){t.csvPublicKey=n.importProfile.csvPublicKey,e.props.handleFormInputChanged()}).catch(function(){t.csvPublicKey=n,e.props.handleFormInputChanged()})}})},function(e,t,n){"use strict";function r(e){switch(e){case"vanity_domain_inactive":return I18n.t("Inactive");case"vanity_domain_pending":return I18n.t("Pending");case"vanity_domain_active":return I18n.t("Active");case"vanity_domain_disabled":return I18n.t("Disabled");default:return}}var a=n(1),s=n(3),i=s.func,o=s.string,l=n(64),u=n(60),c=["vanity_domain_inactive","vanity_domain_pending","vanity_domain_active","vanity_domain_disabled"];e.exports=a.createClass({displayName:"exports",propTypes:{onUrlChange:i,onStateChange:i,vanityDomain:o,vanityState:o},handleUrlChanged:function(e){this.props.onUrlChange(e.target.value)},render:function(){return a.createElement("div",null,a.createElement("label",null,I18n.t("Vanity URL")),a.createElement(l,{className:"combo-box input-m",onChange:this.props.onStateChange,selectedValue:this.props.vanityState,children:c.map(function(e){return a.createElement(u,{key:e,value:e,label:r(e)})})}),a.createElement("input",{className:"block input-m padding-trbl-s margin-b-xl",onChange:this.handleUrlChanged,value:this.props.vanityDomain||""}))}})},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(7),i=n(40);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/accounts/"+e+"/lti_tools",dataType:"json",data:{lti_tools:[i(t)]},type:"POST"})},parse:function(e,t){return t.lti_tools.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(7);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/accounts/"+e+"/lti_tools/"+t,dataType:"json",type:"DELETE"})}})},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(7);e.exports=r({schema:a,perform:function(e){return s({url:"/api/support/accounts/"+e+"/lti_tools",dataType:"json"})},parse:function(e,t){return t.lti_tools.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(10);t.default=(0,s.default)({schema:(0,l.shape)({}),perform:function(e){return(0,o.default)({url:"/api/support/accounts/"+e+"/scorm_imports/trigger_sftp",type:"POST"})}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(159),s=n(40),i=n(7);e.exports=r({schema:a,perform:function(e,t,n){return i({url:"/api/support/accounts/"+e+"/lti_tools/"+t,dataType:"json",type:"PATCH",data:{lti_tool:s(n)}})}})},function(e,t,n){"use strict";var r=n(21),a=n(2881),s=n(2880),i=n(2879),o=n(2883),l=n(4),u=l.merge,c=r({displayName:"LtiToolsStore",schema:n(159),fetchAll:function(e){var t=this;return a(e).then(function(n){t.cache.setCollection({accountId:e},n)})},getAll:function(e){return this.cache.getCollection({accountId:e})},delete:function(e,t){var n=this;return s(e,t).then(function(){n.cache.remove(t)})},create:function(e,t){var n=this;return i(e,t).then(function(t){n.cache.setCollection({accountId:e},t)})},update:function(e,t,n){var r=this;return this.cache.transaction(function(){return r.cache.add(u({},r.cache.get(t),n)),o(e,t,n)})}});e.exports=c},function(e,t,n){"use strict";function r(){return{filters:"cloneable"}}var a=n(1),s=n(22),i=n(470),o=n(2888),l=n(3),u=l.arrayOf,c=a.createClass({displayName:"SupportCloneAccount",propTypes:{accounts:u(n(72))},render:function(){return a.createElement(o,{accounts:this.props.accounts})}});e.exports=s({type:c,blocking:!0,asyncProps:{accounts:{fetch:function(){return i.fetchAllPages(r())},get:function(){return i.getAll(r())},setup:function(e){i.addChangeListener(e)},teardown:function(e){i.removeChangeListener(e)}}}})},function(e,t){"use strict";e.exports={name:"support.clone",path:"/support/clone",ember:{parentPath:["support"]}}},function(e,t,n){"use strict";var r=n(13),a=n(7),s=n(19);e.exports={cloneAccount:function(e,t,n){var i={clone:{source_id:e,dest:{name:t,database:n}}},o=a({url:"/api/support/clone",dataType:"json",method:"POST",data:i});return o.then(function(){s(I18n.t("Account cloned.")),r.transitionTo("support.accounts")},function(e){var t=e.responseText;0===t.length&&(t=I18n.t("Snap! Error cloning account.")),s(t,{type:"error"})})}}},function(e,t,n){"use strict";var r=n(1),a=n(2887),s=n(64),i=n(60),o=n(3),l=o.arrayOf,u=r.createClass({displayName:"View",propTypes:{accounts:l(n(72))},getInitialState:function(){return{name:null}},render:function(){return r.createElement("div",null,r.createElement("header",{className:"layout--item-header"},r.createElement("div",{className:"large-content-area centered layout--item-header__content"},r.createElement("div",{className:"pure-g-r"},r.createElement("div",{className:"pure-u-16-24"},r.createElement("h1",{className:"clearfix margin-none left"},r.createElement("span",{className:"inline-block padding-tb-xs padding-l-m"},I18n.t("Clone Account"))))))),this.renderDetails())},renderDetails:function(){var e=this.props.accounts;return e.length?r.createElement("div",{className:"large-content-area--main-container centered"},r.createElement("label",null,I18n.t("Source account")),r.createElement(s,{className:"margin-b-xl",selectedValue:this.state.refAccountIndex,onChange:this.setReferenceAccount,children:e.map(this.renderAccountItem)}),r.createElement("label",null,I18n.t("New account database")),r.createElement("input",{"data-capybara":"account-database-input",className:"block padding-trbl-s input-m margin-b-xl margin-t-s",onChange:this.setAccountDatabase}),r.createElement("label",null,I18n.t("New account name")),r.createElement("input",{"data-capybara":"account-name-input",className:"block padding-trbl-s input-m margin-b-xl margin-t-s",value:this.getAccountName(),onChange:this.setAccountName}),r.createElement("button",{className:"btn filled block margin-t-m",onClick:this.cloneAccount},I18n.t("Clone"))):r.createElement("div",{className:"margin-tl-l large"},I18n.t("No cloneable accounts"))},renderAccountItem:function(e,t){return r.createElement(i,{key:t,value:t.toString(),label:e.name})},cloneAccount:function(){var e=this.getReferenceAccount(),t=this.getAccountName();a.cloneAccount(e.id,t,this.state.database)},getAccountName:function(){return null!==this.state.name?this.state.name:this.getReferenceAccount().name+" Copy"},getReferenceAccount:function(){var e=this.props.accounts,t=e.length?e[0]:{};return this.state.refAccount||t},setAccountDatabase:function(e){this.setState({database:e.target.value})},setAccountName:function(e){this.setState({name:e.target.value})},setReferenceAccount:function(e){var t=this.props.accounts;this.setState({refAccountIndex:e,refAccount:t[e]})}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(30),i=n(2890),o=n(50),l=o.Table,u=o.Thead,c=o.Tbody,d=o.Tr,p=o.Th,f=n(3),m=f.shape,h=f.string,g=f.bool,v=f.arrayOf,_=n(1345),y=n(18),b=n(5),E=b.Loader,C=r.createClass({displayName:"List",propTypes:{query:m({search:h,sort:h}),users:v(n(581)),isLoading:g},render:function(){var e=this,t=this.props.users;return r.createElement("div",{className:"users__table"},r.createElement(l,{className:"users__table--list",onSort:this.updateSort},r.createElement(u,null,r.createElement(d,null,r.createElement(p,{className:"th-20",sortParam:"name"},a.t("Name")),r.createElement(p,{className:"th-20",sortable:!1},a.t("User UID")),r.createElement(p,{className:"th-20",sortable:!1},a.t("Email")),r.createElement(p,{className:"th-20",sortable:!1},a.t("Sub Account")),r.createElement(p,{className:"th-20",sortable:!1},a.t("Account")))),r.createElement(c,null,t.map(function(t){return r.createElement(i,{key:"user-"+t.account.id+"-"+t.id,user:t,queryString:e.props.query.search})}))),this.renderFooter())},renderFooter:function(){var e=this,t=this.props.users;return this.props.isLoading||_.searching?r.createElement(E,{loaderNumber:7,loaderSize:"large"}):_.state.paginator.hasMorePages()?r.createElement(y,{className:"btn filled margin-m",onClick:function(){return _.fetchNext(e.props.query)}},"More"):0===t.length?r.createElement("div",{className:"border-b border-grey centered padding-m"},r.createElement("p",{className:"text-center dark-grey no-sub-accounts-message"},a.t("There are no users matching your criteria."))):null},updateSort:function(e){s.updateQuery({sort:e})}});e.exports=C},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(50),i=s.Tr,o=s.Td,l=n(61),u=n(3),c=u.string,d=r.createClass({displayName:"ListRow",propTypes:{user:n(42),queryString:c},getDefaultProps:function(){return{queryString:"",user:{}}},render:function(){var e=this.props.user;return r.createElement(i,{mobileClassNames:"pure-g"},r.createElement(o,{mobileClassNames:"pure-u-1-5",className:"padding-t-s"},r.createElement("span",{className:"sub-account__name"},""===this.props.user.name?"(none)":r.createElement(l,{text:e.name,highlight:this.props.queryString}))),r.createElement(o,{mobileClassNames:"pure-u-1-5"},r.createElement("span",{className:"small"},r.createElement(l,{text:e.uid,highlight:this.props.queryString}))),r.createElement(o,{mobileClassNames:"pure-u-1-5"},r.createElement("span",{className:"small"},""===this.props.user.email?"(none)":r.createElement(l,{text:this.props.user.email,highlight:this.props.queryString}))),r.createElement(o,{mobileClassNames:"pure-u-1-5"},r.createElement("span",{className:"small"},this.props.user.subAccount.name)),r.createElement(o,{mobileClassNames:"pure-u-1-5"},r.createElement(a,{to:"support.account",params:[{id:e.account.id}],className:"user__link small"},e.account.name)))}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(3),i=s.shape,o=s.string,l=s.arrayOf,u=s.oneOf,c=s.bool,d=n(4),p=d.assign,f=d.isEqual,m=n(12),h=m.GENERAL_DEBOUNCE_MS,g=n(53),v=n(22),_=n(30),y=n(2889),b=n(52),E=n(97),C=n(54),I=n(91),T=n(37),N=n(1345),S=r.createClass({displayName:"SupportUserAccounts",mixins:[T({mobile:T.QUERY_MOBILE}),g(function(e){N.fetchNext(e.query)})],propTypes:{isLoading:c,query:i({search:o,filter:o}),users:l(n(581)),filter:u(["all","paid"])},getDefaultProps:function(){return{filter:"paid"}},render:function(){var e=this.props.filter;return r.createElement(E,null,r.createElement(C,{name:"layout--list__header-text"},a.t("Search Users Across Accounts")),r.createElement("div",{className:"users"},r.createElement("div",{className:"users__tabs"},r.createElement("div",null,r.createElement("div",{className:"left indigo"},r.createElement(b,{searchTerm:this.props.query.search,debounceRate:h,placeholderText:a.t("Search for user accounts")})),r.createElement("div",{className:"right"},r.createElement(I,{checked:"paid"===e,onChange:this.togglePaidOnlySetting},r.createElement("span",null,"Include only paid accounts")))),r.createElement("div",{className:"users__panels"},r.createElement("div",{className:"users__tabs-panel--list"},this.renderUsers())))))},togglePaidOnlySetting:function(e){var t=e.target.checked?"paid":"all";_.updateQuery(p({},this.props.query,{filter:t}))},renderUsers:function(){return r.createElement(y,{users:this.props.users,query:this.props.query,isLoading:this.props.isLoading})}});e.exports=v({type:S,asyncProps:{users:{fetch:function(e){return N.fetchAll(e)},get:function(e){return N.getAll(e.query)},shouldRefetch:function(e,t){return!f(e.query,t.query)},setup:function(e){N.addChangeListener(e)},teardown:function(e){N.removeChangeListener(e)}},filter:{get:function(e){return e.query.filter||"paid"}}}})},function(e,t){"use strict";e.exports={name:"support.user-accounts",path:"/support/user-accounts",ember:{parentPath:["support"]}}},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(581),skipNormalize:["__emberModel__"],perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nextPageURL||"/api/support/user_accounts/";return a({url:t,dataType:"json",data:e.data})},parse:function(e,t){return t.users.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=r(i),l=n(78),u=r(l),c=n(143),d=r(c),p=n(37),f=r(p),m=n(2895),h=r(m),g=n(422),v=r(g),_=n(2),y=r(_),b=n(3),E=o.default.findDOMNode,C=s.default.createClass({displayName:"DistributeBox",mixins:[d.default,(0,f.default)({small:f.default.QUERY_SMALL})],propTypes:{surveyId:b.string,groupSearch:v.default.dataType,children:y.default.any},getDefaultProps:function(){return{surveyId:"",groupSearch:v.default.getDefaultData()}},render:function(){return s.default.createElement("span",{className:"distribute-box"},s.default.createElement("span",{ref:"trigger",className:"distribute-box__trigger",onClick:this.openModal},this.props.children),s.default.createElement(u.default,{ref:"modal",isOpen:this.state.modalIsOpen,className:"distribute-box__modal",overlayClassName:"distribute-box__overlay",onRequestClose:this.closeModal,contentLabel:I18n.t("Distribute Survey")},s.default.createElement(h.default,{ref:"distributionForm",surveyId:this.props.surveyId,groupSearch:this.props.groupSearch,onCancel:this.closeModal})))},componentDidMount:function(){window.addEventListener("resize",this.repositionModal),window.addEventListener("scroll",this.repositionModal),window.addEventListener("click",this.repositionModal)},componentWillUnmount:function(){window.removeEventListener("resize",this.repositionModal),window.removeEventListener("scroll",this.repositionModal),window.removeEventListener("click",this.repositionModal)},repositionModal:function(){var e=this.refs.distributionForm;if(e){var t=E(e).parentNode;if(this.state.media.small)return void t.removeAttribute("style");var n=E(this.refs.trigger).childNodes[0],r=n.offsetLeft-t.clientWidth+n.clientWidth,a=n.offsetTop,s=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=10;a+t.clientHeight+i>s&&(a=s-(t.clientHeight+i)),t.style.position="absolute",t.style.top=a+"px",t.style.left=r+"px"}}});e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(23),l=o.findDOMNode,u=n(30),c=n(6),d=n(11),p=n(235),f=n(90),m=n(124),h=n(27),g=n(264),v=n(422),_=n(66),y=n(37),b=n(2),E=b.string,C=b.func,I=i.createClass({displayName:"DistributeBoxForm",mixins:[y({mobile:y.QUERY_MOBILE})],propTypes:{surveyId:E,onCancel:C.isRequired,groupSearch:v.dataType},getDefaultProps:function(){return{surveyId:"",groupSearch:v.getDefaultData()}},getInitialState:function(){return{canSend:!1,isSending:!1,title:"",endDate:null,endTime:""}},componentWillMount:function(){g.resetGroupSearch()},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},setTimeout(function(){var t=e.refs.title;t&&l(t).focus()},0)},componentWillUnmount:function(){this.isMounted=function(){return!1}},canSend:function(){return this.state.endDate&&this.state.endTime.length&&this.props.groupSearch.selectedGroups.length&&!this.state.isSending},handleSubmit:function(e){var t=this;if(e.preventDefault(),this.canSend()){var n={title:this.state.title||this.getTitlePlaceholder(),closes_at:this.getFullEndDateMoment().toDate(),recipient_groups:this.props.groupSearch.selectedGroups.map(function(e){return{name:e.name,group_id:e.id}})};this.setState({isSending:!0}),g.createDistribution(this.props.surveyId,n).then(function(){if(t.isMounted()){var e=u.getQuery();e.sort=e.sort||"title",g.fetchDistributions(t.props.surveyId,e),t.handleCancel()}})}},handleCancel:function(){this.props.onCancel()},handleTitleChange:function(e){this.setState({title:e.target.value})},getTitlePlaceholder:function(){return I18n.t("Untitled Distribution")+" - "+d().format("l")},handleDateChange:function(e){var t=d(e);this.setState({endDate:t.toDate(),canSend:this.canSend()}),this.state.endTime||this.setState({endTime:t.format("LT")})},handleTimeChange:function(e){this.setState({endTime:e.target.value})},formatDate:function(){var e=this.getFullEndDateMoment(),t="";e.isValid()&&(t=e.format("LT")),this.setState({endTime:t,canSend:this.canSend()})},getFullEndDateMoment:function(){var e=l(this.refs.endTime).value,t=d(this.state.endDate).format("LL")+" "+e;return d(t,"LLL")},handleGroupInput:_(function(e){this.updateGroupSearch(e,this.props.groupSearch.selectedGroups)},500),handleGroupSelect:function(e){var t=this.props.groupSearch.selectedGroups.concat(e);this.updateGroupSearch(this.props.groupSearch.term,t)},handleGroupRemove:function(e){var t=this.props.groupSearch.selectedGroups.filter(function(t){return t.id!==e.id});this.updateGroupSearch(this.props.groupSearch.term,t)},updateGroupSearch:function(e,t){var n=t.map(function(e){return e.id});g.searchGroups(e,n)},renderGroupOptions:function(){var e=this;return this.props.groupSearch.results.length?this.props.groupSearch.results.map(function(t){return e.renderComboOption(t)}):this.props.groupSearch.term?i.createElement("div",{className:"distribute-box__group-picker-option--none"},I18n.t("No matching groups")):null},renderComboOption:function(e){return i.createElement(f.Option,{className:"distribute-box__group-picker-option","data-capybara":"distribute_box_group_picker_option",key:e.id,label:e.name,value:e},i.createElement(m,(0,s.default)({},e,{className:"left margin-r-s"})),e.name)},renderSelectedGroups:function(){var e=this;return this.props.groupSearch.selectedGroups.map(function(t){return i.createElement("li",{className:"distribute-box__groups__item",key:t.id,"data-capybara":"distribute_box_groups_item"},i.createElement(m,(0,s.default)({},t,{className:"left margin-r-s"})),t.name,i.createElement("button",{type:"button",className:"right btn--reset","data-capybara":"group_remove_button",onClick:e.handleGroupRemove.bind(e,t)},i.createElement(h,{children:I18n.t("Remove")}),i.createElement("i",{className:"gs-x gs-3-4 dark-grey","aria-hidden":"true"})))})},dateClasses:function(){return c({"distribute-box__element":!0,"distribute-box__element--empty":!this.state.endDate})},render:function(){var e=57*this.props.groupSearch.selectedGroups.length+16,t={height:e<190?e:190};return i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("div",{className:"distribute-box__contents"},i.createElement("div",{className:"distribute-box__element"},i.createElement("input",{type:"text",ref:"title",className:"distribute-box__input distribute-box__input--title","data-capybara":"distribute_box_input_title",value:this.state.title,onChange:this.handleTitleChange,placeholder:this.getTitlePlaceholder()})),this.state.media.mobile?this.renderMobileDateAndTime():this.renderDateAndTime(),i.createElement("div",{className:"distribute-box__element"},i.createElement(f,{autocomplete:"list",placeholder:I18n.t("Add Groups"),className:"distribute-box__group-picker",inputClassName:"distribute-box__group-picker-input","data-capybara":"distribute_box_group_picker_input",listClassName:"distribute-box__group-picker-list",onInput:this.handleGroupInput,onSelect:this.handleGroupSelect},this.renderGroupOptions())),i.createElement("div",{className:"distribute-box__element distribute-box__groups",style:t},i.createElement("ul",{className:"unstyled"},this.props.groupSearch.selectedGroups.length>0&&this.renderSelectedGroups()))),i.createElement("div",{className:"distribute-box__footer"},i.createElement("button",{type:"button",className:"btn button-cancel tertiary",onClick:this.handleCancel},I18n.t("Cancel")),i.createElement("button",{type:"submit",className:"btn filled",disabled:!this.canSend(),onClick:this.handleSubmit},I18n.t("Send Survey"))))},renderDateAndTime:function(){return i.createElement("div",{className:this.dateClasses()},this.renderDatePicker(),this.state.endDate&&this.renderSeparator(),this.state.endDate&&this.renderTimePicker())},renderDatePicker:function(){return i.createElement(p,{className:"distribute-box__input distribute-box__input--date",value:this.state.endDate,format:"ll",onChange:this.handleDateChange,placeholder:I18n.t("End Date"),emitChangeInitially:!0})},renderSeparator:function(){return i.createElement("div",{className:"distribute-box__input--separator"}," ","/"," ")},renderTimePicker:function(){return i.createElement("input",{type:"text",ref:"endTime",className:"distribute-box__input distribute-box__input--time","data-capybara":"dc_distribute_box_input_time",value:this.state.endTime,onChange:this.handleTimeChange,onBlur:this.formatDate,placeholder:I18n.t("End Time")})},renderMobileDateAndTime:function(){var e=[this.renderMobileDatePicker()];return this.state.endDate&&e.push(this.renderMobileTimePicker()),e},renderMobileDatePicker:function(){return i.createElement("div",{key:"distribution-date",className:this.dateClasses()},this.renderDatePicker())},renderMobileTimePicker:function(){return i.createElement("div",{key:"distribution-time",className:this.dateClasses()},this.renderTimePicker())}});e.exports=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(52),l=n(438),u=n(2897),c=n(264),d=n(53),p=n(30),f=n(2),m=f.arrayOf,h=f.shape,g=f.string,v=f.bool,_=function(){return[{value:"closes_at",label:I18n.t("Close Date")},{value:"sent_at",label:I18n.t("Date Sent")},{value:"title",label:I18n.t("Alphabetically")},{value:"status",label:I18n.t("Status")}]},y=function(){return[{value:"completed",label:I18n.t("Completed")}]},b=i.createClass({displayName:"DistributionList",mixins:[d(function(e){c.fetchMoreDistributions(e.survey.id,e.query)})],propTypes:{permissions:h({survey:h({edit:v}),distribution:h({create:v,delete:v}),results:h({view:v})}),survey:n(244),distributionsLoading:v,distributions:m(n(633)),query:h({sort:g,filters:m(g)})},getDefaultProps:function(){return{permissions:{survey:{},distribution:{}},query:{sort:"title",filters:[]},survey:{},distributions:[],distributionsLoading:!0}},render:function(){var e=this.props,t=e.survey,n=e.distributions,r=e.distributionsLoading,a=t.distributionsCount>0,s=0===n.length&&r,u=0===n.length&&!r;return i.createElement("div",null,i.createElement("div",{key:"search-filter",className:"sortable-table-header--first-item"},i.createElement("div",{className:"left indigo"},i.createElement(o,{searchTerm:this.props.query.search,placeholderText:I18n.t("Search for survey distributions")})),i.createElement(l,{onChange:this.updateSortAndFilters,filterOptions:y(),activeFilters:this.props.query.filters,sortOptions:_(),activeSort:this.props.query.sort})),i.createElement("ul",{key:"list",className:"survey-distribution-list bordered","data-capybara":"dc_survey_distribution_list"},!a&&i.createElement("li",{key:"no-distribution",className:"bold dark-grey padding-tb-m text-center"},I18n.t("This survey has not been distributed yet.")),a&&s&&i.createElement("li",{key:"no-distribution",className:"bold dark-grey padding-tb-m text-center"},I18n.t("Loading your results...")),a&&u&&i.createElement("li",{key:"no-distribution",className:"bold dark-grey padding-tb-m text-center"},I18n.t("There are no distributions matching this filter.")),n.map(this.renderDistribution)))},renderDistribution:function(e){return i.createElement(u,(0,s.default)({key:"survey-distribution-"+e.id,onRemove:this.removeDistribution.bind(null,e),highlight:this.props.query.search,removable:this.props.permissions.distribution.delete,viewable:this.props.permissions.results.view,survey:this.props.survey},e))},updateSortAndFilters:function(e){p.updateQuery(e)},removeDistribution:function(e){c.deleteDistribution(this.props.survey.id,e)}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(13),l=n(6),u=n(88),c=n(27),d=n(5),p=d.Icon,f=n(61),m=n(597),h=n(2),g=h.func,v=h.shape,_=h.string,y=h.number,b=h.bool,E=i.createClass({displayName:"DistributionListItem",mixins:[u.mixin],propTypes:{id:_,title:_,sent_at:_,closes_at:_,closed:b,responses_count:y,recipients_count:y,state:_,removable:b,viewable:b,highlight:_,survey:v({id:_}),onRemove:g.isRequired},getDefaultProps:function(){return{title:"",sent_at:null,closes_at:null,closed:!0,responses_count:0,recipients_count:0,state:"in_progress",removable:!1,highlight:""}},getTitle:function(){var e=this.props.title||"";return e.length>0?e:I18n.t("Untitled Distribution")},render:function(){var e,t,n=this.isConfirmingRemoval();return e=l({"removable-item":!0,"removable-item--focused":n}),t=l({indigo:(this.props.title||"").length>0,"dark-grey":0===(this.props.title||"").length}),i.createElement("li",null,i.createElement("div",{className:e,"data-capybara":"distribution_list_item_"+this.props.id},i.createElement("div",{className:"left removable-item__title--large"},i.createElement("h2",{className:"h3 margin-none"},this.props.viewable?i.createElement(o,{to:"react.author.survey.distribution.results",params:[{surveyId:this.props.survey.id},{distributionId:this.props.id}],className:t},i.createElement(f,{text:this.getTitle(),highlight:this.props.highlight})):i.createElement("span",{className:t},i.createElement(f,{text:this.getTitle(),highlight:this.props.highlight}))),i.createElement(m,(0,s.default)({className:"light small"},this.props))),n&&[i.createElement("div",{key:"text",className:"removable-item__confirm"},I18n.t("Delete Distribution?")),i.createElement("div",{key:"btns",className:"removable-item__buttons"},i.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),i.createElement("button",{type:"button",className:"btn--reset pink upcase small padding-rl-s text-center",onClick:this.remove,children:I18n.t("Delete")}))],!n&&i.createElement("div",{className:"right padding-tb-xxl"},this.stateLabel()),!n&&this.props.removable&&i.createElement("div",{className:"removable-item__remove"},i.createElement("button",{type:"button",onClick:this.confirmRemoval,className:"btn--reset dark-grey small"},i.createElement(c,{children:I18n.t("Delete")}),i.createElement(p,{className:"gs-x gs-1x dark-grey"})))))},stateLabel:function(){return"in_progress"===this.props.state?I18n.t("In Progress"):"completed"===this.props.state?I18n.t("Completed"):void 0}});e.exports=E},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(5),i=s.Icon,o=n(24),l=n(102),u=n(54),c=(n(620),n(2896)),d=n(2894),p=n(1355),f=n(37),m=n(264),h=n(69),g=n(422),v=n(4),_=v.assign,y=v.pick,b=n(2),E=b.arrayOf,C=b.shape,I=b.bool,T=r.createClass({displayName:"SurveyView",mixins:[f({mobile:f.QUERY_MOBILE})],propTypes:{permissions:C({survey:C({create:I,delete:I,edit:I,duplicate:I}),distribution:C({create:I,delete:I}),results:C({view:I})}),survey:n(244),distributionsLoading:I,distributions:E(n(633)),groupSearch:g.dataType},getDefaultProps:function(){return{permissions:{survey:{},distribution:{},results:{}},survey:{},distributionsLoading:!0,distributions:[],groupSearch:g.getDefaultData()}},getSurveyTitle:function(){var e=this.props.survey,t=e.title||"";return t.length>0?e.title:I18n.t("Untitled Survey")},render:function(){var e=this.props.survey,t=_({key:"list"},y(this.props,"survey","distributions","distributionsLoading","permissions","query"));return r.createElement("div",null,r.createElement(l,{type:"survey"},r.createElement(u,{name:"layout--item-header__details"},r.createElement(i,{className:"layout--item-header__icon gs-surveys"}),r.createElement(h,{value:this.props.survey.title,onChange:this.updateTitle,readOnly:!this.props.permissions.survey.edit,inputClassName:"survey-header__title",maxLength:"255"},r.createElement("h1",{className:"survey-header__title"},this.getSurveyTitle())),r.createElement("ul",{className:"list--slashed"},r.createElement("li",null,this.props.survey.distributionsCount>0&&I18n.t("Distribution",{count:e.distributionsCount}),0===this.props.survey.distributionsCount&&I18n.t("No Distributions"))),!1),r.createElement(u,{name:"layout--item-header__actions"},r.createElement(p,{survey:this.props.survey,permissions:this.props.permissions,media:this.state.media,handleClickPreview:this.handleClickPreview,handleDuplicate:this.handleDuplicate}))),r.createElement("div",{className:"survey-distributions large-content-area--main-container centered","data-capybara":"survey_distributions"},r.createElement("div",{key:"subtitle",className:"padding-tb-l sortable-table-header--first-item"},r.createElement("h2",{className:"margin-b-s left"},I18n.t("Distributions")),this.props.permissions.distribution.create&&r.createElement(d,{groupSearch:this.props.groupSearch,surveyId:this.props.survey.id},r.createElement("button",{type:"button",className:"add-btn"},r.createElement(o,null,r.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *Distribute*"),wrappers:{"*":r.createElement("span",{className:"add-btn__text"},"$1")}},"$1"))))),r.createElement(c,t)))},save:function(e){m.saveSurvey(this.props.survey,e)},updateAnonymousFlag:function(e){this.save({anonymous:e.target.checked})},updatePublishResultsFlag:function(e){this.save({publishResults:e.target.checked})},updateTitle:function(e){this.save({title:e})},handleClickPreview:function(){a.replaceWith("react.author.survey.preview",this.props.survey.id)},handleDuplicate:function(){m.duplicateSurvey(this.props.survey).then(this.redirectToSurvey)},redirectToSurvey:function(e){a.transitionTo("react.author.survey.questions",e.id)}});e.exports=T},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(264),i=n(13),o=n(213),l=n(760),u=n(422),c=n(2898),d=n(29),p=n(19),f=n(4),m=f.some,h=[o,l,u];e.exports=a.createClass({displayName:"exports",propTypes:{params:r.shape({surveyId:r.string}),query:r.shape({sort:r.string})},getInitialState:function(){return this.getStateFromStores()},fetchDistributions:function(e){var t=this,n=e.query;n.sort=n.sort||"title",s.fetchSurvey(e.params.surveyId).then(function(){t.isMounted()&&s.fetchDistributions(e.params.surveyId,n)},function(e){if(t.isMounted()&&404===e.status)return p(I18n.t("Survey does not exist")),i.replaceWith("react.author.surveys")})},componentWillMount:function(){this.fetchDistributions(this.props)},componentDidMount:function(){var e=this;this.isMounted=function(){return!0},h.forEach(function(t){return t.addChangeListener(e._onChange)})},componentWillReceiveProps:function(e){this.fetchDistributions(e)},componentWillUnmount:function(){var e=this;h.forEach(function(t){return t.removeChangeListener(e._onChange)}),this.isMounted=function(){return!1}},getPermissions:function(){return{survey:{create:d("survey_create"),edit:d("survey_create"),delete:d("survey_delete"),duplicate:d("survey_clone")},distribution:{create:m(["survey_group_distribution_create","survey_smart_group_distribution_create","survey_domain_group_distribution_create"],function(e){return d(e)}),delete:d("survey_distribution_destroy")},results:{view:d("survey_results_view")}}},render:function(){return a.createElement(c,{permissions:this.getPermissions(),survey:this.state.survey,distributions:this.state.distributions,distributionsLoading:this.state.distributionsLoading,groupSearch:this.state.groupSearch,query:this.props.query})},getStateFromStores:function(){var e=this.props.params.surveyId,t=this.props.query;return t.sort=t.sort||"title",{survey:e&&o.get(e)||{},distributions:l.getAll(e,t),groupSearch:u.getSearch(),distributionsLoading:l.isLoading()}},
_onChange:function(){this.setState(this.getStateFromStores())}})},function(e,t){"use strict";e.exports={name:"react.author.survey",path:"/author/surveys/:surveyId",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(30),i=n(213),o=n(265),l=n(19),u=n(1354),c=n(29),d=n(264),p=n(13),f=[i,o],m=function(){var e=window.location.port,t=window.location.protocol+"//"+window.location.hostname;return e?t+":"+e:t};e.exports=a.createClass({displayName:"exports",propTypes:{params:r.shape({surveyId:r.string}),query:r.shape({questionId:r.string})},getInitialState:function(){return this.getStateFromStores()},componentWillMount:function(){var e=this;d.resetQuestions(),d.fetchSurvey(this.props.params.surveyId).then(function(){d.fetchQuestions(e.props.params.surveyId)},function(e){if(404===e.status)return l(I18n.t("Survey does not exist")),p.replaceWith("react.author.surveys")})},componentDidMount:function(){var e=this;f.forEach(function(t){return t.addChangeListener(e._onChange)}),this._onChange()},componentWillUnmount:function(){var e=this;f.forEach(function(t){return t.removeChangeListener(e._onChange)})},componentWillReceiveProps:function(e){this.setState(this.getStateFromStores(e))},onMessage:function(e){e.origin===m()&&e.data.questionId&&s.replaceWith("react.author.survey.preview",{surveyId:this.state.survey.id},{questionId:e.data.questionId})},handleClickPreview:function(){p.replaceWith("react.author.survey",this.props.params.surveyId)},getPermissions:function(){return{survey:{create:c("survey_create"),edit:c("survey_update")}}},render:function(){return a.createElement(u,{permissions:this.getPermissions(),survey:this.state.survey,questions:this.state.questions,renderAllButtons:!0,selectedQuestion:this.state.selectedQuestion,onClickPreview:this.handleClickPreview,onMessage:this.onMessage,query:this.props.query})},getStateFromStores:function(e){e=e||this.props;var t=e.params.surveyId,n=e.query.questionId,r=i.get(t);r?r.isLoaded=!0:r={id:t};var a,s=o.getAll(t);return n&&(a=o.get(n)),{survey:r,questions:s,selectedQuestion:a||{id:n}}},_onChange:function(){this.setState(this.getStateFromStores())}})},function(e,t){"use strict";e.exports={path:"/author/surveys/:surveyId/preview",name:"react.author.survey.preview"}},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(30),i=n(213),o=n(265),l=n(19),u=n(4),c=u.assign,d=n(264),p=n(13),f=n(655),m=f.isInIframe,h=f.messageTarget,g=n(1477),v=g(n(759)),_=[i,o],y="submit",b=function(){var e=window.location.port,t=window.location.protocol+"//"+window.location.hostname;return e?t+":"+e:t},E=a.createClass({displayName:"AuthorSurveyPreviewBare",propTypes:{params:r.shape({surveyId:r.string}),query:r.shape({questionId:r.string}),messageTarget:r.object},getInitialState:function(){return c(this.getStateFromStores(),{responses:{}})},componentWillMount:function(){var e=this;d.resetQuestions(),d.fetchSurvey(this.props.params.surveyId).then(function(){d.fetchQuestions(e.props.params.surveyId)},function(e){if(404===e.status)return l(I18n.t("Survey does not exist")),p.replaceWith("react.author.surveys")})},componentDidMount:function(){var e=this;_.forEach(function(t){return t.addChangeListener(e._onChange)}),this._onChange()},componentWillUnmount:function(){var e=this;_.forEach(function(t){return t.removeChangeListener(e._onChange)})},componentWillReceiveProps:function(e){this.setState(this.getStateFromStores(e))},transitionToQuestion:function(e){var t=e?e.id:y,n={questionId:t};s.replaceWith("react.author.survey.preview.bare",{surveyId:this.state.survey.id},n),m()&&(this.props.messageTarget||h()).postMessage(n,b())},getQuestionsWithResponses:function(){var e=this.state.responses;return this.state.questions.map(function(t){return c({},t,{response:e[t.id]})})},onAnswer:function(e,t){var n=c({},this.state.responses);n[e.id]={answer:""+t},this.setState({responses:n})},render:function(){var e=this.state.survey.title;return a.createElement(v,{questions:this.getQuestionsWithResponses(),currentQuestionId:this.state.selectedQuestion.id,onAnswer:this.onAnswer,onSelectQuestion:this.transitionToQuestion,distribution:{title:e},fullViewport:!0})},getStateFromStores:function(e){e=e||this.props;var t=e.params.surveyId,n=e.query.questionId,r=i.get(t);r?r.isLoaded=!0:r={id:t};var a=o.getAll(t);return{survey:r,questions:a,selectedQuestion:n&&o.get(n)||{id:n}}},_onChange:function(){this.setState(this.getStateFromStores())}});e.exports=E},function(e,t){"use strict";e.exports={path:"/author/surveys/:surveyId/preview/bare",name:"react.author.survey.preview.bare"}},function(e,t,n){"use strict";var r=n(1),a=n(30),s=n(27),i=n(5),o=i.Icon,l=n(299),u=n(13),c=n(756),d=n(1350),p=n(6),f=n(2),m=f.string,h=f.shape,g=f.bool,v=r.createClass({displayName:"HeaderBar",propTypes:{survey:h({id:m,title:m,isLoaded:g}),question:h({id:m}),isSaving:g,isDisconnected:g},getSaveStatus:function(){return this.props.isSaving?I18n.t("Saving"):this.props.isDisconnected?I18n.t("No connection. Not saving"):I18n.t("All changes saved")},render:function(){var e=p({"authoring-heading__save-status":!0,"authoring-heading__save-status--disconnected":this.props.isDisconnected});return r.createElement("div",{className:"authoring-heading white padding-t-s padding-l-m","data-capybara":"authoring_heading_survey_bar"},r.createElement(u,{to:"react.author.survey",params:[{surveyId:this.props.survey.id}],className:"right large padding-rl-m"},r.createElement(s,{children:I18n.t("Close")}),r.createElement(o,{className:"gs-x gs-half white"})),r.createElement(d,{survey:this.props.survey,isEditable:!0,onChange:this.handleChangeTitle}),r.createElement("span",{className:e},this.getSaveStatus()),r.createElement("span",{className:"authoring-heading__preview-button","data-capybara":"survey_preview_toggle_on"},r.createElement(l,{onClick:this.handleClickPreview})))},handleClickPreview:function(){a.replaceWith("react.author.survey.question.preview",{surveyId:this.props.survey.id,questionId:this.props.question.id})},handleChangeTitle:function(e){c.saveSurvey(this.props.survey,{title:e})}});e.exports=v},function(e,t,n){"use strict";var r=n(1),a=n(67),s=n(5),i=s.Icon,o=n(6),l=n(2),u=l.string,c=r.createClass({displayName:"SurveyQuestionPreview",propTypes:{id:u,surveyId:u,statement:u},render:function(){var e=o({"survey-question-preview":!0,indigo:this.props.statement,"dark-grey":!this.props.statement});return r.createElement(a,{to:"react.author.survey.question",params:{surveyId:this.props.surveyId,questionId:this.props.id},className:e,activeClassName:"survey-question-preview--active"},r.createElement("span",{className:"survey-question-preview__statement"},this.props.statement||I18n.t("New Likert Question")),r.createElement(i,{className:"survey-question-preview__icon gs-survey-likert gs-1x indigo"}))}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(23),l=o.findDOMNode,u=n(6),c=n(93),d=n(2906),p=n(2905),f=n(27),m=n(5),h=m.Icon,g=n(94),v=n(24),_=n(891),y=n(2),b=y.arrayOf,E=y.string,C=y.shape,I=y.func,T=y.bool,N=y.object,S=i.createClass({displayName:"QuestionsView",propTypes:{onCreate:I,onDeleteSelected:I,onDuplicateSelected:I,survey:C({id:E,title:E,isLoaded:T}),questions:b(C({id:E,statement:E})),selectedQuestion:N,isSaving:T,isDisconnected:T},scrollToQuestion:function(e){this.scrollToQuestionNode(e.target)},scrollToQuestionId:function(e){var t=l(this.refs["question"+e]);this.scrollToQuestionNode(t)},scrollToQuestionNode:function(e){_(e,l(this.refs.questions))},renderQuestionPreview:function(e){return i.createElement("li",{key:e.id,ref:"question"+e.id,onFocus:this.scrollToQuestion},i.createElement(d,{id:e.id,surveyId:e.surveyId,statement:e.statement}))},render:function(){var e=this,t=u({"btn btn--round secondary":!0,disabled:!this.props.selectedQuestion.id||this.props.isSaving});return i.createElement("div",{className:"grey-gradient-bg full-width full-min-height"},i.createElement(p,{survey:this.props.survey,question:this.props.selectedQuestion,isSaving:this.props.isSaving,isDisconnected:this.props.isDisconnected}),i.createElement("div",{className:"authoring-sidebar"},i.createElement("div",{className:"authoring-sidebar__actions padding-rl-s flex-vertical-center"},i.createElement("button",{className:"btn filled",onClick:this.props.onCreate},i.createElement(v,null,I18n.t("Add Question"))),i.createElement(g,null,i.createElement(g.Trigger,null,i.createElement("button",{className:t,onClick:this.props.onDuplicateSelected},i.createElement(h,{className:"gs-duplicate gs-1x"}),i.createElement(f,{children:I18n.t("Duplicate Question")}))),i.createElement(g.Content,{dark:!0,rightAlign:!0},i.createElement("p",{className:"semi-bold x-small"},I18n.t("Duplicate Question")))),i.createElement(g,null,i.createElement(g.Trigger,null,i.createElement("button",{className:t,onClick:this.props.onDeleteSelected},i.createElement(h,{className:"gs-trash gs-1x"}),i.createElement(f,{children:I18n.t("Delete Question")}))),i.createElement(g.Content,{dark:!0,rightAlign:!0},i.createElement("p",{className:"semi-bold x-small"},I18n.t("Delete Question"))))),i.createElement("ol",{className:"authoring-sidebar__content survey-questions",ref:"questions"},this.props.questions.map(function(t){return e.renderQuestionPreview(t)}))),i.createElement("div",{className:"authoring-pane padding-tb-m"},i.createElement(c,(0,s.default)({},this.props,{question:this.props.selectedQuestion}))))}});e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=n(1),l=n(756),u=n(30),c=n(2907),d=n(213),p=n(265),f=n(13),m=n(19),h=n(4),g=h.findIndex,v=[d,p],_="tt",y="rw";e.exports=o.createClass({displayName:"exports",propTypes:{params:i.shape({surveyId:i.string,questionId:i.string})},getInitialState:function(){return this.getStateFromStores()},componentWillMount:function(){var e=this;l.resetQuestions(),l.fetchSurvey(this.props.params.surveyId).then(function(){l.fetchQuestions(e.props.params.surveyId)},function(e){e&&404===e.status&&(m(I18n.t("Survey does not exist")),f.replaceWith("react.author.surveys"))})},componentDidMount:function(){var e=this;v.forEach(function(t){return t.addChangeListener(e._onChange)}),this._onChange()},componentWillUnmount:function(){var e=this;v.forEach(function(t){return t.removeChangeListener(e._onChange)})},componentWillReceiveProps:function(e){this.setState(this.getStateFromStores(e))},componentDidUpdate:function(e,t){if(this.ensureSelectedQuestion(t)){var n=this.props.params.questionId,r=e.params.questionId;if(n){var a=this.isQuestionLoaded(n,t.questions),s=this.isQuestionLoaded(r);(!a&&s||r!==n)&&this.refs.questionsView.scrollToQuestionId(n)}}},isQuestionLoaded:function(e,t){return t=t||this.state.questions,t.filter(function(t){return t.id===e}).length>0},render:function(){return o.createElement(c,(0,s.default)({ref:"questionsView",onCreate:this.createQuestionAndRedirect,onDuplicateSelected:this.duplicateSelectedQuestion,onDeleteSelected:this.deleteSelectedQuestion},this.state))},getStateFromStores:function(e){e=e||this.props;var t=e.params,n=t.surveyId,r=t.questionId,a=d.get(n);a?a.isLoaded=!0:a={id:n};var s=p.getAll(n);return a.isLocked?(f.transitionTo("react.author.survey",n),{}):{survey:a,questions:s,questionsLoaded:p.isLoaded(n),isSaving:p.isSaving()||d.isSaving(),isDisconnected:p.isDisconnected()||d.isDisconnected(),selectedQuestion:r&&p.get(r)||{},selectedIndex:g(s,"id",r)}},createQuestion:function(){var e=this.props.params.surveyId;return l.createQuestion(e)},createQuestionAndRedirect:function(){var e=this;return this.createQuestion().then(function(t){e.redirectToQuestion(t.id)})},deleteSelectedQuestion:function(){var e=this.props.params.questionId;e&&l.deleteQuestion(e)},duplicateSelectedQuestion:function(){var e=this,t=this.props.params.questionId;t&&l.duplicateQuestion(t).then(function(t){e.redirectToQuestion(t.id)})},ensureSelectedQuestion:function(e){var t=this.props.params.questionId;return!(!t||!this.isQuestionLoaded(t))||!this.state.isSaving&&(this.state.questionsLoaded?(this.state.questions.length?this.redirectToQuestionAtOrBefore(e.selectedIndex||0):this.createQuestion(),!1):(!t&&this.state.questions.length&&this.redirectToFirstQuestion(),!1))},redirectToQuestion:function(e){this.goToQuestion(_,e)},redirectToQuestionAtOrBefore:function(e){var t=(this.state.questions[e]||this.state.questions[e-1]||this.state.questions[0]).id,n=this.props.params.questionId?_:y;this.goToQuestion(n,t)},goToQuestion:function(e,t){var n,r=this.props.params.surveyId;if(e===_)n=u.transitionTo;else{if(e!==y)throw new Error('Unknown transition type "'+e+'"');n=u.replaceWith}n.call(u,"react.author.survey.question",{surveyId:r,questionId:t})},redirectToFirstQuestion:function(){this.redirectToQuestionAtOrBefore(0)},_onChange:function(){this.setState(this.getStateFromStores())}})},function(e,t){"use strict";e.exports={path:"/author/surveys/:surveyId/questions",name:"react.author.survey.questions",ember:{sink:!0}}},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(6),i=0,o=n(2),l=o.func,u=o.arrayOf,c=o.string,d=o.number,p=r.createClass({displayName:"Answers",propTypes:{onChange:l.isRequired,selectedIndex:d.isRequired,answers:u(c)},getInitialState:function(){return{answersFocused:!1}},componentWillMount:function(){this.answerRadioId="survey-ideal-answer-"+ ++i},focus:function(){this.setState({answersFocused:!0})},focusSelected:function(){this.refs["idealAnswer"+this.props.selectedIndex].focus()},blur:function(){this.setState({answersFocused:!1})},renderAnswer:function(e,t){var n=this.props.selectedIndex===t,i=!this.isSelectable(t),o=s({"survey-answers__option":!0,"survey-answers__option--selected":n,"survey-answers__option--disabled":i});return r.createElement("label",{className:o,key:t,onClick:i&&this.focusSelected},r.createElement("input",{className:"screenreader-only",type:"radio",name:this.answerRadioId,onChange:this.props.onChange,onFocus:this.focus,onBlur:this.blur,value:t,checked:n,disabled:i,ref:"idealAnswer"+t}),e,n&&r.createElement("span",{className:"survey-answers__selected-text","aria-hidden":"true"},r.createElement(a,null,I18n.t("Marked as ideal response"))))},isSelectable:function(e){return 0===e||e===this.props.answers.length-1},render:function(){var e=this,t=s({"survey-answers":!0,"survey-answers--focused":this.state.answersFocused});return r.createElement("div",{className:t},this.props.answers.map(function(t,n){return e.renderAnswer(t,n)}))}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(5),i=s.Icon,o=r.createClass({displayName:"QuestionLoadingView",render:function(){return r.createElement("div",{className:"padding-t-xs"},r.createElement("div",{className:"survey-question shadow border-dark-grey padding-trbl-xl margin-trbl-xl"},r.createElement("div",{className:"survey-question__heading border-b border-med-grey margin-t-xs translucent"},r.createElement("div",{className:"survey-question__icon left margin-r-xs margin-t-xxs"},r.createElement(i,{className:"gs-survey-likert dark-grey gs-3-4"})),r.createElement("div",{className:"bold padding-t-s"},r.createElement(a,null,I18n.t("Loading..."))))))}});e.exports=o},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(5),i=s.Icon,o=n(64),l=n(60),u=n(2910),c=n(761),d=c.validTypes,p=n(2),f=p.func,m=p.oneOf,h=p.string,g=p.number,v=p.bool,_=r.createClass({displayName:"QuestionView",propTypes:{onChange:f.isRequired,id:h.isRequired,required:v,statement:h,idealAnswer:g,answerType:m(d)},getDefaultProps:function(){return{required:!1,statement:""}},getInitialState:function(){return{}},getAnswerType:function(){return this.props.answerType||c()[0].value},getIdealAnswer:function(){return"undefined"!=typeof this.props.idealAnswer?this.props.idealAnswer:c()[0].answers.length-1},focus:function(){this.refs.statement.focus()},updateStatement:function(e){this.props.onChange(this.props.id,{statement:e.target.value})},updateIdealAnswer:function(e){this.props.onChange(this.props.id,{idealAnswer:parseInt(e.target.value,10)})},previewAnswerType:function(e){this.setState({previewAnswerType:e})},updateAnswerType:function(e){this.setState({previewAnswerType:null}),this.props.onChange(this.props.id,{answerType:e})},updateIsRequired:function(e){this.props.onChange(this.props.id,{required:e.target.checked})},answers:function(){var e=this.state.previewAnswerType||this.getAnswerType();return c().filter(function(t){return t.value===e})[0].answers},surveyAnswerTypes:function(){var e=this,t=[],n=[];return c().forEach(function(r){r.value===e.getAnswerType()?t.push(r):n.push(r)}),t.concat(n)},renderAnswerType:function(){return r.createElement("div",null,r.createElement("label",{className:"survey-question__answer-type-label"},I18n.t("Answer Type:")),r.createElement(o,{selectedValue:this.getAnswerType(),onChange:this.updateAnswerType,onSelect:this.previewAnswerType,className:"combo-box--compact survey-question__answer-type"},this.surveyAnswerTypes().map(function(e){return r.createElement(l,{key:e.value,value:e.value,className:"medium base indigo text-center upcase",label:e.label})})))},render:function(){return r.createElement("div",{className:"padding-t-xs"},r.createElement("div",{className:"survey-question shadow border-dark-grey padding-trbl-xl margin-trbl-xl"},r.createElement("div",{className:"survey-question__heading border-b border-med-grey margin-t-xs"},r.createElement("div",{className:"survey-question__icon left margin-r-xs margin-t-xxs"},r.createElement(i,{className:"gs-survey-likert gs-3-4"})),r.createElement("div",{className:"right dark-grey small padding-t-s"},r.createElement("label",null,r.createElement("input",{className:"margin-r-xs",type:"checkbox",checked:this.props.required,onChange:this.updateIsRequired}),r.createElement(a,null,I18n.t("Required")))),r.createElement("div",{className:"bold padding-t-s"},r.createElement(a,null,I18n.t("Likert Question")))),r.createElement("textarea",{ref:"statement",className:"x-large survey-question__text margin-tb-l padding-tb-xs padding-rl-s",value:this.props.statement,placeholder:I18n.t("Sample statement: I rarely think about looking for a job at another company"),onChange:this.updateStatement,"data-capybara":"survey-question-text"}),r.createElement("div",{className:"left"},this.renderAnswerType()),r.createElement("div",{className:"right"},r.createElement(u,{answers:this.answers(),onChange:this.updateIdealAnswer,selectedIndex:this.getIdealAnswer()})),r.createElement("div",{className:"clear padding-tb-m"})))}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(756),l=n(2912),u=n(2911),c=n(265),d=n(2),p=d.object,f=d.string,m=i.createClass({displayName:"Question",propTypes:{question:p,questionId:f},componentDidMount:function(){this.focusIfLoaded()},componentDidUpdate:function(e){this.props.question.id!==e.question.id&&this.focusIfLoaded()},focusIfLoaded:function(){this.props.question.id&&this.refs.questionView.focus()},render:function(){return this.props.question.id?i.createElement(l,(0,s.default)({ref:"questionView",onChange:this.updateQuestion},this.props.question)):i.createElement(u,null)},getStateFromStores:function(){var e=c.get(this.props.questionId);return e||{}},updateQuestion:function(e,t){o.updateQuestion(e,t)}});e.exports=m},function(e,t){"use strict";e.exports={name:"react.author.survey.question",path:"questions/:questionId",parent:"react.author.survey.questions"}},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(30),i=n(264),o=n(13),l=n(1354),u=n(213),c=n(265),d=n(19),p=[u,c],f=function(){var e=window.location.port,t=window.location.protocol+"//"+window.location.hostname;return e?t+":"+e:t},m=a.createClass({displayName:"SurveyQuestionPreviewHandler",propTypes:{params:r.shape({surveyId:r.string,questionId:r.string}),query:r.object},getInitialState:function(){return this.getStateFromStores()},componentWillMount:function(){var e=this;i.resetQuestions(),i.fetchSurvey(this.props.params.surveyId).then(function(){i.fetchQuestions(e.props.params.surveyId)},function(e){if(404===e.status)return d(I18n.t("Survey does not exist")),o.replaceWith("react.author.surveys")})},componentDidMount:function(){var e=this;p.forEach(function(t){return t.addChangeListener(e._onChange)}),this._onChange()},componentWillUnmount:function(){var e=this;p.forEach(function(t){return t.removeChangeListener(e._onChange)})},componentWillReceiveProps:function(e){this.setState(this.getStateFromStores(e))},onMessage:function(e){e.origin===f()&&e.data.questionId&&s.replaceWith("react.author.survey.question.preview",{surveyId:this.state.survey.id,questionId:e.data.questionId})},handleClickPreview:function(){s.replaceWith("react.author.survey.question",this.props.params)},render:function(){return a.createElement(l,{survey:this.state.survey,questions:this.state.questions,selectedQuestion:this.state.selectedQuestion,onClickPreview:this.handleClickPreview,onMessage:this.onMessage,query:this.props.query})},getStateFromStores:function(e){var t=e||this.props,n=t.params,r=n.surveyId,a=n.questionId,s=u.get(r);s?s.isLoaded=!0:s={id:r};var i=c.get({surveyId:r});return s.is_locked?(o.transitionTo("react.author.survey",r),{}):{survey:s,questions:i,selectedQuestion:a&&c.get(a)||{id:a}}},_onChange:function(){this.setState(this.getStateFromStores())}});e.exports=m},function(e,t){"use strict";e.exports={path:"/author/surveys/:surveyId/questions/:questionId/preview",name:"react.author.survey.question.preview"}},function(e,t,n){"use strict";var r=n(1),a=n(2919),s=n(2921),i=n(2920),o=n(18),l=n(757),u=n(2),c=u.array,d=u.number,p=n(155),f=p.AGGREGATE_GROUP_ID,m=r.createClass({displayName:"ActionBar",propTypes:{groups:c.isRequired,selectedGroupIds:c.isRequired,plottableResults:c.isRequired,maximumVisibilityThreshold:d},getDefaultProps:function(){return{groups:[],selectedGroupIds:[],plottableResults:[]}},getSelectedGroups:function(){var e=this.props.selectedGroupIds;return this.props.groups.filter(function(t){return e.indexOf(t.id)>=0&&t.id!==f})},getQuestions:function(){return this.props.plottableResults.filter(function(e){return e.questionPosition})},getFilteredQuestions:function(e){return e=e||this.getQuestions(),e.filter(function(e){return e.active})},getFilteredGroups:function(e,t){e=e||this.getSelectedGroups(),t=t||this.getFilteredQuestions();var n=this.props.maximumVisibilityThreshold,r={};return t.forEach(function(e){e.answers.forEach(function(e){e.score<=n&&(r[e.groupId]=!0)})}),e.filter(function(e){return r[e.id]})},render:function(){var e=this.getSelectedGroups(),t=this.getQuestions(),n=this.getFilteredQuestions(t),o=this.getFilteredGroups(e,n),l=o.map(function(e){return e.id}),u=e.length,c=t.length,d=n.length,p=o.length;return r.createElement("div",{className:"distribution-results__action-bar"},r.createElement("div",{className:"pure-u-1-2 text-left"},r.createElement(a,{groups:this.props.groups,selection:this.props.selectedGroupIds,onChange:this.updateGroupSelection}),e.length>0&&this.renderClearFilters()),r.createElement("div",{className:"pure-u-1-2 text-right"},r.createElement("span",{className:"margin-r-m"},r.createElement(s,{numSelectedGroups:u,numQuestions:c,numFilteredQuestions:d,numFilteredGroups:p})),r.createElement(i,{selectedGroupIds:l})))},renderClearFilters:function(){return r.createElement(o,{onClick:this.clearGroupSelection,className:"btn--reset upcase bold blue x-small margin-l-s",children:I18n.t("Clear Filters")})},updateGroupSelection:function(e){l.setActiveGroups(e)},clearGroupSelection:function(){l.setActiveGroups([])}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(91),s=n(155),i=s.AGGREGATE_GROUP_ID,o=n(651),l=n(3),u=l.dataModel,c=l.string,d=l.arrayOf,p=l.func,f=r.createClass({displayName:"GroupPicker",propTypes:{selection:d(c),groups:u(n(582)),onChange:p},getDefaultProps:function(){return{groups:[],selection:[]}},render:function(){var e=this.props.selection,t=this.getRealGroups(),n=0===e.length||e.indexOf(i)>-1,s=t.length===e.filter(function(e){return e!==i}).length;return r.createElement("div",{className:"group-picker"},r.createElement("div",{className:"group-picker__header"},r.createElement(a,{children:I18n.t("View Aggregate"),checked:n,value:i,onChange:this.changeSelection,className:"checkbox--white-fill upcase"})),r.createElement("hr",{className:"margin-tb-m"}),r.createElement("div",null,r.createElement(a,{ref:"trigger",onChange:this.toggleGroupSelection,checked:s,disabled:0===t.length,children:I18n.t("All Groups"),className:"checkbox--white-fill upcase"}),r.createElement("ul",{role:"listbox",className:"group-picker__groups"},t.map(this.renderGroup))))},renderGroup:function(e){var t=this.props.selection.some(function(t){return t===e.id});return r.createElement("li",{key:e.id,className:"group-picker__group"},r.createElement(a,{value:e.id,checked:t,onChange:this.changeSelection,children:e.name,color:e.color,className:"group-picker__group-checkbox"}))},changeSelection:function(e){var t=e.target.value,n=e.target.checked,r=[].concat(this.props.selection),a=r.indexOf(t);n&&a===-1?(r.push(t),this.emitChange(r)):n||a===-1||(r.splice(a,1),this.emitChange(r))},emitChange:function(e){this.props.onChange&&this.props.onChange(e)},toggleGroupSelection:function(){var e,t=this.props.selection.indexOf(i)>-1||0===this.props.selection.length,n=o(this.getRealGroups(),"id"),r=this.props.selection.filter(function(e){return e!==i});e=r.sort().join("")!==n.sort().join("")?n:[],t&&e.unshift(i),this.emitChange(e)},getRealGroups:function(){return this.props.groups.filter(function(e){return e.id!==i})}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(18),l=n(5),u=l.Icon,c=n(27),d=n(2918),p=n(111),f=n(651),m=n(155),h=m.AGGREGATE_GROUP_ID,g=n(3),v=g.dataModel,_=g.func,y=i.createClass({displayName:"GroupPickerWithCloseButton",propTypes:{onClose:_},render:function(){return i.createElement("div",null,i.createElement(d,this.props),i.createElement(o,{className:"group-picker__close-popup-btn btn--reset",onClick:this.props.onClose},i.createElement(c,null,I18n.t("Close popup")),i.createElement(u,{className:"gs-x gs-1x"})))}}),b=i.createClass({displayName:"GroupPickerPopup",propTypes:{onChange:_,groups:v(n(582))},componentDidMount:function(){this.hasToggledSelectionYet=!1},render:function(){var e=60,t={position:{my:"bottom left",at:"top left",effect:!1,adjust:{x:e-10,y:-12,method:"shift flipinvert"}},style:{tip:{corner:!0,mimic:"top center",offset:e,width:12,height:8}},hide:{event:"unfocus"}};return i.createElement(p,(0,s.default)({ref:"popup",popupClassName:"group-picker__popup",popupOptions:t,content:y,onClose:this.closePopup,onPopupOpen:this.toggleSelectionForTheFirstTime,autoFocus:".group-picker__close-popup-btn"},this.props),i.createElement(o,{className:"btn dark filled upcase",children:I18n.t("Compare")}))},closePopup:function(){this.refs.popup.close()},toggleSelectionForTheFirstTime:function(){this.hasToggledSelectionYet||(this.hasToggledSelectionYet=!0,this.props.onChange(f(this.props.groups,"id").filter(function(e){return e!==h})))}});e.exports=b},function(e,t,n){"use strict";var r=n(1),a=n(18),s=n(757),i=n(13),o=n(19),l=n(2),u=l.array,c=r.createClass({displayName:"SelectionActions",propTypes:{selectedGroupIds:u.isRequired},render:function(){return r.createElement("span",null,r.createElement(a,{className:"btn upcase secondary",onClick:this.handleCreateCourse,disabled:0===this.props.selectedGroupIds.length},I18n.t("Build a course")))},handleCreateCourse:function(){var e=this.props.selectedGroupIds;0!==e.length&&s.createCourse(e).then(function(e){i.transitionTo("author.courses.slides",e.id)},function(){o(I18n.t("Snap! We were unable to create a course. Please try again."),{type:"error"})})}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.number,i=r.createClass({propTypes:{numQuestions:s,numSelectedGroups:s,numFilteredQuestions:s,numFilteredGroups:s},displayName:"SelectionStatus",getDefaultProps:function(){return{numQuestions:0,numSelectedGroups:0,numFilteredQuestions:0,numFilteredGroups:0}},renderGroupsAndQuestions:function(){var e=I18n.t("Question",{count:this.props.numFilteredQuestions}),t=I18n.t("Group",{count:this.props.numFilteredGroups});return I18n.t("Filtered to: %{numQuestions} / %{numGroups}",{numQuestions:e,numGroups:t})},renderQuestions:function(){var e=this.props,t=e.numQuestions,n=e.numFilteredQuestions;return n<t?I18n.t("Filtered to: %{count}/%{total} Questions",{count:n,total:t}):I18n.t("All %{count} Questions",{count:t})},render:function(){return this.props.numQuestions?r.createElement("span",{className:"small"},this.props.numSelectedGroups?this.renderGroupsAndQuestions():this.renderQuestions()):r.createElement("span",{className:"small"})}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(6),l=n(50),u=l.Table,c=l.Thead,d=l.Tbody,p=l.Tr,f=l.Th,m=l.Td,h=n(5),g=h.Icon,v=n(133),_=n(124),y=n(114),b=n(155),E=b.AGGREGATE_GROUP_ID,C=n(323),I=n(2),T=I.arrayOf,N=I.shape,S=I.string,x=I.number,A=I.object,k=i.createClass({displayName:"ParticipantsList",propTypes:{groups:T(N({id:S,name:S,completedCount:x,recipientsCount:x})),distribution:N({id:S}),media:A},getDefaultProps:function(){return{groups:[],distribution:{}}},renderRows:function(e){var t=this;return e=e.filter(function(e){return e.id!==E}),e.map(function(e){var n=e.completedCount,r=e.recipientsCount;return i.createElement(p,{key:e.id},i.createElement(m,{key:e.id+"_name",className:"survey-results-participants__title"},i.createElement(_,(0,s.default)({},e,{className:"left margin-r-s"})),e.name),i.createElement(m,{key:e.id+"_progress",className:"survey-results-participants__progress"},n===r&&i.createElement("span",null,i.createElement(g,{className:"gs-check-circle survey-results-participants__icon"}),I18n.t("Completed")),n<r&&i.createElement("span",null,i.createElement("span",{dangerouslySetInnerHTML:{__html:t.buildDonutChart(n,r)}}),I18n.t("%{completed}/%{total} completed",{completed:n,total:r}))))})},buildDonutChart:function(e,t){var n=t>0?e/t:0,r=64-parseInt(64*n,10),a=24,s='\n      <svg\n        class="survey-results-participants__donut"\n        style="width: '+C(a)+"; height: "+C(a)+'"\n        viewBox="0 0 '+a+" "+a+'"\n        preserveAspectRatio="xMidYMid meet"\n      >\n        <g>\n          <circle r="10" cy="12" cx="12" fill="none"\n            class="survey-results-participants__donut--grey"\n          />\n          <circle r="10" cy="12" cx="12" fill="none"\n            class="survey-results-participants__donut--blue"\n            stroke-dasharray="64"\n            stroke-dashoffset="'+r+'"\n          />\n        </g>\n      </svg>';return s},render:function(){var e=o({"btn right secondary":!0}),t={id:"SurveyResultsReport",survey_distribution_id:this.props.distribution.id},n=!(this.props.media.mobile||y.isMobile());return i.createElement("div",{className:"layout--list__content"},i.createElement("div",{className:"survey-results-participants"},i.createElement("div",{className:"survey-results-participants__header"},i.createElement("h2",{className:"left"},I18n.t("Participants")),n&&i.createElement(v,{className:e,type:"report",info:t,children:I18n.t("Export CSV"),capybara:"export_participants"})),i.createElement(u,{className:"survey-results-participants__table"},i.createElement(c,{className:"survey-results-participants__thead"},i.createElement(p,null,i.createElement(f,{key:"name",sortable:!1},I18n.t("Name")),i.createElement(f,{key:"progress",sortable:!1}))),i.createElement(d,null,this.renderRows(this.props.groups)))))}});e.exports=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(102),o=r(i),l=n(54),u=r(l),c=n(13),d=r(c),p=n(2917),f=r(p),m=n(2924),h=r(m),g=n(2922),v=r(g),_=n(597),y=r(_),b=n(189),E=r(b),C=n(94),I=r(C),T=n(107),N=r(T),S=n(19),x=r(S),A=n(244),k=r(A),w=n(2),R=w.bool,O=w.array,P=w.shape,L=w.string,M=w.number,D=w.object,U=s.default.createClass({
displayName:"ResultsView",propTypes:{canMessage:R,questions:O,groups:O,selectedGroupIds:O,plottableResults:O,survey:k.default,distribution:P({id:L,title:L}),media:D,maximumVisibilityThreshold:M,inspectedQuestionId:L},getDefaultProps:function(){return{questions:[],groups:[],selectedGroupIds:[],plottableResults:[],survey:{},media:{},distribution:{}}},messageFilters:function(){var e=this.props.distribution,t=e.recipientsCount,n=e.responsesCount,r=t-n;return[{value:"",label:I18n.t("Everyone (%{count})",{count:t}),count:t},{value:"not_finished",label:I18n.t("Not Finished (%{count})",{count:r}),count:r},{value:"finished",label:I18n.t("Finished (%{count})",{count:n}),count:n}]},notificationsEnabled:function(){return N.default.get("notifications")},renderMessageButton:function(){var e=this.props.survey,t=""!==e.title?e.title:I18n.t("Untitled Survey");return s.default.createElement(I.default,null,s.default.createElement(I.default.Trigger,null,s.default.createElement(E.default,{anchor:"topRight",round:!0,wrapperClassName:"margin-t-xs left",triggerClassName:"btn round-button-set__button",recipientType:"survey_distribution",recipientName:t,recipientId:this.props.distribution.id,filters:this.messageFilters(),onMessageSend:x.default,onMessageFail:function(e){return(0,x.default)(e,{type:"error"})}})),s.default.createElement(I.default.Content,{dark:!0},s.default.createElement("p",{className:"semi-bold x-small"},I18n.t("Message Participants"))))},render:function(){return s.default.createElement("div",null,this.props.survey.id&&s.default.createElement(o.default,{type:"distribution-results",hasIcon:!1},s.default.createElement(u.default,{name:"layout--item-header__breadcrumb"},s.default.createElement(d.default,{to:"react.author.survey",params:[{surveyId:this.props.survey.id}],className:"no-link-style dark-grey",children:I18n.t("Back to %{survey}",{survey:this.props.survey.title||I18n.t("Untitled Survey")})})),s.default.createElement(u.default,{name:"layout--item-header__details"},this.props.distribution.id&&s.default.createElement("div",null,s.default.createElement("h1",{className:"x-large indigo margin-none"},this.props.distribution.title||I18n.t("Untitled Distribution")),s.default.createElement(y.default,this.props.distribution))),this.props.survey.directMessagingEnabled&&this.props.canMessage&&s.default.createElement(u.default,{name:"layout--item-header__actions"},s.default.createElement("span",{className:"right round-button-set"},this.notificationsEnabled()&&this.renderMessageButton()))),s.default.createElement("div",{className:"large-content-area centered padding-t-xl padding-rl-m"},s.default.createElement("h2",null,I18n.t("Survey Results")),s.default.createElement(f.default,{groups:this.props.groups,selectedGroupIds:this.props.selectedGroupIds,maximumVisibilityThreshold:this.props.maximumVisibilityThreshold,plottableResults:this.props.plottableResults})),s.default.createElement(h.default,{width:"auto",inspectedQuestionId:this.props.inspectedQuestionId,maximumVisibilityThreshold:this.props.maximumVisibilityThreshold,groups:this.props.groups,plottableResults:this.props.plottableResults}),s.default.createElement(v.default,{groups:this.props.groups,distribution:this.props.distribution,media:this.props.media}))},changeGroupSelection:function(e){this.updateQuery({selectedGroupIds:e})}});e.exports=U},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(23),o=r(i),l=n(56),u=n(75),c=n(544),d=n(770),p=r(d),f=n(142),m=r(f),h=n(771),g=r(h),v=n(2926),_=r(v),y=n(2925),b=r(y),E=n(2934),C=r(E),I=n(2931),T=r(I),N=n(2927),S=r(N),x=n(2930),A=r(x),k=n(2928),w=r(k),R=n(2929),O=r(R),P=n(757),L=r(P),M=n(197),D=r(M),U=n(651),F=r(U),q=n(155),B=n(3),j=(0,p.default)(s.default.createClass({displayName:"ScoreChart",propTypes:{maximumVisibilityThreshold:B.number,inspectedQuestionId:B.string,groups:(0,B.dataModel)(n(582)),width:B.number},getDefaultProps:function(){return{groups:[],plottableResults:[],width:640,maximumVisibilityThreshold:q.INITIAL_SLIDER_VALUE,inspectedQuestionId:null}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){return s.default.createElement("div",{className:"margin-trb-m margin-l-xs distribution-results__score-chart-container"},s.default.createElement("svg",{ref:"svg",className:"distribution-results__score-chart"}))},getSVGNode:function(){return o.default.findDOMNode(this.refs.svg)},create:function(e,t){var n=(0,l.select)(e),r=n.append("g"),a=this.x=(0,u.scaleLinear)().domain([0,100]).range([0,0]),s=this.y=(0,u.scalePoint)();return this.grid=new S.default({x:a,y:s},r),this.ruler=new A.default({},r),this.slider=new T.default({onChange:this.setScoreFilter,value:t.maximumVisibilityThreshold},r),this.inspector=new O.default({},r),this.hRuler=new w.default({},r),this.circles=new _.default({x:a,y:s},r),this.circleInspector=new g.default({renderer:this.renderCircleTooltipContent,className:"likert-chart__tooltip"}),this.yAxis=new C.default({y:s,onClick:this.toggleQuestionDetails},r),this.update(n,t),n},update:function(e,t){var n=this.x,r=this.y,a=t.maximumVisibilityThreshold,s=this.getData(t),i=this.calculateWidth(t),o=this.calculateHeight(t,s);this.resizeCanvas(e,t,s),this.updateLayout(),n.range([0,i]),r.domain(s.map(function(e){return e.questionId})).range([0,o-q.SLIDER_H]),this.yAxis.setProps({values:s.map(function(e){return e.questionPosition}),placeholders:s.map(function(e){return e.placeholder}),filtered:s.map(function(e){return e.minScore>a})}),this.slider.setProps({height:q.SLIDER_H,width:i,value:a}),this.grid.setProps({width:i,height:r.range()[1],placeholders:[]}),this.circles.setProps({data:s,colors:(0,F.default)(t.groups,"id","color"),radius:q.CIRCLE_RADIUS,maximumVisibilityThreshold:a}),this.ruler.setProps({width:i,height:r.range()[1],value:a}),this.circleInspector.setProps({selection:this.circles.parentNode.selectAll("circle"),adjustX:q.CIRCLE_RADIUS}),t.inspectedQuestionId?(this.showInspectionElements(),this.updateInspectionElements(t,{y:r,width:i,data:s})):this.hideInspectionElements(),this.setState(t)},remove:function(){m.default.remove(this.circleInspector),p.default.remove.call(this)},resizeCanvas:function(e,t,n){var r=this.calculateWidth(t,!1),a=this.calculateHeight(t,n),s=this.getOffsetTop(),i=this.getOffsetBottom();e.attr("width",r).attr("height",a+s+i)},updateLayout:function(){var e=this.getOffsetLeft(),t=this.getOffsetTop();this.slider.parentNode.attr("transform","translate("+e+", "+q.CAPTION_H+")"),this.grid.parentNode.attr("transform","translate("+e+", "+t+")"),this.yAxis.parentNode.attr("transform","translate("+q.INSPECTOR_PADDING+", "+t+")"),this.circles.parentNode.attr("transform","translate("+e+", "+t+")"),this.ruler.parentNode.attr("transform","translate("+e+", "+t+")"),this.inspector.parentNode.attr("transform","translate(0, "+t+")"),this.hRuler.parentNode.attr("transform","translate("+e+", "+t+")")},showInspectionElements:function(){[this.inspector,this.hRuler].forEach(function(e){e.parentNode.attr("display",null)})},updateInspectionElements:function(e,t){var n=t.data,r=t.y,a=t.width,s=e.inspectedQuestionId,i=this.getOffsetTop(),o=this.getOffsetLeft(),l=(0,D.default)(n,"questionId",s),u=n.indexOf(l),c=i+r(s)+q.INSPECTOR_ADJUST_TOP;this.inspector.parentNode.attr("transform","translate(0, "+c+")"),this.inspector.setProps({text:l.questionText||"",position:u,width:a+o-q.INSPECTOR_BORDER_THICKNESS/2,height:q.ROW_H+q.ROW_H}),this.hRuler.setProps({width:a-q.INSPECTOR_BORDER_THICKNESS}),this.hRuler.parentNode.attr("y1",r(s)).attr("y2",r(s)+1),this.grid.setProps({placeholders:[u+1]})},hideInspectionElements:function(){[this.inspector,this.hRuler].forEach(function(e){e.parentNode.attr("display","none")})},setScoreFilter:function(e,t){this.isMounted()&&(t?e!==this.state.maximumVisibilityThreshold&&L.default.setMaximumVisibilityThreshold(e):this.ruler.setProps({width:this.calculateWidth(this.state),value:e}))},getOffsetTop:function(){return q.SLIDER_H+q.CAPTION_H},getOffsetRight:function(){return 2*q.CIRCLE_RADIUS+q.INSPECTOR_BORDER_THICKNESS},getOffsetBottom:function(){return 2*q.CIRCLE_RADIUS},getOffsetLeft:function(){return q.Y_AXIS_W+q.INSPECTOR_PADDING},getData:function(e){return e.plottableResults},calculateWidth:function(e,t){var n,r=e.width;return n="auto"===r?o.default.findDOMNode(this).offsetWidth:parseInt(r,10),n=Math.min(n,q.MAX_WIDTH),t!==!1&&(n-=this.getOffsetLeft()+this.getOffsetRight()),n},calculateHeight:function(e,t){return(t.length-1)*q.ROW_H+q.SLIDER_H},toggleQuestionDetails:function(e){this.state.inspectedQuestionId===e?L.default.stopInspecting():L.default.inspect(e)},renderCircleTooltipContent:function(e){var t=(0,D.default)(this.state.groups,"id",e.groupId);return(0,c.renderToStaticMarkup)(s.default.createElement(b.default,{score:e.score,groupName:t.name,isAggregate:t.id===q.AGGREGATE_GROUP_ID,recipientsCount:t.recipientsCount}))}}));e.exports=j},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.number,i=a.string,o=a.bool,l=r.createClass({displayName:"CircleTooltip",propTypes:{score:s,recipientsCount:s,groupName:i,isAggregate:o},getDefaultProps:function(){return{recipientsCount:0}},render:function(){var e=this.props,t=e.recipientsCount,n=e.isAggregate;return r.createElement("div",{className:"text-center padding-rl-m padding-tb-s"},r.createElement("span",{className:"block x-large leading-normal bold"},Math.round(this.props.score),"%"),r.createElement("span",{className:"block x-medium leading-normal"},this.props.groupName),n?"":r.createElement("div",null,r.createElement("hr",{className:"likert-chart__tooltip-separator margin-trbl-s"}),I18n.t("learner",{count:t})))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(71),s=n(56);n(350);var i=n(6),o=r(i),l=n(142),u=r(l),c=n(197),d=r(c),p=n(3),f=n(155),m=function(e,t){var n=e.map(function(e){return Math.abs(e-t)}),r=n.indexOf((0,a.min)(n));return e[r]};t.default=(0,u.default)({displayName:"Circles",propTypes:{data:(0,p.arrayOf)((0,p.shape)({answers:(0,p.arrayOf)((0,p.shape)({questionId:p.string,score:p.number}))})),colors:(0,p.arrayOf)((0,p.shape)({id:p.string,color:p.string})),x:p.func.isRequired,y:p.func.isRequired,radius:p.number,maximumVisibilityThreshold:p.number,filteredOpacity:p.number,animeDuration:p.number},getDefaultProps:function(){return{data:[],colors:[],radius:5,animeDuration:500,maximumVisibilityThreshold:100,filteredOpacity:f.FILTERED_CIRCLE_OPACITY}},elementDidMount:function(){this.parentNode.attr("class","circles")},draw:function(){var e=this.parse(this.props.data),t=this.props,n=t.radius,r=t.x,a=t.y,i=t.animeDuration,l=t.maximumVisibilityThreshold,u=t.filteredOpacity,c=t.colors,p=function(e){return[e.questionId,e.groupId].join("")},h=function(e){return r(e.score)},g=function(e){return a(e.questionId)},v=function(e){return e.score>l?u:1},_=function(e){return n*(e.aggregate?f.AGGREGATE_CIRCLE_SCALE:1)},y=function(e){return((0,d.default)(c,"id",e.groupId)||{}).color},b=function(e){return(0,o.default)({circle:!0,"circle--aggregate":e.aggregate})},E=this.parentNode.selectAll("circle").data(e,p),C=E.enter().append("circle").attr("cx",function(e){var t=h(e),n=g(e),r=this,a=(0,s.select)(r.parentNode).selectAll("circle[cx]").nodes().filter(function(e){return e!==r&&e.cy.baseVal.value===n}).map(function(e){return e.cx.baseVal.value}),i=m(a,t);return"undefined"==typeof i?t:i}).attr("cy",g).attr("r",_).attr("class",b);C.merge(E).transition().duration(i).attr("class",b).attr("r",_).attr("cx",h).attr("cy",g).style("opacity",v).style("stroke",y),E.exit().transition().duration(i).attr("cx",function(){var t=this,n=t.cx.baseVal.value,r=t.cy.baseVal.value,a=function(n){return n!==t&&n.cy.baseVal.value===r&&e.indexOf(n.__data__)>-1},i=(0,s.select)(t.parentNode).selectAll("circle[cy]").nodes().filter(function(e){return a(e)}).map(function(e){return e.cx.baseVal.value}),o=m(i,n);return t.__willMerge__="undefined"!=typeof o&&o!==n,"undefined"==typeof o?n:o}).attr("r",function(){var e=this.__willMerge__;return delete this.__willMerge__,e?n:0}).remove()},parse:function(e){var t=function(e,t){var n=parseInt(e.questionId,10),r=parseInt(t.questionId,10);return n<r?-1:n>r?1:0};return e.reduce(function(e,t){return e.concat(t.answers)},[]).map(function(e){return e.aggregate=e.groupId===f.AGGREGATE_GROUP_ID,e}).sort(t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(258),s=n(142),i=r(s),o=n(3),l=(0,i.default)({displayName:"Grid",propTypes:{x:o.func,y:o.func,width:o.number,height:o.number,placeholders:(0,o.arrayOf)(o.number)},elementDidMount:function(){var e=this.parentNode;this.xAxis=(0,a.axisBottom)().tickFormat("").ticks(5).tickValues([0,25,50,75,100]),this.yAxis=(0,a.axisLeft)().tickFormat(""),e.attr("class","grid-lines"),this.xLines=e.append("g"),this.yLines=e.append("g")},draw:function(){var e=this.props,t=e.width,n=e.height,r=e.x,a=e.y,s=e.placeholders,i=this.xAxis,o=this.yAxis;i.scale(r).tickSize(-n,0,0),o.scale(a).ticks(a.domain().length).tickSize(-t,0,0),this.xLines.attr("transform","translate(0, "+n+")").call(i),this.yLines.call(o).selectAll(".tick").style("opacity",function(e,t){return s.indexOf(t)===-1?1:0})}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(142),s=r(a),i=n(3),o=(0,s.default)({displayName:"HRuler",propTypes:{width:i.number},getTagName:function(){return"line"},elementDidMount:function(){this.parentNode.attr("class","h-ruler")},draw:function(){this.parentNode.attr("x1",0).attr("x2",this.props.width)}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(142),s=r(a),i=n(3323),o=r(i),l=n(3),u=n(3256),c=n(155),d=50,p=10,f=20,m=c.INSPECTOR_PADDING+c.INSPECTOR_PADDING+1,h=c.INSPECTOR_PADDING+c.Y_AXIS_W,g=0,v=d+p,_=g+f+p,y=v,b=(0,s.default)({displayName:"QuestionInspector",propTypes:{width:l.number,height:l.number,text:l.string,position:l.number},elementDidMount:function(){this.parentNode.attr("class","question-inspector"),this.frame=this.parentNode.append("rect").attr("class","question-inspector__frame").attr("x",c.INSPECTOR_BORDER_THICKNESS/2).attr("y",c.INSPECTOR_BORDER_THICKNESS/2),this.textBlock=this.parentNode.append("g").attr("transform","translate("+h+", "+m+")"),this.emblem=this.textBlock.append("text").attr("dx",0).attr("dy",_).attr("width",d).attr("height",d).attr("class","gs-2x").style("font-family","getsmart-font").text(u.ICON_GS_REPORTS),this.header=this.textBlock.append("text").attr("dx",v).attr("dy",g).attr("class","question-inspector__header"),this.text=this.textBlock.append("text").attr("dx",y).attr("dy",_).attr("class","question-inspector__text")},draw:function(){var e=this.props,t=e.position;this.frame.attr("width",e.width).attr("height",e.height),this.text.text(e.text),(0,o.default)(this.text,e.width-y-100),this.header.text(I18n.t("Question %{position}",{position:t}))}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(75),s=n(142),i=r(s),o=n(3),l=(0,i.default)({displayName:"Ruler",propTypes:{width:o.number,height:o.number,value:o.number},elementDidMount:function(){this.parentNode.attr("class","ruler"),this.node=this.parentNode.append("line"),this.x=(0,a.scaleLinear)().domain([0,100]),this.rect=this.parentNode.append("rect").attr("class","ruler__shadow")},draw:function(){var e=this.props,t=e.height,n=e.width,r=e.value;this.x.range([0,n]),this.node.attr("x1",this.x(r)).attr("x2",this.x(r)+1).attr("y1",0).attr("y2",t),this.rect.attr("x",this.x(r)).attr("width",n-this.x(r)).attr("y",0).attr("height",t)}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(75),s=n(718),i=n(56),o=n(142),l=r(o),u=n(3),c=n(2932),d=r(c),p=n(2933),f=r(p),m=n(155),h=-1*(m.HANDLE_W/2+m.RULER_W-.5),g=-5,v=-1*(m.HANDLE_H/2-5),_=function(e,t){var n;return(0,s.drag)().subject(function(){return{x:e(),y:0}}).on("drag",function(){i.event.sourceEvent&&(n=i.event.x),t(n,!1)}).on("end",function(){n&&(t(n,!0),n=null)})},y=(0,l.default)({displayName:"Slider",propTypes:{onChange:u.func,width:u.number,height:u.number,value:u.number},getDefaultProps:function(){return{value:0,width:100,height:100}},elementDidMount:function(){var e,t,n=this,r=this.parentNode;r.attr("class","slider"),r.append("rect").attr("class","slider__frame").attr("x",-m.CORNER_ROUNDING_RADIUS/2).attr("y",0).attr("rx",m.CORNER_ROUNDING_RADIUS).attr("ry",m.CORNER_ROUNDING_RADIUS),r.append("rect").attr("class","slider__extent").attr("x",-m.CORNER_ROUNDING_RADIUS/2).attr("y",0).attr("rx",m.CORNER_ROUNDING_RADIUS).attr("ry",m.CORNER_ROUNDING_RADIUS),this.x=(0,a.scaleLinear)().domain([0,100]).clamp(!0),e=r.append("g").attr("class","slider__captions"),e.append("text").attr("class","slider__caption").attr("text-anchor","left").attr("x",7.5).attr("dy",v).attr("transform","translate(0, 0)").text("0%"),e.append("text").attr("class","slider__caption slider__caption--rightmost").attr("dy",v).attr("text-anchor","left").attr("transform","translate(-32.5, 0)").text("100%"),this.valueCaption=e.append("text").attr("class","slider__caption").attr("dy",v),this.currentDragOrigin=0,t=_(function(){return n.currentDragOrigin},this.emitChange.bind(this)),this.snapper=new f.default({onChange:function(e){n.emitChange(e,!0)},drag:s.drag},r),this.handle=new d.default({width:m.HANDLE_W,height:m.HANDLE_H,drag:t},r)},draw:function(){var e=this.x,t=this.props,n=t.height,r=t.width,a=t.value,s=this.parentNode;e.rangeRound([0,r]),s.selectAll(".slider__frame").attr("width",r+m.CORNER_ROUNDING_RADIUS).attr("height",n),this.snapper.setProps({width:r+m.CORNER_ROUNDING_RADIUS,height:n}),s.select("g.slider__captions").attr("width",r).select(".slider__caption--rightmost").attr("x",r),s.select(".slider__extent").attr("height",n),this.reposition(a)},reposition:function(e){var t=this.currentDragOrigin=this.x(e);this.handle.draw(),this.handle.parentNode.attr("transform","translate("+(t+h)+" "+g+")"),this.valueCaption.attr("dx",t-10).text(e+"%").transition().duration(150).style("opacity",function(){return e<10||e>90?0:1}),this.parentNode.select(".slider__extent").attr("width",t+m.CORNER_ROUNDING_RADIUS)},emitChange:function(e,t){var n;e=Math.round(e),n=Math.round(this.x.invert(e)),this.reposition(n),this.props.onChange(n,t)}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(75),s=n(142),i=r(s),o=n(3),l=[[0,0],[100,0],[100,80],[50,100],[0,80],[0,0]],u=(0,i.default)({displayName:"SliderHandle",propTypes:{drag:o.func.isRequired,width:o.number,height:o.number},getDefaultProps:function(){return{}},elementDidMount:function(){var e=this.parentNode;this.x=(0,a.scaleLinear)().domain([0,100]).range([0,0]),this.y=(0,a.scaleLinear)().domain([0,100]).range([0,0]),e.attr("class","slider__handle").call(this.props.drag),this.node=e.append("polygon")},draw:function(){var e=this.props,t=e.width,n=e.height,r=this.x,a=this.y;r.range([0,t]),a.range([0,n]),this.node.attr("points",l.map(function(e){return[r(e[0]),a(e[1])].join(",")}).join(" "))}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),s=n(142),i=r(s),o=n(3),l=(0,i.default)({displayName:"SliderSnapper",propTypes:{onChange:o.func.isRequired,drag:o.func.isRequired,width:o.number,height:o.number},getDefaultProps:function(){return{width:100,height:100}},getTagName:function(){return"rect"},elementDidMount:function(){var e=this;this.parentNode.attr("class","slider__snapper").attr("x",0).attr("y",0).on("mousedown",function(){e.snapToValue(this)}).style("fill","transparent").call(this.props.drag)},draw:function(){var e=this.props,t=e.width,n=e.height;this.parentNode.attr("width",t).attr("height",n)},snapToValue:function(e){this.props.onChange((0,a.mouse)(e)[0])}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(258),s=n(142),i=r(s),o=n(155),l=n(3),u=(0,i.default)({displayName:"YAxis",propTypes:{y:l.func,values:(0,l.arrayOf)(l.number),filtered:(0,l.arrayOf)(l.bool),placeholders:(0,l.arrayOf)(l.bool),filteredOpacity:l.number,onClick:l.func},getDefaultProps:function(){return{values:[],filtered:[],placeholders:[],filteredOpacity:o.FILTERED_QUESTION_OPACITY}},elementDidMount:function(){this.parentNode.attr("class","y-axis"),this.axis=(0,a.axisLeft)().tickSize(0)},draw:function(){var e=this.axis,t=this.props,n=t.y,r=t.filtered,a=t.placeholders,s=t.filteredOpacity,i=t.values;e.scale(n).ticks(n.domain().length).tickFormat(function(e,t){return a[t]?"":I18n.t("Q%{questionNumber}",{questionNumber:i[t]})}),this.parentNode.call(e).selectAll("text").on("click",this.emitChange.bind(this)).style("text-anchor","start").attr("class",function(e,t){return r[t]?"question-position question-position--filtered":"question-position"}).style("opacity",function(e,t){return r[t]?s:1})},emitChange:function(e){this.props.onClick&&this.props.onClick(e)}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(2923),i=n(13),o=n(19),l=n(37),u=n(1346),c=n(213),d=n(760),p=n(178),f=n(29),m=a.createClass({mixins:[l({mobile:l.QUERY_MOBILE})],displayName:"Results",getDefaultProps:function(){return{query:{groups:[]}}},propTypes:{params:r.shape({surveyId:r.string,distributionId:r.string}),query:r.shape({groups:r.arrayOf(r.string)})},fetchSurvey:function(){var e=this;c.find(this.props.params.surveyId).then(function(){e.isMounted()&&(e.fetchResults(),e.fetchDistribution())},function(t){e.isMounted()&&t&&404===t.status&&(o(I18n.t("Survey does not exist")),i.replaceWith("react.author.surveys"))})},fetchDistribution:function(){d.find(this.props.params.distributionId).then(null,this.handleErrorIfMounted)},fetchResults:function(){var e=this.props.params,t=e.surveyId,n=e.distributionId;u.fetch(t,n).then(null,this.handleErrorIfMounted)},handleErrorIfMounted:function(e){this.isMounted()&&this.handleError(e)},handleError:function(e){e&&404===e.status&&(o(I18n.t("Survey Distribution does not exist")),i.replaceWith("react.author.survey",this.props.params.surveyId))},componentWillMount:function(){this.fetchSurvey()},componentDidMount:function(){this.isMounted=function(){return!0},c.addChangeListener(this._onChange),u.addChangeListener(this._onChange)},componentWillUnmount:function(){c.removeChangeListener(this._onChange),u.removeChangeListener(this._onChange),this.isMounted=function(){return!1}},render:function(){var e=p(this.props.query.groups),t=this.props.params,n=t.surveyId,r=t.distributionId;return a.createElement("div",null,a.createElement(s,{canMessage:f("user_message_send"),selectedGroupIds:e,plottableResults:u.getPlottableResults(e),groups:u.getGroups(),survey:n&&c.get(n)||{},distribution:r&&d.get(r)||{},inspectedQuestionId:u.getInspectedQuestionId(),maximumVisibilityThreshold:u.getMaximumVisibilityThreshold(),media:this.state.media}))},_onChange:function(){this.forceUpdate()}});e.exports=m},function(e,t){"use strict";e.exports={path:"/author/surveys/:surveyId/distributions/:distributionId/results",name:"react.author.survey.distribution.results",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";var r=n(197),a=n(155),s=a.AGGREGATE_GROUP_ID,i=n(3),o=i.number,l=i.string;t.input=n(1347).input,t.output={id:l,name:l,answers:[{questionId:l,score:o}]},t.parse=function(e){var t=e.questions,n=e.groupResults,a=t.map(function(e){return{questionId:e.id,score:n.reduce(function(t,n){var a=r(n.answers,"questionId",e.id);return a?t+(a.score||0):t},0)/(n.length||1)}});return{id:s,name:I18n.t("Everyone"),answers:a}}},function(e,t,n){"use strict";var r=n(155),a=r.BLANK_QUESTION_ID;t.parse=function(e){return{questionId:""+a+(0===e?"":e),questionText:"",questionPosition:0,answers:[],avgScore:0,minScore:0,active:!0,placeholder:!0}}},function(e,t,n){"use strict";var r=n(4),a=r.assign;t.parse=function(e){return e.map(function(e){return a({},e,{id:e.id+""})})}},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/author/surveys/%@/distributions/%@/group_results",schema:n(1419)})},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(6),i=n(88),o=n(61),l=n(5),u=l.Icon,c=n(27),d=n(2),p=d.func,f=d.string,m=d.number,h=d.bool,g=r.createClass({displayName:"ListItem",mixins:[i.mixin],propTypes:{id:f,title:f,distributionsCount:m,removable:h,highlight:f,onRemove:p.isRequired},getDefaultProps:function(){return{title:"",distributionsCount:0,removable:!1,highlight:""}},getTitle:function(){var e=this.props.title||"";return e.length>0?e:I18n.t("Untitled Survey")},getIsDistributed:function(){return this.props.distributionsCount>0},render:function(){var e,t,n,i=this.isConfirmingRemoval();return e=s({"removable-item":!0,"removable-item--focused":i}),t=s({h3:!0,"margin-none":!0,unpublished:!this.getIsDistributed()}),n=s({indigo:(this.props.title||"").length>0,"dark-grey":0===(this.props.title||"").length}),r.createElement("li",null,r.createElement("div",{className:e,"data-capybara":"survey_list_item_"+this.props.id},r.createElement("div",{className:"removable-item__title--large"},r.createElement("h2",{className:t},r.createElement(a,{to:"react.author.survey",params:[{surveyId:this.props.id}],className:n},r.createElement(o,{text:this.getTitle(),highlight:this.props.highlight}))),r.createElement("ul",{className:"dark-grey light margin-none list--slashed"},r.createElement("li",null,this.getIsDistributed()&&I18n.t("Distribution",{count:this.props.distributionsCount}),!this.getIsDistributed()&&r.createElement("i",null,I18n.t("Draft; this survey has not been distributed yet"))))),i&&[r.createElement("div",{key:"text",className:"removable-item__confirm"},I18n.t("Delete Survey?")),r.createElement("div",{key:"btns",className:"removable-item__buttons"},r.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),r.createElement("button",{type:"button",className:"btn--reset pink upcase small padding-rl-s text-center",onClick:this.remove,children:I18n.t("Delete")}))],!i&&this.props.removable&&r.createElement("div",{className:"removable-item__remove"},r.createElement("button",{type:"button",onClick:this.confirmRemoval,className:"btn--reset dark-grey small"},r.createElement(c,{children:I18n.t("Delete")}),r.createElement(u,{className:"gs-x gs-1x dark-grey"})))))}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(13),l=n(54),u=n(24),c=n(97),d=n(52),p=n(438),f=n(2941),m=n(30),h=n(37),g=n(1348),v=n(2),_=v.arrayOf,y=v.shape,b=v.string,E=v.bool,C=v.oneOfType,I=function(){return[{value:"due_date",label:I18n.t("Due Date")},{value:"newest",label:I18n.t("Newest")},{value:"title",label:I18n.t("Alphabetically")}]},T=function(){return[{value:"unpublished",label:I18n.t("Unpublished")}]},N=i.createClass({displayName:"SurveysView",mixins:[h({mobile:h.QUERY_MOBILE})],propTypes:{permissions:y({survey:y({create:E,edit:E,delete:E})}),surveys:_(n(244)),query:y({sort:b,filters:C([b,_(b)])})},getDefaultProps:function(){return{permissions:{survey:{}},query:{sort:"title",filters:[]},surveys:[]}},render:function(){var e=this.props.surveys;return i.createElement(c,null,i.createElement(l,{name:"layout--list__header-text"},I18n.t("Surveys")),i.createElement(l,{name:"layout--list__after-header"},!this.state.media.mobile&&this.props.permissions.survey.create&&i.createElement("button",{onClick:this.createSurvey,className:"add-btn","data-capybara":"create-survey"},i.createElement(u,null,i.createElement(I18n.ComponentInterpolator,{string:I18n.t("+ *New Survey*"),wrappers:{"*":i.createElement("span",{className:"add-btn__text"},"$1")}},"$1")))),i.createElement("div",{className:"sortable-table-header--first-item"},i.createElement("div",{className:"left indigo"},i.createElement(d,{searchTerm:this.props.query.search,placeholderText:I18n.t("Search for surveys")})),i.createElement(p,{onChange:this.updateSortAndFilters,filterOptions:T(),activeFilters:this.props.query.filters,sortOptions:I(),activeSort:this.props.query.sort})),i.createElement("ul",{className:"survey-list bordered","data-capybara":"dc_survey_list"},0===e.length&&i.createElement("li",{key:"no-survey",className:"bold dark-grey padding-tb-m text-center"},I18n.t("There are no surveys matching this filter.")),e.map(this.renderSurvey)))},renderSurvey:function(e){return i.createElement(f,(0,s.default)({key:"survey-"+e.id,onRemove:this.removeSurvey.bind(null,e),highlight:this.props.query.search,removable:this.props.permissions.survey.delete},e))},updateSortAndFilters:function(e){m.updateQuery(e)},createSurvey:function(){g.createSurvey().then(this.redirectToSurvey)},redirectToSurvey:function(e){o.transitionTo("react.author.survey.questions",e.id)},removeSurvey:function(e){g.deleteSurvey(e)}});e.exports=N},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(1348),i=n(213),o=n(2942),l=n(29),u=n(4),c=u.assign,d=n(53);e.exports=a.createClass({displayName:"AuthorSurveys",mixins:[d(function(e){s.fetchMoreSurveys(c({sort:"title"},e.query))})],propTypes:{query:r.shape({sort:r.string})},getInitialState:function(){return this.getStateFromStores()},componentWillMount:function(){this.fetchSurveys(this.props.query)},componentWillReceiveProps:function(e){this.fetchSurveys(e.query)},fetchSurveys:function(e){e.sort=e.sort||"title",s.fetchSurveys(e)},componentDidMount:function(){i.addChangeListener(this._onChange)},componentWillUnmount:function(){i.removeChangeListener(this._onChange)},permissions:function(){return{survey:{create:l("survey_create"),edit:l("survey_update"),delete:l("survey_destroy")}}},render:function(){return a.createElement(o,{permissions:this.permissions(),surveys:this.state.surveys,query:this.props.query})},getStateFromStores:function(){var e=this.props.query;return e.sort=e.sort||"title",{surveys:i.getAll(e)}},_onChange:function(){this.setState(this.getStateFromStores())}})},function(e,t){"use strict";e.exports={path:"/author/surveys",name:"react.author.surveys",ember:{parentPath:["author"]}}},function(e,t,n){"use strict";e.exports=[{name:"react.learner.survey",path:"/learner/surveys/:distributionId",ember:!1,handler:n(758)},{name:"react.learner.survey-question",path:"/learner/surveys/:distributionId/:questionId",ember:!1,handler:n(758)}]},function(e,t,n){"use strict";var r=n(1452),a=n(2947),s=n(1349),i={fetchQuestions:function(e){return s.clear(),r.find(e).then(function(){return s.findAll(e)})},submitSurvey:function(e){return a.complete(e)},answerQuestion:function(e,t,n){return s.updateRecord(e,t,n)}};e.exports=i},function(e,t,n){"use strict";var r=n(199),a=n(162),s=n(21),i=n(7),o=n(118),l=n(68),u=l.of(n(1420)),c=function(e){return a(r,e)},d=c("/api/learner/survey/distributions/%@/submissions/complete"),p=s({displayName:"SurveySubmissionStore",schema:n(1420),initialize:function(){this.adapter=i.use([o(this.emitChange)])},isSaving:function(){return this.adapter.hasPendingRequests()},complete:function(e){var t=this;return this.adapter({url:d(e),type:"PATCH",dataType:"json"}).then(function(e){var n=e.submissions.map(u);return t.cache.add(n[0]),n[0]})}});e.exports=p},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(1351),o=n(2),l=o.number,u=o.string,c=n(58),d=r.createClass({displayName:"Description",propTypes:{hoverLabel:u,hoverLevel:l,label:u,level:l},getDefaultProps:function(){return{hoverLabel:"",hoverLevel:null,label:"",level:null}},activeCssSuffix:function(){return c(this.props.hoverLevel)?this.hasSelection()?i[this.props.level]:null:i[this.props.hoverLevel];
},activeLabel:function(){return c(this.props.hoverLevel)?this.hasSelection()?this.props.label:I18n.t("Not Rated"):this.props.hoverLabel},activeLabelClass:function(){return this.hasSelection()||!c(this.props.hoverLevel)?"likert__description__label--selected":"likert__description__label"},wrapperClassName:function(){var e="likert__description";return this.hasSelection()&&(e+=" likert__description--"+this.activeCssSuffix()),e},hasSelection:function(){return!c(this.props.level)},render:function(){return r.createElement("div",{className:this.wrapperClassName()},this.hasSelection()&&r.createElement(s,{key:"icon",className:"gs-check gs-3-4 likert__description__icon"}),r.createElement("span",{key:"label",className:this.activeLabelClass()},this.activeLabel()))}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(27),o=n(1351),l=n(6),u=n(2),c=u.bool,d=u.func,p=u.number,f=u.string,m=r.createClass({displayName:"Level",propTypes:{label:f.isRequired,level:p.isRequired,isActive:c.isRequired,scope:f.isRequired,onHoverEnd:d.isRequired,onHoverStart:d.isRequired,onSelect:d.isRequired,isSelected:c,isHovered:c},getDefaultProps:function(){return{isActive:!1,onHoverEnd:Function.prototype,onHoverStart:Function.prototype,onSelect:Function.prototype,scope:""}},handleChange:function(){this.props.isActive&&this.props.onSelect(this.props.level)},handleMouseEnter:function(){this.props.onHoverStart(this.props.level)},handleMouseLeave:function(){this.props.onHoverEnd()},render:function(){var e=l({likert__level:!0,"likert__level--selected":this.props.isSelected,"likert__level--hovered":this.props.isHovered&&!this.props.isSelected});e+=" likert__level--"+o[this.props.level];var t;return t=this.props.isSelected?r.createElement(s,{className:"gs-check"}):this.props.level+1,r.createElement("label",{className:e,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.createElement("div",{className:"likert__level__meter"}),r.createElement("div",{className:"likert__level__contents"},t),r.createElement(i,null,r.createElement("input",{tabIndex:this.isActive?"0":"-1",type:"radio",name:"level-"+this.props.scope,onChange:this.handleChange,checked:this.props.isSelected||!1}),r.createElement("span",null,this.props.label)))}});e.exports=m},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(5),i=s.Icon,o=n(27),l=n(2),u=l.func,c=l.number,d=n(37),p=n(3260),f=n(6),m=n(24),h=r.createClass({displayName:"NavigationBar",mixins:[p,d({small:d.QUERY_SMALL})],propTypes:{onNext:u,onPrevious:u,onOpenSidebar:u,currentIndex:c,totalQuestions:c},getDefaultProps:function(){return{onNext:Function.prototype,onPrevious:Function.prototype,onOpenSidebar:Function.prototype,currentIndex:0,totalQuestions:1}},progressPercent:function(){return this.props.currentIndex/this.props.totalQuestions*100},comeBackButton:function(){var e=f({"learner-survey__come-back":!0,"learner-survey__come-back--mobile":this.state.media.small,right:!0,"btn secondary":!this.state.media.small,disabled:!this.canTransition()}),t=[r.createElement(i,{key:"icon",className:"gs-x gs-1x padding-l-s"})];return this.state.media.small||t.unshift(r.createElement("span",{key:"label"},r.createElement(m,null,I18n.t("Back to My Learning")))),this.canTransition()?r.createElement(a,{to:"learner.courses",className:e,dataCapybara:"back_to_mylearning"},t):r.createElement("span",{className:e},t)},render:function(){var e=f({"learner-survey__nav__button":!0,"learner-survey__nav__button__down":!0,"learner-survey__nav__button--disabled":this.props.onPrevious===Function.prototype}),t=f({"learner-survey__nav__button":!0,"learner-survey__nav__button__up":!0,"learner-survey__nav__button--disabled":this.props.onNext===Function.prototype}),n="translate3d(-"+(100-this.progressPercent())+"%, 0, 0)",a={WebkitTransform:n,transform:n};return r.createElement("header",{className:"learner-survey__header"},r.createElement("nav",{className:"learner-survey__nav"},r.createElement("button",{className:"learner-survey__sidebar-open left padding-rl-s",onClick:this.props.onOpenSidebar},r.createElement(i,{className:"gs-arrow-right gs-1x"})),r.createElement("div",{className:"learner-survey__status"},this.props.currentIndex," / ",this.props.totalQuestions),this.comeBackButton(),r.createElement("div",{className:"learner-survey__arrows"},r.createElement("button",{className:e,onClick:this.props.onPrevious},r.createElement(i,{className:"gs-arrow-up"}),r.createElement(o,null,r.createElement(m,null,I18n.t("Previous Question")))),r.createElement("button",{className:t,onClick:this.props.onNext,"data-capybara":"advance-button"},r.createElement(i,{className:"gs-arrow-down"}),r.createElement(o,null,r.createElement(m,null,I18n.t("Next Question")))))),r.createElement("div",{className:"learner-survey__progress-bar"},r.createElement("div",{className:"learner-survey__progress-indicator brand-bg",style:a})))}});h.disabledHandler=Function.prototype,e.exports=h},function(e,t,n){"use strict";var r=n(1),a=n(2952),s=n(2),i=s.array,o=s.func,l=s.string,u=r.createClass({displayName:"QuestionList",propTypes:{currentQuestionId:l,questions:i.isRequired,onActivate:o,onAnswer:o},getDefaultProps:function(){return{questions:[],onActivate:Function.prototype,onAnswer:Function.prototype}},render:function(){var e=this;return r.createElement("ol",{className:"learner-survey__question-list"},this.props.questions.map(function(t,n){return r.createElement(a,{key:"question-"+n,isActive:t.id===e.props.currentQuestionId,question:t,onActivate:e.props.onActivate,onAnswer:e.props.onAnswer})}))}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(1352),i=n(6),o=n(2),l=o.bool,u=o.func,c=r.createClass({displayName:"QuestionListItem",propTypes:{isActive:l,onActivate:u,onAnswer:u.isRequired,question:n(463)},getDefaultProps:function(){return{isActive:!1,onActivate:Function.prototype,onAnswer:Function.prototype,question:{id:"",statement:"",answerType:""}}},activateWhenCurrent:function(){this.props.isActive&&this.props.onActivate(this)},componentDidMount:function(){this.activateWhenCurrent()},componentDidUpdate:function(e){this.props.isActive&&!e.isActive&&(a.findDOMNode(this).scrollTop=0),this.activateWhenCurrent()},render:function(){var e=i({"learner-survey__question-list__item":!0,"learner-survey__question-list__item--required":this.props.question.required,"learner-survey__question-list__item--active":this.props.isActive}),t=i({large:!0,"learner-survey__question-list__item__statement":!0,"learner-survey__question-list__item__statement--active":this.props.isActive});return r.createElement("li",{className:e,"data-capybara":"survey-question",onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,"data-qid":this.props.question.id},r.createElement("div",{ref:"wrapper",className:"learner-survey__question-list__item__wrapper"},r.createElement("div",{className:t},this.props.question.statement),r.createElement(s,{question:this.props.question,onAnswer:this.props.onAnswer,isActive:this.props.isActive})))},lastTouch:null,isScrolling:!1,handleTouchStart:function(e){this.lastTouch={x:e.touches[0].clientX,y:e.touches[0].clientY}},handleTouchMove:function(e){var t,n=e.touches[0],r=a.findDOMNode(this),s=n.clientY-this.lastTouch.y;t=s<0?r.offsetHeight+r.scrollTop<r.firstChild.offsetHeight-1:s>0&&r.scrollTop>0,t?this.isScrolling=!0:this.isScrolling&&e.preventDefault(),this.isScrolling&&e.stopPropagation(),this.lastTouch={x:n.clientX,y:n.clientY}},handleTouchEnd:function(){var e=this;setTimeout(function(){e.lastTouch=null,e.isScrolling=!1},100)}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(2954),o=n(6),l=n(2),u=l.array,c=l.bool,d=l.func,p=l.number,f=r.createClass({displayName:"SideBar",propTypes:{questions:u.isRequired,isOpen:c,onSelectQuestion:d,onCloseSidebar:d,currentIndex:p,totalQuestions:p},getDefaultProps:function(){return{questions:[],onSelectQuestion:Function.prototype,onCloseSidebar:Function.prototype,isOpen:!1,currentIndex:0,totalQuestions:0}},render:function(){var e=this,t=o({"learner-survey__side-bar":!0,"learner-survey__side-bar--open":this.props.isOpen});return r.createElement("div",{className:t},r.createElement("div",{className:"learner-survey__side-bar__header"},r.createElement("div",{className:"learner-survey__status learner-survey__status--side-bar"},this.props.currentIndex," / ",this.props.totalQuestions),r.createElement("button",{onClick:this.props.onCloseSidebar,className:"learner-survey__side-bar__close"},r.createElement(s,{className:"gs-arrow-left gs-1x "}))),r.createElement("ol",{className:"learner-survey__side-bar__question-list"},this.props.questions.map(function(t){return r.createElement(i,{key:t.id,question:t,onSelectQuestion:e.props.onSelectQuestion})})))}});e.exports=f},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(2),o=i.bool,l=i.func,u=i.shape,c=i.string,d=r.createClass({displayName:"SideBarItem",propTypes:{onSelectQuestion:l,question:u({statement:c,required:o})},handleQuestionSelect:function(){this.props.onSelectQuestion(this.props.question)},responseCheckbox:function(){return this.props.question.response?r.createElement(s,{className:"gs-check gs-1x learner-survey__side-bar__question-list-item__responded"}):null},requiredIndicator:function(){return this.props.question.required?r.createElement("span",{className:"learner-survey__side-bar__question-list-item__required"},"*"):null},render:function(){return r.createElement("li",{className:"learner-survey__side-bar__question-list-item",onClick:this.handleQuestionSelect},this.responseCheckbox(),this.requiredIndicator(),this.props.question.statement)}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(6),i=n(2),o=i.bool,l=i.func,u=r.createClass({displayName:"Finished",propTypes:{isActive:o,onSubmit:l.isRequired},getDefaultProps:function(){return{isActive:!1,onSubmit:Function.prototype}},render:function(){var e=s({"learner-survey__submit":!0,"learner-survey__submit--active":this.props.isActive});return r.createElement("div",{className:e},r.createElement("h2",null,r.createElement(a,null,I18n.t("Thanks.")),r.createElement("br",null),r.createElement(a,null,I18n.t("We appreciate the feedback."))),r.createElement("div",null,r.createElement("button",{className:"btn primary filled brand-bg brand-border",disabled:!this.props.isActive,onClick:this.handleClick,"data-capybara":"submit-button"},r.createElement(a,null,I18n.t("Submit")))))},handleClick:function(e){return this.props.isActive?void this.props.onSubmit():void e.stopPropagation()}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(24),s=n(6),i=n(2),o=i.bool,l=i.func,u=i.number,c=r.createClass({displayName:"Unfinished",propTypes:{isActive:o,onShowRequired:l.isRequired,unansweredQuestionCount:u.isRequired},getDefaultProps:function(){return{isActive:!1,onShowRequired:Function.prototype}},render:function(){var e=s({"learner-survey__submit":!0,"learner-survey__submit--active":this.props.isActive,"learner-survey__submit--unfinished":!0}),t=I18n.t({one:"There is 1 required question that needs a response in order to submit.",other:"There are %{count} required questions that need responses in order to submit."},{count:this.props.unansweredQuestionCount});return r.createElement("div",{className:e},r.createElement("h2",{className:"margin-none"},r.createElement(a,null,I18n.t("Oops, looks like you skipped a few required questions."))),r.createElement("p",{className:"margin-tb-m dark-grey"},t),r.createElement("div",null,r.createElement("button",{className:"btn alert btn-margin-r margin-b-s",disabled:!this.props.isActive,onClick:this.handleClick},r.createElement(a,null,I18n.t("Show Me"))),r.createElement("button",{className:"btn secondary filled brand-bg brand-border",disabled:!0},r.createElement(a,null,I18n.t("Submit")))))},handleClick:function(e){return this.props.isActive?void this.props.onShowRequired():void e.stopPropagation()}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(2951),i=n(1353),o=n(2958),l=n(6),u=n(62),c=n(2),d=c.array,p=c.bool,f=c.func,m=c.number,h=c.shape,g=c.string,v=n(4),_=v.debounce,y=r.createClass({displayName:"SurveyContent",propTypes:{currentQuestionId:g,distribution:h({id:g,title:g}),questions:d,scrollLockTimeout:m,showSubmit:p,touchMoveThreshold:m,onAnswer:f,onNext:f,onShowRequired:f.isRequired,onSubmit:f.isRequired,onPrevious:f,unansweredQuestionCount:m},getDefaultProps:function(){return{distribution:{id:"",title:""},questions:[],scrollLockTimeout:300,touchMoveThreshold:60,onNext:Function.prototype,onPrevious:Function.prototype}},getInitialState:function(){return{isSidebarOpen:!1}},scrollLock:{},unlockScrollLater:function(e){for(var t=this,n=e.target,r=e.deltaY<0?"up":"down";!n.getAttribute("data-qid")&&!n.getAttribute("data-top");)n=n.parentNode;if(!n)return!1;var a=(n&&n.getAttribute("data-qid")||"top")+r,s=!!this.scrollLock[a];return clearTimeout(this.scrollLock[a]),this.scrollLock[a]=window.setTimeout(function(){delete t.scrollLock[a]},this.props.scrollLockTimeout),s},handleScroll:function(e){e.preventDefault(),this.unlockScrollLater(e)||(e.deltaY<0?this.props.onPrevious():this.props.onNext())},touch:{x:null,y:null},handleTouchStart:function(e){this.touch.x=e.changedTouches[0].clientX,this.touch.y=e.changedTouches[0].clientY},handleTouchMove:function(e){e.preventDefault();var t=e.changedTouches[0].clientY-this.touch.y;if(Math.abs(t)>this.props.touchMoveThreshold){if(this.unlockScrollLater(e))return;t>0?this.props.onPrevious():this.props.onNext()}},activeComponent:null,scrollToActive:function(e){if(e){var t=a.findDOMNode(this.refs.survey);if(t){var n=a.findDOMNode(e),r=window.innerHeight/4,s="translate3d(0, -"+(n.offsetTop-r)+"px, 0)";t.style.WebkitTransform=s,t.style.transform=s,this.activeComponent=e}}},rescrollToActive:_(function(){this.scrollToActive(this.activeComponent)},250),componentDidMount:function(){window.addEventListener("resize",this.rescrollToActive,!1)},componentWillUnmount:function(){window.removeEventListener("resize",this.rescrollToActive,!1)},render:function(){var e=l({"learner-survey":!0,"pure-u-16-24":!0,"learner-survey--sidebar-open":this.state.isSidebarOpen}),t=u.getLogoUrl(!0),n=l("brand-logo survey","brand-logo--placeholder",u.getLogoClass(!0));return r.createElement("div",{className:"learner-survey__content pure-g-r","data-top":"true"},r.createElement("div",{className:"pure-u-4-24"}),r.createElement("div",{className:e,ref:"survey",onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onWheel:this.handleScroll},r.createElement("div",null,r.createElement(o,{ref:"welcome",disabled:0===this.props.questions.length,onStart:this.props.onNext,title:this.props.distribution.title}),r.createElement(s,{questions:this.props.questions,currentQuestionId:this.props.currentQuestionId,onActivate:this.scrollToActive,onAnswer:this.props.onAnswer}),r.createElement(i,{isActive:this.props.showSubmit,onActivate:this.scrollToActive,onShowRequired:this.props.onShowRequired,onSubmit:this.props.onSubmit,unansweredQuestionCount:this.props.unansweredQuestionCount}))),r.createElement("div",{className:"pure-u-4-24"}),!!t&&!this.props.currentQuestionId&&r.createElement("span",{className:n},r.createElement("img",{src:t,alt:u.getName(),onLoad:u.handleLogoLoaded.bind(u,!0)})))}});e.exports=y},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(24),i=n(2),o=i.bool,l=i.func,u=i.string,c=r.createClass({displayName:"Welcome",propTypes:{disabled:o,title:u,onStart:l.isRequired},getDefaultProps:function(){return{disabled:!0,title:"",onStart:Function.prototype}},handleClick:function(){this.props.disabled||this.props.onStart()},title:function e(){var e=this.props.title;return!e||e.match(/^\s*$/)?r.createElement(s,null,I18n.t("Untitled Survey")):e},render:function(){var e=a({"btn btn-primary filled brand-bg brand-border":!0,disabled:this.props.disabled});return r.createElement("div",{className:"learner-survey__welcome"},r.createElement("div",{className:"learner-survey__welcome__content"},r.createElement("h1",{className:"h2"},this.title()),r.createElement("div",{className:"x-medium dark-grey"},r.createElement("p",null,r.createElement(s,null,I18n.t("All responses are submitted anonymously.")))),r.createElement("div",{className:"margin-t-l"},r.createElement("button",{className:e,onClick:this.handleClick,"data-capybara":"get-started-button"},r.createElement(s,null,I18n.t("Get Started"))))))}});e.exports=c},function(e,t,n){"use strict";var r=n(1),a=n(186),s=n(4),i=s.assign,o="submit";e.exports=function(e){e.Preview=a.addScreen("survey",function(){return I18n.t("Survey")},r.createClass({displayName:"Preview",getInitialState:function(){return{currentQuestionId:"4",responses:{}}},getQuestionsWithResponses:function(){var e=["I'ma let you finish, but Beyonc had one of the best videos of all time","Bacon is better than ice cream","Kirk could totally beat Picard in a fistfight",I18n.t("I rarely think about looking for a job at another company"),"Britta is the worst","I can't stop thinking about ninjas. These guys are cool; and by cool, I mean totally sweet"].map(function(e,t){return{id:""+(t+1),statement:e,answer_type:"agreement"}}),t=this.state.responses;return e.map(function(e){return i({},e,{response:t[e.id]})})},onAnswer:function(e,t){var n=i({},this.state.responses);n[e.id]={answer:""+t},this.setState({responses:n})},onSelectQuestion:function(e){var t=e?e.id:o;this.setState({currentQuestionId:t})},render:function(){return r.createElement(e,{questions:this.getQuestionsWithResponses(),currentQuestionId:this.state.currentQuestionId,distribution:{id:"1",title:I18n.t("My Survey")},onAnswer:this.onAnswer,onSelectQuestion:this.onSelectQuestion})}}))}},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(82),o=n(1355),l=n(299),u=n(1350),c=n(264),d=n(30),p=n(6),f=n(162),m=n(2),h=m.string,g=m.shape,v=m.func,_=m.bool,y=m.object,b=r.createClass({displayName:"HeaderBar",propTypes:{onToggleVisibility:v.isRequired,onClickPreview:v.isRequired,onClickResponsivePicker:v.isRequired,isCollapsed:_,survey:g({id:h,title:h}),question:g({id:h}),renderAllButtons:_,permissions:y,activeResponsiveState:h,media:g({desktop:_,tablet:_,mobile:_})},getDefaultProps:function(){return{activeResponsiveState:"default",isCollapsed:!1,survey:{},question:{}}},renderButtons:function(){return this.props.renderAllButtons?r.createElement(o,{className:"survey-header-actions",survey:this.props.survey,question:this.props.question,permissions:this.props.permissions,media:this.props.media,handleClickPreview:this.props.onClickPreview,handleDuplicate:this.handleDuplicate,dark:!0}):r.createElement("span",{className:"authoring-heading__preview-button","data-capybara":"survey_preview_toggle_off"},r.createElement(l,{active:!0,onClick:this.props.onClickPreview}))},renderPickerButton:function(e){var t=this.props.media[e],n=this.props.activeResponsiveState,a=p({"gs-phone-portrait":"mobile"===e,"gs-tablet":"tablet"===e,"gs-desktop":"desktop"===e,"gs-2x":"desktop"===e}),i=p({"btn--reset":!0,active:n&&n===e||t&&"default"===n});return i=i+"  "+e,r.createElement("li",{key:e},r.createElement("button",{onClick:f(this.props.onClickResponsivePicker,t?"default":e),className:i},r.createElement(s,{className:a})))},renderResponsivePicker:function(){if(this.props.media.mobile)return null;var e=["tablet","mobile"];return this.props.media.desktop&&e.unshift("desktop"),r.createElement("ul",{className:"survey-preview-responsive-picker"},e.map(this.renderPickerButton))},render:function(){return this.props.isCollapsed?r.createElement("div",{className:"authoring-heading authoring-heading--collapsed white padding-t-xs padding-rl-s shadow border-none"},r.createElement(i,{className:"right",buttonClassName:"authoring-heading__menu-button","data-capybara":"preview_header_show",onClick:this.props.onToggleVisibility,label:I18n.t("Show"),icon:"show-menu",iconClassName:"gs-half white"})):r.createElement("div",{className:"authoring-heading white padding-t-s padding-l-m shadow border-none"},r.createElement(i,{className:"right",buttonClassName:"authoring-heading__menu-button margin-l-m","data-capybara":"preview_header_hide",onClick:this.props.onToggleVisibility,label:I18n.t("Hide"),icon:"hide-menu",iconClassName:"gs-half white"}),r.createElement(u,{survey:this.props.survey,isEditable:!1,onChange:this.handleChangeTitle}),r.createElement("span",{className:"authoring-heading__save-status authoring-heading__save-status--preview"},I18n.t("Previewing")),this.renderButtons(),this.renderResponsivePicker())},handleDuplicate:function(){c.duplicateSurvey(this.props.survey).then(this.redirectToSurvey)},redirectToSurvey:function(e){d.transitionTo("react.author.survey.questions",{surveyId:e.id})}});e.exports=b},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(54),i=n(97),o=n(646),l=n(24),u=n(240),c=a.createClass({displayName:"Item",propTypes:{children:r.any},render:function(){return a.createElement("div",{className:"padding-tb-m"},this.props.children)}}),d=a.createClass({displayName:"Help",propTypes:{children:r.any},render:function(){return a.createElement("div",{className:"light"},this.props.children)}}),p=a.createClass({displayName:"UberHax",mixins:[u("UberHax")],componentDidMount:function(){o.addChangeListener(this.reload)},componentWillUnmount:function(){o.removeChangeListener(this.reload)},render:function(){return a.createElement(i,null,a.createElement(s,{name:"layout--list__header-text"},a.createElement(l,null,I18n.t("Uber hax"))),this.renderallthethings())},renderallthethings:function(){return a.createElement("form",{className:"uber-hax"},a.createElement(c,null,a.createElement("label",null,a.createElement("div",{className:"label"},"Forced XHR Latency (ms)"),a.createElement("p",{className:"margin-tb-xs"},a.createElement("input",{type:"number",onChange:this.setFakeXHRLatency,value:o.getFakeXHRLatency(),placeholder:"500"})),a.createElement(d,null,a.createElement("p",null,"Setting this number will cause all ajax requests to show a delay equal to the number of milliseconds you specify."),a.createElement("p",null,'This helps in simulating a "laggy" user experience.')))),a.createElement(c,null,a.createElement("label",null,a.createElement("div",{className:"label"},"Presence Checking Frequency (ms)"),a.createElement("p",{className:"margin-tb-xs"},a.createElement("input",{type:"number",onChange:this.setPresenceSchedulerInterval,value:o.getPresenceSchedulerInterval()})),a.createElement(d,null,a.createElement("p",null,"Adjust the number of milliseconds to wait for checking the presence of other authors that are editing resources like a course or a program."),a.createElement("p",null,"This helps avoid /yawns while testing presence functionality.")))))},reload:function(){this.forceUpdate()},setFakeXHRLatency:function(e){o.setFakeXHRLatency(parseInt(e.target.value,10))},setPresenceSchedulerInterval:function(e){o.setPresenceSchedulerInterval(parseInt(e.target.value,10))}});e.exports=p},function(e,t,n){"use strict";e.exports=void 0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return u.default.fetchAll(e)}function s(e){if(!(0,p.get)(e,"learnable.requiresEvidence"))return null;var t={id:e.learnable.id,learnerId:e.learner.id};return d.default.clearCompletedPending(t),d.default.fetchAll(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1444),o=r(i),l=n(1443),u=r(l),c=n(318),d=r(c),p=n(4),f=n(25),m=r(f),h={update:function(e,t){return o.default.update(e.id,t).then(function(t){return m.default.all([a(e.id),s(e)]).then(function(){return t})})}};t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(645),s=r(a),i=n(248),o=r(i),l={unenroll:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];return s.default.unenroll.apply(s.default,t).then(function(){return o.default.fetch(r)})}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(3),o=n(50),l=r(o),u=n(55),c=r(u),d=n(94),p=r(d),f=n(2967),m=r(f),h=n(596),g=r(h),v=n(2968),_=r(v),y=n(2966),b=r(y),E=n(6),C=r(E),I=l.default.Tr,T=l.default.Td,N=s.default.createClass({displayName:"AffiliatedSubAccount",propTypes:{account:n(156).isRequired,canShare:i.bool,onChange:i.func.isRequired,learnableHasItems:i.bool,hasSharedContent:i.bool,isReadOnly:i.bool},render:function(){var e=this.props.account,t=(0,C.default)({"enrollment-list-item--archived":this.props.isReadOnly});return s.default.createElement(I,{key:e.id,className:t},s.default.createElement(T,{className:"enrollment-list-item__affiliate-name"},e.name),s.default.createElement(T,{className:"text-center enrollment-list-item__affiliate-count"},e.userCount),s.default.createElement(T,{className:"text-center enrollment-list-item__affiliate-access"},this.renderAccess()))},renderAccess:function(){var e=this.props,t=e.account,n=e.hasSharedContent;if(!this.props.canShare||this.props.isReadOnly)return this.renderAffiliatedStatus();if(n){var r=I18n.t("This item contains content from a sub account.");return this.renderDisabledToggle(r)}if(t.hasForeignSources){var a=I18n.t("This item is shared as part of a program. You must disable access everywhere else this item is being used before you can disable access here.");return this.renderDisabledToggle(a)}if(t.affiliationPending){var s=I18n.t("We're currently sharing your item. Check back in a bit.");return this.renderSpinner(s)}return this.shouldRenderWarning()?this.renderWarningToggle():this.renderToggle()},renderAffiliatedStatus:function(){return this.props.account.affiliated?I18n.t("Yes"):I18n.t("No")},renderDisabledToggle:function(e){var t=this.props.account;return s.default.createElement(g.default,{message:e,isChecked:!!t.affiliated})},renderSpinner:function(e){return s.default.createElement(b.default,{message:e})},renderWarningToggle:function(){var e=this.props,t=e.account,n=e.learnableHasItems,r=e.onChange;return s.default.createElement(_.default,{account:t,learnableHasItems:n,onChange:r})},renderToggle:function(){var e=this.props,t=e.account,n=e.onChange;return s.default.createElement(m.default,{account:t,onChange:n})},renderToolTip:function(){var e=this.props.account;return s.default.createElement(p.default,{activateOnClick:!0,isEnabled:e.affiliated,ref:"prompt"+e.id},s.default.createElement(p.default.Trigger,null,this.renderToggleLegacy()),s.default.createElement(p.default.Content,null,s.default.createElement("div",{className:"affiliated-accounts__revoke-prompt"},s.default.createElement("p",{className:"affiliated-accounts__revoke-prompt__p bold"},I18n.t("Remove Access?")),s.default.createElement("p",{className:"affiliated-accounts__revoke-prompt__p pink"},I18n.t("%{sub_account_name} has active enrollments",{sub_account_name:e.name})),s.default.createElement("button",{className:"affiliated-accounts__revoke-prompt__button--cancel",onClick:this.closeRemovePrompt},I18n.t("Cancel")),s.default.createElement("button",{className:"affiliated-accounts__revoke-prompt__button--submit",onClick:this.handleRemoveClick},I18n.t("Remove Access")))))},renderToggleLegacy:function(){var e=this.props.account;return s.default.createElement(c.default,{checked:Boolean(e.affiliated),onChange:this.handleToggleChange})},handleToggleChange:function(e){var t=this.props.account;t.affiliated&&t.hasEnrollments?this.props.onChange(t.id,!0):this.props.onChange(t.id,e.target.checked)},handleRemoveClick:function(e){var t=this.props.account;this.closeRemovePrompt(t),this.props.onChange(t.id,e.target.checked)},closeRemovePrompt:function(){var e=this.props.account;this.refs["prompt"+e.id].setActive(!1)},shouldRenderWarning:function(){var e=this.props,t=e.account,n=e.learnableHasItems;return t.affiliated&&t.hasEnrollments||n}});e.exports=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(94),l=r(o),u=s.default.createClass({displayName:"AffiliatedSubAccountPendingSpinner",propTypes:{message:i.string.isRequired},render:function(){var e=this.props.message;return s.default.createElement(l.default,{isEnabled:!0},s.default.createElement(l.default.Trigger,null,s.default.createElement("div",{className:"tooltip-confirmation__spinner-container"},s.default.createElement("div",{className:"loader-small"}))),s.default.createElement(l.default.Content,null,s.default.createElement("div",{className:"tooltip-confirmation__warning-prompt"},s.default.createElement("p",{className:"tooltip-confirmation__warning-prompt--p bold"},I18n.t("Just a moment...")),s.default.createElement("p",{className:"tooltip-confirmation__warning-prompt--p__body"},e))))}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(55),l=r(o),u=s.default.createClass({displayName:"AffiliatedSubAccountToggle",propTypes:{account:n(156).isRequired,onChange:i.func.isRequired},render:function(){return s.default.createElement(l.default,{checked:this.isToggleChecked(),onChange:this.handleToggleChange})},isToggleChecked:function(){var e=this.props.account;return Boolean(e.affiliated)},handleToggleChange:function(e){var t=this.props,n=t.account,r=t.onChange;r(n.id,e.target.checked)}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(55),l=r(o),u=n(301),c=r(u),d=s.default.createClass({displayName:"AffiliatedSubAccountWarningToggle",propTypes:{account:n(156).isRequired,learnableHasItems:i.bool,onChange:i.func},getInitialState:function(){return{toggling:!1}},componentWillReceiveProps:function(e){this.props.account.affiliated!==e.account.affiliated&&this.setState({toggling:!1})},render:function(){var e=this.props.account;return s.default.createElement(c.default,{reference:"prompt"+e.id,title:I18n.t("Are you sure?"),messages:this.getMessages(),confirmationText:this.getConfirmationText(),onCancelClick:this.handleCancelClick,onConfirmClick:this.handleConfirmClick,onHide:this.endToggling},this.renderToggle())},renderToggle:function(){return s.default.createElement(l.default,{checked:this.isToggleChecked(),onChange:this.handleToggleChange})},getMessages:function(){var e=this.props,t=e.account,n=e.learnableHasItems,r=[];if(n){var a=I18n.t("Sharing this item will also enable access for all of its items."),s=I18n.t("Revoking this item will also revoke access for all of its items."),i=t.affiliated?s:a;r.push({message:i,isPink:!1})}if(t.affiliated&&t.hasEnrollments){var o=I18n.t("%{sub_account_name} has active enrollments. These enrollments will be deleted if you revoke access.",{sub_account_name:t.name});r.push({message:o,isPink:!0})}return r},renderButtons:function(){return s.default.createElement("div",null,s.default.createElement("button",{className:"tooltip-confirmation__warning-prompt--cancel",onClick:this.handleCancelClick},I18n.t("Cancel")),s.default.createElement("button",{className:"tooltip-confirmation__warning-prompt--confirm",onClick:this.handleConfirmClick},this.getConfirmationText()))},getConfirmationText:function(){var e=this.props.account;return e.affiliated?I18n.t("Revoke Access"):I18n.t("Confirm Access")},isToggleChecked:function(){var e=this.props.account;return this.state.toggling?!Boolean(e.affiliated):Boolean(e.affiliated)},handleToggleChange:function(){this.setState({toggling:!0})},handleConfirmClick:function(){var e=this.props.account;this.props.onChange(e.id,this.isToggleChecked())},handleCancelClick:function(){this.setState({toggling:!1})},endToggling:function(){this.setState({toggling:!1})}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(3),v=n(4),_={
vertical:"width",horizontal:"height"},y=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.unmount=function(){n.setState({mounted:!1,unmounting:null})},n.setFullSize=function(){var e="client"+(0,v.capitalize)(_[n.props.direction]),t=n.animationWrapper.children[0][e];n.state.size!==t&&n.setState({size:t})},n.state={unmounting:null,mounted:!e.collapsed},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.collapsed&&e.collapsed&&(clearTimeout(this.state.unmounting),this.setState({unmounting:setTimeout(this.unmount,this.props.duration)})),e.collapsed||this.state.mounted||this.state.unmounting||this.setState({mounting:!0}),!e.collapsed&&this.state.unmounting&&(clearTimeout(this.state.unmounting),this.setState({unmounting:null}))}},{key:"componentDidUpdate",value:function(e,t){this.state.mounting&&!t.mounting&&this.setState({mounting:!1,mounted:!0}),(this.state.mounting||this.state.mounted)&&this.animationWrapper&&this.setFullSize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.unmounting)}},{key:"componentDidMount",value:function(){this.state.mounted&&this.animationWrapper&&this.setFullSize()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.direction,a=t.duration,i=t.timingFunction;if(!this.state.mounted&&!this.state.mounting)return null;var o=!!this.state.unmounting||this.state.mounting,l=_[r];return h.default.createElement("div",{ref:function(t){e.animationWrapper=t},style:(0,s.default)({transition:l+" "+a+"ms "+i},l,o?"0px":this.state.size+"px"),className:"collapse-animation-wrapper"},n)}}]),t}(h.default.Component);y.propTypes={collapsed:g.bool.isRequired,direction:(0,g.oneOf)(["vertical","horizontal"]).isRequired,duration:g.number,timingFunction:g.string,children:g.node},y.defaultProps={duration:400,timingFunction:"ease-out"},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=r(m),g=n(144),v=n(5),_=n(24),y=r(_),b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.evidences;return f.default.createElement("div",{className:"approval-event__evidences"},f.default.createElement(v.Icon,{className:"gs-paperclip gs-1-75x approval-event__evidence-icon"}),f.default.createElement(y.default,{className:"approval-event__evidence-description"},I18n.t("Files attached:")),e.map(function(e){return f.default.createElement("span",{key:e.id,className:"approval-event__evidence-link"},f.default.createElement("a",{href:e.downloadUrl,target:"_blank"},e.name))}))}}]),t}(p.Component);b.propTypes={evidences:h.default.arrayOf(g.ApprovalEvidenceSchema)},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(5),u=n(104),c=r(u),d=n(144),p=n(425),f=r(p),m=function(e){var t=e.approvalEvent;return o.default.createElement(f.default,{status:I18n.t("approved this checkpoint!"),createdAt:t.createdAt,user:t.data.user,evidences:t.evidences,icon:o.default.createElement("div",{className:"approval-event__icon approval-event__icon--approved"},o.default.createElement(l.Icon,{className:"gs-thumb-up"}))},t.data.comment)};m.propTypes={approvalEvent:s.default.shape({createdAt:s.default.string.isRequired,data:s.default.shape({user:c.default.isRequired}),evidences:s.default.arrayOf(d.ApprovalEvidenceSchema)}).isRequired},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(104),u=r(l),c=n(425),d=r(c),p=function(e){var t=e.approvalEvent;return o.default.createElement(d.default,{status:I18n.t("Pending approval by %{name}",{name:t.data.approver.name}),createdAt:t.createdAt})};p.propTypes={approvalEvent:s.default.shape({createdAt:s.default.string.isRequired,data:s.default.shape({approver:u.default.isRequired})}).isRequired},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(42),u=r(l),c=n(425),d=r(c),p=function(e){var t=e.approvalEvent;return o.default.createElement(d.default,{createdAt:t.createdAt,user:t.data.user},t.data.comment)};p.propTypes={approvalEvent:s.default.shape({createdAt:s.default.string.isRequired,data:s.default.shape({comment:s.default.string.isRequired,user:u.default.isRequired})}).isRequired},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(5),u=n(104),c=r(u),d=n(42),p=r(d),f=n(144),m=n(425),h=r(m),g=function(e){var t=e.approvalEvent,n=e.learner;return o.default.createElement(h.default,{status:I18n.t("requested that %{name} retry",{name:n.name}),createdAt:t.createdAt,user:t.data.user,evidences:t.evidences,icon:o.default.createElement("div",{className:"approval-event__icon approval-event__icon--rejected"},o.default.createElement(l.Icon,{className:"gs-thumb-down"}))},t.data.comment)};g.propTypes={approvalEvent:s.default.shape({createdAt:s.default.string.isRequired,data:s.default.shape({user:c.default.isRequired}),evidences:s.default.arrayOf(f.ApprovalEvidenceSchema)}).isRequired,learner:p.default.isRequired},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(104),u=r(l),c=n(42),d=r(c),p=n(144),f=n(425),m=r(f),h=function(e){var t=e.approvalEvent;return o.default.createElement(m.default,{status:I18n.t("submitted this checkpoint for approval"),createdAt:t.createdAt,user:t.data.user,evidences:t.evidences},t.data.comment)};h.propTypes={approvalEvent:s.default.shape({createdAt:s.default.string.isRequired,data:s.default.shape({user:u.default.isRequired}),evidences:s.default.arrayOf(p.ApprovalEvidenceSchema)}).isRequired,learner:d.default.isRequired},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(18),d=r(c),p=n(65),f=r(p),m=n(82),h=r(m),g=n(77),v=r(g),_=n(42),y=r(_),b=n(179),E=r(b),C=n(6),I=r(C);t.default=u.default.createClass({displayName:"Approval::Feedback",propTypes:{isOpen:o.default.bool,learner:y.default.isRequired,approver:y.default.isRequired,feedbackIcon:o.default.string.isRequired,feedbackText:o.default.string.isRequired,feedbackColor:o.default.string.isRequired,feedbackError:o.default.string,onCancel:o.default.func,onFeedback:o.default.func},getDefaultProps:function(){return{isOpen:!0,feedbackError:null}},getInitialState:function(){return{approvalRequestData:{},commentInputRequiredMsg:""}},componentDidUpdate:function(e){e.isOpen!==this.props.isOpen&&this.props.isOpen&&(0,E.default)(this.h3)},componentDidMount:function(){(0,E.default)(this.h3)},render:function(){var e=this.props,t=e.isOpen,n=e.learner,r=e.approver,a=e.onCancel,i=this.props,o=i.feedbackIcon,l=i.feedbackText,c=i.feedbackColor,p=i.feedbackError,m=this.state.approvalRequestData,g=(0,I.default)("approval__footer","approval__footer--approver",{"approval__footer--open":t,"approval__footer--close":!t});return u.default.createElement("div",{className:g,"aria-hidden":!t},u.default.createElement("div",{className:"approval__footer-content approval__footer-content--feedback"},u.default.createElement("div",{className:"approval__feedback-header"},u.default.createElement("h3",{ref:this.setH3},I18n.t("How did %{learnerName} do?",{learnerName:n.name})),u.default.createElement(h.default,{className:"approval__feedback-cancel",buttonClassName:"btn btn--reset",iconClassName:"approval__feedback-cancel-icon",icon:"x",onClick:a,label:I18n.t("Cancel")})),u.default.createElement("div",{className:"approval__feedback-details"},u.default.createElement(f.default,(0,s.default)({className:"avatar--small approval__feedback-user-icon"},r)),u.default.createElement(v.default,{className:"approval__feedback-comment-input",model:m,field:"comment",type:"textarea",label:I18n.t("Add a message"),error:p})),u.default.createElement("div",{className:"approval__feedback-btns"},u.default.createElement(d.default,{className:"approval__feedback-btn approval__feedback-btn--cancel",children:I18n.t("Cancel"),onClick:this.props.onCancel}),u.default.createElement(h.default,{buttonClassName:"approval__feedback-btn approval__feedback-btn--"+c,icon:o,disableTooltip:!0,onClick:this.giveFeedback,label:l,children:u.default.createElement("span",{className:"margin-l-xs"},l),"data-capybara":"approval-finish"}))))},setH3:function(e){this.h3=e},giveFeedback:function(){var e=this.state.approvalRequestData.comment;this.props.onFeedback(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(25),u=r(l),c=n(4),d=n(5),p=n(2976),f=r(p),m=n(2963),h=r(m),g=n(318),v=r(g),_=n(1360),y=r(_),b=n(18),E=r(b),C=n(13),I=r(C),T=n(432),N=r(T),S=n(144),x=r(S),A=n(137),k=r(A),w=n(166),R=n(12),O=[R.APPROVAL_STATE_INCOMPLETE,R.APPROVAL_STATE_REQUESTED],P={Task:"task"};t.default=o.default.createClass({displayName:"Approval::index",propTypes:{learnable:s.default.object.isRequired,learner:s.default.object.isRequired,learnableType:s.default.string,approval:n(112).isRequired,approvalEvents:s.default.arrayOf(x.default.isRequired),nextPendingApprovalId:s.default.string,onRefetchData:s.default.func.isRequired,afterGivingFeedback:s.default.func,disableSkipAhead:s.default.bool},getInitialState:function(){return{showFeedback:!1,isGivingFeedback:!1,feedbackIcon:"",feedbackText:"",feedbackColor:"",feedbackError:null,nextUpId:null}},getDefaultProps:function(){return{afterGivingFeedback:Function.prototype,disableSkipAhead:!1}},render:function(){return o.default.createElement("div",{className:"approval"},o.default.createElement("div",{className:"pure-g-r"},o.default.createElement("div",{className:"pure-u-6-24"}),o.default.createElement("div",{className:"pure-u-12-24"},o.default.createElement(y.default,{learner:this.props.learner,approvalEvents:this.props.approvalEvents})),o.default.createElement("div",{className:"pure-u-6-24"})),this.renderFooter(),this.state.showFeedback&&this.renderFeedback())},renderFeedback:function(){return o.default.createElement(f.default,{isOpen:this.state.isGivingFeedback,learner:this.props.learner,approver:this.props.approval.approver,feedbackIcon:this.state.feedbackIcon,feedbackText:this.state.feedbackText,feedbackColor:this.state.feedbackColor,feedbackError:this.state.feedbackError,onCancel:this.cancelGivingFeedback,onFeedback:this.updateApproval})},renderFooter:function(){var e=this.props.approval;return(0,c.includes)(O,e.state)?this.renderFeedbackFooter():this.renderNextUpFooter()},renderFeedbackFooter:function(){var e=this,t=this.props,n=t.learner,r=t.approval,a=t.nextPendingApprovalId,s=t.disableSkipAhead,i=n.name;return o.default.createElement(N.default,{title:I18n.t("How did %{learnerName} do?",{learnerName:i})},r.state===R.APPROVAL_STATE_REQUESTED&&o.default.createElement(E.default,{className:"approval__footer-action-btn approval__footer-action-btn--try-again",onClick:this.setIsGivingFeedbackReject},o.default.createElement(d.Icon,{"aria-hidden":!0,className:"gs-thumb-down approval__footer-action-icon"}),o.default.createElement("span",{className:"pink margin-l-xs"},I18n.t("Try Again"))),o.default.createElement(E.default,{className:"approval__footer-action-btn approval__footer-action-btn--approved",onClick:this.setIsGivingFeedbackApprove,"data-capybara":"approval"},o.default.createElement(d.Icon,{"aria-hidden":!0,className:"gs-thumb-up approval__footer-action-icon"}),o.default.createElement("span",{className:"blue margin-l-xs"},I18n.t("Approved"))),a&&o.default.createElement(E.default,{className:"approval__footer-action-btn approval__footer-action-btn--skip",disabled:s,onClick:function(){return e.navigateTo(a)}},I18n.t("Skip Ahead"),o.default.createElement(d.Icon,{"aria-hidden":!0,className:"gs-arrow-right gs-1x padding-l-xs"})))},renderNextUpFooter:function(){var e=this,t=this.state.nextUpId;if(!t)return null;var n=this.props,r=n.approval,a=n.learner,s=a.name,i=r.state===R.APPROVAL_STATE_REJECTED?I18n.t("%{learnerName} will be notified to try again",{learnerName:s}):I18n.t("Approved, thanks!");return o.default.createElement(N.default,{title:i,collapsible:!1,isDark:!0},o.default.createElement(E.default,{className:"approval__footer-action-btn approval__footer-action-btn--next",onClick:function(){return e.navigateTo(t)}},I18n.t("Next Up"),o.default.createElement(d.Icon,{"aria-hidden":!0,className:"gs-arrow-right gs-1x padding-l-xs"})))},cancelGivingFeedback:function(){this.clearIsGivingFeedback(),(0,k.default)(I18n.t("canceled giving feedback"),"assertive")},setIsGivingFeedbackReject:function(){this.setState({feedbackState:R.APPROVAL_STATE_REJECTED,feedbackIcon:"thumb-down",feedbackText:I18n.t("Try Again"),feedbackColor:"pink",requiresComment:!0}),this.setIsGivingFeedback()},setIsGivingFeedbackApprove:function(){this.setState({feedbackState:R.APPROVAL_STATE_APPROVED,feedbackIcon:"thumb-up",feedbackText:I18n.t("Approved"),feedbackColor:"blue",requiresComment:!1}),this.setIsGivingFeedback()},setIsGivingFeedback:function(){this.setState({isGivingFeedback:!0,showFeedback:!0,feedbackError:null})},clearIsGivingFeedback:function(){this.setState({isGivingFeedback:!1})},setNextUpId:function(e){var t=this;return new u.default(function(n){return t.setState({nextUpId:e},n)})},afterGivingFeedback:function(){this.props.afterGivingFeedback(null!=this.state.nextUpId)},updateApproval:function(e){var t=this,n=this.props.learner,r=this.state.feedbackState;if(r!==R.APPROVAL_STATE_REJECTED||e){var a=this.props.learnable,s={state:r};if(e&&(s.comment=e),a.requiresEvidence){var i={id:a.id,learnerId:n.id},o=v.default.getCompletedPending(i);o.length&&(s.evidences=o)}this.clearIsGivingFeedback(),h.default.update(this.props.approval,s).then(this.maybeShowCompletionPage).then(this.setNextUpId).then(this.afterGivingFeedback).catch(function(e){return t.toastOnApproved(e,s.state)})}else{var l=I18n.t("Let %{learner} know why this checkpoint should be tried again",{learner:n.name});this.setState({feedbackError:l}),(0,k.default)(l,"assertive")}},toastOnApproved:function(e,t){if(422===e.status){var n=e.responseJSON.errors[0];if("already_approved"===n.code){if(this.props.onRefetchData(),t===R.APPROVAL_STATE_APPROVED)return(0,w.toast)(I18n.t("Good news! This checkpoint was already approved.")),void this.clearIsGivingFeedback();if(t===R.APPROVAL_STATE_REJECTED)return(0,w.toastOfError)(I18n.t("Hold on! This checkpoint was already approved.")),void this.clearIsGivingFeedback()}else if("evidences_limit_exceeded"===n.code)return void(0,w.toastOfError)(I18n.t("Sorry, there was an error submitting this checkpoint. %{msg}",{msg:n.title}))}throw e},getLearnableType:function(){return P[this.props.learnableType]},navigateTo:function(e){I.default.transitionTo("approver.task.approval",e)},maybeShowCompletionPage:function(e){if(!e){var t=this.props,n=t.learnableType,r=t.learnable;I.default.transitionTo("approver.approvals.finished",n,r.id)}return u.default.resolve(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(6),l=r(o),u=n(88),c=r(u),d=n(55),p=r(d),f=n(5),m=n(120),h=r(m),g=n(1361),v=r(g),_=s.default.createClass({displayName:"AttachmentMobileRow",mixins:[c.default.mixin],propTypes:{attachment:(0,i.shape)({name:i.string,fileModifiedAt:i.string,slides:i.array,isVisibleToLearner:i.bool,downloadUrl:i.string,id:i.string}),onRemove:i.func,onToggleLearnerVisible:i.func,onChangeAvailability:i.func,canEdit:i.bool,forLearnerToggle:i.bool,availability:i.bool,isReadOnly:i.bool},getDefaultProps:function(){return{attachment:{slides:[],learnerVisible:!1},onRemove:Function.prototype,onToggleLearnerVisible:Function.prototype,onChangeAvailability:Function.prototype,forLearnerToggle:!0,availability:!1}},getInitialState:function(){return{open:!1}},render:function(){return this.isConfirmingRemoval()?this.renderWantToRemove():this.renderDefault()},toggleRow:function(){this.setState({open:!this.state.open})},renderWantToRemove:function(){return s.default.createElement("div",{mobileClassNames:"pure-g"},s.default.createElement("div",{className:"removable-item removable-item--focused"},s.default.createElement("div",{className:"removable-item__title"},this.props.attachment.name),s.default.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Delete Attachment?")}),s.default.createElement("div",{className:"removable-item__buttons"},s.default.createElement("button",{type:"button",className:"btn--reset dark-grey",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),s.default.createElement("button",{type:"button",className:"btn--reset confirm-remove-learner pink",onClick:this.remove,children:I18n.t("Delete")}))))},renderDefault:function(){var e=(0,l.default)("collapsible-table-card",{"attachment-table--archived":this.props.isReadOnly,"collapsible-table-card--open":this.state.open}),t=this.props.attachment,n=t.name,r=t.fileModifiedAt,a=t.learnerVisible,i=t.downloadUrl,o=t.availability;return s.default.createElement("div",{className:"border-b border-grey x-medium "+e},s.default.createElement("button",{className:"collapsible-table-card__button"}),s.default.createElement("div",{className:"collapsible-table-card__header padding-tb-xs padding-l-s padding-r-xl",onClick:this.toggleRow},s.default.createElement(f.AttachmentIcon,{fileName:n,className:"attachment-table__icon"}),n),s.default.createElement("div",{className:"collapsible-table-card__content"},s.default.createElement("div",{className:"article padding-rbl-m"},s.default.createElement("ul",{className:"collapsible-table-card__list"},s.default.createElement("li",{className:"collapsible-table-card__list-item"},s.default.createElement("span",{className:"collapsible-table-card__title"},I18n.t("Date")),(0,h.default)(r,"date")),this.props.forLearnerToggle&&s.default.createElement("li",{className:"collapsible-table-card__list-item"},s.default.createElement("span",{className:"collapsible-table-card__title"},I18n.t("Learner Can See")),s.default.createElement(p.default,{checked:a,disabled:this.props.isReadOnly||!this.props.canEdit,onChange:this.props.onToggleLearnerVisible})),this.props.availability&&s.default.createElement("li",{className:"collapsible-table-card__list-item"},s.default.createElement(v.default,{value:o,onChange:this.props.onChangeAvailability})),s.default.createElement("li",{className:"collapsible-table-card__list-item"},s.default.createElement("a",{className:"collapsible-table-card__action",href:i,target:"_blank"},s.default.createElement(f.Icon,{className:"gs-download gs-1x"}),s.default.createElement("span",{className:"collapsible-table-card__action-title"},I18n.t("Download")))),s.default.createElement("li",{className:"collapsible-table-card__list-item"},!this.props.isReadOnly&&this.props.canEdit&&s.default.createElement("button",{type:"button",onClick:this.remove,className:"btn--reset collapsible-table-card__action"},s.default.createElement(f.Icon,{className:"gs-x gs-1x"}),s.default.createElement("span",{className:"collapsible-table-card__action-title"},I18n.t("Delete"))))))))}});t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(50),o=n(27),l=r(o),u=n(88),c=r(u),d=n(3),p=n(5),f=n(55),m=r(f),h=n(6),g=r(h),v=n(120),_=r(v),y=n(1361),b=r(y),E=n(24),C=r(E),I=s.default.createClass({displayName:"AttachmentRow",mixins:[c.default.mixin],propTypes:{attachment:(0,d.shape)({name:d.string,fileModifiedAt:d.string,slides:d.array,isVisibleToLearner:d.bool,downloadUrl:d.string,id:d.string,completed:d.bool}),onRemove:d.func,onToggleLearnerVisible:d.func,onChangeAvailability:d.func,canEdit:d.bool,forLearnerToggle:d.bool,availability:d.bool,isReadOnly:d.bool},getDefaultProps:function(){return{attachment:{slides:[],learnerVisible:!1,completed:!1},onRemove:Function.prototype,onToggleLearnerVisible:Function.prototype,onChangeAvailability:Function.prototype,forLearnerToggle:!0,availability:!1}},render:function(){return this.isConfirmingRemoval()?this.renderWantToRemove():this.renderDefault()},renderDefault:function(){var e=this.props,t=e.isReadOnly,n=e.canEdit,r=e.onToggleLearnerVisible,a=e.onChangeAvailability,o=e.forLearnerToggle,u=this.props.attachment,c=u.completed,d=u.name,f=u.fileModifiedAt,h=u.learnerVisible,v=u.downloadUrl,y=u.availability,E=(0,g.default)({"sortable-table__tr--new":!!c,"attachment-table--archived":t});return s.default.createElement(i.Tr,{className:E},s.default.createElement(i.Td,null,s.default.createElement(p.AttachmentIcon,{fileName:d,className:"attachment-table__icon"}),s.default.createElement(C.default,{className:"inline-block"},s.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{name}",{name:"%{name}"}),name:d},"$1"))),s.default.createElement(i.Td,{className:"attachment-table__modified"},(0,_.default)(f,"date")),o&&s.default.createElement(i.Td,{className:"text-center"},s.default.createElement(m.default,{checked:h,onChange:r,disabled:t||!n,dataCapybara:"forlearners-toggle"})),this.props.availability&&s.default.createElement(i.Td,{className:"text-center attachment-table__availability"},s.default.createElement(b.default,{value:y,onChange:a})),s.default.createElement(i.Td,{className:"text-center"},s.default.createElement("a",{className:"collapsible-table-card__action",href:v,target:"_blank"},s.default.createElement(p.Icon,{className:"gs-download gs-1x dark-grey"}),s.default.createElement(l.default,{children:I18n.t("Download")}))),s.default.createElement(i.Td,{className:"text-right",mobileClassNames:"pure-u-1-12"},!t&&n&&s.default.createElement("button",{type:"button",onClick:this.confirmRemoval,className:"btn--reset padding-xs","data-capybara":"remove"},s.default.createElement(l.default,{children:I18n.t("Delete")}),s.default.createElement(p.Icon,{className:"gs-x gs-1x dark-grey"}))))},renderWantToRemove:function(){return s.default.createElement(i.Tr,{mobileClassNames:"pure-g"},s.default.createElement(i.Td,{colSpan:this.adjustedColSpan(4),mobileClassNames:"pure-u-1",className:"padding-none"},s.default.createElement("div",{className:"removable-item removable-item--focused"},s.default.createElement("div",{className:"removable-item__title"},s.default.createElement("span",{className:""},this.props.attachment.name)),s.default.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Delete Attachment?")}),s.default.createElement("div",{className:"removable-item__buttons"},s.default.createElement("button",{type:"button",className:"btn--reset dark-grey",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),s.default.createElement("button",{type:"button",className:"btn--reset confirm-remove-learner pink",onClick:this.remove,children:I18n.t("Delete"),"data-capybara":"confirm_remove"})))))},adjustedColSpan:function(e){return this.props.forLearnerToggle&&(e+=1),this.props.availability&&(e+=1),""+e}});e.exports=I},function(e,t,n){"use strict";var r=n(1),a=n(50),s=a.Tr,i=a.Td,o=n(27),l=n(88),u=n(3),c=u.bool,d=u.shape,p=u.number,f=u.string,m=u.func,h=n(5),g=h.Icon,v=h.AttachmentIcon,_=n(103),y=n(24),b=r.createClass({displayName:"PendingAttachmentRow",mixins:[l.mixin],propTypes:{attachment:d({name:f,id:f,evaporateId:p,progress:p}),forLearnerToggle:c,availability:c,onRemove:m},getDefaultProps:function(){return{attachment:{progress:0},forLearnerToggle:!0,availability:!1,onRemove:Function.prototype}},render:function(){return this.isConfirmingRemoval()?this.renderWantToRemove():this.renderDefault()},renderDefault:function(){var e=this.props.attachment,t=e.name,n=e.progress;return r.createElement(s,{className:"sortable-table__tr sortable-table__tr--pending"},r.createElement(i,null,r.createElement(v,{fileName:t,className:"attachment-table__icon"}),r.createElement(y,{className:"inline-block"},r.createElement(I18n.ComponentInterpolator,{string:I18n.t("%{name}",{name:"%{name}"}),name:t},"$1"))),r.createElement(i,{colSpan:this.adjustedColSpan(2)},r.createElement(_,{type:"bar",intervals:1,current:n,progress:n})),r.createElement(i,{className:"text-right",mobileClassNames:"pure-u-1-12"},r.createElement("button",{type:"button",onClick:this.confirmRemoval,className:"btn--reset padding-xs"},r.createElement(o,{children:I18n.t("Delete")}),r.createElement(g,{className:"gs-x gs-1x dark-grey"}))))},renderWantToRemove:function(){return r.createElement(s,{mobileClassNames:"pure-g"},r.createElement(i,{colSpan:this.adjustedColSpan(4),mobileClassNames:"pure-u-1",className:"padding-none"},r.createElement("div",{className:"removable-item removable-item--focused"},r.createElement("div",{className:"removable-item__title"},r.createElement("span",null,this.props.attachment.name)),r.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Abort Upload?")}),r.createElement("div",{className:"removable-item__buttons"},r.createElement("button",{type:"button",className:"btn--reset dark-grey",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),r.createElement("button",{type:"button",className:"btn--reset confirm-remove-learner pink",onClick:this.remove,children:I18n.t("Abort")})))))},adjustedColSpan:function(e){return this.props.forLearnerToggle&&(e+=1),this.props.availability&&(e+=1),""+e}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(18),u=r(l),c=n(6),d=r(c);t.default=o.default.createClass({displayName:"OverlayButton",propTypes:{isActive:s.default.bool,position:s.default.number,onClick:s.default.func,title:s.default.string.isRequired},render:function(){var e=this.props,t=e.isActive,n=e.position,r=(0,d.default)("btn","btn--round","bridge-retain-overlay__button",{"bridge-retain-overlay__button--active":t});return o.default.createElement(u.default,{className:r,label:"Page "+(n+1),onClick:this.emitOnClick,title:this.props.title})},emitOnClick:function(){var e=this.props,t=e.position,n=e.onClick;n(t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(5),u=n(55),c=r(u);t.default=o.default.createClass({displayName:"Content",propTypes:{disabled:s.default.bool,hasQuizzes:s.default.bool,retain:s.default.bool,showWarning:s.default.bool,onAddClick:s.default.func,onRetainChange:s.default.func,onOpenOverlay:s.default.func},render:function(){return o.default.createElement("div",null,this.renderHeader(),this.renderDetails())},renderHeader:function(){var e=this.props,t=e.disabled,n=e.retain,r=e.onRetainChange;return o.default.createElement("div",{className:"bridge-retain-popup__header"},o.default.createElement(l.Icon,{className:"gs-brain gs-3x left","aria-hidden":"true"}),o.default.createElement("span",{className:"bridge-retain-popup__title"},I18n.t("Bridge Retain")),o.default.createElement("div",{className:"bridge-retain-popup__toggle"},o.default.createElement(c.default,{checked:n,disabled:t,onChange:r})))},renderDetails:function(){var e=this.props,t=e.retain,n=e.showWarning;return t?n?o.default.createElement("div",null,o.default.createElement("div",{className:"bridge-retain-popup__details"},o.default.createElement(l.Icon,{className:"gs-caution gs-3x orange","aria-hidden":"true"}),o.default.createElement("div",null,I18n.t("Learners cannot receive a retain quiz until you add one or more questions"))),o.default.createElement("button",{className:"btn--reset bridge-retain-popup__add-button bridge-retain-popup__add-button--warning",onClick:this.props.onAddClick},I18n.t("Add Question"))):o.default.createElement("div",{className:"bridge-retain-popup__details bridge-retain-popup__details--active"},o.default.createElement("div",{className:"bridge-retain-popup__details--active__gray-area"},o.default.createElement(l.Icon,{className:"gs-check bridge-retain-popup__details--active__check","aria-hidden":"true"}),o.default.createElement("div",{className:"bridge-retain-popup__details--active__text"},I18n.t("Retain is now activated. Learners will receive retention exercises a couple times during the first week after completion, then weekly for a month."),o.default.createElement("button",{className:"btn--reset bridge-retain-popup__learn-more__text",onClick:this.props.onOpenOverlay},I18n.t("Learn More")))),this.renderInstructions()):o.default.createElement("div",{className:"bridge-retain-popup__details"},I18n.t("Make the knowledge stick with Bridge Retain - a scientifically proven technology to help retain knowledge."),o.default.createElement("button",{className:"btn--reset bridge-retain-popup__learn-more",onClick:this.props.onOpenOverlay},I18n.t("Learn More")))},renderInstructions:function(){return this.props.hasQuizzes?null:o.default.createElement("div",null,o.default.createElement("div",{className:"bridge-retain-popup__instructions"},I18n.t("All you have to do now is create your questions")),o.default.createElement("div",{"aria-hidden":"true"},o.default.createElement("span",{className:"bridge-retain-popup__1"},I18n.t("1")),o.default.createElement("div",{className:"bridge-retain-popup__q-box"},o.default.createElement(l.Icon,{className:"gs-quiz-question gs-3x","aria-hidden":"true"})),o.default.createElement("span",{className:"bridge-retain-popup__create-text"},I18n.t("Create a new question"))),o.default.createElement("button",{className:"btn--reset bridge-retain-popup__add-button",onClick:this.props.onAddClick},I18n.t("Add Question")))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(2989),u=r(l),c=n(1365),d=r(c),p=n(5),f=o.default.createClass({displayName:"Overlay",propTypes:{onCloseOverlay:s.default.func,onRetainClick:s.default.func,allowClicksWithoutPopupDismissal:s.default.bool},render:function(){return o.default.createElement(d.default,{onClose:this.props.onCloseOverlay,pages:u.default},o.default.createElement("div",{className:"bridge-retain-overlay__header"},o.default.createElement("button",{className:"bridge-retain-overlay__header__button",onClick:this.props.onCloseOverlay},I18n.t("Skip Tutorial")),o.default.createElement("button",{id:"enable-retain",className:"bridge-retain-overlay__header__button round",onClick:this.props.onRetainClick},o.default.createElement(p.Icon,{className:"bridge-retain-overlay__header__button-icon gs-brain"}),o.default.createElement("span",{className:"x-small"},I18n.t("Enable Retain")))))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(1363),l=r(o),u=n(292),c=r(u),d=s.default.createClass({displayName:"Page1",render:function(){return s.default.createElement("div",{className:"bridge-retain-overlay__page"},s.default.createElement("div",{className:"bridge-retain-overlay__icon"},s.default.createElement(i.Icon,{className:"gs-brain-2 gs-4x"})),s.default.createElement(c.default,null,I18n.t("75% of knowledge is lost within a week of learning it.")),s.default.createElement("div",{
className:"bridge-retain-overlay__subtitle bridge-retain-overlay__title--second bridge-retain-overlay__subtitle--padded"},I18n.t("Make the knowledge stick with Bridge Retain.")),s.default.createElement(l.default,null))}});d.getTitle=function(){return I18n.t("About Bridge Retain")},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(292),l=r(o),u=s.default.createClass({displayName:"Page2",render:function(){return s.default.createElement("div",{className:"bridge-retain-overlay__page"},s.default.createElement("div",{className:"bridge-retain-overlay__icon bridge-retain-overlay__icon--reverse"},s.default.createElement(i.Icon,{className:"gs-quiz-question gs-3x"})),s.default.createElement(l.default,null,I18n.t("Curate some questions that will help you test the knowledge of your learners")),s.default.createElement("div",{className:"bridge-retain-overlay__border"}),s.default.createElement("div",{className:"bridge-retain-overlay__graphic"},s.default.createElement("div",{className:"bridge-retain-overlay__graphic__wrapper"},s.default.createElement("div",{className:"bridge-retain-overlay__typewriter"},s.default.createElement("p",{className:"bridge-retain-overlay__typewriter__p"},I18n.t("What comes to mind when you"))),s.default.createElement("img",{className:"bridge-retain-overlay__img",src:"/images/question.svg"}))))}});u.getTitle=function(){return I18n.t("Retain Questions")},t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(292),l=r(o),u=s.default.createClass({displayName:"Page3",render:function(){return s.default.createElement("div",{className:"bridge-retain-overlay__page"},s.default.createElement("div",{className:"bridge-retain-overlay__icon bridge-retain-overlay__icon--reverse"},s.default.createElement(i.Icon,{className:"gs-message gs-3x dark black-bg"})),s.default.createElement(l.default,null,I18n.t("After completing the course, learners receive retention prompts")),s.default.createElement("div",{className:"bridge-retain-overlay__border"}),s.default.createElement("div",{className:"bridge-retain-overlay__graphic"},s.default.createElement("div",{className:"bridge-retain-overlay__graphic__wrapper"},s.default.createElement("svg",{viewBox:"0 0 785 525",version:"1.1",className:"bridge-retain-overlay__email-svg",preserveAspectRatio:"xMinYMin meet"},s.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.default.createElement("g",{className:"bridge-retain-overlay__email-svg__message-body"},s.default.createElement("rect",{id:"Rectangle-12",fillOpacity:"0.4",fill:"#FFFFFF",x:"145",y:"0",width:"640",height:"525"}),s.default.createElement("foreignObject",{x:"195",y:"83",width:"550",height:"200"},s.default.createElement("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"bridge-retain-overlay__email-svg__p"},I18n.t("Its time to get rollin with your Bridge Retain exercises"))),s.default.createElement("g",{id:"Rectangle-29-+-GO-TO-COURSE-Copy-2",transform:"translate(370.000000, 430.000000)",fill:"#42CFD4"},s.default.createElement("rect",{id:"Rectangle-29",x:"0",y:"0",width:"199",height:"40",rx:"20"})),s.default.createElement("path",{d:"M196.834204,186.5 L752,186.5",id:"Line-Copy-4",stroke:"#8994A3",strokeLinecap:"square"}),s.default.createElement("path",{d:"M196,367.5 L751.165796,367.5",id:"Line-Copy-5",stroke:"#8994A3",strokeLinecap:"square"}),s.default.createElement("rect",{id:"Rectangle-13",fillOpacity:"0.5",fill:"#071A32",opacity:"0.600000024",x:"197",y:"221",width:"483",height:"10"}),s.default.createElement("rect",{id:"Rectangle-13-Copy",fillOpacity:"0.5",fill:"#071A32",opacity:"0.600000024",x:"197",y:"251",width:"534",height:"10"}),s.default.createElement("rect",{id:"Rectangle-13-Copy-2",fillOpacity:"0.5",fill:"#071A32",opacity:"0.600000024",x:"197",y:"281",width:"505",height:"10"}),s.default.createElement("rect",{id:"Rectangle-13-Copy-3",fillOpacity:"0.5",fill:"#071A32",opacity:"0.600000024",x:"197",y:"311",width:"191",height:"10"})),s.default.createElement("g",{className:"bridge-retain-overlay__email-svg__inbox"},s.default.createElement("text",{id:"INBOX",opacity:"0.5",fontSize:"12",fontWeight:"600",fill:"#071A32"},s.default.createElement("tspan",{x:"0",y:"31"},I18n.t("INBOX"))),s.default.createElement("rect",{id:"Rectangle-11",fill:"#8994A3",opacity:"0.3",x:"0",y:"51",width:"82",height:"9"}),s.default.createElement("rect",{id:"Rectangle-11-Copy",fill:"#8994A3",opacity:"0.3",x:"0",y:"78",width:"99",height:"9"}),s.default.createElement("rect",{id:"Rectangle-11-Copy-2",fill:"#8994A3",opacity:"0.3",x:"0",y:"106",width:"105",height:"9"}),s.default.createElement("rect",{id:"Rectangle-11-Copy-3",fill:"#8994A3",opacity:"0.3",x:"0",y:"133",width:"95",height:"9"}),s.default.createElement("rect",{id:"Rectangle-11-Copy-4",fill:"#8994A3",opacity:"0.3",x:"0",y:"161",width:"95",height:"9"}),s.default.createElement("rect",{id:"Rectangle-11-Copy-5",fill:"#8994A3",opacity:"0.3",x:"0",y:"188",width:"82",height:"9"})))))))}});u.getTitle=function(){return I18n.t("Retention Prompts")},t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(292),l=r(o),u=n(1364),c=r(u),d=s.default.createClass({displayName:"Page4",render:function(){return s.default.createElement("div",{className:"bridge-retain-overlay__page"},s.default.createElement("div",{className:"bridge-retain-overlay__icon bridge-retain-overlay__icon--reverse"},s.default.createElement(i.Icon,{className:"gs-up-graph gs-3x"})),s.default.createElement(l.default,null,I18n.t("Learners receive mastery exercises crafted by you, on a regular cadence. Over time, the knowledge sticks.")),s.default.createElement("div",{className:"bridge-retain-overlay__border"}),s.default.createElement(c.default,null))}});d.getTitle=function(){return I18n.t("Regular Exercises")},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(292),l=r(o),u=s.default.createClass({displayName:"Page5",render:function(){return s.default.createElement("div",{className:"bridge-retain-overlay__page"},s.default.createElement("div",{className:"bridge-retain-overlay__icon"},s.default.createElement(i.Icon,{className:"gs-brain-2 gs-4x"})),s.default.createElement(l.default,null,I18n.t("Enable Bridge Retain and create a few retention questions to help your learners keep their knowledge.")),s.default.createElement("div",{className:"bridge-retain-overlay__border"}),s.default.createElement("div",{className:"bridge-retain-overlay__enable-prompt bridge-retain-overlay__subtitle bridge-retain-overlay__title--first"},I18n.t("Just click Enable Retain at the top of the page"),s.default.createElement("i",{className:"bridge-retain-overlay__enable-prompt__arrow gs-arrow_drawn_05",onClick:this.focusEnable,"aria-label":I18n.t("Click to navigate to the enable retain button")})))},focusEnable:function(){var e=document.getElementById("enable-retain");e&&e.focus()}});u.getTitle=function(){return I18n.t("How to enable Bridge Retain")},t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[n(2984),n(2985),n(2986),n(2987),n(2988)],e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(0,l.includes)(e.dataTransfer.types,"application/json")||(0,l.includes)(e.dataTransfer.types,"Text")}function s(e){return(0,c.default)(e.target).closest("td, th").prevAll().length}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i),l=n(4),u=n(47),c=r(u),d={activateColumnFromEvent:function(e){this.store.setActiveColumnIndex(s(e))},deactivateColumn:function(e){var t=(0,c.default)(o.default.findDOMNode(this)),n=t.offset(),r=t.width(),a=t.height(),s=e.pageX,i=e.pageY;(s<n.left||s>n.left+r||i<n.top||i>n.top+a)&&this.store.setActiveColumnIndex(null)},consumeDragonIfRelevant:function(e){a(e)&&this.consumeDragon(e)},consumeDragon:function(e){e.preventDefault(),e.stopPropagation()},applyMappingFromDragon:function(e){if(a(e)){var t=void 0;this.consumeDragon(e);try{t=e.dataTransfer.getData("application/json")}catch(n){t=e.dataTransfer.getData("Text")}finally{var n=JSON.parse(t),r=s(e);this.props.isDraggingPrimaryField?(this.store.assignField(r,"primary"),this.resetPrimaryDraggingState("primary")):this.props.isDraggingPrimaryFieldDupes?(this.store.assignField(r,"primaryDupes"),this.resetPrimaryDraggingState("primaryDupes")):this.props.isDraggingManagerField?(this.store.assignField(r,"manager"),this.resetPrimaryDraggingState("manager")):this.props.isDraggingLearnableField?(this.store.assignField(r,"learnable"),this.resetPrimaryDraggingState("learnable")):this.store.assignFieldToColumn(r,n.id),this.store.setActiveColumnIndex(null)}}},removeFieldFromColumn:function(e){this.store.assignFieldToColumn(e.get("index"),null)},removePrimaryField:function(e){this.store.assignField(null,e),this.props.forceDragonState(!0,e)},resetPrimaryDraggingState:function(e){this.props.forceDragonState(!1,e)}};t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e.store,a=t===r.getActiveColumnIndex(),i=e.props,l=i.csvPreview,u=i.isDraggingPrimaryField,c=i.isDraggingPrimaryFieldDupes,d=i.isDraggingManagerField,p=i.isDraggingLearnableField,f=l.get("primaryField.index")===t||l.get("primaryFieldDupes.index")===t||l.get("managerField.index")===t||l.get("learnableField.index")===t,m=u||c||d||p;return(0,o.default)((0,s.assign)({},n,{active:a,assigned:!!l.get("fields").filter(function(e){return e.index===t})[0],primary:f,primaryActive:a&&m,primaryFailed:l.get("primaryField.index")===t&&r.hasInvalidPrimaryColumn()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.generateClassNameForColumn=a;var s=n(4),i=n(6),o=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1370);Object.defineProperty(t,"CSVTable",{enumerable:!0,get:function(){return r(a).default}});var s=n(1368);Object.defineProperty(t,"FieldListItem",{enumerable:!0,get:function(){return r(s).default}});var i=n(1371);Object.defineProperty(t,"TableDropHeader",{enumerable:!0,get:function(){return r(i).default}});var o=n(1372);Object.defineProperty(t,"TablePrimaryHeader",{enumerable:!0,get:function(){return r(o).default}});var l=n(1369);Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return r(l).default}});var u=n(1367);Object.defineProperty(t,"CSVTableStore",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(845),o=r(i),l=n(24),u=r(l),c=n(11),d=r(c),p=n(4),f=n(3),m=s.default.createClass({displayName:"AgendaView",propTypes:{events:(0,f.arrayOf)(o.default),eventComponent:f.func.isRequired},getDefaultProps:function(){return{events:[]}},shouldComponentUpdate:function(e){return e.eventComponent!==this.props.eventComponent||!(0,p.isEqual)(e.events,this.props.events)},render:function(){var e=this,t=this.props.events,n=t&&t.length>0,r=(0,p.groupBy)(t,this.formatDates),a=this.sortDates(Object.keys(r));return s.default.createElement("div",{className:"agenda-view"},n?a.map(function(t){return e.renderEventGroup(t,r[t])}):this.renderEmptyResults())},renderEmptyResults:function(){return s.default.createElement("div",{className:"agenda-view__empty-results"},s.default.createElement(u.default,null,I18n.t("There are no upcoming events.")))},renderEventGroup:function(e,t){return s.default.createElement("div",{key:e,className:"agenda-view__event-group"},s.default.createElement("div",{className:"agenda-view__event-group__header"},s.default.createElement("div",{className:"agenda-view__event-group__swatch"}),s.default.createElement("h2",{className:"agenda-view__event-group__date"},e)),s.default.createElement("ul",{className:"agenda-view__event-group__list"},t.map(this.renderEvent)))},renderEvent:function(e){return s.default.createElement("li",{key:"event-"+e.id,className:"agenda-view__event","data-capybara":"event-"+e.id},s.default.createElement(this.props.eventComponent,{event:e}))},formatDates:function(e){return(0,d.default)(e.startAt).format("dddd, LL")},sortDates:function(e){return e.sort(function(e,t){return(0,d.default)(new Date(e)).isAfter(new Date(t))?1:-1})}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(1684),o=r(i),l=n(11),u=r(l),c=n(3),d=n(845),p=r(d);o.default.setLocalizer(o.default.momentLocalizer(u.default));var f=s.default.createClass({displayName:"MonthView",propTypes:{date:(0,c.instanceOf)(Date),onNavigate:c.func,events:(0,c.arrayOf)(p.default),eventComponent:c.func.isRequired},getDefaultProps:function(){return{events:[],date:new Date,onNavigate:Function.prototype}},render:function(){var e=this.props,t=e.events,n=e.onNavigate,r=e.eventComponent,a=e.date;return s.default.createElement(o.default,{events:t,startAccessor:this.getStart,endAccessor:this.getEnd,date:a,onNavigate:n,views:["month"],toolbar:!1,components:{event:r},popup:!0})},getStart:function(e){return new Date(e.startAt)},getEnd:function(e){return new Date(e.endAt)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(24),o=r(i),l=n(18),u=r(l),c=n(77),d=r(c),p=n(27),f=r(p),m=n(5),h=n(6),g=r(h),v=n(137),_=r(v),y=n(3),b=n(11),E=r(b),C=n(12),I=s.default.createClass({displayName:"ViewBar",propTypes:{currentView:(0,y.oneOf)(["agenda","month"]),hideViewToggles:y.bool,isSticky:y.bool,onNavigate:y.func,onViewChange:y.func,currentDate:(0,y.instanceOf)(Date)},getDefaultProps:function(){return{hideViewToggles:!1,isSticky:!1,onNavigate:Function.prototype,onViewChange:Function.prototype,currentDate:new Date}},getInitialState:function(){return{renderArrowIcon:!0}},render:function(){var e=this.props,t=e.isSticky,n=e.currentDate,r=e.currentView,a="agenda"===r?"LL":"MMMM YYYY",i=(0,g.default)({"calendar__view-bar":!0,"calendar__view-bar--sticky":t}),l=(0,g.default)({"calendar__view-bar__content":!0,"calendar__view-bar--sticky__content":t});return s.default.createElement("div",{className:i},s.default.createElement("div",{className:l},s.default.createElement(u.default,{className:"calendar__view-bar__today-btn",onClick:this.navigateToToday,disabled:(0,E.default)(new Date).isSame(n,"day")},s.default.createElement(o.default,{"aria-hidden":"true"},I18n.t("Today")),s.default.createElement(f.default,{children:I18n.t("Display events starting from today")})),s.default.createElement("div",{className:"calendar__view-bar__date-picker"},s.default.createElement(d.default,{ref:"inputField",model:{date:(0,E.default)(this.props.currentDate).format()},field:"date",type:"date",className:"calendar__view-bar__date-picker__input",placeholder:(0,E.default)(n).format(a),dateFormat:a,onChange:this.navigateToMonth,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,allowPast:!0,autosize:!0}),this.state.renderArrowIcon&&this.renderArrowIcon()),!this.props.hideViewToggles&&this.renderViewToggles()))},renderViewToggles:function(){var e=this.props.onViewChange;return s.default.createElement("div",{className:"calendar__view-bar__view-toggles"},s.default.createElement(u.default,{className:this.getToggleClassName("month"),onClick:e.bind(null,"month"),onMouseDown:this.preventFocusOnClick},s.default.createElement(f.default,{children:I18n.t("Switch to Month View")}),s.default.createElement(m.Icon,{className:"gs-calendar"})),s.default.createElement(u.default,{className:this.getToggleClassName("agenda"),onClick:e.bind(null,"agenda"),onMouseDown:this.preventFocusOnClick},s.default.createElement(f.default,{children:I18n.t("Switch to Agenda View")}),s.default.createElement(m.Icon,{className:"gs-steps-process"})))},renderArrowIcon:function(){var e=function(){return document.querySelector(".calendar__view-bar__date-picker input").focus()};return s.default.createElement(u.default,{onClick:e,className:"calendar__view-bar__date-picker__arrow-button",tabIndex:"-1","aria-hidden":!0},s.default.createElement(m.Icon,{className:"gs-arrow-down"}))},handleInputFocus:function(){this.setState({renderArrowIcon:!1}),(0,_.default)(I18n.t("Enter the start date you would like to display events from. Format dates YYYY-MM-DD"),"assertive")},handleInputBlur:function(){this.setState({renderArrowIcon:!0})},navigateToMonth:function(e){var t=(0,E.default)(e).format(C.NAVIGATE_DATE_FORMAT),n=(0,E.default)(this.props.currentDate.toISOString()).format(C.NAVIGATE_DATE_FORMAT);t!==n&&this.props.onNavigate(e)},navigateToToday:function(){this.props.onNavigate(null)},getToggleClassName:function(e){var t=this.props.currentView;return(0,g.default)({"calendar__view-bar__view-toggles__button":!0,"calendar__view-bar__view-toggles__button--selected":t===e})},preventFocusOnClick:function(e){e.preventDefault()}});t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(23),o=r(i),l=n(2995),u=r(l),c=n(2993),d=r(c),p=n(2994),f=r(p),m=n(6),h=r(m),g=n(3),v=n(845),_=r(v),y=s.default.createClass({displayName:"Calendar",statics:{ViewBar:u.default,MonthView:f.default,AgendaView:d.default},propTypes:{view:(0,g.oneOf)(["agenda","month"]),events:(0,g.arrayOf)(_.default),date:(0,g.instanceOf)(Date),onNavigate:g.func,onViewChange:g.func,hideViewToggles:g.bool,children:g.node},getDefaultProps:function(){return{view:"month",events:[],date:new Date,onNavigate:Function.prototype,onViewChange:Function.prototype}},getInitialState:function(){return{stickyViewBar:!1,scrollDate:null}},componentDidMount:function(){this.requestAnimation()},componentWillUnmount:function(){window.cancelAnimationFrame(this.animationFrame)},componentDidUpdate:function(e){if(e.view!==this.props.view)if("agenda"===this.props.view)this.requestAnimation();else{this.animationFrame&&window.cancelAnimationFrame(this.animationFrame);var t=this.state.scrollDate;t&&t!==this.props.date&&this.props.onNavigate(t),this.setState({stickyViewBar:!1,scrollDate:null})}},render:function(){var e=this,t=this.props,n=t.view,r=t.hideViewToggles,a=t.onViewChange,i=(0,h.default)("calendar",{"calendar--sticky-header":this.state.stickyViewBar});return s.default.createElement("div",{ref:function(t){e.calendar=t},className:i},s.default.createElement(u.default,{currentView:n,hideViewToggles:r,onNavigate:this.props.onNavigate,onViewChange:a,isSticky:this.state.stickyViewBar,currentDate:this.displayDate(),ref:function(t){e.viewBar=t}}),this.renderView())},renderView:function(){var e=this,t=this.props,n=t.children,r=t.onNavigate,a=s.default.Children.only(n),i=[f.default,d.default].indexOf(a.type)!==-1,o=this.displayDate(),l=function(t){e.childView=t};return i?s.default.cloneElement(a,{date:o,onNavigate:r,ref:l}):a},requestAnimation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.view;"agenda"===e&&(this.animationFrame=window.requestAnimationFrame(this.handleAgendaScroll))},handleAgendaScroll:function(){var e=this.props.view;if("agenda"===e){var t=o.default.findDOMNode(this.calendar).getBoundingClientRect().top,n=o.default.findDOMNode(this.viewBar).getBoundingClientRect().height,r=t<n;this.state.stickyViewBar!==r&&this.setState({stickyViewBar:r}),this.setAgendaHeaderDate(),this.requestAnimation()}},setAgendaHeaderDate:function(){var e=this.getTopAgendaNode();if(e){var t=e.getElementsByClassName("agenda-view__event-group__date");if(t&&1===t.length){var n=new Date(t[0].textContent),r=this.state.scrollDate,a=!r||n.getTime()!==this.state.scrollDate.getTime();n&&a&&this.setState({scrollDate:n})}}else this.state.scrollDate&&this.setState({scrollDate:null})},getTopAgendaNode:function(){var e=o.default.findDOMNode(this.childView);if(e){var t=e.getElementsByClassName("agenda-view__event-group"),n=this.getDateScrollBoundary();if(t&&t.length>0)for(var r=0,a=t.length-1;r<=a;){var s=Math.floor((r+a)/2),i=t[s],l=i.getBoundingClientRect();if(l.bottom<n)r=s+1;else{if(!(l.top>n))return i;a=s-1}}}return null},getDateScrollBoundary:function(){var e=o.default.findDOMNode(this.viewBar);return e?e.getBoundingClientRect().bottom:0},displayDate:function(){return this.state.scrollDate||this.props.date}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.Collapsible=void 0;var a=n(1),s=r(a),i=n(3),o=n(18),l=r(o),u=n(5),c=n(6),d=r(c),p=s.default.createClass({displayName:"Header",propTypes:{expanded:i.bool.isRequired,onToggle:i.func.isRequired,children:i.node},render:function(){var e=(0,d.default)({"gs-1x":!0,"gs-arrow-down":!this.props.expanded,"gs-arrow-up":this.props.expanded});return s.default.createElement("div",{className:"collapsi-panel__header"},this.props.children,s.default.createElement(l.default,{onClick:this.props.onToggle},s.default.createElement(u.Icon,{className:e})))}}),f=s.default.createClass({displayName:"Frame",propTypes:{header:(0,i.arrayOf)(i.node).isRequired,expanded:i.bool.isRequired,onToggle:i.func.isRequired,children:i.node},getDefaultProps:function(){return{expanded:!1,onToggle:function(){return null}}},render:function(){return s.default.createElement("div",null,s.default.createElement(p,{expanded:this.props.expanded,onToggle:this.props.onToggle},this.props.header),this.props.expanded&&this.props.children)}}),m=s.default.createClass({displayName:"Collapsible",propTypes:{children:i.node},getInitialState:function(){return{open:0}},clickAction:function(e){var t=this;return function(){var n=t.state.open;t.setState({open:e===n?null:e})}},myChildrenAsFrames:function(){var e=this,t=[];return s.default.Children.forEach(this.props.children,function(n,r){t.push(s.default.createElement(n.type,{key:r,children:n.props.children,header:n.props.header,expanded:e.state.open===r,onToggle:e.clickAction(r).bind(e)}))}),t},render:function(){return s.default.createElement("div",{className:"collapsi-panel collapsi-panel__top-level"},this.myChildrenAsFrames())}});t.Collapsible=m,t.Frame=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(2),h=n(58),g=r(h),v=n(4),_=n(179),y=r(_),b=n(3315),E=r(b),C=n(343),I=r(C),T=n(6),N=r(T),S=function(e){function t(){var e,n,r,a;(0,s.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),x.call(r),a=n,(0,u.default)(r,a)}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("div",{className:(0,N.default)("collapsible-list",this.props.className,{"collapsible-list--enabled":this.isCollapsible(),"collapsible-list--expanded":this.state.expanded,"collapsible-list--fully-expanded":this.state.fullyExpanded})},f.default.createElement("ul",{ref:"alwaysVisibleList",className:this.props.listClassName,children:this.alwaysVisibleChildren()}),this.isCollapsible()&&this.state.expanded&&f.default.createElement("ul",{ref:"hideableList",className:(0,N.default)(this.props.listClassName,"collapsible-list__hideable-list"),"data-capybara":"hideable_list",children:this.hideableChildren(),style:{maxHeight:0}}),this.renderToggle())}}]),t}(f.default.Component);S.propTypes={children:m.node,className:m.string,listClassName:m.string,toggleClassName:m.string,showMoreLabel:(0,m.oneOfType)([m.string,m.func]),showLessLabel:(0,m.oneOfType)([m.string,m.func]),visibleCount:m.number,expandDuration:m.number,collapseDuration:m.number,scrollUpDuration:m.number,bufferDuration:m.number},S.defaultProps={expandDuration:250,collapseDuration:350,scrollUpDuration:400,bufferDuration:70};var x=function(){var e=this;this.state={expanded:!1,fullyExpanded:!1},this.isCollapsible=function(){return!(0,g.default)(e.props.visibleCount)&&f.default.Children.count(e.props.children)>e.props.visibleCount},this.alwaysVisibleChildren=function(){return e.isCollapsible()?f.default.Children.toArray(e.props.children).slice(0,e.props.visibleCount):e.props.children},this.hideableChildren=function(){return e.isCollapsible()?f.default.Children.toArray(e.props.children).slice(e.props.visibleCount):[]},this.visibleChildren=function(){return!e.isCollapsible()||e.state.expanded?e.props.children:f.default.Children.toArray(e.props.children).slice(0,e.props.visibleCount)},this.renderToggle=function(){if(!e.isCollapsible())return null;var t=e.props.toggleClassName,n=e.state.fullyExpanded,r=(0,N.default)("collapsible-list__toggle",t);return f.default.createElement("button",{className:r,onClick:e.toggle,"data-capybara":"collapse_toggle"},f.default.createElement("span",{className:"button-focus-flat__label"},e.stringFunc(n?"showLessLabel":"showMoreLabel",[e.hideableChildren().length])))},this.toggle=function(){var t=e.props,n=t.expandDuration,r=t.collapseDuration,a=t.scrollUpDuration,s=t.bufferDuration;e.state.expanded?((0,E.default)(e.refs.alwaysVisibleList.parentNode.parentNode.offsetTop-100,a),setTimeout(function(){e.refs.hideableList.style.maxHeight=0,setTimeout(function(){e.setState({fullyExpanded:!1})},1),setTimeout(function(){e.setState({expanded:!1})},r)},a+s)):e.setState({expanded:!0},function(){var t=Array.from(e.refs.hideableList.children).reduce(function(e,t){return e+t.offsetHeight+1},0);e.refs.hideableList.style.maxHeight=t+"px";var r=e.refs.hideableList.children[0],a=(0,I.default)(r)[0]||r;(0,y.default)(a,function(){e.refs.hideableList.scrollTop=0}),setTimeout(function(){e.setState({fullyExpanded:!0})},n)})},this.stringFunc=function(t,n){var r=e.props[t];return(0,v.isFunction)(r)?r.apply(null,n):r}};t.default=S,e.exports=t.default},function(e,t,n){"use strict";var r=n(5),a=r.Icon,s=n(13),i=n(24),o=n(26),l=n(1),u=n(6),c=n(151),d=c.dueDateText,p=n(103),f=n(294),m=n(3e3),h=n(315),g=n(214),v=n(605),_=n(225),y=n(433),b=n(1471),E=b.attemptsLeftText,C=n(2),I=C.bool,T=C.func,N=C.string,S=C.shape,x=n(12),A=x.COURSE_STATUS_COMPLETE,k=x.COURSE_STATUS_FAILED,w=x.COURSE_STATUS_LOCKED,R=x.COURSE_TYPE_ILT,O=l.createClass({displayName:"CourseListItem",propTypes:{course:n(194).isRequired,itemLink:y.propTypes.itemLink,noLink:I,onRemove:T,onAttachmentIconClick:T.isRequired,single:I,showCertificateForSingle:I,isLearner:I,titlePlaceholder:N,activeItemId:N,showDescription:I,showDueDate:I,showAttachments:I,permissions:S({viewCourses:I,viewLiveCourses:I})},getDefaultProps:function(){return{single:!1,showCertificateForSingle:!1,isLearner:!0,permissions:{},showDescription:!0,showDueDate:!0,showAttachments:!0}},getInitialState:function(){return{wantToRemove:!1}},willRemoveCourse:function(){this.setState({wantToRemove:!0})},cancelRemove:function(){this.setState({wantToRemove:!1})},deleteCourse:function(){this.props.onRemove(this.props.course)},passThresholdLabel:function(){var e=this.props.course.passingThreshold,t=o.t("%{score}% Required to Pass",{score:parseInt(e,10)});return E(t,this.props.course.maxQuizAttempts,this.props.course.attemptsCount)},isTitleOnly:function(){return this.props.single||h.shouldShowTitleOnly(this.props.course)},hasCertificate:function(){return this.props.course.hasCertificate&&(this.props.showCertificateForSingle&&this.props.single||!this.props.single)},shouldShowProgress:function(){var e=this.props.course;return(e.programId||h.isStarted(e))&&!this.props.single},isRemovable:function(){var e=this.props.course;return!!this.props.onRemove&&!e.required&&e.state!==A},title:function e(){var e=void 0,t=this.props.course;return t.programId&&(e=t.programTitle),e||t.title||this.props.titlePlaceholder||o.t("Untitled Course")},buildClassName:function(){var e=this.props.course;return u({"course-list-item":!0,"course-list-item--completed":e.state===A,"course-list-item--locked":e.state===w,"course-list-item--overdue":h.isOverdue(e),"course-list-item--not-registered":e.notEnrolled,"course-list-item--want-to-remove":this.state.wantToRemove})},renderILT:function(){var e=this.props.noLink||!this.props.isLearner&&!this.props.permissions.viewLiveCourses;return l.createElement(m,{course:this.props.course,isLearner:this.props.isLearner,onAttachmentIconClick:this.props.onAttachmentIconClick,noLink:e,activeItemId:this.props.activeItemId})},addOverflowFade:function(){var e=this.props.course,t="theme-light"===document.body.className?"LIGHT_GREY":"GREY";return _(3,e.required?"WHITE":t)},renderCourseStatus:function(){var e=this.props.course;if(e.state===k&&!e.programId)return l.createElement(v,{permanentlyFailed:e.isPermanentlyFailed});var t=e.state===A,n=e.state===w;if(!h.isStarted(e)){var r=u({"course-list-item__status":!0,"course-status--no-border":this.shouldShowProgress(),"course-status--completed":t});return l.createElement(f,{isCompleted:t,isFailed:!1,isOverdue:h.isOverdue(e),isLocked:n,hasCertificate:this.hasCertificate(),certificateColorYellow:this.props.showCertificateForSingle,className:r,modifier:this.props.single?"blue":""})}return null},renderCertificateLink:function(){var e=this.props.course;return l.createElement("li",{key:"link"},l.createElement(s,{to:"course-certificate",params:[{courseId:e.learnableId}],className:"learning-item-list-item__meta--link brand-color"},l.createElement(i,null,o.t("view certificate"))))},renderCourse:function(){var e=this,t=this.props.course,n=t.endAt?d(t.endAt):o.t("No due date"),r=this.props.noLink||!this.props.isLearner&&!this.props.permissions.viewCourses,s=h.isOverdue(t),c=t.state===k,f=this.hasCertificate()&&this.props.isLearner;return l.createElement("div",null,l.createElement("div",{className:"course-list__wrap"},this.shouldShowProgress()&&l.createElement(p,{type:"circle",progress:t.progress,renderIcon:!0,iconClasses:u({"course-status__icon":!0,"brand-color":!s,"gs-book":!0}),segments:t.programCourseCount,currentSegment:t.indexOfProgram,isFailed:c,className:"course-list-item__status",isOverdue:s,isOptional:!t.required}),this.renderCourseStatus(),l.createElement("div",{className:"pure-g"},l.createElement("div",{className:u({"pure-u-20-24":!0,"course-list-item__title":!0})},l.createElement("h2",{className:"h3 margin-none"},r&&l.createElement("span",null,this.title()),!r&&l.createElement(y,{itemLink:this.props.itemLink,programId:t.programId,linkText:this.title()}),c&&l.createElement("div",{className:"course-list-item__pass-threshold",dangerouslySetInnerHTML:{__html:this.passThresholdLabel()}})),!c&&f&&this.isTitleOnly()&&this.props.showCertificateForSingle&&l.createElement("ul",{className:"course-list-item__meta","data-capybara":"learning_item_meta"},this.renderCertificateLink()),!this.isTitleOnly()&&l.createElement("ul",{className:"course-list-item__meta"},t.timeRemaining>0&&t.renewBy&&l.createElement("li",{key:"expires",className:"course-list-item__renew"},l.createElement(i,null,l.createElement(o.ComponentInterpolator,{string:o.t("Renew by %{learner_course_service_get_renew_by_time_course}",{learner_course_service_get_renew_by_time_course:"%{learner_course_service_get_renew_by_time_course}"}),learner_course_service_get_renew_by_time_course:h.getRenewByTime(t)},"$1"))),c&&l.createElement("li",{className:"medium"},l.createElement(i,null,o.t("Last Attempt Failed"))),t.milestoneTitle&&l.createElement("li",null,h.isStarted(t)?l.createElement(i,null,o.t("Current step")):l.createElement(i,null,o.t("Next step"))," ",l.createElement(y,{
itemLink:this.props.itemLink,courseId:t.learnableId,programId:t.programId,linkText:t.milestoneTitle,className:"course-list-item__course-link--milestone brand-color"})),this.props.showDueDate&&!t.programId&&t.state!==A&&l.createElement("li",null,l.createElement("span",{className:"course-list-item__due-date"},n)),t.state===A&&[t.expiresAt&&l.createElement("li",{key:"expires",className:"course-list-item__expires"},l.createElement(i,null,l.createElement(o.ComponentInterpolator,{string:o.t("Expires %{learner_course_service_get_expires_at_time_course}",{learner_course_service_get_expires_at_time_course:"%{learner_course_service_get_expires_at_time_course}"}),learner_course_service_get_expires_at_time_course:h.getExpiresAtTime(t)},"$1"))),l.createElement("li",{key:"completed"},l.createElement(i,null,l.createElement(o.ComponentInterpolator,{string:o.t("Completed %{learner_course_service_get_finished_time_ago_course}",{learner_course_service_get_finished_time_ago_course:"%{learner_course_service_get_finished_time_ago_course}"}),learner_course_service_get_finished_time_ago_course:h.getFinishedTimeAgo(t)},"$1"))),f&&this.renderCertificateLink()],t.timeRemaining>0&&l.createElement("li",{"data-capybara":"time-remaining"},h.isStarted(t)?l.createElement(i,null,l.createElement(o.ComponentInterpolator,{string:o.t("About %{i18n_t_minute_count_course_time_remaining} remaining",{i18n_t_minute_count_course_time_remaining:"%{i18n_t_minute_count_course_time_remaining}"}),i18n_t_minute_count_course_time_remaining:o.t("minute",{count:t.timeRemaining})},"$1")):l.createElement(i,null,l.createElement(o.ComponentInterpolator,{string:o.t("Takes about %{i18n_t_minute_count_course_time_remaining}",{i18n_t_minute_count_course_time_remaining:"%{i18n_t_minute_count_course_time_remaining}"}),i18n_t_minute_count_course_time_remaining:o.t("minute",{count:t.timeRemaining})},"$1"))),h.isCompletedOrFailed(t)&&l.createElement("li",null,l.createElement(i,null,l.createElement(o.ComponentInterpolator,{string:o.t("Your Score %{course_score}%",{course_score:"%{course_score}"}),course_score:t.score},"$1"))))),h.isCompletedOrFailed(t)&&this.props.single&&l.createElement("div",{className:"pure-u-4-24 text-right"},l.createElement(i,null,l.createElement(o.ComponentInterpolator,{string:o.t("Your Score%{br}%{course_score}*%*",{br:"%{br}",course_score:"%{course_score}"}),wrappers:{"*":l.createElement("span",{className:"superscript"},"$1")},course_score:l.createElement("b",{className:"learnerScore"},t.score),br:l.createElement("br",null)},"$1"))),!this.props.single&&this.props.showAttachments&&l.createElement("div",{className:"pure-u-4-24 text-right"},l.createElement(g,{onClick:function(){return e.props.onAttachmentIconClick(t)},activeItemId:this.props.activeItemId,itemId:t.id,attachmentsCount:t.attachmentsCount||0})),t.description&&this.props.showDescription&&l.createElement("span",{className:"course-list-item__description",ref:this.addOverflowFade()},t.description))),this.state.wantToRemove?l.createElement("div",{className:"border-grey border-l pure-u-6-24 text-right"},l.createElement("p",{className:"text-center"},l.createElement(i,null,o.t("Remove Course?"))),l.createElement("div",{className:"text-center"},l.createElement("button",{type:"button",onClick:this.cancelRemove,className:"btn--reset small bold upcase dark-grey margin-r-s"},l.createElement(i,null,o.t("Cancel"))),l.createElement("button",{type:"button",onClick:this.deleteCourse,className:"btn--reset small bold upcase pink"},l.createElement(i,null,o.t("Remove"))))):this.isRemovable()&&l.createElement("button",{type:"button",onClick:this.willRemoveCourse,className:"course-list-item__remove text-right btn--reset padding-r-m pure-u-2-24"},l.createElement("span",{className:"screenreader-only"},l.createElement(i,null,o.t("Delete"))),l.createElement(a,{className:"gs-x gs-1x dark-grey"})))},render:function(){var e=this.props.course;return l.createElement("li",{className:this.buildClassName(),"data-capybara":"library-list-item"},e.courseType===R?this.renderILT():this.renderCourse())}});e.exports=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(26),o=r(i),l=n(11),u=r(l),c=n(120),d=r(c),p=n(13),f=r(p),m=n(24),h=r(m),g=n(430),v=r(g),_=n(315),y=r(_),b=n(214),E=r(b),C=n(58),I=r(C),T=n(367),N=r(T),S=n(12),x=n(2),A=s.default.createClass({displayName:"LiveCourseItem",propTypes:{course:n(194),isLearner:x.bool,activeItemId:x.string,onAttachmentIconClick:x.func.isRequired,noLink:x.bool},getDefaultProps:function(){return{isLearner:!0}},title:function(){return this.props.course.title||o.default.t("Untitled Course")},hasTitle:function(){return!(0,I.default)(this.props.course.title)},sessionsCountLabel:function(){var e=this.props.course;return o.default.t({zero:"There are currently no sessions available for this course",one:"1 session available on %{date}",other:"%{count} sessions available beginning on %{date}"},{count:e.sessionsCount,date:y.default.getNextILTSessionDate(e)})},getIsCompleted:function(){return this.props.course.state===S.COURSE_STATUS_COMPLETE},getShowAttachments:function(){var e=this.props.course.attachmentsCount;return!!(e&&e>0)},render:function(){var e=this,t=this.props,n=t.course,r=t.noLink,a=t.isLearner,i=this.getIsCompleted(),l=this.getShowAttachments(),c=!!n.state,p=c&&(0,I.default)(n.endAt),m=c&&!p,g=!i&&c&&!r,_=s.default.createElement(f.default,{to:"author.live-course",params:[{courseId:n.learnableId}],className:"indigo"}),b=s.default.createElement(f.default,{to:"learner.live_training_calendar",queryParams:{liveCourseId:n.learnableId,date:(0,u.default)().format("YYYY-MM-DD")},className:"indigo"}),C=a?b:_;return s.default.createElement("div",{className:"pure-g-r course-list__flex-wrap"},s.default.createElement("div",{className:"pure-u-3-4 course-list__wrap"},s.default.createElement("div",{className:i?"live-course-list-item--completed":"live-course-list-item--incomplete"},s.default.createElement("div",{className:n.isEnrolled?"course-list-item__status":"course-list-item__status--not-enrolled"},s.default.createElement(v.default,{isComplete:i}),s.default.createElement(N.default,{isLocked:!c})),s.default.createElement("h2",{className:"h3 margin-none live-course-list-item__title"},g?C:this.title()),s.default.createElement("ul",{className:"course-list-item__meta"},!i&&n.renewBy&&s.default.createElement("li",{key:"renews",className:"live-course-list-item__renew"},s.default.createElement(h.default,null,s.default.createElement(o.default.ComponentInterpolator,{string:o.default.t("Renew by %{learner_course_service_get_renew_by_time_course}",{learner_course_service_get_renew_by_time_course:"%{learner_course_service_get_renew_by_time_course}"}),learner_course_service_get_renew_by_time_course:y.default.getRenewByTime(n)},"$1"))),i&&n.expiresAt&&s.default.createElement("li",{key:"expires",className:"live-course-list-item__expires"},s.default.createElement(h.default,null,s.default.createElement(o.default.ComponentInterpolator,{string:o.default.t("Expires %{learner_course_service_get_expires_at_time_course}",{learner_course_service_get_expires_at_time_course:"%{learner_course_service_get_expires_at_time_course}"}),learner_course_service_get_expires_at_time_course:y.default.getExpiresAtTime(n)},"$1"))),p&&s.default.createElement("li",{className:"numberOfSessions"},this.sessionsCountLabel()),m&&[s.default.createElement("li",{key:"summary",className:"live-course-list-item__end-date"},(0,d.default)(n.endAt,"LLLL")),n.location&&s.default.createElement("li",{key:"location",className:"live-course-list-item__location"},n.location)]),n.description&&s.default.createElement("span",{className:"course-list-item__description"},n.description))),!r&&s.default.createElement("div",{className:"pure-u-1-4 text-right course-list__action-btn-wrapper"},this.props.isLearner&&p&&y.default.hasILTSessions(n)&&s.default.createElement(f.default,{to:"learner.live_training_calendar",queryParams:{liveCourseId:n.learnableId,date:(0,u.default)().format("YYYY-MM-DD")},className:"btn course-list__action-btn brand-border brand-color"},s.default.createElement(h.default,null,o.default.t("Register Now"))),this.props.isLearner&&m&&!i&&s.default.createElement(f.default,{to:"learner.live_training_calendar",query_params:{liveCourseId:n.learnableId,date:(0,u.default)().format("YYYY-MM-DD")},className:"btn brand-border brand-color"},s.default.createElement(h.default,null,o.default.t("Reschedule"))),l&&s.default.createElement(E.default,{onClick:function(){return e.props.onAttachmentIconClick(n)},activeItemId:this.props.activeItemId,itemId:n.learnableId,attachmentsCount:n.attachmentsCount||0})))}});t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(11),l=r(o),u=n(77),c=r(u),d=n(6),p=r(d),f=n(5),m=n(64),h=r(m),g=n(60),v=r(g),_=n(24),y=r(_),b=function(e){var t=e.canEdit,n=e.dueOnDate,r=e.learnableName,a=e.onDueDateTypeChanged,i=e.onDueOnDateChange,o=(0,p.default)("date-picker",{blue:t}),u=(0,l.default)().diff(n,"days")>0,d="program"===r?"program content":"this "+r,m=function(){return s.default.createElement("div",{className:"due-date__warning"},s.default.createElement(f.Icon,{className:"gs-caution gs-1.5x orange warning-icon","aria-hidden":"true"}),s.default.createElement("div",null,I18n.t("The due date for %{learnableObj} is in the past. Any new enrollments will already be overdue.",{learnableObj:d})))},g=function(){return[s.default.createElement(y.default,{key:"label"},I18n.t("Due")),s.default.createElement(h.default,{key:"combo-box",selectedValue:"on",className:"combo-box pure-u-1-5",onChange:a},s.default.createElement(v.default,{value:"within",label:I18n.t("within")}),s.default.createElement(v.default,{value:"on",label:I18n.t("on")}))]};return s.default.createElement("div",{className:"course-meta-grid__cell--additional__body"},t?g():I18n.t("Due on"),s.default.createElement(c.default,{model:{date:(0,l.default)(n)},onChange:i,field:"date",type:"date",allowPast:!1,className:o,disabled:!t}),s.default.createElement("div",{className:"light small dark-grey due-date__info"},I18n.t("New enrollments must complete %{learnableObj} by %{date}",{learnableObj:d,date:(0,l.default)(n).format("ll")})),u&&m())};b.propTypes={canEdit:i.bool.isRequired,dueOnDate:i.string.isRequired,learnableName:i.string.isRequired,onDueDateTypeChanged:i.func.isRequired,onDueOnDateChange:i.func.isRequired},b.defaultProps={canEdit:!1,learnableName:"course",onDueDateTypeChanged:Function.prototype,onDueOnDateChange:Function.prototype},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(69),o=r(i),l=n(3),u=n(64),c=r(u),d=n(60),p=r(d),f=n(24),m=r(f),h=function(e){var t=e.canEdit,n=e.daysUntilDue,r=e.learnableName,a=e.onDaysUntilDueChanged,i=e.onDueDateTypeChanged,l="program"===r?"program content":"this "+r,u=function(){return[s.default.createElement(m.default,{key:"label"},I18n.t("Due")),s.default.createElement(c.default,{key:"combo-box",selectedValue:"within",className:"combo-box pure-u-1-5",onChange:i},s.default.createElement(p.default,{value:"within",label:I18n.t("within")}),s.default.createElement(p.default,{value:"on",label:I18n.t("on")}))]};return s.default.createElement("div",{className:"course-meta-grid__cell--additional__body"},t?u():I18n.t("Due within"),s.default.createElement(o.default,{growInPlace:!0,value:String(n),readOnly:!t,onChange:a,inputClassNames:"light blue-grey border-trbl"},s.default.createElement("span",{className:t&&"blue"},I18n.t("day",{count:n}))),I18n.t("of enrollment"),s.default.createElement("div",{className:"light small dark-grey due-date__info"},I18n.t("New enrollments must complete %{learnableObj} within %{days}",{days:I18n.t("day",{count:n}),learnableObj:l})))};h.propTypes={canEdit:l.bool.isRequired,daysUntilDue:l.number.isRequired,learnableName:l.string.isRequired,onDaysUntilDueChanged:l.func.isRequired,onDueDateTypeChanged:l.func.isRequired},h.defaultProps={canEdit:!1,daysUntilDue:10,learnableName:"course",onDaysUntilDueChanged:Function.prototype,onDueDateTypeChanged:Function.prototype},t.default=h,e.exports=t.default},,,,,function(e,t,n){"use strict";var r=n(1),a=n(55),s=n(293),i=n(2),o=i.func,l=i.shape,u=i.bool,c=r.createClass({displayName:"Content",statics:{POPUP_OPTIONS:{suppress:!1,position:{my:"top center",at:"bottom center"},hide:{event:"unfocus"},style:{def:!1,tip:{border:0,width:32,height:20}}}},propTypes:{learningItem:l({isLibraryItem:u,isPublished:u,openEnrollment:u}),onChange:o.isRequired,disabled:u},render:function(){var e=this.props,t=e.learningItem,n=e.onChange,s=e.disabled;return t.isPublished?r.createElement("div",{className:"dark-grey white-bg"},r.createElement("div",{className:"enrollment-link-popup__header"},r.createElement("h3",null,I18n.t("Sharable Link")),t.isLibraryItem&&t.openEnrollment?r.createElement("p",{className:"light upcase"},I18n.t("In Library")):r.createElement(a,{checked:t.openEnrollment,onChange:n,disabled:s})),this.renderFooter()):r.createElement("div",{className:"indigo border-trbl border-white white-bg text-center"},r.createElement("p",{className:"small margin-trbl-m"},I18n.t("Course needs to be published")))},renderFooter:function(){var e=this.props.learningItem,t=I18n.t("Learners can enroll from the Learning Library or using this link. To disable the link, first remove it from the Library."),n=I18n.t("Anyone with this link will be able to enroll."),a="";return e.isLibraryItem&&e.openEnrollment?a=t:e.openEnrollment||(a=n),r.createElement("div",{className:"enrollment-link-popup__footer"},r.createElement("p",{className:"blue-grey margin-b-s"},a),e.openEnrollment&&r.createElement("div",null,r.createElement("span",{className:"enrollment-link-popup__footer__description"},I18n.t("Copy the link below and share it with learners.")),r.createElement(s,{value:e.enrollUrl})))}});e.exports=c},,function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.bool,i=a.func,o=a.number,l=n(6),u=n(37),c=n(18),d=n(766),p=n(27),f=r.createClass({displayName:"FineTuneButton",mixins:[u({largerThanPhones:u.QUERY_LARGER_THAN_PHONES})],propTypes:{active:s.isRequired,onClick:i.isRequired,filterCount:o},isActive:function(){return this.props.active||this.props.filterCount>0},renderLabel:function(){return this.state.media.largerThanPhones?r.createElement("span",{className:"fine-tune-button__label"},I18n.t("Fine tune")):r.createElement(p,null,I18n.t("Fine tune"))},render:function(){return r.createElement(c,{className:l("fine-tune-button",{"fine-tune-button--active":this.isActive()}),onClick:this.props.onClick},this.renderLabel(),r.createElement(d,{className:"fine-tune-button__icon",badge:this.props.filterCount,badgeModifier:"blue",icon:"finetune"}))}});e.exports=f},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.bool,i=a.object,o=a.shape,l=a.func,u=n(36),c=n(6),d=n(4),p=n(601),f=n(18),m=function(e,t){return e.reduce(function(e,n){return e[n]=t(n),e},{})},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{predicate:function(){return!0},transform:function(e){return e}},n=t.predicate,r=t.transform;return d.reduce(e,function(e,t,a){var s=d.reduce([].concat(t),function(e,t){return n(t)?e.concat(r(t)):e},[]);return e.set(a,u.Set(s))},u.Map())},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return h(e,{predicate:t,transform:function(e){return e.id}})},v=r.createClass({displayName:"ReportFilterApplyBar",propTypes:{filters:i.isRequired,stagedFilters:i.isRequired,selectedItems:i.isRequired,media:o({largerThanPhones:s}),onApply:l},isApplicable:function(){if(d.some(this.props.selectedItems,function(e){return e.length}))return!0;var e=m(Object.keys(this.props.filters).concat(Object.keys(this.props.stagedFilters)),function(){return[]}),t=d.assign({},e,this.props.filters),n=d.assign({},e,this.props.stagedFilters);return!u.is(g(t),g(n,function(e){return e.selected}))},isClearable:function(){return d.some(this.props.filters,"length")||d.some(this.props.selectedItems,function(e){return e.length})||d.some(this.props.stagedFilters,function(e){return e.filter(function(e){return e.selected}).length})},handleClear:function(e){e&&p.clearFilters()},handleApply:function(e){e&&this.props.onApply()},render:function(){var e=this.isApplicable(),t=this.isClearable(),n=this.props.media.largerThanPhones||e,a=c("report-filter-apply-bar",{"report-filter-apply-bar--active":n});return r.createElement("div",{className:a},r.createElement("div",{className:"report-filter-apply-bar__container"},r.createElement("div",{className:"report-filter-apply-bar-controls"},r.createElement(f,{className:c({"report-filter-apply-bar-controls__button":!0,"report-filter-apply-bar-controls__button--clear":!0}),disabled:!t,onClick:this.handleClear.bind(this,t),children:I18n.t("Clear all")}),r.createElement(f,{className:c({"report-filter-apply-bar-controls__button":!0,"report-filter-apply-bar-controls__button--apply":!0}),disabled:!e,onClick:this.handleApply.bind(this,e),children:I18n.t("Apply")}))))}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(6),l=r(o),u=n(3010),c=r(u),d=n(3025),p=r(d),f=n(3022),m=r(f),h=n(3021),g=r(h),v=n(3024),_=r(v),y=n(3026),b=r(y),E=n(3027),C=r(E),I=n(3023),T=r(I),N=n(3013),S=r(N),x=n(3015),A=r(x),k=n(601),w=r(k),R=n(4);t.default=s.default.createClass({displayName:"FilterRefinements",propTypes:{isOpen:i.bool,close:i.func,filters:i.object,stagedFilters:i.object,selectedItems:i.object,allowedFilters:i.array,media:(0,i.shape)({largerThanPhones:i.bool,mobile:i.bool}),filterState:i.any},getDefaultProps:function(){return{isOpen:!1}},getInitialState:function(){return{activeFilters:[],collapse:!1,filterState:this.props.allowedFilters,hideOnMobile:!1}},changeFilterTypeState:function(e){var t=this;return function(n){var r=t.state.activeFilters.indexOf(e);return"boolean"==typeof n?(t.setState({hideOnMobile:t.props.media.mobile&&n}),void(n&&t.collapseAndStage(e))):void(r===-1?t.setState({activeFilters:t.state.activeFilters.concat(e)}):(t.state.activeFilters.splice(r,1),t.setState({activeFilters:t.state.activeFilters})))}},collapseAndStage:function(e){var t=this.props.filterState;Object.keys(t).forEach(function(t){"undefined"!=typeof e&&t!==e&&(w.default.updateFilterState({type:t,state:{name:"collapsed",value:!0}}),w.default.stageSelectedItems(t))})},collapseActive:function(){var e=this.props.filterState;Object.keys(e).forEach(function(e){w.default.updateFilterState({type:e,state:{name:"collapsed",value:!0}})})},componentDidUpdate:function(){this.state.collapse&&this.setState({collapse:!1})},wrapSearcher:function(e){return function(t,n){return e(t,n)}},handleApply:function(){this.collapseActive(),this.props.close(),w.default.applyFilters()},renderActiveFilter:function(e){var t=this,n={key:e+"-filter",staged:this.props.stagedFilters[e]||[],selected:this.props.selectedItems[e]||[],signalState:this.changeFilterTypeState(e),media:this.props.media,type:e,close:this.props.close},r=function(t,n){return t.lastStaged||(0,R.cloneDeep)(n[e])||[]};switch("undefined"!=typeof this.props.filterState[e]&&(Object.keys(this.props.filterState[e]).forEach(function(r){n[r]=t.props.filterState[e][r]}),n.lastStaged=r(n,this.props.stagedFilters),n.searchActive=n.searchActive||!1),e){case"group":n.searcher=this.wrapSearcher(m.default),n.noMatchLabel=I18n.t("There are no matching groups"),n.noItemsLabel=I18n.t("There are no groups available"),n.limit=10;break;case"program":n.searcher=this.wrapSearcher(p.default),n.noMatchLabel=I18n.t("There are no matching programs"),n.noItemsLabel=I18n.t("There are no programs available"),n.limit=5;break;case"course":n.searcher=this.wrapSearcher(g.default),n.noMatchLabel=I18n.t("There are no matching courses"),n.noItemsLabel=I18n.t("There are no courses available"),n.limit=5;break;case"live_training":n.searcher=this.wrapSearcher(_.default),n.noMatchLabel=I18n.t("There are no matching live trainings"),n.noItemsLabel=I18n.t("There are no live trainings available"),n.limit=5;break;case"tag":n.searcher=this.wrapSearcher(b.default),n.noMatchLabel=I18n.t("There are no matching tags"),n.noItemsLabel=I18n.t("There are no tags available"),n.limit=5;break;case"team":n.searcher=this.wrapSearcher(C.default),n.noMatchLabel=I18n.t("There are no matching teams"),n.noItemsLabel=I18n.t("There are no teams available"),n.limit=10;break;case"type":n.items=[{id:"course",label:I18n.t("Courses")},{id:"live_course",label:I18n.t("Live Trainings")}],n.noMatchLabel=I18n.t("There are no learning items of the selected type");break;case"learner":n.searcher=this.wrapSearcher(T.default),n.noMatchLabel=I18n.t("There are no matching learners"),n.noItemsLabel=I18n.t("There are no learners available"),n.limit=10;break;default:return null}return s.default.createElement(S.default,n)},componentWillMount:function(){var e=this.props.stagedFilters;this.setState({activeFilters:Object.keys(this.props.stagedFilters).filter(function(t){return e[t].length>0})})},render:function(){var e=(0,l.default)({"report-refinement":!0,"report-refinement--open":this.props.isOpen}),t=0===this.state.activeFilters.length&&(0,R.every)(this.props.filters,function(e){return 0===e.length});return s.default.createElement("div",{className:e,"data-capybara":"filter-container"},s.default.createElement("div",{className:"report-refinement-controls"},this.state.activeFilters.map(this.renderActiveFilter),s.default.createElement(A.default,{allowedTypes:this.props.allowedFilters,activeTypes:this.state.activeFilters,close:this.props.close,media:this.props.media,activateFilter:this.changeFilterTypeState,hideOnMobile:this.state.hideOnMobile,show:t})),s.default.createElement(c.default,{filters:this.props.filters,stagedFilters:this.props.stagedFilters,selectedItems:this.props.selectedItems,media:this.props.media,onApply:this.handleApply}))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(5),l=function(e){var t=e.onClick;return s.default.createElement("button",{className:"add-refinement-button",onClick:t,"data-capybara":"add-refinement-button"},s.default.createElement(o.Icon,{className:"add-refinement-button__icon gs-plus-sign"}),s.default.createElement("span",{className:"add-refinement-button__label"},I18n.t("Add another refinement")))};l.propTypes={onClick:i.func.isRequired},t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(6),o=r(i),l=n(774),u=r(l),c=n(3019),d=r(c),p=n(26),f=r(p),m=n(3),h=n(3016),g=r(h),v=n(3017),_=r(v),y=n(3020),b=r(y),E=n(601),C=r(E),I=n(4),T=n(3014),N=r(T),S=n(58),x=r(S),A=function(e){return function(){var t=this;this.search[e]().then(function(e){C.default.updateFilterState({type:t.props.type,state:[{name:"loading",value:!1},{name:"items",value:e}]})}),C.default.stageSelectedItems(this.props.type),C.default.updateFilterState({type:this.props.type,state:[{name:"loading",value:!0},{name:"hasPaged",value:!0}]})}};t.default=s.default.createClass({displayName:"FilterBase",propTypes:{isOpen:m.bool,close:m.func,staged:m.array,selected:m.array,signalState:m.func,media:(0,m.shape)({largerThanPhones:m.bool,mobile:m.bool}),loading:m.bool,collapsed:m.bool,hasPaged:m.bool,items:m.array,lastStaged:m.array,searchActive:m.bool,searchTerm:m.string,searcher:m.func,staticValues:m.array,limit:m.number,type:m.string,heading:m.string,noMatchLabel:m.string,noItemsLabel:m.string},getDefaultProps:function(){return{limit:10}},getInitialState:function(){return{setup:!1}},getSearchPlaceholder:function(){var e=this.props.type,t=e[0].toUpperCase()+e.slice(1);return f.default.t("Search for a %{type}",{type:t})},componentDidMount:function(){this.hasStaticItems()?this.initStaticFilterItems():this.searchItems()},itemClick:function(e){C.default.toggleItem(e,this.props.type)},hasStaticItems:function(){return(0,x.default)(this.props.searcher)},initStaticFilterItems:function(){C.default.updateFilterState({type:this.props.type,state:[{name:"loading",value:!1},{name:"items",value:this.props.items},{name:"collapsed",value:!1}]})},search:null,searchItems:function(){var e=this;this.search=this.props.searcher(this.props.searchTerm,{limit:this.props.limit}),this.search.getFirst().then(function(t){C.default.updateFilterState({type:e.props.type,state:[{name:"loading",value:!1},{name:"items",value:t}]})},function(){C.default.updateFilterState({type:e.props.type,state:[{name:"loading",value:!1},{name:"items",value:[]}]})}),C.default.updateFilterState({type:this.props.type,state:{name:"loading",value:!0}})},isSearchActive:function(){var e=this.props.searchActive;return!this.props.media.largerThanPhones||e},toggleSearch:function(e){var t=!this.props.searchActive;C.default.updateFilterState({type:this.props.type,state:[{name:"searchActive",value:t},{name:"searchTerm",value:""}]},this.searchItems),e.stopPropagation()},completeSelection:function(e){var t=(0,I.cloneDeep)(C.default.commitFilters(this.props.type));C.default.updateFilterState({type:this.props.type,state:[{name:"searchActive",value:!1},{name:"searchTerm",value:""},{name:"lastStaged",value:t}]},this.hasStaticItems()?null:this.searchItems),this.collapse(e)},cancelSelection:function(e){C.default.resetFilters(this.props.type,this.props.lastStaged),C.default.updateFilterState({type:this.props.type,state:[{name:"searchActive",value:!1},{name:"searchTerm",value:""}]},this.hasStaticItems()?null:this.searchItems),this.collapse(e)},clearSelection:function(e){C.default.clearFilters(this.props.type),this.returnFilterToSelector(!0),C.default.updateFilterState({type:this.props.type,state:{name:"lastStaged",value:[]}}),e.stopPropagation()},returnFilterToSelector:function(e){(e||0===this.props.staged.length)&&this.props.signalState(),this.props.collapsed||this.collapse()},activate:function(){this.state.setup||this.setState({setup:!0}),this.props.collapsed&&(this.props.signalState(!0),C.default.updateFilterState({type:this.props.type,state:{name:"collapsed",value:!1}}))},collapse:function(e){e&&e.stopPropagation(),C.default.updateFilterState({type:this.props.type,state:[{name:"hasPaged",value:!1},{name:"collapsed",value:!0}]}),this.props.signalState(!1)},updateSearchTerm:function(e){var t=this,n=this.props.searchTerm;C.default.updateFilterState({type:this.props.type,state:{name:"searchTerm",value:e}},function(){n!==e&&(C.default.stageSelectedItems(t.props.type),C.default.updateFilterState({type:t.props.type,state:{name:"hasPaged",value:!0}}),t.searchItems())})},handleNext:A("getNext"),handlePrevious:A("getPrevious"),renderItems:function(){return this.props.items&&this.props.items.length>0?this.props.searcher?s.default.createElement(_.default,{items:this.props.items,type:this.props.type,loading:this.props.loading,next:{has:this.search.hasNext(),on:this.handleNext},onSelectItem:this.itemClick,previous:{has:this.search.hasPrevious(),on:this.handlePrevious},staged:[].concat(this.props.staged,this.props.selected),highlightedText:this.props.searchTerm}):s.default.createElement(b.default,{items:this.props.items,type:this.props.type,onSelectItem:this.itemClick,staged:[].concat(this.props.staged,this.props.selected)}):this.props.searchTerm||this.props.loading?s.default.createElement("p",{className:"report-refinement-search-message"},this.props.noMatchLabel):s.default.createElement("p",{className:"report-refinement-search-message"},this.props.noItemsLabel)},componentWillUpdate:function(){var e=this.props.staged;e.length||this.state.setup||this.activate()},componentDidUpdate:function(e){this.state.setup&&this.props.collapsed&&this.returnFilterToSelector(),!e.searchActive&&this.props.searchActive?this.refs.search.focus():e.searchActive&&!this.props.searchActive&&this.updateSearchTerm("")},renderSearchPicker:function(){var e=(0,o.default)({"refinement-group":!0,"refinement-group--collapsed":this.props.collapsed});return s.default.createElement("div",{className:e,onClick:this.activate},s.default.createElement(N.default,{type:this.props.type,heading:this.props.heading,isSearchActive:this.isSearchActive(),cancelSelection:this.cancelSelection,clearSelection:this.clearSelection,completeSelection:this.completeSelection,toggleSearch:this.toggleSearch,media:this.props.media}),s.default.createElement(d.default,{ref:"search",active:this.isSearchActive(),onChange:this.updateSearchTerm,onClose:this.toggleSearch,placeholderText:this.getSearchPlaceholder(),searchTerm:this.props.searchTerm,media:this.props.media}),s.default.createElement(g.default,{staged:this.props.staged,type:this.props.type,show:this.props.collapsed,mobile:this.props.media.mobile,activateFilter:this.activate,collapsed:this.props.collapsed}),!this.props.collapsed&&s.default.createElement(u.default,{containerClassName:"margin-t-s text-center",isLoading:this.props.loading,children:this.renderItems()}))},renderStaticPicker:function(){var e=(0,o.default)({"refinement-group":!0,"refinement-group--collapsed":this.props.collapsed});return s.default.createElement("div",{className:e,onClick:this.activate},s.default.createElement(N.default,{type:this.props.type,heading:this.props.heading,cancelSelection:this.cancelSelection,clearSelection:this.clearSelection,completeSelection:this.completeSelection,media:this.props.media}),s.default.createElement(g.default,{staged:this.props.staged,type:this.props.type,show:this.props.collapsed,mobile:this.props.media.mobile,activateFilter:this.activate,collapsed:this.props.collapsed}),!this.props.collapsed&&this.renderItems())},render:function(){return this.hasStaticItems()?this.renderStaticPicker():this.renderSearchPicker()}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(26),o=r(i),l=n(3),u=n(82),c=r(u),d=n(27),p=r(d),f=n(6),m=r(f);e.exports=s.default.createClass({displayName:"FilterHeader",propTypes:{heading:l.string,type:l.string,isSearchActive:l.bool,cancelSelection:l.func,completeSelection:l.func,toggleSearch:l.func,clearSelection:l.func},getDefaultProps:function(){return{isSearchActive:!1,toggleSearch:null}},getSearchLabel:function(){return this.props.isSearchActive?o.default.t("Cancel %{type}",{type:this.props.type}):o.default.t("Search %{type}",{type:this.props.type})},getHeading:function(){var e=this.props.type,t=e[0].toUpperCase()+e.slice(1);return this.props.heading||o.default.t("%{type} is",{type:t.replace(/_/," ")})},render:function(){var e=(0,m.default)({"filter-search-toggle":!0,"filter-search-toggle--active":this.props.isSearchActive});return s.default.createElement("div",{className:"refinement-group__header"},s.default.createElement("button",{className:"refinement-group__cancel btn btn--content-editor",onClick:this.props.cancelSelection,"data-capybara":"report-refinement-cancel"},o.default.t("Cancel")),s.default.createElement("div",{className:"refinement-group__heading-mobile x-medium"},o.default.t("Fine Tune")),s.default.createElement("button",{className:"refinement-group__close btn tertiary",onClick:this.props.completeSelection,"data-capybara":"report-refinement-done"},o.default.t("Done")),s.default.createElement("h3",{className:"refinement-group__heading x-medium"},this.getHeading()),s.default.createElement("div",{className:"refinement-group__search"},this.props.toggleSearch&&s.default.createElement(c.default,{ref:"searchToggle",tooltipProps:{forceEdge:"left"},className:"padding-r-l",buttonClassName:e,icon:"search",label:this.getSearchLabel(),onClick:this.props.toggleSearch})),s.default.createElement("button",{className:"refinement-group__destroy gs-x gs-1x btn--content-editor",
label:o.default.t("Remove Filter"),icon:"x",onClick:this.props.clearSelection},s.default.createElement(p.default,null,o.default.t("Remove Filter"))))}})},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(2),i=s.array,o=s.func,l=s.bool,u=s.shape,c=n(26),d=n(24),p=n(3012),f=r.createClass({displayName:"FilterSelector",propTypes:{allowedTypes:i,activeTypes:i,close:o,media:u({mobile:l}),activateFilter:o,hideOnMobile:l,show:l},getDefaultProps:function(){return{allowedTypes:[],activeTypes:[]}},getInitialState:function(){return{tempShow:!1}},getUnusedFilters:function(e,t){return e.reduce(function(e,n){return t.indexOf(n)===-1&&e.push(n),e},[])},handleActivateFilter:function(e){this.setState({tempShow:!1},this.props.activateFilter(e))},handleShowFilters:function(){this.setState({tempShow:!0})},renderButtonOnly:function(){var e=this.props,t=e.hideOnMobile,n=e.activeTypes,r=e.allowedTypes,a=e.media,s=this.getUnusedFilters(r,n);return a.mobile&&!t&&0===s.length},renderNothing:function(){var e=this.props,t=e.hideOnMobile,n=e.activeTypes,r=e.allowedTypes,a=this.getUnusedFilters(r,n);return t||0===a.length&&n.length>0},renderFilterType:function(e){return r.createElement("button",{className:"filter-type-selector__item",key:e,onClick:this.handleActivateFilter.bind(this,e),"data-type":e},r.createElement(d,null,r.createElement(c.ComponentInterpolator,{string:c.t("%{item_replace}",{item_replace:"%{item_replace}"}),item_replace:e.replace(/_/," ")},"$1")))},render:function(){var e=this.props,t=e.allowedTypes,n=e.activeTypes,s=this.getUnusedFilters(t,n),i=a({"report-refinement__type-selector":!0,"filter-type-selector":!0});return this.renderButtonOnly()?r.createElement("button",{className:"filter-type-selector__cancel btn btn--content-editor",onClick:this.props.close,"data-capybara":"group-refinement-cancel"},c.t("Back")):this.renderNothing()?null:this.props.show||this.state.tempShow?r.createElement("div",{className:i,"data-capybara":"filter-type-selector"},r.createElement("div",{className:"filter-type-selector__header"},r.createElement("button",{className:"filter-type-selector__cancel btn btn--content-editor",onClick:this.props.close,"data-capybara":"group-refinement-cancel"},c.t("Back")),r.createElement("div",{className:"filter-type-selector__heading-mobile x-medium"},c.t("Fine Tune"))),r.createElement("h3",{className:"filter-type-selector__heading x-medium"},c.t("Select a field to refine by")),r.createElement("section",{className:"filter-type-selector__option-container"},s.map(this.renderFilterType))):r.createElement(p,{onClick:this.handleShowFilters})}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(2),l=o.array,u=o.bool,c=o.string,d=o.func,p=n(779),f=n(601),m=n(26),h=i.createClass({displayName:"FilterStagedSection",propTypes:{staged:l,show:u,type:c,mobile:u,activateFilter:d,collapsed:u},itemClick:function(e){f.toggleItem(e,this.props.type)},showStage:function(){var e=this.props,t=e.mobile,n=e.show,r=e.staged;return t?n&&r&&r.length>0:r&&r.length>0},renderRefinementItem:function(e){var t=e.item;return i.createElement(p,(0,s.default)({click:this.itemClick,key:e.id},t,{itemType:this.props.type,selected:e.selected,disableClick:this.props.collapsed}))},render:function(){return i.createElement("div",null,this.showStage()&&i.createElement("ul",{className:"refinement-group__selected-items"},this.props.staged.map(this.renderRefinementItem)),this.props.show&&i.createElement("div",{className:"refinement-group__add-wrapper"},i.createElement("button",{className:"refinement-group__add-label","data-caypbara":"add-group",onClick:this.props.activateFilter},m.t("Add a %{type}",{type:this.props.type}))))}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(26),l=n(779),u=n(2),c=u.array,d=u.bool,p=u.func,f=u.string,m=u.shape,h=function(e){return e?e.reduce(function(e,t){return t.selected&&(e[t.id]=!0),e},{}):{}},g=m({has:d.isRequired,on:p.isRequired}),v=i.createClass({displayName:"PaginatedItemList",propTypes:{items:c.isRequired,type:f,loading:d.isRequired,next:g.isRequired,onSelectItem:p.isRequired,previous:g.isRequired,staged:c.isRequired,highlightedText:f},handleNext:function(e){e.preventDefault(),!this.props.loading&&this.props.next.has&&this.props.next.on()},handlePrevious:function(e){e.preventDefault(),!this.props.loading&&this.props.previous.has&&this.props.previous.on()},renderRefinementItem:function(e,t){return i.createElement(l,(0,s.default)({click:this.props.onSelectItem,key:t.id},t,{itemType:this.props.type,selected:e[t.id],highlightedText:this.props.highlightedText}))},render:function(){var e=this.props,t=e.items,n=e.loading,r=e.next,a=e.previous,s=e.staged,l=h(s);return i.createElement("div",{className:"report-refinement-pagination"},i.createElement("ul",{className:"report-refinement-columns"},t.map(this.renderRefinementItem.bind(this,l))),i.createElement("div",{className:"report-refinement-pagination-controls"},(a.has||n)&&i.createElement("button",{className:"report-refinement-pagination-controls__button",disabled:n,onClick:this.handlePrevious,"data-capybara":"refinement_previous_page",children:o.t("Show prev")}),(r.has||n)&&i.createElement("button",{className:"report-refinement-pagination-controls__button",disabled:n,onClick:this.handleNext,"data-capybara":"refinement_next_page",children:o.t("Show next")})))}});e.exports=v},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(66),i=n(30),o=a.createClass({displayName:"SearchField",propTypes:{placeholderText:r.string,ariaLabelText:r.string,onChange:r.func,urlDriven:r.bool,debounceRate:r.number,searchTerm:r.string},getDefaultProps:function(){return{searchTerm:"",onChange:Function.prototype,urlDriven:!1,debounceRate:200}},getInitialState:function(){return{focused:!1,searchTerm:this.getSearchTerm()}},getPlaceholderText:function(){return this.props.placeholderText||I18n.t("Type here to search")},getSearchTerm:function(){return this.props.urlDriven?i.getQueryItem("search"):this.props.searchTerm},handleKeyDown:function(e){"Escape"===e.key&&(e.target.value="",this.handleInputChange(e))},focus:function(){this.refs.input.focus()},handleFocus:function(){this.setState({focused:!0})},handleBlur:function(){this.setState({focused:!1})},componentWillMount:function(){var e=this,t=this.props.debounceRate?s:function(e){return e},n=t(function(t){e.setState({searchTerm:t}),e.props.urlDriven&&i.updateQuery({search:t||void 0}),e.props.onChange(t)},this.props.debounceRate);this.handleInputChange=function(e){n(e.target.value)}},render:function(){return a.createElement("label",{className:"filter-search-field",onFocus:this.handleFocus,onBlur:this.handleBlur},a.createElement("input",{ref:"input",className:"filter-search-field__input",placeholder:this.getPlaceholderText(),onKeyDown:this.handleKeyDown,onChange:this.handleInputChange,defaultValue:this.state.searchTerm,"data-capybara":"filter-search-input","aria-label":this.props.ariaLabelText}))}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(2),l=o.bool,u=o.object,c=o.func,d=n(6),p=n(3018),f=n(82),m=n(52),h=i.createClass({displayName:"Search",propTypes:{active:l.isRequired,onClose:c.isRequired,media:u},focus:function(){this.refs.field.focus()},renderLargerThanPhones:function(){var e=d("filter-search",{"filter-search--active":this.props.active});return i.createElement("div",{className:e},i.createElement("div",{className:"filter-search__field-container"},this.props.active&&i.createElement(p,(0,s.default)({ref:"field"},this.props))),i.createElement("div",{className:"filter-search__controls"},i.createElement(f,{tooltipProps:{forceEdge:"right"},buttonClassName:"filter-search-cancel gs-3-4",icon:"x",label:I18n.t("Cancel"),onClick:this.props.onClose})))},renderMobile:function(){return i.createElement(m,(0,s.default)({ref:"field"},this.props))},render:function(){return this.props.media.largerThanPhones?this.renderLargerThanPhones():this.renderMobile()}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(779),u=r(l),c=n(3),d=function(e){return e?e.reduce(function(e,t){return t.selected&&(e[t.id]=!0),e},{}):{}};t.default=o.default.createClass({displayName:"StaticItemList",propTypes:{items:c.array.isRequired,type:c.string,onSelectItem:c.func.isRequired,staged:c.array.isRequired,highlightedText:c.string},renderRefinementItem:function(e,t){return o.default.createElement(u.default,(0,s.default)({click:this.props.onSelectItem,key:t.id},t,{itemType:this.props.type,selected:e[t.id],highlightedText:this.props.highlightedText}))},render:function(){var e=this.props,t=e.items,n=e.staged,r=d(n);return o.default.createElement("div",{className:"report-refinement-pagination"},o.default.createElement("ul",{className:"report-refinement-columns"},t.map(this.renderRefinementItem.bind(this,r))))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(306),a=n(7),s=n(44),i=n(68),o=i.of(n(45)),l=n(280).course;e.exports=function(e,t){var n=t.limit,i=s(function(e,t){return a({method:"GET",url:e||"/api/author/course_templates/titles",data:t}).then(function(e){return e.courses=e.course_templates.map(o).map(l),e})});return new r(i,{data:{search:e,limit:n},payloadHandler:function(e){var t=e.courses;return t}})}},function(e,t,n){"use strict";var r=n(306),a=n(7),s=n(44),i=n(68),o=i.of(n(51)),l=n(280).group,u=n(4),c=u.extend;e.exports=function(e,t){var n=t.limit,i=s(function(e,t){return a({method:"GET",url:e||"/api/author/groups",data:c({filters:["smart","group"]},t)}).then(function(e){return e.groups=e.groups.map(o).map(l),e})});return new r(i,{data:{search:e,limit:n},payloadHandler:function(e){var t=e.groups;return t}})}},function(e,t,n){"use strict";var r=n(306),a=n(7),s=n(44),i=n(68),o=i.of(n(51)),l=n(280).team,u=n(4),c=u.extend;e.exports=function(e,t){var n=t.limit,i=s(function(e,t){return a({method:"GET",url:e||"/api/author/users",data:c({filters:["learner"]},t)}).then(function(e){return e.users=e.users.map(o).map(l),e})});return new r(i,{data:{search:e,limit:n},payloadHandler:function(e){var t=e.users;return t}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(306),s=r(a),i=n(7),o=r(i),l=n(44),u=r(l),c=n(68),d=r(c),p=n(105),f=r(p),m=n(280),h=d.default.of(f.default);e.exports=function(e,t){var n=t.limit,r=(0,u.default)(function(e,t){return(0,o.default)({method:"GET",url:e||"/api/author/live_courses",data:t}).then(function(e){return e.live_courses=e.live_courses.map(h).map(m.live_course),e})});return new s.default(r,{data:{search:e,limit:n},payloadHandler:function(e){var t=e.live_courses;return t}})}},function(e,t,n){"use strict";var r=n(306),a=n(7),s=n(44),i=n(68),o=i.of(n(57)),l=n(280).program;e.exports=function(e,t){var n=t.limit,i=s(function(e,t){return a({method:"GET",url:e||"/api/author/programs",data:t}).then(function(e){return e.programs=e.programs.map(o).map(l),e})});return new r(i,{data:{search:e,limit:n},payloadHandler:function(e){var t=e.programs;return t}})}},function(e,t,n){"use strict";var r=n(306),a=n(7),s=n(44),i=n(68),o=i.of(n(176)),l=n(280).tag;e.exports=function(e,t){var n=t.limit,i=s(function(e,t){return a({method:"GET",url:e||"/api/author/tags",data:t}).then(function(e){return e.tags=e.tags.map(o).map(l),e})});return new r(i,{data:{search:e,limit:n},payloadHandler:function(e){var t=e.tags;return t}})}},function(e,t,n){"use strict";var r=n(306),a=n(7),s=n(44),i=n(68),o=i.of(n(51)),l=n(280).team,u=n(4),c=u.extend;e.exports=function(e,t){var n=t.limit,i=s(function(e,t){return a({method:"GET",url:e||"/api/author/groups",data:c({filters:["team"]},t)}).then(function(e){return e.groups=e.groups.map(o).map(l),e})});return new r(i,{data:{search:e,limit:n},payloadHandler:function(e){var t=e.groups;return t}})}},function(e,t,n){"use strict";var r=n(1),a=n(90),s=n(5),i=s.Icon,o=n(18),l=n(27),u=n(2),c=u.func,d=u.arrayOf,p=n(1374),f=r.createClass({displayName:"Widget",propTypes:{onSearch:c,onAdd:c,searchResults:d(n(309))},componentDidMount:function(){this.refs.comboBox.focusInput()},render:function(){return r.createElement(a,{ref:"comboBox",autocomplete:"list",className:"search-bar search-bar--group-add",inputClassName:"ic-autocomplete-input",onInput:this.props.onSearch,onSelect:this.props.onAdd,placeholder:I18n.t("Enter a name to find a group"),children:this.props.searchResults.map(this.renderGroup)})},renderGroup:function(e){return r.createElement(a.Option,{key:e.id,value:e.id,label:e.name,className:"search-results__result",children:r.createElement(p,{group:e})})}}),m=r.createClass({displayName:"CloseButton",propTypes:{onClick:c},render:function(){return r.createElement(o,{onClick:this.props.onClick,className:"btn--reset text-right full-width padding-s"},r.createElement(l,{children:I18n.t("Cancel")}),r.createElement(i,{className:"gs-x gs-1x dark-grey"}))}});t.Widget=f,t.CloseButton=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(3),v=n(5),_=n(90),y=r(_),b=n(124),E=r(b),C=n(3030),I=r(C),T=n(12),N=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectResult=n.selectResult.bind(n),n.changeRelevance=n.changeRelevance.bind(n),n.renderResult=n.renderResult.bind(n),n.renderResultAvatar=n.renderResultAvatar.bind(n),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"selectResult",value:function(e){this.props.onSelectResult(this.props.rowIndex,e)}},{key:"changeRelevance",value:function(e){this.props.onChangeRelevance(this.props.rowIndex,e)}},{key:"renderGroupSelector",value:function(){var e=this.props,t=e.results,n=e.searchPlaceholder,r=e.onSearch,a=e.groupName;return a?h.default.createElement("span",null,a):h.default.createElement(y.default,{ref:"combobox",autocomplete:"list",className:"search-bar search-bar--group-add",inputClassName:"ic-autocomplete-input",listClassName:"group-editor__autocomplete-list",onInput:r,onSelect:this.selectResult,placeholder:n,children:t.map(this.renderResult)})}},{key:"render",value:function(){return h.default.createElement("div",{className:"group-editor__row","data-qa":"group_row"},h.default.createElement("div",{className:"result-name"},0===this.props.rowIndex&&h.default.createElement("span",{className:"group-editor__header"},this.props.nameLabel),this.renderGroupSelector()),h.default.createElement("div",{className:"relevance-menu"},0===this.props.rowIndex&&h.default.createElement("span",{className:"relevance-menu__header"},I18n.t("Relevance")),h.default.createElement(I.default,{value:this.props.relevance,onChange:this.changeRelevance,menuLabelClassName:"relevance-menu-button","data-qa":"relevance_menu_button"})))}},{key:"renderResult",value:function(e){return h.default.createElement(y.default.Option,{className:"group-editor__search-result",key:"result-"+e.id,value:e.id,label:e.name},this.renderResultAvatar(e),h.default.createElement("span",{className:"padding-l-xs"},e.name))}},{key:"renderResultAvatar",value:function(e){return e.itemType?h.default.createElement("span",{className:"group-editor__search-result__icon"},h.default.createElement(v.Icon,{"aria-hidden":"true",className:this.learnableIconClass(e.itemType)})):h.default.createElement(E.default,(0,s.default)({className:"left"},e))}},{key:"learnableIconClass",value:function(e){switch(e){case T.LEARNING_ITEM_COURSE_TYPE:return"gs-book";case T.LEARNING_ITEM_PROGRAM_TYPE:return"gs-books";case T.LEARNING_ITEM_LIVE_COURSE_TYPE:return"gs-in-class";default:return"gs-quiz-question"}}}]),t}(h.default.Component);N.propTypes={results:(0,g.arrayOf)((0,g.shape)({id:g.string,name:g.string,itemType:(0,g.oneOf)(["CourseTemplate","Program","LiveCourse"])})),groupName:g.string,relevance:g.string,rowIndex:g.number,nameLabel:g.string,searchPlaceholder:g.string,onSearch:g.func,onSelectResult:g.func,onChangeRelevance:g.func},N.defaultProps={nameLabel:I18n.t("Group Name")},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(3),v=n(43),_=n(4),y=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return n=r=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.relevanceMap={enrolled:function(){return I18n.t("Required")},recommended:function(){return I18n.t("Recommended")},in_library:function(){return I18n.t("Available in Library")}},a=n,(0,d.default)(r,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.menuLabelClassName,n=e.value,r=e.onChange,a=(0,_.omit)(this.props,["menuLabelClassName","value","onChange"]);return h.default.createElement("div",{className:"relevance-menu__content"},h.default.createElement(v.SelectMenu,(0,s.default)({id:"relevance-input-field",label:h.default.createElement("div",{className:t},this.relevanceMap[n]?this.relevanceMap[n]():I18n.t("Set Relevance"))},a),h.default.createElement(v.Menu,null,h.default.createElement(v.MenuItemGroup,{value:n,onChange:r,label:h.default.createElement("span",{className:"relevance-menu__label","data-qa":"set_relevance"},I18n.t("Set Relevance")),centerOnLabel:!0},h.default.createElement(v.MenuItem,{value:"enrolled",className:"relevance-menu__item","data-qa":"relevance_required"},h.default.createElement("div",null,h.default.createElement("div",{className:"relevance-menu__item-category"},I18n.t("Required")),h.default.createElement("div",{className:"relevance-menu__item-description"},I18n.t("Enrolls learners and is marked as required in their My Learning")))),h.default.createElement(v.MenuItem,{value:"recommended",className:"relevance-menu__item","data-qa":"relevance_recommended"},h.default.createElement("div",null,h.default.createElement("div",{className:"relevance-menu__item-category"},I18n.t("Recommended")),h.default.createElement("div",{className:"relevance-menu__item-description"},I18n.t("Marked as recomended in the learners' My Learning")))),h.default.createElement(v.MenuItem,{value:"in_library",className:"relevance-menu__item","data-qa":"relevance_in_library"},h.default.createElement("div",null,h.default.createElement("div",{className:"relevance-menu__item-category"},I18n.t("Available in Library")),h.default.createElement("div",{className:"relevance-menu__item-description"},I18n.t("Enables visibility in the library"))))))))}}]),t}(h.default.Component);y.propTypes={menuLabelClassName:g.string,value:g.string,onChange:g.func.isRequired},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(50),u=n(3028),c=n(369),d=r(c),p=o.default.createClass({displayName:"Editor",propTypes:{searchResults:s.default.array,onSearch:s.default.func,onAdd:s.default.func,onCancel:s.default.func,disabled:s.default.bool,colSpan:s.default.string},getDefaultProps:function(){return{searchResults:[]}},render:function(){return o.default.createElement(l.Tr,{mobileClassNames:"pure-u-8-8"},o.default.createElement(l.Td,{colSpan:this.props.colSpan,mobileClassNames:"pure-u-7-8 padding-tb-xxs"},o.default.createElement(u.Widget,{searchResults:this.props.searchResults,onSearch:this.props.onSearch,onAdd:this.props.onAdd}),this.props.disabled&&o.default.createElement(d.default,null)),o.default.createElement(l.Td,{className:"sortable-table__td--vtop"},o.default.createElement(u.CloseButton,{onClick:this.props.onCancel})))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(13),u=r(l),c=n(27),d=r(c),p=n(5),f=n(18),m=r(f),h=n(782),g=r(h),v=n(20),_=r(v),y=n(652),b=r(y),E=o.default.createClass({displayName:"Entry",propTypes:{group:n(51).isRequired,onRemove:s.default.func,canBeRemoved:s.default.bool,showRegistered:s.default.bool,onEditGroup:s.default.func,showRelevance:s.default.bool},handleEditGroup:function(){this.props.onEditGroup(this.props.group)},render:function(){var e=g.default.Column,t=g.default.Avatar,n=this.props.group,r=(0,_.default)("learn_group_relevance")&&this.props.showRelevance,a="pure-u-5-8";r&&(a="pure-u-4-8");var s=[o.default.createElement(e,{mobileClassNames:a,key:"avatar"},o.default.createElement(u.default,{to:"author.group",params:[{groupId:n.id}],className:"indigo"},o.default.createElement(t,{group:n}))),o.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"users"},n.usersCount)];return r&&s.splice(1,0,o.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"relevance"},o.default.createElement("button",{className:"group-list__relevance btn--reset",onClick:this.handleEditGroup,"data-capybara":"relevance_btn"},o.default.createElement("span",{className:"button-focus-flat__label"},(0,b.default)(this.props.group.relevance))))),this.props.showRegistered&&s.push(o.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"registered"},n.registeredCount)),s.push(o.default.createElement(e,{mobileClassNames:"pure-u-1-8",key:"remove"},this.props.canBeRemoved&&o.default.createElement(m.default,{className:"text-right btn--reset remove-group full-width full-height",onClick:this.showRemovalConfirmationPrompt},o.default.createElement(d.default,{children:I18n.t("Remove Group")}),o.default.createElement(p.Icon,{className:"gs-x gs-1x dark-grey"})))),o.default.createElement(g.default,{ref:"entry",group:n,onRemove:this.props.onRemove},s)},showRemovalConfirmationPrompt:function(){this.refs.entry.confirmRemoval()}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(1379),o=n(18),l=r(o),u=n(301),c=r(u),d=s.default.createClass({displayName:"Header",propTypes:i.props,render:function(){return s.default.createElement("div",{className:"sortable-table-header--first-item"},s.default.createElement("h2",{className:"margin-t-xs margin-b-s left"},I18n.t("Groups")),this.props.canAddGroup&&this.renderAddGroupButton())},renderAddGroupButton:function(){return this.props.dueOnDateEnabled?this.renderWarningButton():this.renderDefaultButton(this.props.onAddGroup)},renderDefaultButton:function(e){return s.default.createElement(l.default,{className:"btn secondary right margin-t-xs",onClick:e,children:I18n.t("+ Group"),"data-capybara":"group_btn"})},renderWarningButton:function(){var e=I18n.t("Be careful..."),t=[{message:this.props.getOverdueMessage(),isPink:!1}],n=I18n.t("Add Group");return s.default.createElement(c.default,{className:"right",iconClassName:"gs-caution gs-2x orange",title:e,messages:t,confirmationText:n,onConfirmClick:this.props.onAddGroup},this.renderDefaultButton())}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(27),u=r(l),c=n(12),d=n(1375),p=r(d),f=n(3032),m=r(f),h=n(20),g=r(h),v=o.default.createClass({displayName:"Listing",propTypes:{removableGroupTypes:s.default.arrayOf(s.default.oneOf(c.GROUP_TYPE_VALUES)),groups:s.default.arrayOf(n(51)),onRemove:s.default.func,children:s.default.node,search:s.default.string,showRegistered:s.default.bool,onEditGroup:s.default.func,showRelevance:s.default.bool},getDefaultProps:function(){return{removableGroupTypes:[],groups:[],onRemove:Function.prototype}},render:function(){var e=p.default.ColumnGroup,t=p.default.Column,n=p.default.Body,r=(0,g.default)("learn_group_relevance")&&this.props.showRelevance,a="pure-u-5-8",s="th-50";r&&(a="pure-u-4-8",s="th-40");var i=this.props.search?I18n.t("There are no groups matching your criteria."):I18n.t("You haven't invited any groups yet."),l=[o.default.createElement(t,{sortParam:"name",key:"name",className:s,mobileClassNames:a},I18n.t("Name")),o.default.createElement(t,{sortParam:"memberships_count",key:"members",className:"th-20",mobileClassNames:"pure-u-1-8"},I18n.t("# Members"))];return r&&l.splice(1,0,o.default.createElement(t,{sortParam:"relevance",key:"relevance",className:"th-20",mobileClassName:"pure-u-1-8"},I18n.t("Relevance"))),this.props.showRegistered&&l.push(o.default.createElement(t,{sortParam:"registered_count",key:"registered",className:"th-20",mobileClassNames:"pure-u-1-8"},I18n.t("# Registered"))),l.push(o.default.createElement(t,{className:"sortable-table__th--icon",key:"remove",sortable:!1,mobileClassNames:"pure-u-1-8"},this.props.removableGroupTypes.length>0&&o.default.createElement(u.default,{children:I18n.t("Remove Group")}))),o.default.createElement("div",{className:"group-list padding-t-xs"},o.default.createElement(p.default,null,o.default.createElement(e,null,l),o.default.createElement(n,{emptyStateMessage:i},this.props.children,this.props.groups.map(this.renderGroup))))},renderGroup:function(e){return o.default.createElement(m.default,{key:e.id,group:e,onEditGroup:this.props.onEditGroup,onRemove:this.props.onRemove.bind(null,e.id),canBeRemoved:this.isGroupTypeRemovable(e),showRegistered:this.props.showRegistered,showRelevance:this.props.showRelevance})},isGroupTypeRemovable:function(e){var t=e.type,n=e.relevance;return(!(0,g.default)("learn_libraryitem_relevance")||"domain"!==t||void 0!==n)&&this.props.removableGroupTypes.indexOf(t)>-1}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(3033),d=r(c),p=n(3034),f=r(p),m=n(3031),h=r(m),g=n(1379),v=r(g),_=n(52),y=r(_),b=n(603),E=r(b),C=n(12),I=u.default.createClass({displayName:"View",propTypes:{groups:o.default.arrayOf(o.default.object),searchResults:o.default.arrayOf(n(309)),removableGroupTypes:o.default.arrayOf(o.default.oneOf(C.GROUP_TYPE_VALUES)),sort:o.default.string,search:o.default.string,onSearch:o.default.func,onAddGroup:o.default.func,onEnrollGroups:o.default.func,onCreateGroups:o.default.func,onUpdateGroups:o.default.func,onRemoveGroup:o.default.func,isEnrolling:o.default.bool,canAddGroup:o.default.bool,showRegistered:o.default.bool,useDrawerEditor:o.default.bool,headerProps:v.default},getInitialState:function(){return{editorVisible:!1,groupToEdit:null}},editGroup:function(e){this.setState({editorVisible:!0,groupToEdit:e})},render:function(){var e=I18n.t("Add a group");return this.state.groupToEdit&&(e=I18n.t("Edit Relevance")),u.default.createElement("div",{className:"large-content-area--padded centered"},u.default.createElement(d.default,(0,s.default)({canAddGroup:this.props.canAddGroup,onAddGroup:this.launchEditor},this.props.headerProps)),u.default.createElement("div",{className:"left indigo"},u.default.createElement(y.default,{searchTerm:this.props.search,placeholderText:I18n.t("Search for groups")})),u.default.createElement(f.default,{onEditGroup:this.editGroup,groups:this.props.groups,removableGroupTypes:this.props.removableGroupTypes,onRemove:this.props.onRemoveGroup,search:this.props.search,showRegistered:this.props.showRegistered,showRelevance:this.props.useDrawerEditor},!this.props.useDrawerEditor&&this.state.editorVisible&&u.default.createElement(h.default,{onCancel:this.closeEditor,searchResults:this.props.searchResults,onSearch:this.props.onSearch,onAdd:this.props.onAddGroup,disabled:this.props.isEnrolling,colSpan:this.props.showRegistered?"3":"2"})),this.props.useDrawerEditor&&this.state.editorVisible&&u.default.createElement(E.default,{group:this.state.groupToEdit,title:e,searchPlaceholder:I18n.t("Enter a name to find a group"),results:this.props.searchResults,onCancel:this.closeEditor,onEnroll:this.handleEnroll,onSearch:this.props.onSearch}))},handleEnroll:function(e){var t=this.props,n=t.onUpdateGroups,r=t.onCreateGroups,a=t.onEnrollGroups,s=t.useDrawerEditor;return s?this.state.groupToEdit?n(e):r(e):a(e)},launchEditor:function(){this.setState({editorVisible:!0,groupToEdit:null})},closeEditor:function(){this.setState({editorVisible:!1,groupToEdit:null})}});e.exports=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(4),u=n(18),c=r(u),d=n(13),p=r(d),f=n(133),m=r(f),h=n(301),g=r(h),v=n(114),_=r(v),y=o.default.createClass({displayName:"Header",propTypes:{canEnroll:s.default.bool,canUnenroll:s.default.bool,canExport:s.default.bool,onEnroll:s.default.func,learnableId:s.default.string,isMobile:s.default.bool,hasEnrollments:s.default.bool,uploadRoute:s.default.string,reportParams:s.default.object,dueDatePast:s.default.bool,getOverdueMessage:s.default.func},getDefaultProps:function(){return{isMobile:!1,dueDatePast:!1}},render:function(){var e=!(this.props.isMobile||_.default.isMobile());return o.default.createElement("div",{className:"sortable-table-header--first-item"},o.default.createElement("h2",{className:"margin-t-xs margin-b-s left"},I18n.t("Learners")),this.props.canEnroll&&this.renderAddLearnerButton(),e&&o.default.createElement("span",{className:"right"},this.props.canEnroll&&o.default.createElement(p.default,{to:this.props.uploadRoute,params:[{contextId:this.props.learnableId}],queryParams:{uploadType:"import"},className:"margin-t-s margin-r-m right",children:I18n.t("Add via CSV")}),this.props.hasEnrollments&&this.props.canUnenroll&&o.default.createElement(p.default,{to:this.props.uploadRoute,params:[{contextId:this.props.learnableId}],queryParams:{uploadType:"deport"},className:"margin-t-s margin-r-m right",children:I18n.t("Remove via CSV")}),this.props.hasEnrollments&&this.props.canExport&&o.default.createElement(m.default,{className:"margin-t-s margin-r-m right",type:"report",info:this.reportParams(this.props),children:I18n.t("Export Enrollments"),capybara:"export_csv"})))},renderAddLearnerButton:function(){return this.props.dueDatePast?this.renderWarningButton():this.renderDefaultButton(this.props.onEnroll)},renderDefaultButton:function(e){return o.default.createElement(c.default,{className:"btn secondary right margin-t-xs",onClick:e,children:I18n.t("+ Learner")})},renderWarningButton:function(){var e=[{message:this.props.getOverdueMessage(),isPink:!1}];return o.default.createElement(g.default,{className:"right",iconClassName:"gs-caution gs-2x orange",title:I18n.t("Be careful..."),messages:e,confirmationText:I18n.t("Add Learner"),onConfirmClick:this.props.onEnroll},this.renderDefaultButton())},reportParams:function(e){return(0,l.extend)({sort:e.sort},e.reportParams)}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(53),d=r(c),p=n(3038),f=r(p),m=n(19),h=r(m),g=n(29),v=r(g),_=u.default.createClass({displayName:"LearnableLearners",mixins:[(0,d.default)(function(e){e.enrollmentStore.fetchNext(e.params[e.learnableIdParam],e.query.sort,e.query.search)})],propTypes:{isLoading:o.default.bool,isEnrolling:o.default.bool,learnable:o.default.shape({id:o.default.string}),enrollments:o.default.array,searchResults:o.default.arrayOf(n(309)),query:o.default.shape({sort:o.default.string,search:o.default.string}),permissions:o.default.shape({enrollLearners:o.default.bool,unenrollLearners:o.default.bool,exportLearners:o.default.bool,expire:o.default.bool}),enrollmentStore:o.default.object.isRequired,learnableIdParam:o.default.string,searchInLearnable:o.default.func,getPropsForLearnable:o.default.func,onUnenroll:o.default.func},getDefaultProps:function(){return{onUnenroll:function(){var e;return(e=this.enrollmentStore).unenroll.apply(e,arguments)}}},shouldComponentUpdate:function(e){return!e.isLoading},render:function(){var e=this.props,t=e.permissions,n=e.learnable;return(0,v.default)("user_view")?u.default.createElement(f.default,(0,s.default)({learnable:n,canEnroll:t.enrollLearners,canUnenroll:t.unenrollLearners,canExport:t.exportLearners,
canExpire:t.expire,enrollments:this.props.enrollments,searchResults:this.props.searchResults,search:this.props.query.search,onSearch:this.lookup,onEnroll:this.enroll,onUnenroll:this.unenroll,isLoading:this.props.isLoading,isEnrolling:this.props.isEnrolling},this.props.getPropsForLearnable(n))):u.default.createElement("span",null,"This tab is not allowed")},lookup:function(e){this.props.searchInLearnable(e,this.props.learnable.id)},enroll:function(e){var t=this.props.learnable.id;this.props.enrollmentStore.enroll(t,e,this.props.query.sort,this.props.query.search).then(null,function(){(0,h.default)(I18n.t("Oh Snap! We were unable to add this learner. Please try again later."),{type:"error"})})},unenroll:function(e){var t=this.props.learnable.id;this.props.onUnenroll(t,e).then(null,function(){(0,h.default)(I18n.t("Oh Snap! We were unable to remove this learner. Please try again later."),{type:"error"})})}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(3036),d=r(c),p=n(1380),f=r(p),m=n(366),h=r(m),g=n(52),v=r(g),_=n(37),y=r(_),b=u.default.createClass({displayName:"View",mixins:[(0,y.default)({mobile:y.default.QUERY_MOBILE})],propTypes:{learnable:o.default.shape({id:o.default.string}),canEnroll:o.default.bool,canUnenroll:o.default.bool,canExport:o.default.bool,canExpire:o.default.bool,enrollments:o.default.array,searchResults:o.default.arrayOf(n(42)),search:o.default.string,onSearch:o.default.func,onEnroll:o.default.func,onUnenroll:o.default.func,isEnrolling:o.default.bool,isLoading:o.default.bool,searchMemberMessage:o.default.node,listingComponent:o.default.func,listingProps:o.default.object,entryComponent:o.default.func,entryProps:o.default.object,headerProps:o.default.object,inlineEnrollmentEditorProps:o.default.object},getDefaultProps:function(){return{listingComponent:f.default}},getInitialState:function(){return{editorVisible:!1}},render:function(){var e=this.props,t=e.learnable,n=e.enrollments,r=e.isLoading,a=e.searchMemberMessage,i=this.state.editorVisible&&u.default.createElement(h.default,(0,s.default)({searchColSpan:"1",searchResults:this.props.searchResults,searchMemberMessage:a,isLoading:this.props.isEnrolling,onSearch:this.props.onSearch,onEnroll:this.props.onEnroll,onCancel:this.closeEditor},this.props.inlineEnrollmentEditorProps)),o=this.props.listingComponent;return u.default.createElement("div",{className:"large-content-area--padded centered learnable-learners__view","data-capybara":"learners_area"},u.default.createElement(d.default,(0,s.default)({learnableId:t.id,canEnroll:this.props.canEnroll,canUnenroll:this.props.canUnenroll,canExport:this.props.canExport,onEnroll:this.launchEditor,isMobile:this.state.media.mobile,hasEnrollments:n.length>0&&!r},this.props.headerProps)),u.default.createElement("div",{className:"left indigo"},u.default.createElement(v.default,{searchTerm:this.props.search,placeholderText:I18n.t("Search for learners")})),u.default.createElement(o,(0,s.default)({learnableId:t.id,enrollments:n,canUnenroll:this.props.canUnenroll,canExpire:this.props.canExpire,onUnenroll:this.props.onUnenroll,search:this.props.search,editorOutlet:i,entryComponent:this.props.entryComponent,entryProps:this.props.entryProps},this.props.listingProps)))},launchEditor:function(){this.setState({editorVisible:!0})},closeEditor:function(){this.setState({editorVisible:!1})}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(18),u=r(l),c=n(432),d=r(c),p=function(e){var t=e.onRequestApproval,n=e.isOpen;return o.default.createElement(d.default,{isOpen:n,title:I18n.t("Get your work approved"),subtitle:I18n.t("You'll be able to send questions or comments to your\n      approver before sending.")},o.default.createElement(u.default,{className:"btn--themed filled",onClick:t,"data-capybara":"request_approval"},I18n.t("Request Approval")))};p.propTypes={onRequestApproval:s.default.func.isRequired,isOpen:s.default.bool},p.defaultProps={isOpen:!0},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(77),d=r(c),p=n(65),f=r(p),m=n(82),h=r(m),g=n(18),v=r(g),_=n(104),y=r(_),b=n(465),E=r(b),C=n(179),I=r(C),T=n(6),N=r(T);t.default=u.default.createClass({displayName:"LearnerApproval::Request",propTypes:{approver:y.default.isRequired,learner:E.default.isRequired,isOpen:o.default.bool.isRequired,onRequest:o.default.func.isRequired,onCancel:o.default.func.isRequired},componentWillMount:function(){this.approvalRequestData={}},componentDidUpdate:function(e){e.isOpen!==this.props.isOpen&&this.props.isOpen&&(0,I.default)(this.h3)},componentDidMount:function(){(0,I.default)(this.h3)},render:function(){var e=this.props,t=e.isOpen,n=e.learner,r=e.onCancel,a=e.approver,i=(0,N.default)("approval__footer","approval__footer--learner",{"approval__footer--open":t,"approval__footer--close":!t});return u.default.createElement("div",{className:i,"aria-hidden":!t},u.default.createElement("div",{className:"approval__footer-content approval__footer-content--feedback"},u.default.createElement("div",{className:"approval__feedback-header"},u.default.createElement("h3",{ref:this.setH3},I18n.t("Get your work approved")),u.default.createElement(h.default,{className:"approval__feedback-cancel",buttonClassName:"btn btn--reset",iconClassName:"approval__feedback-cancel-icon",icon:"x",onClick:r,label:I18n.t("Cancel")})),u.default.createElement("div",{className:"approval__feedback-details"},u.default.createElement(f.default,(0,s.default)({className:"avatar--small approval__feedback-user-icon"},n)),u.default.createElement(d.default,{className:"approval__feedback-comment-input",model:this.approvalRequestData,field:"comment",type:"textarea",label:I18n.t("Add a message to %{approver}",{approver:a.name})})),u.default.createElement("div",{className:"approval__feedback-btns margin-r-l"},u.default.createElement(v.default,{className:"approval__feedback-btn approval__feedback-btn--cancel",children:I18n.t("Cancel"),onClick:this.props.onCancel}),u.default.createElement(v.default,{className:"approval__feedback-btn margin-l-s",children:I18n.t("Request Approval"),onClick:this.request,"data-capybara":"request_approval-finish"}))))},setH3:function(e){this.h3=e},request:function(){this.props.onRequest(this.approvalRequestData.comment)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(4),u=n(104),c=r(u),d=n(112),p=r(d),f=n(465),m=r(f),h=n(144),g=r(h),v=n(1360),_=r(v),y=n(137),b=r(y),E=n(3040),C=r(E),I=n(3039),T=r(I),N=n(12),S=[N.APPROVAL_STATE_INCOMPLETE,N.APPROVAL_STATE_REJECTED];t.default=o.default.createClass({displayName:"LearnerApproval",propTypes:{learner:m.default.isRequired,approval:p.default.isRequired,approver:c.default.isRequired,approverType:u.ApproverType.isRequired,onEnterRequestApproval:s.default.func,onLeaveRequestApproval:s.default.func,onCreateApproval:s.default.func.isRequired,approvalEvents:s.default.arrayOf(g.default.isRequired),showFooter:s.default.bool},getDefaultProps:function(){return{onEnterRequestApproval:Function.prototype,onLeaveRequestApproval:Function.prototype,showFooter:!0}},getInitialState:function(){return{isRequestingApproval:!1,commentText:""}},renderFooter:function(){return o.default.createElement(T.default,{onRequestApproval:this.requestApproval,isOpen:this.canRenderFooter()})},renderApprovalRequest:function(){return o.default.createElement(C.default,{isOpen:this.state.isRequestingApproval,learner:this.props.learner,approver:this.props.approver,onRequest:this.handleRequest,onCancel:this.closeRequest})},render:function(){var e=this.props.approvalEvents;return o.default.createElement("div",{className:"approval"},o.default.createElement("div",{className:"pure-g-r"},o.default.createElement("div",{className:"pure-u-6-24"}),o.default.createElement("div",{className:"pure-u-12-24"},e&&o.default.createElement(_.default,{learner:{name:I18n.t("you")},approvalEvents:this.props.approvalEvents})),o.default.createElement("div",{className:"pure-u-6-24"})),this.renderFooter(),this.renderApprovalRequest())},canRenderFooter:function(){var e=this.props.approval.state;return this.props.showFooter&&(0,l.includes)(S,e)},requestApproval:function(){this.setState({isRequestingApproval:!0}),this.props.onEnterRequestApproval()},handleRequest:function(e){this.props.onCreateApproval(e),(0,b.default)(I18n.t("Approval Requested"),"assertive")},closeRequest:function(){this.setState({isRequestingApproval:!1},function(){(0,b.default)(I18n.t("canceled approval request"),"assertive")}),this.props.onLeaveRequestApproval()}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(5),u=n(24),c=r(u),d=n(428),p=r(d),f=n(447),m=r(f),h=n(278),g=r(h),v=n(6),_=r(v),y=n(137),b=r(y),E=n(899),C=r(E),I=n(1484),T=n(4),N=l.utils.I18nStringConstants,S=o.default.createClass({displayName:"LearnerCourseWrapperFooter",propTypes:{onNextSlide:s.default.func,onPreviousSlide:s.default.func,slide:g.default.isRequired,className:s.default.string},getDefaultProps:function(){return{className:""}},getInitialState:function(){return{slideCopy:{},feedbackCollapsed:!1}},componentWillMount:function(){this.checkForFeedback(this.props)},componentWillReceiveProps:function(e){this.checkForFeedback(e)},checkForFeedback:function(e){var t=e.slide;this.displayFeedbackFooter(t)&&!(0,T.isEqual)(t,this.state.slideCopy)&&this.setState({slideCopy:(0,T.cloneDeep)(t),feedback:this.getFeedback(t)})},render:function(){if(!this.displayFeedbackFooter())return null;var e=this.props,t=e.onNextSlide,n=e.onPreviousSlide,r=e.slide,a=this.isCorrect(),s=(0,_.default)("learner-slide-footer "+this.props.className,{"learner-slide-footer--correct":a,"learner-slide-footer--incorrect":!a,"learner-slide-footer--collapsed":this.state.feedbackCollapsed}),i=(0,_.default)("gs-2x",{"gs-check":a,"gs-x":!a}),u=this.state.feedback,d=this.getLabel();return o.default.createElement("footer",{className:s},o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"button-bg"},o.default.createElement(m.default,{collapsed:this.state.feedbackCollapsed,onClick:this.toggleFeedback,expandText:I18n.t("Expand Feedback"),collapseText:I18n.t("Collapse Feedback")}))),o.default.createElement("div",{className:"learner-slide-footer__icon"},o.default.createElement(l.Icon,{className:i})),o.default.createElement(p.default,{height:this.state.feedbackCollapsed?70:"auto",className:"learner-slide-footer__content-wrapper"},o.default.createElement("div",{className:"learner-slide-footer__label"},d),o.default.createElement("div",{className:"learner-slide-footer__message"},u)),o.default.createElement("div",{className:"learner-slide-footer__buttons"},r.previous&&o.default.createElement("button",{type:"button",className:"btn--themed btn--round margin-r-xs learner-slide-footer__buttons__previous previousStep",onClick:n},o.default.createElement("span",{className:"screenreader-only"},o.default.createElement(c.default,null,I18n.t("Back"))),o.default.createElement(l.Icon,{className:"gs-arrow-left gs-1x","aria-hidden":!0})),o.default.createElement("button",{type:"button",className:"btn--themed learner-slide-footer__buttons__next nextStep",onClick:t,"data-capybara":"next_button"},(0,I.getNextButtonText)(r.next),o.default.createElement(l.Icon,{className:"gs-arrow-right gs-1x padding-l-xs","aria-hidden":!0}))))},toggleFeedback:function(e){e.preventDefault(),this.setState({feedbackCollapsed:!this.state.feedbackCollapsed})},displayFeedbackFooter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.slide;return this.isAnswered(e)},isAnswered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.slide;return e.hasOwnProperty("score")},isCorrect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.slide;return(0,C.default)(e)},isShortAnswer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.slide;return"short_answer"===e.type},isUsingSameFeedback:function(e){return e.useSameFeedback||e.use_same_feedback},getFeedback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.slide,t=e.feedback||{};return this.isAnswered(e)&&this.isShortAnswer(e)?t.both?((0,b.default)(t.both),t.both):((0,b.default)(I18n.t("Thank you for your response!")),N.getCombinedFeedbackDefaultText()):this.isAnswered(e)&&this.isUsingSameFeedback(t)?((0,b.default)(t.both||N.getCombinedFeedbackDefaultText()),t.both||N.getCombinedFeedbackDefaultText()):this.isCorrect(e)?t.correct?((0,b.default)(t.correct),t.correct):((0,b.default)(I18n.t("You answered this question correctly!")),N.getCorrectFeedbackDefaultText()):t.incorrect?((0,b.default)(t.incorrect),t.incorrect):((0,b.default)(I18n.t("You answered this question incorrectly!")),N.getIncorrectFeedbackDefaultText())},getLabel:function(){return this.isAnswered()&&this.isShortAnswer()?"":this.isCorrect()?I18n.t("Correct"):I18n.t("Incorrect")}});t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(3046),u=r(l),c=n(1365),d=r(c),p=n(82),f=r(p),m=o.default.createClass({displayName:"Overlay",propTypes:{onCloseOverlay:s.default.func},render:function(){return o.default.createElement(d.default,{onClose:this.props.onCloseOverlay,pages:u.default,finishButton:o.default.createElement("button",{onClick:this.props.onCloseOverlay,className:"btn dark secondary constrained"},I18n.t("Let the genius begin"))},o.default.createElement(f.default,{buttonClassName:"btn btn--reset",className:"bridge-retain-overlay__close",icon:"x",iconClassName:"gs-1x black",label:I18n.t("Dismiss"),onClick:this.props.onCloseOverlay}))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(1363),l=r(o),u=n(292),c=r(u),d=function(){return s.default.createElement("div",{className:"bridge-retain-overlay__page"},s.default.createElement("div",{className:"bridge-retain-overlay__icon"},s.default.createElement(i.Icon,{className:"gs-brain-2 gs-4x"})),s.default.createElement(c.default,null,I18n.t("Bridge Retain")),s.default.createElement("div",{className:"bridge-retain-overlay__subtitle bridge-retain-overlay__title--first bridge-retain-overlay__subtitle--padded"},I18n.t("A scientifically proven technology to help you retain knowledge.")),s.default.createElement(l.default,null),s.default.createElement("div",{className:"bridge-retain-overlay__content bridge-retain-overlay__title--second screenreader-only"},I18n.t("Shows increased retention of knowledge with Bridge Retain technology.")))};d.getTitle=function(){return I18n.t("About Bridge Retain")},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(1364),l=r(o),u=n(292),c=r(u),d=function(){return s.default.createElement("div",{className:"bridge-retain-overlay__page"},s.default.createElement("div",{className:"bridge-retain-overlay__icon bridge-retain-overlay__icon--reverse"},s.default.createElement(i.Icon,{className:"gs-quiz-question gs-4x"})),s.default.createElement(c.default,null,I18n.t("Retain Exercises")),s.default.createElement("div",{className:"bridge-retain-overlay__subtitle bridge-retain-overlay__title--first"},I18n.t("Bridge Retain will prevent knowledge loss by periodically sending you retain exercises.")),s.default.createElement("div",{className:"bridge-retain-overlay__border"}),s.default.createElement(l.default,null))};d.getTitle=function(){return I18n.t("Retain Exercises")},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[n(3044),n(3045)],e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(3043),l=r(o),u=n(24),c=r(u),d=s.default.createClass({displayName:"RetainHint",getInitialState:function(){return{overlayOpen:!1,retainTip:!1}},toggleOverlay:function(){this.setState({overlayOpen:!this.state.overlayOpen})},toggleAccessibleRetainTip:function(){this.setState({retainTip:!this.state.retainTip})},render:function(){return s.default.createElement("div",{className:"learner-finished__retain-hint pure-u-1"},s.default.createElement(i.Icon,{className:"learner-finished__retain-hint__icon gs-brain-2 gs-2x"}),s.default.createElement("span",null,I18n.t("Bridge Retain is enabled for this course.")),s.default.createElement("div",null,s.default.createElement("div",{className:"screenreader-only"},s.default.createElement("button",{className:"margin-t-s brand-bg brand-border constrained btn dark filled",onClick:this.toggleAccessibleRetainTip,"aria-pressed":this.state.retainTip},I18n.t("More about retain")),this.state.retainTip&&s.default.createElement("div",{className:"learner-finished__retain-hint-details"},s.default.createElement("p",null,s.default.createElement(c.default,null,I18n.t("Bridge Retain is a scientifically proven technology to help you retain knowledge."))),s.default.createElement("p",null,s.default.createElement(c.default,null,I18n.t("Bridge Retain will prevent knowledge loss by periodically sending you retain exercises."))))),s.default.createElement("div",{"aria-hidden":"true"},s.default.createElement("button",{className:"margin-t-s brand-bg brand-border constrained btn dark filled",onClick:this.toggleOverlay},I18n.t("Tell me more")),this.state.overlayOpen&&s.default.createElement(l.default,{onCloseOverlay:this.toggleOverlay}))))}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(28),s=n(111),i=n(37),o=n(3),l=o.bool,u={missing:l,incorrect:l},c=r.createClass({displayName:"AnswerListItemCalloutBody",propTypes:u,render:function(){var e=a({"answer-list__item-callout":!0,"answer-list__item-callout--missing":this.props.missing,"answer-list__item-callout--incorrect":this.props.incorrect});return r.createElement("div",{className:e},this.getMessage())},getMessage:function(){return this.props.missing?I18n.t("Should be checked"):this.props.incorrect?I18n.t("Incorrect"):void 0}}),d=r.createClass({displayName:"AnswerListItemCallout",mixins:[i({mobile:i.QUERY_MOBILE})],propTypes:u,componentDidMount:function(){this.refs.popup&&this.refs.popup.open()},componentDidUpdate:function(){this.refs.popup&&!this.refs.popup.isOpen()&&this.refs.popup.open()},componentWillUnmount:function(){this.refs.popup&&this.refs.popup.close()},render:function(){return this.props.missing||this.props.incorrect?r.createElement(s,{ref:"popup",popupOptions:this.state.media.mobile?this.getMobilePopupOptions():this.getWidescreenPopupOptions(),content:c,missing:this.props.missing,incorrect:this.props.incorrect},r.createElement("span",null)):null},getWidescreenPopupOptions:function(){return{position:{my:"left center",at:"right center"},show:{event:!1},hide:{event:!1},style:{def:!1,classes:"answer-list__item-callout-popup answer-list__item-callout-popup--widescreen",tip:{border:0,width:32,height:20}}}},getMobilePopupOptions:function(){return{position:{my:"top left",at:"bottom left",adjust:{x:-10}},show:{event:!1},hide:{event:!1},style:{def:!1,classes:"answer-list__item-callout-popup answer-list__item-callout-popup--mobile",tip:{border:0,width:16,height:10,offset:10,mimic:"top center"}}}}});e.exports=d},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(6),i=n(3050),o=a.createClass({displayName:"MultipleAnswerList",propTypes:{isAnswered:r.bool,answers:r.array,chosenAnswers:r.array,correctAnswers:r.array,onSelect:r.func},getDefaultProps:function(){return{isAnswered:!1,answers:[],chosenAnswers:[],correctAnswers:[],onSelect:function(){}}},handleItemSelect:function(e){this.props.onSelect(e)},renderItems:function(){var e=this;return this.props.answers.map(function(t){return a.createElement(i,{key:t.id,answer:t,chosenAnswers:e.props.chosenAnswers,correctAnswers:e.props.correctAnswers,onSelect:e.handleItemSelect})})},render:function(){return a.createElement("ul",{className:s({"answer-list":!0,"answer-list--answered":this.props.isAnswered,"answer-list--multiple-answer":!0}),"data-capybara":"answer-list"},this.renderItems())}});e.exports=o},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(6),i=n(4),o=n(26),l=n(3048),u=a.createClass({displayName:"MultipleAnswerListItem",propTypes:{answer:r.object.isRequired,chosenAnswers:r.array,correctAnswers:r.array,onSelect:r.func},getDefaultProps:function(){return{answer:{},chosenAnswers:[],correctAnswers:[],onSelect:function(){}}},getStatusText:function(){var e=this.isChosen(),t=this.isCorrect(),n=this.isIncorrect();return e?t?o.t("Correctly chosen answer"):n?o.t("Incorrectly chosen answer"):o.t("Chosen answer"):t?o.t("Correct answer"):n?o.t("Incorrect answer"):void 0},isAnswered:function(){return this.props.correctAnswers.length},isChosen:function(){return this.props.chosenAnswers.indexOf(this.props.answer)>-1},isCorrect:function(){return i.map(this.props.correctAnswers,"id").indexOf(this.props.answer.id)>-1},isIncorrect:function(){return!!this.isAnswered()&&!this.isCorrect()},handleItemClick:function(){this.__select()},handleItemKeyDown:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.__select())},__select:function(){this.props.onSelect(this.props.answer.id)},render:function(){var e=this.isCorrect()||this.isIncorrect();return a.createElement("li",{className:s({"answer-list__item":!0,"answer-list__item--selected":this.isChosen(),"answer-list__item--correct":this.isCorrect(),"answer-list__item--incorrect":this.isIncorrect()}),onClick:this.handleItemClick,onKeyDown:this.handleItemKeyDown,"data-capybara":"answer-list-item",tabIndex:"0",role:"checkbox","aria-checked":this.isChosen()},a.createElement("div",{className:"answer-list__item__indicator dark "+(e?"":"brand-color")},a.createElement("span",{className:"screenreader-only"},this.getStatusText())),a.createElement("div",{className:"answer-list__item__body","data-capybara":"answer-list-item-body"},this.props.answer.body),a.createElement(l,{missing:!this.isChosen()&&this.isCorrect(),incorrect:this.isChosen()&&this.isIncorrect()}))}});e.exports=u},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(6),i=n(3052),o=a.createClass({displayName:"MultipleChoiceList",propTypes:{isAnswered:r.bool,answers:r.array,chosenAnswers:r.array,correctAnswers:r.array,onSelect:r.func},getDefaultProps:function(){return{isAnswered:!1,answers:[],chosenAnswers:[],correctAnswers:[],onSelect:function(){}}},handleItemSelect:function(e){this.props.onSelect(e)},renderItems:function(){var e=this;return this.props.answers.map(function(t,n){return a.createElement(i,{key:t.id,answer:t,chosenAnswers:e.props.chosenAnswers,correctAnswers:e.props.correctAnswers,onSelect:e.handleItemSelect,answerIndex:n})})},render:function(){return a.createElement("fieldset",null,a.createElement("ul",{className:s({"answer-list":!0,"answer-list--answered":this.props.isAnswered,"answer-list--multiple-choice":!0}),"data-capybara":"answer-list",role:"radiogroup"},this.renderItems()))}});e.exports=o},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(6),i=n(4),o=n(26),l=a.createClass({displayName:"MultipleChoiceListItem",propTypes:{answer:r.object.isRequired,chosenAnswers:r.array,correctAnswers:r.array,onSelect:r.func,answerIndex:r.number},getDefaultProps:function(){return{answer:{},chosenAnswers:[],correctAnswers:[],onSelect:function(){},answerIndex:0}},getStatusText:function(){var e=this.isChosen(),t=this.isCorrect(),n=this.isIncorrect();return e?t?o.t("Correctly chosen answer"):n?o.t("Incorrectly chosen answer"):o.t("Chosen answer"):t?o.t("Correct answer"):n?o.t("Incorrect answer"):void 0},isAnswered:function(){return this.props.correctAnswers.length},isChosen:function(){return this.props.chosenAnswers.indexOf(this.props.answer)>-1},isCorrect:function(){return i.map(this.props.correctAnswers,"id").indexOf(this.props.answer.id)>-1},isIncorrect:function(){return!!this.isAnswered()&&!this.isCorrect()},handleItemClick:function(){this.__select()},__select:function(){this.props.onSelect(this.props.answer.id)},focusLabel:function(){this.__select()},render:function(){var e=this,t=this.isCorrect()||this.isIncorrect();return a.createElement("label",{htmlFor:"ans-"+this.props.answerIndex,className:s({"answer-list__item":!0,"answer-list__item--selected":this.isChosen(),"answer-list__item--correct":this.isCorrect(),"answer-list__item--incorrect":this.isIncorrect()}),onClick:this.handleItemClick,"data-capybara":"answer-list-item",role:"radio","aria-checked":this.isChosen(),ref:function(t){e.answerLabel=t}},a.createElement("input",{type:"radio",name:"answers",id:"ans-"+this.props.answerIndex,className:"answer-list__item--radio",onFocus:this.focusLabel}),a.createElement("div",{className:"answer-list__item__indicator dark "+(t?"":"brand-color")},a.createElement("span",{className:"screenreader-only"},this.getStatusText())),a.createElement("div",{className:"answer-list__item__body","data-capybara":"answer-list-item-body"},this.props.answer.body))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(23),u=r(l),c=n(6),d=r(c),p=n(3054),f=r(p),m=n(3055),h=r(m),g=n(37),v=r(g),_=n(47),y=r(_);n(482);var b=function(e){return e.correctAnswers.length>0},E=u.default.findDOMNode,C=o.default.createClass({displayName:"ReorderAnswerList",mixins:[(0,v.default)({mobile:v.default.QUERY_MOBILE})],propTypes:{answers:s.default.array,chosenAnswers:s.default.array,correctAnswers:s.default.array,onReorder:s.default.func},getDefaultProps:function(){return{answers:[],chosenAnswers:[],correctAnswers:[],onReorder:function(){}}},getInitialState:function(){return{reorderModal:null}},componentDidMount:function(){(0,y.default)(E(this.list)).sortable({opacity:.9,disabled:this.isAnswered(),handle:this.getDragHandle(),update:this.handleSortableUpdate})},componentDidUpdate:function(e,t){t.media!==this.state.media&&(0,y.default)(E(this.list)).sortable("option","handle",this.getDragHandle())},componentWillReceiveProps:function(e){(0,y.default)(E(this.list)).sortable("option","disabled",b(e))},componentWillUnmount:function(){(0,y.default)(E(this.list)).sortable("destroy")},isAnswered:function(){return b(this.props)},getDragHandle:function(){return this.state.media.mobile?".answer-list__item__indicator":null},handleSortableUpdate:function(){this.props.onReorder([].slice.call(E(this.list).children).map(function(e){return e.getAttribute("data-answer-id")}))},handleOpenA11yReorder:function(e,t){this.setState({reorderModal:{triggeredBy:t,answer:e}})},handleSaveA11yReorder:function(e){this.props.onReorder(e.map(function(e){return e.id})),this.handleCloseA11yReorder()},handleCloseA11yReorder:function(){this.state.reorderModal&&(this.state.reorderModal.triggeredBy.focus(),this.setState({reorderModal:null}))},renderAnswer:function(e){return o.default.createElement(f.default,{key:e.id,answer:e,chosenAnswers:this.props.chosenAnswers,correctAnswers:this.props.correctAnswers,onReorderKeyDown:this.handleOpenA11yReorder})},render:function(){var e=this,t=(0,d.default)({"answer-list":!0,"answer-list--reorder":!0,"ui-sortable":!0,"answer-list--answered":this.isAnswered()}),n=this.state.reorderModal;return o.default.createElement("div",null,o.default.createElement("ol",{ref:function(t){e.list=t},className:t},this.props.chosenAnswers.map(this.renderAnswer)),n&&o.default.createElement(h.default,{onSave:this.handleSaveA11yReorder,onClose:this.handleCloseA11yReorder,answers:this.props.chosenAnswers,answer:n&&n.answer}))}});e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(2),o=r(i),l=n(6),u=r(l),c=n(4),d=r(c),p=n(197),f=r(p),m=d.default.findIndex,h=s.default.createClass({displayName:"ReorderAnswerListItem",propTypes:{answer:o.default.object.isRequired,chosenAnswers:o.default.array,correctAnswers:o.default.array,onReorderKeyDown:o.default.func.isRequired},getDefaultProps:function(){return{answer:{},chosenAnswers:[],correctAnswers:[]}},isAnswered:function(){return this.props.correctAnswers.length>0},isCorrect:function(){if(!this.isAnswered())return!1;var e=m(this.props.chosenAnswers,{id:this.props.answer.id})+1;return this.getCorrectPosition()===e},isIncorrect:function(){return!!this.isAnswered()&&!this.isCorrect()},getCorrectPosition:function(){if(!this.isAnswered())return null;var e=(0,f.default)(this.props.correctAnswers,"id",this.props.answer.id);return e.position},handleSortKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.props.onReorderKeyDown(this.props.answer,e.currentTarget))},handleSortClick:function(e){this.props.onReorderKeyDown(this.props.answer,e.currentTarget)},render:function(){var e=this.props.answer;return s.default.createElement("li",{className:(0,u.default)({"answer-list__item":!0,"answer-list__item--correct":this.isCorrect(),"answer-list__item--incorrect":this.isIncorrect()}),"data-answer-id":e.id},s.default.createElement("div",{className:"answer-list__item__indicator",onKeyDown:this.handleSortKeyDown,onClick:this.handleSortClick,tabIndex:"0",role:"button","aria-label":I18n.t("Move answer %{answer}",{answer:e.body})},this.isAnswered()&&s.default.createElement("span",{className:(0,u.default)({"answer-list__item__indicator__position":!0,hidden:this.isCorrect()})},this.getCorrectPosition())),s.default.createElement("div",{className:"answer-list__item__body"},e.body))}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(139),s=r(a),i=n(14),o=r(i),l=n(15),u=r(l),c=n(17),d=r(c),p=n(16),f=r(p),m=n(1),h=r(m),g=n(23),v=n(78),_=r(v),y=n(18),b=r(y),E=n(24),C=r(E),I=n(2),T=n(43),N=n(6),S=r(N),x=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onAfterOpen=function(){n.container.focus()},n.handleModalKeyDown=function(e){e.target===n.container&&n.wrapFocusToBottomIfNeeded(e)},n.handleClose=function(){n.props.onClose()},n.handleCancelButtonKeyDown=function(e){e.shiftKey&&"Tab"===e.key&&(e.preventDefault(),n.menu.focus())},n.handleMoveButtonKeyDown=function(e){e.shiftKey||"Tab"!==e.key||(e.preventDefault(),n.menu.focus())},n.handleMenuKeyDown=function(e){n.wrapFocusToBottomIfNeeded(e)},n.wrapFocusToBottomIfNeeded=function(e){e.shiftKey&&"Tab"===e.key&&(e.preventDefault(),n.moveButton.focus())},n.handleMenuFocus=function(e){n.setState({menuTabIndex:-1}),e.target===(0,g.findDOMNode)(n.menu)&&n.menu&&n.menu.focus()},n.handleMenuBlur=function(){n.setState({menuTabIndex:0})},n.handleSelect=function(e){n.setState({index:e})},n.handleSave=function(){if(null===n.state.index)return void n.handleClose();var e=n.props,t=e.answer,r=e.answers,a=r.findIndex(function(e){return e.id===t.id}),i=[].concat((0,s.default)(r));i.splice(a,1),i.splice(n.state.index,0,t),n.props.onSave(i)},n.state={menuTabIndex:0,index:null},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.answer,r=t.answers,a=this.state,s=a.menuTabIndex,i=a.index;if(!n)return null;var o=n.id,l=n.body,u=function(e){return(0,S.default)("answer-list-modal__checkbox",{"answer-list-modal__checkbox--selected":i===e})};return h.default.createElement(_.default,{isOpen:!0,className:"answer-list-modal",overlayClassName:"answer-list-modal__overlay",
onAfterOpen:this.onAfterOpen,onRequestClose:this.handleClose,contentLabel:""},h.default.createElement("div",{className:"answer-list-modal__container",tabIndex:"-1",ref:function(t){e.container=t},onKeyDown:this.handleModalKeyDown},h.default.createElement("div",{className:"answer-list-modal__content brand-font"},h.default.createElement("div",{className:"answer-list-modal__header"},h.default.createElement(C.default,null,h.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("*Where would you like to move * %{body}",{body:"%{body}"}),wrappers:{"*":h.default.createElement("span",null,"$1")},body:h.default.createElement("span",{className:"answer-list-modal__title"},l)},"$1"))),h.default.createElement("div",{onKeyDown:this.handleMenuKeyDown},h.default.createElement("label",{className:"answer-list-modal__label",id:"reorder-menu-label"},I18n.t("Place before")),h.default.createElement(T.Menu,{labelledBy:"reorder-menu-label",onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onChange:this.handleSelect,onClose:this.handleClose,ref:function(t){e.menu=t},value:i,tabIndex:s},r.filter(function(e){return e.id!==o}).map(function(e,t){return h.default.createElement(T.MenuItem,{className:"answer-list-modal__option",value:t,key:e.id,type:"radio"},h.default.createElement(T.CheckboxFacade,{className:u(t),checked:i===t}),h.default.createElement("span",{className:"answer-list-modal__option-label"},e.body))}),h.default.createElement(T.MenuItem,{className:"answer-list-modal__option",value:r.length-1,type:"radio"},h.default.createElement(T.CheckboxFacade,{className:u(r.length-1),checked:i===r.length-1}),h.default.createElement("span",{className:"answer-list-modal__option-label--end"},I18n.t("Place at the end")))))),h.default.createElement("div",{className:"answer-list-modal__footer"},h.default.createElement("div",{className:"answer-list-modal__actions"},h.default.createElement(b.default,{onClick:this.handleClose,onKeyDown:this.handleCancelButtonKeyDown,className:"answer-list-modal__cancel",label:I18n.t("Cancel")},I18n.t("Cancel")),h.default.createElement(b.default,{onClick:this.handleSave,onKeyDown:this.handleMoveButtonKeyDown,className:"answer-list-modal__move",label:I18n.t("Move"),ref:function(t){e.moveButton=t}},I18n.t("Move"))))))}}]),t}(h.default.Component);x.propTypes={onSave:I.func,onClose:I.func,answers:I.array,answer:I.object},t.default=x,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(188),s=n(2),i=s.string,o=s.func,l=r.createClass({displayName:"ShortAnswer",propTypes:{chosenAnswer:i,correctAnswer:i,onChange:o},getDefaultProps:function(){return{chosenAnswer:"",correctAnswer:"",onChange:Function.prototype}},render:function(){return this.props.correctAnswer.length?r.createElement("p",{className:"quiz-short-answer--answered block full-width","data-capybara":"short-answer__answered"},this.props.correctAnswer):r.createElement(a,{className:"quiz-short-answer block full-width",onChange:this.props.onChange,value:this.props.chosenAnswer,placeholder:I18n.t("Enter your Answer"),"aria-label":I18n.t("Enter your Answer")})}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(5),l=o.Icon,u=n(18),c=n(295),d=n(188),p=n(611),f=n(24),m=n(65),h=n(6),g=n(2),v=g.object,_=g.func,y=g.bool,b=i.createClass({displayName:"SlideCommentCompose",propTypes:{currentUser:v,onChange:_.isRequired,onSubmit:_.isRequired,comment:v,focus:y},getDefaultProps:function(){return{currentUser:{},onChange:Function.prototype,onSubmit:Function.prototype,comment:{},focus:!1}},getInitialState:function(){return{isAttaching:!1,hasFocus:!!this.props.comment.id}},onSubmit:function(e){e.preventDefault(),this.canPost()&&this.props.onSubmit()},onFocus:function(){this.setState({hasFocus:!0})},onBlur:function(){this.setState({hasFocus:!1})},handleClickDeleteAttachment:function(){this.props.onChange({attachmentUrl:null})},handleKeyDeleteAttachment:function(e){"Enter"!==e.key&&" "!==e.key||this.props.onChange({attachmentUrl:null})},handleAddAttachment:function(e){""!==e.replace(/ /g,"")&&(this.setState({isAttaching:!1}),this.props.onChange({attachmentUrl:e}))},handleClickAttach:function(){var e=this;this.setState({isAttaching:!0},function(){e.closeButton.focus()})},handleClickCloseAttach:function(){var e=this;this.setState({isAttaching:!1},function(){e.attachButton.focus()})},render:function(){var e=h({"slide-comments__form":!0,"slide-comments__form--updating":this.props.comment.id});return i.createElement("form",{className:e,onSubmit:this.onSubmit},i.createElement(m,(0,s.default)({className:"slide-comments__form__avatar"},this.props.currentUser)),i.createElement("div",{className:"slide-comments__form__wrapper"},i.createElement("div",{className:h({"slide-comments__form__container":!0,"slide-comments__form__container--enabled":this.isEnabled()}),onClick:this.onBodyClicked},i.createElement(d,{className:"slide-comments__form__text block full-width",onBlur:this.onBlur,onChange:this.onCommentChange,onFocus:this.onFocus,placeholder:I18n.t("Your comment"),"aria-label":I18n.t("Your comment"),ref:"bodyText","data-capybara":"editable_commentbox",value:this.props.comment.body}),this.props.comment.attachmentUrl&&!this.state.isAttaching&&this.renderAttachment()),this.state.isAttaching?this.renderAttacher():this.renderActions()))},componentDidMount:function(){this.props.focus&&this.refs.bodyText.focus()},renderAttachment:function(){var e=this.props.comment;return i.createElement("div",null,i.createElement("div",{className:"slide-comments__form__image-wrapper",onKeyPress:this.handleKeyDeleteAttachment,role:"button",tabIndex:"0"},i.createElement("img",{className:"slide-comment__content__image",src:e.attachmentUrl,alt:e.attachmentAltText}),i.createElement("div",{className:"slide-comments__form__image-overlay"}),i.createElement("button",{className:"slide-comments__form__image-delete","data-capybara":"slide_comments_delete_image_button",onClick:this.handleClickDeleteAttachment,tabIndex:"-1"},i.createElement(f,null,I18n.t("Delete")))),i.createElement(c,{className:"slide-comments__form__image-alt-text",placeholder:I18n.t("Image description for the visually impaired"),modifierClasses:["full-width"],onChange:this.updateAltText,value:e.attachmentAltText,autoFocus:!0}))},renderAttacher:function(){var e=this;return i.createElement("div",{className:"slide-comments__form__attacher text-center"},i.createElement(u,{className:"slide-comments__form__cancel-attach",ref:function(t){e.closeButton=t},onClick:this.handleClickCloseAttach},i.createElement("span",{className:"screenreader-only"},i.createElement(f,null,I18n.t("Cancel"))),i.createElement(l,{className:"gs-x gs-1x"})),i.createElement("span",{className:"screenreader-only"},i.createElement(f,null,I18n.t("Media Attachment"))),i.createElement(l,{className:"gs-upload gs-3x dark-grey"}),i.createElement(p,{onSelection:this.handleAddAttachment,public:!0}))},renderActions:function(){return i.createElement("div",{className:"slide-comments__form__actions table full-width"},i.createElement("div",{className:"table-cell text-baseline"},!this.props.comment.attachmentUrl&&this.renderAttachButton()),this.canPost()&&i.createElement("div",{className:"table-cell text-baseline text-right"},i.createElement("button",{className:"slide-comments__form__submit brand-color","data-capybara":"post-comment-button"},i.createElement("span",{className:"button-focus-flat__label"},i.createElement(f,null,I18n.t("Post Comment"))))))},renderAttachButton:function(){var e=this;return i.createElement("button",{type:"button",onClick:this.handleClickAttach,ref:function(t){e.attachButton=t},className:"slide-comments__form__attach brand-color","data-capybara":"slide_comments_attach_button"},i.createElement("span",{className:"screenreader-only"},i.createElement(f,null,I18n.t("Add Attachment"))),i.createElement(l,{className:"gs-image"}))},isEnabled:function(){return this.canPost()||this.state.hasFocus},canPost:function(){return!!this.props.comment.body||!!this.props.comment.attachmentUrl},onCommentChange:function(e){this.props.onChange({body:e.target.value})},updateAltText:function(e){this.props.onChange({attachmentAltText:e})}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(78),o=r(i),l=n(143),u=r(l),c=n(3),d=s.default.createClass({displayName:"SlideCommentImage",mixins:[u.default],propTypes:{url:c.string.isRequired,altText:c.string},handleKeyPress:function(e){"Enter"!==e.key&&" "!==e.key||this.openModal()},render:function(){return s.default.createElement("div",null,s.default.createElement("img",{className:"slide-comment__content__image",tabIndex:"0",role:"button",onClick:this.openModal,onKeyPress:this.handleKeyPress,src:this.props.url,alt:this.props.altText}),s.default.createElement(o.default,{ref:"modal",isOpen:this.state.modalIsOpen,className:"slide-comment__image-modal",overlayClassName:"slide-comment__image-modal__overlay",onRequestClose:this.closeModal,contentLabel:this.props.altText||""},s.default.createElement("img",{className:"slide-comment__image-modal__image",onClick:this.closeModal,src:this.props.url,alt:this.props.altText}),s.default.createElement("button",{className:"slide-comment__image-modal__btn btn filled secondary",onClick:this.closeModal},I18n.t("Close"))))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(1),o=n(18),l=n(5),u=l.Icon,c=n(111),d=n(27),p=n(65),f=n(3057),m=n(3058),h=n(3060),g=n(883),v=n(24),_=n(11),y=n(4),b=y.assign,E=n(29),C=n(6),I=n(224),T=n(3552);T.setOptions({breaks:!0,sanitize:!0,smartypants:!0});var N=n(2),S=N.object,x=N.func,A=N.shape,k=N.string,w=N.bool,R=i.createClass({displayName:"SlideCommentList",propTypes:{currentUser:S.isRequired,context:A({courseId:k.isRequired,slideId:k.isRequired,parentId:k,sort:k}).isRequired,hideCompose:w,afterCompose:x},getDefaultProps:function(){return{afterCompose:Function.prototype}},getInitialState:function(){return{commentCount:0,comments:[],commentCompose:{}}},componentDidMount:function(){g.addChangeListener(this.pullStateFromStore),this.pullStateFromStore()},componentWillUnmount:function(){this.clearCompose(),g.removeChangeListener(this.pullStateFromStore)},componentWillReceiveProps:function(e){e.context.slideId!==this.props.context.slideId&&this.clearCompose()},canShowLess:function(){return this.state.commentCount>3&&!this.canShowMore()},canShowMore:function(){return this.state.comments.length<this.state.commentCount},fetchComments:function(){g.findAll(this.props.context)},pullStateFromStore:function(){this.setState({commentCount:g.getCount(this.props.context),comments:g.getComments(this.props.context)})},onShowLess:function(){this.canShowLess()&&this.fetchComments()},onShowMore:function(){this.canShowMore()&&g.loadNext(this.props.context)},getComposeKey:function(){return[this.props.context.slideId,this.props.context.parentId].join("-")},handleComposeChange:function(e){var t=b({},this.state.commentCompose,e),n=t.body&&!!t.body.length,r=t.attachmentUrl,a=n||r;this.setState({commentCompose:t}),g.setSaved(this.getComposeKey(),!a)},handleComposeSubmit:function(){return g.createComment(this.props.context,this.state.commentCompose).then(this.props.afterCompose).then(this.clearCompose)},clearCompose:function(){g.setSaved(this.getComposeKey(),!0),this.setState({commentCompose:{body:"",attachmentUrl:null}})},render:function(){var e=this;return i.createElement("div",{className:"slide-comments__list"},!this.props.hideCompose&&i.createElement(f,{comment:this.state.commentCompose,currentUser:this.props.currentUser,onChange:this.handleComposeChange,onSubmit:this.handleComposeSubmit}),i.createElement("div",{className:"slide-comments__comments","data-capybara":"slide-comments_all"},this.state.comments.map(function(t){return i.createElement(O,{comment:t,context:e.props.context,currentUser:e.props.currentUser,key:t.id,toggleLike:e.toggleLike})})),this.canShowLess()&&i.createElement("button",{className:"slide-comments__show-less brand-color",onClick:this.onShowLess},i.createElement(u,{className:"gs-comments gs-1x"}),i.createElement(v,null,I18n.t("Show less"))),this.canShowMore()&&i.createElement("button",{className:"slide-comments__show-more brand-color","data-capybara":"slide_comments_show_more",onClick:this.onShowMore},i.createElement(u,{className:"gs-comments gs-1x"}),i.createElement(v,null,I18n.t("Show more"))))},toggleLike:function(e){var t=e.rating?0:1;g.rate(this.props.context,e.id,t)}}),O=i.createClass({displayName:"SlideComment",propTypes:{comment:S.isRequired,context:R.propTypes.context,toggleLike:x.isRequired,currentUser:S.isRequired},getInitialState:function(){return{allowReply:!this.props.context.parentId,isEditing:!1,isReplying:!1,childContext:I({},this.props.context,{parentId:this.props.comment.id,sort:"newest"}),commentCompose:this.props.comment}},canDelete:function(){return E("comment_moderate",{type:"comment",id:this.props.comment.id})},canEdit:function(){return this.props.currentUser.id===this.props.comment.user.id},displayEdited:function(){return!!this.props.comment.editedAt},displayTime:function(){return this.displayEdited()?_(this.props.comment.editedAt).fromNow():_(this.props.comment.createdAt).fromNow()},likesLabel:function(){return I18n.t({zero:"Upvote",one:"1 Upvote",other:"%{count} Upvotes"},{count:0|this.props.comment.ratingSum})},onDelete:function(){return g.setSaved(this.getComposeKey(),!0),g.deleteComment(this.props.context,this.props.comment.id)},onEdit:function(){this.setState({isEditing:!0})},getComposeKey:function(){return[this.props.comment.id,this.props.context.slideId,this.props.context.parentId].join("-")},handleComposeChange:function(e){var t=b(this.state.commentCompose,e);this.setState({commentCompose:t}),g.setSaved(this.getComposeKey(),!1)},handleComposeSubmit:function(){var e=this;return g.updateComment(this.props.context,this.props.comment.id,{body:this.state.commentCompose.body,attachmentUrl:this.state.commentCompose.attachmentUrl,attachmentAltText:this.state.commentCompose.attachmentAltText}).then(function(){e.setState({isEditing:!1}),g.setSaved(e.getComposeKey(),!0)})},userProps:function(){var e=this.props.comment.user;return b({},e,{avatarUrl:e.avatarUrl})},toggleReplying:function(){this.setState({isReplying:!this.state.isReplying})},renderBody:function(){return this.state.isEditing?i.createElement(f,{comment:this.state.commentCompose,currentUser:this.props.currentUser,onChange:this.handleComposeChange,onSubmit:this.handleComposeSubmit,focus:!0}):i.createElement("div",null,i.createElement("div",{className:"slide-comment__content__body","data-capybara":"view_only_commentbox",dangerouslySetInnerHTML:this.bodyHTML()}),this.props.comment.attachmentUrl&&i.createElement(m,{url:this.props.comment.attachmentUrl,altText:this.props.comment.attachmentAltText}))},cancelEdit:function(){this.setState({isEditing:!1})},renderEditActions:function(){return this.canEdit()||this.canDelete()?this.state.isEditing?i.createElement(o,{className:"slide-comment__cancel-button",onClick:this.cancelEdit},i.createElement(d,null,I18n.t("Cancel edit")),i.createElement(u,{className:"gs-arrow-down gs-3-4"})):i.createElement(c,{content:h,autoFocus:".slide-comment__popup__btn",popupClassName:"slide-comment__popup",canDelete:this.canDelete(),canEdit:this.canEdit(),onDelete:this.onDelete,onEdit:this.onEdit},i.createElement(o,{className:"slide-comment__popup-button"},i.createElement(d,null,I18n.t("Comment options")),i.createElement(u,{className:"gs-more-dots"}))):null},render:function(){var e=this;return i.createElement("div",{className:"slide-comment","data-capybara":"slide-comment"},i.createElement(p,(0,s.default)({className:"slide-comment__avatar"},this.userProps())),i.createElement("div",{className:"slide-comment__content"},i.createElement("span",{className:"slide-comment__content__name brand-color"},this.props.comment.user.name),this.props.comment.user.deletedAt&&i.createElement("span",{className:"slide-comment__content__inactive"},"(",I18n.t("inactive"),")"),i.createElement("span",{className:"slide-comment__content__time"},this.displayTime()),this.displayEdited()&&i.createElement("span",{className:"slide-comment__content__edited"},i.createElement(v,null,I18n.t("Edited"))),i.createElement("span",{"data-capybara":"comment_edit"},this.renderEditActions()),this.renderBody(),i.createElement("div",{className:"slide-comment__content__actions"},i.createElement("span",{className:"slide-comment__content__likes"},i.createElement(o,{className:"btn--reset slide-comments__content__like",onClick:function(){return e.props.toggleLike(e.props.comment)}},i.createElement(u,{className:C({"gs-upvote":!0,"gs-1x":!0,upvoted:!!this.props.comment.rating})}),i.createElement("span",{className:"button-focus-flat__label"},this.likesLabel()))),this.state.allowReply&&i.createElement(o,{className:"slide-comment__content__reply btn--reset",onClick:this.toggleReplying},i.createElement(u,{className:"gs-reply gs-1x"}),i.createElement("span",{className:"button-focus-flat__label"},I18n.t("Reply")))),i.createElement(R,{currentUser:this.props.currentUser,context:this.state.childContext,hideCompose:!this.state.isReplying,afterCompose:function(){return e.setState({isReplying:!1})}})))},bodyHTML:function(){return{__html:T(this.props.comment.body||"")}}});e.exports=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(18),o=r(i),l=n(5),u=n(24),c=r(u),d=n(2),p=s.default.createClass({displayName:"SlideCommentPopup",propTypes:{canDelete:d.bool.isRequired,canEdit:d.bool.isRequired,onDelete:d.func.isRequired,onEdit:d.func.isRequired},render:function(){return s.default.createElement(l.ConstrainFocus,{useArrowKeys:!0},s.default.createElement("div",{"data-capybara":"slide-comment_actions"},this.props.canEdit&&s.default.createElement(o.default,{className:"slide-comment__popup__btn",onClick:this.props.onEdit},s.default.createElement(l.Icon,{className:"gs-edit slide-comment__popup__icon"}),s.default.createElement("span",{className:"button-focus-flat__label"},s.default.createElement(c.default,null,I18n.t("Edit")))),this.props.canDelete&&s.default.createElement(o.default,{className:"slide-comment__popup__btn",onClick:this.props.onDelete},s.default.createElement(l.Icon,{className:"gs-trash slide-comment__popup__icon"}),s.default.createElement("span",{className:"button-focus-flat__label"},s.default.createElement(c.default,null,I18n.t("Delete"))))))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(270),u=r(l),c=n(3059),d=r(c),p=n(883),f=r(p),m=n(24),h=r(m),g=n(3326),v=r(g),_=n(278),y=r(_),b=o.default.createClass({displayName:"SlideComments",propTypes:{currentUser:s.default.object,slide:y.default.isRequired},getInitialState:function(){return{currentUser:this.props.currentUser||this.getCurrentUserData(),commentTotalCount:0,sort:"-best"}},getCurrentUserData:function(){var e=(0,v.default)();return{id:e.id,name:e.name,email:e.email,avatarUrl:e.avatar_url}},getContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{courseId:e.slide.course_id,slideId:e.slide.id,sort:this.state.sort}},componentDidMount:function(){f.default.addChangeListener(this.pullStateFromStore),this.pullStateFromStore(),this.fetchComments()},componentWillUnmount:function(){f.default.removeChangeListener(this.pullStateFromStore)},componentWillReceiveProps:function(e){this.props.slide.id!==e.slide.id&&(this.setState(this.getInitialState()),this.fetchComments(e))},fetchComments:function(e){f.default.findAll(this.getContext(e))},onChangeSort:function(e){var t=this;this.setState({sort:e},function(){t.fetchComments()})},pullStateFromStore:function(){this.setState({commentTotalCount:f.default.getTotalCount(this.getContext())})},replyCountLabel:function(){var e=this.state.commentTotalCount;return e?e<99?e:"99+":0},replyCountLabelAria:function(){return I18n.t({one:"1 Comment",other:"%{count} Comments"},{count:this.state.commentTotalCount||0})},render:function(){return o.default.createElement("div",{className:"slide-comments"},o.default.createElement("div",{className:"slide-comments__header"},o.default.createElement("span",{className:"slide-comments__header__name","aria-label":this.replyCountLabelAria()},o.default.createElement(h.default,null,I18n.t("Comments"))),o.default.createElement("span",{"data-capybara":"slide-comments_header_count",className:"slide-comments__header__count","aria-hidden":"true"},o.default.createElement("div",{className:"slide-comments__header__count__icon brand-color"},o.default.createElement("div",{className:"slide-comments__header__count__text"},this.replyCountLabel())))),o.default.createElement("div",{className:"slide-comments__header__sort"},o.default.createElement(u.default,{activeSort:this.state.sort,className:"slide-comments__header__sort__button small",onChange:this.onChangeSort,sortOptions:[{value:"-best",label:I18n.t("Best")},{value:"-newest",label:I18n.t("Newest")},{value:"newest",label:I18n.t("Oldest")}]})),o.default.createElement(d.default,{currentUser:this.state.currentUser,context:this.getContext()}))}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(24),u=r(l),c=n(5),d=n(284),p=n(3061),f=r(p),m=n(604),h=r(m),g=n(278),v=r(g),_=n(6),y=r(_),b=n(1484),E=o.default.createClass({displayName:"SlidePartial",propTypes:{slide:v.default.isRequired,navigatingTo:s.default.oneOf(["next","previous"]),onNextSlide:s.default.func,onPreviousSlide:s.default.func,warnOfChanges:s.default.bool,onFetchLtiContent:s.default.func},render:function(){var e=this.props.slide;return o.default.createElement("div",{className:"learner-course-slide"},this.renderBody(),e.allow_comments&&o.default.createElement(f.default,{slide:e}),this.props.warnOfChanges&&o.default.createElement("div",{className:"slide-warning"},o.default.createElement(u.default,null,I18n.t("Heads up! You have unsaved comments that you may want to post before continuing."))),o.default.createElement("div",{className:"text-center margin-t-xxl margin-b-s",key:e.id},e.previous&&o.default.createElement("button",{type:"button",className:this.getButtonClasses("previous"),disabled:this.props.navigatingTo,onClick:this.props.onPreviousSlide},o.default.createElement("span",{className:"screenreader-only"},o.default.createElement(u.default,null,I18n.t("Back"))),o.default.createElement(c.Icon,{className:"gs-arrow-left gs-1x","aria-hidden":!0})),o.default.createElement("button",{type:"button",className:this.getButtonClasses("next"),disabled:this.props.navigatingTo,onClick:this.props.onNextSlide,"data-capybara":"next_button"},(0,b.getNextButtonText)(e.next),o.default.createElement(c.Icon,{className:"gs-arrow-right gs-1x padding-l-xs","aria-hidden":!0}))))},renderBody:function(){var e=this.props.slide;return e.structured_body?this.renderStructuredBodyMarkup():this.renderLegacyBodyMarkup()},renderStructuredBodyMarkup:function(){var e=this.props.slide;return o.default.createElement(h.default,{id:e.id,structuredBody:e.structured_body,attachments:e.attachments,onFetchLtiContent:this.props.onFetchLtiContent,customFontsEnabled:!0})},renderLegacyBodyMarkup:function(){return o.default.createElement(d.RichContent,{customFontsEnabled:!0,dangerouslySetInnerHTML:{__html:this.props.slide.body}})},getButtonClasses:function(e){var t="next"===e,n="previous"===e;return(0,y.default)("btn--themed brand-border",{"brand-bg":this.props.navigatingTo===e,"brand-color":this.props.navigatingTo!==e,filled:this.props.navigatingTo===e,"btn--round":n,"margin-r-xs":n,previousStep:n,centered:t,"padding-rl-xxl":t,nextStep:t})}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(){return{course_type:"bridge",slide_total:3}},n=function(e){return{course:{progress:{current:.3333,furthest:.6667}},slide:Object.assign({answers:[],body:null,correct_answers:[],chosen_answers:[],next:"3",previous:"1",subject:null,title:null,type:null},e)}};e.Preview=o.default.addScreen("course-slide",function(){return I18n.t("Course Slide")},s.default.createClass({displayName:"Preview",render:function(){var r=n({body:I18n.t("<p><b><i>Ideas are precious, but theyre relatively easy. Its execution thats everything.</i></b></p><p> John Doerr, General Partner at Kleiner Perkins Caufield &amp; Byers<br></p><p>Instructure is taking a forward-looking approach to goal setting and performance management because hey, were cutting-edge like that! So, say farewell to the old-school annual performance review process.</p><p>2015 will start with a quick review and capture of 2014s goals and then the focus going forward will be on <b>Objectives and Key Results</b>.</p><p>This is more boilerplate text that should probably be replaced with something more relevant to the preview.</p>"),title:I18n.t("What is our goal-setting philosophy?"),type:"slide"});return s.default.createElement(e,{data:r,course:t()})}})),e.QuizPreview=o.default.addScreen("course-quiz",function(){return I18n.t("Course Quiz")},s.default.createClass({displayName:"QuizPreview",render:function(){var r=n({answers:[{id:"3",body:I18n.t("Blue")},{id:"4",body:I18n.t("Yellow")},{id:"2",body:I18n.t("Red")},{id:"1",body:I18n.t("Green")}],chosen_answers:["2"],title:I18n.t("Which is the color of a clear, sunny sky?"),type:"multiple_choice"});return s.default.createElement(e,{data:r,course:t()})}})),e.QuizSubmittedPreview=o.default.addScreen("course-quiz-submitted",function(){return I18n.t("Course Quiz Submitted")},s.default.createClass({displayName:"QuizSubmittedPreview",render:function(){var r=n({answers:[{id:"3",body:I18n.t("Blue")},{id:"4",body:I18n.t("Yellow")},{id:"2",body:I18n.t("Red")},{id:"1",body:I18n.t("Green")}],chosen_answers:["2"],correct_answers:["3"],title:I18n.t("Which is the color of a clear, sunny sky?"),type:"multiple_choice",score:0});return s.default.createElement(e,{data:r,course:t()})}}))};var a=n(1),s=r(a),i=n(186),o=r(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(13),o=r(i),l=n(24),u=r(l),c=n(430),d=r(c),p=n(294),f=r(p),m=n(214),h=r(m),g=n(61),v=r(g),_=n(26),y=r(_),b=n(225),E=r(b),C=n(6),I=r(C),T=n(20),N=r(T),S=n(58),x=r(S),A=n(11),k=r(A),w=n(898),R=n(125),O=r(R),P=n(367),L=r(P),M=n(12),D=n(2),U=s.default.createClass({displayName:"LearningItemLiveCourse",propTypes:{learningItem:n(81).isRequired,shouldRenderProgramLink:D.bool,isLearner:D.bool,activeItemId:D.string,onAttachmentIconClick:D.func.isRequired,noLink:D.bool,highlight:D.string,headerLevel:D.string,certificateColorYellow:D.bool},getDefaultProps:function(){return{isLearner:!0,shouldRenderProgramLink:!0,headerLevel:"h2",certificateColorYellow:!1}},render:function(){var e=this.props.learningItem,t=O.default.isLocked(e),n=O.default.isAvailableSoon(e),r=this.isCompleted(),a=(0,I.default)("learning-item","learning-item--live-training",{"learning-item--complete":r,"learning-item--incomplete":!r,"learning-item--web-conference":(0,N.default)("web_conference")});return s.default.createElement("li",{className:a,"data-capybara":"learning_item"},s.default.createElement("div",{className:"learning-item-list-item__status learning-item-list-item__status--no-margin"},!n&&s.default.createElement(d.default,{isComplete:r}),n&&s.default.createElement(f.default,{isLiveTraining:!0,modifier:"grey",className:"learning-item--live-training__status"}),s.default.createElement(L.default,{hasCertificate:this.shouldShowCertificate(),certificateColorYellow:this.certificateColorYellow,isLocked:t})),s.default.createElement("div",{className:"learning-item__wrapper"},this.renderLiveTrainingDetails(),this.renderButtons()))},renderLiveTrainingDetails:function(){return s.default.createElement("div",{className:"learning-item__details"},this.renderTitle(),this.renderSessionDetails(),this.renderDescription())},renderTitle:function(){var e=this.props,t=e.learningItem,n=e.noLink,r=e.isLearner,a=this.isCompleted(),i=O.default.isLocked(t),l=this.props.learningItem.title||y.default.t("Untitled Live Training"),u=this.props.headerLevel,c=void 0,d=void 0,p=void 0;return r?(c="learner.live_training_calendar",p={liveCourseId:t.learnableId,date:(0,k.default)().format("YYYY-MM-DD")}):(c="author.live-course",d=[{courseId:t.learnableId}]),s.default.createElement(u,{className:"learning-item__title"},a||i||n?this.renderHighlightedText(l):s.default.createElement(o.default,{to:c,params:d,queryParams:p,className:"learning-item__link",dataCapybara:"learning_item_link"},this.renderHighlightedText(l)))},renderSessionDetails:function(){var e=this.props,t=e.learningItem,n=e.shouldRenderProgramLink,r=this.isCompleted(),a=t.data.isRegistered,i=O.default.isLocked(t),o=(0,N.default)("web_conference"),l=O.default.availableSessions(t)||[];return s.default.createElement("ul",{className:"learning-item-meta","data-capybara":"meta"},!r&&t.data.renewBy&&s.default.createElement("li",{key:"renews",className:"learning-item-meta__renew"},s.default.createElement(u.default,null,s.default.createElement(y.default.ComponentInterpolator,{string:y.default.t("Renew by %{learning_item_service_format_time_learning_item_data_renew_by}",{learning_item_service_format_time_learning_item_data_renew_by:"%{learning_item_service_format_time_learning_item_data_renew_by}"}),learning_item_service_format_time_learning_item_data_renew_by:O.default.formatTime(t.data.renewBy)},"$1"))),r&&t.data.expiresAt&&s.default.createElement("li",{key:"expires",className:"learning-item-meta__expires"},s.default.createElement(u.default,null,s.default.createElement(y.default.ComponentInterpolator,{string:y.default.t("Expires %{learning_item_service_format_time_learning_item_data_expires_at}",{learning_item_service_format_time_learning_item_data_expires_at:"%{learning_item_service_format_time_learning_item_data_expires_at}"}),learning_item_service_format_time_learning_item_data_expires_at:O.default.formatTime(t.data.expiresAt)},"$1"))),!a&&!i&&!o&&s.default.createElement("li",{key:"unregistered",className:"learning-item-meta__session-count"},this.sessionsCountLabel(l,t.data.sessionsCount)),!a&&!i&&o&&this.renderSessionItems(l,t.data.sessionsCount),a&&[s.default.createElement("li",{key:"summary",className:"learning-item-meta__end-date"},this.registeredSessionTimeLabel()),t.data.registeredSessionLocation&&s.default.createElement("li",{key:"location",className:"learning-item-meta__location"},t.data.registeredSessionLocation)],n&&this.renderProgramLink(),r&&this.renderCertificate(t))},renderSessionItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[this.renderSessionItem("count",this.sessionsCountLabel(e,t)),this.renderSessionItem("date",this.sessionsDateLabel(e)),this.renderSessionItem("conf",this.sessionsConfLabel(e))]},renderSessionItem:function(e,t){return t?s.default.createElement("li",{key:e,className:"learning-item-meta__session-"+e},t):null},renderCertificate:function(e){return this.shouldShowCertificate()&&this.props.isLearner&&s.default.createElement("li",{key:"link"},s.default.createElement(o.default,{to:"training-certificate",params:[{courseId:e.learnableId}],className:"learning-item-list-item__meta--link brand-color",dataCapybara:"view_certificate"},s.default.createElement(u.default,null,y.default.t("view certificate"))))},renderProgramLink:function(){var e=this.props.learningItem.data.programs;if((0,x.default)(e)||0===e.length)return null;var t=e[0];return s.default.createElement("li",{className:"learning-item-meta__program-link"},s.default.createElement("span",null,y.default.t("Step %{step} in",{step:t.step})," "),s.default.createElement(o.default,{to:"learner.program",
params:[{programId:t.id}]},t.title||y.default.t("Untitled Program")))},renderDescription:function(){var e=this.props.learningItem;return e.description&&s.default.createElement("div",{className:"learning-item__description",ref:this.addOverflowFade()},this.renderHighlightedText(e.description))},renderButtons:function(){var e=this,t=this.props.learningItem,n=O.default.isAvailableSoon(t),r=t.data.registeredWebConferenceUrl;return s.default.createElement("div",{className:"learning-item__button-wrapper"},this.shouldShowAttachments()&&s.default.createElement(h.default,{onClick:function(n,r){return e.props.onAttachmentIconClick(t,M.LEARNING_ITEM_LIVE_COURSE_TYPE,r)},activeItemId:this.props.activeItemId,itemId:t.learnableId,attachmentsCount:this.attachmentsCount()}),this.canRegister()&&s.default.createElement(o.default,{to:"learner.live_training_calendar",queryParams:{liveCourseId:t.learnableId,date:(0,k.default)().format("YYYY-MM-DD")},className:"learning-item__action-button brand-border brand-color"},y.default.t("Register Now")),n&&r&&s.default.createElement("a",{href:r,className:"learning-item__action-button",target:"_blank"},y.default.t("Join Session")),this.canReschedule()&&!n&&s.default.createElement(o.default,{to:"learner.live_training_calendar",queryParams:{liveCourseId:t.learnableId,date:(0,k.default)().format("YYYY-MM-DD")},className:"learning-item__action-button brand-border brand-color"},y.default.t("Reschedule")))},renderHighlightedText:function(e){return s.default.createElement(v.default,{text:e,highlight:this.props.highlight})},sessionsCountLabel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===e.length&&"number"==typeof t)return this.simpleSessionsCountLabel(t);if((0,N.default)("web_conference"))return this.simpleSessionsCountLabel(e.length);var n=e[0];return y.default.t({zero:"There are currently no sessions available for this course",one:"1 session available on %{date}",other:"%{count} sessions available beginning on %{date}"},{count:e.length,date:e.length>0&&(0,w.formatDateWithZone)(n.startAt,n.timezone)})},simpleSessionsCountLabel:function(e){return y.default.t({one:"1 Session",other:"%{count} Sessions"},{count:e})},sessionsDateLabel:function(e){var t=e[0];return t&&t.startAt?y.default.t("Beginning %{date}",{date:(0,k.default)(t.startAt).format("LL")}):null},sessionsConfLabel:function(e){return e.some(function(e){return e.webConferenceId})?y.default.t("Web Conferencing Available"):y.default.t("In-Person Only")},registeredSessionTimeLabel:function(){var e=this.props.learningItem,t=e.data.isMultiPart?e.data.registeredSessionParts[0]:this.formatDataToSessionTimes(e.data),n=(0,k.default)(t.startAt);return O.default.isAvailableSoon(e)?y.default.t("Session %{verb} %{time}",{verb:n>=(0,k.default)()?"starts":"started",time:n.fromNow()}):(0,w.formatDateWithZone)(t.startAt,e.data.registeredSessionTimezone)},formatDataToSessionTimes:function(e){return{startAt:e.registeredSessionStartAt,timezone:e.registeredSessionTimezone}},isCompleted:function(){return this.props.learningItem.state===M.STATUS_COMPLETE},canRegister:function(){var e=this.props.learningItem,t=e.data.isRegistered,n=O.default.availableSessions(e)||[];return this.props.isLearner&&!t&&n.length>0},canReschedule:function(){var e=this.props.learningItem,t=e.data.isRegistered;return this.props.isLearner&&t&&!this.isCompleted()},shouldShowAttachments:function(){return this.attachmentsCount()>0},shouldShowCertificate:function(){return!!this.props.learningItem.data.hasCertificate},attachmentsCount:function(){var e=this.props,t=e.learningItem,n=e.isLearner;return!n&&t.data.attachmentsCountAuthor||t.data.attachmentsCount||0},addOverflowFade:function(){var e=this.props.learningItem,t=e.data.isRegistered,n="LIGHT_GREY";return O.default.isAvailableSoon(e)?n="BLUE":t&&(n="WHITE"),(0,E.default)(2,n)}});t.default=U,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(4),o=n(103),l=r(o),u=n(81),c=r(u),d=n(6),p=r(d),f=n(125),m=r(f),h=n(12);t.default=s.default.createClass({displayName:"LearningItemProgram::Progress",propTypes:{learningItem:c.default.isRequired},render:function(){var e=this.props.learningItem;return s.default.createElement(l.default,{type:"arcs",progress:this.getProgress(),renderIcon:!0,iconClasses:(0,p.default)({"brand-color":!0,"course-status__icon":!0,"gs-books":!0}),segments:e.data.itemCount,currentSegment:this.getCurrentSegment(),isOverdue:m.default.isOverdue(e),className:"learning-item-list-item__status program-progress"})},getProgress:function(){var e=this.props.learningItem,t=e.data,n=t.itemCount,r=t.pendingApprovalItems||[],a=this.getCurrentSegment()-1,s=this.getCurrentSegmentProgress();return(0,i.range)(n).map(function(e){var t=(0,i.find)(r,function(t){return t.position===e});return t?{segment:e,progress:.5,failed:t.approvalState===h.APPROVAL_STATE_REJECTED}:{segment:e,progress:a===e?s:1}})},getCurrentSegment:function(){var e=this.props.learningItem;return Math.min(e.data.programIndex,e.data.itemCount)},getCurrentSegmentProgress:function(){var e=this.props.learningItem,t=e.data,n=(0,i.get)(t,"currentCourse.learnableType");return t.programIndex>t.itemCount&&n===h.LEARNING_ITEM_TASK_TYPE?1:(0,i.get)(t,"currentCourse.furthestProgress")||0}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s,i=n(38),o=r(i),l=n(24),u=r(l),c=n(26),d=r(c),p=n(1),f=r(p),m=n(11),h=r(m),g=n(6),v=r(g),_=n(151),y=n(20),b=r(y),E=n(294),C=r(E),I=n(3065),T=r(I),N=n(433),S=r(N),x=n(125),A=r(x),k=n(225),w=r(k),R=n(61),O=r(R),P=n(13),L=r(P),M=n(1389),D=r(M),U=n(12),F=U.LEARNING_ITEM_COURSE_TYPE,q=U.LEARNING_ITEM_LIVE_COURSE_TYPE,B=U.LEARNING_ITEM_TASK_TYPE,j=U.LEARNING_ITEM_LTI_CONTENT_ITEM_TYPE,H=n(2),G=H.func,W=H.bool,V=H.string,Y=H.shape,z=(a={},(0,o.default)(a,F,"learner.course.launch"),(0,o.default)(a,q,"learner.live_training_calendar"),(0,o.default)(a,B,"learner.checkpoint"),(0,o.default)(a,j,"learner.lti_content_item"),a),K=(s={},(0,o.default)(s,F,"author.course.index"),(0,o.default)(s,q,"author.live-course"),(0,o.default)(s,B,"author.checkpoint"),(0,o.default)(s,j,"learner.lti_content_item"),s),Q=f.default.createClass({displayName:"LearningItemProgram",propTypes:{learningItem:n(81).isRequired,onRemove:G,noLink:W,isSingleLine:W,isLearner:W,titlePlaceholder:V,showDescription:W,highlight:V,permissions:Y({viewCourses:W,viewLiveCourses:W})},getInitialState:function(){return{wantToRemove:!1,giveFocus:!1}},getDefaultProps:function(){return{isSingleLine:!1,isLearner:!0,permissions:{},showDescription:!0}},isRemovable:function(){var e=this.props,t=e.learningItem,n=e.onRemove;return!!n&&A.default.canLearnerUnEnroll(t)},render:function(){var e=this.props.learningItem;return f.default.createElement("li",{className:this.buildClassName(),"data-capybara":"learning_item"},f.default.createElement("div",{className:"learning-item__wrap"},this.shouldShowProgress()&&f.default.createElement(T.default,{learningItem:e}),!e.wasOriginallyLibraryItem&&this.renderStatus(),f.default.createElement("div",null,f.default.createElement("div",{className:this.titleClassName()},this.renderTitle(),!this.isTitleOnly()&&this.renderMetaData()),this.props.showDescription&&this.renderDescription())),this.renderRemoval())},renderRemoval:function(){return f.default.createElement(D.default,{onClick:this.willRemoveItem,onCancel:this.cancelRemove,onRemove:this.deleteItem,wantToRemove:this.state.wantToRemove,giveFocus:this.state.giveFocus,isRemovable:this.isRemovable(),itemLabel:"Program"})},willRemoveItem:function(){this.setState({wantToRemove:!0})},cancelRemove:function(){this.setState({wantToRemove:!1,giveFocus:!0})},deleteItem:function(){this.props.onRemove(this.props.learningItem)},shouldShowCertificate:function(){return this.isComplete()&&this.props.isLearner&&this.props.learningItem.data.hasCertificate},renderCertificateLink:function(){var e=this.props.learningItem;return this.shouldShowCertificate()&&f.default.createElement("li",{key:"link"},f.default.createElement(L.default,{to:"program-certificate",params:[{programId:e.learnableId}],className:"learning-item-list-item__meta--link brand-color"},f.default.createElement(u.default,null,d.default.t("view certificate"))))},renderStatus:function(){var e=this.props,t=e.learningItem,n=e.isSingleLine,r=this.isComplete();if(!A.default.isStarted(t)){var a=(0,v.default)({"learning-item-list-item__status":!0,"course-status--no-border":this.shouldShowProgress(),"course-status--completed":r});return f.default.createElement(C.default,{isCompleted:r,className:a,modifier:n?"blue":"",hasCertificate:this.shouldShowCertificate()})}return null},renderTitle:function(){var e=this.props.noLink||!this.props.isLearner&&!this.props.permissions.viewCourses;return f.default.createElement("h2",{className:"h3 margin-none"},e&&f.default.createElement("span",null,f.default.createElement(O.default,{text:this.title(),highlight:this.props.highlight})),!e&&this.linkifiedTitle())},linkifiedTitle:function(){return this.props.learningItem.wasOriginallyLibraryItem?f.default.createElement(L.default,{to:"learner.program.enroll",params:[{programUuid:this.props.learningItem.data.uuid}],className:"course-list-item__course-link",dataCapybara:"learning_item_link"},f.default.createElement(O.default,{text:this.title(),highlight:this.props.highlight})):f.default.createElement(S.default,{isLearner:this.props.isLearner,programId:this.props.learningItem.learnableId,linkText:this.title(),highlight:this.props.highlight,dataCapybara:"learning_item_link"})},renderMetaData:function(){if(this.props.learningItem.wasOriginallyLibraryItem)return f.default.createElement("ul",{className:"learning-item-list-item__meta","data-capybara":"learning_item_meta"},f.default.createElement("li",null,f.default.createElement(u.default,null,f.default.createElement(d.default.ComponentInterpolator,{string:d.default.t("%{i18n_t_step_count_learning_item_data_item_count}",{i18n_t_step_count_learning_item_data_item_count:"%{i18n_t_step_count_learning_item_data_item_count}"}),i18n_t_step_count_learning_item_data_item_count:d.default.t("Step",{count:this.props.learningItem.data.itemCount})},"$1"))));var e=this.props.learningItem.data.currentCourse,t=void 0;return e&&(t=this.props.isLearner?z[e.learnableType]:K[e.learnableType]),f.default.createElement("ul",{className:"learning-item-list-item__meta","data-capybara":"learning_item_meta"},this.renderExpiresAt(),this.renderDueDate(),e&&f.default.createElement("li",{className:"learning-item-list-item__course--milestone"},A.default.isStarted(e)?f.default.createElement(u.default,null,d.default.t("Current step")):f.default.createElement(u.default,null,d.default.t("Next step"))," ",f.default.createElement(S.default,{itemLink:t,courseId:e.id,programId:this.props.learningItem.learnableId,linkText:e.title,className:"learning-item-list-item__course-link--milestone brand-color",learnableType:e.learnableType})),e&&e.timeRemaining>0&&f.default.createElement("li",{"data-capybara":"time-remaining"},A.default.isStarted(e)?f.default.createElement(u.default,null,f.default.createElement(d.default.ComponentInterpolator,{string:d.default.t("About %{i18n_t_minute_count_current_course_time_remaining} remaining",{i18n_t_minute_count_current_course_time_remaining:"%{i18n_t_minute_count_current_course_time_remaining}"}),i18n_t_minute_count_current_course_time_remaining:d.default.t("minute",{count:e.timeRemaining})},"$1")):f.default.createElement(u.default,null,f.default.createElement(d.default.ComponentInterpolator,{string:d.default.t("Takes about %{i18n_t_minute_count_current_course_time_remaining}",{i18n_t_minute_count_current_course_time_remaining:"%{i18n_t_minute_count_current_course_time_remaining}"}),i18n_t_minute_count_current_course_time_remaining:d.default.t("minute",{count:e.timeRemaining})},"$1"))),this.renderCertificateLink())},renderDescription:function(){var e=this.props.learningItem;return e.description&&f.default.createElement("div",{className:"learning-item-list-item__description",ref:(0,w.default)(2,"WHITE")},f.default.createElement(O.default,{text:e.description,highlight:this.props.highlight}))},renderDueDate:function(){var e=this.props.learningItem.data.endAt;return(0,b.default)("learn_program_due_date")&&e&&!this.isComplete()&&f.default.createElement("li",null,f.default.createElement("span",{className:"learning-item-list-item__due-date"},(0,_.dueDateText)(e,d.default.t("Program"))))},renderExpiresAt:function(){var e=this.props.learningItem.data.expiresAt,t=A.default.formatTime(e);return(0,b.default)("learn_program_due_date")&&e&&this.isComplete()&&f.default.createElement("li",null,f.default.createElement("span",{className:"learning-item-list-item__expires"},(0,h.default)(e).isBefore((0,h.default)())?f.default.createElement(u.default,null,f.default.createElement(d.default.ComponentInterpolator,{string:d.default.t("Expired %{formatted_time}",{formatted_time:"%{formatted_time}"}),formatted_time:t},"$1")):f.default.createElement(u.default,null,f.default.createElement(d.default.ComponentInterpolator,{string:d.default.t("Expires %{formatted_time}",{formatted_time:"%{formatted_time}"}),formatted_time:t},"$1"))))},buildClassName:function(){var e=this.props.learningItem;return(0,v.default)({"learning-item-list-item":!0,"learning-item-list-item--overdue":A.default.isOverdue(e),"learning-item-list-item--completed":this.isComplete(),"learning-item-list-item--want-to-remove":this.state.wantToRemove})},titleClassName:function(){return(0,v.default)({"learning-item-list-item__title--centered":this.isTitleOnly(),"learning-item-list-item__title":!this.isTitleOnly()})},isTitleOnly:function(){var e=this.props,t=e.isSingleLine,n=e.learningItem;return t||A.default.shouldShowTitleOnly(n)},isComplete:function(){return A.default.isComplete(this.props.learningItem)},shouldShowProgress:function(){return!this.props.isSingleLine&&!this.isComplete()},title:function(){var e=this.props.learningItem;return e.title||this.props.titlePlaceholder||d.default.t("Untitled Program")}});e.exports=Q},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(26),i=n(294),o=n(11),l=n(2),u=l.string,c=n(61),d=n(30),p=r.createClass({displayName:"LearningItemSurvey",propTypes:{surveyDistribution:n(81).isRequired,highlight:u,headerLevel:u},getDefaultProps:function(){return{headerLevel:"h2"}},render:function(){return r.createElement("li",{className:"learning-item learning-item--survey","data-capybara":"learning_item"},r.createElement(i,{className:"learning-item--survey__status",isSurvey:!0}),r.createElement("div",{className:"learning-item__wrapper"},this.renderDetails(),this.renderButton()))},renderDetails:function(){var e=this.props.surveyDistribution,t=e.data,n=this.props.headerLevel;return r.createElement("div",{className:"learning-item__details"},r.createElement(n,{className:"learning-item__title"},r.createElement(a,{ref:"linkToDistribution",className:"learning-item__link",dataCapybara:"learning_item_link",to:"react.learner.survey",params:[{distributionId:t.distributionId}]},r.createElement(c,{text:this.getTitle(),highlight:this.props.highlight}))),r.createElement("span",{className:"learning-item--survey__end-date","data-capybara":"learning_item_meta"},I18n.t("Ends %{date}",{date:o(t.closesAt).fromNow()})))},renderButton:function(){return r.createElement("div",{className:"learning-item__button-wrapper"},r.createElement("button",{className:"learning-item__action-button brand-border brand-color",onClick:this.triggerTransitionToDistribution,"data-capybara":"take-survey"},I18n.t("Take Survey")))},getTitle:function(){var e=this.props.surveyDistribution.title;return!e||e.match(/^\s*$/)?s.t("Untitled Survey"):e},triggerTransitionToDistribution:function(){var e=this.props.surveyDistribution,t=e.data;d.transitionTo("/learner/surveys/"+t.distributionId)}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(125),u=r(l),c=n(24),d=r(c),p=n(81),f=r(p),m=n(11),h=r(m),g=n(13),v=r(g),_=n(151),y=n(4),b=n(12);t.default=o.default.createClass({displayName:"LearningItemList::LearningItemTask::Metadata",propTypes:{learningItem:f.default.isRequired,className:s.default.string,itemClassName:s.default.string,attachments:s.default.node},getDefaultProps:function(){return{className:"learning-item-list-item__meta"}},render:function(){var e=this.props,t=e.learningItem,n=e.className;return o.default.createElement("ul",{className:n,"data-capybara":"learning_item_meta"},this.renderApproval(t),this.shouldShowCompletedDate()&&o.default.createElement("li",{key:"completed",className:this.props.itemClassName},o.default.createElement(d.default,null,o.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Completed %{learning_item_service_format_time_since_learning_item_completed_at}",{learning_item_service_format_time_since_learning_item_completed_at:"%{learning_item_service_format_time_since_learning_item_completed_at}"}),learning_item_service_format_time_since_learning_item_completed_at:u.default.formatTimeSince(t.completedAt)},"$1"))),this.renderRequiresEvidence(t),this.renderCertificate(t),this.props.attachments&&this.renderAttachments(),this.renderDueDate(t))},renderApproval:function(e){var t=e.data.approval;return t?this.renderLearnerApprovalStatus(t):null},renderLearnerApprovalStatus:function(e){var t=e.state,n=this.getApprovalStatusDescription();return o.default.createElement("li",{key:"approval",className:this.props.itemClassName},t===b.APPROVAL_STATE_REJECTED?o.default.createElement("span",{className:"pink"},n):n)},renderAttachments:function(){return o.default.createElement("li",{key:"attachments",className:this.props.itemClassName},this.props.attachments)},renderRequiresEvidence:function(e){var t=e.data,n=t.requiresEvidence,r=t.approval;if(!n)return null;var a=r&&r.state===b.APPROVAL_STATE_REQUESTED,s=this.isComplete()||this.isApproved()||a;return o.default.createElement("li",{key:"evidence"},s?I18n.t("Evidence submitted"):I18n.t("Requires Evidence"))},renderCertificate:function(e){return this.shouldShowCertificate()&&o.default.createElement("li",{key:"certificate",className:this.props.itemClassName},o.default.createElement(v.default,{to:"checkpoint-certificate",params:[{taskId:e.learnableId}],className:"learning-item-list-item__meta--link brand-color"},o.default.createElement(d.default,null,I18n.t("view certificate"))))},renderDueDate:function(e){var t=e.data.endAt?(0,_.dueDateText)(e.data.endAt):I18n.t("No due date");return u.default.isRequired(e)&&!u.default.isComplete(e)&&o.default.createElement("li",null,o.default.createElement("span",{className:"learning-item-list-item__due-date"},t))},getApprovalStatusDescription:function(){var e=this.props.learningItem,t=e.data.approval;if(!t)return null;var n=(0,y.get)(t,"approver.name")||I18n.t("Unknown Approver");switch(t.state){case b.APPROVAL_STATE_INCOMPLETE:return I18n.t("Requires approval by %{approverName}",{approverName:n});case b.APPROVAL_STATE_REQUESTED:return I18n.t("Pending approval by %{approverName}",{approverName:n});case b.APPROVAL_STATE_REJECTED:var r=(0,y.get)(t,"rejectedBy.name")||n;return I18n.t("Retry requested by %{rejectorName}",{rejectorName:r});case b.APPROVAL_STATE_APPROVED:var a=(0,y.get)(t,"approvedBy.name")||n,s=t.approvedAt;return s?I18n.t("Approved %{howLongAgo} by %{approvedByName}",{howLongAgo:(0,h.default)(s).fromNow(),approvedByName:a}):I18n.t("Approved by %{approvedByName}",{approvedByName:a});default:return null}},shouldShowCompletedDate:function(){var e=this.props.learningItem,t=e.data.approval;return!t&&this.isComplete()},shouldShowCertificate:function(){var e=this.props.learningItem;return(this.isComplete()||this.isApproved())&&e.data.hasCertificate},isComplete:function(){var e=this.props.learningItem;return u.default.isComplete(e)},isApproved:function(){var e=this.props.learningItem,t=e.data.approval;return t&&t.state===b.APPROVAL_STATE_APPROVED}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(26),o=r(i),l=n(270),u=r(l),c=n(123),d=r(c),p=n(52),f=r(p),m=n(1485),h=r(m),g=n(2),v=n(5),_=n(20),y=r(_),b=n(1392),E=s.default.createClass({displayName:"LibraryHeaderActions",propTypes:{sort:g.string,filters:(0,g.oneOfType)([g.string,(0,g.arrayOf)(g.string)]),searchTerm:g.string,onChangeParams:g.func,onChangeSearch:g.func,urlDriven:g.bool,trayIsOpen:g.bool,onTagTrayToggle:g.func,includeFilters:g.bool,searchPlaceHolder:g.string},getDefaultProps:function(){return{onChangeParams:Function.prototype,onChangeSearch:h.default,onTagTrayToggle:Function.prototype,includeFilters:!0,urlDriven:!0,searchPlaceHolder:o.default.t("Search for optional learning items")}},componentDidUpdate:function(e){!this.props.trayIsOpen&&e.trayIsOpen&&this.refs.tags.focus()},onChangeSort:function(e){this.props.onChangeParams({sort:e})},onChangeFilters:function(e){this.props.onChangeParams(e)},handleQueryChange:function(e){this.props.onChangeSearch({search:e||void 0})},render:function(){var e="pure-g-r large-content-area centered";return(0,y.default)("learn_new_cards")&&(e="pure-g-r mylearning-content-area centered padding-m"),s.default.createElement("div",{className:"library-actions"},s.default.createElement("div",{className:e},s.default.createElement("div",{className:"pure-u-1-2 indigo"},s.default.createElement(f.default,{searchTerm:this.props.searchTerm,onChange:this.handleQueryChange,urlDriven:this.props.urlDriven,label:o.default.t("SEARCH"),placeholderText:this.props.searchPlaceHolder})),s.default.createElement("div",{className:"pure-u-1-2 text-right small library-actions__links"},s.default.createElement(u.default,{activeSort:this.props.sort,onChange:this.onChangeSort,className:"small",sortOptions:this.getSortOptions()}),this.props.includeFilters&&s.default.createElement(d.default,{activeFilters:this.props,onChange:this.onChangeFilters,filterSets:this.getFilterSets(),popdownClassName:"library-popdown"}),s.default.createElement("button",{ref:"tags",className:"library-tag-tray__trigger popdown__trigger",onClick:this.props.onTagTrayToggle},s.default.createElement(v.Icon,{className:"library-tag-tray__trigger__icon"}),s.default.createElement("span",{className:"button-focus-flat__label"},o.default.t("Tags"))))))},getSortOptions:function(){var e=[{value:"-added",label:o.default.t("Date Added")},{value:"title",label:o.default.t("Title A-Z")},{value:"-title",label:o.default.t("Title Z-A")}];return this.props.includeFilters&&e.push({value:"duration",label:o.default.t("Duration")}),e},getFilterSets:function(){var e=(0,b.filterLabels)(),t=[{label:o.default.t("Status"),key:"filters",options:[{label:e["status.not_started"],value:"status.not_started"},{label:e["status.in_progress"],value:"status.in_progress"},{label:e["status.completed"],value:"status.completed"}]},{label:o.default.t("Duration"),key:"filters",options:[{label:e["duration.lt_10"],value:"duration.lt_10"},{label:e["duration.between_10_and_30"],value:"duration.between_10_and_30"},{label:e["duration.between_30_and_50"],value:"duration.between_30_and_50"},{label:e["duration.gt_50"],value:"duration.gt_50"}]},{label:o.default.t("Other"),key:"filters",options:[{label:e["other.certificate"],value:"other.certificate"},{label:e["other.scorm"],value:"other.scorm"}]}];return t.unshift({label:o.default.t("Content Type"),key:"filters",options:[{label:e[b.ITEM_TYPE_COURSE],value:b.ITEM_TYPE_COURSE},{label:e[b.ITEM_TYPE_PROGRAM],value:b.ITEM_TYPE_PROGRAM},{label:e[b.ITEM_TYPE_LIVE_COURSE],value:b.ITEM_TYPE_LIVE_COURSE}]}),t}});e.exports=E},function(e,t,n){"use strict";var r=n(1),a=n(26),s=n(2),i=s.func,o=s.string,l=n(387),u=n(5),c=u.Icon,d=n(271),p=n(27),f=r.createClass({displayName:"TagFilter",propTypes:{onTagRemoved:i,label:o},getDefaultProps:function(){return{onTagRemoved:Function.prototype}},componentWillMount:function(){l.addChangeListener(this.reload)},componentWillUnmount:function(){l.removeChangeListener(this.reload)},renderTag:function(e){var t=this;return r.createElement(d,{key:e.name,tagName:"li",className:"library-tag-filter__tag",onClick:function(){return t.props.onTagRemoved(e.name)}},e.name,r.createElement("span",{className:"btn--a11y tag-listing__remove-entry-button"},r.createElement(p,null,a.t("Remove Tag %{name}",{name:e.name})),r.createElement(c,{className:"gs-x tag-listing__icon"})))},render:function(){var e=l.getSelected();return e.length>0?r.createElement("div",{className:"library-tag-filter"},r.createElement("label",{className:"library-tag-filter__label"},this.props.label||a.t("Tags:")),r.createElement("ul",null,e.map(this.renderTag))):null},reload:function(){this.forceUpdate()}});e.exports=f},function(e,t,n){"use strict";var r=n(1),a=n(600),s=n(186),i=n(4),o=i.assign;e.exports=function(e){e.Preview=s.addScreen("learning-library",function(){return I18n.t("Learning Library")},r.createClass({displayName:"Preview",render:function(){var t=function(e){return o({id:e.title,itemId:e.title,description:"",required:!0,isEnrolled:!0,state:"active",data:{uuid:e.title}},e)},n=[t({id:100,itemId:100,itemType:"CourseTemplate",title:I18n.t("New Hire Orientation"),progress:.2,estimatedTime:15,features:[]}),t({id:101,itemId:101,itemType:"CourseTemplate",title:I18n.t("Challenger Methodology Update"),required:!1,progress:1,state:"complete",hasCertificate:!0,estimatedTime:20,coverSlideData:{dark:!0},features:[]}),t({id:102,itemId:102,itemType:"CourseTemplate",title:I18n.t("Business Process Analysis"),isEnrolled:!1,required:!1,progress:.8,estimatedTime:10,features:[]}),t({id:103,itemId:103,itemType:"CourseTemplate",title:I18n.t("Efficiency Workflow"),isEnrolled:!1,required:!1,progress:.8,estimatedTime:12,coverSlideData:{dark:!0,backgroundColor:"#3b7fc4"},features:[]}),t({id:104,itemId:104,itemType:"CourseTemplate",title:I18n.t("Manager Training"),progress:.2,estimatedTime:4,features:[]}),t({id:105,itemId:105,itemType:"CourseTemplate",title:I18n.t("Network Security"),required:!1,progress:1,state:"complete",hasCertificate:!0,estimatedTime:10,coverSlideData:{dark:!0,backgroundColor:"#f15c75"},features:[]})];return r.createElement(a,{currentPath:"/learner/library",layoutClassName:"library"},r.createElement(e,{libraryItems:n}))}}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(11),u=r(l),c=n(61),d=r(c),p=n(27),f=r(p),m=n(13),h=r(m),g=n(5),v=n(103),_=r(v),y=n(6),b=r(y),E=n(225),C=r(E),I=n(12),T=n(2),N=Object.freeze({Task:{preview:"learner.checkpoint",resume:"learner.checkpoint",finished:"learner.checkpoint"},"Surveys::Survey":{preview:"learner.course.enroll",resume:"react.learner.survey",finished:"react.learner.survey"},CourseTemplate:{preview:"learner.course.enroll",resume:"learner.course.launch",finished:"learner.course.launch"},Program:{preview:"learner.program.enroll",resume:"learner.program",finished:"learner.program"},LiveCourse:{preview:"learner.live_course.enroll",resume:"learner.live_training_calendar",finished:"learner.live_training_calendar"},"Lti::ContentItem":{preview:"learner.lti_content_item",resume:"learner.lti_content_item",finished:"learner.lti_content_item.finished"}}),S=Object.freeze({Task:{preview:"taskUuid",resume:"taskId",finished:"taskId"},"Surveys::Survey":{preview:"surveyUuid",resume:"distributionId",finished:"surveyId"},CourseTemplate:{preview:"courseUuid",resume:"courseId",finished:"courseId"},Program:{preview:"programUuid",resume:"programId",finished:"programId"},LiveCourse:{preview:"liveCourseUuid",resume:"liveCourseId",finished:"liveCourseId"},"Lti::ContentItem":{preview:"ltiContentItemId",resume:"ltiContentItemId",finished:"ltiContentItemId"}}),x=o.default.createClass({displayName:"Details",propTypes:{libraryItem:n(146).isRequired,highlight:T.string,hideProgress:T.bool,onRemove:T.func},getDefaultProps:function(){return{hideProgress:!1,onRemove:null}},render:function(){var e=this.props,t=e.libraryItem,n=e.hideProgress,r=t.title||I18n.t("Untitled Item"),a=(0,b.default)({"library-list-item__link--new":!0,"library-list-item__link--failed":t.state===I.COURSE_STATUS_FAILED});return o.default.createElement("div",{className:"library-list-item__details--wrapper"},!n&&this.renderProgress(),o.default.createElement("div",{className:"library-list-item__details--new"},o.default.createElement("div",{className:"library-list-item__title",title:r},o.default.createElement(d.default,{text:r,highlight:this.props.highlight,ref:(0,C.default)(2,"WHITE")})),o.default.createElement("div",{className:"library-list-item__description",ref:(0,C.default)(4,"WHITE"),title:t.description},t.description),o.default.createElement("div",{className:"library-list-item__footer"},this.hasCertificate()&&o.default.createElement("span",{className:"library-list-item__certificate"},o.default.createElement(f.default,{children:I18n.t('Earn certificate by completing "%{title}"',{title:r})}),o.default.createElement(g.Icon,{className:"gs-certificate"})),!!this.props.onRemove&&o.default.createElement("button",{className:"library-list-item__remove-button",onClick:this.onRemoveItem,type:"button"},I18n.t("Remove")),o.default.createElement(h.default,{to:this.getNavigationLink(),params:this.getNavigationParams(),className:a,children:this.getNavigationText(),queryParams:this.getNavigationQueryParams()}))))},onRemoveItem:function(){this.props.onRemove(this.props.libraryItem.id)},renderProgress:function(){var e=this.props.libraryItem;return e.isEnrolled?o.default.createElement(_.default,{className:"library-list-time__progress-bar",current:e.progress,progress:1,isFailed:e.state===I.COURSE_STATUS_FAILED}):null},getNavigationLink:function(){var e=this.props.libraryItem,t=N[e.itemType];return e.completedAt?t.finished:e.isEnrolled?t.resume:t.preview},getNavigationParams:function(){var e=this.props.libraryItem,t=S[e.itemType],n={};return e.completedAt?n[t.finished]=e.itemId:e.isEnrolled?"distributionId"===t.resume?n[t.resume]=e.data.distributionId:n[t.resume]=e.itemId:n[t.preview]=e.data.uuid,[n]},getNavigationQueryParams:function(){var e=this.props.libraryItem,t=e.itemType,n=e.isEnrolled,r=e.completedAt,a={};return"LiveCourse"===t&&(n||r)&&(a=(0,s.default)({},a,{liveCourseId:e.itemId,date:(0,u.default)().format("YYYY-MM-DD")})),a},getNavigationText:function(){var e=this.props.libraryItem;return"LiveCourse"===e.itemType?I18n.t("View Sessions"):e.state===I.COURSE_STATUS_FAILED?I18n.t("Retake"):e.completedAt?I18n.t("Review"):e.state===I.COURSE_STATUS_ACTIVE&&e.progress>0?I18n.t("Resume"):I18n.t("Start")},hasCertificate:function(){return this.props.libraryItem.features.indexOf("has_certificate")!==-1}});t.default=x,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=n(82),l=r(o),u=n(27),c=r(u),d=n(236),p=r(d),f=n(48),m=n(2),h=n(149),g=r(h),v=n(125),_=r(v),y=n(20),b=r(y),E=n(11),C=r(E),I=n(6),T=r(I),N=n(4),S=n(12),x=S.COURSE_STATUS_ACTIVE,A=S.COURSE_STATUS_FAILED,k=S.PROGRAM_HEADER_GRADIENTS,w=Object.freeze({"Surveys::Survey":"gs-survey-likert",Task:"gs-tasks",CourseTemplate:"gs-book",Program:"gs-books",LiveCourse:"gs-in-class"}),R=s.default.createClass({displayName:"Header",propTypes:{libraryItem:n(146).isRequired,onShowOverlayClick:m.func,hideOverlayToggle:m.bool,overlayVisible:m.bool,showBackgroundImage:m.bool},getDefaultProps:function(){return{hideOverlayToggle:!1,showBackgroundImage:!0}},itemTypeLabel:function(e){switch(e){case"Surveys::Survey":return I18n.t("Survey");case"Task":return I18n.t("Task");case"CourseTemplate":return I18n.t("Course");case"Program":return I18n.t("Program");case"LiveCourse":return I18n.t("Live Course");default:return""}},render:function(){var e=this.props,t=e.libraryItem,n=e.hideOverlayToggle,r=w[t.itemType],a=this.itemTypeLabel(t.itemType),o=this.getOverdueHeaderText();
return s.default.createElement("div",{className:"library-list-item__revealer library-list-item__revealer--new",style:this.getRevealerStyles(),onClick:this.props.onShowOverlayClick},s.default.createElement("div",{className:"library-list-item__revealer-contents relative"},this.renderBackgroundImage(),s.default.createElement("div",{className:"relative"},s.default.createElement("header",{className:(0,T.default)("library-list-item__revealer-header",{"library-list-item__revealer-header--overdue":!!o})},s.default.createElement(c.default,{children:a}),s.default.createElement(i.Icon,{className:r+" library-list-item__revealer-header__icon"}),!o&&this.getStepCount(),s.default.createElement("div",{className:"library-list-item__time library-list-item__time--new"},o||this.getMetaText()),!n&&s.default.createElement(l.default,{className:"library-list-item__arrow library-list-item__arrow--new",buttonClassName:"btn--reset padding-none",icon:"arrow-down",iconClassName:"gs-3-4",label:this.props.overlayVisible?I18n.t("Close details"):I18n.t("See more details")})))))},getStepCount:function(){var e=this.props.libraryItem;if(!e.data.itemCounts)return null;var t=e.data.itemCounts.map(function(e){return e.count}).reduce(function(e,t){return e+t},0);return s.default.createElement("span",{className:"library-list-item__steps"},I18n.t("Step",{count:t}))},renderBackgroundImage:function(){var e=this.props.showBackgroundImage&&this.props.libraryItem.coverSlideData||{},t=e.backgroundImageOpacity;return"number"==typeof t&&1!==t||(t=.8),s.default.createElement(p.default.Clipper,{backgroundImageUrl:e.backgroundImageUrl,opacity:t,renderHeight:300,cdnImageParams:{width:300,height:300}})},getOverdueHeaderText:function(){if((0,b.default)("private_libraries")){var e=this.props.libraryItem,t=(0,N.assign)({},e,{learnableType:e.itemType});if(_.default.isOverdue(t)){var n=(0,C.default)().diff((0,C.default)(_.default.getDueDate(t)),"days");return I18n.t({one:"1 Day Overdue",other:"%{count} Days Overdue"},{count:n})}}return null},getMetaText:function(){var e=this.props.libraryItem;return"LiveCourse"===e.itemType?this.getLiveCourseText(e):this.getCourseProgramText(e)},getLiveCourseText:function(e){var t=e.data.sessionsCount||0;return I18n.t({one:"1 Session",other:"%{count} Sessions"},{count:t})},getCourseProgramText:function(e){var t=e.estimatedTime||0;return e.completedAt?I18n.t("Complete"):e.state===x?I18n.t({one:"1 min left",other:"%{count} mins left"},{count:t}):e.state===A?I18n.t("%{rate}% to pass",{rate:e.data.passingThreshold}):I18n.t("min",{count:t})},getRevealerStyles:function(){var e=this.props.libraryItem.coverSlideData||{},t=this.props.showBackgroundImage,n=e.backgroundImage;n||"number"!=typeof e.gradient||(n=k[e.gradient].opaque);var r={color:t&&e.dark?f.WHITE:"",backgroundImage:n};if(!g.default.isActiveThemeHighContrast()){var a=e.backgroundColor||(e.dark?f.INDIGO:null);r.backgroundColor=a}return r}});t.default=R,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){switch(e){case"Program":return I18n.t("Program Includes:");case"CourseTemplate":return I18n.t("Course Includes:");case"Task":return I18n.t("Checkpoint Includes:")}return null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=r(s),o=n(82),l=r(o),u=n(3075),c=r(u),d=n(3076),p=r(d),f=n(3077),m=r(f),h=n(3078),g=r(h),v=n(2),_=Object.freeze({Program:p.default,CourseTemplate:c.default,Task:m.default}),y=i.default.createClass({displayName:"Overlay",propTypes:{libraryItem:n(146).isRequired,onCloseClick:v.func},render:function(){var e=this.props.libraryItem;return i.default.createElement("div",{className:"library-list-item__overlay--new"},i.default.createElement("div",{className:"library-list-item__overlay--new__background"}),i.default.createElement(l.default,{buttonClassName:"btn--reset",className:"library-list-item__overlay--new__close",icon:"x",iconClassName:"library-list-item__overlay--new__close__icon gs-1x",label:I18n.t("Close"),"aria-label":I18n.t("Close details"),onClick:this.props.onCloseClick}),i.default.createElement("div",{className:"library-list-item__overlay--new__title"},a(e.itemType)),this.renderInfo(),i.default.createElement("div",{className:"library-list-item__overlay--new__tags"},i.default.createElement(g.default,{tags:this.props.libraryItem.tags||[],matchingTags:this.props.libraryItem.matchingTags})))},renderInfo:function(){var e=this.props.libraryItem;return i.default.createElement(_[e.itemType],{libraryItem:e})}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(5),o=s.default.createClass({displayName:"Features",propTypes:{libraryItem:n(146).isRequired},render:function(){return s.default.createElement("ul",{className:"unstyled library-list-item__overlay--new__overlay-details"},this.getFeatures().map(this.renderFeature))},renderFeature:function(e){return s.default.createElement("li",{key:e[0],className:"library-list-item__feature"},s.default.createElement(i.Icon,{className:"gs-1x gs-"+e[0]}),s.default.createElement("span",{className:"library-list-item__feature-label"},e[1]))},getFeatures:function(){var e=this.props.libraryItem.features||[],t=[],n=e.indexOf("has_images")!==-1,r=e.indexOf("has_audio")!==-1,a=e.indexOf("has_video")!==-1;if(e.indexOf("has_certificate")!==-1&&t.push(["certificate",I18n.t("Certificate")]),n||r||a){var s=[];a&&s.push(I18n.t("Videos")),n&&s.push(I18n.t("Images")),r&&s.push(I18n.t("Audio"));var i=s.join(", ").replace(/,([^,]*)$/," &$1");t.push(["media",i])}return e.indexOf("has_quizzes")!==-1&&t.push(["quiz-question",I18n.t("Quiz Assessments")]),0===t.length&&t.push(["slide-content",I18n.t("Text Content")]),t}});t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.itemType,n=e.count;switch(t){case"CourseTemplate":return I18n.t("Course",{count:n});case"Task":return I18n.t("Checkpoint",{count:n});case"LiveCourse":return I18n.t({one:"1 Live Training",other:"%{count} Live Trainings"},{count:n})}return null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=r(s),o=n(125),l=r(o),u=n(20),c=r(u),d=n(151),p=n(5),f=n(12),m=i.default.createClass({displayName:"Steps",propTypes:{libraryItem:n(146).isRequired},render:function(){var e=this.props.libraryItem.data.itemCounts;return i.default.createElement("ul",{className:"unstyled library-list-item__overlay--new__overlay-details"},e.map(this.renderStep),this.renderDueDate())},renderStep:function(e){var t=e.itemType,n=f.PROGRAM_ITEM_ICONS[t];return i.default.createElement("li",{key:t,className:"library-list-item__feature"},i.default.createElement(p.Icon,{className:"gs-1x "+n}),i.default.createElement("span",{className:"library-list-item__feature-label"},a(e)))},renderDueDate:function(){var e=this.props.libraryItem;return(0,c.default)("learn_program_due_date")&&e.data.endAt&&!l.default.isComplete(e)&&i.default.createElement("li",{className:"library-list-item__feature"},i.default.createElement("span",{className:"library-list-item__feature-due-date"},(0,d.dueDateText)(e.data.endAt)))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(151),h=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.libraryItem.data;return f.default.createElement("ul",{className:"unstyled library-list-item__overlay--new__overlay-details"},e.requiresEvidence&&f.default.createElement("li",null,I18n.t("Requires Evidence")),e.endAt&&f.default.createElement("li",null,(0,m.dueDateText)(e.endAt)))}}]),t}(f.default.Component);h.propTypes={libraryItem:n(146).isRequired},t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=a.KeyMapper,o=a.ConstrainFocus,l=n(271),u=n(300),c=n(780),d=n(18),p=n(3),f=p.arrayOf,m=p.string,h=p.func,g=n(28),v=r.createClass({displayName:"NonFittingTagListing",propTypes:{onClose:h,tags:f(m),matchingTags:f(m)},componentDidMount:function(){this.refs.close.focus()},render:function(){return r.createElement(o,null,r.createElement(i,{onKCEscape:this.props.onClose},r.createElement("div",{className:"library-list-item-tags__popup","data-capybara":"library-list-item-tags__popup"},r.createElement("p",{className:"library-list-item-tags__popup-header"},I18n.t("All Tags"),r.createElement(d,{ref:"close",onClick:this.props.onClose,className:"library-list-item-tags__popup-close-btn btn--a11y"},r.createElement(s,{className:"gs-x"}))),r.createElement(u,{tags:this.props.tags,highlightedTags:this.props.matchingTags}))))}}),_=r.createClass({displayName:"Tags",statics:{activeComponentsWithPopups:[],trackComponentWithOpenPopup:function(e){this.activeComponentsWithPopups.push(e)},untrackComponentWithOpenPopup:function(e){var t=this.activeComponentsWithPopups.indexOf(e);t>-1&&this.activeComponentsWithPopups.splice(t,1)},closeOpenPopups:function(){this.activeComponentsWithPopups.forEach(function(e){return e.closePopup()})}},propTypes:{tags:f(m).isRequired,matchingTags:f(m)},getInitialState:function(){return{visibleTagIndices:null,showingPopup:!1}},componentWillUpdate:function(e,t){t.showingPopup&&!this.state.showingPopup?this.constructor.trackComponentWithOpenPopup(this):!t.showingPopup&&this.state.showingPopup&&this.constructor.untrackComponentWithOpenPopup(this)},render:function(){var e=this;if(0===this.props.tags.length)return null;var t=this.state.visibleTagIndices,n=this.props.tags,a=this.props.matchingTags||[],s=t?n.filter(function(e,n){return t.indexOf(n)>-1}):[],i=t?a.filter(function(e){return s.indexOf(e)===-1}):[],o=null===t?0:this.props.tags.length-t.length;return r.createElement("div",{className:"tag-listing tag-listing--new library-list-item-tags"},r.createElement("div",{className:"library-list-item-tags__box library-list-item-tags__box--new"},n.map(this.renderItem)),this.state.showingPopup&&r.createElement(v,{tags:this.props.tags,matchingTags:this.props.matchingTags,onClose:this.closePopup}),o>0&&r.createElement("button",{ref:function(t){e.hiddenTagButton=t},"data-capybara":"hidden-tag-button",onClick:this.openPopup,className:g({"btn--a11y":!0,"library-list-item-tags__see-more-btn--new":!0,"library-list-item-tags__see-more-btn--with-matching":i.length>0})},I18n.t("+ %{count}",{count:o})),r.createElement(c,{className:"library-list-item-tags__box library-list-item-tags__box--new",style:{visibility:"hidden",position:"absolute",zIndex:-1},onChange:this.trackVisibleTags},n.map(this.renderItem)))},renderItem:function(e,t){if(!e)return null;var n=this.props.matchingTags&&this.props.matchingTags.indexOf(e)>-1;return r.createElement(l,{key:e+"--"+t,className:"library-list-item-tags__tag",highlight:n},e)},openPopup:function(){this.constructor.closeOpenPopups(),this.setState({showingPopup:!0})},closePopup:function(){this.setState({showingPopup:!1}),this.hiddenTagButton&&this.hiddenTagButton.focus()},trackVisibleTags:function(e){this.setState({visibleTagIndices:e})}});_.NonFittingTagListing=v,e.exports=_},function(e,t,n){"use strict";var r=n(1),a=n(3),s=a.func,i=a.object,o=a.string,l=n(55),u=n(5),c=u.Icon,d=n(18),p=n(88),f=n(61),m=n(3),h=m.shape,g=m.bool;e.exports=r.createClass({displayName:"exports",mixins:[p.mixin],propTypes:{tool:i,toggleId:o,accountId:o,permissions:h({lti_tool_create:g,lti_tool_destroy:g}),onRemove:s,onEnableToggle:s,highlight:s},getDefaultProps:function(){return{permissions:{}}},newToggleId:function(e){return"ltitool_enable__checkbox"+e},renderRemovalForm:function(){var e=this.props,t=e.tool,n=e.highlight,a=e.onRemove;return r.createElement("tr",{mobileClassNames:"pure-g"},r.createElement("td",{colSpan:"3",mobileClassNames:"pure-u-1",className:"padding-none"},r.createElement("div",{className:"removable-item removable-item--focused"},r.createElement("div",{className:"removable-item__title"},r.createElement(f,{text:t.name,highlight:n})),r.createElement("div",{className:"removable-item__confirm indigo",children:I18n.t("Delete LTI Tool?")}),r.createElement("div",{className:"removable-item__buttons"},r.createElement("button",{type:"button",className:"btn--reset dark-grey upcase small padding-rl-s text-center",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),r.createElement("button",{type:"button",className:"btn--reset upcase small padding-rl-s text-center confirm-remove-learner pink",onClick:a.bind(null,t.id),children:I18n.t("Delete")})))))},render:function(){var e=this.props,t=e.accountId,n=e.permissions,a=e.tool,s=this.newToggleId(a.id);return this.isConfirmingRemoval()?this.renderRemovalForm():r.createElement("tr",{key:a.id,className:"sortable-table__tr"},r.createElement("td",{className:"sortable-table__td"},a.name),r.createElement("td",{className:"text-center sortable-table__td"},r.createElement(l,{checked:a.toolEnabled,onChange:this.props.onEnableToggle.bind(null,t,a),id:s})),r.createElement("td",{className:"text-center sortable-table__td"},n.lti_tool_destroy&&r.createElement(d,{className:"btn--reset padding-xs",onClick:this.confirmRemoval},r.createElement(c,{className:"gs-x gs-1x dark-grey"}))))}})},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(18),o=n(64),l=n(60),u=n(3),c=u.func,d=u.string;e.exports=r.createClass({displayName:"LtiToolForm",propTypes:{closeForm:c,accountId:d,addTool:c},getInitialState:function(){return{name:"",consumerKey:"",sharedSecret:"",xmlConfiguration:"",configUrl:"",formType:"xml_form"}},render:function(){return r.createElement("div",{className:"support-account__modal-wrapper"},r.createElement("header",{className:"support-account__modal-header"},r.createElement("h4",null,I18n.t("Add Tool")),r.createElement(i,{className:"btn--reset support-account__modal-close-btn",onClick:this.closeForm},r.createElement(s,{className:"gs-x dark-grey"}))),r.createElement("form",{onSubmit:this.props.addTool.bind(null,this.formIsInvalid,this.getSelectedFormValues,this.closeForm),className:"support-account__add-xml"},r.createElement("div",{className:"form-group"},r.createElement("div",null,r.createElement("label",null,I18n.t("Configuration Type"))),r.createElement("div",{className:"support-account__modal-combo-box"},r.createElement(o,{selectedValue:this.state.formType,onChange:this.handleInput("formType")},r.createElement(l,{value:"url_form",label:"By URL"}),r.createElement(l,{value:"xml_form",label:"Paste XML"})))),r.createElement("div",{className:"form-group"},r.createElement("div",null,r.createElement("label",null,I18n.t("Name"))),r.createElement("div",null,r.createElement("input",{value:this.state.name,onChange:this.handleInput("name"),className:"support-account__modal-text-input--long",type:"text",placeholder:"Name"}))),r.createElement("div",{className:"support-account__modal-double-inputs"},r.createElement("div",{className:"form-group"},r.createElement("div",null,r.createElement("label",null,I18n.t("Consumer Key"))),r.createElement("div",null,r.createElement("input",{value:this.state.consumerKey,onChange:this.handleInput("consumerKey"),className:"support-account__modal-text-input--long",type:"text",placeholder:"Consumer Key"}))),r.createElement("div",{className:"form-group"},r.createElement("div",null,r.createElement("label",null,I18n.t("Shared Secret"))),r.createElement("div",null,r.createElement("input",{value:this.state.sharedSecret,onChange:this.handleInput("sharedSecret"),className:"support-account__modal-text-input--long",type:"text",placeholder:"Shared Secret"})))),this.renderFormExtra(),r.createElement("div",{className:"support-account__modal-footer"},r.createElement(i,{type:"submit",disabled:this.formIsInvalid(),className:"btn filled"},"Add"),r.createElement(i,{className:"btn",onClick:this.closeForm},"Cancel"))))},renderFormExtra:function(){switch(this.state.formType){case"url_form":return this.renderUrlForm();case"xml_form":return this.renderXMLForm();default:return null}},renderXMLForm:function(){return r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("div",null,r.createElement("label",null,I18n.t("XML Configuration"))),r.createElement("div",null,r.createElement("textarea",{value:this.state.xmlConfiguration,onChange:this.handleInput("xmlConfiguration"),className:"support-account__modal-textarea",placeholder:"XML Configuration"}))))},renderUrlForm:function(){return r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("div",null,r.createElement("label",null,I18n.t("Config URL"))),r.createElement("div",null,r.createElement("input",{value:this.state.configUrl,onChange:this.handleInput("configUrl"),className:"support-account__modal-text-input--long",type:"text",placeholder:"Config URL"})),r.createElement("label",{className:"support-account__modal-label"},I18n.t("Example: https://example.com/config.xml"))))},formIsInvalid:function(){var e=this,t=["name","consumerKey","sharedSecret"];switch(this.state.formType){case"url_form":t.push("configUrl");break;case"xml_form":t.push("xmlConfiguration")}return t.some(function(t){return""===e.state[t].trim()})},closeForm:function(){this.setState(this.getInitialState()),this.props.closeForm&&this.props.closeForm()},handleInput:function(e){var t=this;return function(n){var r={};r[e]=n.target?n.target.value:n,t.setState(r)}},getSelectedFormValues:function(){var e={name:this.state.name.trim(),consumerKey:this.state.consumerKey.trim(),sharedSecret:this.state.sharedSecret.trim()};switch(this.state.formType){case"url_form":e.configUrl=this.state.configUrl;break;case"xml_form":e.xmlConfiguration=this.state.xmlConfiguration}return e}})},function(e,t,n){"use strict";var r=n(1),a=n(3079),s=n(3),i=s.arrayOf,o=s.object,l=s.string,u=s.func,c=s.shape,d=s.bool;e.exports=r.createClass({displayName:"exports",propTypes:{tools:i(o),permissions:c({lti_tool_create:d,lti_tool_destroy:d}),accountId:l,onRemove:u,onEnableToggle:u},render:function(){var e=this.props.tools;return r.createElement("table",{className:"sortable-table"},r.createElement("thead",{className:"sortable-table__thead"},r.createElement("tr",{className:"sortable-table__tr"},r.createElement("th",{className:"th-80  sortable-table__th sortable-table__th--sortable th-80"},r.createElement("span",{role:"button",tabIndex:"0"},"Name")),r.createElement("th",{className:"th-10 text-center sortable-table__th"},r.createElement("span",null,"Enable")),r.createElement("th",{className:"th-10 text-center sortable-table__th"},r.createElement("span",null,"Delete")))),r.createElement("tbody",{className:"sortable-table__tbody"},e.map(this.renderTool),0===this.props.tools.length&&r.createElement("tr",{className:"border-b border-grey centered padding-m"},r.createElement("td",{colSpan:"3",className:"text-center dark-grey no-ltitools-message"},I18n.t("There are no LTI Tools for this account.")))))},renderTool:function(e){var t=this.props,n=t.accountId,s=t.permissions;return r.createElement(a,{key:e.id,accountId:n,tool:e,permissions:s,onRemove:this.props.onRemove.bind(null,n,e.id),onEnableToggle:this.props.onEnableToggle})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(1),o=r(i),l=n(64),u=r(l),c=n(60),d=r(c),p=n(24),f=r(p),m=n(2),h=function(e){return e.filter(function(e){return e.count>0})},g=o.default.createClass({displayName:"Content",propTypes:{wrapperClassName:m.string,defaultFilterValue:m.string,filters:(0,m.arrayOf)((0,m.shape)({count:m.number,label:m.string,value:m.string})),placeholder:m.string,recipientId:m.string,recipientName:m.string,recipientType:m.string,maxLength:m.number,onClose:m.func,sendMessage:m.func.isRequired,onBodyChange:m.func.isRequired,onFilterChange:m.func,body:m.string,selectedFilterValue:m.string},getDefaultProps:function(){return{filters:[],maxLength:1e3}},getTitle:function(){var e=this.props,t=e.recipientName,n=e.recipientType,r=e.recipientId;switch(n){case"support":return I18n.t("Message Support");case"learner":return r?I18n.t("Message %{name}",{name:t}):I18n.t("Message All Learners");case"survey_distribution":return I18n.t("Message %{name} Participants",{name:t});case"group":return I18n.t("Message Users");default:return t?I18n.t("Message %{name} Learners",{name:t}):I18n.t("Message Learners")}},handleBodyChange:function(e){this.props.onBodyChange(e.target.value)},handleSubmit:function(e){e.preventDefault();var t=this.props,n=t.onClose,r=t.sendMessage;r(n)},renderFilters:function(){var e=h(this.props.filters),t=this.props,n=t.onFilterChange,r=t.selectedFilterValue;return e.length>1?o.default.createElement(u.default,{id:"message-filter",className:"combo-box--message-filter",onChange:n,selectedValue:r},e.map(function(e,t){return o.default.createElement(d.default,(0,s.default)({key:"filter-"+t},e),o.default.createElement("span",null,e.label))})):1===e.length?o.default.createElement("div",{className:"message-filter__label"},e[0].label):null},render:function(){var e=this.props,t=e.placeholder,n=e.maxLength,r=e.onClose,a=e.body;return o.default.createElement("form",{className:"ic-modal-form",onSubmit:this.handleSubmit},o.default.createElement("div",{className:"ic-modal-main"},o.default.createElement("div",{className:"message-box__header"},o.default.createElement("div",{className:"ic-modal-title"},this.getTitle()),this.renderFilters()),o.default.createElement("div",{className:"message-box__contents"},o.default.createElement("textarea",{"data-capybara":"email-message-box-contents",placeholder:t||I18n.t("Write your message"),defaultValue:a,onChange:this.handleBodyChange,maxLength:n})),o.default.createElement("div",{className:"message-box__footer"},o.default.createElement("button",{type:"button",className:"btn button-cancel tertiary",onClick:r},o.default.createElement(f.default,null,I18n.t("Cancel"))),o.default.createElement("button",{type:"submit",className:"btn button-submit filled"},o.default.createElement(f.default,null,I18n.t("Send"))))))}});t.default=g,e.exports=t.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=r(a),i=n(15),o=r(i),l=n(17),u=r(l),c=n(16),d=r(c),p=n(1),f=r(p),m=n(24),h=r(m),g=n(5),v=n(6),_=r(v),y=n(3),b=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderRemoval=function(){return e.props.canRemove?e.state.isConfirmingRemoval?e.renderConfirmation():e.renderRemoveButton():null},e.renderConfirmation=function(){return f.default.createElement("div",{className:"removable-item__container"},f.default.createElement("div",{key:"confirm",className:"removable-item__confirm"},f.default.createElement(h.default,null,I18n.t("Remove Content?"))),f.default.createElement("div",{key:"buttons",className:"removable-item__buttons"},f.default.createElement("button",{type:"button",className:"removable-item__buttons__cancel",onClick:e.cancelRemoval},f.default.createElement(h.default,null,I18n.t("Cancel"))),f.default.createElement("button",{type:"button",className:"removable-item__buttons__confirm-remove",onClick:e.props.remove},f.default.createElement(h.default,null,I18n.t("Remove")))))},e.renderRemoveButton=function(){var t=(0,_.default)(["removable-item__remove",e.props.removeButtonClassName]);return f.default.createElement("div",{className:t},f.default.createElement("button",{type:"button",className:"removable-item__buttons__remove",onClick:e.confirmRemoval},f.default.createElement("span",{className:"screenreader-only"},f.default.createElement(h.default,null,I18n.t("Remove"))),f.default.createElement(g.Icon,{className:"removable-item__buttons__remove__icon"})))},e.confirmRemoval=function(){e.setState({isConfirmingRemoval:!0})},e.cancelRemoval=function(){e.setState({isConfirmingRemoval:!1})},e.state={isConfirmingRemoval:!1},e}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=(0,_.default)(["removable-item",this.props.className]),t=(0,_.default)(["removable-item__title",this.props.titleClassName]);return f.default.createElement("div",{className:e,"data-capybara":this.props.dataCapybara},f.default.createElement("div",{className:t},this.props.renderItem(this.state.isConfirmingRemoval)),this.props.renderActions(),this.renderRemoval())}}]),t}(f.default.Component);b.propTypes={renderItem:y.func.isRequired,renderActions:y.func,canRemove:y.bool,remove:y.func,className:y.string,titleClassName:y.string,removeButtonClassName:y.string,dataCapybara:y.string},b.defaultProps={remove:Function.prototype,renderActions:function(){return null}},t.default=b,e.exports=t.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){if(f.default.isColorEnabled())if((0,g.default)("learn_login_branding")){var e=f.default.getSigninBrandLogoSetting(),t=f.default.getColor(),n="reverse"===e;b=n?t:m.LIGHT_GREY,E=n?t:m.LIGHT_GREY,C=n?m.WHITE:t}else b=m.LIGHT_GREY,E=m.LIGHT_GREY,C=f.default.getColor(),I=m.MED_GREY;else b=m.INDIGO,E=m.INDIGO_GRADIENT_STOP,C=m.LIGHT_BLUE,(0,g.default)("learn_login_branding")||(I=m.BLUE_GREY)}function s(e,t){return e+Math.random()*(t-e)}function i(e,t){return Math.floor(e+Math.random()*(t+1-e))}function o(e,t,n){return e+(t-e)*n}var l=n(3331),u=r(l),c=n(114),d=r(c),p=n(62),f=r(p),m=n(48),h=n(20),g=r(h),v=2*Math.PI,_=Math.PI/2,y=3*Math.PI/2,b=void 0,E=void 0,C=void 0,I=void 0,T={outQuad:function(e,t,n,r){var a=e,s=e/=r;return-n*s*(a-2)+t},inOutCubic:function(e,t,n,r){return e/=r/2,e<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)}},N=function(e){this.component=e};N.prototype={start:function(){this._control.halted=!1,d.default.isIos()?this._launchIos():d.default.isAndroid()?this._launchAndroid():this._launchDesktop()},stop:function(){this._control.halted=!0},_control:{halted:!1,bgFill:null},_launchIos:function(){this._control.bgFill=b,this._launchFancy(this.component,this._control)},_launchAndroid:function(){this._control.bgFill=b,this._launchSimple(this.component,this._control)},_launchDesktop:function(){this._control.bgFill=null,this._launchFancy(this.component,this._control)},_launchSimple:function(e,t){function n(){L<1?w.clearRect(-x/L,-A/L,k.width/L,k.height/L):w.clearRect(-x,-A,k.width,k.height),M.draw()}function r(){M.update()}function s(){k.width=window.innerWidth,k.height=window.innerHeight,x=k.width/2,A=k.height/2,D=k.height-90;var e=10,n=80,r=Math.min(m,k.width/2-e,k.height/2-n);L=r/m,w.setTransform(L,0,0,L,x,A),w.strokeStyle=f(),w.fillStyle=t.bgFill}function i(){window.removeEventListener("resize",s)}function l(e){var a=e/1e3-O;P=a-R,R+=P,r(),n(),t.halted?i():(0,u.default)(l)}function c(){window.addEventListener("resize",s,!1),s(),M=new U}function d(){(0,u.default)(function(e){O=e/1e3,(0,u.default)(l)})}a();var p=3600,f=function(){return C},m=250,h=.8,b=1.1,E=1.2,N=1.5,S=1.6,x=0,A=0,k=e.refs.canvas,w=k.getContext("2d"),R=0,O=0,P=0,L=1,M=void 0,D=void 0,U=function(){this.rad=40,this.stroke=6,this.x=0,this.y=0,this.vx=0,this.vy=-480,this.gravityy=p,this.clientLogoRevealed=!1,this.bridgeLogoHidden=!1};U.prototype={draw:function(){if(R<h){(0,g.default)("learn_login_branding")||(w.strokeStyle=I),w.lineWidth=6,w.lineCap="round",w.beginPath(),w.arc(0,0,40,0,v),w.fill(),(0,g.default)("learn_login_branding")||w.stroke(),w.closePath();var e=R>h?y:T.inOutCubic(R,-_,v,h);w.strokeStyle=f(),w.lineWidth=6,w.lineCap="round",w.beginPath(),w.arc(0,0,40,-_,e),w.stroke(),w.closePath()}else w.lineWidth=this.stroke,w.beginPath(),w.arc(this.x,this.y,Math.max(this.rad,0),0,v),w.fill(),w.stroke(),w.closePath()},update:function(){if(R>h&&R<=b){var t=R-h,n=b-h;this.rad=T.outQuad(t,40,-4,n)}else if(R<=E);else{var r=(R-E)/(S-E);this.rad=o(36,m,r),!this.clientLogoRevealed&&R>=N&&(e.setState({hideClientLogo:!1}),this.clientLogoRevealed=!0),!this.bridgeLogoHidden&&this.screenY()>=D&&(e.setState({hideBridgeLogo:!0}),this.bridgeLogoHidden=!0),this.y+=this.vy*P,this.vy+=this.gravityy*P}},screenY:function(){return this.y*L+A}},c(),d()},_launchFancy:function(e,t){function n(e,t){return function(n){return e*(3*(n/t-.5)/(1+Math.abs(4*(n/t-.5)))+.5)}}function r(){Y<1?H.clearRect(-q/Y,-B/Y,j.width/Y,j.height/Y):H.clearRect(-q,-B,j.width,j.height),K.forEach(function(e){return e.draw()}),z.draw()}function l(){if(e.isMounted()){if(G>=M&&K.length<S)for(var t=G-M,n=te(t),r=n-K.length,a=0;a<r;a++)K.push(ne.random());G>=U&&!$&&($=!0,K.unshift(new ae(.9*k)),K.forEach(function(e){return e.popBubble()})),K.forEach(function(e){return e.update()}),z.update()}}function c(){j.width=j.offsetWidth,j.height=j.offsetHeight,q=j.width/2,B=j.height/2,ee=j.height-90;var e=10,n=80,r=Math.min(k,j.width/2-e,j.height/2-n);if(Y=r/k,H.setTransform(Y,0,0,Y,q,B),H.strokeStyle=w(),t.bgFill)H.fillStyle=t.bgFill;else{var a=H.createLinearGradient(0,-B/Y,0,B/Y);a.addColorStop(0,b),a.addColorStop(1,E),H.fillStyle=a}}function d(){a(),c()}function p(){d(),f.default.addChangeListener(d),window.addEventListener("resize",c,!1),z=new re,F.forEach(function(e){e.squaredBoundary=k*k-2*k*e.radius+e.radius*e.radius;for(var t=0;t<e.relativeLikeliness;t++)Q.push(e)})}function m(){f.default.removeChangeListener(d),window.removeEventListener("resize",c)}function h(e){var n=e/1e3-W;V=n-G,G+=V,l(),r(),t.halted?m():(0,u.default)(h)}function N(){(0,u.default)(function(e){W=e/1e3,(0,u.default)(h)})}var S=80,x=150,A=3600,k=250,w=function(){return C},R=5,O=4.5,P=.7,L=.95,M=1,D=2.5,U=2.85,F=[{radius:40,strokeRange:[4,6],damping:.275,relativeLikeliness:1},{radius:30,strokeRange:[4,6],damping:.3,relativeLikeliness:1},{radius:25,strokeRange:[4,6],damping:.375,relativeLikeliness:1},{radius:20,strokeRange:[3,4],damping:.425,relativeLikeliness:1},{radius:12.75,strokeRange:[3,4],damping:.5,relativeLikeliness:2},{radius:5,strokeRange:[3,4],damping:.575,relativeLikeliness:2}],q=0,B=0,j=e.refs.canvas,H=j.getContext("2d"),G=0,W=0,V=0,Y=1,z=void 0,K=[],Q=[],$=!1,X=0,J=[0,0],Z=[0,0],ee=void 0,te=n(S,D-M),ne=function(e,t,n,r,a,s,i){this.rad=e,this.stroke=t,this.damping=n,this.hideStroke=i,this.squaredBoundary=s,this.x=0,this.y=0,this.vx=Math.cos(r)*a,this.vy=Math.sin(r)*a,this.gravityx=6*this.vx,this.gravityy=6*this.vy};ne.random=function(){var e=Q[i(0,Q.length-1)],t=i(e.strokeRange[0],e.strokeRange[1]);return new ne(e.radius,t,e.damping,s(0,v),x,e.squaredBoundary)},ne.prototype={draw:function(){H.lineWidth=this.stroke,H.beginPath(),H.arc(this.x,this.y,Math.max(this.rad,0),0,v),H.fill(),this.hideStroke||H.stroke(),H.closePath()},update:function(){this.x+=this.vx*V,this.y+=this.vy*V,this.vx+=this.gravityx*V,this.vy+=this.gravityy*V,$||this.testBoundary()},testBoundary:function(){var e=this.x*this.x+this.y*this.y;e>=this.squaredBoundary&&this.vx*this.gravityx>0&&this.bounceOffBoundary()},bounceOffBoundary:function(){this.vx=-this.damping*this.vx,this.vy=-this.damping*this.vy},popBubble:function(){this.gravityx=0,this.gravityy=A+s(.3*-A,.3*A)}};var re=function(){this.movingCircle=new ne(40,6,0,0,0)};re.prototype={draw:function(){if(G<P){(0,g.default)("learn_login_branding")||(H.strokeStyle=I),H.lineWidth=6,H.lineCap="round",H.beginPath(),H.arc(0,0,40,0,v),H.fill(),(0,g.default)("learn_login_branding")||H.stroke(),H.closePath();var e=G>P?y:T.inOutCubic(G,-_,v,P);H.strokeStyle=w(),H.lineWidth=6,H.lineCap="round",H.beginPath(),H.arc(0,0,40,-_,e),H.stroke(),H.closePath()}else H.strokeStyle=w(),this.movingCircle.draw()},update:function(){if(G>P&&G<=L){var e=G-P,t=L-P;this.movingCircle.rad=T.outQuad(e,40,-4,t)}else if(G<=M){var n=(G-L)/(M-L);this.movingCircle.rad=o(36,40,n)}else if(G<=D){var r=X++%R;if(0===r){var a=O;J[0]=Z[0],Z[0]=s(-a,+a),J[1]=Z[1],Z[1]=s(-a,+a)}this.movingCircle.x=o(J[0],Z[0],r/R),this.movingCircle.y=o(J[1],Z[1],r/R)}else G>M&&!this.popped&&(this.pop(),this.popped=!0);
this.movingCircle.update()},pop:function(){this.movingCircle.vx=s(-270,270),this.movingCircle.vy=-720,this.movingCircle.gravityy=A}};var ae=function(t){this.circle=new ne(t,0,0,0,0,0,!0),this.bridgeLogoHidden=!1,e.setState({hideClientLogo:!1})};ae.prototype={draw:function(){this.circle.draw()},update:function(){this.circle.update(),!this.bridgeLogoHidden&&this.screenY()>=ee&&(e.setState({hideBridgeLogo:!0}),this.bridgeLogoHidden=!0)},screenY:function(){return this.circle.y*Y+B},popBubble:function(){this.circle.popBubble()}},p(),N()}},e.exports=N},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(6),i=n(114),o=n(2),l=o.bool,u=o.func,c=n(47),d=n(1488),p=n(62),f=n(137),m=n(3088),h=n(3086),g=n(429),v=n(20),_={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},y=_[d.prefixed("transition")],b=r.createClass({displayName:"SplashView",propTypes:{isEmbedded:l,onEnd:u},getDefaultProps:function(){return{isEmbedded:!1}},getInitialState:function(){return{hideBridgeLogo:!1,hideClientLogo:!0,quote:m()}},componentDidMount:function(){var e=this;this.isMounted=function(){return!0};var t=new h(this),n=a.findDOMNode(this),r=1e3,s=5e3,i=setTimeout(function(){e.isMounted()&&c(n).addClass("splash-view--fade-out")},r),o=function(){e.isMounted()&&(t.stop(),e.props.onEnd&&e.props.onEnd())},l=setTimeout(o,s);c(n).on(y,function(){clearTimeout(l),o()}),f(this.state.quote.quote+"  "+this.state.quote.author),t.start(),this._timers=[i,l],this._animation=t},componentWillUnmount:function(){this._timers&&(this._timers.forEach(function(e){return clearTimeout(e)}),this._timers=null),this._animation&&(this._animation.stop(),this._animation=null),c(a.findDOMNode(this)).off(y),this.isMounted=function(){return!1}},render:function(){var e=this.state.quote,t=e.quote,n=e.author,a=v("learn_login_branding")?p.getSigninLogoUrl():p.getLogoUrl(),i=p.isColorEnabled(),o=s("splash-view__client-logo",p.getLogoClass()),l=s({"splash-view__bridge-logo":!0,"splash-view__bridge-logo--on-dark":v("learn_login_branding")?!i||"reverse"===p.getSigninBrandLogoSetting():!i}),u=s("custom-background full-width full-height",{"brand-bg":v("learn_login_branding")&&"reverse"===p.getSigninBrandLogoSetting()});return r.createElement("div",{className:this.getContainerClassName(),"aria-hidden":!0},r.createElement("div",{className:u},r.createElement("div",{className:this.getLogoFootprintClassName()},a?r.createElement("div",{className:o},r.createElement("img",{src:a,onLoad:p.handleLogoLoaded.bind(p,null)})):r.createElement("div",{className:"splash-view__quote"},r.createElement("div",{className:"splash-view__quote-decoration brand-bg"}),t,r.createElement("div",{className:"splash-view__quote-author"},n))),r.createElement(g,{hidden:this.state.hideBridgeLogo&&!!a,className:l}),r.createElement("canvas",{ref:"canvas",className:"splash-view__canvas"})))},getContainerClassName:function(){return s({"theme-light":p.isColorEnabled(),"splash-view":!0,"splash-view--flat-bg":i.isMobile(),"splash-view--embedded":this.props.isEmbedded})},getLogoFootprintClassName:function(){return s({"splash-view__main-logo-footprint":!0,hidden:this.state.hideClientLogo})}});n(3089)(b),e.exports=b},function(e,t,n){"use strict";function r(e){return Math.floor(Math.random()*e)}var a=n(26),s=function(){return[{quote:a.t("When one teaches, two learn"),author:a.t("Anonymous")},{quote:a.t("No regrets in life, just lessons learned"),author:a.t("Anonymous")},{quote:a.t("The more I learn the more excited I get"),author:a.t("Johnny Cash")},{quote:a.t("Any fool can know. The point is to understand"),author:a.t("Albert Einstein")},{quote:a.t("You cant stop the waves but you can learn to surf"),author:a.t("Anonymous")},{quote:a.t("Everyone you will ever meet knows something you dont"),author:a.t("Bill Nye")},{quote:a.t("If opportunity doesnt knock, build a door"),author:a.t("Milton Berle")},{quote:a.t("Everything in moderation, including moderation"),author:a.t("Oscar Wilde")},{quote:a.t("It wasnt raining when Noah built the ark"),author:a.t("Howard Ruff")},{quote:a.t("The best way to predict the future is to invent it"),author:a.t("Alan Kay")},{quote:a.t("Defeat is not bitter unless you swallow it"),author:a.t("Joe Clark")},{quote:a.t("A mind is like a parachute; it doesnt work if it isnt open"),author:a.t("Frank Zappa")},{quote:a.t("Every strike brings me closer to the next home run"),author:a.t("Babe Ruth")},{quote:a.t("Tell me and I forget. Show me and I remember. Involve me and I learn"),author:a.t("Benjamin Franklin")},{quote:a.t("It is not that I'm so smart. But I stay with the questions much longer"),author:a.t("Albert Einstein")},{quote:a.t("Self-education is, I firmly believe, the only kind of education there is"),author:a.t("Isaac Asimov")}]};e.exports=function(){var e=s();return e[r(e.length)]}},function(e,t,n){"use strict";var r=n(1),a=n(186);e.exports=function(e){e.Preview=a.addScreen("splash",function(){return I18n.t("Splash")},r.createClass({displayName:"Preview",componentDidMount:function(){this.isMounted=function(){return!0},this.scheduleNextRestart()},getInitialState:function(){return{isRestarting:!1}},componentWillUnmount:function(){this.isMounted=function(){return!1}},scheduleNextRestart:function(){setTimeout(this.restart,6e3)},restart:function(){var e=this;this.isMounted()&&this.setState({isRestarting:!0},function(){e.isMounted()&&e.setState({isRestarting:!1},e.scheduleNextRestart)})},render:function(){return r.createElement("div",{className:"splash-view-preview"},!this.state.isRestarting&&r.createElement(e,{isEmbedded:!0}))}}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(3087),u=r(l),c=n(87),d=r(c),p=o.default.createClass({displayName:"SplashViewSwitch",propTypes:{authenticated:s.default.bool.isRequired,query:s.default.shape({hide_splash:s.default.oneOf(["true","false"]),external:s.default.string}).isRequired},getInitialState:function(){var e=this.props.query,t=e.external,n=e.hide_splash;return{shouldHideSplashForThisSession:!!t||"true"===n}},componentDidMount:function(){this.state.shouldHideSplashForThisSession&&this.dismissSplashView()},componentWillReceiveProps:function(e){this.props.authenticated&&!e.authenticated&&d.default.removeItem("showSplashView")},render:function(){return this.shouldShowSplashView()?o.default.createElement(u.default,{onEnd:this.dismissSplashView}):null},shouldShowSplashView:function(){return!!this.props.authenticated&&(d.default.getItem("showSplashView")!==!1&&!this.state.shouldHideSplashForThisSession)},dismissSplashView:function(){d.default.setItem("showSplashView",!1),this.forceUpdate()}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(3),o=n(198),l=r(o),u=n(114),c=r(u),d=n(1396),p=r(d),f=n(1397),m=r(f),h=n(20),g=r(h),v="tray-layout--open",_="tray-layout--open-slide";t.default=s.default.createClass({displayName:"TrayLayout",propTypes:{children:function e(t,n,r){var e=t[n],a=(0,l.default)(e,m.default),i=(0,l.default)(e,p.default),o=void 0;return 2!==s.default.Children.count(e)?o=new Error("TrayLayout expects exactly two children: ContentOutlet and TrayOutlet"):a&&i||(o=new Error("Expected both a TrayOutlet and a ContentOutlet as children of TrayLayout. Check the render function of "+r+".")),o},isOpen:i.bool.isRequired},getDefaultProps:function(){return{isOpen:!1}},componentDidMount:function(){this.applyBodyClass(this.props.isOpen)},componentWillReceiveProps:function(e){this.applyBodyClass(e.isOpen)},componentWillUnmount:function(){this.applyBodyClass(!1)},applyBodyClass:function(e){document.body.classList[e?"add":"remove"](v),(0,g.default)("global_nav")&&!c.default.isMobile()||document.body.classList[e?"add":"remove"](_)},render:function(){var e=(0,l.default)(this.props.children,p.default),t=s.default.cloneElement((0,l.default)(this.props.children,m.default),{isOpen:this.props.isOpen});return s.default.createElement("div",{className:"tray-layout"},e,t)}}),e.exports=t.default},function(e,t){"use strict";function n(e){var t=e.title,n=e.linkPath,r=e.className,a=e.emptyText;return{header:{title:t,className:r,link:n?"author."+n+".attachments":null},emptyText:a,attachments:[]}}e.exports={attachmentsToAuthorLists:function(e,t){var r=[n({title:I18n.t("Visible to Learners"),className:"tray__list-header--for-learners",emptyText:I18n.t("All attachments are hidden from learners"),linkPath:t}),n({title:I18n.t("Visible to Authors"),className:"tray__list-header--not-for-learners",emptyText:I18n.t("All attachments are visible to learners"),linkPath:t})];return e.reduce(function(e,t){return t.learnerVisible?e[0].attachments.push(t):e[1].attachments.push(t),e},r)},attachmentsToList:function(e){return[{emptyText:I18n.t("Attachments will appear here once this learning item is unlocked"),attachments:e}]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e.title)return e.title;switch(e.type){case l.LEARNING_ITEM_LIVE_COURSE_TYPE:case l.COURSE_TYPE_ILT:return c.default.t("Untitled Live Course");case l.LEARNING_ITEM_COURSE_TYPE:return c.default.t("Untitled Course");case l.LEARNING_ITEM_TASK_TYPE:return c.default.t("Untitled Checkpoint");default:return c.default.t("Untitled Learning Item")}}function s(e){switch(e.type){case l.LEARNING_ITEM_LIVE_COURSE_TYPE:case l.COURSE_TYPE_ILT:return"live_courses";case l.LEARNING_ITEM_COURSE_TYPE:return"course_templates";case l.LEARNING_ITEM_TASK_TYPE:return"tasks";default:return null}}function i(e){switch(e.type){case l.LEARNING_ITEM_LIVE_COURSE_TYPE:case l.COURSE_TYPE_ILT:return"live-course";case l.LEARNING_ITEM_COURSE_TYPE:return"course";case l.LEARNING_ITEM_TASK_TYPE:return"checkpoint";default:return null}}function o(e){switch(e.type){case l.LEARNING_ITEM_LIVE_COURSE_TYPE:case l.COURSE_TYPE_ILT:return{liveCourseId:e.contextId};case l.LEARNING_ITEM_COURSE_TYPE:return{courseId:e.contextId};case l.LEARNING_ITEM_TASK_TYPE:return{taskId:e.contextId};default:return{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getRedirectParams=t.getRedirectType=t.getFetchType=t.getTitle=void 0;var l=n(12),u=n(26),c=r(u);t.getTitle=a,t.getFetchType=s,t.getRedirectType=i,t.getRedirectParams=o},function(e,t,n){"use strict";var r=n(1),a=n(90),s=n(5),i=s.Icon,o=n(18),l=n(27),u=n(2),c=u.func,d=u.arrayOf,p=u.bool,f=u.string,m=n(621),h=r.createClass({displayName:"Widget",propTypes:{onSearch:c,onEnroll:c,autoFocus:p,searchResults:d(n(42)),disabledResults:d(f),disabledMessage:f,placeHolderText:f},getDefaultProps:function(){return{autoFocus:!0,disabledResults:[]}},componentDidMount:function(){this.props.autoFocus&&this.refs.comboBox.focusInput()},render:function(){return r.createElement(a,{ref:"comboBox",autocomplete:"list",className:"search-bar search-bar--group-add",inputClassName:"ic-autocomplete-input",onInput:this.props.onSearch,onSelect:this.props.onEnroll,placeholder:this.props.placeHolderText||I18n.t("Enter a name to find a learner"),children:this.props.searchResults.map(this.renderUser)})},renderUser:function(e){var t=this.isUserDisabled(e),n=this.props.disabledMessage||I18n.t("Already Enrolled");return r.createElement(a.Option,{key:e.id,value:e.id,label:e.name,className:"search-results__result",appearInactive:t,children:r.createElement(m,{user:e,disabledMessage:t?n:void 0})})},isUserDisabled:function(e){var t=this.props.disabledResults||[];return e.member||e.pendingMember||t.indexOf(e.id)>-1}}),g=r.createClass({displayName:"CloseButton",propTypes:{onClick:c},render:function(){return r.createElement(o,{onClick:this.props.onClick,className:"btn--reset text-right full-width padding-s"},r.createElement(l,{children:I18n.t("Cancel")}),r.createElement(i,{className:"gs-x gs-1x dark-grey"}))}});t.Widget=h,t.CloseButton=g},function(e,t,n){"use strict";var r=n(2),a=n(1),s=n(147),i=n(358),o=n(5),l=o.Icon,u=n(18),c=n(19),d=n(375),p=a.createClass({displayName:"FreeTrialRunningOutToast",propTypes:{className:r.string},getInitialState:function(){return{toastIsOpen:!0,getBridgeModalIsOpen:!1,isGettingBridge:!1,grantingExtension:!1}},render:function(){return s.shouldShowTimeRunningOutToast()&&this.state.toastIsOpen?a.createElement("div",null,a.createElement("div",{className:"free-trial-running-out-toast dark "+this.props.className},a.createElement("div",{className:"free-trial-running-out-toast__text"},a.createElement("p",null,I18n.t("Time is running out!")),a.createElement("small",null,this.detailText())),a.createElement("div",{className:"free-trial-running-out-toast__all-buttons"},a.createElement("div",{className:"free-trial-running-out-toast__action-buttons"},this.renderButtons()),a.createElement(u,{className:"btn--reset margin-l-s close-button",onClick:this.closeToast},a.createElement(l,{className:"gs-x gs-1x"})))),a.createElement(d,{isOpen:this.state.getBridgeModalIsOpen,closeModal:this.closeGetBridgeModal})):null},renderButtons:function(){return s.usedFreeTrialExtension()?this.renderGetBridgeButton():a.createElement("div",null,a.createElement(u,{onClick:this.grantExtension,className:"btn secondary dark",disabled:this.state.grantingExtension},this.state.grantingExtension?I18n.t("Granting extension..."):I18n.t("Instant 14-Day Extension")),this.renderGetBridgeButton())},renderGetBridgeButton:function(){return a.createElement(u,{onClick:!this.state.grantingExtension&&this.getBridge,className:"btn filled white margin-l-s",disabled:this.state.isGettingBridge},this.state.isGettingBridge?I18n.t("Contacting rep..."):I18n.t("Get Bridge"))},detailText:function(){var e=s.daysUntilTrialExpires();return 1===e?I18n.t("Your Bridge free trial ends in 1 day."):I18n.t("Your Bridge free trial ends in %{daysLeft} days.",{daysLeft:e})},closeToast:function(){this.setState({toastIsOpen:!1})},grantExtension:function(){var e=this;this.setState({grantingExtension:!0}),i.extendFreeTrial().then(function(){c(I18n.t("Success! Youve extended your free trial for another 14 days.")),e.setState({grantingExtension:!1})})},getBridge:function(){var e=this;this.setState({isGettingBridge:!0}),i.sendGetBridgeEmail().then(function(){e.setState({getBridgeModalIsOpen:!0}),e.setState({isGettingBridge:!1})})},closeGetBridgeModal:function(){this.setState({getBridgeModalIsOpen:!1})}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(2),o=n(1),l=o.createClass({displayName:"BackToMyLearningSettings",propTypes:{onChange:i.func,customBackToMyLearningLabel:i.string,customBackToMyLearningHref:i.string},getInitialState:function(){return{showCustomBackToMyLearningConfiguration:!!this.props.customBackToMyLearningLabel||!!this.props.customBackToMyLearningHref}},componentWillReceiveProps:function(e){this.props.customBackToMyLearningHref===e.customBackToMyLearningHref&&this.props.customBackToMyLearningLabel===e.customBackToMyLearningLabel||this.setState({showCustomBackToMyLearningConfiguration:!!e.customBackToMyLearningLabel||!!e.customBackToMyLearningHref})},render:function(){return o.createElement("div",null,o.createElement("label",{className:"block margin-b-m"},o.createElement("input",{type:"checkbox",name:"showCustomSupportInfo",onChange:this.toggleUseCustomBackToMyLearning,checked:this.state.showCustomBackToMyLearningConfiguration,className:"margin-r-xs"}),I18n.t('Customize "Back to My Learning"')),this.state.showCustomBackToMyLearningConfiguration&&this.renderCustomBackToMyLearningSettings())},renderCustomBackToMyLearningSettings:function(){var e=this.props,t=e.customBackToMyLearningLabel,n=e.customBackToMyLearningHref,r=null===t?"":t,a=null===n?"":n;return o.createElement("div",null,o.createElement("label",{className:"margin-l-m"},I18n.t("Custom Button and Link Label")),o.createElement("input",{type:"text",value:r,name:"customBackToMyLearningLabel",onChange:this.handleTextInputChange("customBackToMyLearningLabel"),className:"block padding-trbl-s input-m margin-l-m margin-b-xl margin-t-s",placeholder:I18n.t("Back to My Learning")}),o.createElement("label",{className:"margin-l-m"},I18n.t("Custom Redirect Link")),o.createElement("input",{type:"text",value:a,name:"customBackToMyLearningHref",onChange:this.handleTextInputChange("customBackToMyLearningHref"),className:"block padding-trbl-s input-m margin-l-m margin-b-xl margin-t-s",placeholder:window.location.origin+"/learner/courses"}))},handleTextInputChange:function(e){var t=this;return function(n){t.props.onChange((0,s.default)({},e,n.target.value))}},toggleUseCustomBackToMyLearning:function(e){this.setState({showCustomBackToMyLearningConfiguration:e.target.checked}),this.handleTextInputChange("customBackToMyLearningLabel")({target:{value:null}}),this.handleTextInputChange("customBackToMyLearningHref")({target:{value:null}})}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){this.sessionElapsedSeconds=0,this.inactiveSecondsElapsed=0,this.oldSessionElapsedSeconds=0,this.sessionReissueSeconds=0,this.hasFocus=!0,this.interval=null}Object.defineProperty(t,"__esModule",{value:!0}),t.SUBMISSION_THRESHOLD_SECONDS=t.SUBMIT_INTERVAL_SECONDS=t.INACTIVE_MAX_SECONDS=void 0;var s=n(3204),i=r(s),o=n(3225),l=r(o),u=n(31),c=r(u),d=60,p=t.INACTIVE_MAX_SECONDS=30*d,f=t.SUBMIT_INTERVAL_SECONDS=10*d,m=t.SUBMISSION_THRESHOLD_SECONDS=10,h=!!document.hasFocus;a.prototype.start=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.startTime=Date.now(),this.sessionReissueStartTime=this.startTime,e&&(this.inactiveStartTime=this.startTime)},a.prototype.enableTracing=function(){var e=this,t=arguments,n=["checkSessionTime","start","stop","submitToServer"];for(var r in this)this.hasOwnProperty(r)&&/Listener$/.test(r)&&n.push(r);n.forEach(function(n){var r=e[n];e[n]=function(a){var s=/Listener$/.test(n)?a&&a.type:"",i="checkSessionTime"===n?"active "+e.sessionElapsedSeconds+" inactive "+e.inactiveSecondsElapsed:"";return console.debug("time tracker: "+n+"("+s+") "+i),r.apply(e,t)}})},a.prototype.watch=function(e){var t=this;h&&(this.hasFocus=document.hasFocus()),this.enrollmentId=e,this.createTracker(),["resetActivity","resetSessionReissue","onBlur","onFocus","submitToServer"].forEach(function(e){var n=e+"Listener";t.hasOwnProperty(n)||(t[n]=t[e].bind(t))}),this.start(),this.eventListeners("add"),this.setupInterval(),this.sessionReissueInterval=setInterval(function(){return t.checkSessionReissueTime()},1e3),h&&!document.hasFocus()&&this.onBlur()},a.prototype.setupInterval=function(){var e=this;this.interval=setInterval(function(){return e.checkSessionTime()},1e3)},a.prototype.eventListeners=function(e){var t=this,n=e+"EventListener";document[n]("mousemove",this.resetActivityListener),document[n]("click",this.resetActivityListener),document[n]("keypress",this.resetActivityListener),document[n]("keyup",this.resetActivityListener),Array.from(document.querySelectorAll("a, button")).forEach(function(e){e[n]("click",t.resetSessionReissueListener)}),window[n]("blur",this.onBlurListener),window[n]("focus",this.onFocusListener),window[n]("beforeunload",this.submitToServerListener),window[n]("scroll",this.resetActivityListener)},a.prototype.onBlur=function(){this.hasFocus=!1,this.onPageHide(),this.stop()},a.prototype.onFocus=function(){this.hasFocus=!0,this.ensureInterval()},a.prototype.onPageHide=function(){this.inactiveSecondsElapsed=0,this.oldSessionElapsedSeconds=this.sessionElapsedSeconds},a.prototype.stop=function(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)},a.prototype.resetSessionReissue=function(){this.sessionReissueStartTime=Date.now()},a.prototype.resetActivity=function(){this.hasFocus&&(this.inactiveSecondsElapsed=0,this.inactiveStartTime=Date.now(),this.ensureInterval())},a.prototype.ensureInterval=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===this.interval&&(this.start(e),this.setupInterval())},a.prototype.isBrowserHidden=function(){return document.hidden},a.prototype.checkSessionTime=function(){var e=Date.now();return this.isBrowserHidden()?(this.start(),void this.onPageHide()):(this.inactiveSecondsElapsed=(e-this.inactiveStartTime)/1e3,this.sessionElapsedSeconds=(e-this.startTime)/1e3+this.oldSessionElapsedSeconds,this.inactiveSecondsElapsed>p?(this.stop(),void this.submitToServer()):this.sessionElapsedSeconds>=f?(this.stop(),this.submitToServer(),void this.ensureInterval(!1)):void 0)},a.prototype.checkSessionReissueTime=function(){var e=Date.now();this.sessionReissueSeconds=(e-this.sessionReissueStartTime)/1e3;var t=parseInt(c.default.get("ACCOUNT.config.session_reissue_seconds"),10);this.sessionReissueSeconds>=t-5&&(this.stop(),this.submitToServer(),this.ensureInterval(!1),this.resetSessionReissue())},a.prototype.unWatch=function(){this.eventListeners("remove"),this.stop(),this.submitToServer(),clearInterval(this.sessionReissueInterval),this.sessionReissueInterval=null},a.prototype.submitToServer=function(){var e=this;this.lastSubmitted&&new Date-this.lastSubmitted<1e3*m||(this.lastSubmitted=new Date,(0,l.default)(this.enrollmentId,{tracker:this.trackingToken,seconds:this.sessionElapsedSeconds}).then(function(t){e.trackingToken=t.tracker}),this.sessionElapsedSeconds=0,this.oldSessionElapsedSeconds=0)},a.prototype.createTracker=function(){var e=this;(0,i.default)(this.enrollmentId).then(function(t){e.trackingToken=t.tracker})},t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t;return o(e instanceof Function,"You must provide a title generator function to TitleManager, got "+("undefined"==typeof e?"undefined":(0,i.default)(e))+"."),{update:function(){var n=e.apply(null,arguments);return!(!n||n===document.title)&&(t||(t=document.title),document.title=n,!0)},restore:function(){return!(!t||t===document.title)&&(setTimeout(function(){document.title=t},a.TIMEOUT),!0)}}}var s=n(46),i=r(s),o=n(41);a.TIMEOUT=2,e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(231),s=n(3100),i=r(s),o=n(1402),l=r(o);t.default=function(e){var t=e.component,n=e.history,r=e.pathname,s=e.router;return(0,a.flow)(i.default,l.default,(0,a.createRoute)({component:t,history:n,pathname:r,router:s}))},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),s=r(a);t.default=function(e){return Object.assign({},e,{canEnter:function(e,t){return s.default.saveLastTransition(t),s.default.isPathnameProtected(e.location.pathname)&&!s.default.isAuthenticated()?{code:"redirect",destination:"/login"}:null}})},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(632),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(){return(0,o.default)({type:"GET",url:"/api/config/sub_account/notifications",dataType:"json"})},parse:function(e,t){return e(t.config)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(40),u=r(l),c=n(632),d=r(c);t.default=(0,s.default)({schema:d.default,perform:function(e){return(0,o.default)({url:"/api/config/sub_account/notifications",type:"PATCH",dataType:"json",data:{config:(0,u.default)(e)}})},parse:function(e,t){return e(t.config)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(246),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({url:"/api/approver/approval_summaries",schema:o.default,perform:function(e){return(0,u.default)({url:"/api/approver/approval_summaries",data:e})},parse:function(e,t){return t.approval_summaries.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(246),o=r(i);t.default=(0,s.default)({url:"/api/approver/approval_summaries/%@/%@",schema:o.default,parse:function(e,t){var n=t.approval_summaries,r=t.meta,a=void 0===r?{}:r;return{nextUp:a.next_up&&e(a.next_up),summary:e(n[0])}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(119),u=r(l);t.default=(0,s.default)({schema:n(45),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return t&&(n.undo_unarchive=!0),(0,o.default)({url:"/api/author/course_templates/"+e+"/archive"+(0,u.default)(n),dataType:"json",type:"PUT"})},parse:function(e,t){return e(t.course_templates[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(45);e.exports=r({schema:s,perform:function(e){return a({url:"/api/author/course_templates/"+e+"/clone",dataType:"json",type:"POST"})},parse:function(e,t){return e(t.course_templates[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(80),perform:function(e,t,n){return a({type:"POST",url:"/api/author/live_courses/"+e+"/sessions/"+t+"/conclude",data:n})},parse:function(e,t){var n=t.sessions;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(40),s=n(7);e.exports=r({schema:n(72),perform:function(e){return s({url:"/api/support/accounts",dataType:"json",type:"POST",data:{accounts:[a(e)]}})},parse:function(e,t){return e(t.accounts[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(216),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/config/sub_account/tokens",dataType:"json",type:"POST",data:{token:{description:e.description,expires_at:e.expiresAt,role_id:e.roleId}}})},parse:function(e,t){return e(t.tokens[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(456);e.exports=r({schema:s,perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({url:"/api/downloads",dataType:"json",type:"POST",data:{download:{download_type:e,info:t}}})},parse:function(e,t){return e(t.download)}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(80),perform:function(e,t){return a({type:"POST",url:"/api/author/live_courses/"+e+"/sessions",data:{sessions:t}})},parse:function(e,t){var n=t.sessions;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(219),perform:function(e,t){return a({type:"POST",url:"/api/author/live_course_sessions/"+e+"/registrations",data:{user_id:t}})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(59),o=n(7),l=r(o);e.exports=(0,s.default)({schema:i.LtiContentItemSchema,perform:function(e,t){return(0,l.default)({url:"/api/author/lti/content_items",dataType:"json",type:"POST",data:{tool_id:e,lti_attributes:t}})},parse:function(e,t){return e(t)}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:null,perform:function(e){var t=e.roleId,n=e.permissionIds;return a({url:"/api/admin/permissions",dataType:"json",type:"POST",data:{role_id:t,permission_ids:n}})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(57),perform:function(){return a({url:"/api/author/programs",dataType:"json",type:"POST",data:{programs:[{}]}})},parse:function(e,t){return e(t.programs[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(855),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e){return(0,o.default)({type:"POST",url:"/api/author/program_sections",dataType:"json",data:{program_sections:[e]}})},parse:function(e,t){var n=t.program_sections;return e(n[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(175);e.exports=r({schema:s,perform:function(e){var t=e.name,n=e.basisRoleId;return a({url:"/api/author/roles",dataType:"json",type:"POST",data:{name:t,basis_role_id:n}})},parse:function(e,t){return e(t.roles[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i),l=n(138),u=n(40),c=r(u),d=n(663);e.exports=(0,s.default)({schema:d.SlideSchema,perform:function(e,t){return(0,o.default)({url:"/api/author/course_templates/"+e+"/slides",dataType:"json",type:"POST",data:{slides:[(0,c.default)(t)]},beforeSend:(0,l.buildLockIdHeaderSetter)("CourseTemplate",e)})},parse:function(e,t){return e(t.slides[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),s=r(a),i=n(8),o=n(10),l=o.shape,u=o.string,c=n(7);e.exports=i({schema:l({id:u}),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({url:"/api/author/group_previews",dataType:"json",type:"POST",data:(0,s.default)({},e,t)})}})},function(e,t,n){"use strict";var r=n(8),a=n(176),s=n(7);e.exports=r({schema:a,perform:function(e){return s({url:"/api/author/tags",dataType:"json",type:"POST",data:{name:e}})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({url:"/api/author/tags/%@/taggings",schema:n(383),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.context_id,r=t.context_type;return a({url:t.nextPageUrl||"/api/author/tags/"+e+"/taggings",type:"POST",dataType:"json",data:{context_id:n,context_type:r}})},parse:function(e,t){return t.taggings.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i),l=n(40),u=r(l),c=n(85),d=r(c);e.exports=(0,s.default)({schema:d.default,perform:function(e){return(0,o.default)({type:"POST",url:"/api/author/tasks",data:{tasks:[(0,u.default)(e)]}})},parse:function(e,t){var n=t.tasks;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(193),s=n(7),i=n(40);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/accounts/"+e+"/webhooks",dataType:"json",data:{webhooks:[i(t)]},type:"POST"})},parse:function(e,t){return t.webhooks.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(862),s=n(7),i=n(40);e.exports=r({schema:a,perform:function(e,t,n){return s({url:"/api/support/accounts/"+e+"/webhooks/"+t+"/resources",dataType:"json",data:{resources:[i(n)]},type:"POST"})},parse:function(e,t){return t.resources.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(216),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/config/sub_account/tokens/"+e,dataType:"json",type:"DELETE"})}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(45),perform:function(e){return a({url:"/api/author/course_templates/"+e,type:"DELETE"})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i);t.default=(0,s.default)({schema:n(460),perform:function(e){var t=e.learnableType,n=e.learnableId,r=e.groupId;return(0,o.default)({type:"DELETE",url:"/api/author/group_relevance/"+t+"/"+n+"/"+r})}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(80),perform:function(e,t){return a({type:"DELETE",url:"/api/author/live_courses/"+e+"/sessions/"+t})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(219),perform:function(e,t){return a({type:"DELETE",url:"/api/author/live_course_sessions/"+e+"/registrations/"+t
})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(158),perform:function(e,t){return a({type:"DELETE",url:"/api/author/live_courses/"+e+"/sessions/"+t+"/web_conference"})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:null,perform:function(e){var t=e.roleId,n=e.permissionIds;return a({url:"/api/admin/permissions",dataType:"json",type:"DELETE",data:{role_id:t,permission_ids:n}})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(855),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e){return(0,o.default)({type:"DELETE",url:"/api/author/program_sections/"+e,dataType:"json"})}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(175);e.exports=r({schema:a,url:"/api/author/roles/%@",type:"DELETE"})},function(e,t,n){"use strict";var r=n(8),a=n(176),s=n(7);e.exports=r({schema:a,perform:function(e){return s({url:"/api/author/tags/"+e,dataType:"json",type:"DELETE"})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({url:"/api/author/tags/%@/taggings",schema:n(383),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.context_id,r=t.context_type;return a({url:t.nextPageUrl||"/api/author/tags/"+e+"/taggings",type:"DELETE",dataType:"json",data:{context_id:n,context_type:r}})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a);e.exports=(0,s.default)({schema:null,url:"/api/author/tasks/%@",type:"DELETE"})},function(e,t,n){"use strict";var r=n(8),a=n(193),s=n(7);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/accounts/"+e+"/webhooks/"+t,dataType:"json",type:"DELETE"})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i),l=n(138);e.exports=(0,s.default)({schema:n(45),perform:function(e){return(0,o.default)({url:"/api/author/course_templates/"+e+"/discard_changes",dataType:"json",type:"POST",beforeSend:(0,l.buildLockIdHeaderSetter)("CourseTemplate",e)})},parse:function(e,t){return e(t.course_templates[0])}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/author/programs/%@/discard_changes",type:"POST",schema:n(57),parse:function(e,t){return t.programs.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/support/accounts/%@",schema:n(72),parse:function(e,t){return e(t.accounts[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(72),perform:function(e){var t=e.sort,n=void 0===t?null:t,r=e.search,s=void 0===r?null:r,i=e.filters,o=void 0===i?null:i,l=e.nextPageURL,u=void 0===l?null:l;return a({url:u||"/api/support/accounts",data:{search:s,sort:n,filters:o}})},parse:function(e,t){return t.accounts.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(156),s=n(7);e.exports=r({schema:a,perform:function(e,t,n){var r="/api/author/affiliated_sub_accounts/"+n,a={item_id:e,item_type:t};return s({url:r,dataType:"json",data:a})},parse:function(e,t){return e(t.sub_accounts[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(156),o=r(i),l=n(7),u=r(l);e.exports=(0,s.default)({schema:o.default,perform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.nextPageURL||"/api/author/affiliated_sub_accounts";return n.data=n.data||{},n.data.item_id=e,n.data.item_type=t,(0,u.default)({url:r,dataType:"json",data:n.data})},parse:function(e,t){return t.sub_accounts.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(72),s=n(126),i=n(68),o=i.of(a);e.exports=r({schema:a,perform:function(e){var t=function(t){e.onProgress(t.accounts.map(o))};return s({url:"/api/support/accounts?limit=50",onProgress:t,data:e.scope})},parse:function(e,t){return t.accounts.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(218),perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:null,params:null};return a({url:e.url||"/api/admin/imports/allimports",type:"GET",data:e.params})},parse:function(e,t){return t.imports.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(160),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(){return(0,o.default)({type:"GET",url:"/api/admin/notification_types"})},parse:function(e,t){var n=t.notification_types;return n.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(216),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(){return(0,u.default)({url:"/api/config/sub_account/tokens",dataType:"json"})},parse:function(e,t){return t.tokens.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(144),o=r(i);t.default=(0,s.default)({url:"/api/learner/approvals/%@/approval_events",schema:o.default,parse:function(e,t){return t.approval_events.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(112),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e,t){return(0,o.default)({url:"/api/approver/approvals/"+e,data:t})},parse:function(e,t){var n=t.approvals,r=t.meta;return{approvalsCount:r&&r.approvals_count,nextPendingApprovalId:r&&r.next_pending_approval_id,approval:e(n[0])}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(144),o=r(i);t.default=(0,s.default)({url:"/api/approver/approvals/%@/approval_events",schema:o.default,parse:function(e,t){return t.approval_events.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(217),s=n(7);e.exports=r({schema:a,perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/api/author/sub_accounts";return t.item_class=e,s({url:n,dataType:"json",data:t})},parse:function(e,t){return t.sub_accounts.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.sessions.map(e),r=t.linked&&(0,m.default)(t.linked.session_parts||[])||[];return n.forEach(function(e){var t=e.parentId||e.id;if(e.parentId||e.multiPart){var n=(0,y.find)(r,{parentId:t})||{};e.parts=n.parts||[]}}),n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),i=r(s),o=n(7),l=r(o),u=n(119),c=r(u),d=n(40),p=r(d),f=n(150),m=r(f),h=n(68),g=r(h),v=n(126),_=r(v),y=n(4),b=n(161),E=r(b);t.default=(0,i.default)({schema:E.default,perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.startDate,r=e.endDate,s=e.onProgress,i=e.search,o=e.liveCourseId,u=e.liveCourseUuid,d=e.sessionIds,f=!!o||!!u,m=(0,p.default)({startDate:n,endDate:r,search:i,liveCourseId:o,liveCourseUuid:u,excludeParts:f,sessionIds:d}),h=(0,c.default)(m),v=t||"/api/learner/calendar_live_course_sessions"+h,y=function(e){s(a(g.default.of(E.default),e.payload||e))};return s?(0,_.default)({url:v,onProgress:y,dataType:"json"}):(0,l.default)({url:v,dataType:"json"})},parse:function(e,t){return a(e,t)}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(3263),s=n(7);e.exports=r({schema:a,perform:function(){return s({url:"/api/support/clusters"})},parse:function(e,t){return t.clusters.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(180),i=n(228),o=n(4),l=o.merge;e.exports=r({schema:n(45),perform:function(e){var t=e.sort,n=void 0===t?null:t,r=e.query,s=void 0===r?null:r,i=e.nextPageURL,o=void 0===i?null:i,u=o||"/api/author/course_templates",c=l({},s);return n&&(c.sort=n),a({url:u,dataType:"json",data:c})},parse:function(e,t){return i(s(t,"meta.permissions")),t.course_templates.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(191);e.exports=r({schema:s,perform:function(e){return a({url:"/api/admin/dns_statuses/"+e,dataType:"json",type:"GET"})},parse:function(e,t){return e(t)}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/author/web_conferences?default_session=1",schema:n(158),parse:function(e,t){return t.web_conferences.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(456);e.exports=r({schema:s,perform:function(e){return a({url:"/api/downloads/"+e,dataType:"json",type:"GET"})},parse:function(e,t){return e(t.download)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(310),s=r(a),i=n(8),o=r(i),l=n(7),u=r(l);t.default=(0,o.default)({schema:s.default,perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)({url:"/api/author/groups/"+e+"/content",dataType:"json",data:{item_types:t.itemTypes,page:t.page,search:t.search,sort:t.sort}})},parse:function(e,t){var n=t.content,r=t.meta;return{content:n.map(e),meta:{totalPages:parseInt(r.total_pages,10)}}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(7),a=n(8);e.exports=a({schema:n(42),skipNormalize:["__emberModel__"],perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({url:t.nextPageURL||"/api/author/groups/"+e+"/learners",data:t.data})},parse:function(e,t){var n=t.learners;return n.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(310),s=r(a),i=n(8),o=r(i),l=n(7),u=r(l);t.default=(0,o.default)({schema:s.default,perform:function(e,t){return(0,u.default)({url:"/api/author/groups/"+e+"/content/find",dataType:"json",data:{search:t}})},parse:function(e,t){var n=t.content;return{content:n.map(e)}}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(4);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(0,s.default)({schema:n(460),perform:function(t){var n=t.learnableType,r=void 0===n?e:n,a=t.learnableId,s=t.sort,i=void 0===s?void 0:s,u=t.search,c=void 0===u?void 0:u;if(void 0===r)throw new Error("learnableType must be defined");return(0,o.default)({url:"/api/author/group_relevance/"+r+"/"+a,data:(0,l.pickBy)({sort:i,search:c},l.identity)})},parse:function(e,t){var n=t.groups.map(e),r=e(t.all_learners),a=0;if(t.all_learners&&(a=n.findIndex(function(e){return e.id===t.all_learners.id})),a<0)n.unshift(r);else if(a>0){var s=n.splice(a,1)[0];n.unshift(s)}return n}})},e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(51),skipNormalize:["__emberModel__"],perform:function(e){var t=e.sort,n=void 0===t?null:t,r=e.search,s=void 0===r?null:r,i=e.filters,o=void 0===i?null:i,l=e.nextPageURL,u=void 0===l?null:l;return a({url:u||"/api/author/groups",data:{search:s,sort:n,filters:o}})},parse:function(e,t){return t.groups.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(218);e.exports=r({schema:s,perform:function(e,t){return a({url:"/api/admin/users/imports",dataType:"json",type:"GET",data:{context:e,ids:t}})},parse:function(e,t){return t.imports.map(function(t){return e(t)})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.name?e:e.fullName?Object.assign({},e,{name:e.fullName}):Object.assign({},e,{name:e.uid})}function s(e){return function(t){var n=e.users[0],r=n.links&&n.links.custom_field_values||[],a=i(e),s=r.reduce(function(e,t){var n=a.values[t];return e[n.customFieldId]=n,e},{});return Object.assign({},t,{customFields:Object.keys(a.fields).map(function(e){return a.fields[e]}),customFieldValues:Object.keys(a.fields).map(function(e){return s[e]||{customFieldId:e}})})}}function i(e){var t=e.linked,n={},r={};return t&&(r=o(t.custom_fields||[]),n=l(t.custom_field_values||[],r)),{fields:r,values:n}}function o(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})}function l(e){return e.reduce(function(e,t){var n=t.links,r=Object.assign((0,h.omit)(t,["links"]),{customFieldId:n.custom_field.id});return e[r.id]=r,e},{})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(70),c=r(u),d=n(8),p=r(d),f=n(157),m=r(f),h=n(4);t.default=(0,p.default)({url:"/api/author/users/%@?with_deleted=true&includes[]=course_summary&includes[]=custom_fields&includes[]=manager&includes[]=owned_team",schema:m.default,parse:function(e,t){var n=t.users.map(e),r=(0,c.default)(n,1),i=r[0];return s(t)(a(i))}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({url:"/api/author/learners/%@/learner_items",schema:n(81),perform:function(e,t){return a({url:t||"/api/author/learners/"+e+"/learner_items",type:"GET",dataType:"json"})},parse:function(e,t){return t.learning_items.map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8);e.exports=a({schema:n(850),skipNormalize:["__emberModel__"],perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({url:t.nextPageURL||"/api/author/live_courses/"+e+"/learners",data:t.data})},parse:function(e,t){return t.enrollments.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(20),u=r(l),c=n(1415),d=r(c),p=(0,s.default)({schema:d.default,perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.learnableId,n=e.sort,r=e.search,a=e.nextPageURL,s={};n&&(s.sort=n),r&&(s.search=r);var i="/api/author/live_courses/"+t+"/groups";return(0,o.default)({url:a||i,dataType:"json",data:s})},parse:function(e,t){var n=t.groups.map(e);if((0,u.default)("learn_libraryitem_relevance")){var r=e(t.all_learners_group);if(r){var a=n.findIndex(function(e){return e.id===t.all_learners_group.id});if(a<0)n.unshift(r);else if(a>0){var s=n.splice(a,1)[0];n.unshift(s)}}}return n}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(25),o=r(i),l=n(31),u=r(l),c=n(1416),d=r(c),p=n(7),f=r(p);t.default=(0,s.default)({schema:d.default,perform:function(e){var t=e.domainId,n=e.subAccountId,r=e.r2bJwt,a=e.liveCourseId,s=u.default.get("R2B_HOST");return s?(0,f.default)({url:s+"/live_training/enrollments",data:{account:u.default.get("ACCOUNT.database"),"domain-id":t,"sub-account-id":n,"live-training-id":a},beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+r)}}):o.default.reject(new Error("R2B_HOST is not configured"))},parse:function(e,t){return e(t)}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(80),perform:function(e,t,n){return a({type:"GET",url:"/api/author/live_courses/"+e+"/sessions/"+t,data:n})},parse:function(e,t){var n=t.sessions;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(1417),perform:function(e){return a({type:"GET",url:"/api/author/live_course_sessions/"+e+"/registrations/subscription"})},parse:function(e,t){return e(t).subscriptions[0]}})},function(e,t,n){"use strict";var r=n(8),a=n(126),s=n(68),i=n(119),o=n(80),l=s.of(o);e.exports=r({schema:o,perform:function(e){var t=function(t){e.onProgress(t.sessions.map(l))},n=i({limit:50,parent_id:e.parentId});return a({url:"/api/author/live_courses/"+e.liveCourseId+"/sessions"+n,onProgress:t})},parse:function(e,t){return t.sessions.map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8);e.exports=a({schema:n(219),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({url:t.nextPageURL||"/api/author/live_course_sessions/"+e+"/registrations",data:t.data})},parse:function(e,t){return t.registrations.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(126);e.exports=r({schema:n(219),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({url:"/api/author/live_course_sessions/"+e+"/registrations",data:t.data})},parse:function(e,t){return t.registrations.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(80),parse:function(e,t){return t.sessions.map(e)},perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/api/author/live_courses/"+e+"/sessions";return a({url:n,dataType:"json",data:t})}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(158),perform:function(e,t,n){return a({type:"GET",url:"/api/author/live_courses/"+e+"/sessions/"+t+"/web_conference",data:n})},parse:function(e,t){var n=t.web_conferences;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/author/live_courses/%@/web_conferences",schema:n(158),parse:function(e,t){return t.web_conferences.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(180),u=r(l),c=n(228),d=r(c),p=n(119),f=r(p);t.default=(0,s.default)({schema:n(105),perform:function(e,t){var n=t.subaccounts,r=void 0===n?null:n,a=t.search,s=void 0===a?null:a,i=t.filters,l=void 0===i?null:i,u=t.sort,c=void 0===u?null:u,d=(0,f.default)({subaccounts:r,search:s,filters:l,sort:c});return(0,o.default)({url:e||"/api/author/live_courses"+d})},parse:function(e,t){return(0,d.default)((0,u.default)(t,"meta.permissions")),t.live_courses.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(59);e.exports=(0,s.default)({url:"/api/author/lti/content_items/%@",schema:i.LtiContentItemSchema,parse:function(e,t){return t.lti_content_items.map(e)[0]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(59),o=n(7),l=r(o);e.exports=(0,s.default)({schema:i.LtiContentItemAdminLaunchListSchema,perform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.data||{};return r.program_id=e,(0,l.default)({url:n.nextPageUrl||"/api/author/lti/admin_launch_list/"+t,type:"GET",dataType:"json",data:r})},parse:function(e,t){return t.lti_content_item_admin_launch_lists.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(59);e.exports=(0,s.default)({url:"/api/author/lti/admin_launch_list?program_id=%@",schema:i.LtiContentItemAdminLaunchListSchema,parse:function(e,t){return t.lti_content_item_admin_launch_lists.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.testFix=t.default=void 0;var a=n(8),s=r(a),i=n(119),o=r(i),l=n(7),u=r(l),c=n(59),d=(0,s.default)({schema:c.LtiResourceSchema,perform:function(e,t){var n=(0,o.default)({lti_content_item_id:e,program_id:t}),r="/api/admin/lti_link_item_launch"+n;return(0,u.default)({url:r,dataType:"json",type:"GET"})},parse:function(e,t){return(0,c.normalizeLtiResource)(e,t)}}),p=void 0;t.default=d,t.testFix=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(160),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e){return(0,o.default)({type:"GET",url:"/api/admin/notification_types/"+e})},parse:function(e,t){var n=t.notification_types;return e(n[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(7),a=n(8);e.exports=a({schema:n(863),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({url:"/api/learner/open_courses/"+e+"/enrollment",data:t.data})},parse:function(e,t){return t.enrollments.map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8);e.exports=a({schema:n(864),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({url:t.nextPageURL||"/api/learner/open_programs/"+e+"/enrollment",data:t.data})},parse:function(e,t){return t.enrollments.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(459),s=n(4),i=s.assign,o=-1,l=function(e,t){var n=t.locked_roles,r=t.allowed_roles;delete t.locked_roles,delete t.allowed_roles,t.roles=[],e.forEach(function(e){var a=i({},e),s=a.key,l=a.permissions;delete a.key,delete a.permissions,a.locked=n.indexOf(s)!==o,a.is_allowed=l.indexOf(t.id)!==o,a.changed=a.is_allowed!==(r.indexOf(s)!==o),t.roles.push(a)})};e.exports=r({url:"/api/admin/permission_categories",schema:a,parse:function(e,t){var n=t.categories,r=t.roles;return n.forEach(function(e){e.groups.forEach(function(e){e.permissions_count=e.permissions.length,e.permissions.forEach(function(e){return l(r,e)})})}),n.map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8);e.exports=a({schema:n(51),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/api/author/programs/"+e+"/groups";return r({url:t.nextPageURL||n,data:t.data})},parse:function(e,t){return console.log({payload:t}),t.groups.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(180),i=n(228);e.exports=r({schema:n(57),perform:function(e){var t=e.sort,n=void 0===t?null:t,r=e.search,s=void 0===r?null:r,i=e.filters,o=void 0===i?null:i,l=e.nextPageURL,u=void 0===l?null:l,c=e.subaccounts,d=void 0===c?null:c;return a({url:u||"/api/author/programs",data:{search:s,sort:n,filters:o,subaccounts:d}})},parse:function(e,t){return i(s(t,"meta.permissions")),t.programs.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=void 0;switch(e){case"OverdueLearnersReport":case"CompletedLearnersReport":case"IncompleteLearnersReport":var r=(0,_.default)("reports_with_ilts")?t.learnable_type+":"+t.learnable_id:t.course_id;n=r+":"+t.user_id;break;case"SignInReport":n=""+t.date}return n}var s=n(8),i=r(s),o=n(7),l=r(o),u=n(3267),c=r(u),d=n(178),p=r(d),f=n(11),m=r(f),h=n(119),g=r(h),v=n(20),_=r(v),y=n(227),b=n(4),E=function(e,t,n){return e.map(function(e){return Object.keys(e).reduce(function(n,r){var a=e[r];if("id"===r)return n;switch(t[r]){case"integer":n[r]=parseInt(a,10)||0;break;case"date":n[r]=a?(0,m.default)(a).toDate():null;break;default:n[r]=a}return n},{id:a(n,e)})})},C=function(e){var t=(0,b.extend)({},e);if(t.range){var n=(0,y.dateRangeFor)(t.range,{customStart:t.start_date,customEnd:t.end_date});t.start_date=n.startDate.toISOString(),t.end_date=n.endDate.toISOString()}return delete t.range,t},I=function(e,t,n){var r=C(t);return n?"/api/admin/reports/"+e+"."+n+(0,g.default)(r):"/api/admin/reports/"+e+(0,g.default)(r)},T=function(e){return Object.keys(e).reduce(function(t,n){var r=n.replace(/_(.)/g,function(e,t){return t.toUpperCase()});return t[r]=e[n],t},{})};e.exports=(0,i.default)({schema:c.default,perform:function(e){var t=e.nextPageURL,n=e.type,r=e.filters,a=void 0===r?{}:r,s=t||I(n,(0,b.merge)((0,b.clone)(a),{exclude_custom_fields:!0}));return(0,l.default)({url:s,dataType:"json",type:"GET"})},parse:function(e,t){var n=(0,p.default)(t.reports).map(function(e){return e.data?e.data=E(e.data,e.data_types,e.report_type):e.data=[],e}),r=T(n[0]);return r.data=r.data.map(function(e){return T(e)}),r}}),e.exports.getUrlParams=function(e){return C(e)}},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(175);e.exports=r({schema:s,perform:function(e){return a({url:"/api/author/roles",dataType:"json",data:e})},parse:function(e,t){return t.roles.map(e)}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({schema:n(42),skipNormalize:["__emberModel__"],perform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e({url:n.nextPageURL||"/api/author/group_previews/"+t,data:n.query})},parse:function(e,t){var n=t.learners;return n.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a);t.default=(0,s.default)({url:"/api/config/sub_account",schema:n(275),parse:function(e,t){return e(t.sub_accounts[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.arrayOf,i=n(8);e.exports=i({url:"/api/author/surveys?filters[]=%@&limit=%@",schema:a({surveys:s(n(244))}),parse:function(e,t){return e(t).surveys||[]}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({url:"/api/author/tags/%@/taggable_items",schema:n(860),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({url:t.nextPageUrl||"/api/author/tags/"+e+"/taggable_items",type:"GET",dataType:"json",data:t.data})},parse:function(e,t){return t.taggable_items.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({url:"/api/author/tags/%@/taggings",schema:n(383),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({url:t.nextPageUrl||"/api/author/tags/"+e+"/taggings",type:"GET",dataType:"json",data:t.data})},parse:function(e,t){return t.taggings.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(126),s=n(68),i=n(119),o=n(176),l=s.of(o);e.exports=r({url:"/api/author/tags",schema:o,perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){e.onProgress(t.tags.map(l))},n=i({limit:100,search:e.search,match:e.match});return a({url:"/api/author/tags"+n,onProgress:t})},parse:function(e,t){return t.tags.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(7),s=r(a),i=n(8),o=r(i),l=(0,o.default)({schema:n(861),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)({url:t.nextPageURL||"/api/author/tasks/"+e+"/learners",data:t.data})},parse:function(e,t){return t.enrollments.map(e)}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(1421),u=r(l),c=(0,s.default)({schema:u.default,perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.learnableId,n=e.sort,r=e.search,a=e.nextPageURL,s={};return n&&(s.sort=n),r&&(s.search=r),(0,o.default)({url:a||"/api/author/tasks/"+t+"/groups",dataType:"json",data:s})},parse:function(e,t){return t.groups.map(e)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(85),o=r(i),l=n(7),u=r(l),c=n(180),d=r(c),p=n(228),f=r(p);e.exports=(0,s.default)({url:"/api/author/tasks/%@",schema:o.default,perform:function(e,t){return(0,u.default)({url:e||"/api/author/tasks",data:e?null:t})},parse:function(e,t){return(0,f.default)((0,d.default)(t,"meta.permissions")),t.tasks.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(193),s=n(7);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/accounts/"+e+"/webhooks/"+t,dataType:"json"})},parse:function(e,t){return e(t)}})},function(e,t,n){"use strict";var r=n(8),a=n(277),s=n(7);e.exports=r({schema:a,perform:function(e,t,n){return s({url:"/api/support/accounts/"+e+"/webhooks/"+t+"/attempts/"+n,dataType:"json"})},parse:function(e,t){return e(t)}})},function(e,t,n){"use strict";var r=n(8),a=n(277),s=n(7);e.exports=r({schema:a,perform:function(e,t){return s({url:"/api/support/accounts/"+e+"/webhooks/"+t+"/attempts",dataType:"json"})},parse:function(e,t){return t.attempts.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(193),s=n(7);e.exports=r({schema:a,perform:function(e){return s({url:"/api/support/accounts/"+e+"/webhooks",dataType:"json"})},parse:function(e,t){return t.webhooks.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a);e.exports=(0,s.default)({schema:null,url:"/api/learner/lti/content_items/%@/complete",type:"POST"})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(1425),perform:function(e){return a({url:"/api/learner/enrollments/"+e+"/user_course_visits",type:"POST"})}})},function(e,t,n){"use strict";var r=n(8),a=n(315),s=n(7);e.exports=r({url:"/api/learner/courses/%@",schema:n(194),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s({url:"/api/learner/courses/"+e,type:"GET",dataType:"json",data:t})},parse:function(e,t){return a.parse(e,t)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/courses/%@/enrollment",schema:n(863),parse:function(e,t){return t.enrollments.map(e)[0]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(1422),o=r(i);t.default=(0,s.default)({url:"/api/learner/courses/%@/preview",schema:o.default,parse:function(e,t){return t.courses.map(e)[0]}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(315);e.exports=r({url:"/api/learner/courses",schema:n(194),parse:a.parse})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({url:"/api/learner/learning_items/%@",schema:n(81),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({url:"/api/learner/learning_items/"+e,type:"GET",dataType:"json",data:t})},parse:function(e,t){return e(t.learning_items[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(40);e.exports=r({url:"/api/learner/learning_items",schema:n(81),perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return a({url:""+(t||"/api/learner/learning_items"),type:"GET",dataType:"json",data:s(e)})},parse:function(e,t){return t.learning_items.map(e)}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/live_courses/%@",schema:n(464),parse:function(e,t){return t.live_courses.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/live_courses/%@/sessions/%@",schema:n(161),parse:function(e,t){return t.sessions.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/live_courses/%@/sessions",schema:n(161),parse:function(e,t){return t.sessions.map(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a);e.exports=(0,s.default)({url:"/api/learner/lti/content_items/%@",schema:n(634),parse:function(e,t){return t.lti_content_items.map(e)[0]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.testFix=t.default=void 0;var a=n(8),s=r(a),i=n(119),o=r(i),l=n(7),u=r(l),c=n(59),d=(0,s.default)({schema:c.LtiResourceSchema,perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,o.default)({lti_content_item_id:e,program_id:t}),r="/api/learner/lti_link_item_launch"+n;return(0,u.default)({url:r,dataType:"json",type:"GET"})},parse:function(e,t){return(0,c.normalizeLtiResource)(e,t)}}),p=void 0;t.default=d,t.testFix=p},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/open_courses/%@",schema:n(194),parse:function(e,t){return t.courses.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/open_live_courses/%@",schema:n(464),parse:function(e,t){return t.live_courses.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/open_live_courses/%@/sessions/%@",schema:n(161),parse:function(e,t){return t.sessions.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/open_programs/%@",schema:n(312),parse:function(e,t){return t.programs.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({
url:"/api/learner/programs/%@",schema:n(312),parse:function(e,t){return t.programs.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/programs/%@/enrollments",schema:n(864),parse:function(e,t){return t.enrollments.map(e)[0]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(81),o=r(i);t.default=(0,s.default)({url:"/api/learner/programs/%@/learning_items/program",schema:o.default,parse:function(e,t){return t.learning_items.map(e)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a);e.exports=(0,s.default)({url:"/api/learner/tasks/%@",schema:n(313),parse:function(e,t){return t.tasks.map(e)[0]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(112),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e,t){return(0,o.default)({type:"PATCH",url:"/api/learner/approvals/"+e,data:t})},parse:function(e,t){var n=t.approvals;return e(n[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(1425),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({url:"/api/learner/enrollments/"+e+"/user_course_visits",type:"PATCH",dataType:"json",data:{tracker:t.tracker,seconds:t.seconds}})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i),l=n(138);e.exports=(0,s.default)({schema:n(45),perform:function(e,t){var n="/api/author/course_templates/"+e+"/publish";return t&&(n="/api/author/course_templates/"+e+"/import_attached_scorm"),(0,o.default)({url:n,dataType:"json",type:"POST",beforeSend:(0,l.buildLockIdHeaderSetter)("CourseTemplate",e)})},parse:function(e,t){return e(t.course_templates[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(80),perform:function(e,t){return a({type:"POST",url:"/api/author/live_courses/"+e+"/sessions/"+t+"/publish"})},parse:function(e,t){var n=t.sessions;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/author/programs/%@/publish",type:"POST",schema:n(57),parse:function(e,t){return t.programs.map(e)[0]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a);t.default=(0,s.default)({url:"/api/support/accounts/%@/regenerate_csv_keys",schema:n(72),type:"PUT",parse:function(e,t){return e(t.accounts[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a);t.default=(0,s.default)({url:"/api/support/accounts/%@/regenerate_scorm_keys",schema:n(72),type:"PUT",parse:function(e,t){return e(t.accounts[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){return r({url:"/api/author/programs/"+e,type:"DELETE"})}},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:null,perform:function(e){return a({url:"/api/admin/permissions/reset",dataType:"json",type:"POST",data:{permission_ids:e}})}})},function(e,t,n){"use strict";var r=n(8),a=n(156),s=n(7);e.exports=r({schema:a,perform:function(e,t,n){return s({url:"/api/author/affiliated_sub_accounts/revoke",dataType:"json",type:"PUT",data:{item_id:e,item_type:t,domain_id:n}})},parse:function(e,t){return e(t.sub_accounts[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(45),skipNormalize:["__emberModel__"],perform:function(e){var t=e.contextType,n=e.contextId,r=e.term;return a({url:"/api/author/search/course_templates",dataType:"json",data:{context_type:t,context_id:n,term:r}})},parse:function(e,t){var n=t.course_templates;return n.forEach(function(e){e.subAccount=e.domain}),n.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(156),s=n(7);e.exports=r({schema:a,perform:function(e,t,n){return s({url:"/api/author/affiliated_sub_accounts/share",dataType:"json",type:"PUT",data:{item_id:e,item_type:t,domain_id:n}})},parse:function(e,t){return e(t.sub_accounts[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(119),u=r(l);t.default=(0,s.default)({schema:n(45),perform:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return t&&(n.undo_archive=!0),(0,o.default)({url:"/api/author/course_templates/"+e+"/unarchive"+(0,u.default)(n),dataType:"json",type:"PUT"})},parse:function(e,t){return e(t.course_templates[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(40),s=n(7);e.exports=r({schema:n(72),perform:function(e,t){"Basic"===t.config.auth.provider&&(t.config.auth.model="User");var n=t.importProfile||{};n.tryKeyBasedAuth&&n.csvUrl&&0!==n.csvUrl.indexOf("sftp://")&&(n.csvUrl="sftp://"+n.csvUrl);var r=t.importScormProfile||{};return r.sftpUrl&&0!==r.sftpUrl.indexOf("sftp://")&&(r.sftpUrl="sftp://"+r.sftpUrl),s({url:"/api/support/accounts/"+e,type:"PATCH",dataType:"json",data:{account:a(t)}})},parse:function(e,t){return e(t.accounts[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(216),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:o.default,perform:function(e){return(0,u.default)({url:"/api/config/sub_account/tokens/"+e.id,dataType:"json",type:"PATCH",data:{token:{description:e.description,expires_at:e.expiresAt,role_id:e.roleId}}})},parse:function(e,t){return e(t.tokens[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(112),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e,t){return(0,o.default)({type:"PATCH",url:"/api/approver/approvals/"+e,data:t})},parse:function(e,t){var n=t.approvals,r=t.meta;return{nextUpId:r&&r.next_up_id,approval:e(n[0])}}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(40);e.exports=r({schema:n(45),perform:function(e,t){return a({url:"/api/author/course_templates/"+e,type:"PATCH",dataType:"json",data:{course_template:s(t)}})},parse:function(e,t){return e(t.course_templates[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7),s=n(191);e.exports=r({schema:s,perform:function(e){return a({url:"/api/admin/dns_statuses/"+e,dataType:"json",type:"PUT"})},parse:function(e,t){return e(t)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i);t.default=(0,s.default)({schema:null,perform:function(e){var t=e.learnableType,n=e.learnableId,r=e.group;return(0,o.default)({type:"POST",url:"/api/author/group_relevance/"+t+"/"+n,data:{group_id:r.id,relevance:r.relevance}})}}).performWithoutParsing,e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(80),perform:function(e,t,n){return a({type:"PATCH",url:"/api/author/live_courses/"+e+"/sessions/"+t,data:{session:n}})},parse:function(e,t){var n=t.sessions;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(219),perform:function(e,t,n){return a({type:"PATCH",url:"/api/author/live_course_sessions/"+e+"/registrations/"+t,data:n})},parse:function(e,t){var n=t.registrations;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(158),perform:function(e,t,n){return a({type:"PATCH",url:"/api/author/live_courses/"+e+"/sessions/"+t+"/web_conference",data:{web_conference:n}})},parse:function(e,t){var n=t.web_conferences;return e(n[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(160),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e,t){return(0,o.default)({type:"PATCH",url:"/api/admin/notification_types/"+e,data:t})},parse:function(e,t){var n=t.notification_types;return e(n[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(40),s=n(7);e.exports=r({schema:n(57),perform:function(e,t){return s({url:"/api/author/programs/"+e,type:"PATCH",dataType:"json",data:{program:a(t)}})},parse:function(e,t){return e(t.programs[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(7),o=r(i),l=n(855),u=r(l);t.default=(0,s.default)({schema:u.default,perform:function(e,t){return(0,o.default)({type:"PATCH",url:"/api/author/program_sections/"+e,dataType:"json",data:t})},parse:function(e,t){var n=t.program_sections;return e(n[0])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),i=n(40),o=r(i),l=n(7),u=r(l);t.default=(0,s.default)({schema:n(275),perform:function(e){return(0,u.default)({url:"/api/config/sub_account",type:"PATCH",dataType:"json",data:{sub_account:(0,o.default)(e)}})},parse:function(e,t){return e(t.sub_accounts[0])}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(8),a=n(7);e.exports=r({schema:n(176),perform:function(e,t){return a({type:"PATCH",url:"/api/author/tags/"+e,data:t})},parse:function(e,t){var n=t.tags;return e(n[0])}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),s=r(a),i=n(7),o=r(i),l=n(40),u=r(l),c=n(85),d=r(c);e.exports=(0,s.default)({schema:d.default,perform:function(e,t){return(0,o.default)({type:"PATCH",url:"/api/author/tasks/"+e,data:{task:(0,u.default)(t)}})},parse:function(e,t){var n=t.tasks;return e(n[0])}})},function(e,t,n){"use strict";var r=n(8),a=n(193),s=n(40),i=n(7);e.exports=r({schema:a,perform:function(e,t,n){return i({url:"/api/support/accounts/"+e+"/webhooks/"+t,dataType:"json",type:"PATCH",data:{webhook:s(n)}})},parse:function(e,t){return e(t.webhook)}})},function(e,t,n){"use strict";var r=n(8),a=n(862),s=n(40),i=n(7);e.exports=r({schema:a,perform:function(e,t,n,r){return i({url:"/api/support/accounts/"+e+"/webhooks/"+t+"/resources/"+n,dataType:"json",type:"PATCH",data:{resource:s(r)}})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleNodeClass=void 0;var a=n(1),s=r(a),i=t.toggleNodeClass=function(e,t,n){(n||document.body).classList[t?"add":"remove"](e)},o=function(e){var t=e.className,n=e.targetNode;return function(e){return s.default.createClass({componentDidMount:function(){i(t,!0,n)},componentWillUnmount:function(){i(t,!1,n)},render:function(){return s.default.createElement(e,this.props)}})}};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;return n=t=function(t){function n(e,t){(0,l.default)(this,n);var a=(0,p.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.mediaListener?a.mediaListener=t.mediaListener:t.mediaDeviceOverrides?a.mediaListener=N(r,t.mediaDeviceOverrides):a.mediaListener=(0,_.default)(r),a.state={media:a.mediaListener.getState()},a}return(0,m.default)(n,t),(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mediaListener.listen(function(t){e.mounted&&e.setState({media:t})})}},{key:"componentWillUnmount",value:function(){this.mediaListener.dispose(),this.mediaListener=null,this.mounted=!1}},{key:"render",value:function(){return g.default.createElement(e,(0,i.default)({},this.props,{mediaState:this.state.media||{}}))}}]),n}(g.default.Component),t.propTypes=e.propTypes,t.contextTypes={mediaDeviceOverrides:b.default,mediaListener:C.default},n}Object.defineProperty(t,"__esModule",{value:!0}),t.QUERY_LARGER_THAN_PHONES=t.QUERY_WIDE_ENOUGH_TO_EDIT=t.QUERY_SMALL=t.QUERY_DESKTOP=t.QUERY_MOBILE=t.QUERY_PORTRAIT_MOBILE=void 0;var s=n(9),i=r(s),o=n(14),l=r(o),u=n(15),c=r(u),d=n(17),p=r(d),f=n(16),m=r(f);t.default=a;var h=n(1),g=r(h),v=n(388),_=r(v),y=n(381),b=r(y),E=n(629),C=r(E),I=n(12),T=r(I),N=_.default.createFixedMediaListener,S=(t.QUERY_PORTRAIT_MOBILE=T.default.MEDIA_QUERY_PORTRAIT_MOBILE,t.QUERY_MOBILE=T.default.MEDIA_QUERY_MOBILE),x=t.QUERY_DESKTOP=T.default.MEDIA_QUERY_DESKTOP,A=t.QUERY_SMALL=T.default.MEDIA_QUERY_SMALL,k=(t.QUERY_WIDE_ENOUGH_TO_EDIT=T.default.MEDIA_QUERY_WIDE_ENOUGH_TO_EDIT,t.QUERY_LARGER_THAN_PHONES=T.default.MEDIA_QUERY_LARGER_THAN_PHONES,{mobile:S,small:A,desktop:x})},function(e,t){"use strict";t.ICON_GS_ARCHITECTURE="",t.ICON_GS_ARROW_CAROUSEL_LEFT="",t.ICON_GS_ARROW_CAROUSEL_RIGHT="",t.ICON_GS_ARROW_DOWN="",t.ICON_GS_ARROW_LEFT="",t.ICON_GS_ARROW_RIGHT="",t.ICON_GS_ARROW_UP="",t.ICON_GS_ARROW_DRAWN_01="",t.ICON_GS_ARROW_DRAWN_02="",t.ICON_GS_ARROW_DRAWN_03="",t.ICON_GS_ARROW_DRAWN_04="",t.ICON_GS_ARROW_DRAWN_05="",t.ICON_GS_ARROW_DRAWN_06="",t.ICON_GS_ARROW_DRAWN_07="",t.ICON_GS_AUDIO="",t.ICON_GS_BELL="",t.ICON_GS_BOLD="",t.ICON_GS_BOOK="",t.ICON_GS_BOOKS="",t.ICON_GS_BRAIN="",t.ICON_GS_BRAIN_2="",t.ICON_GS_CALENDAR="",t.ICON_GS_CAMERA="",t.ICON_GS_CATALOG="",t.ICON_GS_CAUTION="",t.ICON_GS_CERTIFICATE="",t.ICON_GS_CHECK="",t.ICON_GS_CHECK_CIRCLE="",t.ICON_GS_CLOCK="",t.ICON_GS_COLLAPSE="",t.ICON_GS_COMMENT_COUNT_BG="",t.ICON_GS_COMMENTS="",t.ICON_GS_COMPUTER="",t.ICON_GS_CONTROLS="",t.ICON_GS_CSV="",t.ICON_GS_CSV_ADD="",t.ICON_GS_CSV_REMOVE="",t.ICON_GS_CUBE="",t.ICON_GS_DASHBOARD="",t.ICON_GS_DESKTOP="",t.ICON_GS_DEV_DOTS="",t.ICON_GS_DIVER_HEAD="",t.ICON_GS_DOC_AUDIO="",t.ICON_GS_DOC_CALENDAR="",t.ICON_GS_DOC_CODE="",t.ICON_GS_DOC_EXCEL="",t.ICON_GS_DOC_ILLUSTRATOR="",t.ICON_GS_DOC_IMAGE="",t.ICON_GS_DOC_INDESIGN="",t.ICON_GS_DOC_PDF="",t.ICON_GS_DOC_PHOTOSHOP="",t.ICON_GS_DOC_POWERPOINT="",t.ICON_GS_DOC_SLIDES="",t.ICON_GS_DOC_SPREADSHEET="",t.ICON_GS_DOC_TEXT="",t.ICON_GS_DOC_VCARD="",t.ICON_GS_DOC_VIDEO="",t.ICON_GS_DOC_WORD="",t.ICON_GS_DOC_ZIP="",t.ICON_GS_DOT="",t.ICON_GS_DOWNLOAD="",t.ICON_GS_DRAG_HANDLE="",t.ICON_GS_DUPLICATE="",t.ICON_GS_EDIT="",t.ICON_GS_EDUCATION="",t.ICON_GS_ERROR="",t.ICON_GS_EXPAND="",t.ICON_GS_EXPORT="",t.ICON_GS_EXTERNAL_COURSE="",t.ICON_GS_FILM="",t.ICON_GS_FILTER="",t.ICON_GS_FINETUNE="",t.ICON_GS_GEAR="",t.ICON_GS_GLOSSARY="",t.ICON_GS_GRID_VIEW="",t.ICON_GS_GROUPS="",t.ICON_GS_HAMBURGER_MENU="",t.ICON_GS_HEADING_1="",t.ICON_GS_HEADING_2="",t.ICON_GS_HELP="",t.ICON_GS_HIDE_MENU="",t.ICON_GS_IMAGE="",t.ICON_GS_IMAGE_DELETE="",t.ICON_GS_IN_CLASS="",t.ICON_GS_INFO="",t.ICON_GS_ITALIC="",t.ICON_GS_KEY="",t.ICON_GS_LEARNERS="",t.ICON_GS_LENS="",t.ICON_GS_LIFE_PRESERVER="",t.ICON_GS_LIGHTBULB="",t.ICON_GS_LINK="",t.ICON_GS_LOCK="",t.ICON_GS_LOGO="",t.ICON_GS_LTI="",t.ICON_GS_MARKETPLACE="",t.ICON_GS_MASQUERADE="",t.ICON_GS_MEDIA="",t.ICON_GS_MENU="",t.ICON_GS_MESSAGE="",t.ICON_GS_MINUS_SIGN="",t.ICON_GS_MORE_DOTS="",t.ICON_GS_MOVEDOWN="",t.ICON_GS_MOVEUP="",t.ICON_GS_NEXT_DIVIDER="",t.ICON_GS_NO_REPORTS="",t.ICON_GS_OFF="",t.ICON_GS_OL="",t.ICON_GS_OL4="",t.ICON_GS_ONLINE="",t.ICON_GS_PAPERCLIP="",t.ICON_GS_PERFORM_LINK="",t.ICON_GS_PHONE_LANDSCAPE="",t.ICON_GS_PHONE_PORTRAIT="",t.ICON_GS_PIECHART="",t.ICON_GS_PLACE_BOTTOM="",t.ICON_GS_PLACE_LEFT="",t.ICON_GS_PLACE_TOP="",t.ICON_GS_PLACE_WIDE="",t.ICON_GS_PLUS="",t.ICON_GS_PLUS_SIGN="",t.ICON_GS_PREVIEW="",t.ICON_GS_PREVIEW_OFF="",t.ICON_GS_PRINT="",t.ICON_GS_QUIZ_QUESTION="",t.ICON_GS_REDO="",t.ICON_GS_REPLY="",t.ICON_GS_REPORTS="",t.ICON_GS_SEARCH="",t.ICON_GS_SERVER="",t.ICON_GS_SHOW_MENU="",t.ICON_GS_SLACK="",t.ICON_GS_SLIDE_CONTENT="",t.ICON_GS_SLIDERS="",t.ICON_GS_SMART_GROUP="",t.ICON_GS_SORT="",t.ICON_GS_STEPS_PROCESS="",t.ICON_GS_SURVEY_LIKERT="",t.ICON_GS_SURVEYS="",t.ICON_GS_SWITCH_ROLE="",t.ICON_GS_TABLET="",t.ICON_GS_TAG="",t.ICON_GS_TASKS="",t.ICON_GS_TEXT="",t.ICON_GS_THUMB_DOWN="",t.ICON_GS_THUMB_UP="",t.ICON_GS_THUMB_UP_FILLED="",t.ICON_GS_TOOLS="",t.ICON_GS_TRASH="",t.ICON_GS_TYPOGRAPHY="",t.ICON_GS_UL="",t.ICON_GS_UNLOCK="",t.ICON_GS_UP="",t.ICON_GS_UP_GRAPH="",t.ICON_GS_UPLOAD="",t.ICON_GS_UPVOTE="",t.ICON_GS_USER="",t.ICON_GS_USERS="",t.ICON_GS_VIDEO="",t.ICON_GS_WARNING="",t.ICON_GS_WEBCAM="",t.ICON_GS_WEBCONF="",t.ICON_GS_X="",t.ICON_GS_ZIP=""},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={mixin:{getInitialState:function(){return{wantsToArchive:!1,wantsToUnarchive:!1}},confirmArchive:function(){this.setState({wantsToArchive:!0})},isConfirmingArchive:function(){return this.state.wantsToArchive},cancelArchive:function(){this.setState({wantsToArchive:!1})},confirmUnarchive:function(){this.setState({wantsToUnarchive:!0})},isConfirmingUnarchive:function(){return this.state.wantsToUnarchive},cancelUnarchive:function(){this.setState({wantsToUnarchive:!1})}}};t.default=n,e.exports=t.default},function(e,t){"use strict";var n={onBlur:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.state.errors,i=(e[t]||"").trim(),o=!n||n.test(i);i&&o||!i&&a?delete s[t]:s[t]=I18n.t("Please enter a valid %{field}",{field:r||t}),""===i&&a?e[t]=null:e[t]=i,this.setState({errors:s})}};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=t.media;d.default.render(u.default.createElement(m.default,{sources:r.sources,id:t.id,thumbnailUrl:n,parent:e,isLearner:!0}),e)}function s(e,t,n){return e.contentType.match(p.REGEX_TYPE_IMAGE)?i(e,t):o(e,t,n)}function i(e,t){var n='img[data-attachment-id="'+e.id+'"]',r=t.querySelector(n);r&&(r.src=e.location)}function o(e,t,n){var r=e.media,s='div[data-attachment-id="'+e.id+'"]';if(!t.querySelector(s+" video")){var i=t.querySelector(s),o=(0,v.getAttachmentDimensions)(i.parentNode),l=void 0;r&&(l=(0,v.getNotoriousThumb)(r.links.thumbnailUrl,o)),d.default.unmountComponentAtNode(i),i.setAttribute("contenteditable","false"),r&&a(i,e,l),n&&n()}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(23),d=r(c),p=n(12),f=n(801),m=r(f),h=n(833),g=r(h),v=n(648);t.default={appendAttachments:function(e,t,n,r){var a=this;return(0,g.default)({url:"/api/learner/courses/"+e.course_id+"/slides/"+e.id+"/attachments",attachmentIds:n||(0,v.parseAttachmentIds)(e.body)}).then(function(e){if(a.isMounted()){var n=t||d.default.findDOMNode(a);e.forEach(function(e){s(e,n,r)})}})}},e.exports=t.default},function(e,t,n){"use strict";var r=n(3),a=r.func,s=n(1399),i=t;i.contextTypes={emberRouter:a},i.canTransition=function(){return this.context.emberRouter!==s}},function(e,t,n){"use strict";var r=n(10),a=r.array;e.exports=a},function(e,t,n){"use strict";var r=n(10),a=r.number,s=r.shape,i=r.string;e.exports=s({data:s({completedEnrollments:a,createdEnrollments:a,failedEnrollments:a,inProgressEnrollments:a,overdueEnrollments:a,permanentlyFailedEnrollments:a,totalEnrollments:a,unfinishedEnrollments:a,totalQuestions:a}),reportType:i})},function(e,t,n){"use strict";var r=n(10),a=r.bool,s=r.shape,i=r.string;e.exports=s({id:i,default:a})},function(e,t,n){"use strict";var r=n(10),a=r.date,s=r.shape,i=r.string;e.exports=s({status:i,date:a})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string;e.exports=a({id:s,key:s,secret:s,encoded:s})},function(e,t,n){"use strict";var r=n(10),a=r.object;e.exports=a},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.object,i=r.arrayOf,o=r.shape;e.exports=o({id:a,dataTypes:s,data:i(s),reportType:a,title:a})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.instanceOf,o=r.oneOf,l=r.oneOfType,u=r.number,c=l([a,u]),d=n(20);e.exports=s(d("reports_with_ilts")?{completionDate:i(Date),title:a,description:a,learnableId:c,learnableType:a,dueDate:i(Date),email:a,groups:a,name:a,programs:a,score:u,state:o(["early","on_time","late"]),totalTime:u,uid:a,userId:c,archivedAt:i(Date)}:{completionDate:i(Date),course:a,courseId:c,dueDate:i(Date),email:a,groups:a,name:a,programs:a,score:u,state:o(["early","on_time","late"]),totalTime:u,uid:a,userId:c,archivedAt:i(Date)})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape,i=r.instanceOf,o=r.oneOf,l=r.oneOfType,u=r.number,c=l([a,u]),d=n(20);e.exports=s(d("reports_with_ilts")?{completionDate:i(Date),title:a,description:a,learnableId:c,learnableType:a,dueDate:i(Date),email:a,groups:a,name:a,programs:a,score:u,state:o(["created","active","failed"]),totalTime:u,uid:a,userId:c,archivedAt:i(Date)}:{completionDate:i(Date),course:a,courseId:c,dueDate:i(Date),email:a,groups:a,name:a,programs:a,score:u,state:o(["created","active","failed"]),totalTime:u,uid:a,userId:c,archivedAt:i(Date)})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.instanceOf,i=r.number;e.exports=a({averageLength:i,count:i,date:s(Date),percent:i})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.number,o=r.arrayOf,l=r.shape;e.exports=l({endAt:a,expiresAt:a,renewBy:a,required:s,score:i,estimatedTime:i,timeRemaining:i,passingThreshold:i,hasCertificate:s,courseType:a,slideCount:i,attachmentsCount:i,attachmentsCountAuthor:i,attemptsCount:i,maxQuizAttempts:i,continuingEducationCredits:i,currentPosition:i,furthestProgress:i,thirdPartyCourseId:a,openBook:s,quizPositions:o(i),directEnrollment:s})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.number,o=r.shape,l=r.arrayOf,u=o({startAt:a,endAt:a,location:a,seats:i,registeredCount:i}),c=o({startAt:a,endAt:a,location:a,timezone:a});e.exports=o({expiresAt:a,renewBy:a,attachmentsCount:i,attachmentsCountAuthor:i,availableSessionsCount:i,nextAvailableSessionStartAt:a,isMultiPart:s,isRegistered:s,registeredSessionStartAt:a,registeredSessionLocation:a,registeredSessionTimezone:a,registeredSessionParts:l(c),sessions:l(u),hasCertificate:s})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string;e.exports=a({id:s,startAt:s,endAt:s,location:s,timezone:s})},function(e,t,n){"use strict";var r=n(10),a=(0,r.shape)({"@id":r.string,width:r.number,height:r.number});e.exports=(0,r.shape)({toolId:r.string,icon:a,thumbnail:a,custom:r.any})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PayloadType=void 0;var a=n(9),s=r(a),i=n(10),o=n(1424),l=(0,i.oneOfType)([i.number,i.string]),u={id:l,passing_threshold:i.number,progress:(0,i.shape)({current:i.number,furthest:i.number}),title:i.string},c=(0,s.default)({},o.Type,{seed:i.string,refereshable:i.bool});t.PayloadType=(0,i.shape)({courses:(0,i.arrayOf)((0,i.shape)(u)),slides:(0,i.arrayOf)((0,i.shape)(c)),meta:(0,i.shape)({next:l,previous:l})});t.default=(0,i.shape)({course:(0,i.shape)(u),slide:(0,i.shape)((0,s.default)({},c,{course_id:l,next:l,previous:l}))})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.bool,i=r.number,o=r.shape,l=r.oneOf,u=n(125),c=u.possibleStates;e.exports=o({currentCourse:o({id:a,title:a,state:l(c),endAt:a,expiresAt:a,renewBy:a,required:s,score:i,estimatedTime:i,timeRemaining:i,passingThreshold:i,hasCertificate:s,courseType:a,slideCount:i,attachmentsCount:i,attachmentsCountAuthor:i,currentPosition:i,furthestProgress:i}),itemCount:i,programIndex:i})},function(e,t,n){"use strict";var r=n(10),a=r.string,s=r.shape;e.exports=s({distributionId:a,distributionTitle:a,closesAt:a})},function(e,t,n){"use strict";var r=n(10);e.exports=(0,r.shape)({})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(802),o=r(i),l=n(3),u=n(1447),c=r(u),d=n(13),p=r(d),f=n(583),m=r(f),h=n(24),g=r(h),v=n(117),_=r(v),y=n(29),b=r(y),E=n(19),C=r(E),I=n(5),T=I.utils.I18nStringConstants,N=s.default.createClass({displayName:"CSVUpload",statics:{getPermission:function(e,t){var n={domain:"user",group:"membership",course:"enrollment",program:"program_enrollment","live-course":"live_course_enrollment",task:"task_enrollment"}[e]||"user",r="deport"===t?"destroy":"create";return n+"_"+r}},propTypes:{contextType:l.string,contextId:l.string,cancelRoute:l.string,importRoute:l.string,learnableType:l.string,toastTitle:l.string,toastMessage:l.string,toastPrecondition:l.func,contextual:l.bool,uploadType:(0,l.oneOf)(["import","deport"]),getTitle:l.func},componentWillMount:function(){(0,b.default)(this.getPermission())||((0,C.default)(T.getInsufficientPermissionsErrorMessage(),{type:"error"}),this.cancel())},getPermission:function(){return N.getPermission(this.props.contextType,this.props.uploadType)},getTitle:function(){return this.props.getTitle?(this.boundGetTitle||(this.boundGetTitle=this.props.getTitle.bind(this)),this.boundGetTitle()):""},getNote:function(){return this.getMessage({domainImport:I18n.t("This CSV should contain ONLY user data that you'd like to update or add."),domainDeport:I18n.t("This CSV should contain ONLY users that you'd like to remove."),nonDomainImport:I18n.t("This CSV should contain ONLY learners you want to add to this %{contextType}.",{contextType:this.props.contextType}),nonDomainDeport:I18n.t("This CSV should contain ONLY learners you want to remove from this %{contextType}.",{contextType:this.props.contextType}),enrollmentImport:I18n.t("This CSV should contain ONLY information that you want to add to the sytem")})},getHeader:function(){return this.getMessage({domainImport:I18n.t("Drop a CSV to update or add user data"),domainDeport:I18n.t("Drop a CSV to remove users"),nonDomainImport:I18n.t("Drop a CSV to add learners to %{contextTitle}",{contextTitle:this.getTitle()}),nonDomainDeport:I18n.t("Drop a CSV to remove learners from %{contextTitle}",{contextTitle:this.getTitle()}),enrollmentImport:I18n.t("Drop a CSV to import enrollments")})},getTopHeader:function(){return this.getMessage({domainImport:I18n.t("Add/Update Learners & Assign Managers"),domainDeport:I18n.t("Remove Users"),nonDomainImport:I18n.t("Add Learners to %{contextTitle}",{contextTitle:this.getTitle()}),nonDomainDeport:I18n.t("Remove Learners from %{contextTitle}",{contextTitle:this.getTitle()}),enrollmentImport:I18n.t("Add enrollments"),enrollmentImportWithContext:I18n.t("Add enrollments to %{contextTitle}",{contextTitle:this.getTitle()})})},getMessage:function(e){var t=this.props,n=t.uploadType,r=t.contextType,a=t.contextId,s="import"===n,i="domain"===r,o=/enrollments/.test(this.props.importRoute),l=o&&a,u=e.domainImport,c=e.domainDeport,d=e.nonDomainImport,p=e.nonDomainDeport,f=e.enrollmentImport,m=e.enrollmentImportWithContext;return i&&s?u:i?c:l?m||f:o?f:s?d:p},renderToastMessage:function(){return s.default.createElement("div",{className:"csv-upload-container__top-toast"},s.default.createElement("h3",{dangerouslySetInnerHTML:{__html:this.props.toastTitle}}),s.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.toastMessage}}))},render:function(){return s.default.createElement("div",{className:"csv-upload-container"},s.default.createElement("div",{className:"csv-upload-container__header padding-b-xxl"},s.default.createElement("h1",{className:"csv-upload-container__top-header"},this.getTopHeader()),s.default.createElement("a",{className:"csv-upload-container__cancel-link","data-capybara":"csv_cancel",onClick:this.cancel},s.default.createElement(g.default,null,I18n.t("Cancel")))),this.props.toastPrecondition()&&this.renderToastMessage(),s.default.createElement(o.default,{centerHeader:this.getHeader(),note:this.getNote(),uploadType:this.props.uploadType,action:this.uploadCSV,contextual:this.props.contextual}))},uploadCSV:function(e){var t=this.props,n=t.uploadType,r=t.learnableType,a=t.contextId,s=t.importRoute,i=t.contextType,o=(0,_.default)(e).upload();c.default.saveUpload({id:a,type:i,autoCsv:!1,file:e,upload:o}),p.default.transitionTo([s,r,a,{queryParams:{uploadType:n}}].filter(function(e){return!!e}))},cancel:function(){var e=this.props,t=e.contextId,n=e.cancelRoute,r=e.contextual,a=m.default.getAndDiscardTrackbackRoute();a?p.default.replaceWith(a):r?p.default.replaceWith(n,t):p.default.replaceWith(n)}});t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=r(a),i=n(1),o=r(i),l=n(18),u=r(l),c=n(1358),d=r(c),p=n(13),f=r(p),m=n(583),h=r(m),g=o.default.createClass({displayName:"ConfirmImport",propTypes:{uploadType:s.default.oneOf(["import","deport"]),contextType:s.default.string,contextId:s.default.string,contextRoute:s.default.string,contextual:s.default.bool,importObject:n(218),onConfirm:s.default.func.isRequired},getDefaultProps:function(){return{contextual:!0,importObject:{newUserCount:0,completed:0,total:0}}},render:function(){var e="deport"!==this.props.uploadType,t="incomplete"===this.props.importObject.state,n="failed"===this.props.importObject.state,r="complete"===this.props.importObject.state;return o.default.createElement("div",{className:"learner-import-container"},o.default.createElement("div",{className:"csv-upload-container__header padding-trl-xxl"},o.default.createElement("h1",{className:"csv-upload-container__top-header"},this.getTitle(e,this.props.contextual)),o.default.createElement("ul",{className:"list--inline right"},o.default.createElement("li",null,o.default.createElement(u.default,{className:"btn secondary white-bg",onClick:this.cancel},I18n.t("Cancel"))))),o.default.createElement("div",{className:"learner-import-wizard flex-column clearfix"},r&&o.default.createElement("div",{className:"learner-import-info learner-import-summary","data-capybara":"import-summary"},o.default.createElement("h2",{className:"h2"},I18n.t("The following updates will be made")),o.default.createElement("div",{className:"text-center","data-capybara":"import_status"},e&&this.renderImportItems(),!e&&this.renderDeportItems(),e&&!this.props.contextual&&o.default.createElement("p",null,o.default.createElement("span",{className:"semi-bold"},I18n.t("Note:"))," ",I18n.t("All new data will replace existing data")),o.default.createElement(u.default,{className:"filled btn "+(e?"":"alert"),onClick:this.confirm},I18n.t("Confirm")))),n&&o.default.createElement("div",{className:"learner-import-info learner-import-summary","data-capybara":"import-summary"},o.default.createElement("h2",{className:"h2 pink"},I18n.t("Import failure")),o.default.createElement("p",null,I18n.t("Could not process the uploaded file."))),t&&o.default.createElement("div",{className:"learner-import-info learner-import-progress"},o.default.createElement("div",{className:"loader-large loader-7 margin-b-xl"}),o.default.createElement("h2",{className:"h2"},e?I18n.t("We're importing your CSV"):I18n.t("We're evaluating your CSV")),o.default.createElement("div",{className:"text-center","data-capybara":"import_status"},this.getProcessingMessage()))))},renderImportItems:function(){var e=this.props.importObject;return o.default.createElement("ul",null,e.newUserCount>0&&o.default.createElement("li",null,this.props.contextual?this.getEnrolledUsersMessage(e.newUserCount):this.getNewUsersMessage()),e.newCustomFieldCount>0&&o.default.createElement("li",null,this.getNewCustomFieldsMessage()),e.updatedUserCount>0&&o.default.createElement("li",null,this.props.contextual?this.getEnrolledUsersMessage(e.updatedUserCount):this.getUpdatedUsersMessage()),e.ignoredUserCount>0&&o.default.createElement("li",null,this.getIgnoredUsersMessage()),e.deletedUserCount>0&&o.default.createElement("li",null,this.getDeletedUsersMessage()),e.restoredUserCount>0&&o.default.createElement("li",null,this.getRestoredUsersMessage()),e.invalidRows.map(this.renderInvalidRow))},renderInvalidRow:function(e,t){return o.default.createElement("li",{
key:"invalidRow-"+t},e)},renderDeportItems:function(){return o.default.createElement("ul",null,o.default.createElement("li",null,this.getDeportedUsersMessage()))},getTitle:function(e,t){if(!e)return I18n.t("Remove Learners");var n=I18n.t("Add/Update Learners & Assign Managers");return t?I18n.t("Add Learners"):n},getNewUsersMessage:function(){return I18n.t({one:"1 new learner will be added",other:"%{count} new learners will be added"},{count:this.props.importObject.newUserCount})},getEnrolledUsersMessage:function(e){return I18n.t({one:"1 learner will be enrolled",other:"%{count} learners will be enrolled"},{count:e})},getUpdatedUsersMessage:function(){return I18n.t({one:"1 existing learner will be modified",other:"%{count} existing learners will be modified"},{count:this.props.importObject.updatedUserCount})},getIgnoredUsersMessage:function(){return I18n.t({one:"1 record will be ignored",other:"%{count} records will be ignored"},{count:this.props.importObject.ignoredUserCount})},getRestoredUsersMessage:function(){return I18n.t({one:"1 previously deleted learner will be restored",other:"%{count} previously deleted learners will be restored"},{count:this.props.importObject.restoredUserCount})},getDeletedUsersMessage:function(){return I18n.t({one:"1 learner will be removed",other:"%{count} learners will be removed"},{count:this.props.importObject.deletedUserCount})},getDeportedUsersMessage:function(){return I18n.t({one:"1 learner will be removed",zero:"No learners will be removed",other:"%{count} learners will be removed"},{count:this.props.importObject.deportedUserCount})},getProcessingMessage:function(){var e=this.props.importObject,t=e.completed,n=e.total;return n?I18n.t("Processing %{imported} of %{total} records",{imported:t,total:n}):""},cancel:function(){var e=this.props,t=e.contextId,n=e.contextRoute,r=e.importObject,a=e.contextual;d.default.cancelImport(r.id).then(function(){var e=h.default.getAndDiscardTrackbackRoute();e?f.default.replaceWith(e):a?f.default.replaceWith(n,t):f.default.replaceWith(n)})},confirm:function(){var e=this.props;d.default.confirmImport(e.importObject.id,e.uploadType,{contextId:e.contextId,contextType:e.contextType},e.contextual).then(function(){e.onConfirm(e.importObject.id),e.contextual?f.default.transitionTo(e.contextRoute,e.contextId):f.default.transitionTo(e.contextRoute)})}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),i=n(18),o=r(i),l=n(1369),u=r(l),c=n(572),d=r(c),p=n(6),f=r(p),m=n(3),h=n(66),g=r(h),v=n(107),_=r(v),y=s.default.createClass({displayName:"Import",propTypes:{contextType:m.string.isRequired,csvPreview:(0,m.instanceOf)(d.default).isRequired,uploadComplete:m.bool,onUpload:m.func,onCancel:m.func,generateTitle:m.func,generateContextTitle:m.func,tabs:m.func,context:m.any},getInitialState:function(){return{activeTab:0}},getDefaultProps:function(){return{generateTitle:function(e,t){return e?t?I18n.t("Add Learners"):I18n.t("Update and Add Learners"):I18n.t("Remove Learners")},generateContextTitle:function(e){if(e)return e.title}}},componentWillMount:function(){var e=this;this.reload=(0,g.default)(function(){e.isMounted()&&e.forceUpdate()},0)},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},onTabChange:function(e){this.setState({activeTab:e})},shouldComponentUpdate:function(e,t){return t.activeTab!==this.state.activeTab||e.uploadComplete!==this.props.uploadComplete},render:function(){var e=this.props,t=e.csvPreview,n=e.tabs;return s.default.createElement("div",{className:"csv-upload-container"},s.default.createElement("div",{className:"csv-upload-container__header"},s.default.createElement("h1",{className:"csv-upload-container__top-header"},this.getTitle()),t.get("isImport")&&"domain"===this.props.contextType?this.renderDomainButtons():this.renderButtons()),s.default.createElement("p",{className:"full-width"},this.getContextNote()),s.default.createElement(u.default,{csvPreview:t,autoCsv:_.default.isAutoCsv(),contextType:this.props.contextType,onEmberDataChange:this.reload,activeTab:this.state.activeTab,onTabChange:this.onTabChange,tabs:n}))},renderButtons:function(){var e=this.props,t=e.csvPreview,n=e.uploadComplete;return s.default.createElement("ul",{className:"list--inline right"},this.renderCancel(),s.default.createElement("li",null,s.default.createElement(o.default,{className:(0,f.default)("btn filled",{alert:t.get("isDeport")}),disabled:!t.get("isValid")||!n,onClick:this.props.onUpload},I18n.t("Finish"))))},renderCancel:function(){return s.default.createElement("li",null,s.default.createElement(o.default,{className:"btn secondary",onClick:this.props.onCancel},I18n.t("Cancel")))},renderDomainButtons:function(){var e=this.props.csvPreview,t=e.get("isValid"),n=null!==e.get("managerField.index");return t&&n||2===this.state.activeTab?this.renderButtons():s.default.createElement("ul",{className:"list--inline right"},this.renderCancel(),t&&!n&&s.default.createElement("li",null,s.default.createElement(o.default,{className:"btn",onClick:this.onTabChange.bind(this,2,this.state.activeTab)},I18n.t("Next"))))},getTitle:function(){return this.props.generateTitle(this.props.csvPreview.get("isImport"),this.props.context)},getContextTitle:function(){return this.props.generateContextTitle(this.props.context)},getContextNote:function(){var e=this.getContextTitle(),t=void 0;return this.props.csvPreview.get("isDeport")?t=I18n.t("All matching Login IDs will be removed from %{contextTitle}",{contextTitle:e}):this.props.context?t=I18n.t("All matching Login IDs will be added to %{contextTitle}",{contextTitle:e}):_.default.isAutoCsv()||(t=I18n.t("All new data will replace existing data")),t}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(67),s=n(3),i=s.any,o=s.bool,l=s.string,u=n(6),c=n(5),d=c.Icon,p=n(4),f=n(1432),m=n(466),h=n(468),g=5,v={Beginner:1,Intermediate:2,Advanced:3},_=r.createClass({displayName:"FilterList",mixins:[m],propTypes:{filters:i,className:l,params:i,query:i,isLearnerLibrary:o},getInitialState:function(){return{expanded:{}}},render:function(){return r.createElement("div",null,this.displayPreviewModeBanner(),r.createElement("div",{className:"lynda-search__filter-list","data-capybara":"lynda-filter-list"},this.props.filters.map(this.renderFilterType)))},renderFilterType:function(e){var t=void 0;t="skill_levels"===e.id?p.sortBy(e.options,function(e){return v[e.name]}):p.sortBy(e.options,"name");var n=this.props.query.filter_id,s=n?p.findIndex(t,{id:n}):-1,i=void 0;s!==-1&&(i=t[s],t.splice(s,1));var o=t.length<=g||this.state.expanded[e.id];t=o?t:t.slice(0,g);var l=u({"lynda-search__filter-list__column":!0,"lynda-search__filter-list__column--expanded":o}),c=this.props.query.search?"?search="+this.props.query.search:"";return r.createElement("div",{key:e.id,"data-capybara":e.id},r.createElement("div",{className:"lynda-search__filter-list__title"},e.name),r.createElement("div",null,i?r.createElement(a,{to:this.getLyndaPath("/categories/"+this.props.params.categoryId+c),className:"lynda-search__filter-list__item lynda-search__filter-list__item--selected"},r.createElement("span",{className:"lynda-search__filter-list__item-name"},i.name),r.createElement(d,{className:"gs-x"})):null,r.createElement("div",{className:l},t.map(this.renderFilterLink),o?null:r.createElement("div",{onClick:this.expandFilterList.bind(null,e.id),className:"lynda-search__filter-list__show-all"},I18n.t("Show all")," ",r.createElement(d,{className:"gs-arrow-down"})))))},renderFilterLink:function(e){var t=this.props.query.search?"&search="+this.props.query.search:"";return r.createElement(a,{key:e.id,to:this.getLyndaPath("/categories/"+this.props.params.categoryId+"?filter_id="+e.id+t),className:"lynda-search__filter-list__item"},e.name)},expandFilterList:function(e){var t=p.extend({},this.state.expanded);t[e]=!0,this.setState({expanded:t})},displayPreviewModeBanner:function(){return!!h()==!1?r.createElement(f,null):""}});e.exports=_},function(e,t,n){"use strict";var r=n(7),a=n(8),s=n(241);e.exports=a({schema:s,perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r({url:"/api/markets/lynda/categories",data:e.data})},parse:function(e,t){return t.categories.map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8),s=n(851);e.exports=a({schema:s,perform:function(e){return r({url:"/api/markets/lynda/courses/"+e})},parse:function(e,t){return e(t.course)}})},function(e,t,n){"use strict";var r=n(7),a=n(8),s=n(192);e.exports=a({schema:s,perform:function(e){return r({url:"/api/markets/lynda/courses",data:{category_id:e.categoryId,filter_id:e.filter,search:e.searchTerm}})},parse:function(e,t){return t.courses.map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8),s=n(852);e.exports=a({schema:s,perform:function(e){return r({url:"/api/markets/lynda/filters/"+e})},parse:function(e,t){var n={skill_levels:I18n.t("Skill Levels"),softwares:I18n.t("Software"),topics:I18n.t("Subject")},r=Object.keys(t.filters).map(function(e){return n[e]||console.error("The API returned an unsupported filter option for the Lynda.com marketplace"),{name:n[e],id:e,options:t.filters[e]}});return r.map(e)}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/markets/lynda/course_library/%@",schema:n(866),parse:function(e,t){return t.courses.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/learner/markets/lynda/course_library",schema:n(866),parse:function(e,t){return t.courses.map(e)}})},function(e,t,n){"use strict";var r=n(8),a=n(458),s=n(7);e.exports=r({schema:a,perform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nextPageURL||"/api/author/markets";return s({url:t,dataType:"json",data:e.data})},parse:function(e,t){return t.markets.map(e)}})},function(e,t,n){"use strict";var r=n(7),a=n(8),s=n(192),i=n(686),o=i.validate,l=n(25);e.exports={fetchAll:a({schema:s,perform:function(){return r({url:"/api/author/markets/lynda/basket_items"})},parse:function(e,t){var n=t.basket||[];return n.map(e)}}),addCourse:a({schema:null,perform:function(e){return o(s,e).isValid?r({url:"/api/author/markets/lynda/basket_items",type:"POST",data:{course:e}}):l.reject("Invalid course supplied when saving basket")}}),addCoursesToIndex:a({schema:null,perform:function(e){var t=e.map(function(e){return{id:e.id,title:e.title,author:e.authorName,durationInSeconds:e.durationInSeconds}});return r({url:"/api/author/markets/lynda/course_library",type:"POST",data:{courses:t}})}}),fetchPendingCourse:a({schema:n(45),skipNormalize:["__emberModel__"],parse:function(e,t){return t.course_templates.map(e)},perform:function(e){return r({url:"/api/author/markets/lynda/course_library/"+e,type:"GET"})}}),remove:a({schema:null,perform:function(e){return r({url:"/api/author/markets/lynda/basket_items/"+e,type:"DELETE"})}}),removeAll:a({schema:null,perform:function(){return r({url:"/api/author/markets/lynda/basket_items/clear",type:"DELETE"})}})}},function(e,t,n){"use strict";var r=n(21),a=n(3284);e.exports=r({displayName:"LyndaCourseStore",schema:n(851),fetch:function(e){var t=this;return a(e).then(function(n){t.cache.setCollection({courseId:e},[n])})},get:function(e){return this.cache.getCollection({courseId:e})[0]}})},function(e,t,n){"use strict";var r=n(21),a=n(3286);e.exports=r({displayName:"LyndaFilterStore",schema:n(852),fetch:function(e){var t=this;return a(e).then(function(n){t.cache.setCollection({categoryId:e},n)})},get:function(e){return this.cache.getCollection({categoryId:e})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=i.default.getAll().filter(function(e){return e.default})[0];return{active:!0,host:{},accountType:"paid",cluster:e&&e.id,config:{locale:I18n.defaultLocale,bridgeRetain:!0,createUserFromAuthHash:!0,learnerLibraryEnabled:!0,learnerCalendarEnabled:!0,calendar:{},webhooks:{},auth:{provider:"Basic",model:"User"},products:(0,o.getDefaultAccountProducts)()},importProfile:{csvDays:new Array(7)},domain:{},notificationProfile:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultAccount=a;var s=n(1446),i=r(s),o=n(872)},function(e,t,n){"use strict";function r(e){return function(t,n){if(n.length<e){for(var r=[].concat(n);r.length<e;)r.push(f.generateAnswerForQuestion({type:t}));return f.IntegratedAnswerSet({type:t,answers:r})}return n}}var a=n(4),s=a.assign,i=a.omit,o=a.uniq,l=n(12),u=l.QUESTION_TYPES,c=l.CCE_QUESTION_MIN_ANSWER_COUNT,d=l.CCE_ORDERED_QUESTION_MIN_ANSWER_COUNT,p=l.CCE_VOCABULARY_QUESTION_MIN_ANSWER_COUNT,f=n(220),m=n(178),h=[];t.enforceAnswerSetIntegrity=function(e){var t=e.type,n=e.answers;return h.filter(function(e){return e.errybody||e.types.indexOf(t)>-1}).reduce(function(e,n){return n.apply(t,e)||e},n||[])},h.push({errybody:!0,apply:function(e,t){return f.IntegratedAnswerSet({type:e,answers:t})}}),h.push({types:[u.VOCABULARY],apply:r(p)}),h.push({types:[u.MULTIPLE_ANSWER,u.MULTIPLE_CHOICE],apply:r(c)}),h.push({types:[u.REORDER,u.ORDERED_LIST],apply:r(d)}),h.push({types:[u.MULTIPLE_ANSWER,u.MULTIPLE_CHOICE],apply:function(e,t){if(0===t.filter(function(e){return e.correct}).length)return t.map(function(e,t){return 0===t?s({},e,{correct:!0}):e})}}),h.push({types:[u.MULTIPLE_CHOICE],apply:function(e,t){if(t.filter(function(e){return e.correct}).length>1){var n=!1;return t.map(function(e){return e.correct&&!n?(n=!0,e):e.correct&&n?i(e,["correct"]):e})}}}),h.push({types:[u.SHORT_ANSWER],apply:function(){return[]}}),h.push({types:[u.FACTOID],apply:function(e,t){return t.filter(function(e){return e.fact&&e.fact.length>0}).map(function(e){return s({},e,{distractors:o(m(e.distractors).filter(function(e){return e&&e.length>0}).filter(function(t){return t!==e.fact}))})})}})},function(e,t,n){"use strict";var r=n(8),a=n(10),s=a.string,i=a.shape,o=a.arrayOf,l=n(7),u=r({url:"/api/support/accounts/%@/tokens",type:"POST",schema:i({tokens:o(i({id:s,key:s,secret:s,encoded:s}))}),parse:function(e,t){return e(t).tokens[0]}}),c={create:function(e){return u(e).then(function(e){var t=e.secret;delete e.secret;var n=e.encoded;return delete e.encoded,{token:e,secret:t,encoded:n}})},revoke:function(e,t){return l({url:"/api/support/accounts/"+e+"/tokens/"+t,method:"DELETE"})}};e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3145),o=r(i),l=n(44),u=r(l),c=(0,s.default)({displayName:"AdminCsvLogsStore",schema:n(218),getInitialState:function(){return{paginator:(0,u.default)(function(e,t){return o.default.performWithoutParsing({url:e,params:t})})}},fetchAll:function(e){var t=this;return this.state.paginator.findFirstPage(e).then(function(n){t.cache.setCollection(e,o.default.parse(n))})},fetchNext:function(e){var t=this;this.state.paginator.hasMorePages()&&this.state.paginator.findNextPage(e).then(function(n){t.cache.addToCollection(e,o.default.parse(n))})},get:function(e){return this.cache.get(e)},getAll:function(e){return this.cache.getCollection(e)}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(3147),o=r(i),l=n(3109),u=r(l),c=n(3238),d=r(c),p=n(3125),f=r(p),m=(0,s.default)({displayName:"ApiTokenStore",schema:n(216),fetchAll:function(){var e=this;return(0,o.default)().then(function(t){e.cache.setCollection({},t)})},getAll:function(){return this.cache.getCollection({})},create:function(e){var t=this;return(0,u.default)(e).then(function(n){var r=Object.assign({},n,e);return t.cache.addToCollection({},[r]),r})},update:function(e){var t=this;return(0,d.default)(e).then(function(e){t.cache.add(e)})},delete:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n&&this.cache.remove(e.id),(0,f.default)(e.id).then(function(){n||t.cache.remove(e.id)})}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r=n(21),a=n(7),s=n(10),i=s.string,o=n(1469),l=r({displayName:"CustomFieldValueStore",schema:i,storeOptions:{defaultCacheOptions:{idGenerator:function(e){return e}}},fetchAll:function(e){var t=this,n=e.customFieldId,r=e.term,s=void 0===r?null:r,i=e.limit,l=void 0===i?5:i;a({url:"/api/author/search/custom_field_values",data:o({term:s,custom_field_id:n,limit:l})}).then(function(e){t.cache.setCollection({customFieldId:n,term:s},e.values)})},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cache.getCollection({customFieldId:e,term:t})}});e.exports=l},function(e,t,n){"use strict";var r=n(377),a=new r({});a.getShowMetrics=function(e){var t=this.get(e);return!(!t||"false"===t||t===!1)},e.exports=a},function(e,t){"use strict";e.exports={justJoined:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1441),s=r(a),i=n(3167),o=r(i),l=n(7),u=r(l),c=function(e){return{id:e.id,name:e.name,type:e.type,usersCount:e.users_count,registeredCount:0}},d=function(e,t){return(0,u.default)({url:"/api/author/live_courses/"+e+"/groups/"+t,type:"DELETE"})},p=(0,s.default)({fragment:"live_courses",groupSchema:n(1415),learnableTitle:"LiveCourse",fetchLearnableGroups:o.default,unenrollLearnableGroup:d,createTransientGroup:c});e.exports=p},function(e,t,n){"use strict";function r(e,t){return JSON.stringify(e)!==JSON.stringify(t)}var a=n(21),s=n(44),i=n(7),o=n(894),l=n(66),u=n(643),c=n(873),d=n(68),p=d.of(n(42)),f=n(30),m=n(3119),h=n(3190),g=n(4),v=g.assign,_=Object.freeze({meta:{total:0},learners:[]}),y=250,b=a({displayName:"SmartGroupPreviewStore",storeOptions:{getDefaultCache:function(){return null}},DELAY_MS:y,initialize:function(){var e=this;this.deferredFetchIfNeeded=l(function(t,n){var a=e.state,s=a.lastBody,i=a.lastQuery,o=a.paginator;(r(s,t)||r(i,n))&&m(t,n).then(function(r){o.findFirstPage(r.id,n).then(function(a){e.setState({lastId:r.id,lastBody:t,lastQuery:n,lastPayload:a})})})},y)},getInitialState:function(){var e=this;return{adapter:i.use([o(this.emitChange)]),paginator:s(function(t,n,r){return h.performWithoutParsing(e.state.adapter,n,{nextPageURL:t,query:r})}),lastQuery:{},lastPayload:_}},getMembers:function(){var e=this.state.lastPayload;return e.learners.map(p)},fetch:function(e,t){this.deferredFetchIfNeeded(this.__postBody(t),this.__getQuery(e))},fetchNext:function(){var e=this,t=this.state,n=t.paginator,r=t.lastId,a=t.lastQuery;n.hasMorePages()&&n.findNextPage(r,a).then(function(t){var n=e.state.lastPayload.learners;e.setState({lastPayload:v({},t,{learners:n.concat(t.learners)})})})},__getRouterState:function(){return{queryParams:{sort:f.getQueryItem("sort"),search:f.getQueryItem("search")}}},__getQuery:function(e){var t={},n=this.__getRouterState();return t.search=n.queryParams.search,t.sort=n.queryParams.sort,t.domain_id=e,t},__postBody:function(e){var t={};return t.rules=u.getAll().map(c.serialize),t.join_type=u.getOverriddenJoinType()||e,t}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(21),o=r(i),l=n(3101),u=r(l),c=n(3102),d=r(c),p=n(632),f=r(p),m="CURRENT",h=(0,o.default)({displayName:"SubAccountNotificationConfigStore",schema:f.default,fetch:function(){var e=this;return(0,u.default)().then(function(t){return e.saveAndReturnConfig(t)})},get:function(){return this.cache.get(m)},update:function(e){var t=this;return this.cache.transaction(function(){var n=(0,s.default)({},t.get(),e);return t.saveAndReturnConfig(n),(0,d.default)(e)})},saveAndReturnConfig:function(e){return e.id=m,this.cache.add(e),e}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r=n(21),a=n(3193),s=n(44),i=s(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.search;return a.performWithoutParsing(t,{nextPageUrl:e,data:{search:r}})}),o=r({displayName:"TaggableItemStore",schema:n(860),fetchAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.reset(e),i.findFirstPage(e,t).then(a.parse).then(this.cache.setCollection.bind(this,e))},fetchNext:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.hasMorePages()?i.findNextPage(e,t).then(a.parse).then(this.cache.addToCollection.bind(this,e)):null},getAll:function(e){return this.cache.getCollection(e)},reset:function(e){this.cache.setCollection(e,[])}});e.exports=o},function(e,t,n){"use strict";var r=n(21),a=n(3194),s=n(3121),i=n(3135),o=n(200),l=n(44),u=l(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sort,s=n.search;return a.performWithoutParsing(t,{nextPageUrl:e,data:{sort:r,search:s}})}),c=r({displayName:"TaggedItemStore",schema:n(383),fetchAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.findFirstPage(e,t).then(a.parse).then(this.cache.setCollection.bind(this,[e,t]))},fetchNext:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.hasMorePages()?u.findNextPage(e,t).then(a.parse).then(this.cache.addToCollection.bind(this,[e,t])):null},getAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.cache.getCollection([e,t])},create:function(e,t,n){return s(e,{context_id:n,context_type:o(t)}).then(this.cache.unshiftInCollection.bind(this,[e,{}]))},destroy:function(e){var t=this;return this.cache.transaction(function(){return t.cache.remove(e.id),i(e.tagId,{context_id:e.taggableId,context_type:o(e.taggableType)})})}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1441),s=r(a),i=n(3197),o=r(i),l=n(7),u=r(l),c=function(e,t){return(0,u.default)({url:"/api/author/tasks/"+e+"/groups/"+t,type:"DELETE"})},d=(0,s.default)({fragment:"tasks",groupSchema:n(1421),learnableTitle:"Task",fetchLearnableGroups:o.default,unenrollLearnableGroup:c,createTransientGroup:function(e){return{id:e.id,name:e.name,type:e.type,usersCount:e.users_count}}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(21),s=r(a),i=n(7),o=r(i),l=n(3224),u=r(l),c=n(1442),d=r(c),p=(0,s.default)({displayName:"LearnerApprovalStore",schema:n(112),create:function(e,t,n){var r={type:"POST",url:"/api/learner/tasks/"+e+"/approvals",data:{comment:t}};return n&&(r.data.evidences=n),(0,o.default)(r)},update:function(e,t){var n=this;return(0,u.default)(e,t).then(function(t){return n.cache.add(t),d.default.fetchAll(e)})}});e.exports=p},function(e,t,n){"use strict";var r=n(21),a=n(3206),s=r({displayName:"CourseEnrollmentStore",schema:n(863),fetchByUuid:function(e){var t=this;return a(e).then(function(e){t.cache.add(e)})},getByUuid:function(e){return this.cache.get(e)}});e.exports=s},function(e,t,n){"use strict";var r=n(21),a=n(3211),s=n(3217),i=n(7),o=r({displayName:"LearnerLiveCourseStore",schema:n(464),fetch:function(e){var t=this;return a(e).then(function(e){t.cache.add(e)})},fetchByUuid:function(e){var t=this;return s(e).then(function(n){t.cache.setCollection(e,[n])})},get:function(e){return this.cache.get(e)},getByUuid:function(e){return this.cache.getCollection(e)[0]},enroll:function(e){return i({url:"/api/learner/open_live_courses/"+e+"/enrollment",type:"POST"})}});e.exports=o},function(e,t,n){"use strict";var r=n(21),a=n(3221),s=r({displayName:"LearnerProgramEnrollmentStore",schema:n(864),fetchByUuid:function(e){var t=this;return a(e).then(function(e){t.cache.add(e)})},getByUuid:function(e){return this.cache.get(e)}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=r(a),i=n(95),o=r(i),l=n(3222),u=r(l),c=n(81),d=r(c),p=(0,s.default)({displayName:"LearnerProgramLearningItemStore",schema:n(81),initialize:function(){this.programsCache=(0,o.default)(null,{displayName:"ProgramLearningItemStore__programsCache",schema:d.default})},clear:function(){this.programsCache.clear()},fetchProgram:function(e){var t=this;return(0,u.default)(e).then(function(n){return t.programsCache.setCollection(e,n),n[0]})},getProgram:function(e){return this.programsCache.getCollection(e)[0]}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=function(e){return"/"!==e[0]&&e.indexOf(window.location.host)===-1},t=function(){return o.cookieStorage.getItem("_csrf_token")};i.default.ajaxPrefilter(function(n){if(!e(n.url)){var r=t();r&&"GET"!==n.type.toUpperCase()&&(n.headers=Object.assign({},n.headers,{"X-CSRF-Token":r}))}})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(47),i=r(s),o=n(165);t.default={addCSRFHeaderToAPIRequests:a},e.exports=t.default},function(e,t){"use strict";function n(e,t,n){if(t===n)return e;var r=t<n,a=e[t],s=e[n];return e.reduce(function(e,t){return t===a?e:t===s?e.concat(r?[t,a]:[a,t]):e.concat(t)},[])}function r(e,t,r){return n(e,e.indexOf(t),e.indexOf(r))}e.exports=n,e.exports.byValue=r},function(e,t,n){"use strict";function r(e,t,n){var r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);return s(r>-1&&i<e.length,"RangeError: "+r+".."+i+" is not a valid range for a set of size "+e.length+"."),{permutedSet:e.slice(0,r).concat(t).concat(e.slice(i+1)),isInRange:a(r,r+t.length-1)}}function a(e,t){return function(n){return n>=e&&n<=t}}var s=n(41);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450,n=document.querySelector(".global-nav__content").parentNode,r=n.scrollTop,a=5,s=t/a,i=1,l=function(t){var n=o(t/s);return n*(r-e)},u=setInterval(function(){return i>s?void clearInterval(u):(n.scrollTop=r-l(i),void(i+=1))},a)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(127),i=r(s),o=function(e){return e<.5?2*e*e:-1+(4-2*e)*e};t.default=(0,i.default)(a),e.exports=t.default},function(e,t){"use strict";e.exports=function(e,t){var n=JSON.stringify(t),r=e.dataTransfer;try{r.setData("application/json",n)}catch(e){r.setData("Text",n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return u.default.getUID()}function s(){o.default.setPublic(),o.default.clear()}Object.defineProperty(t,"__esModule",{value:!0}),t.getUID=a,t.resetAuth=s;var i=n(34),o=r(i),l=n(39),u=r(l);t.default={getUID:a,resetAuth:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=void 0,t=void 0;return{resolve:function(t){e(t)},reject:function(e){t(e)},promise:new i.default(function(n,r){e=n,t=r})}}var s=n(25),i=r(s),o=n(34),l=r(o),u=n(47),c=n(19),d=r(c),p=n(147),f=r(p),m=n(30),h=r(m),g=n(5),v=g.utils.I18nStringConstants;e.exports=function(e){function t(e,t,n){i({payload:e,statusText:t,jqXHR:n})}function n(t){var n=l.default.getPostAuthRoute(),r=e.url===n,a=403===t.status;l.default.isAuthenticated()&&!r&&a&&!f.default.shouldShowExpirationOverlay()&&((0,d.default)(v.getInsufficientPermissionsErrorMessage(),{type:"error"}),h.default.transitionTo(n)),o(t)}function r(){l.default.reissue().then(function(){(0,u.ajax)(e).then(t,n)},function(e){e&&(h.default.refresh(),o(e))})}var s=a(),i=s.resolve,o=s.reject,c=s.promise,p=(0,u.ajax)(e),m=new RegExp("^"+l.default.getBearerTokenUrl());return null!==e.url.match(m)?p.then(t,o):p.then(t,function(e){l.default.isAuthenticated()&&401===e.status?r():n(e)}),{then:c.then.bind(c),jqXHR:p}}},function(e,t){"use strict";function n(e){return 0===e.status&&a.includes(e.readyState)}function r(e){return 401===e.status}Object.defineProperty(t,"__esModule",{value:!0});var a=[XMLHttpRequest.UNSENT,XMLHttpRequest.DONE];t.isAbortedOrUnsent=n,t.isUnauthorizedRequest=r},function(e,t,n){"use strict";function r(e,t){if(e.subaccounts){var n=t.filter(function(e){return e.hasItemClass}).map(function(e){return e.id}),r=e.subaccounts.filter(function(e){return n.indexOf(e)!==-1});return(0,a.assign)({},e,{subaccounts:r.length?r:void 0})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(4);e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=(0,a.assign)({},e.data,{estimatedTime:e.estimatedTime});switch(e.itemType){case"CourseTemplate":t.furthestProgress=e.progress;break;case"Program":t.itemCount=e.data.itemCounts.map(function(e){return e.count}).reduce(function(e,t){return e+t},0),t.programIndex=1,t.currentCourse={furthestProgress:0}}return{wasOriginallyLibraryItem:!0,id:e.id,learnableType:e.itemType,learnableId:e.itemId,data:t,title:e.title,description:e.description,createdAt:e.createdAt,completedAt:e.completedAt,state:e.state,coverSlideData:null,isEnrolled:e.isEnrolled}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(4);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),a=n(406),s=function(){function e(){var e=(0,r.select)(document.createElement("div"));return e.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),e.node()}function t(e){var t=e.node();return t?"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement:null}function n(){return null===c&&(c=e(),u().appendChild(c)),(0,r.select)(c)}function s(){for(var e=f||r.event.target;null===e.getScreenCTM&&null===e.parentNode;)e=e.parentNode;var t={},n=e.getScreenCTM(),a=e.getBBox(),s=a.width,i=a.height,o=a.x,l=a.y;return p.x=o,p.y=l,t.nw=p.matrixTransform(n),p.x+=s,t.ne=p.matrixTransform(n),p.y+=i,t.se=p.matrixTransform(n),p.x-=s,t.sw=p.matrixTransform(n),p.y-=i/2,t.w=p.matrixTransform(n),p.x+=s,t.e=p.matrixTransform(n),p.x-=s/2,p.y-=i/2,t.n=p.matrixTransform(n),p.y+=i,t.s=p.matrixTransform(n),t}var i=function(){return"n"},o=function(){return[0,0]},l=function(){return" "},u=function(){return document.body},c=e(),d=null,p=null,f=null,m=function(e){return"function"==typeof e?e:function(){return e}},h=function(){var e=s();return{top:e.n.y-c.offsetHeight,left:e.n.x-c.offsetWidth/2}},g=function(){var e=s();return{top:e.s.y,left:e.s.x-c.offsetWidth/2}},v=function(){var e=s();return{top:e.e.y-c.offsetHeight/2,left:e.e.x}},_=function(){var e=s();return{top:e.w.y-c.offsetHeight/2,left:e.w.x-c.offsetWidth}},y=function(){var e=s();return{top:e.nw.y-c.offsetHeight,left:e.nw.x-c.offsetWidth}},b=function(){var e=s();return{top:e.ne.y-c.offsetHeight,left:e.ne.x}},E=function(){var e=s();return{top:e.sw.y,left:e.sw.x-c.offsetWidth}},C=function(){var e=s();return{top:e.se.y,left:e.se.x}},I=(0,a.map)({n:h,s:g,e:v,w:_,nw:y,ne:b,sw:E,se:C}),T=I.keys(),N=function(e){d=t(e),d&&(p=d.createSVGPoint(),u().appendChild(c))};return N.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(f=e.pop());var t=l.apply(this,e),r=o.apply(this,e),a=i.apply(this,e),s=n(),c=document.documentElement.scrollTop||u().scrollTop,d=document.documentElement.scrollLeft||u().scrollLeft,p=T.length,m=void 0;for(s.html(t).style("opacity",1).style("pointer-events","all");p--;)s.classed(T[p],!1);return m=I.get(a).apply(this),s.classed(a,!0).style("top",m.top+r[0]+c+"px").style("left",m.left+r[1]+d+"px"),N},N.hide=function(){var e=n();return e.style("opacity",0).style("pointer-events","none"),N},N.attr=function(e,t){if(arguments.length<2&&"string"==typeof e)return n().attr(e);var a=Array.prototype.slice.call(arguments);return r.selection.prototype.attr.apply(n(),a),N},N.style=function(e,t){if(arguments.length<2&&"string"==typeof e)return n().style(e);var a=Array.prototype.slice.call(arguments);return r.selection.prototype.style.apply(n(),a),N},N.direction=function(e){return arguments.length?(i=null===e?e:m(e),N):i},N.offset=function(e){return arguments.length?(o=null===e?e:m(e),N):o},N.html=function(e){
return arguments.length?(l=null===e?e:m(e),N):l},N.rootElement=function(e){return arguments.length?(u=null===e?e:m(e),N):u},N.destroy=function(){return c&&(n().remove(),c=null),N},N};t.default=s,e.exports=t.default},function(e,t,n){"use strict";var r=n(56);e.exports=function(e,t){e.each(function(){var e=this,n=(0,r.select)(e),a=e.getNumberOfChars(),s=0;if(a>0){for(;e.getSubStringLength(0,s++)<t&&s<a;);s<a&&n.text(n.text().substr(0,s).trim()+"...")}})}},function(e,t,n){"use strict";var r=n(56);e.exports=function(e,t,n){e.each(function(){var e,a,s,i=[],o=0,l=(0,r.select)(this),u=parseFloat(l.attr("dx")||0),c=parseFloat(l.attr("dy")||0),d=n||parseInt(l.style("font-size"),10),p=function(e){return l.append("tspan").attr("x",l.attr("x")).attr("y",l.attr("y")).attr("dx",u).attr("dy",e+c)};for(e=l.text().split(/\s+/).reverse(),l.text(null),s=p(0);a=e.pop();)i.push(a),s.text(i.join(" ")),s.node().getComputedTextLength()>t&&(i.pop(),s.text(i.join(" ")),i=[a],s=p(++o*d).text(a))})}},function(e,t){"use strict";e.exports=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),a=r.length,s=new Uint8Array(a);a--;)s[a]=r.charCodeAt(a);return new Blob([s],{type:n})}},function(e,t,n){"use strict";var r=n(39),a=n(127);e.exports=a(function(){return console.warn("Deprecated: you should stop reaching out to the user model directly and instead use the available APIs in CurrentUser and AuthStore."),r.__getUserFromSession__()})},function(e,t,n){"use strict";function r(e,t){return s(e,t)}var a=n(4),s=a.isEqual;r.safe=function(e,t){try{return r(e,t)}catch(e){return!1}},e.exports=r},function(e,t){"use strict";e.exports=function(e,t){var n=e.protocol,r=e.hostname,a=e.port,s=n+"//"+r;return a&&(s+=":"+a),s===t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(14),s=r(a),i=n(15),o=r(i),l=n(4),u=l.assign,c=n(41),d=n(47),p=n(482),f=function(){function e(t){(0,s.default)(this,e);var n=u({opacity:.9,axis:"y"},t);this.itemAt=-1,this.elementSelector=n.elementSelector,this.$container=d(t.container),this.onChange=t.onChange,this.onStart=t.onStart,this.onUpdateComplete=n.onUpdateComplete,p(this.$container,{axis:n.axis,containment:n.containment,distance:n.distance,handle:n.handleSelector,items:n.elementSelector,opacity:n.opacity,placeholder:n.placeholder,start:this._track.bind(this),stop:this.onUpdateComplete,update:this._acceptDropAndEmitChange.bind(this)})}return(0,o.default)(e,[{key:"refresh",value:function(){p(this.$container,"refresh")}},{key:"teardown",value:function(){c(!!this.$container,"You are attempting to teardown a jQuerySorter but it had not been setup yet!"),p(this.$container,"destroy")}},{key:"_acceptDropAndEmitChange",value:function(e,t){if(this.itemAt>-1){var n=this.$container.find(this.elementSelector).index(d(t.item));p(this.$container,"cancel"),this.itemAt!==n&&this.onChange(this.itemAt,n),this.itemAt=-1}}},{key:"_track",value:function(e,t){var n=d(t.item),r=this.$container.find(this.elementSelector).index(n);this.onStart(),r===-1||(this.itemAt=r)}}]),e}();e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=["LT","H","Ha","H a","H:mm","H:mma","H:mm a"];return i.default.tz(e,n,!0,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.parseTime=a;var s=n(11),i=r(s)},function(e,t){"use strict";var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(function(){e.call(null,(new Date).getTime())},1e3/60)};e.exports=n.bind(window)},function(e,t,n){"use strict";function r(){return{selector:"#bridge-tinymce-text-placeholder",string:a()}}function a(){return'<p id="bridge-tinymce-text-placeholder" class="dark-grey mceNonEditable">\n      '+I18n.t("Add learning content here. You can also add video and images using the toolbar above.")+"\n    </p>"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{leaveS3Signatures:!0,agressivePruning:!1},n=i("<div />").append(e);return n.find(r().selector).remove(),n.find(".mejs-container").each(function(e,t){var n=i(t),r=n.find("[poster]").attr("poster"),a=n.find("[data-attachment-id]").attr("data-attachment-id");n.replaceWith("<img src='"+r+"' data-attachment-id='"+a+"' />")}),n.find("video").each(function(e,t){var n=i(t),r=n.attr("poster"),a=n.attr("data-attachment-id");n.replaceWith("<img src='"+r+"' data-attachment-id='"+a+"' />")}),n.find("audio").each(function(e,t){var n=i(t);n.replaceWith('<div class="black-bg" style="height:1px; width: 30%;"></div>')}),t.leaveS3Signatures===!1&&n.find("img[data-attachment-id]").each(function(e,t){var n=i(t),r=n.attr("src"),a=document.createElement("a");a.href=r,n.attr("src",r.replace(a.search,""))}),t.agressivePruning===!0&&(n.find("img[data-mce-src], iframe[data-mce-src]").removeAttr("data-mce-src"),n.find("*[contenteditable]").removeAttr("contenteditable"),n.find("span.mejs-offscreen").remove()),n.html()}var i=n(47);s.getEditorPlaceholder=r,e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(e,function(e){return n?e.slice(-t.length).indexOf(t)!==-1:e.indexOf(t)!==-1})}function s(e){var t=e.indices,n=e.testString,r=e.contains,a=e.hasWords,s=0;return t.forEach(function(e){if(d(n,e)){var t=n.substring(0,e);if(r(t)){if(!a)return void(s=d(n,e+1)?e:e+1);for(;g.exec(t);)s=g.lastIndex}}}),s}function i(e){var t=e.indices,n=e.testString,r=e.contains,a=e.hasWords,s=void 0;return t.forEach(function(e){if(!s){var t=n.substring(e);if(r(t,!0)&&(s=e,a)){var i=t.match(/\s+/);i&&(s+=i.index)}}}),s}var o=n(139),l=r(o),u=n(554),c=r(u),d=n(3334),p=n(4),f=p.compact,m=p.range,h=p.every,g=/\s+/g;e.exports=function(e){var t=(0,c.default)(e),n=t[0],r=t.slice(1),o=a.bind(null,r),u=h(e,function(e){return e.split(g).length>1}),d=s({indices:m(n.length),testString:n,contains:o,hasWords:u}),p=i({indices:m(d,n.length),testString:n,contains:o,hasWords:u}),v=void 0,_=null,y=n.substring(0,d),b=n.substring(d);return p?(_=n.substring(p),b=n.substring(d,p),v=r.map(function(e){return e.substring(y.length,e.length-_.length)})):v=r.map(function(e){return e.substring(y.length)}),""===y&&(y=null),{prefix:y,suffix:_,diffs:f([b].concat((0,l.default)(v)))}}},function(e,t){"use strict";e.exports=function(e,t){var n="";e+="";for(var r=e.length,a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;null!==a.exec(e);){var s=a.lastIndex;if(!(s-2<t))break;t++}return t>=r||t<0?"":(n+=e.charAt(t),/[\uD800-\uDBFF]/.test(n)&&/[\uDC00-\uDFFF]/.test(e.charAt(t+1))&&(n+=e.charAt(t+1)),n)}},function(e,t){"use strict";e.exports=function(e,t){return e&&e.toUpperCase()!==t?"#"+e:null}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[{value:a.SUPPORT_LEVEL_ADMINS_ONLY,label:I18n.t("Admins Only"),inverse:I18n.t("Authors and Learners")},{value:a.SUPPORT_LEVEL_ADMINS_AUTHORS,label:I18n.t("Admins and Authors"),inverse:I18n.t("Learners")},{value:a.SUPPORT_LEVEL_ALL_USERS,label:I18n.t("All Users"),inverse:I18n.t("No One")}],n={value:a.SUPPORT_LEVEL_NO_ONE,label:I18n.t("No One"),inverse:I18n.t("All Users")};return e?[].concat(t,[n]):t}Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportLevelSettings=r;var a=n(12)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(482),a=n(47),s=n(1).PropTypes.func;e.exports=function(e){var t=e.getNode,i=e.childNodeSelector,o=e.onChange,l=e.onCommit,u=e.isEnabled,c=null,d=function(e){o.call(e,c)},p=function(e,n){return a(t.call(e)).find(i).index(n)};return{propTypes:{question:n(110).isRequired,onSwapAnswers:s.isRequired},getInitialState:function(){return{draggedAnswerId:null}},componentDidMount:function(){r(t.call(this),{items:i,opacity:.9,axis:"y",disabled:!u.call(this),start:this.onDragStart,stop:this.onDragStop,update:this.onDragCommit})},componentDidUpdate:function(){u.call(this)?(r(t.call(this),"enable"),r(t.call(this),"refresh")):r(t.call(this),"disable")},componentWillUnmount:function(){r(t.call(this),"destroy")},onDragStart:function(e,t){var n=p(this,t.item);n>-1&&(c=n,d(this))},onDragStop:function(){c=null,d(this)},onDragCommit:function(e,n){var a={from:c,to:p(this,n.item)};r(t.call(this),"cancel"),l.call(this,a)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){this.shouldAllowTransition()&&e.apply(this,arguments)}}var s=n(9),i=r(s),o=n(1),l=r(o),u=n(23),c=n(28),d=r(c),p=n(326),f=n(93),m=r(f),h=n(1498),g=r(h),v=n(660),_=r(v),y=n(952),b=r(y),E=n(3374),C=r(E),I=n(3375),T=r(I),N=n(661),S=n(1497),x=r(S),A=n(19),k=r(A),w=n(37),R=r(w),O=n(13),P=r(O),L=n(24),M=r(L),D=n(138),U=n(128),F=n(220),q=r(F),B=n(34),j=r(B),H=n(109),G=r(H),W=n(3327),V=r(W),Y=n(147),z=r(Y),K=n(66),Q=r(K),$=n(106),X=r($),J=n(380),Z=r(J),ee=n(314),te=n(20),ne=r(te),re=n(4),ae=n(2),se=ae.string,ie=ae.shape,oe=ae.arrayOf,le=ae.bool,ue=l.default.createClass({displayName:"SlideIndexRouteHandler",mixins:[(0,R.default)({isWideEnoughToEdit:R.default.QUERY_WIDE_ENOUGH_TO_EDIT})],propTypes:{isCourseDirty:le,isLoading:le,course:n(45),slides:oe(n(110)),isBridgeRetainOnboardingPending:le,params:ie({courseId:se,slideId:se}),query:ie({programId:se,returnToCourseList:se})},getInitialState:function(){return{canUseOldEditor:!q.default.shouldUseNewEditor(this.props.slides)}},componentDidMount:function(){this.acquireLock()},componentWillReceiveProps:function(e){V.default.safe(e.slides,this.props.slides)||this.setState({canUseOldEditor:!q.default.shouldUseNewEditor(e.slides)})},componentDidUpdate:function(e){e.params.courseId!==this.props.params.courseId&&(D.LockActions.release({type:"CourseTemplate",id:e.params.courseId}),this.acquireLock()),this.activateFirstSlideIfNecessary()},componentWillUnmount:function(){this.props.params.courseId&&D.LockActions.release({type:"CourseTemplate",id:this.props.params.courseId})},render:function(){var e=this;if(!this.props.course||!this.props.slides)return null;var t=z.default.shouldShowCountdownToast(),n=this.getDisplayableCourseTitle(),r=this.state.media,a=this.props.slides.filter(function(t){return t.id===e.props.params.slideId})[0],s=a&&a.type===U.QUESTION_TYPES.SLIDE,i=(0,d.default)({"cce-content":!0,"white-bg":s,"grey-gradient-bg":!s,"cce-content--free-trial":t});return l.default.createElement("div",{tabIndex:"-1"},r.isWideEnoughToEdit&&this.renderAuthoringPanel(),r.isWideEnoughToEdit&&l.default.createElement("div",null,l.default.createElement(T.default,{activeSlideId:this.props.params.slideId,onAddSlide:this.createNewSlide,onCloneSlide:this.cloneSlide,onRemoveSlide:this.removeSlide,onMoveSlide:this.moveSlide,onActivateSlide:this.activateSlideIfPossible,onAddQuestion:this.createNewQuestion,onAddCoverSlide:this.createCoverSlide,onUpdateCoverSlide:this.updateCoverSlide,slides:this.props.slides,freeTrial:t,courseIsExternal:(0,N.isExternal)(this.props.course)}),l.default.createElement("div",{className:i},l.default.createElement(m.default,this.props))),!r.isWideEnoughToEdit&&l.default.createElement("div",null,l.default.createElement("p",{className:"large centered padding-t-xl padding-rl-xl"},I18n.t("Your device must be wider than 1024px to edit. Please increase the width of your browser or try again on another device.")),l.default.createElement("div",{className:"text-center margin-t-xl"},l.default.createElement("button",{type:"button",className:"btn btn--reset centered block",onClick:this.goBackToCourse},l.default.createElement(M.default,null,l.default.createElement(I18n.ComponentInterpolator,{string:I18n.t("Return to %{course_title} details",{course_title:"%{course_title}"}),course_title:n},"$1"))))))},renderAuthoringPanel:function(){return l.default.createElement(C.default,{course:this.props.course,displayableCourseTitle:this.getDisplayableCourseTitle(),isCourseDirty:this.props.isCourseDirty,onCloneCourse:this.cloneCourse,onGoBackToCourse:this.goBackToCourse,onPreviewCourse:this.previewCourse,onPublishCourse:this.publishCourse,onUpdateCourseTitle:this.updateCourseTitle,onAddQuizQuestion:this.createNewQuestion,onRetainChange:this.updateRetain,bridgeRetainOnboardingPending:this.props.isBridgeRetainOnboardingPending,onRetainDismiss:this.updateBridgeRetainOnboardingPending,params:this.props.params,query:this.props.query,canUseOldEditor:this.state.canUseOldEditor})},acquireLock:function(){var e=this;D.LockActions.acquire({type:"CourseTemplate",id:this.props.params.courseId,showToast:!0}).then(function(){return e.activateFirstSlideIfNecessary()},function(){return P.default.transitionTo("author.course",e.props.params.courseId)})},updateBridgeRetainOnboardingPending:function(){j.default.updateBridgeRetainOnboardingPending()},getDisplayableCourseTitle:function(){var e=this.props.course;return 0===String(e.title||"").length?I18n.t("Course Title"):e.title},activateFirstSlideIfNecessary:function(){!this.props.params.slideId&&!this.props.isLoading&&this.props.slides.length>0&&this.activateSlide(this.props.slides[0].id)},publishCourse:function(){return x.default.publishChangesInCourse(this.props.params.courseId)},goBackToCourse:a(function(){var e=this.props.query.returnToCourseList;e?x.default.goBackToCourses():x.default.goBackToCourse(this.props.params.courseId)}),activateSlide:function(e){(0,u.findDOMNode)(this).focus(),x.default.activateSlide(this.props.params.courseId,e,this.props.query)},activateSlideIfPossible:a(function(e){this.activateSlide(e)}),updateCourseTitle:function(e){x.default.updateCourse(this.props.params.courseId,{title:e})},updateRetain:function(e){x.default.updateCourse(this.props.params.courseId,{retain:e})},cloneCourse:a(function(){x.default.cloneCourse(this.props.params.courseId)}),previewCourse:a(function(){x.default.previewCourse(this.props.params.courseId,this.props.params.slideId)}),createNewQuestion:a(function(){this.createAndActivateSlide(U.QUESTION_TYPES.UNSPECIFIED)}),createNewSlide:a(function(){this.createAndActivateSlide(U.QUESTION_TYPES.SLIDE)}),createCoverSlide:a(function(){var e=this.props.slides.filter(function(e){return e.type===U.QUESTION_TYPES.COVER_SLIDE})[0];e?this.activateSlide(e.id):this.createAndActivateSlide(U.QUESTION_TYPES.COVER_SLIDE)}),createAndActivateSlide:function(e){x.default.createSlide(this.props.params.courseId,e).then(this.activateSlide).catch(function(){(0,k.default)(I18n.t("Error creating slide"),{type:"error"})})},updateCoverSlide:function(e){x.default.updateCoverSlide(this.props.params.courseId,e)},cloneSlide:a(function(){x.default.cloneSlide(this.props.params.courseId,this.props.params.slideId).then(this.activateSlide)}),moveSlide:function(e,t){x.default.moveSlide(this.props.params.courseId,e,t)},removeSlide:a(function(e){var t=this,n=this.props.slides,r=n.filter(function(t){return t.id===e})[0],a=n.some(function(t){return t.type!==U.QUESTION_TYPES.COVER_SLIDE&&t.id!==e}),s=(0,N.getSucceedingItem)(n,r),i=s&&s.id;x.default.removeSlide(this.props.params.courseId,e).then(function(){i&&a?t.activateSlide(i):(0,ne.default)("learn_scorm_cover_slide")&&(0,N.isExternal)(t.props.course)?t.goBackToCourse():t.createAndActivateSlide(U.QUESTION_TYPES.SLIDE)})}),shouldAllowTransition:function(){var e=b.default.getActiveUploads(this.props.params.slideId).some(function(e){return e.id&&!e.attachmentId});return!e||window.confirm(I18n.t("Your media hasn't finished uploading, are you sure you want to leave?"))}}),ce=[(0,re.partialRight)(Z.default,function(e){return!e.isLoading&&e.course&&e.course.brandingOverride}),(0,re.partialRight)(X.default,function(e){return!e.isLoading&&I18n.t("Editing: %{courseTitle}",{courseTitle:(0,ee.getDisplayTitle)(e.course)})})],de=(0,p.PropResolverDecorator)({type:(0,re.flow)(ce)(ue),asyncProps:{course:{fetch:function(e){return g.default.fetch(e.params.courseId).then(null,function(e){console.error(e),(0,k.default)(I18n.t("Course does not exist"),{type:"error"}),P.default.transitionTo("author.courses")})},shouldRefetch:function(e,t){return e.params.courseId!==t.params.courseId},get:function(e){return g.default.get(e.params.courseId)},setup:function(e){g.default.clear(),g.default.addChangeListener(e)},teardown:function(e){g.default.removeChangeListener(e),g.default.clear()}},isCourseDirty:{get:function(e){return g.default.isCourseDirty(e.params.courseId)}},slides:{fetch:function(e){var t=e.params.courseId;return _.default.fetchAll(e.params.courseId,{importerVersion:e.query["importer-version"]}).then(function(){b.default.injectManyPreloadedAttachments(_.default.getAll(t))})},shouldRefetch:function(e,t){return e.params.courseId!==t.params.courseId},get:function(e){return _.default.getAll(e.params.courseId).map(function(e){return e.attachments=b.default.getAttachments(e.id),e})},setup:function(e){_.default.clear(),_.default.addChangeListener(e),b.default.clear(),b.default.addChangeListener(e)},teardown:function(e){b.default.removeChangeListener(e),b.default.clear(),_.default.removeChangeListener(e),_.default.clear()}},isBridgeRetainOnboardingPending:{get:function(){return j.default.isBridgeRetainOnboardingPending()},setup:function(e){G.default.addChangeListener(e)},teardown:function(e){G.default.removeChangeListener(e)}}}}),pe=function(e){return l.default.createClass({displayName:"BatchedChildRenderer("+e.displayName+")",componentWillMount:function(){var e=this;this.batchedReloadChild=(0,Q.default)(function(){e.isMounted()&&e.refs.child&&e.refs.child.forceUpdate()},1)},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.batchedReloadChild=null,this.isMounted=function(){return!1}},render:function(){return l.default.createElement(e,(0,i.default)({},this.props,{ref:"child",onChange:this.batchedReloadChild}))}})};e.exports=pe(de)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s=n(38),i=r(s),o=n(1),l=r(o),u=n(326),c=n(5),d=n(2),p=n(660),f=r(p),m=n(952),h=r(m),g=n(1497),v=r(g),_=n(3397),y=r(_),b=n(3398),E=r(b),C=n(3396),I=r(C),T=n(3393),N=r(T),S=n(3387),x=r(S),A=n(3382),k=r(A),w=n(284),R=n(3383),O=r(R),P=n(3394),L=r(P),M=n(153),D=n(386),U=r(D),F=n(238),q=r(F),B=n(3392),j=r(B),H=n(20),G=r(H),W=c.constants.QUESTION_TYPES,V="course",Y="instructor",z=(a={},(0,i.default)(a,W.COVER_SLIDE,"renderCoverSlideEditor"),(0,i.default)(a,W.FACTOID,"renderFactoidEditor"),(0,i.default)(a,W.MULTIPLE_ANSWER,"renderQuestionEditor"),(0,i.default)(a,W.MULTIPLE_CHOICE,"renderQuestionEditor"),(0,i.default)(a,W.ORDERED_LIST,"renderOrderedListQuestionEditor"),(0,i.default)(a,W.REORDER,"renderQuestionEditor"),(0,i.default)(a,W.SHORT_ANSWER,"renderQuestionEditor"),(0,i.default)(a,W.SLIDE,"renderContentEditor"),(0,i.default)(a,W.VOCABULARY,"renderVocabularyEditor"),a),K=l.default.createClass({displayName:"SlideShowRouteHandler",propTypes:{slide:n(110),attachments:(0,d.arrayOf)(n(33)),uploads:(0,d.arrayOf)(M.MediaUploadSchema),params:(0,d.shape)({courseId:d.string,slideId:d.string})},render:function(){if(!this.props.slide||!this.props.attachments)return(0,G.default)("learn_scorm_cover_slide")?l.default.createElement(j.default,null):null;var e=z[this.props.slide.type]||"renderQuestionTypePicker";return l.default.createElement("div",{"data-capybara":"slide-editor-wrapper"},l.default.createElement(L.default,{slide:this.props.slide},this[e]()),l.default.createElement(O.default,{slide:this.props.slide}))},renderQuestionTypePicker:function(){return l.default.createElement(y.default,{onChange:this.createSlideBoundAction(this.changeType)})},renderCoverSlideEditor:function(){return l.default.createElement(k.default,{slide:this.props.slide,onChange:this.createSlideBoundAction(this.updateCoverSlide)})},renderFactoidEditor:function(){return l.default.createElement(x.default,{question:this.props.slide,onUpdate:this.createSlideBoundAction(this.updateFactoidAttributes),onUpdateAnswer:this.createSlideBoundAction(this.updateAnswer),onUpdateFeedback:this.createSlideBoundAction(this.updateFeedback)})},renderOrderedListQuestionEditor:function(){return l.default.createElement(N.default,{question:this.props.slide,onUpdateTitle:this.createSlideBoundAction(this.updateTitle),onAddAnswer:this.createSlideBoundAction(this.addAnswer),onUpdateAnswer:this.createSlideBoundAction(this.updateAnswer),onRemoveAnswer:this.createSlideBoundAction(this.removeAnswer),onSwapAnswers:this.createSlideBoundAction(this.swapAnswers),onUpdateFeedback:this.createSlideBoundAction(this.updateFeedback)})},renderQuestionEditor:function(){return l.default.createElement(I.default,{question:this.props.slide,courseId:this.props.params.courseId,questionId:this.props.params.slideId,onChangeType:this.createSlideBoundAction(this.changeTypeAndMaybeAnswers),onUpdateTitle:this.createSlideBoundAction(this.updateTitle),onAddAnswer:this.createSlideBoundAction(this.addAnswer),onUpdateAnswer:this.createSlideBoundAction(this.updateAnswer),onRemoveAnswer:this.createSlideBoundAction(this.removeAnswer),onSwapAnswers:this.createSlideBoundAction(this.swapAnswers),onAddImage:this.createSlideBoundAction(this.addImage),onRemoveImage:this.createSlideBoundAction(this.removeImage),onSetImageAlign:this.createSlideBoundAction(this.setImageAlign),onSetImageAltText:this.createSlideBoundAction(this.setImageAltText),onSetStaticOrder:this.createSlideBoundAction(this.setStaticOrder),onUpdateFeedback:this.createSlideBoundAction(this.updateFeedback)})},renderContentEditor:function(){return l.default.createElement(w.ContentEditor,{slide:this.props.slide,attachmentStore:h.default,attachments:this.props.attachments,uploads:this.props.uploads,onTitleChange:this.createSlideBoundAction(this.updateTitle),onContentChange:this.createSlideBoundAction(this.updateContent),onRequestMediaUpload:this.createSlideBoundAction(this.requestMediaUpload),onUploadMedia:this.createSlideBoundAction(this.createAttachment),onCommentingStatusChange:this.createSlideBoundAction(this.updateCommentingStatus),onReloadAttachments:this.createSlideBoundAction(this.reloadAttachments),onFetchLtiResource:this.handleFetchLtiResource,onFetchLtiContent:this.handleFetchLtiContent,customFontsEnabled:(0,G.default)("learn_custom_fonts")})},renderVocabularyEditor:function(){return l.default.createElement(E.default,{question:this.props.slide,onAddAnswer:this.createSlideBoundAction(this.addAnswer),onUpdateAnswer:this.createSlideBoundAction(this.updateAnswer),onUpdateAndAddAnswer:this.createSlideBoundAction(this.updateAndAddAnswer),onRemoveAnswer:this.createSlideBoundAction(this.removeAnswer),onUpdateFeedback:this.createSlideBoundAction(this.updateFeedback)})},handleFetchLtiResource:function(e){var t=this.props.slide.courseTemplate,n={course_id:t};return(0,q.default)("author",e,n)},handleFetchLtiContent:function(e){var t=this.props.slide.courseTemplate;return U.default.fetch(e,V,t,Y)},requestMediaUpload:function(e,t){var n=e.courseId,r=e.slideId;return v.default.requestMediaUpload(n,r,t)},createAttachment:function(e,t){var n=e.courseId,r=e.slideId;return v.default.createAttachment(n,r,t)},reloadAttachments:function(e,t){var n=e.courseId,r=e.slideId;v.default.reloadAttachments(n,r,t)},changeType:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,{type:t})},changeTypeAndMaybeAnswers:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,t)},updateTitle:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,{title:t})},updateCoverSlide:function(e,t){var n=e.courseId;v.default.updateCoverSlide(n,t)},updateContent:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlideContent(n,r,t)},updateFactoidAttributes:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,t)},updateCommentingStatus:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,{allowComments:t})},addAnswer:function(e){var t=e.courseId,n=e.slideId;v.default.addSlideAnswer(t,n)},updateAnswer:function(e,t,n){var r=e.courseId,a=e.slideId;v.default.updateSlideAnswer(r,a,t,n)},updateAndAddAnswer:function(e,t,n){var r=e.courseId,a=e.slideId;v.default.updateAndAddSlideAnswer(r,a,t,n)},swapAnswers:function(e,t){var n=e.courseId,r=e.slideId;v.default.swapSlideAnswers(n,r,t)},removeAnswer:function(e,t){var n=e.courseId,r=e.slideId;v.default.removeSlideAnswer(n,r,t)},addImage:function(e,t){var n=e.courseId,r=e.slideId;v.default.addSlideImage(n,r,t)},removeImage:function(e){var t=e.courseId,n=e.slideId;v.default.removeSlideImage(t,n)},setImageAlign:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,{attachmentAlign:t})},setImageAltText:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,{attachmentAltText:t})},setStaticOrder:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,{staticOrder:t})},updateFeedback:function(e,t){var n=e.courseId,r=e.slideId;v.default.updateSlide(n,r,{feedback:t})},createSlideBoundAction:function(e){return e.bind(null,this.props.params)}}),Q=!1;e.exports=(0,u.PropResolverDecorator)({type:K,asyncProps:{slide:{fetch:function(e){var t=e.params,n=t.courseId,r=t.slideId;return f.default.fetch(n,r,{importerVersion:e.query["importer-version"]}).then(function(){var e=f.default.get(r);e.attachments&&h.default.injectPreloadedAttachments(r,e.attachments)}).finally(function(){Q=!0})},shouldRefetch:function(e,t){return e.params!==t.params},get:function(e){return Q?f.default.get(e.params.slideId):null}},attachments:{get:function(e){return h.default.getAttachments(e.params.slideId)}},uploads:{get:function(e){return h.default.getActiveUploads(e.params.slideId)}}}})},function(e,t,n){"use strict";var r=n(1),a=n(18),s=n(5),i=s.Icon,o=n(27),l=n(6),u=n(2),c=u.bool,d=u.func,p=u.string,f=r.createClass({displayName:"AlignmentButton",propTypes:{alignment:p,description:p,selected:c,onClick:d},render:function(){var e=this.props,t=e.alignment,n=e.description,s=e.selected;return r.createElement(a,{onClick:this.onClick,className:"btn--reset question-editor__image-editor__popup__button"},r.createElement(i,{className:l("gs-2x","gs-place-"+t,s?"blue":"white")}),r.createElement(o,null,n))},onClick:function(){this.props.onClick(this.props.alignment)}});e.exports=f},function(e,t,n){"use strict";var r=n(1),a=n(3372),s=n(2),i=s.func,o=s.string,l=r.createClass({displayName:"AlignmentButtons",propTypes:{align:o,onSetImageAlign:i,onKeepFocus:i},getDefaultProps:function(){return{onSetImageAlign:Function.prototype}},render:function(){var e=this,t={top:I18n.t("Align to Top"),left:I18n.t("Align to Left"),wide:I18n.t("Align Wide"),bottom:I18n.t("Align to Bottom")};return r.createElement("span",{className:"alignment-buttons"},Object.keys(t).map(function(n){return e.renderAlignButton(n,t[n])}))},renderAlignButton:function(e,t){var n=e===(this.props.align||"top");return r.createElement(a,{key:e,alignment:e,description:t,selected:n,onClick:this.props.onSetImageAlign})}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(28),u=r(l),c=n(31),d=r(c),p=n(360),f=r(p),m=n(1366),h=r(m),g=n(69),v=r(g),_=n(13),y=r(_),b=n(299),E=r(b),C=n(5),I=n(82),T=r(I),N=n(24),S=r(N),x=n(116),A=r(x),k=n(29),w=r(k),R=n(20),O=r(R),P=n(661);t.default=o.default.createClass({displayName:"AuthoringPanel",propTypes:{canUseOldEditor:s.default.bool,course:n(45),displayableCourseTitle:s.default.string,isCourseDirty:s.default.bool,bridgeRetainOnboardingPending:s.default.bool,onCloneCourse:s.default.func,onGoBackToCourse:s.default.func,onPreviewCourse:s.default.func,onPublishCourse:s.default.func,onUpdateCourseTitle:s.default.func,onAddQuizQuestion:s.default.func,onRetainChange:s.default.func,onRetainDismiss:s.default.func,params:s.default.shape({courseId:s.default.string,slideId:s.default.string}),query:s.default.shape({programId:s.default.string})},render:function(){var e=this.props.course,t=this.props.query.programId;return o.default.createElement("div",null,o.default.createElement(A.default,null),o.default.createElement("div",{className:"cce-banner white padding-t-s padding-l-m border-none"},t&&o.default.createElement(y.default,{to:"react.author.program.edit",params:[{programId:t}],className:"cce-banner__back-button"},o.default.createElement(C.Icon,{className:"gs-arrow-left white"}),o.default.createElement(S.default,null,I18n.t("Back"))),o.default.createElement("div",{className:"cce-banner__title large"},o.default.createElement(v.default,{value:e.title,placeholder:I18n.t("Course Title"),onChange:this.props.onUpdateCourseTitle,inputClassName:"cce-banner__title-input",maxLength:"255"},o.default.createElement("span",{"data-test":!0},this.props.displayableCourseTitle))),o.default.createElement("span",{className:(0,u.default)({"cce-banner__save-status":!0,"cce-banner__save-status--disconnected":!this.isConnected(),"cce-banner__save-status--error":this.hasSavingError()}),"data-capybara":"save-status"},this.hasSavingError()&&o.default.createElement("i",{"aria-hidden":"true",className:"gs-caution gs-1x"}),this.getSavingStatusText()),o.default.createElement(T.default,{className:"cce-banner__menu-button padding-rl-xs",buttonClassName:"btn--reset",label:I18n.t("Close"),onClick:this.props.onGoBackToCourse,icon:"x",iconClassName:"gs-half white gs-min-width"}),o.default.createElement("span",{className:"right margin-t-xxs cce-banner__action-buttons"},this.props.canUseOldEditor&&o.default.createElement(y.default,{to:"author.courses.slide",params:[{course_id:this.props.params.courseId},{id:this.props.params.slideId}],queryParams:this.props.query,children:I18n.t("Switch to Old Editor"),className:"btn dark secondary margin-rl-xxs"}),this.canEnableRetain()&&o.default.createElement(h.default,{className:"btn btn--round dark secondary margin-rl-xxs",hasQuizzes:!!e.quizzesCount,retain:e.retain,bridgeRetainOnboardingPending:this.props.bridgeRetainOnboardingPending,onAddClick:this.props.onAddQuizQuestion,onRetainChange:this.props.onRetainChange,onOverlayClose:this.props.onRetainDismiss}),this.canPreview()&&o.default.createElement(E.default,{dark:!0,buttonClassName:"btn--round-with-icon-medium margin-rl-xxs",onClick:this.props.onPreviewCourse}),this.canClone()&&o.default.createElement(f.default,{onClick:this.props.onCloneCourse,buttonClassName:"btn btn--round dark secondary margin-rl-xxs"}),(0,w.default)("course_template_publish",this.props.course)&&o.default.createElement("button",{type:"button",className:"btn dark secondary margin-rl-xxs",disabled:!this.isCourseDirty(),onClick:this.props.onPublishCourse},I18n.t("Publish Course")))))},getSavingStatusText:function(){return this.isConnected()?this.isCourseBeingPublished()?I18n.t("Publishing..."):this.isSlideBeingSaved()||this.isCourseBeingSaved()?I18n.t("Saving..."):this.isCourseDirty()?this.hasSavingError()?I18n.t("Oops... unable to save. Contact support for help."):I18n.t("Changes saved but not published"):I18n.t("All changes saved and published"):I18n.t("No connection, not saving")},isConnected:function(){return!0},isCourseBeingPublished:function(){return!1},isCourseBeingSaved:function(){return!1},isCourseDirty:function(){return this.props.isCourseDirty},isSlideBeingSaved:function(){return!1},hasSavingError:function(){return!1},canEnableRetain:function(){return(0,O.default)("learn_scorm_cover_slide")?!(0,P.isExternal)(this.props.course)&&d.default.get("DOMAIN.notifications")&&d.default.get("DOMAIN.config.bridge_retain"):d.default.get("DOMAIN.notifications")&&d.default.get("DOMAIN.config.bridge_retain")},canPreview:function(){return!(0,O.default)("learn_scorm_cover_slide")||!(0,P.isExternal)(this.props.course)},canClone:function(){return(0,O.default)("learn_scorm_cover_slide")?!(0,P.isExternal)(this.props.course)&&(0,w.default)("course_template_clone"):(0,w.default)("course_template_clone")}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),s=r(a),i=n(1),o=r(i),l=n(28),u=r(l),c=n(767),d=r(c),p=n(3380),f=r(p),m=n(3377),h=r(m),g=n(2),v=n(128),_=n(20),y=r(_),b=o.default.createClass({displayName:"AuthoringSidebar",
propTypes:{slides:(0,g.arrayOf)(n(110)).isRequired,activeSlideId:g.string,onAddSlide:g.func.isRequired,onCloneSlide:g.func.isRequired,onRemoveSlide:g.func.isRequired,onMoveSlide:g.func.isRequired,onActivateSlide:g.func.isRequired,freeTrial:g.bool,onAddQuestion:g.func.isRequired,onAddCoverSlide:g.func.isRequired,onUpdateCoverSlide:g.func.isRequired,courseIsExternal:g.bool},getInitialState:function(){return{showCoverSettings:!1}},render:function(){var e=(0,u.default)({"cce-sidebar grey-gradient-bg":!0,"cce-sidebar--free-trial":this.props.freeTrial});return o.default.createElement("div",{className:e},this.shouldRenderCoverSlideSettings()?this.renderCoverSlideSettings():this.renderAuthoringSidebar())},renderAuthoringSidebar:function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"cce-sidebar__actions padding-rl-s padding-t-xs","data-capybara":"authoring-sidebar__actions"},o.default.createElement("div",{className:"btn-split left margin-tr-xxs"},o.default.createElement("button",{type:"button",className:"btn filled btn-split__left",onClick:this.props.onAddSlide},I18n.t("Add Content")),o.default.createElement(d.default,{items:this.getAlternateItemTypes(),text:I18n.t("Select item type"),onClickItem:this.emitAdditionOfItem,className:"filled btn-split__right",iconClassName:"gs-arrow-down gs-1x"})),o.default.createElement(d.default,{items:this.getSlideActions(),text:I18n.t("Slide actions"),onClickItem:this.emitSlideAction,className:"btn--round secondary right margin-t-xxs",iconClassName:"gs-more-dots",dataCapybara:"actions-slide"})),o.default.createElement("div",{className:"cce-sidebar__content"},o.default.createElement(f.default,{activeSlideId:this.props.activeSlideId,slides:this.props.slides,onActivate:this.props.onActivateSlide,onMove:this.props.onMoveSlide,onShowSettings:this.showCoverSlideSettings})))},renderCoverSlideSettings:function(){var e=this.getCoverSlide();return e&&e.coverSlideData?o.default.createElement(h.default,{coverData:e.coverSlideData,onBack:this.hideCoverSlideSettings,onUpdateCoverSlide:this.props.onUpdateCoverSlide,courseIsExternal:this.props.courseIsExternal,onRemove:this.removeCoverSlide}):null},removeCoverSlide:function(){this.props.onRemoveSlide(this.props.activeSlideId),this.hideCoverSlideSettings()},emitAdditionOfItem:function(e){switch(e){case"question":this.props.onAddQuestion();break;case"cover":this.props.onAddCoverSlide()}},showCoverSlideSettings:function(){this.setState({showCoverSettings:!0})},hideCoverSlideSettings:function(){this.setState({showCoverSettings:!1})},getSelectedSlideAndIndex:function(){var e=this.props.activeSlideId,t=void 0,n=-1;return this.props.slides.forEach(function(r,a){r.id===e&&(t=r,n=a)}),[t,n]},hasCoverSlide:function(){return Boolean(this.getCoverSlide())},getCoverSlide:function(){return this.props.slides.filter(function(e){return e.type===v.QUESTION_TYPES.COVER_SLIDE})[0]},getSlideActions:function(){var e=this.getSelectedSlideAndIndex(),t=(0,s.default)(e,2),n=t[0],r=t[1];if(!n)return[];var a=[{id:"remove",text:I18n.t("Delete"),icon:"gs-trash"}];return"cover"!==n.type&&(a.unshift({id:"clone",text:I18n.t("Duplicate"),icon:"gs-duplicate"}),r>(this.hasCoverSlide()?1:0)&&a.push({id:"moveup",text:I18n.t("Move Up"),icon:"gs-moveup"}),r<this.props.slides.length-1&&a.push({id:"movedown",text:I18n.t("Move Down"),icon:"gs-movedown"})),a},getAlternateItemTypes:function(){var e=[{id:"question",text:I18n.t("Add Question"),icon:"gs-quiz-question"},{id:"cover",text:I18n.t("Add Cover Slide"),icon:"gs-image"}];return e},emitSlideAction:function(e){"remove"===e?this.props.onRemoveSlide(this.props.activeSlideId):"clone"===e?this.props.onCloneSlide(this.props.activeSlideId):"moveup"===e?this.emitChangeOfActiveSlidePosition(-1):"movedown"===e&&this.emitChangeOfActiveSlidePosition(1)},emitChangeOfActiveSlidePosition:function(e){var t=this,n=this.props.slides.filter(function(e){return e.id===t.props.activeSlideId})[0];this.props.onMoveSlide(this.props.activeSlideId,n.position+e)},shouldRenderCoverSlideSettings:function(){return(0,y.default)("learn_scorm_cover_slide")?this.state.showCoverSettings||this.props.courseIsExternal:this.state.showCoverSettings}});e.exports=b},function(e,t,n){"use strict";var r=n(1),a=n(6),s=n(5),i=s.Icon,o=n(2),l=o.bool,u=o.func,c=r.createClass({displayName:"CoverSlidePreview",propTypes:{isActive:l,onActivate:u,onShowSettings:u,slide:n(110)},render:function(){var e=a("cover-slide-preview",{"cover-slide-preview--selected":this.props.isActive});return r.createElement("div",{onClick:this.props.onActivate,"aria-roledescription":"link",className:"border-b border-med-grey padding-xs"},r.createElement("div",{className:e},r.createElement("div",{className:"cover-slide-preview__actions"},r.createElement("a",{onClick:this.props.onShowSettings},r.createElement(i,{className:"gs-gear gs-1x blue-grey"}))),I18n.t("Cover Slide")))}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e?"#"+e.toUpperCase():null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),i=r(s),o=n(55),l=r(o),u=n(24),c=r(u),d=n(590),p=r(d),f=n(365),m=r(f),h=n(62),g=r(h),v=n(64),_=r(v),y=n(60),b=r(y),E=n(3378),C=r(E),I=n(325),T=r(I),N=n(48),S=n(117),x=r(S),A=n(2),k=n(20),w=r(k),R=n(5),O=n(88),P=r(O),L=n(18),M=r(L),D=i.default.createClass({displayName:"CoverSlideSettings",mixins:[P.default.mixin],propTypes:{onBack:A.func,onUpdateCoverSlide:A.func,coverData:A.object,courseIsExternal:A.bool,onRemove:A.func.isRequired},render:function(){var e=(0,T.default)(this.props.coverData.dark?N.INDIGO:N.WHITE),t=(0,T.default)(g.default.getPublishedColor()),n=g.default.getBranding(),r=n.primary_logo_url,a=n.reverse_logo_url,s=[{label:I18n.t("Fill Screen"),value:"fill"},{label:I18n.t("Fit to Screen"),value:"fit"},{label:I18n.t("Stretch to Fill"),value:"stretch"},{label:I18n.t("Center"),value:"center"},{label:I18n.t("Tile"),value:"tile"}],o=this.props.coverData,u=o.primaryColor,d=o.backgroundColor,f=o.backgroundImageOpacity,h=o.backgroundImageStyle;return d=(0,T.default)(d),u=(0,T.default)(u),"number"!=typeof f&&(f=1),i.default.createElement("div",null,this.shouldRenderBackButton()&&i.default.createElement("div",{className:"border-b border-med-grey padding-trbl-s margin-b-s bold dark-grey cce-cover-slide-settings__back-button"},i.default.createElement("button",{type:"button",onClick:this.props.onBack},i.default.createElement("i",{className:"gs-arrow-left gs-3-4 margin-r-xs"}),I18n.t("Back"))),i.default.createElement("div",{className:"margin-rl-s margin-t-m margin-b-xxs"},i.default.createElement("div",{className:"margin-b-m"},i.default.createElement(c.default,null,I18n.t("Dark Mode")),i.default.createElement("span",{className:"right"},i.default.createElement(l.default,{checked:this.props.coverData.dark,onChange:this.toggleDarkMode})),i.default.createElement("p",{className:"dark-grey x-small padding-t-xs"},I18n.t("Switch text and logo out to function on a dark background"))),i.default.createElement("div",{className:"margin-b-m"},i.default.createElement(c.default,null,I18n.t("Background")),i.default.createElement(p.default,{value:d,defaultValue:e,onChange:this.updateBackgroundColor})),i.default.createElement("div",null,i.default.createElement(c.default,null,I18n.t("Primary")),i.default.createElement(p.default,{value:u,defaultValue:t,onChange:this.updatePrimaryColor}))),i.default.createElement("div",{className:"text-center border-b border-med-grey padding-tb-m"},i.default.createElement("a",{onClick:this.resetColors,className:"bold small upcase"},I18n.t("Reset to default"))),this.props.coverData.backgroundImageUrl&&i.default.createElement(_.default,{className:"cover-slide-settings__combo-box  right",onChange:this.updateBackgroundImageStyle,selectedValue:h||"fill",children:s.map(function(e){return i.default.createElement(b.default,{key:e.value,value:e.value,label:e.label})})}),i.default.createElement(m.default,{name:I18n.t("Image"),url:this.props.coverData.backgroundImageUrl,description:I18n.t("This will be applied as a background image"),onChange:this.updateBackgroundImageUrl,onUploadFile:this.uploadFile,onChangeOpacity:this.updateBackgroundImageOpacity,opacity:f}),i.default.createElement("div",{className:"margin-rl-s"},i.default.createElement(C.default,{primaryLogoUrl:r,reverseLogoUrl:a,showReverse:this.props.coverData.dark})),(0,w.default)("learn_scorm_cover_slide")&&this.renderDelete())},renderDelete:function(){return this.isConfirmingRemoval()?this.renderDeleteConfirmation():this.renderDeleteButton()},renderDeleteConfirmation:function(){return i.default.createElement("div",{className:"cover-slide-settings__removal-confirmation"},i.default.createElement("div",{className:"cover-slide-settings__removal-confirmation__message"},I18n.t("Delete Cover Slide?")),i.default.createElement("div",{className:"cover-slide-settings__removal-confirmation__buttons"},i.default.createElement(M.default,{className:"cancel-btn",onClick:this.cancelRemoval,children:I18n.t("Cancel")}),i.default.createElement(M.default,{className:"confirm-btn",onClick:this.remove,children:I18n.t("Delete")})))},renderDeleteButton:function(){return i.default.createElement("div",{className:"cover-slide-settings__removal"},i.default.createElement("a",{onClick:this.confirmRemoval,className:"bold small upcase","data-capybara":"delete-cover-slide"},i.default.createElement(R.Icon,{className:"gs-trash gs-1x"})," ",I18n.t("Delete Cover Slide")))},toggleDarkMode:function(){this.props.onUpdateCoverSlide({dark:!this.props.coverData.dark})},updateBackgroundColor:function(e){this.props.onUpdateCoverSlide({backgroundColor:a(e)})},updatePrimaryColor:function(e){this.props.onUpdateCoverSlide({primaryColor:a(e)})},resetColors:function(){this.props.onUpdateCoverSlide({dark:!1,backgroundColor:null,primaryColor:null})},updateBackgroundImageUrl:function(e){var t=e&&e.location&&e.location.length>0&&e.location||null;this.props.onUpdateCoverSlide({backgroundImageUrl:t})},uploadFile:function(e){var t=(0,x.default)(e,{public:!0});return t.upload()},updateBackgroundImageOpacity:function(e){this.props.onUpdateCoverSlide({backgroundImageOpacity:e})},updateBackgroundImageStyle:function(e){this.props.onUpdateCoverSlide({backgroundImageStyle:e})},shouldRenderBackButton:function(){return!(0,w.default)("learn_scorm_cover_slide")||!this.props.courseIsExternal}});t.default=D,e.exports=t.default},function(e,t,n){"use strict";var r=n(1),a=n(13),s=n(6),i=n(24),o=n(26),l=n(2),u=l.bool,c=l.string,d=r.createClass({displayName:"LogoPreview",propTypes:{primaryLogoUrl:c,reverseLogoUrl:c,showReverse:u},render:function(){var e=this.props.showReverse?this.props.reverseLogoUrl:this.props.primaryLogoUrl,t=this.props.showReverse?o.t("Reverse Logo"):o.t("Primary Logo"),n=o.t("Appears on a dark background"),l=o.t("Appears on a light background"),u=this.props.showReverse?n:l,c=s({"logo-preview":!0,"border-t":!0,"border-med-grey":!0,"margin-tb-xs":!0,"padding-tb-xs":!0,"indigo-bg":this.props.showReverse,"grey-bg":!this.props.showReverse});return r.createElement("div",{className:"margin-tb-m"},e?r.createElement("div",null,t,r.createElement("div",{className:c},r.createElement("img",{src:e,className:"logo-preview__image"})),r.createElement(i,{className:"x-small dark-grey"},r.createElement(o.ComponentInterpolator,{string:o.t("%{help_text} (Supports PNG and SVG) Make changes to this logo in * Content Branding*",{help_text:"%{help_text}"}),wrappers:{"*":r.createElement(a,{to:"admin.branding.edit"},"$1")},help_text:u},"$1"))):r.createElement("div",null,r.createElement(i,null,o.t("Logo")),r.createElement("p",{className:"dark-grey x-small margin-t-xs"},r.createElement(i,null,r.createElement(o.ComponentInterpolator,{string:o.t("Want your logo on the cover slide? Add it in our * Content Branding* tool."),wrappers:{"*":r.createElement(a,{to:"admin.branding.edit"},"$1")}},"$1")))))}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s=n(38),i=r(s),o=n(1),l=n(6),u=n(128),c=u.QUESTION_TYPES,d=n(2),p=d.bool,f=d.string,m=(a={},(0,i.default)(a,c.VOCABULARY,"gs-glossary"),(0,i.default)(a,c.ORDERED_LIST,"gs-ol4"),(0,i.default)(a,c.FACTOID,"gs-lightbulb"),(0,i.default)(a,c.SHORT_ANSWER,"gs-help"),a),h=o.createClass({displayName:"EnrichedSlideEmblem",propTypes:{displayInvalid:p,slideType:f},render:function(){var e=m[this.props.slideType];return o.createElement("div",{"aria-hidden":"true",className:l(e,{"slide-template-preview__enrichment-icon":!0,hidden:this.props.displayInvalid})})}});e.exports=h},function(e,t,n){"use strict";function r(e){function t(t,n){i=e.getItemFromDOMNode(u(n.item)[0])}function n(t,n){if(i){var o=s.find(a.elementSelector).index(u(n.item));c(s,"cancel");var l=e.getItemFromDOMNode(s.find(a.elementSelector).eq(o)[0]);r(i,o,l),i=null}}var r=e.onChange,a=p({sortOpacity:.9,sortAxis:"y"},e),s=void 0,i=void 0;return{setup:function(e){s=u(e),c(s,{items:a.elementSelector,opacity:a.sortOpacity,axis:a.sortAxis,handle:a.handleSelector,start:t,update:n})},teardown:function(){l(!!s,"You are attempting to teardown the Slide UI Sorter but it had not been setup yet!"),c(s,"destroy")}}}var a=n(1),s=n(23),i=n(1501),o=n(3376),l=n(41),u=n(47),c=n(482),d=n(4),p=d.assign,f=n(2),m=f.func,h=f.arrayOf,g=f.string,v=n(891),_=n(128),y=_.QUESTION_TYPES,b=a.createClass({displayName:"SlidePreviewList",propTypes:{onActivate:m.isRequired,onMove:m.isRequired,slides:h(n(110)),activeSlideId:g,onShowSettings:m},componentDidMount:function(){var e=this;this.sorter=r({handleSelector:".slide-template-preview__content",elementSelector:"li.slide-template-preview",getItemFromDOMNode:function(t){return e.props.slides.filter(function(n){return s.findDOMNode(e.refs["slidePreview--"+n.id])===t})[0]},onChange:function(t,n,r){e.props.onMove(t.id,r.position)}}),this.sorter.setup(s.findDOMNode(this.refs.sortableContainer)),this.scrollActiveSlideIntoView()},componentDidUpdate:function(e){this.props.activeSlideId!==e.activeSlideId&&this.scrollActiveSlideIntoView()},componentWillUnmount:function(){this.sorter.teardown(),this.sorter=null},render:function(){var e=this.props.slides.filter(function(e){return e.type!==y.COVER_SLIDE}),t=this.props.slides.filter(function(e){return e.type===y.COVER_SLIDE})[0];return a.createElement("div",null,t&&a.createElement(o,{ref:"slidePreview--"+t.id,slide:t,isActive:this.props.activeSlideId===t.id,onActivate:this.props.onActivate.bind(null,t.id),onShowSettings:this.props.onShowSettings}),a.createElement("ol",{ref:"sortableContainer",className:"slide-template-preview-list",role:"navigation",children:e.map(this.renderSlide)}))},renderSlide:function(e){var t=e.id;return a.createElement(i,{key:t,ref:"slidePreview--"+t,slide:e,isActive:this.props.activeSlideId===t,onActivate:this.props.onActivate.bind(null,t)})},scrollActiveSlideIntoView:function(){var e=this.props.activeSlideId,t=e&&s.findDOMNode(this.refs["slidePreview--"+e]);t&&(document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),t.focus(),v(t,s.findDOMNode(this).parentNode))}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(20),s=r(a),i=n(1),o=n(6),l=n(5),u=l.Icon,c=l.AttachmentIcon,d=n(2),p=d.object,f=d.oneOf,m=["audio","image","video","external","external-image","external-video","lti","embedly","inline"],h=i.createClass({displayName:"MediaThumbnail",propTypes:{type:f(m),attachment:n(33),externalData:p},render:function(){var e=this.props,t=e.type,n=e.attachment,r=e.externalData;return"image"===t&&n&&n.location?i.createElement("div",{"data-capybara":"media_thumbnail_image",className:o({"slide-template-preview__placeholder":!0,"slide-template-preview__placeholder--image":!0})},i.createElement("img",{src:n.location})):"audio"===t&&n&&n.media?i.createElement("div",{className:o({"slide-template-preview__placeholder":!0,"slide-template-preview__placeholder--audio":!0})},i.createElement("div",{className:"black-bg"})):"video"===t&&n&&n.media&&n.media.links?i.createElement("div",{className:o({"slide-template-preview__placeholder":!0,"slide-template-preview__placeholder--video":!0})},i.createElement("img",{src:n.media.links.thumbnailUrl+"?width=120&height=30"})):"lti"!==t&&"external"!==t&&"external-image"!==t&&"external-video"!==t||!r.thumb?"embedly"===t?i.createElement("div",{className:o({"slide-template-preview__placeholder":!0,"slide-template-preview__placeholder--embedly":!0})},i.createElement("img",{src:"/images/embedly.png"})):(0,s.default)("inline_attachments")&&n&&"inline"===t?i.createElement(c,{mimeType:n.contentType,className:"slide-template-preview__placeholder",sizeClass:"gs-6x"}):i.createElement("div",{className:o({"slide-template-preview__placeholder":!0,"slide-template-preview__placeholder--invalid":!0})},i.createElement(u,{className:"gs-caution"})):i.createElement("div",{"data-capybara":"media_thumbnail_image_external",className:o({"slide-template-preview__placeholder":!0,"slide-template-preview__placeholder--external":!0})},i.createElement("img",{src:r.thumb}))}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(38),s=r(a),i=n(9),o=r(i),l=n(1),u=n(593),c=n(188),d=n(128),p=n(4),f=p.debounce,m=n(2),h=m.func,g=l.createClass({displayName:"CoverSlideEditor",statics:{getDebounceFrequency:function(){return d.COVER_SLIDE_EDITOR_DEBOUNCE_MS}},propTypes:{slide:n(110).isRequired,onChange:h.isRequired},componentWillMount:function(){this.debouncedEmitChangeOfHeading=this.createChangeEmitter("heading"),this.debouncedEmitChangeOfIntro=this.createChangeEmitter("intro")},componentWillUnmount:function(){this.debouncedEmitChangeOfIntro=null,this.debouncedEmitChangeOfHeading=null},render:function(){return l.createElement("div",{className:"cce-cover-slide-editor"},this.renderContent())},renderContent:function(){var e=this.props.slide.coverSlideData,t=e.heading,n=e.intro;return l.createElement(u,(0,o.default)({},this.props.slide.coverSlideData,{showExitLink:!1,fullViewport:!1,heading:l.createElement(c,{className:"block full-width",onChange:this.debouncedEmitChangeOfHeading,defaultValue:t,placeholder:I18n.t("Enter a Headline Statement")}),intro:l.createElement(c,{className:"block full-width",onChange:this.debouncedEmitChangeOfIntro,defaultValue:n,placeholder:I18n.t("Enter a course intro statement")}),isBeingEdited:!0}))},createChangeEmitter:function(e){var t=f(this.emitChange,this.constructor.getDebounceFrequency());return function(n){t((0,s.default)({},e,n.target.value))}},emitChange:function(e){this.props.onChange(e)}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a,s=n(38),i=r(s),o=n(1),l=r(o),u=n(18),c=r(u),d=n(5),p=n(78),f=r(p),m=n(27),h=r(m),g=n(128),v=n(220),_=r(v),y=n(3384),b=r(y),E=n(3385),C=r(E),I=n(3386),T=r(I),N=n(47),S=r(N),x=(a={},(0,i.default)(a,g.QUESTION_TYPES.FACTOID,b.default),(0,i.default)(a,g.QUESTION_TYPES.ORDERED_LIST,C.default),(0,i.default)(a,g.QUESTION_TYPES.VOCABULARY,T.default),a),A="layout--dialog--app-wrap-dialog-is-open",k=l.default.createClass({displayName:"EnrichedSlideTutorial",propTypes:{slide:n(110).isRequired},getInitialState:function(){return{showingModal:!1}},componentWillReceiveProps:function(e){e.slide&&this.props.slide&&this.props.slide.id===e.slide.id&&this.props.slide.type===g.QUESTION_TYPES.UNSPECIFIED&&_.default.isEnriched(e.slide.type)&&this.setState({showingModal:!0})},componentWillUpdate:function(e,t){(0,S.default)(".layout--dialog--app-wrap").toggleClass(A,t.showingModal)},componentWillUnmount:function(){(0,S.default)(".layout--dialog--app-wrap").removeClass(A)},render:function(){var e=this.props.slide.type;if(!_.default.isEnriched(e))return null;var t=x[e];return l.default.createElement("div",null,l.default.createElement(f.default,{contentLabel:"",isOpen:this.state.showingModal,onRequestClose:this.hideModal,overlayClassName:"layout--dialog",className:" layout--dialog__content layout--dialog__content--constrained padding-rl-l "},l.default.createElement("div",null,l.default.createElement(c.default,{className:"layout--dialog__close-button",onClick:this.hideModal},l.default.createElement(d.Icon,{className:"gs-x gs-1x dark-grey"}),l.default.createElement(h.default,null,I18n.t("Close"))),l.default.createElement(t,null),l.default.createElement("div",{className:"text-center padding-tb-m"},l.default.createElement(c.default,{className:"btn filled",onClick:this.hideModal},I18n.t("Got it"))))),l.default.createElement(c.default,{className:"btn alert btn--round layout--dialog__trigger",onClick:this.showModal},l.default.createElement(d.Icon,{className:"gs-help"}),l.default.createElement(h.default,null,I18n.t("Help"))))},showModal:function(){this.state.showingModal||this.setState({showingModal:!0})},hideModal:function(){this.state.showingModal&&this.setState({showingModal:!1})}});e.exports=k},function(e,t,n){"use strict";var r=n(1),a=n(24),s=r.createClass({displayName:"EnrichedSlideTutorial__Factoid",render:function(){return r.createElement("div",null,r.createElement("h2",{className:"medium"},r.createElement(a,null,I18n.t("A Factoid"))),r.createElement("h3",{className:"margin-b-s margin-t-xxl"},r.createElement(a,null,I18n.t("Type a factual statement"))),r.createElement("img",{src:"/images/factoid_1.png",alt:I18n.t('typing "Jupiter is the largest planet in the solar system" in the factual statement field')}),r.createElement("h3",{className:"margin-b-s margin-t-xxl"},r.createElement(a,null,I18n.t("Click on any word box that we generated and add a distractor word to make the statement false"))),r.createElement("img",{src:"/images/factoid_2.png",alt:I18n.t('adding "Neptune" and "Uranus" distractors on the word "Jupiter" in the distractor creation interface')}),r.createElement("h3",{className:"margin-b-xs margin-t-xxl"},r.createElement(a,null,I18n.t("Bridge generates a bank of sorting and multiple choice questions"))),r.createElement("p",{className:"margin-b-s"},r.createElement(a,null,I18n.t("When your learner takes a quiz, Bridge will randomly pull a question for each learner in one of the following forms:"))),r.createElement("img",{src:"/images/factoid_4.png","aria-hidden":"true",alt:I18n.t("the learner interface for a factoid question")}),r.createElement("div",{className:"screenreader-only"},r.createElement("ul",null,r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("Neptune is the largest planet in the solar system, True or False?")))),r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("Which of the following is the largest planet in the solar system?")))),r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("________ is the largest planet in the solar system?")))))),r.createElement("h3",{className:"margin-b-s margin-t-xxl"},r.createElement(a,null,I18n.t("For greater flexibility, click on the plus to merge two boxes together"))),r.createElement("img",{src:"/images/factoid_3.png",alt:I18n.t('joining "Solar" and "System" as one term and adding "Galaxy" and "Universe" distractors')}))}});e.exports=s},function(e,t,n){"use strict";var r=n(1),a=n(24),s=r.createClass({displayName:"EnrichedSlideTutorial__OrderedList",render:function(){return r.createElement("div",null,r.createElement("h2",{className:"medium"},r.createElement(a,null,I18n.t("Steps in a Process"))),r.createElement("h3",{className:"margin-b-s margin-t-xxl"},r.createElement(a,null,I18n.t("Fill in your sorting question"))),r.createElement("img",{src:"/images/steps_in_process_1.png",alt:I18n.t('typing "Formulate a hypothesis" in the list item field')}),r.createElement("h3",{className:"margin-b-s margin-t-xxl"},r.createElement(a,null,I18n.t("Tell us a little more about each step in the process"))),r.createElement("img",{src:"/images/steps_in_process_2.png",alt:I18n.t('typing "The step where I come up with a possible explanation to my question" in the add more detail for item field')}),r.createElement("h3",{className:"margin-b-xs margin-t-xxl"},r.createElement(a,null,I18n.t("Bridge generates a bank of sorting and multiple choice questions"))),r.createElement("p",{className:"margin-b-s"},r.createElement(a,null,I18n.t("When your learner takes a quiz, Bridge will randomly pull a question for each learner in one of the following forms:"))),r.createElement("img",{src:"/images/steps_in_process_3.png","aria-hidden":"true",alt:I18n.t("the learner interface for a factoid question")}),r.createElement("div",{className:"screenreader-only"},r.createElement("ul",null,r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("Choose the best match for the following:"))),r.createElement("p",null,r.createElement(a,null,I18n.t("Formulate a hypothesis")))),r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("Choose the best match for the following:"))),r.createElement("p",null,r.createElement(a,null,I18n.t("The step where I come up with a possible explanation to my question")))),r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("Put the following in the correct order:")))))))}});e.exports=s},function(e,t,n){"use strict";var r=n(1),a=n(24),s=r.createClass({displayName:"EnrichedSlideTutorial__Vocabulary",render:function(){return r.createElement("div",null,r.createElement("h2",{className:"medium"},r.createElement(a,null,I18n.t("Vocabulary"))),r.createElement("h3",{className:"margin-b-s margin-t-xxl"},r.createElement(a,null,I18n.t("Type in a vocabulary term"))),r.createElement("img",{src:"/images/vocabulary_1.png",alt:I18n.t('typing "Amenable" in the vocabulary term field')}),r.createElement("h3",{className:"margin-b-s margin-t-xxl"},r.createElement(a,null,I18n.t("Give each term a definition"))),r.createElement("img",{src:"/images/vocabulary_2.png",alt:I18n.t('typing "Open and responsive to suggestion" in the vocabulary definition field')}),r.createElement("h3",{className:"margin-b-xs margin-t-xxl"},r.createElement(a,null,I18n.t("Bridge generates a bank of sorting and multiple choice questions"))),r.createElement("p",{className:"margin-b-s"},r.createElement(a,null,I18n.t("When your learner takes a quiz, Bridge will randomly pull a question for each learner in one of the following forms:"))),r.createElement("img",{src:"/images/vocabulary_3.png","aria-hidden":"true",alt:I18n.t("the learner interface for vocabulary questions")}),r.createElement("div",{className:"screenreader-only"},r.createElement("ul",null,r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("Which of the terms below best matches the following definition?"))),r.createElement("p",null,r.createElement(a,null,I18n.t("Open and responsive to direction")))),r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t("Which of the definitions below best matches the following term?"))),r.createElement("p",null,r.createElement(a,null,I18n.t("Amenable")))),r.createElement("li",null,r.createElement("h4",null,r.createElement(a,null,I18n.t('Amenable is defined as "Open and responsive to direction." True or False?')))))))}});e.exports=s},function(e,t,n){"use strict";var r=n(1),a=n(953),s=n(3390),i=n(3388),o=n(4),l=o.partial,u=n(220),c=n(871),d=n(28),p=n(2),f=p.func,m=n(4),h=m.assign,g=n(662),v=r.createClass({displayName:"FactoidEditor",propTypes:{question:n(110).isRequired,onUpdate:f.isRequired,onUpdateAnswer:f.isRequired,onUpdateFeedback:f.isRequired},render:function(){var e=this.props.question,t=!u.isQuestionValid(e),n=d({"factoid-editor":!0,"factoid-editor--invalid":t});return r.createElement("div",{className:n},t&&r.createElement(a,null),r.createElement("div",{className:"pure-g padding-t-l factoid-editor__header brand-font"},r.createElement("div",{className:"factoid-editor__title-wrapper pure-u-1"},r.createElement("div",{className:"quiz-question-icon--factoid"}),r.createElement(s,{question:e,onChange:this.updateAnswerFactAndQuestionTitle}))),r.createElement("ul",{className:"phrase-list"},e.answers.map(this.renderPhrase)),r.createElement("div",{className:"text-center margin-m"},this.renderCustomFeedbackToggle()),this.shouldShowFeedbackEditor()&&r.createElement(g,{key:e.id,type:e.type,feedback:e.feedback||void 0,onChange:this.props.onUpdateFeedback}))},renderCustomFeedbackToggle:function(){var e=this.shouldShowFeedbackEditor()?I18n.t("Collapse Learner Feedback"):I18n.t("Customize Learner Feedback");return r.createElement("button",{type:"button",className:"btn centered btn--content-editor",onClick:this.toggleFeedbackEditor},e)},shouldShowFeedbackEditor:function(){var e=this.props.question.feedback;return!!e&&(e.showFeedbackEditor||!1)},toggleFeedbackEditor:function(){var e=this.props.question.feedback,t=this.shouldShowFeedbackEditor();this.props.onUpdateFeedback(h({},e,{showFeedbackEditor:!t}))},renderPhrase:function(e,t){var n=this.props.question.answers[t-1];return r.createElement(i,{key:this.props.question.id+"__"+e.id,phrase:e,previousSibling:n,onChange:l(this.updatePhrase,e.id),onJoin:l(this.joinPhrase,e.id),onSplit:l(this.splitPhrase,e.id)})},joinPhrase:function(e){var t=this.props.question.answers;this.props.onUpdate({answers:c.joinPhrase(t,e)})},splitPhrase:function(e,t){var n=this.props.question.answers;this.props.onUpdate({answers:c.splitPhrase(n,e,t)})},updatePhrase:function(e,t){this.props.onUpdateAnswer(e,t)},updateAnswerFactAndQuestionTitle:function(e,t){var n=this.props.question.answers,r=c.adjustFactInStatement(n,e,t);this.props.onUpdate({title:c.composeTitle(r),answers:r})}});e.exports=v},function(e,t,n){"use strict";function r(e){var t=void 0,n=c.tokenize(e.fact),r=n.length;return n.map(function(n,a){var s={index:a,text:n,inPhraseWithDistractors:!(0===e.distractors.length),previousWord:t,isLastWord:a===r-1};return t=n,s})}var a=n(1),s=n(28),i=n(2),o=i.func,l=n(3389),u=n(804),c=n(871),d=a.createClass({displayName:"Phrase",propTypes:{phrase:n(659).isRequired,previousSibling:n(659),onChange:o.isRequired,onJoin:o.isRequired,onSplit:o.isRequired},getInitialState:function(){return{showingDistractorList:!1}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillUnmount:function(){this.isMounted=function(){return!1}},render:function(){var e=this.props,t=e.phrase,n=e.previousSibling;return a.createElement("li",{className:s("phrase-list__wrapper",{"phrase-list__wrapper--distracted":t.distractors.length>0,"phrase-list__wrapper--editing":this.state.showingDistractorList,"phrase-list__wrapper--has-previous":!!n})},n&&a.createElement("button",{type:"button",className:"phrase-list__joiner",onClick:this.props.onJoin,disabled:!c.canJoin(t,n),children:"+"}),r(t).map(this.renderWord),this.state.showingDistractorList&&a.createElement(u,{id:"PhraseDistractorList",clickThroughSelector:"button.phrase-list__item",onClose:this.hideDistractorList},a.createElement(l,{distractors:t.distractors||[],onCreate:this.createDistractor,onValueChange:this.updateDistractor,onRemove:this.removeDistractor,onClear:this.clearDistractors})))},renderWord:function(e){var t=a.createElement("button",{key:e.text+"__phrase",type:"button",className:s("phrase-list__item brand-font",{"no-border-left":e.previousWord,"no-border-right":!e.isLastWord}),onClick:this.toggleDistractorList,children:e.text});return e.previousWord?e.inPhraseWithDistractors?[a.createElement("div",{key:e.text+"__vertical-line",className:"phrase-list__vertical-line"},""),t]:[a.createElement("button",{key:e.text+"__divider",type:"button",className:"phrase-list__divider",onClick:this.props.onSplit.bind(null,e.index),children:""}),t]:t},toggleDistractorList:function(){this.setState({showingDistractorList:!this.state.showingDistractorList})},hideDistractorList:function(){this.isMounted()&&this.state.showingDistractorList&&this.toggleDistractorList()},clearDistractors:function(){this.props.onChange({distractors:[]})},createDistractor:function(e){this.props.onChange({distractors:this.props.phrase.distractors.concat([e])})},updateDistractor:function(e,t){
this.props.onChange({distractors:this.props.phrase.distractors.map(function(n){return n===e?t:n})})},removeDistractor:function(e){this.props.onChange({distractors:this.props.phrase.distractors.filter(function(t){return t!==e})})}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(69),s=n(5),i=s.Icon,o=n(2),l=o.func,u=o.arrayOf,c=o.string,d=r.createClass({displayName:"PhraseDistractorList",propTypes:{distractors:u(c).isRequired,onCreate:l.isRequired,onValueChange:l.isRequired,onRemove:l.isRequired,onClear:l.isRequired},render:function(){var e=this.props.distractors.concat([""]);return r.createElement("ul",{className:"factoid-distractor-list"},e.map(this.renderDistractor),e.length>2&&r.createElement("li",{key:"clear-all-btn"},r.createElement("button",{type:"button",className:"btn--reset padding-s text-left full-width label pink",onClick:this.props.onClear},I18n.t("Clear All"))))},renderDistractor:function(e){var t=""===e;return r.createElement("li",{key:e},r.createElement(a,{autoFocus:t&&0===this.props.distractors.length,placeholder:I18n.t("Distractor Word"),inputClassName:"factoid-distractor-list__input brand-font",componentClassNameBindings:"factoid-distractor-list__editor",onChange:this.emitValueChange.bind(null,e),value:e,"data-capybara":t?"add_distractor":"distractor_item"},t?r.createElement("span",{className:"label blue inline-block padding-s"},I18n.t("Add Distractor")):r.createElement("span",{className:"inline-block padding-s brand-font"},e)),!t&&r.createElement("button",{type:"button",className:"factoid-distractor-list__btn--delete",onClick:this.props.onRemove.bind(null,e)},r.createElement("span",{className:"screenreader-only"},I18n.t("Delete Distractor")),r.createElement(i,{className:"gs-1x gs-x blue-grey"})))},emitValueChange:function(e,t){0===String(e||"").length?this.props.onCreate(t):this.props.onValueChange(e,t)}});e.exports=d},function(e,t,n){"use strict";var r=n(1),a=n(28),s=n(69),i=n(871),o=n(2),l=o.func,u=r.createClass({displayName:"Title",propTypes:{question:n(110),onChange:l.isRequired},render:function(){var e=this.props.question,t=i.buildCompositePhrases(e.answers),n=e.answers.length>0,s=a({"factoid-editor__title":!0,placeholder:!n});return r.createElement("div",{className:s},t.map(this.renderPhraseEditor))},renderPhraseEditor:function(e){var t=e.fact||e.placeholder;return r.createElement(s,{key:e.sourceIds.join("-"),value:e.fact,placeholder:e.placeholder,autoFocus:!1,className:"editable-text--header indigo brand-font",inputClassName:"h3 indigo factoid-editor__title-input",fitToContent:!0,fitToContentStrategy:"jqAutosizeInput",growInPlace:!0,onChange:this.updateFactAndTitle.bind(null,e.sourceIds)},r.createElement("span",{className:"factoid-editor__title-label"},t))},updateFactAndTitle:function(e,t){this.props.onChange(e,t)}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),i=n(1),o=r(i),l=n(3373),u=r(l),c=n(153),d=c.Components.MediaImageAltText,p=o.default.createClass({displayName:"ImageButtons",propTypes:{align:s.default.string,altText:s.default.string,onSetImageAlign:s.default.func,onSetImageAltText:s.default.func,onClose:s.default.func},componentWillMount:function(){var e=this;setTimeout(function(){window.addEventListener("click",e.handleWindowClick)},0)},componentWillUnmount:function(){window.removeEventListener("click",this.handleWindowClick)},handleWindowClick:function(){this.props.onClose()},getInitialState:function(){return{showEditor:!1}},handleClick:function(e){e.stopPropagation()},showEditor:function(){this.setState({showEditor:!0})},hideEditor:function(){this.setState({showEditor:!1})},handleChangeAltText:function(e){this.props.onSetImageAltText(e.altText),this.hideEditor()},render:function(){return o.default.createElement("div",{onClick:this.handleClick},!this.state.showEditor&&o.default.createElement(u.default,{align:this.props.align,onSetImageAlign:this.props.onSetImageAlign}),o.default.createElement(d,{altText:this.props.altText,onChange:this.handleChangeAltText,onEdit:this.showEditor,onStopEditing:this.hideEditor,showEditor:this.state.showEditor}))}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(6),o=r(i),l=s.default.createClass({displayName:"LoadingSlideEditor",propTypes:{},getInitialState:function(){return{hideSpinner:!0}},componentDidMount:function(){var e=this;setTimeout(function(){e.setState({hideSpinner:!1})},250)},render:function(){var e=(0,o.default)("loader-large loader-7",{hidden:this.state.hideSpinner});return s.default.createElement("div",{className:"cce-empty--white"},s.default.createElement("div",{className:"cce-spinner"},s.default.createElement("div",{className:e})))}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(23),s=n(295),i=n(661),o=n(220),l=n(2),u=l.func,c=n(1502),d=n(662),p=n(953),f=n(1499),m=n(28),h=n(128),g=h.CCE_ORDERED_QUESTION_MIN_ANSWER_COUNT,v=n(4),_=v.assign,y=n(47),b=r.createClass({displayName:"OrderedListQuestionEditor",mixins:[f.create()],propTypes:{question:n(110).isRequired,onUpdateTitle:u.isRequired,onAddAnswer:u.isRequired,onUpdateAnswer:u.isRequired,onRemoveAnswer:u.isRequired,onSwapAnswers:u.isRequired,onUpdateFeedback:u.isRequired},componentDidUpdate:function(e){var t=this.shouldShowFeedbackEditor(e.question.feedback),n=this.shouldShowFeedbackEditor(this.props.question.feedback);if(!t&&n){var r=a.findDOMNode(this.refs.feedback);y(".cce-content").animate({scrollTop:r.getBoundingClientRect().top},500)}},render:function(){var e=this.props.question,t=!o.isQuestionValid(e),n=e.answers.some(function(e){return e.body&&e.body.length>0}),a=m({"question-editor":!0,"question-editor--invalid":t,"ordered-list-question-editor":!0});return r.createElement("div",{className:a},t&&r.createElement(p,null),r.createElement("div",{className:"padding-t-l ordered-list-question-editor__header brand-font","data-capybara":"ordered-list-title"},r.createElement("div",{className:"quiz-question-icon--ordered-list"}),r.createElement(s,{value:e.title,placeholder:I18n.t("List Title or Description"),shouldAutoFocus:!n,className:"margin-rl-xxl ordered-list-question-editor__title",modifierClasses:["h2","block"],onChange:this.props.onUpdateTitle})),r.createElement("ol",{ref:"answerWidget",className:i.getAnswerWidgetClassName(e.type)},e.answers.map(this.renderAnswer.bind(null,t))),r.createElement("div",{className:"text-center margin-m"},r.createElement("button",{type:"button",className:"btn centered add-answer btn--content-editor",onClick:this.props.onAddAnswer},I18n.t("Add Step")),this.renderCustomFeedbackToogle()),n&&r.createElement("div",null,r.createElement("h2",{className:"h3 border-b border-dark-grey"},I18n.t("Add More Detail (optional)")),r.createElement("ol",{className:"unstyled"},e.answers.filter(function(e){return!!e.body}).map(this.renderAnswerDetail))),this.shouldShowFeedbackEditor(e.feedback)&&r.createElement(d,{key:e.id,ref:"feedback",type:e.type,feedback:e.feedback||void 0,onChange:this.props.onUpdateFeedback}))},renderCustomFeedbackToogle:function(){var e=this.shouldShowFeedbackEditor(this.props.question.feedback)?I18n.t("Collapse Learner Feedback"):I18n.t("Customize Learner Feedback");return r.createElement("button",{type:"button",className:"btn centered btn--content-editor",onClick:this.toggleFeedbackEditor},e)},renderAnswer:function(e,t){return r.createElement(c,{key:this.props.question.id+"__"+t.id,isQuestionInvalid:e,isBeingDragged:this.state.draggedAnswerId===t.id,questionType:this.props.question.type,answer:t,canRemove:this.props.question.answers.length>g,onRemove:this.props.onRemoveAnswer.bind(null,t.id),onChange:this.props.onUpdateAnswer.bind(null,t.id)})},renderAnswerDetail:function(e){var t=I18n.t("Is the step where...");return r.createElement("li",{key:this.props.question.id+"__"+e.id,className:"margin-tb-m ordered-list-question-editor__answer-detail brand-font"},r.createElement("h3",{className:"blue-grey margin-b-xxs margin-rl-s"},e.position,". ",e.body),r.createElement("div",{className:"relative"},r.createElement("div",{className:"all-fixed-layout padding-s white-bg rounded-corners-default"},r.createElement(s,{className:"border-none rounded-corners-default full-width full-height",modifierClasses:["full-width"],value:e.detail,placeholder:t,onChange:this.emitChangeOfAnswerDetail.bind(null,e.id)})),r.createElement("div",{className:"full-width padding-s invisible","aria-hidden":"true"},e.detail?e.detail:t)))},emitChangeOfAnswerDetail:function(e,t){this.props.onUpdateAnswer(e,{detail:t})},shouldShowFeedbackEditor:function(e){return!!e&&(e.showFeedbackEditor||!1)},toggleFeedbackEditor:function(){var e=this.props.question.feedback,t=this.shouldShowFeedbackEditor(e);this.props.onUpdateFeedback(_({},e,{showFeedbackEditor:!t}))}});e.exports=b},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}var a=n(2),s=n(1),i=n(128),o=i.QUESTION_TYPES,l=r([o.FACTOID,o.MULTIPLE_ANSWER,o.MULTIPLE_CHOICE,o.ORDERED_LIST,o.REORDER,o.SHORT_ANSWER,o.VOCABULARY]),u=s.createClass({displayName:"PaddingBox",propTypes:{children:a.node,slide:n(110)},render:function(){var e=s.Children.only(this.props.children);return l[this.props.slide.type]?s.createElement("div",{className:"padding-tb-xxl"},e):e}});e.exports=u},function(e,t,n){"use strict";var r=n(1),a=n(2),s=a.bool,i=a.node,o=n(28),l=r.createClass({displayName:"AnswerBackground",propTypes:{opaque:s,children:i},render:function(){var e=o({"pure-u-22-24":!0,"white-bg":this.props.opaque,"rounded-corners-default":this.props.opaque});return r.createElement("div",{className:e},this.props.children)}});e.exports=l},function(e,t,n){"use strict";var r=n(1),a=n(295),s=n(91),i=n(64),o=n(60),l=n(5),u=l.Icon,c=n(27),d=n(28),p=n(128),f=p.QUESTION_TYPES,m=p.CCE_QUESTION_MIN_ANSWER_COUNT,h=p.CCE_ORDERED_QUESTION_MIN_ANSWER_COUNT,g=n(220),v=n(661),_=n(1502),y=n(1503),b=n(662),E=n(953),C=n(1499),I=n(4),T=I.assign,N=n(2),S=N.func,x=r.createClass({displayName:"QuestionEditor",mixins:[C.create()],propTypes:{question:n(110).isRequired,onChangeType:S.isRequired,onUpdateTitle:S.isRequired,onAddAnswer:S.isRequired,onUpdateAnswer:S.isRequired,onRemoveAnswer:S.isRequired,onSwapAnswers:S.isRequired,onAddImage:S.isRequired,onRemoveImage:S.isRequired,onSetImageAlign:S.isRequired,onSetImageAltText:S.isRequired,onSetStaticOrder:S.isRequired,onUpdateFeedback:S.isRequired},getInitialState:function(){return{answerBucket:null,imageActivated:!1}},componentDidMount:function(){this.isMounted=function(){return!0}},componentWillReceiveProps:function(e){e.question&&e.question.type===f.SHORT_ANSWER&&this.props.question&&this.props.question.type!==f.SHORT_ANSWER&&this.props.question.id===e.question.id&&this.setState({answerBucket:[].concat(this.props.question.answers)}),this.props.question.id!==e.question.id&&this.setState({imageActivated:!1})},componentWillUnmount:function(){this.isMounted=function(){return!1}},renderStaticOrderCheckbox:function(){var e=this.props.question,t=e.type===f.MULTIPLE_CHOICE||e.type===f.MULTIPLE_ANSWER;return t?r.createElement(s,{className:"question-editor__static-order padding-l-m text-middle",checked:e.staticOrder,onChange:this.toggleStaticOrder},I18n.t("Preserve answer order")):null},renderImageIconButton:function(){return this.state.imageActivated?null:this.props.question.attachmentUrl?r.createElement("button",{className:"btn--reset dark-grey",onClick:this.removeImage},r.createElement(u,{className:"gs-image-delete"}),r.createElement(c,null,I18n.t("Remove Image"))):r.createElement("button",{className:"btn--reset dark-grey",onClick:this.toggleImage},r.createElement(u,{className:"gs-image"}),r.createElement(c,null,I18n.t("Add Image")))},renderQuestionImage:function(e,t){return r.createElement("div",{className:"quiz-question-intro__image"},r.createElement(y,{url:e.attachmentUrl,align:t,altText:this.props.question.attachmentAltText,activated:this.state.imageActivated,onAddImage:this.addImage,onRemoveImage:this.removeImage,onToggleImage:this.toggleImage,onSetImageAlign:this.setImageAlign,onSetImageAltText:this.setImageAltText}))},render:function(){var e=this.props.question;if(!e)return null;var t=e.type===f.SHORT_ANSWER,n=!g.isQuestionValid(e),s=this.props.question.attachmentAlign||"top",i=d({"question-editor":!0,"question-editor--invalid":n}),o=d({"question-editor__text--short-answer":t});return r.createElement("div",{className:i},n&&r.createElement(E,null),r.createElement("div",{className:"padding-t-l question-editor__header table"},r.createElement("div",{className:"table-cell"},this.renderQuestionTypePicker(),this.renderStaticOrderCheckbox()),r.createElement("div",{className:"table-cell text-right"},this.renderImageIconButton())),r.createElement("div",{className:"quiz-question-intro quiz-question-intro--"+s},"bottom"!==s&&this.renderQuestionImage(e,s),r.createElement("div",{className:"quiz-question-intro__title fixed-width-max centered brand-font","data-capybara":"title"},t&&r.createElement("div",{className:"quiz-question-icon--short-answer absolute"}),r.createElement("div",{className:o},r.createElement(a,{controlled:!0,value:e.title||"",placeholder:I18n.t("Question Text"),className:"question-editor__title indigo",modifierClasses:["full-width","h2","block"],onChange:this.props.onUpdateTitle}))),"bottom"===s&&this.renderQuestionImage(e,s)),r.createElement("ul",{ref:"answerWidget",className:v.getAnswerWidgetClassName(e.type)},!t&&(e.answers||[]).map(this.renderAnswer.bind(null,n))),r.createElement("div",{className:"text-center margin-m margin-b-xxl"},!t&&r.createElement("button",{type:"button",className:"btn centered add-answer btn--content-editor",onClick:this.props.onAddAnswer},I18n.t("Add Answer")),this.renderCustomFeedbackToogle()),this.shouldShowFeedbackEditor()&&r.createElement(b,{key:e.id,feedback:e.feedback||void 0,onChange:this.props.onUpdateFeedback,canBeIncorrect:!t}))},renderCustomFeedbackToogle:function(){var e=this.shouldShowFeedbackEditor()?I18n.t("Collapse Learner Feedback"):I18n.t("Customize Learner Feedback");return r.createElement("button",{type:"button",className:"btn centered btn--content-editor",onClick:this.toggleFeedbackEditor},e)},renderQuestionTypePicker:function(){var e=this.props.question,t=Object.freeze([{value:f.MULTIPLE_CHOICE,label:I18n.t("Multiple Choice")},{value:f.MULTIPLE_ANSWER,label:I18n.t("Multiple Answer")},{value:f.REORDER,label:I18n.t("Sorting")},{value:f.SHORT_ANSWER,label:I18n.t("Short Answer")}]);return r.createElement(i,{className:"combo-box--question-type inline-block",selectedValue:e.type,onChange:this.emitChangeOfType},t.map(function(e){return r.createElement(o,{key:e.value,value:e.value,label:e.label})}))},renderAnswer:function(e,t){var n=this.props.question.type===f.REORDER?h:m;return r.createElement(_,{key:t.id,isQuestionInvalid:e,isBeingDragged:this.state.draggedAnswerId===t.id,questionType:this.props.question.type,answer:t,canRemove:this.props.question.answers.length>n,onRemove:this.props.onRemoveAnswer.bind(null,t.id),onChange:this.updateAnswerCorrectnessIfViable.bind(null,t.id)})},updateAnswerCorrectnessIfViable:function(e,t){var n=this.props.question.answers.filter(function(e){return e.correct});1===n.length&&n[0].id===e&&t.correct===!1||this.props.onUpdateAnswer(e,t)},emitChangeOfType:function(e){var t={type:e};this.state.answerBucket&&e!==f.SHORT_ANSWER&&this.props.question.type===f.SHORT_ANSWER&&(t.answers=this.state.answerBucket),this.props.onChangeType(t),t.answers&&this.setState({answerBucket:null})},toggleImage:function(){this.setState({imageActivated:!this.state.imageActivated})},addImage:function(e){this.props.onAddImage(e)},removeImage:function(){this.props.onRemoveImage(),this.setState({imageActivated:!1})},setImageAlign:function(e){this.props.onSetImageAlign(e)},setImageAltText:function(e){this.props.onSetImageAltText(e)},toggleStaticOrder:function(){this.props.onSetStaticOrder(!this.props.question.staticOrder)},shouldShowFeedbackEditor:function(){var e=this.props.question.feedback;return!!e&&(e.showFeedbackEditor||!1)},toggleFeedbackEditor:function(){var e=this.props.question.feedback,t=this.shouldShowFeedbackEditor();this.props.onUpdateFeedback(T({},e,{showFeedbackEditor:!t}))}});e.exports=x},function(e,t,n){"use strict";var r=n(1),a=n(5),s=a.Icon,i=n(2),o=i.func,l=r.createClass({displayName:"QuestionTypePicker",propTypes:{onChange:o.isRequired},shouldComponentUpdate:function(e){return e.onChange!==this.props.onChange},render:function(){return r.createElement("div",null,r.createElement("div",{className:"cce-question-type-picker"},r.createElement("div",{className:"full-width padding-t-l question-editor__header"},r.createElement("h3",{tabIndex:"-1",className:"slide-focus-target"},I18n.t("Smart Quizzes"))),r.createElement("div",{className:"pure-g cce-question-type-picker__panels"},r.createElement("div",{className:"cce-question-type-picker__panel"},r.createElement("div",{className:"cce-question-type-picker__panel__background"}),r.createElement("button",{type:"button",onClick:this.emitChangeOfType("vocabulary"),className:"btn--reset"},r.createElement("div",{className:"rounded-icon","aria-hidden":"true"},r.createElement(s,{className:"gs-glossary gs-2x white"})),r.createElement("h4",{className:"cce-question-type-picker__panel__title"},I18n.t("Vocabulary")),r.createElement("p",{className:"cce-question-type-picker__panel__description"},I18n.t("When you want learners to know the definitions of several terms.")))),r.createElement("div",{className:"cce-question-type-picker__panel"},r.createElement("div",{className:"cce-question-type-picker__panel__background"}),r.createElement("button",{type:"button",onClick:this.emitChangeOfType("ordered_list"),className:"btn--reset"},r.createElement("div",{className:"rounded-icon","aria-hidden":"true"},r.createElement(s,{className:"gs-ol4 gs-2x white"})),r.createElement("h4",{className:"cce-question-type-picker__panel__title"},I18n.t("Steps in a process")),r.createElement("p",{className:"cce-question-type-picker__panel__description"},I18n.t("When you want learners to know specific steps or the order of something.")))),r.createElement("div",{className:"cce-question-type-picker__panel"},r.createElement("div",{className:"cce-question-type-picker__panel__background"}),r.createElement("button",{type:"button",onClick:this.emitChangeOfType("factoid"),className:"btn--reset"},r.createElement("div",{className:"rounded-icon","aria-hidden":"true"},r.createElement(s,{className:"gs-lightbulb gs-2x white"})),r.createElement("h4",{className:"cce-question-type-picker__panel__title"},I18n.t("Factoid")),r.createElement("p",{className:"cce-question-type-picker__panel__description"},I18n.t("When there is a factual statement your learners should recognize as true.")))))),r.createElement("div",{className:"cce-question-type-picker"},r.createElement("div",{className:"full-width padding-t-l question-editor__header"},r.createElement("h3",{tabIndex:"-1"},I18n.t("Traditional Quiz Questions"))),r.createElement("div",{className:"pure-g"},r.createElement("button",{type:"button",onClick:this.emitChangeOfType("multiple_choice"),className:"cce-question-type-picker__button btn--reset blue text-center label"},I18n.t("Multiple Choice")),r.createElement("button",{type:"button",onClick:this.emitChangeOfType("multiple_answer"),className:"cce-question-type-picker__button btn--reset blue text-center label"},I18n.t("Multiple Answer")),r.createElement("button",{type:"button",onClick:this.emitChangeOfType("reorder"),className:"cce-question-type-picker__button btn--reset blue text-center label"},I18n.t("Sorting")),r.createElement("button",{type:"button",onClick:this.emitChangeOfType("short_answer"),className:"cce-question-type-picker__button btn--reset blue text-center label"},I18n.t("Short Answer")))))},emitChangeOfType:function(e){var t=this;return function(){t.props.onChange(e)}}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e[e.length-1];return!(!r||r.id!==t)&&s((0,v.assign)({},r,n))}function s(e){return e.term.length>0&&e.definition.length>0}var i=n(1),o=r(i),l=n(6),u=r(l),c=n(18),d=r(c),p=n(662),f=r(p),m=n(3399),h=r(m),g=n(220),v=n(4),_=n(2),y=n(20),b=r(y),E=o.default.createClass({displayName:"VocabularyEditor",propTypes:{question:n(110).isRequired,onAddAnswer:_.func.isRequired,onUpdateAnswer:_.func.isRequired,onUpdateAndAddAnswer:_.func.isRequired,onRemoveAnswer:_.func.isRequired,onUpdateFeedback:_.func.isRequired},render:function(){var e=this.props.question,t=e.answers,n=this.isInvalid(),r=(0,u.default)({"vocabulary-editor":!0,"vocabulary-editor--invalid":n});return o.default.createElement("div",{className:r},n&&o.default.createElement("p",{className:"pink large light"},I18n.t("This question won't appear until you're done filling it out")),o.default.createElement("div",{className:"padding-t-l padding-b-s question-editor__header"},o.default.createElement("div",{className:"quiz-question--vocabulary"}),o.default.createElement("h3",{className:"padding-tl-xxs"},I18n.t("Vocabulary"))),o.default.createElement("ul",{className:"vocabulary-editor vocabulary-editor__answers unstyled"},t.map(this.renderAnswer)),o.default.createElement("div",{className:"text-center margin-m"},o.default.createElement(d.default,{className:"btn centered add-answer btn--content-editor",onClick:this.props.onAddAnswer},I18n.t("Add Answer")),this.renderCustomFeedbackToggle()),this.shouldShowFeedbackEditor()&&o.default.createElement(f.default,{key:e.id,type:e.type,feedback:e.feedback||void 0,onChange:this.props.onUpdateFeedback}))},renderCustomFeedbackToggle:function(){var e=this.shouldShowFeedbackEditor()?I18n.t("Collapse Learner Feedback"):I18n.t("Customize Learner Feedback");return o.default.createElement("button",{type:"button",className:"btn centered btn--content-editor",onClick:this.toggleFeedbackEditor},e)},renderAnswer:function(e,t){return o.default.createElement(h.default,{key:this.props.question.id+"__"+e.id,term:e.term,definition:e.definition,isInvalid:this.isInvalid(),canRemove:this.props.question.answers.length>1,autoFocus:t===this.props.question.answers.length-1,onChange:this.updateAnswer.bind(null,e.id),onRemove:this.props.onRemoveAnswer.bind(null,e.id)})},updateAnswer:function(e,t,n,r){var s=this.props.question.answers;!n&&(0,b.default)("learn_improve_vocab_quiz")||!a(s,e,t)?r&&this.props.onUpdateAnswer(e,t):this.props.onUpdateAndAddAnswer(e,t)},isInvalid:function(){return!(0,g.isVocabularyQuestionValid)(this.props.question)},shouldShowFeedbackEditor:function(){var e=this.props.question.feedback;return!!e&&(e.showFeedbackEditor||!1)},toggleFeedbackEditor:function(){var e=this.props.question.feedback,t=this.shouldShowFeedbackEditor();this.props.onUpdateFeedback((0,v.assign)({},e,{showFeedbackEditor:!t}))}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),s=r(a),i=n(5),o=n(18),l=r(o),u=n(295),c=r(u),d=n(6),p=r(d),f=n(2),m=s.default.createClass({displayName:"Answer",propTypes:{term:f.string,definition:f.string,isInvalid:f.bool,onChange:f.func,canRemove:f.bool,onRemove:f.func,autoFocus:f.bool},render:function(){var e=(0,p.default)({"pure-g":!0,"margin-tb-s":!0,"rounded-corners-default":!0,"white-bg":!0,"vocabulary-editor__answer":!0,"vocabulary-editor__answer--invalid":this.props.isInvalid});return s.default.createElement("li",{className:e},s.default.createElement("div",{className:"pure-u-7-24 padding-s contain-content divider-right brand-font","data-capybara":"term"},s.default.createElement(c.default,{key:"term",className:"vocabulary-editor-answer__term",value:this.props.term,autoFocus:this.props.autoFocus,label:I18n.t("Vocabulary Term"),placeholder:I18n.t('"Perspicacious"'),onChange:this.updateTerm,modifierClasses:["full-width"]})),s.default.createElement("div",{className:"pure-u-15-24 padding-s contain-content brand-font","data-capybara":"definition"},s.default.createElement(c.default,{key:"definition",className:"vocabulary-editor-answer__definition",value:this.props.definition,label:I18n.t("Vocabulary Definition"),placeholder:I18n.t('"having a ready insight into and understanding of things"'),onChange:this.updateDefinition,modifierClasses:["full-width"]})),s.default.createElement("div",{className:"pure-u-1-24 padding-s"},s.default.createElement(l.default,{className:"text-right btn--reset",onClick:this.props.canRemove&&this.props.onRemove,disabled:!this.props.canRemove},s.default.createElement("span",{className:"screenreader-only"},I18n.t("Delete")),s.default.createElement(i.Icon,{className:"gs-x gs-1x dark-grey"}))))},updateTerm:function(e,t,n){this.props.onChange({term:e},t,n)},updateDefinition:function(e,t,n){this.props.onChange({definition:e},t,n)}});e.exports=m},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/author/course_templates/%@",schema:n(45),skipNormalize:["__emberModel__"],parse:function(e,t){return t.course_templates.map(e)[0]}})},function(e,t,n){"use strict";var r=n(8);e.exports=r({url:"/api/author/course_templates/%@/slides/%@",schema:n(110),cache:!1,parse:function(e,t){return t.slides.map(e)[0]}})},function(e,t,n){"use strict";e.exports=[{handler:n(3370),name:"author.courses.slides",path:"/author/courses/:courseId/slides",loadOrder:1,ember:!1},{handler:n(3371),name:"author.courses.slide",path:":slideId",parent:"author.courses.slides",loadOrder:2,ember:!1}]},function(e,t,n){"use strict";function r(e){return[].filter.call(e.childNodes,function(e){return"DIV"===e.nodeName}).some(function(e){return[].some.call(e.childNodes,function(e){return"DIV"===e.nodeName&&"black-bg"===e.className})})}function a(e){return e.parentElement&&"DIV"===e.parentElement.nodeName&&e.parentElement.parentElement&&"DIV"===e.parentElement.parentElement.nodeName&&e.parentElement.parentElement.hasAttribute("data-attachment-id")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(36),i=n(35),o=n(499),l="\n",u={"UNORDERED-LIST":"unordered-list-item","ORDERED-LIST":"ordered-list-item"},c=["media-placeholder","overlay"];t.default=new o.Importer({getInitialState:function(){return{textBlocks:(0,s.Stack)(),listBlockTypes:(0,s.Stack)(),inlineStyles:(0,s.OrderedSet)()}},createStats:function(){return{"inline-images":0,"inline-headings":0,"inline-iframes":0,"nested-list-items":0}},trimStats:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return 0===r?t:(t[n]=r,t)},{})},visitors:[(0,o.Visitor)({nodeName:"#text",enter:function(e,t){if(t.textContent!==l){var n=e.textBlocks.peek();n||(e.textBlocks=e.textBlocks.push((0,o.TextBlock)({owner:t,position:e.reserveBlockIndex()})));var r=e.textBlocks.peek(),a=r.text.length,s=t.textContent.length,i=e.inlineStyles.toArray();i.forEach(function(e){r.inlineStyleRanges.push({offset:a,length:s,style:e})}),r.text+=t.textContent}},exit:function(e,t){var n=e.textBlocks.peek();n&&n.owner===t&&(e.textBlocks=e.textBlocks.pop(),e.insertBlock(o.TextBlock.toDraftBlock(n,{type:"unstyled"}),n.position))}}),(0,o.Visitor)({nodeName:"DIV",enter:function(e,t){return c.indexOf(t.className)>-1?o.Visitor.IgnoreChildren|o.Visitor.IgnoreVisitors:null}}),(0,o.Visitor)({nodeName:"DIV",enter:function(e,t){if(!t.hasAttribute("data-attachment-id"))return null;var n=r(t)?"audio":"video",a=i.ContentState.createFromText("").createEntity(n,"IMMUTABLE",{src:t.getAttribute("src"),attachmentId:t.getAttribute("data-attachment-id")}).getLastCreatedEntityKey();return e.addBlock({type:"atomic",text:" ",inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:a}]}),o.Visitor.IgnoreVisitors}}),(0,o.Visitor)((0,o.TextBlockVisitor)({nodeName:"DIV",exit:function(e){var t=e.textBlocks.peek();t.text.length>0&&e.insertBlock(o.TextBlock.toDraftBlock(t,{type:"unstyled"}),t.position)}})),(0,o.Visitor)((0,o.TextBlockVisitor)({nodeName:"P",exit:function(e){var t=e.textBlocks.peek();e.insertBlock(o.TextBlock.toDraftBlock(t,{type:"paragraph",depth:e.textBlocks.count()-1}),t.position)}})),(0,o.Visitor)({nodeName:"SPAN",enter:function(e,t){return"Video Player"===t.textContent&&a(t)?o.Visitor.IgnoreChildren|o.Visitor.IgnoreVisitors:null}}),(0,o.Visitor)((0,o.AppendingTextBlockVisitor)({nodeName:"SPAN"})),(0,o.Visitor)((0,o.AppendingTextBlockVisitor)({nodeName:"BR",enter:function(e){var t=e.textBlocks.peek(),n=t.text.length;return t.text+="\n",t.inlineStyleRanges.push({offset:n,length:1,style:"LINEBREAK"}),o.Visitor.IgnoreChildren}})),(0,o.Visitor)({nodeName:"CODE",enter:function(e,t){return e.addBlock({type:"code-block",text:t.innerHTML,inlineStyleRanges:[],entityRanges:[]}),o.Visitor.IgnoreChildren|o.Visitor.IgnoreVisitors}}),(0,o.Visitor)((0,o.AppendingTextBlockVisitor)({nodeName:"A",enter:function(e,t){var n=e.textBlocks.peek();n.anchors.push({node:t,offset:n.text.length})},exit:function(e,t){var n=e.textBlocks.peek(),r={url:t.href,rel:t.getAttribute("rel"),href:t.getAttribute("href"),target:t.getAttribute("target")},a=i.ContentState.createFromText("").createEntity("LINK","MUTABLE",r).getLastCreatedEntityKey(),s=n.anchors.filter(function(e){return e.node===t})[0],o=n.text.length-s.offset;e.verbose&&(console.log("Creating LINK at "+s.offset+" over "+o+" characters"),console.log('Text content: "'+t.textContent+'"'),console.log('Node: "'+t.outerHTML+'"'),console.log("Attributes: "+JSON.stringify(r,null,2))),n.entityRanges.push({offset:s.offset,length:o,key:a})}})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"B",styleName:"BOLD"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"CODE",styleName:"CODE"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"DEL",styleName:"STRIKETHROUGH"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"EM",styleName:"ITALIC"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"I",styleName:"ITALIC"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"S",styleName:"STRIKETHROUGH"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"STRIKE",styleName:"STRIKETHROUGH"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"STRONG",styleName:"BOLD"})),(0,o.Visitor)((0,o.InlineStyleVisitor)({nodeName:"U",styleName:"UNDERLINE"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H1",blockType:"header-one"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H2",blockType:"header-two"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H3",blockType:"header-three"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H4",blockType:"header-four"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H5",blockType:"header-five"})),(0,o.Visitor)((0,o.HeadingVisitor)({nodeName:"H6",blockType:"header-six"})),(0,o.Visitor)({nodeName:"UL",enter:function(e){e.listBlockTypes=e.listBlockTypes.push("UNORDERED-LIST")},exit:function(e){e.listBlockTypes=e.listBlockTypes.pop()}}),(0,o.Visitor)({nodeName:"OL",enter:function(e){e.listBlockTypes=e.listBlockTypes.push("ORDERED-LIST")},exit:function(e){e.listBlockTypes=e.listBlockTypes.pop()}}),(0,o.Visitor)((0,o.TextBlockVisitor)({nodeName:"LI",exit:function(e){var t=e.textBlocks.peek(),n=u[e.listBlockTypes.peek()||"UNORDERED-LIST"],r=e.listBlockTypes.count()-1;r>0&&(e.stats["nested-list-items"]+=1),e.insertBlock(o.TextBlock.toDraftBlock(t,{type:n,depth:r}),t.position)}})),(0,o.Visitor)({nodeName:"IMG",enter:function(e,t){return a(t)&&[].some.call(t.parentElement.childNodes,function(e){return"DIV"===e.nodeName&&"overlay"===e.className})?o.Visitor.IgnoreVisitors|o.Visitor.IgnoreChildren:null}}),(0,o.Visitor)({nodeName:"IMG",enter:function(e,t){var n=!t.hasAttribute("data-attachment-id"),r=void 0;r=n?i.ContentState.createFromText("").createEntity("external-image","IMMUTABLE",{original:t.getAttribute("src"),thumb:t.getAttribute("src")}).getLastCreatedEntityKey():i.ContentState.createFromText("").createEntity("image","IMMUTABLE",{src:t.getAttribute("src"),attachmentId:t.getAttribute("data-attachment-id")}).getLastCreatedEntityKey();var a=e.textBlocks.count();return a>0&&(e.stats["inline-images"]+=1),e.addBlock({type:"atomic",text:" ",inlineStyleRanges:[],depth:a,entityRanges:[{
offset:0,length:1,key:r}]}),o.Visitor.IgnoreChildren}}),(0,o.Visitor)({nodeName:"IFRAME",enter:function(e,t){var n=i.ContentState.createFromText("").createEntity("external-video","IMMUTABLE",{src:t.getAttribute("src")}).getLastCreatedEntityKey(),r=e.textBlocks.filter(function(e){return e.text.length>0}).count();return r>0&&(e.stats["inline-iframes"]+=1),e.addBlock({type:"atomic",text:" ",inlineStyleRanges:[],depth:0,entityRanges:[{offset:0,length:1,key:n}]}),o.Visitor.IgnoreChildren}})]}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return O[e]===!0||"text-fragment"===e}function s(e){return Object.assign({},e,{enter:function(t,n,r){e.enter&&e.enter(t,n);var a=r(n.childNodes);return e.exit&&e.exit(t,n),a}})}function i(e){return Object.assign({},e,{enter:function(t,n,r){var a=r(n.childNodes),s=(0,E.default)(a,"text-fragment",["audio","image","external-image","external-video","video"]),i=(0,x.default)(s);return(0,k.default)(i,e.blockType)}})}function o(e){return Object.assign({},e,{enter:function(t,n,r){t.listBlockTypes=t.listBlockTypes.push(e.listBlockType),t.listDepth+=1;var a=r(n.childNodes);return t.listBlockTypes=t.listBlockTypes.pop(),t.listDepth-=1,a}})}function l(e){return e&&[].every.call(e.childNodes||[],u)}function u(e){return 3===e.nodeType&&0===e.textContent.trim().length}function c(e){return e.some(function(e){return"text-fragment"===e.type})?e:[v.TextBlock.toDraftBlock((0,v.TextBlock)({text:""}),{type:"text-fragment"})].concat(e)}function d(e){return[].filter.call(e.childNodes,function(e){return"DIV"===e.nodeName}).some(function(e){return[].some.call(e.childNodes,function(e){return"DIV"===e.nodeName&&"black-bg"===e.className})})}function p(e){var t={src:null,duration:null};e.hasAttribute("src")&&(t.src=e.getAttribute("src")),e.hasAttribute("data-duration")&&(t.duration=parseInt(e.getAttribute("data-duration"),10));var n=e.nextSibling;if(n&&"IMG"===n.nodeName){var r={src:n.getAttribute("data-external-url"),duration:n.hasAttribute("data-duration")?parseInt(n.getAttribute("data-duration"),10):null};Object.keys(r).forEach(function(e){f(t[e])&&!f(r[e])&&(t[e]=r[e])})}return t}function f(e){return void 0===e||null===e}function m(){return{type:"unstyled",text:"",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}}Object.defineProperty(t,"__esModule",{value:!0});var h=n(36),g=n(35),v=n(499),_=n(3406),y=r(_),b=n(3405),E=r(b),C=n(3407),I=r(C),T=n(3408),N=r(T),S=n(3409),x=r(S),A=n(3410),k=r(A),w="\n",R=["media-placeholder","overlay"],O={"ordered-list-item":!0,"unordered-list-item":!0};t.default=new v.Importer({strategy:new v.ControlledImportingStrategy({}),getInitialState:function(){return{listBlockTypes:(0,h.Stack)(),listDepth:0,inlineStyles:(0,h.OrderedSet)()}},createStats:function(){return{"unknown-iframes":0}},visitors:[(0,v.Visitor)({nodeName:"BODY",enter:function(e,t,n){var r=n(t.childNodes);return 1===r.length&&"atomic"===r[0].type?[m(),r[0],m()]:(0,k.default)(r,"unstyled")}}),(0,v.Visitor)({nodeName:"#text",enter:function(e,t){if(t.textContent===w)return null;var n=0,r=t.textContent.length,a=e.inlineStyles.toArray(),s=(0,v.TextBlock)({text:t.textContent,inlineStyleRanges:a.map(function(e){return{offset:n,length:r,style:e}})});return v.TextBlock.toDraftBlock(s,{type:"text-fragment"})}}),(0,v.Visitor)({nodeName:"DIV",enter:function(e,t,n){if(R.indexOf(t.className)>-1)return null;if(t.hasAttribute("data-attachment-id")&&t.getAttribute("data-attachment-id").length>0){var r=d(t)?"audio":"video",a=g.ContentState.createFromText("").createEntity(r,"IMMUTABLE",{src:t.getAttribute("src"),attachmentId:t.getAttribute("data-attachment-id")}).getLastCreatedEntityKey();return[{type:"atomic",text:" ",inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:a}]}]}if("attachment"===t.className)return n(t.childNodes).filter(function(e){return"atomic"===e.type})[0];if(l(t))return null;var s=n(t.childNodes),i=(0,E.default)(s,"text-fragment",["audio","image","external-image","external-video","video"]),o=(0,x.default)(i);return(0,k.default)(o,"unstyled")}}),(0,v.Visitor)({nodeName:"P",enter:function(e,t,n){var r=n(t.childNodes),a=c(r),s=(0,E.default)(a,"text-fragment",["audio","external-image","external-video","image","video"]),i=(0,x.default)(s);return(0,k.default)(i,"paragraph")}}),(0,v.Visitor)({nodeName:"BLOCKQUOTE",enter:function(e,t,n){var r=n(t.childNodes),a=c(r),s=a.map(function(e){return["paragraph","unstyled"].indexOf(e.type)>-1?Object.assign({},e,{type:"text-fragment"}):e}),i=(0,E.default)(s,"text-fragment",["audio","external-image","external-video","image","video"]),o=(0,x.default)(i);return(0,k.default)(o,"blockquote")}}),(0,v.Visitor)(o({nodeName:"UL",listBlockType:"unordered-list-item"})),(0,v.Visitor)(o({nodeName:"OL",listBlockType:"ordered-list-item"})),(0,v.Visitor)({nodeName:"LI",enter:function(e,t,n){var r=["UL","OL"].indexOf(t.parentNode.nodeName)===-1;r&&(e.listDepth+=1);var s=e.listDepth-1,i=e.listBlockTypes.peek()||"unordered-list-item",o=n(t.childNodes);r&&(e.listDepth-=1);var l=(0,E.default)(o,"text-fragment",["audio","external-image","external-video","image","video"]),u=(0,I.default)(l,a),d=(0,N.default)(u,["paragraph"]),p=d.map(function(e){return"blockquote"===e.type?Object.assign({},e,{type:"text-fragment",inlineStyleRanges:e.inlineStyleRanges.concat({offset:0,length:e.text.length,style:"TINYMCE-BLOCKQUOTE"})}):e}),f=(0,y.default)(p,["unstyled"]),m=c(f),h=(0,x.default)(m),g=h.map(function(e){return"text-fragment"===e.type?Object.assign({},e,{depth:s}):e});return(0,k.default)(g,i)}}),(0,v.Visitor)({nodeName:"IFRAME",enter:function(e,t){var n=p(t);if(!n.src)return e.stats["unknown-iframes"]+=1,null;var r=g.ContentState.createFromText("").createEntity("external-video","IMMUTABLE",{src:n.src,duration:n.duration}).getLastCreatedEntityKey();return{type:"atomic",text:" ",inlineStyleRanges:[],data:{},depth:0,entityRanges:[{offset:0,length:1,key:r}]}}}),(0,v.Visitor)(s({nodeName:"SPAN"})),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"B",styleName:"BOLD"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"CODE",styleName:"CODE"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"DEL",styleName:"STRIKETHROUGH"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"EM",styleName:"ITALIC"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"I",styleName:"ITALIC"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"S",styleName:"STRIKETHROUGH"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"STRIKE",styleName:"STRIKETHROUGH"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"STRONG",styleName:"BOLD"}))),(0,v.Visitor)(s((0,v.InlineStyleVisitor)({nodeName:"U",styleName:"UNDERLINE"}))),(0,v.Visitor)(i({nodeName:"H1",blockType:"header-one"})),(0,v.Visitor)(i({nodeName:"H2",blockType:"header-two"})),(0,v.Visitor)(i({nodeName:"H3",blockType:"header-three"})),(0,v.Visitor)(i({nodeName:"H4",blockType:"header-four"})),(0,v.Visitor)(i({nodeName:"H5",blockType:"header-five"})),(0,v.Visitor)(i({nodeName:"H6",blockType:"header-six"})),(0,v.Visitor)({nodeName:"BR",enter:function(){return v.TextBlock.toDraftBlock((0,v.TextBlock)({text:"\n",inlineStyleRanges:[{offset:0,length:1,style:"LINEBREAK"}]}),{type:"text-fragment"})}}),(0,v.Visitor)({nodeName:"IMG",enter:function(e,t){if(t.className.indexOf("attachment--preview")>-1)return null;var n=!t.hasAttribute("data-attachment-id"),r=void 0;return r=n?g.ContentState.createFromText("").createEntity("external-image","IMMUTABLE",{original:t.getAttribute("src"),thumb:t.getAttribute("src")}).getLastCreatedEntityKey():g.ContentState.createFromText("").createEntity("image","IMMUTABLE",{src:t.getAttribute("src"),attachmentId:t.getAttribute("data-attachment-id")}).getLastCreatedEntityKey(),{type:"atomic",text:" ",inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:r}]}}}),(0,v.Visitor)({nodeName:"A",enter:function(e,t,n){var r=n(t.childNodes||[]),a=g.ContentState.createFromText(""),s=a.createEntity("LINK","MUTABLE",{url:t.href,rel:t.getAttribute("rel"),href:t.getAttribute("href"),target:t.getAttribute("target")}).getLastCreatedEntityKey(),i=r.map(function(e){if(0===e.entityRanges.length)return Object.assign({},e,{entityRanges:e.entityRanges.concat({offset:0,length:e.text.length,key:s})});var n=e.entityRanges.filter(function(e){var t=a.getEntity(e.key);return"image"===t.type||"external-image"===t.type});return n.forEach(function(e){a.mergeEntityData(e.key,{linkHref:t.getAttribute("href")})}),e});return i}})]}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unstyled",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["image"],r=e.map(l.default);return r.map(function(e,a){if("atomic"===e.type){var o=i.ContentState.createFromText(""),l=o.getEntity(e.entityRanges[0].key);if(n.indexOf(l.type)>-1){var c=r[a-1],d=r[a+1],p=void 0,f=void 0,m=!1;return c&&c.type===t?(p=c,f=c.text.length):d&&d.type===t?(p=d,f=0):(p=s(t),f=0,m=!0),p.text=p.text.slice(0,f)+" "+p.text.slice(f),0===f&&(p.inlineStyleRanges.forEach(function(e){e.offset+=1}),p.entityRanges.forEach(function(e){e.offset+=1})),e.entityRanges.forEach(function(e){p.entityRanges.push(Object.assign({},e,{offset:e.offset+f}))}),m?p:u}}return e}).filter(function(e){return e!==u})}function s(e){return{type:e,text:"",entityRanges:[],inlineStyleRanges:[]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(35),o=n(3411),l=r(o),u={};e.exports=t.default},function(e,t){"use strict";function n(e,t){return e.reduce(function(e,n){return t.indexOf(n.type)>-1?e.concat([Object.assign({},n,{type:"text-fragment",inlineStyleRanges:n.inlineStyleRanges.concat({offset:0,length:n.text.length,style:"TINYMCE-INLINE-BLOCK-FRAGMENT"})})]):e.concat(n)},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return e.map(function(e){return r(e)?Object.assign({},e,{type:"text-fragment",inlineStyleRanges:e.inlineStyleRanges.concat([{offset:0,length:e.text.length,style:a[e.type]}])}):e})}function r(e){return"string"==typeof a[e.type]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a={"header-one":"TINYMCE-HEADER-ONE","header-two":"TINYMCE-HEADER-TWO","header-three":"TINYMCE-HEADER-THREE","header-four":"TINYMCE-HEADER-FOUR","header-five":"TINYMCE-HEADER-FIVE","header-six":"TINYMCE-HEADER-SIX"};e.exports=t.default},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["paragraph"];return 1===e.length&&t.indexOf(e[0].type)>-1?e.map(a):e.reduce(function(e,n,s){if(t.indexOf(n.type)>-1){var i=a(n);return"\n"===n.text?e.concat(i):0===s?e.concat([i,r()]):e.concat([r(),i,r()])}return e.concat(n)},[])}function r(){return{type:"text-fragment",text:"\n",data:{},entityRanges:[],depth:0,inlineStyleRanges:[{offset:0,length:1,style:"LINEBREAK"}]}}function a(e){return Object.assign({},e,{type:"text-fragment"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){var t=e.reduce(function(e,t){var n=e.blocks,r=n[n.length-1];return"text-fragment"===t.type&&r&&"text-fragment"===r.type?e.blockOps.push({index:n.length-1,text:t.text,inlineStyleRanges:t.inlineStyleRanges,entityRanges:t.entityRanges}):e.blocks.push(t),e},{blocks:[],blockOps:[]}),n=t.blocks,a=t.blockOps;return n.map(function(e,t){var n=a.filter(function(e){return e.index===t});return n.reduce(function(e,t){var n=r(e.text.length);return Object.assign({},e,{text:e.text+t.text,entityRanges:e.entityRanges.concat(t.entityRanges.map(n)),inlineStyleRanges:e.inlineStyleRanges.concat(t.inlineStyleRanges.map(n))})},e)})}function r(e){return function(t){return Object.assign({},t,{offset:t.offset+e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t){return e.map(function(e){return"text-fragment"===e.type?Object.assign({},e,{type:t}):e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return{type:e.type,text:e.text,depth:e.depth,data:e.data,inlineStyleRanges:e.inlineStyleRanges.map(r),entityRanges:e.entityRanges.map(a)}}function r(e){return Object.assign({},e)}function a(e){return Object.assign({},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),i=n(2),o=r(i),l=n(1),u=r(l),c=n(1505),d=r(c),p=u.default.createClass({displayName:"LiveReload",propTypes:{onChange:o.default.func.isRequired,revision:o.default.string,location:o.default.shape({pathname:o.default.string.isRequired}).isRequired},getInitialState:function(){return{revisionChanged:!1}},componentWillReceiveProps:function(e){this.props.location&&e.location&&e.location.pathname!==this.props.location.pathname&&this.emitChangeOnTransition()},render:function(){return u.default.createElement(d.default,(0,s.default)({},this.props,{onChange:this.trackRevisionChange}))},trackRevisionChange:function(e){var t=e.revision;this.props.revision&&t&&t!==this.props.revision&&this.setState({revisionChanged:!0})},emitChangeOnTransition:function(){this.state.revisionChanged&&this.props.onChange()}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3412);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(a).default}}),Object.defineProperty(t,"LiveReload",{enumerable:!0,get:function(){return r(a).default}});var s=n(1505);Object.defineProperty(t,"Heartbeat",{enumerable:!0,get:function(){return r(s).default}})},function(e,t,n){"use strict";var r=n(10),a=r.shape,s=r.string;e.exports=a({id:s,lockableId:s,lockableType:s,holderId:s,updatedAt:s})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(665),s=r(a),i=function(e,t){return function(n){var r=s.default.get({type:e,id:t});r&&n.setRequestHeader("X-Lock-Id",r.id)}};e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){(0,u.default)(e.hasOwnProperty("lockOptions"),"You must specify the request lock options!"),(0,u.default)("string"==typeof e.lockOptions.id,"You must specify the lockable resource id!"),(0,u.default)(!e.lockOptions.lastModifiedAt||e.lockOptions.lastModifiedAt instanceof Date,"A lockable resource's 'lastModifiedAt' must be a Date instance!");var t={type:e.lockOptions.type||v,id:e.lockOptions.id},n=f.default.get(t);return n&&(e.headers=Object.assign({},e.headers,{"X-Lock-Id":n.id})),s(e,t)}function s(e,t){return(0,o.default)(e).catch(function(n){if(423!==n.status)throw n;return d.default.acquire(t).then(function(){return a(e)},function(){throw n.lockHolder=(0,h.default)(n),n})})}var i=n(7),o=r(i),l=n(49),u=r(l),c=n(1506),d=r(c),p=n(665),f=r(p),m=n(1507),h=r(m),g=n(5),v=g.constants.LOCKABLE_COURSE_TEMPLATE;e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=(0,r.curry)(function(e,t){var n=t,r=[],a=function(e){return e.name===n.parent};do r.unshift(n);while(n&&(n=e.filter(a)[0]));return r}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3417);Object.defineProperty(t,"collectAncestors",{enumerable:!0,get:function(){return r(a).default}});var s=n(3420);Object.defineProperty(t,"scanRoutes",{enumerable:!0,get:function(){return r(s).default}});var i=n(1510);Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return r(i).default}});var o=n(3419);Object.defineProperty(t,"inferLayout",{enumerable:!0,get:function(){return r(o).default}});t.HANDLER_TYPE_REACT_ROUTER="react-router",t.HANDLER_TYPE_BRIDGE_ROUTER="bridge-router"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=(0,r.curry)(function e(t,n){if(n.layoutName)return n.layoutName;if(n.ember&&n.ember.parentPath){var r=n.ember.parentPath[0];switch(r){case"admin":case"author":case"approver":case"learner":case"support":return r}}return n.parent?e(t,t.filter(function(e){return e.name===n.parent})[0]):null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}/**
	 * @module
	 * @namespace Core
	 * @preserveOrder
	 *
	 * A scanner that traverses the screen-tree looking for route definitions and
	 * then maps those definitions to the Router.
	 *
	 * @see /doc/js/00-routing.md
	 */
function a(e,t){function n(e){return!(e.feature&&!r[e.feature])||(console.warn('Route "%s" will be disabled as the feature "%s" is disabled.',e.path,e.feature),!1)}var r=t.features,a=[],i=function(e){return function(){(0,u.default)(!1,"chipmunks are no longer supported. See "+e+".")}},l=function(t,n){a.push(Object.assign({},n,{handler:n.handler||v(e,n,t),loadOrder:n.hasOwnProperty("loadOrder")?n.loadOrder:100,path:"string"==typeof n.path?s(n.path):n.path}))};e.forEach(function(t){t.routeFiles.keys().forEach(function(n){var r=[].concat(t.routeFiles(n));r.filter(function(e){return!!e}).forEach(function(t){t instanceof Function?t(l.bind(null,n),i(n)):l(n,{name:t.name,path:"string"==typeof t.path?s(t.path):t.path,parent:t.parent,ember:t.ember,feature:t.feature,default:t.default,layoutName:t.layoutName,loadOrder:t.loadOrder,handler:t.handler||v(e,t,n)})})})});var c=a.map(function(e){return!e.name&&e.default?Object.assign({},e,{name:e.parent+"::default"}):e.name?e:Object.assign({},e,{name:e.path})}),f=c.reduce(function(e,t){return e[t.name]=t,e},{});c.filter(function(e){return!!e.parent}).forEach(function(e){var t=void 0;t=(0,g.default)(e.parent)?!!(0,o.default)(c,"path",e.parent):!!(0,o.default)(c,"name",e.parent),t||(0,d.default)(!1,'Unable to find parent route "'+e.parent+'" for route "'+e.name+'".')});var h={specs:c,nameMap:f},_=c.reduce(function(e,t){return e[t.name]=(0,m.default)(h,t),e},{}),y=c.filter(n),b=(0,p.sortBy)(y,"loadOrder");return{specs:b,nameMap:_}}function s(e){return"/"===e[0]?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(197),o=r(i),l=n(286),u=r(l),c=n(49),d=r(c),p=n(4),f=n(1510),m=r(f),h=n(1509),g=r(h),v=function(e,t,n){var r;if(e.some(function(e){var t=e.handlerFileNames.filter(function(e){return e.replace("index.js","route.js")===n})[0];return!!t&&(r={set:e,fileName:t},!0)}),!r)throw new Error("Unable to find a handler for route:"+JSON.stringify(t));return r.set.handlerFiles(r.fileName)};t.default=(0,p.curry)(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(286),o=r(i),l=n(49),u=r(l),c=n(667),d=n(532),p=n(1109),f=r(p),m=n(1512),h="popstate",g="hashchange",v=function(){try{return window.history.state||{}}catch(e){return{}}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(m.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,m.supportsHistory)(),r=!(0,m.supportsPopStateOnHashChange)(),i=e.forceRefresh,l=void 0!==i&&i,p=e.getUserConfirmation,_=void 0===p?m.getConfirmation:p,y=e.keyLength,b=void 0===y?6:y,E=e.basename?(0,d.stripTrailingSlash)((0,d.addLeadingSlash)(e.basename)):"",C=function(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname,o=a.search,l=a.hash,u=i+o+l;return E&&(u=(0,d.stripPrefix)(u,E)),s({},(0,d.parsePath)(u),{state:r,key:n})},I=function(){return Math.random().toString(36).substr(2,b)},T=(0,f.default)(),N=function(e){s(W,e),W.length=t.length,T.notifyListeners(W.location,W.action)},S=function(e){(0,m.isExtraneousPopstateEvent)(e)||k(C(e.state))},x=function(){k(C(v()))},A=!1,k=function(e){if(A)A=!1,N();else{var t="POP";T.confirmTransitionTo(e,t,_,function(n){n?N({action:t,location:e}):w(e)})}},w=function(e){var t=W.location,n=O.indexOf(t.key);n===-1&&(n=0);var r=O.indexOf(e.key);r===-1&&(r=0);var a=n-r;a&&(A=!0,D(a))},R=C(v()),O=[R.key],P=function(e){return E+(0,d.createPath)(e)},L=function(e,r){(0,o.default)(!("object"===("undefined"==typeof e?"undefined":a(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var s="PUSH",i=(0,c.createLocation)(e,r,I(),W.location);T.confirmTransitionTo(i,s,_,function(e){if(e){var r=P(i),a=i.key,u=i.state;if(n)if(t.pushState({key:a,state:u},null,r),l)window.location.href=r;else{var c=O.indexOf(W.location.key),d=O.slice(0,c===-1?0:c+1);d.push(i.key),O=d,N({action:s,location:i})}else(0,o.default)(void 0===u,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},M=function(e,r){(0,o.default)(!("object"===("undefined"==typeof e?"undefined":a(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var s="REPLACE",i=(0,c.createLocation)(e,r,I(),W.location);T.confirmTransitionTo(i,s,_,function(e){if(e){var r=P(i),a=i.key,u=i.state;if(n)if(t.replaceState({key:a,state:u},null,r),l)window.location.replace(r);else{var c=O.indexOf(W.location.key);c!==-1&&(O[c]=i.key),N({action:s,location:i})}else(0,o.default)(void 0===u,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},D=function(e){t.go(e)},U=function(){return D(-1)},F=function(){return D(1)},q=0,B=function(e){q+=e,1===q?((0,m.addEventListener)(window,h,S),r&&(0,m.addEventListener)(window,g,x)):0===q&&((0,m.removeEventListener)(window,h,S),r&&(0,m.removeEventListener)(window,g,x))},j=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=T.setPrompt(e);return j||(B(1),j=!0),function(){return j&&(j=!1,B(-1)),t()}},G=function(e){var t=T.appendListener(e);return B(1),function(){B(-1),t()}},W={length:t.length,action:"POP",location:R,createHref:P,push:L,replace:M,go:D,goBack:U,goForward:F,block:H,listen:G};return W};t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(286),i=r(s),o=n(49),l=r(o),u=n(667),c=n(532),d=n(1109),p=r(d),f=n(1512),m="hashchange",h={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,c.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:c.stripLeadingSlash,decodePath:c.addLeadingSlash},slash:{encodePath:c.addLeadingSlash,decodePath:c.addLeadingSlash}},g=function(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)},v=function(e){return window.location.hash=e},_=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(f.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,f.supportsGoWithoutReloadUsingHash)(),r=e.getUserConfirmation,s=void 0===r?f.getConfirmation:r,o=e.hashType,d=void 0===o?"slash":o,y=e.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(e.basename)):"",b=h[d],E=b.encodePath,C=b.decodePath,I=function(){var e=C(g());return y&&(e=(0,c.stripPrefix)(e,y)),(0,c.parsePath)(e)},T=(0,p.default)(),N=function(e){a(Y,e),Y.length=t.length,T.notifyListeners(Y.location,Y.action)},S=!1,x=null,A=function(){var e=g(),t=E(e);if(e!==t)_(t);else{var n=I(),r=Y.location;if(!S&&(0,u.locationsAreEqual)(r,n))return;if(x===(0,c.createPath)(n))return;x=null,k(n)}},k=function(e){if(S)S=!1,N();else{var t="POP";T.confirmTransitionTo(e,t,s,function(n){n?N({action:t,location:e}):w(e)})}},w=function(e){var t=Y.location,n=L.lastIndexOf((0,c.createPath)(t));n===-1&&(n=0);var r=L.lastIndexOf((0,c.createPath)(e));r===-1&&(r=0);var a=n-r;a&&(S=!0,F(a))},R=g(),O=E(R);R!==O&&_(O);var P=I(),L=[(0,c.createPath)(P)],M=function(e){return"#"+E(y+(0,c.createPath)(e))},D=function(e,t){(0,i.default)(void 0===t,"Hash history cannot push state; it is ignored");var n="PUSH",r=(0,u.createLocation)(e,void 0,void 0,Y.location);T.confirmTransitionTo(r,n,s,function(e){if(e){var t=(0,c.createPath)(r),a=E(y+t),s=g()!==a;if(s){x=t,v(a);var o=L.lastIndexOf((0,c.createPath)(Y.location)),l=L.slice(0,o===-1?0:o+1);l.push(t),L=l,N({action:n,location:r})}else(0,i.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),N()}})},U=function(e,t){(0,i.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n="REPLACE",r=(0,u.createLocation)(e,void 0,void 0,Y.location);T.confirmTransitionTo(r,n,s,function(e){if(e){var t=(0,c.createPath)(r),a=E(y+t),s=g()!==a;s&&(x=t,_(a));var i=L.indexOf((0,c.createPath)(Y.location));i!==-1&&(L[i]=t),N({action:n,location:r})}})},F=function(e){(0,i.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},q=function(){return F(-1)},B=function(){return F(1)},j=0,H=function(e){j+=e,1===j?(0,f.addEventListener)(window,m,A):0===j&&(0,f.removeEventListener)(window,m,A)},G=!1,W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=T.setPrompt(e);return G||(H(1),G=!0),function(){return G&&(G=!1,H(-1)),t()}},V=function(e){var t=T.appendListener(e);return H(1),function(){H(-1),t()}},Y={length:t.length,action:"POP",location:P,createHref:M,push:D,replace:U,go:F,goBack:q,goForward:B,block:W,listen:V};return Y};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(286),o=r(i),l=n(532),u=n(667),c=n(1109),d=r(c),p=function(e,t,n){return Math.min(Math.max(e,t),n)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,i=e.initialIndex,c=void 0===i?0:i,f=e.keyLength,m=void 0===f?6:f,h=(0,d.default)(),g=function(e){s(k,e),k.length=k.entries.length,h.notifyListeners(k.location,k.action)},v=function(){return Math.random().toString(36).substr(2,m)},_=p(c,0,r.length-1),y=r.map(function(e){return"string"==typeof e?(0,u.createLocation)(e,void 0,v()):(0,u.createLocation)(e,void 0,e.key||v())}),b=l.createPath,E=function(e,n){(0,o.default)(!("object"===("undefined"==typeof e?"undefined":a(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r="PUSH",s=(0,u.createLocation)(e,n,v(),k.location);h.confirmTransitionTo(s,r,t,function(e){if(e){var t=k.index,n=t+1,a=k.entries.slice(0);a.length>n?a.splice(n,a.length-n,s):a.push(s),g({action:r,location:s,index:n,entries:a})}})},C=function(e,n){(0,o.default)(!("object"===("undefined"==typeof e?"undefined":a(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r="REPLACE",s=(0,u.createLocation)(e,n,v(),k.location);h.confirmTransitionTo(s,r,t,function(e){e&&(k.entries[k.index]=s,g({action:r,location:s}))})},I=function(e){var n=p(k.index+e,0,k.entries.length-1),r="POP",a=k.entries[n];h.confirmTransitionTo(a,r,t,function(e){e?g({action:r,location:a,index:n}):g()})},T=function(){return I(-1)},N=function(){return I(1)},S=function(e){var t=k.index+e;return t>=0&&t<k.entries.length},x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.setPrompt(e)},A=function(e){return h.appendListener(e)},k={length:y.length,action:"POP",location:y[_],index:_,entries:y,createHref:b,push:E,replace:C,go:I,goBack:T,goForward:N,canGo:S,block:x,listen:A};return k};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createPath=t.parsePath=t.locationsAreEqual=t.createLocation=t.createMemoryHistory=t.createHashHistory=t.createBrowserHistory=void 0;var a=n(667);Object.defineProperty(t,"createLocation",{enumerable:!0,get:function(){return a.createLocation}}),Object.defineProperty(t,"locationsAreEqual",{enumerable:!0,get:function(){return a.locationsAreEqual}});var s=n(532);Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return s.parsePath}}),Object.defineProperty(t,"createPath",{enumerable:!0,get:function(){return s.createPath}});var i=n(3421),o=r(i),l=n(3422),u=r(l),c=n(3423),d=r(c);t.createBrowserHistory=o.default,t.createHashHistory=u.default,t.createMemoryHistory=d.default},,,,,,function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,function(e,t){e.exports={en:{date:{formats:{default:"%Y-%m-%d",short:"%b %d",long:"%B %d, %Y",medium:"%b %e, %Y"},day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],order:["year","month","day"]},time:{formats:{default:"%a, %d %b %Y %H:%M:%S %z",short:"%d %b %H:%M",long:"%B %d, %Y %H:%M",clock:"%I:%M %p",long_date:"%A, %e %B %Y",date_and_time:"%b %e, %Y %l:%M %p",date_and_time_with_zone:"%b %e, %Y %l:%M %p %Z"},am:"am",pm:"pm"},support:{array:{words_connector:", ",two_words_connector:" and ",last_word_connector:", and "}},number:{format:{separator:".",delimiter:",",precision:3,significant:!1,strip_insignificant_zeros:!1},currency:{format:{format:"%u%n",unit:"$",separator:".",delimiter:",",precision:2,significant:!1,strip_insignificant_zeros:!1}},percentage:{format:{delimiter:"",format:"%n%"}},precision:{format:{delimiter:""}},human:{format:{delimiter:"",precision:3,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{byte:{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB",tb:"TB"}},decimal_units:{format:"%n %u",units:{unit:"",thousand:"Thousand",million:"Million",billion:"Billion",trillion:"Trillion",quadrillion:"Quadrillion"}}}},errors:{format:"%{attribute} %{message}",messages:{inclusion:"is not included in the list",exclusion:"is reserved",invalid:"is invalid",confirmation:"doesn't match %{attribute}",accepted:"must be accepted",empty:"can't be empty",blank:"can't be blank",present:"must be blank",too_long:{one:"is too long (maximum is 1 character)",other:"is too long (maximum is %{count} characters)"},too_short:{one:"is too short (minimum is 1 character)",other:"is too short (minimum is %{count} characters)"},wrong_length:{one:"is the wrong length (should be 1 character)",other:"is the wrong length (should be %{count} characters)"},not_a_number:"is not a number",not_an_integer:"must be an integer",greater_than:"must be greater than %{count}",greater_than_or_equal_to:"must be greater than or equal to %{count}",equal_to:"must be equal to %{count}",less_than:"must be less than %{count}",less_than_or_equal_to:"must be less than or equal to %{count}",other_than:"must be other than %{count}",odd:"must be odd",even:"must be even",taken:"has already been taken"}},activerecord:{errors:{messages:{record_invalid:"Validation failed: %{errors}",restrict_dependent_destroy:{one:"Cannot delete record because a dependent %{record} exists",many:"Cannot delete record because dependent %{record} exist"}}}},datetime:{distance_in_words:{half_a_minute:"half a minute",less_than_x_seconds:{one:"less than 1 second",other:"less than %{count} seconds"},x_seconds:{one:"1 second",other:"%{count} seconds"},less_than_x_minutes:{one:"less than a minute",other:"less than %{count} minutes"},x_minutes:{one:"1 minute",other:"%{count} minutes"},about_x_hours:{one:"about 1 hour",other:"about %{count} hours"},x_days:{one:"1 day",other:"%{count} days"},about_x_months:{one:"about 1 month",other:"about %{count} months"},x_months:{one:"1 month",other:"%{count} months"},about_x_years:{one:"about 1 year",other:"about %{count} years"},over_x_years:{one:"over 1 year",other:"over %{count} years"},almost_x_years:{one:"almost 1 year",other:"almost %{count} years"}},prompts:{year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",second:"Seconds"}},helpers:{select:{prompt:"Please select"},submit:{create:"Create %{model}",update:"Update %{model}",submit:"Save %{model}"}},flash:{actions:{create:{notice:"%{resource_name} was successfully created."},update:{notice:"%{resource_name} was successfully updated."},destroy:{notice:"%{resource_name} was successfully destroyed.",alert:"%{resource_name} could not be destroyed."}}},locales:{en:"English (US)"}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}function n(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function r(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function o(e,t){return e=e.source,t=t||"",function n(r,a){return r?(a=a.source||a,a=a.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,a),n):new RegExp(e,t)}}function l(){}function u(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(e,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=u({},c.defaults,n||{});var i,o,l=n.highlight,d=0;try{i=t.lex(e,n)}catch(e){return r(e)}o=i.length;var p=function(e){if(e)return n.highlight=l,r(e);var t;try{t=a.parse(i,n)}catch(t){e=t}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return p();if(delete n.highlight,!o)return p();for(;d<i.length;d++)!function(e){return"code"!==e.type?--o||p():l(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--o||p():(e.text=n,e.escaped=!0,void(--o||p()))})}(i[d])}else try{return n&&(n=u({},c.defaults,n)),a.parse(t.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=o(d.item,"gm")(/bull/g,d.bullet)(),d.list=o(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=o(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=o(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=o(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=u({},d),d.gfm=u({},d.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),d.gfm.paragraph=o(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=u({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=d,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){for(var r,a,s,i,o,l,u,c,p,e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(t&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,t,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),i=s[2],this.tokens.push({type:"list_start",ordered:i.length>1}),s=s[0].match(this.rules.item),r=!1,p=s.length,c=0;c<p;c++)l=s[c],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(o=d.bullet.exec(s[c+1])[0],i===o||i.length>1&&o.length>1||(e=s.slice(c+1).join("\n")+e,c=p-1)),a=r||/\n\n(?!\s*$)/.test(l),c!==p-1&&(r="\n"===l.charAt(l.length-1),a||(a=r)),this.tokens.push({type:a?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!n&&t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(t&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=o(p.link)("inside",p._inside)("href",p._href)(),p.reflink=o(p.reflink)("inside",p._inside)(),p.normal=u({},p),p.pedantic=u({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=u({},p.normal,{escape:o(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=u({},p.gfm,{br:o(p.br)("{2,}","*")(),text:o(p.gfm.text)("{2,}","*")()}),n.rules=p,n.output=function(e,t,r){var a=new n(t,r);return a.output(e)},n.prototype.output=function(e){for(var t,n,r,a,i="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),i+=a[1];else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),"@"===a[2]?(n=":"===a[1].charAt(6)?this.mangle(a[1].substring(7)):this.mangle(a[1]),r=this.mangle("mailto:")+n):(n=s(a[1]),r=n),i+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),e=e.substring(a[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):s(a[0]):a[0];else if(a=this.rules.link.exec(e))e=e.substring(a[0].length),this.inLink=!0,i+=this.outputLink(a,{href:a[2],title:a[3]}),this.inLink=!1;else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){i+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,i+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),i+=this.renderer.strong(this.output(a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),i+=this.renderer.em(this.output(a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),i+=this.renderer.codespan(s(a[2],!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),i+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),i+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),i+=this.renderer.text(s(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(a[0].length),n=s(a[1]),r=n,i+=this.renderer.link(r,null,n);return i},n.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,a=0;a<r;a++)t=e.charCodeAt(a),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+n+"</a>"},r.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},a.parse=function(e,t,n){var r=new a(t,n);return r.parse(e)},a.prototype.parse=function(e){this.inline=new n(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,a,s="",i="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(s+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",a=0;a<t.length;a++)n+=this.renderer.tablecell(this.inline.output(t[a]),{header:!1,align:this.token.align[a]});i+=this.renderer.tablerow(n)}return this.renderer.table(s,i);case"blockquote_start":for(var i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);
case"list_start":for(var i="",o=this.token.ordered;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,o);case"list_item_start":for(var i="";"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(var i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},c.Parser=a,c.parser=a.parse,c.Renderer=r,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=n,c.inlineLexer=n.output,c.parse=c,e.exports=c}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,function(){return this}())},,function(e,t,n){/*! Moment Duration Format v1.3.0
	 *  https://github.com/jsmreese/moment-duration-format 
	 *  Date: 2014-07-15
	 *
	 *  Duration format plugin function for the Moment.js library
	 *  http://momentjs.com/
	 *
	 *  Copyright 2014 John Madhavan-Reese
	 *  Released under the MIT license
	 */
!function(e,t){function r(e){var t="";if(e=parseInt(e,10),!e||e<1)return t;for(;e;)t+="0",e-=1;return t}function a(e,t,n){return null==e&&(e=""),e=""+e,(n?e:"")+r(t-e.length)+(n?"":e)}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function l(e,t){var n,r=0,a=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<a;){if(t(e[r]))return e[r];r+=1}}function u(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(t(e[n],n)===!1)return;n+=1}}function c(e,t){var n=0,r=e.length,a=[];if(!e||!r)return a;for(;n<r;)a[n]=t(e[n],n),n+=1;return a}function d(e,t){return c(e,function(e){return e[t]})}function p(e){var t=[];return u(e,function(e){e&&t.push(e)}),t}function f(e){var t=[];return u(e,function(e){l(t,e)||t.push(e)}),t}function m(e,t){var n=[];return u(e,function(e){u(t,function(t){e===t&&n.push(e)})}),f(n)}function h(e,t){var n=[];return u(e,function(r,a){if(!t(r))return n=e.slice(a),!1}),n}function g(e,t){var n=e.slice().reverse();return h(n,t).reverse()}function v(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var _;try{_=n(11)}catch(e){}if(!_&&e.moment&&(_=e.moment),!_)throw"Moment Duration Format cannot find Moment.js";_.duration.fn.format=function(){var e,t,n,o,y,b,E=[].slice.call(arguments),C=v({},this.format.defaults),I=_.duration(this);return C.duration=this,u(E,function(e){return"string"==typeof e||"function"==typeof e?void(C.template=e):"number"==typeof e?void(C.precision=e):void(i(e)&&v(C,e))}),n=C.types=s(C.types)?C.types:C.types.split(" "),"function"==typeof C.template&&(C.template=C.template.apply(C)),e=new RegExp(c(n,function(e){return C[e].source}).join("|"),"g"),o=function(e){return l(n,function(t){return C[t].test(e)})},t=c(C.template.match(e),function(e,t){var n=o(e),r=e.length;return{index:t,length:r,token:"escape"===n?e.replace(C.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}},this),y=m(n,f(p(d(t,"type")))),y.length?(u(y,function(e,n){var r,a,s,i,o;r=I.as(e),a=r>0?Math.floor(r):Math.ceil(r),s=r-a,i=n+1===y.length,o=!n,u(t,function(t){t.type===e&&(v(t,{value:r,wholeValue:a,decimalValue:s,isLeast:i,isMost:o}),o&&null==C.forceLength&&t.length>1&&(C.forceLength=!0))}),I.subtract(a,e)}),C.trim&&(t=("left"===C.trim?h:g)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),b=!1,"right"===C.trim&&t.reverse(),t=c(t,function(e){var t,n;if(!e.type)return e.token;if(t=e.isLeast&&C.precision<0?(Math.floor(e.wholeValue*Math.pow(10,C.precision))*Math.pow(10,-C.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(b||e.isMost||C.forceLength)&&(t=a(t,e.length)),e.isLeast&&C.precision>0)switch(n=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),n.length){case 1:t+="."+a(n[0],C.precision,!0).slice(0,C.precision);break;case 2:t+="."+a(n[1],C.precision,!0).slice(0,C.precision);break;case 3:t+="."+a(r(+n[2]-1)+(n[0]||"0")+n[1],C.precision,!0).slice(0,C.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),b=!0,t}),"right"===C.trim&&t.reverse(),t.join("")):d(t,"token").join("")},_.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,n=o(e,function(e){return t._data[e]});switch(n){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e&&e.split("/")||[],s=t&&t.split("/")||[],i=e&&n(e),o=t&&n(t),l=i||o;if(e&&n(e)?s=a:a.length&&(s.pop(),s=s.concat(a)),!s.length)return"/";var u=void 0;if(s.length){var c=s[s.length-1];u="."===c||".."===c||""===c}else u=!1;for(var d=0,p=s.length;p>=0;p--){var f=s[p];"."===f?r(s,p):".."===f?(r(s,p),d++):d&&(r(s,p),d--)}if(!l)for(;d--;d)s.unshift("..");!l||""===s[0]||s[0]&&n(s[0])||s.unshift("");var m=s.join("/");return u&&"/"!==m.substr(-1)&&(m+="/"),m}t.__esModule=!0,t.default=a,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every(function(t,n){return e(t,r[n])});var a="undefined"==typeof t?"undefined":n(t),s="undefined"==typeof r?"undefined":n(r);if(a!==s)return!1;if("object"===a){var i=t.valueOf(),o=r.valueOf();if(i!==t||o!==r)return e(i,o);var l=Object.keys(t),u=Object.keys(r);return l.length===u.length&&l.every(function(n){return e(t[n],r[n])})}return!1};t.default=r},,,,,,,,,,,,,,function(e,t,n){function r(e){return n(a(e))}function a(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./bridge-cce/src/route.js":3402};r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=3737}]);
//# sourceMappingURL=application.js.map